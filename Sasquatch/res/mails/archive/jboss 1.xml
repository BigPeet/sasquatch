<?xml version="1.0" encoding="UTF-8"?>
<mails>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the aggregate:  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/pom.xml pom.xml. 2. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/base.target base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target 2. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. JBoss Central Discovery Updates *Goal:* Modify the JBoss Central mylyn discovery install/update mechanism. JBoss Central, based on  http://wiki.eclipse.org/Mylyn/Discovery Mylyn Discovery, is in part a UI for installing new features into Eclipse or JBDS. It provider a richer, yet simpler UI than what Eclipse's p2 Install Manager provides out of the box. For detailed information see  https://community.jboss.org/docs/DOC-48297 https://community.jboss.org/wiki/JBossCentralsSoftwareUpdateTab-HowDoesItWork 1. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/discovery 2. Follow the same git process as defined in the Components Updates section. 3. Modify the discovery connectors as needed within the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/discovery/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml discovery plugin. 4. Add any icons that may be required. h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *discovery* - provides JBoss Central discovery support * *Jenkins* - * *target platform* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform * *aggregate* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate * *aggregate publish/promote* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish * *discovery* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery * *install tests* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform. h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 5).  This should serve as an early warning system to identify platform incompatibilities early in the process.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the aggregate:  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/pom.xml pom.xml. 2. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/base.target base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target 2. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. JBoss Central Discovery Updates *Goal:* Modify the JBoss Central mylyn discovery install/update mechanism. JBoss Central, based on  http://wiki.eclipse.org/Mylyn/Discovery Mylyn Discovery, is in part a UI for installing new features into Eclipse or JBDS. It provides a richer, yet simpler UI than what Eclipse's p2 Install Manager provides out of the box. For detailed information see  https://community.jboss.org/docs/DOC-48297 https://community.jboss.org/wiki/JBossCentralsSoftwareUpdateTab-HowDoesItWork 1. For changes to the discovery update:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/discovery 2. Follow the same git process as defined in the Components Updates section. 3. Modify the discovery connector descriptors and installation units as needed within the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/discovery/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml discovery plugin. 4. Add any icons that may be required. h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *discovery* - provides JBoss Central discovery support * *Jenkins* - * *target platform* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform * *aggregate* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate * *aggregate publish/promote* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish * *discovery* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery * *install tests* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform. h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 5).  This should serve as an early warning system to identify platform incompatibilities early in the process.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the aggregate:  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/pom.xml pom.xml. 2. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/base.target base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target 2. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. JBoss Central Discovery Updates *Goal:* Modify the JBoss Central mylyn discovery install/update mechanism. JBoss Central, based on  http://wiki.eclipse.org/Mylyn/Discovery Mylyn Discovery, is in part a UI for installing new features into Eclipse or JBDS. It provides a richer, yet simpler UI than what Eclipse's p2 Install Manager provides out of the box. For detailed information see  https://community.jboss.org/docs/DOC-48297 https://community.jboss.org/wiki/JBossCentralsSoftwareUpdateTab-HowDoesItWork 1. For changes to the discovery update:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/discovery 2. Follow the same git process as defined in the Components Updates section. 3. Modify the discovery connector descriptors and installation units as needed within the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/discovery/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml discovery plugin. 4. Add any icons that may be required. h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *discovery* - provides JBoss Central discovery support * *Jenkins* - * *target platform* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform * *aggregate* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate * *aggregate publish/promote* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish * *discovery* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery * *install tests* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform. h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 4.1).  This should serve as an early warning system to identify platform incompatibilities early in the process.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration	Tooling Release Process</header>
    <body>I fixed the Kepler/JBT 5 to Kepler/JBT 4.1. About major version bump then I just want to point out Indigo-&gt;Juno is Eclipse 3.3 to 4.2, where as Juno-&gt;Kepler is 4.2 to 4.3 so its two different kind of jumps. In JBT we bumped major version of JBoss tools because Eclipse bumped major versions and changed hard.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration	Tooling Release Process</header>
    <body>How does one perform a build w/ mvn and point it at your TP definition? I'm assuming it'll be something like mvn clean install -Psomeprofile or mvn clean install -Dsomeproperty=somevalue ... Reason I'm asking is that ESB needs Zest, and having it on the aggregate site won't make it BUILD, only make it INSTALL. It needs to be on an update site from which the build can resolve it first. Where is your target platform UPDATE SITE? Or how do I tell the build to use your .target file?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Multiple instances of JBoss AS7 on the same machine</header>
    <body>I think I don't quite understand approach #2: I cloned my existing JBoss AS installation directory and kept everything as it was, except for the file system paths and the port-offset parameter of the socket-binding-group. But when I try to start the second instance, the console output is "ERROR: transport error 202: bind failed: The address is already in use". Is there a part of approach #1 that I need to include in following approach #2? The reason I went with approach #2 to begin with is that I want both instances to be reachable from the Internet, so I figured I'd have to bind them both to &lt;any-address&gt;. Or to the host's external IP address? Or am I completely missing something here?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - How To Build JBoss Tools Target Platforms</header>
    <body>Here's the current (as of 2013-02-15) process for creating a new target platform: *  https://github.com/jbosstools/jbosstools-target-platforms/wiki https://github.com/jbosstools/jbosstools-target-platforms/wiki</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - What is the best way to work with sessions and processes while using persistance</header>
    <body>Hi, Actually, i m a newbie in jbpm so please comment/criticize any wrong thing u think i m doing. In order to work on processes with human tasks nodes and use persistance, i had the choice between creating a session for each process or to create a session for many processes in the same time. i choosed the first solution as i can free the memory by disposing the session(with ksession.dipose()) before creating another one and reload it with the JPAKnowledgeService.loadStatefulKnowledgeSession(idsession,kbase, config, env);  method when i need it again. if i was working with the second solution, i create a session and i start  processes with ksession.startProcess(..) but i don't know how to stop/pause those process instances in order to free memory ( i m working with jbpm 5.0.0) .. Another problem happened is that processes in loaded session (in the first solution) seems being not actives (i coudn't get tasks from loaded sessions) and i think maybe becose the session was disposed .. (it was my topic for my previous asked question in here https://community.jboss.org/thread/221356?tstart=0 i also want to know if there is a way to get the persisted sessions list from database without implementing my own logic to do that , i think jbpm already have this logic. cheers !</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the aggregate:  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/pom.xml pom.xml. 2. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/base.target base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target 2. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. JBoss Central Discovery Updates *Goal:* Modify the JBoss Central mylyn discovery install/update mechanism. JBoss Central, based on  http://wiki.eclipse.org/Mylyn/Discovery Mylyn Discovery, is in part a UI for installing new features into Eclipse or JBDS. It provides a richer, yet simpler UI than what Eclipse's p2 Install Manager provides out of the box. For detailed information see  https://community.jboss.org/docs/DOC-48297 https://community.jboss.org/wiki/JBossCentralsSoftwareUpdateTab-HowDoesItWork 1. For changes to the discovery update:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/discovery 2. Follow the same git process as defined in the Components Updates section. 3. Modify the discovery connector descriptors and installation units as needed within the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/discovery/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml discovery plugin. 4. Add any icons that may be required. h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *discovery* - provides JBoss Central discovery support * *Jenkins* - * *target platform* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform * *aggregate* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate * *aggregate publish/promote* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish * *discovery* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery * *install tests* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform.  For more information and an example on how to refer to the target platform definition, see:  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/README.md https://github.com/jbosstools/jbosstools-integration-stack/blob/master/README.md h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 4.1).  This should serve as an early warning system to identify platform incompatibilities early in the process.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration	Tooling Release Process</header>
    <body>Added a link to discuss TP definition resolution to the IS git README.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - org.jbpm.workflow.instance.WorkflowRuntimeException: -- Illegal method call. This session was previously disposed.</header>
    <body>Hi, i ve a simple java class with a main which i m using such as a test case. All what i want to achieve is to get user task's from a loaded session which was previousely started and disposed. i ve already seen questions asked about this issue(here: https://community.jboss.org/thread/201901 https://community.jboss.org/thread/201901) but still didn't find a solution for it anywhere. it s said that the session is disposed before transaction is completed which cause the mentioned error. and that the dispose must happen after transaction completion but i don't know what are transaction boundaries and how to know when it is completed. this is the class with the main : ************************************************************************************************************************* ************************************************************************************************************************* and this is the log : log4j:WARN No appenders could be found for logger (bitronix.tm.resource.jdbc.PoolingDataSource). log4j:WARN Please initialize the log4j system properly. log4j:WARN See  http://logging.apache.org/log4j/1.2/faq.html#noconfig http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info. &gt;&gt;&gt; Let's create a Persistent Knowledge Session Hibernate: insert into SessionInfo (id, lastModificationDate, rulesByteArray, startDate, OPTLOCK) values (null, ?, ?, ?, ?) Hibernate: select task0_.id as col_0_0_, deadline1_.id as col_1_0_, deadline1_.deadline_date as col_2_0_ from Task task0_, Deadline deadline1_ where task0_.archived=0 and (deadline1_.id in (select startdeadl2_.id from Deadline startdeadl2_ where task0_.id=startdeadl2_.Deadlines_StartDeadLine_Id) or deadline1_.id in (select enddeadlin3_.id from Deadline enddeadlin3_ where task0_.id=enddeadlin3_.Deadlines_EndDeadLine_Id)) and deadline1_.escalated=0 order by deadline1_.deadline_date Hibernate: select user0_.id as id8_0_ from OrganizationalEntity user0_ where user0_.id=? and user0_.DTYPE='User' Hibernate: insert into OrganizationalEntity (DTYPE, id) values ('User', ?) Hibernate: select user0_.id as id8_0_ from OrganizationalEntity user0_ where user0_.id=? and user0_.DTYPE='User' Hibernate: insert into OrganizationalEntity (DTYPE, id) values ('User', ?) Hibernate: insert into ProcessInstanceInfo (InstanceId, OPTLOCK, processId, startDate, lastReadDate, lastModificationDate, state, processInstanceByteArray) values (null, ?, ?, ?, ?, ?, ?, ?) Hibernate: update SessionInfo set lastModificationDate=?, rulesByteArray=?, startDate=?, OPTLOCK=? where id=? and OPTLOCK=? Hibernate: update ProcessInstanceInfo set OPTLOCK=?, processId=?, startDate=?, lastReadDate=?, lastModificationDate=?, state=?, processInstanceByteArray=? where InstanceId=? and OPTLOCK=? Hibernate: select processins0_.InstanceId as InstanceId0_0_, processins0_.OPTLOCK as OPTLOCK0_0_, processins0_.processId as processId0_0_, processins0_.startDate as startDate0_0_, processins0_.lastReadDate as lastRead5_0_0_, processins0_.lastModificationDate as lastModi6_0_0_, processins0_.state as state0_0_, processins0_.processInstanceByteArray as processI8_0_0_ from ProcessInstanceInfo processins0_ where processins0_.InstanceId=? Hibernate: insert into WorkItemInfo (workItemId, creationDate, name, processInstanceId, state, OPTLOCK, workItemByteArray) values (null, ?, ?, ?, ?, ?, ?) Hibernate: select user_.id from OrganizationalEntity user_ where user_.id=? Hibernate: insert into Task (id, archived, allowedToDelegate, taskInitiator_id, priority, activationTime, actualOwner_id, completedOn, createdBy_id, createdOn, documentAccessType, documentContentId, documentType, expirationTime, faultAccessType, faultContentId, faultName, faultType, outputAccessType, outputContentId, outputType, parentId, previousStatus, processId, processInstanceId, processSessionId, skipable, status, workItemId, OPTLOCK) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) Hibernate: insert into I18NText (id, language, shortText, text) values (null, ?, ?, ?) Hibernate: insert into I18NText (id, language, shortText, text) values (null, ?, ?, ?) Hibernate: insert into Content (id, content) values (null, ?) Hibernate: update SessionInfo set lastModificationDate=?, rulesByteArray=?, startDate=?, OPTLOCK=? where id=? and OPTLOCK=? Hibernate: select eventtypes0_.InstanceId as InstanceId0_, eventtypes0_.element as element0_ from EventTypes eventtypes0_ where eventtypes0_.InstanceId=? Hibernate: update ProcessInstanceInfo set OPTLOCK=?, processId=?, startDate=?, lastReadDate=?, lastModificationDate=?, state=?, processInstanceByteArray=? where InstanceId=? and OPTLOCK=? Hibernate: update WorkItemInfo set creationDate=?, name=?, processInstanceId=?, state=?, OPTLOCK=?, workItemByteArray=? where workItemId=? and OPTLOCK=? Hibernate: update Task set archived=?, allowedToDelegate=?, taskInitiator_id=?, priority=?, activationTime=?, actualOwner_id=?, completedOn=?, createdBy_id=?, createdOn=?, documentAccessType=?, documentContentId=?, documentType=?, expirationTime=?, faultAccessType=?, faultContentId=?, faultName=?, faultType=?, outputAccessType=?, outputContentId=?, outputType=?, parentId=?, previousStatus=?, processId=?, processInstanceId=?, processSessionId=?, skipable=?, status=?, workItemId=?, OPTLOCK=? where id=? and OPTLOCK=? Hibernate: update I18NText set Task_Descriptions_Id=? where id=? Hibernate: insert into PeopleAssignments_BAs (task_id, entity_id) values (?, ?) Exception in thread "main" Hibernate: insert into PeopleAssignments_PotOwners (task_id, entity_id) values (?, ?) Hibernate: update I18NText set Task_Subjects_Id=? where id=? &gt;&gt;&gt; Looking for Salaboy's Tasks Hibernate: select task0_.id as col_0_0_, task0_.processInstanceId as col_1_0_, names5_.text as col_2_0_, subjects3_.text as col_3_0_, descriptio4_.text as col_4_0_, task0_.status as col_5_0_, task0_.priority as col_6_0_, task0_.skipable as col_7_0_, user2_.id as col_8_0_, user1_.id as col_9_0_, task0_.createdOn as col_10_0_, task0_.activationTime as col_11_0_, task0_.expirationTime as col_12_0_, task0_.processId as col_13_0_, task0_.processSessionId as col_14_0_ from Task task0_ left outer join OrganizationalEntity user1_ on task0_.createdBy_id=user1_.id left outer join OrganizationalEntity user2_ on task0_.actualOwner_id=user2_.id left outer join I18NText subjects3_ on task0_.id=subjects3_.Task_Subjects_Id left outer join I18NText descriptio4_ on task0_.id=descriptio4_.Task_Descriptions_Id left outer join I18NText names5_ on task0_.id=names5_.Task_Names_Id, OrganizationalEntity organizati6_ where task0_.archived=0 and (organizati6_.id=? or organizati6_.id in (?)) and (organizati6_.id in (select potentialo7_.entity_id from PeopleAssignments_PotOwners potentialo7_ where task0_.id=potentialo7_.task_id)) and (names5_.language=? or (select count(names8_.Task_Names_Id) from I18NText names8_ where task0_.id=names8_.Task_Names_Id)=0) and (subjects3_.language=? or (select count(subjects9_.Task_Subjects_Id) from I18NText subjects9_ where task0_.id=subjects9_.Task_Subjects_Id)=0) and (descriptio4_.language=? or (select count(descriptio10_.Task_Descriptions_Id) from I18NText descriptio10_ where task0_.id=descriptio10_.Task_Descriptions_Id)=0) and (task0_.status in ('Created' , 'Ready' , 'Reserved' , 'InProgress' , 'Suspended')) and (task0_.expirationTime is null) Hibernate: select user0_.id as id8_0_ from OrganizationalEntity user0_ where user0_.id=? and user0_.DTYPE='User' salaboysTasks.size() : 1 &gt;&gt;&gt; Starting Salaboy's Task Hibernate: update Task set archived=?, allowedToDelegate=?, taskInitiator_id=?, priority=?, activationTime=?, actualOwner_id=?, completedOn=?, createdBy_id=?, createdOn=?, documentAccessType=?, documentContentId=?, documentType=?, expirationTime=?, faultAccessType=?, faultContentId=?, faultName=?, faultType=?, outputAccessType=?, outputContentId=?, outputType=?, parentId=?, previousStatus=?, processId=?, processInstanceId=?, processSessionId=?, skipable=?, status=?, workItemId=?, OPTLOCK=? where id=? and OPTLOCK=? &gt;&gt;&gt; Completing Salaboy's Task Hibernate: update Task set archived=?, allowedToDelegate=?, taskInitiator_id=?, priority=?, activationTime=?, actualOwner_id=?, completedOn=?, createdBy_id=?, createdOn=?, documentAccessType=?, documentContentId=?, documentType=?, expirationTime=?, faultAccessType=?, faultContentId=?, faultName=?, faultType=?, outputAccessType=?, outputContentId=?, outputType=?, parentId=?, previousStatus=?, processId=?, processInstanceId=?, processSessionId=?, skipable=?, status=?, workItemId=?, OPTLOCK=? where id=? and OPTLOCK=? Hibernate: select workitemin0_.workItemId as workItemId16_0_, workitemin0_.creationDate as creation2_16_0_, workitemin0_.name as name16_0_, workitemin0_.processInstanceId as processI4_16_0_, workitemin0_.state as state16_0_, workitemin0_.OPTLOCK as OPTLOCK16_0_, workitemin0_.workItemByteArray as workItem7_16_0_ from WorkItemInfo workitemin0_ where workitemin0_.workItemId=? Hibernate: select processins0_.InstanceId as InstanceId0_0_, processins0_.OPTLOCK as OPTLOCK0_0_, processins0_.processId as processId0_0_, processins0_.startDate as startDate0_0_, processins0_.lastReadDate as lastRead5_0_0_, processins0_.lastModificationDate as lastModi6_0_0_, processins0_.state as state0_0_, processins0_.processInstanceByteArray as processI8_0_0_ from ProcessInstanceInfo processins0_ where processins0_.InstanceId=? Hibernate: insert into WorkItemInfo (workItemId, creationDate, name, processInstanceId, state, OPTLOCK, workItemByteArray) values (null, ?, ?, ?, ?, ?, ?) Hibernate: insert into WorkItemInfo (workItemId, creationDate, name, processInstanceId, state, OPTLOCK, workItemByteArray) values (null, ?, ?, ?, ?, ?, ?) Hibernate: select user_.id from OrganizationalEntity user_ where user_.id=? Hibernate: insert into Task (id, archived, allowedToDelegate, taskInitiator_id, priority, activationTime, actualOwner_id, completedOn, createdBy_id, createdOn, documentAccessType, documentContentId, documentType, expirationTime, faultAccessType, faultContentId, faultName, faultType, outputAccessType, outputContentId, outputType, parentId, previousStatus, processId, processInstanceId, processSessionId, skipable, status, workItemId, OPTLOCK) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) Hibernate: insert into I18NText (id, language, shortText, text) values (null, ?, ?, ?) Hibernate: insert into I18NText (id, language, shortText, text) values (null, ?, ?, ?) Hibernate: insert into Content (id, content) values (null, ?) Hibernate: select eventtypes0_.InstanceId as InstanceId0_, eventtypes0_.element as element0_ from EventTypes eventtypes0_ where eventtypes0_.InstanceId=? Hibernate: update ProcessInstanceInfo set OPTLOCK=?, processId=?, startDate=?, lastReadDate=?, lastModificationDate=?, state=?, processInstanceByteArray=? where InstanceId=? and OPTLOCK=? Hibernate: update WorkItemInfo set creationDate=?, name=?, processInstanceId=?, state=?, OPTLOCK=?, workItemByteArray=? where workItemId=? and OPTLOCK=? Hibernate: insert into EventTypes (InstanceId, element) values (?, ?) Hibernate: delete from WorkItemInfo where workItemId=? and OPTLOCK=? Hibernate: delete from WorkItemInfo where workItemId=? and OPTLOCK=? Hibernate: update Task set archived=?, allowedToDelegate=?, taskInitiator_id=?, priority=?, activationTime=?, actualOwner_id=?, completedOn=?, createdBy_id=?, createdOn=?, documentAccessType=?, documentContentId=?, documentType=?, expirationTime=?, faultAccessType=?, faultContentId=?, faultName=?, faultType=?, outputAccessType=?, outputContentId=?, outputType=?, parentId=?, previousStatus=?, processId=?, processInstanceId=?, processSessionId=?, skipable=?, status=?, workItemId=?, OPTLOCK=? where id=? and OPTLOCK=? Hibernate: update I18NText set Task_Descriptions_Id=? where id=? Hibernate: insert into PeopleAssignments_BAs (task_id, entity_id) values (?, ?) Hibernate: insert into PeopleAssignments_PotOwners (task_id, entity_id) values (?, ?) Hibernate: update I18NText set Task_Subjects_Id=? where id=? Hibernate: select sessioninf0_.id as id15_0_, sessioninf0_.lastModificationDate as lastModi2_15_0_, sessioninf0_.rulesByteArray as rulesByt3_15_0_, sessioninf0_.startDate as startDate15_0_, sessioninf0_.OPTLOCK as OPTLOCK15_0_ from SessionInfo sessioninf0_ where sessioninf0_.id=? Hibernate: insert into ProcessInstanceInfo (InstanceId, OPTLOCK, processId, startDate, lastReadDate, lastModificationDate, state, processInstanceByteArray) values (null, ?, ?, ?, ?, ?, ?, ?) Hibernate: update SessionInfo set lastModificationDate=?, rulesByteArray=?, startDate=?, OPTLOCK=? where id=? and OPTLOCK=? Hibernate: update ProcessInstanceInfo set OPTLOCK=?, processId=?, startDate=?, lastReadDate=?, lastModificationDate=?, state=?, processInstanceByteArray=? where InstanceId=? and OPTLOCK=? Hibernate: select processins0_.InstanceId as InstanceId0_0_, processins0_.OPTLOCK as OPTLOCK0_0_, processins0_.processId as processId0_0_, processins0_.startDate as startDate0_0_, processins0_.lastReadDate as lastRead5_0_0_, processins0_.lastModificationDate as lastModi6_0_0_, processins0_.state as state0_0_, processins0_.processInstanceByteArray as processI8_0_0_ from ProcessInstanceInfo processins0_ where processins0_.InstanceId=? Hibernate: insert into WorkItemInfo (workItemId, creationDate, name, processInstanceId, state, OPTLOCK, workItemByteArray) values (null, ?, ?, ?, ?, ?, ?) org.jbpm.workflow.instance.WorkflowRuntimeException: [com.salaboy.process.AsyncInteractions:2 - User Interaction 1:2] -- Illegal method call. This session was previously disposed. Caused by: java.lang.IllegalStateException: Illegal method call. This session was previously disposed.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>Here's an article describing how to setup jBPM5.4 to run with MySQL:  https://community.jboss.org/docs/DOC-48374 https://community.jboss.org/wiki/SetUpJBPM54FinalInstallerToUseMySQL-OrHowToRunSection37OfTheUserGuide I hope this helps.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How to get results form	Work Item handler</header>
    <body>I want to impl db handler and my dbhandler.wid file is like this... ------------------------------------------------------------ ---------------------------------------- In my WorkItemHandler impl class i have code like this and in porcess i have WI impl like Result Mapping-----&gt;DB_OPS ---&gt; map(java.util.HashMap) but his is returning nothing from handler calss.... please let me know what wrong i am doing here. Thanks....Ashutosh [ // the Notification work item [ "name" : "Database", "parameters" : [ "GET_OR_UPDATE" : new StringDataType(), "SQL" : new StringDataType(), "ReturnMode" : new StringDataType(), ], "results" : [ "DB_OPS" : new ObjectDataType(), ], "displayName" : "Database", "icon" : "icons/dbops.png" ] ]</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Microcontainer Development] - migration from jboss 5.1 to 6.2</header>
    <body>what are the major changes ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Microcontainer Development] - Re: migration from jboss 5.1 to 6.2</header>
    <body>6.2?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Microcontainer Development] - Re: migration from jboss 5.1 to 6.2</header>
    <body>6.2 eap,pls let me know the major changes during this migration.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Microcontainer Development] - Re: migration from jboss 5.1 to 6.2</header>
    <body>Try searching the docs / wiki for migration, i'm pretty sure there is some material already available.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Local Task Service VS Remote taskserver (mina /HornetQ)?</header>
    <body>What are the benefits of each one and why would we choose one of them and not the other ? assert true : the local task service doesn't need any thread to be lunched. Thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: org.jbpm.workflow.instance.WorkflowRuntimeException: -- Illegal method call. This session was previously disposed.</header>
    <body>Dont dispose the session. As it is clear from the exception. You are using the session after you have killed it.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Get all tasks defined	inside a process</header>
    <body>Not unless the process has reached its last node. But if you are only looking for information at node level and not at task level then you can get all the nodes of the process immediately after its start. Node information would be the name of the node, coordinates etc.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Can I show my apps' knowledge session in the jBPM Console?</header>
    <body>Hi.  I am using jBPM 5.4.  I have defined a process in guvnor and have an application that retreives that process from guvnor and creates a knowledge session (pretty straight forward). Now, I want jBPM console to show the processes running in MY knowledge session.  My own application will "drive" the process (start the process, and send signals to it).  I would like to "attach" the console so that I can follow the progress of the process running in my application. All of the Console examples I have seen are controlled (started/stopped) from the Console itself. I was hoping the new jBPM Developer Guide would provide some insight, but no luck finding it.  Has anyone done this?  Can anyone suggest a way forward or point me to some examples? Thanks very much! -J</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Using OnEntry and OnExit in JBPM 5 Human task</header>
    <body>Hi Vignesh, do you have a solution for that? I would like to send a notification in the onEntryAction with the taskId too. But actually I don't know how to get it. WorkItemNodeInstance.getWorkItemId() returns -1, because the item isn't created in onEntryAction. Regards</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Hacking on AS8</header>
    <body>h4. h4. 1. Create a github account http://github.com http://github.com h4. 2. Fork jboss-as into your account http://github.com/jbossas/jboss-as http://github.com/jbossas/jboss-as h4. 3. Clone your newly forked copy onto your local workspace $ git clone git at github.com:[your user]/jboss-as.git Initialized empty Git repository in /devel/jboss-as/.git/ remote: Counting objects: 2444, done. remote: Compressing objects: 100% (705/705), done. remote: Total 2444 (delta 938), reused 2444 (delta 938) Receiving objects: 100% (2444/2444), 1.71 MiB | 205 KiB/s, done. Resolving deltas: 100% (938/938), done. $ cd jboss-as h4. 4. Add a remote ref to upstream, for pulling future updates git remote add upstream git://github.com/jbossas/jboss-as.git h4. 5. As a precaution, disable merge commits to your master git config branch.master.mergeoptions --ff-only h4. 6. Use maven (via build.sh) (make sure you use maven 3) $ ./build.sh install ..... [INFO] ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8: JBoss Security	Manager discussion</header>
    <body>David M Lloyd, Stefan, Flavia and I had a high level discussion on supporting Java Security Manager in AS8 in line with the needs of EE7 and JBoss Modules. We had an etherpad discussion. h2. Etherpad Requirements (Let us capture general requirements here) Support for VMwide Security Manager policy? Support META-INF/permissions.xml required by EE7  for web, ejb and application clients Maintain relationships established by JACC specification for Run As vs. AccessControlContext Application components must be able to support at least the permissions listed in Table EE.6-2 in EE(7).6.2.2.3. Deployers must support application component permissions as specified by EE.6.2.2.6. Server  administrators must have a way of declaring permission restrictions for  deployments.  If a deployment with declared permissions does not meet  the configured permission set, the deployment must fail as per  EE.6.2.2.6. Perform wellIdeally  we will be able to use a more efficient mechanism to evaluate  permissions than a complete execution stack scan.  The JDK always grants  itself all permissions - by checking the class loader for null - Discussion Points Should we do permissions within module.xml? (https://issues.jboss.org/browse/MODULES-157) Action Items 1. Deployment Descriptor parsing for META-INF/permissions.xml 2. Domain.xml/Standalone.xml global permission block (parsing and handling) 3. JBoss Modules permission handling  (parsing and handling) 4. System to merge deployment permissions into the module defined permissions. Questions Should permissions.xml for Web Deployments be in WEB-INF and not META-INF? JSR342 draft seems to imply they will be in META-INF  (Answer:  permissions.xml is a SE requirement for the EE platform. So it is META-INF) Chat Discussion h2. February 20, 2013 12:49 Stefan: there are some horrible things like having a WEB-INF/classes/META-INF 12:49 Anil Saldhana: that is persistence.xml 12:50 Stefan: the only thing I would like to know is where the admin perms would be stored 12:50 Anil Saldhana: module.xml 12:50 dmlloyd: that is a big question, and also, what form should it take 12:50 Stefan: yeah 12:50 dmlloyd: for deployments I think the standalone/domain.xml should contain the admin policy, but I don't know what capabilities we should give it 12:51 dmlloyd: e.g. do we require the admin perm overrides to be present  at deploy time (assume AllPermission if not present), or do we have a general config that includes matching wildcards, or what 12:52 Anil Saldhana: we can leave it to the admin - AllPerm or denyall 12:52 Anil Saldhana: when we ship, we go with allperm 12:53 dmlloyd: my gut feeling is that we'll need something more nuanced than an all-on/all-off switch 12:53 Stefan: have to agree with david on this one 12:53 Anil Saldhana: domain.xml contains the default permission policy 12:53 Anil Saldhana: overrides happen in module.xml 12:53 dmlloyd: deployments do not contain a module.xml 12:53 Anil Saldhana: and permissions.xml/rar.xml 12:54 dmlloyd: for deployments we'd rely on META-INF/permissions.xml 12:54 dmlloyd: yeah 12:54 Anil Saldhana: right 12:54 dmlloyd: on the other hand, standalone/domain.xml permissions will not affect filesystem modules 12:54 dmlloyd: that global policy (if any) has to be statically defined somewhere 12:55 dmlloyd: like I said though - if we can avoid global policy files, that's best 12:56 dmlloyd: the policy file mechanism is defined by convention, not spec, therefore we shouldn't rely on it 12:56 Anil Saldhana: no requirement to go with policy file 12:58 dmlloyd: it implies though that if we do want an overriding global policy of some sort, it has to be of our own format, and it has to come from jboss modules 12:58 dmlloyd: so that jboss modules can merge the policy with that of the individual modules 13:00 Anil Saldhana: since modules is the building block, it makes sense to have it at the module level 13:00 Anil Saldhana: we definitely should think more from securing modules 13:00 Anil Saldhana: more from the perspective of securing the system via modules 13:03 dmlloyd: I'm not 100% brushed up on how protectiondomains and ACCs and all that stuff play together though 13:04 Anil Saldhana: I think once we start playing with it, we will see the challenges 13:05 dmlloyd: if one of you guys is already an expert that'd really help 13:05 dmlloyd: save some time 13:05 Anil Saldhana: this can actually be done in the modules project 13:06 Anil Saldhana: I mean test cases and performance measures 13:06 Anil Saldhana: what the SM does is very small IMO 13:06 dmlloyd: I can wire in the basic infrastructure to modules but a second/third pair of eyes would be good to have 13:06 Anil Saldhana: setting up the protection domains at the module CL level 13:06 Anil Saldhana: we will be there, DML 13:07 Anil Saldhana: I think I will start establishing some processes around this.  testing/configuration etc. 13:07 dmlloyd: that is but one task though 13:07 dmlloyd: I think that it might be a good idea to create a top-level JIRA with subtasks to track the individual work units, with a dependent relationship to the EE7 JIRA subtask 13:08 dmlloyd: work units like: 13:08 dmlloyd: descriptor parsing 13:08 Anil Saldhana: right 13:08 dmlloyd: DUP changes to install permissions into the module spec 13:08 Anil Saldhana: Action Items to the left here.  :) 13:08 Anil Saldhana: I will set up the JIRA issues for the action items 13:08 dmlloyd: subsystem config 13:08 dmlloyd: etc. 13:12 Anil Saldhana: will list the action items here and start creating subtasks 13:14 dmlloyd: I guess that's about it, other than just testing 13:14 Anil Saldhana: right.  few minutes - check the action items here 13:15 Anil Saldhana: once you are happy, I can transfer to subtasks in JIRA 13:15 dmlloyd: I'd feel better if we had some plan for global module config, and an idea of how the global domain config might look 13:15 Anil Saldhana: we need to have that discussion. 13:16 dmlloyd: we can create a subtask placeholder for the domain config question and then open it up for discussion on the dev list 13:16 Anil Saldhana: right 13:16 Anil Saldhana: added some action items. take a look 13:17 dmlloyd: AS DUP implementation to merge descriptor information into the module definition 13:24 dmlloyd: I guess that's it for now 13:24 dmlloyd: we can always add more later as things come up 13:25 dmlloyd: did we lose Stefan? 13:26 Anil Saldhana: probably 13:26 Anil Saldhana: they have electricity issues due to summer thunderstorms in Brazil 13:31 dmlloyd: FYI the subtask in the EE7 task should stay right where it is 13:32 dmlloyd: you can't have a task hierarchy, so we need a new top-level JIRA that links back to that subtask 13:32 dmlloyd: with notes to close one when you close the other 13:32 Anil Saldhana: ok 13:32 Anil Saldhana: did not realize it was a subtask.  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8: JBoss Security	Manager discussion</header>
    <body>David M Lloyd, Stefan, Flavia and I had a high level discussion on supporting Java Security Manager in AS8 in line with the needs of EE7 and JBoss Modules. *JIRA*:   https://issues.jboss.org/browse/AS7-6572 https://issues.jboss.org/browse/AS7-6572 *Internal reference*:  http://etherpad.corp.redhat.com/FaKiGVezLI http://etherpad.corp.redhat.com/FaKiGVezLI We had an etherpad discussion. h2. Etherpad *Requirements* (Let us capture general requirements here) * Support for VMwide Security Manager policy? * Support META-INF/permissions.xml required by EE7  for web, ejb and application clients * Support EE 7 Security Manager requirements * Maintain relationships established by JACC specification for Run As vs. AccessControlContext * Application components must be able to support at least the permissions listed in Table EE.6-2 in EE(7).6.2.2.3. * Deployers must support application component permissions as specified by EE.6.2.2.6. * Server  administrators must have a way of declaring permission restrictions for  deployments.  If a deployment with declared permissions does not meet  the configured permission set, the deployment must fail as per  EE.6.2.2.6. * Perform well * Ideally  we will be able to use a more efficient mechanism to evaluate  permissions than a complete execution stack scan.  The JDK always grants  itself all permissions - by checking the class loader for null - and  generally acts as if doPrivileged is always in force.  Perhaps we can  utilize a similar trick to allow our provided modules to execute  quickly. * *Discussion Points* * Should we do permissions within module.xml? (https://issues.jboss.org/browse/MODULES-157) (https://issues.jboss.org/browse/MODULES-157%29) *Action Items* 1. Deployment Descriptor parsing for META-INF/permissions.xml 2. Domain.xml/Standalone.xml global permission block (parsing and handling) 3. JBoss Modules permission handling  (parsing and handling) 4. System to merge deployment permissions into the module defined permissions. *Questions* * Should permissions.xml for Web Deployments be in WEB-INF and not META-INF? JSR342 draft seems to imply they will be in META-INF  (+Answer:  permissions.xml is a SE requirement for the EE platform. So it is META-INF+) * h2. h2. Chat Discussion h2. February 20, 2013 Anil Saldhana: Just want to have a general chat on this topic... 12:19 Anil Saldhana: Important for Stefan to participate. 12:19 Anil Saldhana: Flavia mainly because DML mentioned modules 12:20 Stefan: Ok, so app components must now support the declaration of security permissions. Besides, we need to consider setting up permissions for the modules 12:21 Anil Saldhana: previously,  ra.xml could contain security permissions 12:21 Anil Saldhana: now additionally permissions.xml can be provided 12:21 Stefan: right, I believe the model is pretty similar to the one found in ra.xml 12:22 Anil Saldhana: the bigger Q is should we support permissions in module.xml? 12:22 Anil Saldhana: we discussed that in Aug 2011 with no action.  :) 12:22 Stefan: I believe we do. What do we do now when the sec manager is active and one of the modules contains code that needs permissions 12:23 Anil Saldhana: The key aspects for a security manager access check  includes CodeSource, Permissions and Subject Anil Saldhana: CodeSource is driven by the classloader 12:24 Stefan: perms come from config and subject from the underlying sec context 12:25 Stefan: what happens now if sec manager is enabled on AS7? Do we have an AllPerm for all modules? 12:25 Anil Saldhana: I dont think so.  Right now, they are governed by the codesource url 12:26 Anil Saldhana: defined in the general policy file. 12:26 Anil Saldhana: DML wanted to see if we could add sec permissions at the module level 12:27 Stefan: I think it is a good idea but the amount of work required for that can be insane due to the number of modules 12:28 Anil Saldhana: it is NOT required for all modules. If admin wants to do for a select set of modules, he should be able to 12:29 Flavia: okay, so this does not affect MSC directly, it will affect Modules afaics 12:31 Anil Saldhana: Who does modules? 12:32 Flavia: I am not sure, but I think that mostly David 12:33 Flavia: I agree with Stefan that there could be a perf impact if we add this to every single module in AS 12:33 Anil Saldhana: Remember it is user's choice whether they run AS under a JSM 12:37 Anil Saldhana: hey DML. etherpad is insanely slow 12:37 dmlloyd: at least it's up.  This morning there was an outage 12:40 Anil Saldhana: I brought in your comments from the other ether here. 12:40 dmlloyd: My thought with modules is that they could request to be granted AllPermission by default 12:40 dmlloyd: that way we don't have to go through and retroactively redo every one 12:40 dmlloyd: but we can, later on, restrict modules if we want to 12:41 Anil Saldhana: Agree. 12:41 dmlloyd: my main motivation is to avoid having a global security policy file 12:41 dmlloyd: that's never been anything but a PITA 12:42 dmlloyd: by supporting it in modules we can establish permissions by class loader instead of code source 12:42 Anil Saldhana: the challenge is for a complete system, you will have to evaluate every module. 12:42 Anil Saldhana: if you have ALLPerm for unspecified modules 12:42 dmlloyd: we can simply compile and install the permissions as the modules are loaded 12:43 Anil Saldhana: where are they specified? 12:43 dmlloyd: in module.xml 12:43 dmlloyd: those would be the permissions the module requests, not necessarily the permissions they are granted 12:44 Stefan: ok, so we would be adding an AllPerm to every module.xml, leaving us with something that can be refined with timeso the idea is to add an AllPerm to every module.xml? 12:44 dmlloyd: ideally an administrator would also have their vote as to what permissions to use, and the effective permissions would be the union of the two 12:44 dmlloyd: yeah that's the idea 12:44 dmlloyd: really it's not so different from the EE7 rules - the deployment contains requested permissions, the administrator can further limit them, and the result is a union 12:44 Stefan: for some reason part of what I wrote was duplicated 12:45 dmlloyd: probably because etherpad is junk  :) 12:45 Stefan: union or intersection 12:45 dmlloyd: intersection, sorry 12:45 Stefan: ah, ok  :) 12:45 Anil Saldhana: I am fine with it.  We should discuss this with Jason and the list. 12:45 dmlloyd: cripes, I wonder how long I've been doing that. 12:46 Anil Saldhana: DML - permissions.xml can be in META-INF 12:47 Anil Saldhana: for web deployments, should they go in WEB-INF? 12:47 dmlloyd: I'd say META-INF only, unless the EE or servlet spec specifically allow for WEB-INF 12:47 Anil Saldhana: I thought web deployments typically used WEB-INF 12:47 Anil Saldhana: these are SE requirements for EE 12:47 dmlloyd: they do for web stuff 12:47 Anil Saldhana: so maybe META-INF 12:48 dmlloyd: but servlet is a rule-breaker in a lot of ways 12:48 dmlloyd: they do require META-INF for a few things too, by spec (though I think in some cases we allow WEB-INF) 12:49 Anil Saldhana: stefan , what do you think?  Allperm for all modules  and admin changes based on his requirement 12:49 Stefan: there are some horrible things like having a WEB-INF/classes/META-INF 12:49 Anil Saldhana: that is persistence.xml 12:50 Stefan: the only thing I would like to know is where the admin perms would be stored 12:50 Anil Saldhana: module.xml 12:50 dmlloyd: that is a big question, and also, what form should it take 12:50 Stefan: yeah 12:50 dmlloyd: for deployments I think the standalone/domain.xml should contain the admin policy, but I don't know what capabilities we should give it 12:51 dmlloyd: e.g. do we require the admin perm overrides to be present  at deploy time (assume AllPermission if not present), or do we have a general config that includes matching wildcards, or what 12:52 Anil Saldhana: we can leave it to the admin - AllPerm or denyall 12:52 Anil Saldhana: when we ship, we go with allperm 12:53 dmlloyd: my gut feeling is that we'll need something more nuanced than an all-on/all-off switch 12:53 Stefan: have to agree with david on this one 12:53 Anil Saldhana: domain.xml contains the default permission policy 12:53 Anil Saldhana: overrides happen in module.xml 12:53 dmlloyd: deployments do not contain a module.xml 12:53 Anil Saldhana: and permissions.xml/rar.xml 12:54 dmlloyd: for deployments we'd rely on META-INF/permissions.xml 12:54 dmlloyd: yeah 12:54 Anil Saldhana: right 12:54 dmlloyd: on the other hand, standalone/domain.xml permissions will not affect filesystem modules 12:54 dmlloyd: that global policy (if any) has to be statically defined somewhere 12:55 dmlloyd: like I said though - if we can avoid global policy files, that's best 12:56 dmlloyd: the policy file mechanism is defined by convention, not spec, therefore we shouldn't rely on it 12:56 Anil Saldhana: no requirement to go with policy file 12:58 dmlloyd: it implies though that if we do want an overriding global policy of some sort, it has to be of our own format, and it has to come from jboss modules 12:58 dmlloyd: so that jboss modules can merge the policy with that of the individual modules 13:00 Anil Saldhana: since modules is the building block, it makes sense to have it at the module level 13:00 Anil Saldhana: we definitely should think more from securing modules 13:00 Anil Saldhana: more from the perspective of securing the system via modules 13:03 dmlloyd: I'm not 100% brushed up on how protectiondomains and ACCs and all that stuff play together though 13:04 Anil Saldhana: I think once we start playing with it, we will see the challenges 13:05 dmlloyd: if one of you guys is already an expert that'd really help 13:05 dmlloyd: save some time 13:05 Anil Saldhana: this can actually be done in the modules project 13:06 Anil Saldhana: I mean test cases and performance measures 13:06 Anil Saldhana: what the SM does is very small IMO 13:06 dmlloyd: I can wire in the basic infrastructure to modules but a second/third pair of eyes would be good to have 13:06 Anil Saldhana: setting up the protection domains at the module CL level 13:06 Anil Saldhana: we will be there, DML 13:07 Anil Saldhana: I think I will start establishing some processes around this.  testing/configuration etc. 13:07 dmlloyd: that is but one task though 13:07 dmlloyd: I think that it might be a good idea to create a top-level JIRA with subtasks to track the individual work units, with a dependent relationship to the EE7 JIRA subtask 13:08 dmlloyd: work units like: 13:08 dmlloyd: descriptor parsing 13:08 Anil Saldhana: right 13:08 dmlloyd: DUP changes to install permissions into the module spec 13:08 Anil Saldhana: Action Items to the left here.  :) 13:08 Anil Saldhana: I will set up the JIRA issues for the action items 13:08 dmlloyd: subsystem config 13:08 dmlloyd: etc. 13:12 Anil Saldhana: will list the action items here and start creating subtasks 13:14 dmlloyd: I guess that's about it, other than just testing 13:14 Anil Saldhana: right.  few minutes - check the action items here 13:15 Anil Saldhana: once you are happy, I can transfer to subtasks in JIRA 13:15 dmlloyd: I'd feel better if we had some plan for global module config, and an idea of how the global domain config might look 13:15 Anil Saldhana: we need to have that discussion. 13:16 dmlloyd: we can create a subtask placeholder for the domain config question and then open it up for discussion on the dev list 13:16 Anil Saldhana: right 13:16 Anil Saldhana: added some action items. take a look 13:17 dmlloyd: AS DUP implementation to merge descriptor information into the module definition 13:24 dmlloyd: I guess that's it for now 13:24 dmlloyd: we can always add more later as things come up 13:25 dmlloyd: did we lose Stefan? 13:26 Anil Saldhana: probably 13:26 Anil Saldhana: they have electricity issues due to summer thunderstorms in Brazil 13:31 dmlloyd: FYI the subtask in the EE7 task should stay right where it is 13:32 dmlloyd: you can't have a task hierarchy, so we need a new top-level JIRA that links back to that subtask 13:32 dmlloyd: with notes to close one when you close the other 13:32 Anil Saldhana: ok 13:32 Anil Saldhana: did not realize it was a subtask.  :) h2. Followup DML did some work:  https://github.com/dmlloyd/jboss-modules/compare/dc534ef...f4c74be https://github.com/dmlloyd/jboss-modules/compare/dc534ef...f4c74be</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: How to get results form	Work Item handler</header>
    <body>Hi Guys, I got this issue resolved with help of one of community member... reolution in like we have to add In our WI handler class...... ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: How to get results form	Work Item handler</header>
    <body>The above approach is working fine when i am running the process from IED(read as eclipse) but when i put same code in Guvnor and do a deployment the process is not able to execute the step. Can anyone give some pointer what could be the reason of this. In my WI handler i am also using an external jar and i am using this jar also as pert of deployment package ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Single	Installation Patching</header>
    <body>Another suggestions for disabling JARs is to double-compress them, then uncompress them to re-enable. I would love to hear any feedback on this JAR-disabling proposal. Also I'd like to +1 Mazz's earlier comment about not applying this mechanism to RPM. This is definitely a big step forward for the zip distribution, but RPM is an established patching solution, there's no need to re-invent the wheel for RPM.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: org.jbpm.workflow.instance.WorkflowRuntimeException: -- Illegal method call. This session was previously disposed.</header>
    <body>problem is that you try to use (probably by mistake) a disposed session: ksession (marked in bold) is disposed session and thus should not be used any more. Use instead session that you just loaded (loadedKsession) and the program will work just fine. HTH</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: org.jbpm.workflow.instance.WorkflowRuntimeException: -- Illegal method call. This session was previously disposed.</header>
    <body>Thanks Maciej , i resolved it and i had to get a new client instance for the loaded session. Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - SOAP Fault - Unable to Create Namespace (SAAJ0513)</header>
    <body>Using Jboss 5.1, Jbossws-cxf 3.1.2 GA When trying to send web service request via Teiid 7.7 ws translator I get the following excpetion: org.apache.cxf.interceptor.Fault: Unable to create envelope from given source because the namespace was not recognized at org.apache.cxf.jaxws.interceptors.MessageModeOutInterceptor$MessageModeOutInterceptorInternal.handleMessage(MessageModeOutInterceptor.java:192) at org.apache.cxf.jaxws.interceptors.MessageModeOutInterceptor$MessageModeOutInterceptorInternal.handleMessage(MessageModeOutInterceptor.java:138) at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:236) at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:471) at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:301) at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:253) at org.apache.cxf.endpoint.ClientImpl.invokeWrapped(ClientImpl.java:288) at org.apache.cxf.jaxws.DispatchImpl.invoke(DispatchImpl.java:257) at org.apache.cxf.jaxws.DispatchImpl.invoke(DispatchImpl.java:195) at org.teiid.translator.ws.WSProcedureExecution.execute(WSProcedureExecution.java:132) at org.teiid.dqp.internal.datamgr.ConnectorWorkItem.execute(ConnectorWorkItem.java:272) at org.teiid.dqp.internal.process.DataTierTupleSource.getResults(DataTierTupleSource.java:344) at org.teiid.dqp.internal.process.DataTierTupleSource$1.call(DataTierTupleSource.java:138) at org.teiid.dqp.internal.process.DataTierTupleSource$1.call(DataTierTupleSource.java:135) at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source) at java.util.concurrent.FutureTask.run(Unknown Source) at org.teiid.dqp.internal.process.DQPCore$FutureWork.run(DQPCore.java:118) at org.teiid.dqp.internal.process.DQPWorkContext.runInContext(DQPWorkContext.java:232) at org.teiid.dqp.internal.process.ThreadReuseExecutor$RunnableWrapper.run(ThreadReuseExecutor.java:118) at org.teiid.dqp.internal.process.ThreadReuseExecutor$3.run(ThreadReuseExecutor.java:288) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source) I first posted this problem in Teiid forum and was told that everything at that level looked OK. If you could tell me how to capture actual SOAP message that would be helpful as well. I have attached the complete server log.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8: JBoss Security Manager Implementation Plan</header>
    <body>This wiki article will propose an implementation plan for the security manager related changes for JBoss AS8. h2. Background Please follow  https://community.jboss.org/docs/DOC-48383 https://community.jboss.org/wiki/AS8JBossSecurityManagerDiscussion   for some background information. Goal is to minimize the global policy file +historic+ approach and adapt the Java Security Manager infrastructure in AS8 to a more modular approach. h2. Approach * We will have a security manager subsystem to define the global permission collection that modules will inherit by default. * module.xml can define the permission collection that governs the module.  This is what the ModuleClassLoader will return to the security manager when asked for permission collection. * EE deployments can do META-INF/permissions.xml (as per EE7).   The deployment permissions need to be merged into the module level permissions. h2. h2. Security Manager and Policy Implementation The JVM can run under a Java Security Manager via two options: * Pass  -Djava.security.manager as command option * Programmatically, call    System.setSecurityManager(securityManager) So we have two options to start the security manager in AS8.  (+I personally like the programmatic option that will let the JVM and JBoss Modules system to start up before the security manager is put into operation+). h3. Command Line Option When we use the command line option,  the default security manager implementation (that uses Sun PolicyFile implementation)   will use the java.policy file from jre/lib/security folder of the JVM to construct the permissions that the JVM will have in starting up.  This takes care of the JVM starting up. We will need to bootstrap the JBoss Modules system.  Now we have to think about providing the permissions for the jboss-modules.jar The easiest way to achieve this is to add an entry into the java.policy file.   or  have a single entry in a policy file within the AS8 folders and mandate users not add/delete anything from this file.   This will get the JBoss Modules system starting. Once the module system is started,  we will use the programmatic stuff below. h3. Programmatic Option There will be a security manager subsystem defined in the domain model.   It will have a flag called *+enable+*  which by default will be +false+.   If the user configures the +enable+ flag to true,  the program will call +System.setSecurityManager()+,  if  +System.getSecurityManager() == null+. The security manager subsystem can define the permission block for use by default by the module class loader.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8: JBoss Security Manager Implementation Plan</header>
    <body>This wiki article will propose an implementation plan for the security manager related changes for JBoss AS8. h2. Background Please follow  https://community.jboss.org/docs/DOC-48383 https://community.jboss.org/wiki/AS8JBossSecurityManagerDiscussion   for some background information. Goal is to minimize the global policy file +historic+ approach and adapt the Java Security Manager infrastructure in AS8 to a more modular approach. h2. Approach * We will have a security manager subsystem to define the global permission collection that modules will inherit by default. * module.xml can define the permission collection that governs the module.  This is what the ModuleClassLoader will return to the security manager when asked for permission collection. * EE deployments can do META-INF/permissions.xml (as per EE7).   The deployment permissions need to be merged into the module level permissions. h2. h2. Security Manager and Policy Implementation The JVM can run under a Java Security Manager via two options: * Pass  -Djava.security.manager as command option * Programmatically, call    System.setSecurityManager(securityManager) So we have two options to start the security manager in AS8.  (+I personally like the programmatic option that will let the JVM and JBoss Modules system to start up before the security manager is put into operation+). h3. Command Line Option When we use the command line option,  the default security manager implementation (that uses Sun PolicyFile implementation)   will use the java.policy file from jre/lib/security folder of the JVM to construct the permissions that the JVM will have in starting up.  This takes care of the JVM starting up. We will need to bootstrap the JBoss Modules system.  Now we have to think about providing the permissions for the jboss-modules.jar The easiest way to achieve this is to add an entry into the java.policy file.   or  have a single entry in a policy file within the AS8 folders and mandate users not add/delete anything from this file.   This will get the JBoss Modules system starting. Once the module system is started,  we will use the programmatic stuff below. h3. Command Line Option #2 JBoss Modules has a special bootstrap option for security manager startup.  Instead of passing -Djava.security.manager to the JVM, you run JBoss Modules with the -secmgr flag.  This loads up a special policy that grants JBoss Modules AllPermission, but otherwise inherits the Policy defined by the JVM (or the application, if it has one).  In this way, JBoss AS can be started up under a security manager without any other special setup (in particular, without a JVM-specific policy file).  Requires at least 1.2.0.CR2 for proper operation. h3. Programmatic Option There will be a security manager subsystem defined in the domain model.   It will have a flag called *+enable+*  which by default will be +false+.   If the user configures the +enable+ flag to true,  the program will call +System.setSecurityManager()+,  if  +System.getSecurityManager() == null+. The security manager subsystem can define the permission block for use by default by the module class loader. * We need to come up with a schema for the permission collection that can be used in the security-manager subsystem. We can use some of the concepts used in the policy file but make it usable. * The permission collection generated in the SM subsystem needs to be available to the module classloader if explicit permission collection not defined in module.xml for the module in question. To summarize the options, the following systems will need to be configured with permissions: a) JVM Bootstrap b) JBoss Modules Bootstrap c) JBoss Application Server h2. Module Permission Collection module.xml will have a permission collection block that mirrors what is defined in the security-manager subsystem of the domain model. This is what the module classloader will pick up. If left undefined, the global permission collection from the security-manager domain model will be adopted. h2. Deployment Permission Collection EE7 deployments can define a permission collection via META-INF/permissions.xml   We will need to merge/adapt/convert this into a module level permission collection at the class loader for the deployment. h2. References https://community.jboss.org/docs/DOC-17431 https://community.jboss.org/wiki/JBossAS7SecurityRunningUnderAJavaSecurityManager h2. h2. Chat Dumps h3. h3. 21 Feb 2013 (09:27:03 AM) asaldhan: dmlloyd: working on the wiki article that outlines a plan.  I am unsure yet that we need a policy implementation. (09:27:16 AM) asaldhan: dmlloyd: but look at my article in about an hour.  then we can talk.* * (09:31:39 AM) dmlloyd: okay.  I came up with a few more ideas before I fell asleep last night* * (09:42:28 AM) asaldhan: dmlloyd: saw your posts last night. I did make a post close to midnight. (09:42:30 AM) asaldhan:  https://community.jboss.org/docs/DOC-48386 https://community.jboss.org/wiki/AS8JBossSecurityManagerImplementationPlan (09:42:40 AM) asaldhan: dmlloyd: it is half written.  adding details now.* * (09:44:23 AM) dmlloyd: asaldhan, I figured out that in JBoss Modules I can wrap the system Policy with one that grants modules itself AllPermission and that gets around the boot issue (09:44:41 AM) dmlloyd: so basically if you pass -secmgr to JBoss Modules at boot, you're fully secured (09:44:56 AM) dmlloyd: I know that doesn't answer any of the other questions though (09:45:16 AM) dmlloyd: but at least it's one less headache  :) (09:45:25 AM) asaldhan: dmlloyd: I like the programmatic option wherein JVM and Modules bootstrapped before SM kicks in (09:45:38 AM) asaldhan: dmlloyd: unless the admin is paranoid, then he can go the command line way (09:46:12 AM) dmlloyd: the problem is that it comes in so late (09:46:50 AM) dmlloyd: one thing to consider though is that we have a few places where we want to administratively configure stuff that needs to take effect at or near JVM startup (09:47:26 AM) dmlloyd: so secmgr is not unique in that regard (09:48:00 AM) dmlloyd: so it's possible that even with the command line switch, the subsystem can still control it* * (09:48:43 AM) dmlloyd: now, all that said, I think the programmatic option is still viable (09:49:10 AM) asaldhan: dmlloyd: from admin perspective, they usually trust JVM and core JBoss infrastructure. (09:49:27 AM) asaldhan: dmlloyd: it is the applications that get deployed on the runtime that can go berseck (09:49:49 AM) ***asaldhan has updated the article* * (09:51:05 AM) dmlloyd: asaldhan: that is true (09:51:22 AM) dmlloyd: tbh all of my changes should be able to support programmatic SM enablement later on (09:52:16 AM) asaldhan: dmlloyd: in my view 95% of usecases will go by programmatic approach.  for the paranoid, the cmd line option can go (09:52:27 AM) dmlloyd: we could cut down significantly on startup time this way (09:52:41 AM) asaldhan: dmlloyd: right. (09:52:55 AM) asaldhan: dmlloyd: what I feel is the flag   "enable=true"  which kicks in the SM (09:53:00 AM) asaldhan: dmlloyd: usability will be cool (09:53:24 AM) asaldhan: dmlloyd: by default, the permissions should be DenyAll  as long as all the modules shipped in AS8 have allperm in module.xml (09:53:32 AM) dmlloyd: that flag should be "enable=(true|false|inherit)" though - otherwise if they set it on the command line and it's set to "false" then the SM will turn off once the subsystem kicks in  :) (09:53:37 AM) asaldhan: dmlloyd: that way, admin has to configure his apps and custom modules (09:53:49 AM) dmlloyd: asaldhan, the EE spec gives a minimum permission set actually (09:53:56 AM) asaldhan: dmlloyd: right (09:54:25 AM) dmlloyd: I wonder if we should automatically set those up or if the EE perm set should just be the default* * (09:57:42 AM) asaldhan: dmlloyd: what I am wondering is by default,  there should be no SM.  Just a Policy implementation for modules  that does policy.implies(permission) check for sensitive operations (09:58:07 AM) asaldhan: dmlloyd: this is more of a JBoss modules concept that will be extended to the AS8 server (09:58:46 AM) asaldhan: dmlloyd: there really is no major need for SM to be ON vmwide (09:59:17 AM) dmlloyd: most things which check permissions will skip the check if there's no SM (09:59:33 AM) dmlloyd: check out these changes though: (09:59:35 AM) dmlloyd:  http://github.com/jbossas/jboss-modules/compare/c217927...a6345ca http://github.com/jbossas/jboss-modules/compare/c217927...a6345ca (09:59:42 AM) asaldhan: dmlloyd: will check the changes. (09:59:44 AM) asaldhan: dmlloyd: BUT (09:59:45 AM) dmlloyd: these should allow a SM to be turned on later (10:00:04 AM) asaldhan: dmlloyd: it is the modules codebase that can do policy.implies for many of its operations. (10:00:23 AM) dmlloyd: it could, but to what purpose?* * (10:01:11 AM) asaldhan: dmlloyd: your changes was what I was mentioning about the policy (10:02:33 AM) asaldhan: dmlloyd: you need the SM for policing n/w operations, socket ops, IO etc done by the JVM and application code.       But the modules can police some of the classloader checks using modulepolicy when a SM is absent (10:02:35 AM) dmlloyd: ah right, so we're saying the same thing (10:02:48 AM) dmlloyd: okay, that's true (10:03:17 AM) dmlloyd: but I don't think it's too necessary as there aren't too many actual privileged operations like that in modules really (10:03:35 AM) asaldhan: dmlloyd: ModuleCL operations maybe? (10:03:48 AM) asaldhan: dmlloyd: public private api etc? (10:03:55 AM) asaldhan: dmlloyd: I am just talking loudly (10:04:01 AM) asaldhan: thinking (10:04:02 AM) dmlloyd: I use access control for most things (10:04:12 AM) dmlloyd: java language access control that is (10:04:29 AM) asaldhan: AccessControlContext? (10:04:34 AM) asaldhan: accesscontroller.doPriv? (10:04:58 AM) dmlloyd: no, private/protected/etc.* * (10:05:34 AM) asaldhan: yeah  but what about cases where in methods are declared public  but they cannot be accessed from outside the module.  Like app classes should not call these.  There is no SM installed.* * (10:06:12 AM) ***asaldhan is looking at a modular system (10:07:17 AM) dmlloyd: I use visibility restriction for those cases (10:12:27 AM) asaldhan: dmlloyd: one change in your thought.   SM subsystem enable=false  does not disable SM if bootstrapped via cmd line.  It only does System.setSM if enable=true (10:12:58 AM) dmlloyd: how can users turn it off then? (10:19:56 AM) dmlloyd: realistically enabling SM from the cmdline isn't that different from enabling it programmatically (10:19:59 AM) dmlloyd: it just happens sooner (10:20:24 AM) asaldhan: dmlloyd: we will only ship with programmatic option (10:20:39 AM) asaldhan: dmlloyd: we may have an article for how to do with cmd line option for paranoid admins (10:21:05 AM) asaldhan: dmlloyd: the cmd line folks will be less &lt;1% of total users. (10:21:29 AM) dmlloyd: okay so perhaps we can just make it a doc issue (10:21:48 AM) asaldhan: dmlloyd: management of the SM now becomes part of domain management (10:21:52 AM) dmlloyd: if you turn on SM on the command line, you must remember to have it on in your config as well (10:21:58 AM) asaldhan: dmlloyd: rather than mucking with cmd files (10:22:14 AM) asaldhan: dmlloyd: cmd line turn on will have the steps in the document. (10:22:45 AM) dmlloyd: one other concern is that we have to make sure that our service dependencies do not allow deployments to start up before the sec mgr subsystem kicks in* * (10:23:26 AM) asaldhan: dmlloyd:  how quickly can the sec mgr subsystem kick in?  will the service dependency resolution happen before that?* * (10:24:53 AM) asaldhan: dmlloyd: the flow should be (JVM)---&gt; (Modules Bootstrap)----&gt;SM ----&gt; everything else (10:28:09 AM) dmlloyd: all subsystems will begin initializing at the same time (10:28:39 AM) dmlloyd: deployments should not start up until all the subsystems do, but that's something definitely to verify (10:28:52 AM) asaldhan: dmlloyd: should the SM subsystem be part of the modules bootstrap? (10:29:20 AM) dmlloyd: if we do that we'll break all kinds of things - I don't think we want to open that door just yet (10:29:29 AM) dmlloyd: in AS 9 we may have some better options though... (10:35:41 AM) dmlloyd: one note for the future... the sec mgr subsystem is clearly something that is not applicable to embedded servers (10:36:05 AM) dmlloyd: I think at some point we'll have to go through and specify what subsystems apply to embedded, jvm, or both* * (10:36:18 AM) dmlloyd: I can easily imagine special embedded-specific subsystems (10:37:35 AM) dmlloyd: well *parts* of the sec mgr subsys anyway (10:37:56 AM) dmlloyd: for example in embedded you can't be installing SMs, but you can for example assign permissions to deployment modules (10:44:53 AM) asaldhan: dmlloyd: The module system can definitely be doing a lot of Policy.implies checks if it desires.  :) * * (10:49:18 AM) dmlloyd: okay, so I think we're pretty well sorted out on that score (10:57:15 AM) dmlloyd: the last discussion for SM is, what do we need to configure in the domain, and how will it look (10:57:26 AM) dmlloyd: use cases -&gt; requirements -&gt; design (11:27:42 AM) dmlloyd: I guess the questions are: (11:28:04 AM) dmlloyd: 1) do we configure a maximal permission set globally for all deployments? (11:28:12 AM) dmlloyd: 2) do we do the same for deployments based on some pattern? (11:28:51 AM) dmlloyd: 3) what about extensions/filesystem JARs?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8: JBoss Security Manager Implementation Plan</header>
    <body>If a user wants to add a static module (e.g. a different version of Hibernate), do the jars have to be signed when the security manager is enabled?  I assume yes but perhaps there will be some magic that I don't know about for this case.  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - issues porting from websphere to JBoss AS7</header>
    <body>I have a Web application that uses JSP &amp; Servlets. This is currently running on Websphere 7.1. We are trying to port to JBoss AS 7.1.1 in standalone mode to start with and am having issues. The WAR deployed successfully and I get the home page (Static HTML) Our application uses two files ibm-bnd-ext.xmi and ibm-web-ext.xmi .. These two files seem to be Websphere specific and detail the configuration of the JSP engine and Servlet engine. *IBM-web-ext.xmi* * * &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;com.ibm.ejs.models.base.extensions.webappext:WebAppExtension xmi:version="2.0" xmlns:xmi=" http://www.omg.org/XMI http://www.omg.org/XMI" xmlns:com.ibm.ejs.models.base.extensions.webappext="webappext.xmi" xmi:id="WebAppExtension_1" reloadInterval="3" reloadingEnabled="true" additionalClassPath="" fileServingEnabled="true" directoryBrowsingEnabled="false" serveServletsByClassnameEnabled="true"&gt; &lt;webApp href="WEB-INF/web.xml#WebApp"/&gt; &lt;jspAttributes xmi:id="JSPAttribute_1310946960877" name="reloadEnabled" value="true"/&gt; &lt;jspAttributes xmi:id="JSPAttribute_1310946960878" name="reloadInterval" value="10"/&gt; &lt;/com.ibm.ejs.models.base.extensions.webappext:WebAppExtension&gt; *IBM-BND-EXT.xmi* &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;com.ibm.ejs.models.base.bindings.webappbnd:WebAppBinding xmi:version="2.0" xmlns:xmi=" http://www.omg.org/XMI http://www.omg.org/XMI" xmlns:com.ibm.ejs.models.base.bindings.webappbnd="webappbnd.xmi" xmi:id="WebAppBinding_1" virtualHostName="default_host"&gt; &lt;webapp href="WEB-INF/web.xml#WebApp"/&gt; &lt;/com.ibm.ejs.models.base.bindings.webappbnd:WebAppBinding&gt; *What is the equivalent configuration of these in JBoss?* *Also, how do we enable Serve Servlets by Class Name in JBoss?* *Any help is greatly appreciated... *</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Re: issues porting from websphere to JBoss AS7</header>
    <body>There is no need of any configuration files in Jboss as such unless you want to do custom classloading. war file with correct web.xml should work fine without any changes.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Re: issues porting from websphere to JBoss AS7</header>
    <body>Thanks for the response. The two external files are used to confiure the server. One thing of greater importance to me is *serveServletsByClassnameEnabled="true"* *How do I enable this in JBoss AS7 ?* This is a Java Web application that was started 10 years ago and uses the above configuration to serve all the servlets. This alleviates the need to map servlets in web.xml. If com.adcd.SnoopServlet needs to be called, the request would be like  http://domain/webcontext/ http://domain/webcontext/*servlet/com.adcd.SnoopServlet* will be served. Since we are porting we really do not want to change much. How do we acheive this in JBoss AS7? Is there something that can be configured in web.xml to acheive this? * *</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8: JBoss Security Manager Implementation Plan</header>
    <body>No, actually.  The user just adds the module like normal.  The default module properties are "AllPermission" but you can specify a more restrictive set in the module.xml file.  The reason we went away from signing is that it doesn't really afford any more security - if you have access to the filesystem, you can make the AS run without a security manager anyway. It is also possible to further restrict permissions using the JDK's default policy mechanism.  The effective permissions are the intersection of the module specified permissions and the global policy.  But it is designed so that a policy file is not required in the simplest case. Finally we will have *some* mechanism (not yet determined) to specify a policy that applies to deployments.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Multiple instances of JBoss AS7 on the same machine</header>
    <body>I finally found the reason for the error I was getting. Approach #2 is actually as simple as written above, binding to the same address(es) but different ports does work. But there is of course more than one place in which you can specify ports that an instance should use. I had a remote debugging port specified in the JVM parameters under [JBOSS_HOME]/bin/standalone.conf. I changed this port as well in the second instance, and now it starts smoothly.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Improvements to jBPM (5,	6) documentation?</header>
    <body>Hi all, I was curious about what other people think of the jBPM (5, 6) documentation. If there are parts of the online documentation (  http://www.jboss.org/jbpm/documentation here ) that you find particularly frustrating or unclear, please post below. Suggestions, as always, are welcomed. Thanks, Marco</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Process instance execution do not continue to the next task after completing a previous task.</header>
    <body>Hi, i m using jbpm 5.4 embeded on a web application and i ve a problem after completing a task, getting the next task with the "getTasksAssignedAsPotentialOwner" do not return anything. When i created  the session which contain the process i registered a "LocalHTWorkItemHandler", so i don't think i need to complete it in order to the process to be continued. After the task is completed , i checked on the database and found its status "completed" so i think nothing wrong have happened in completing/persisting operations. i also don't have any exception and nothing happen in the application , i just can't get the next task. h6. The following is the service java class which contain methods used for creating the session and completing the task. Please , can someone guess what is wrong ??</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Process instance execution do not continue to the next task after completing a previous task.</header>
    <body>After completing the first task , in the database there are 2 tasks , the one with the Status "completed" and the other "reserved" which should be get by the getTasksAssignedAsPotentialOwner method.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - JBoss AS7: Reading Properties ClassLoader.getSystemResource("PropertyFile") - Not working</header>
    <body>I used the following article to configure loading properties from external folders. https://community.jboss.org/docs/DOC-18247#/?page=2 https://community.jboss.org/wiki/HowToPutAnExternalFileInTheClasspath#/?page=2 Everything seems to work as in the article. How ever, I am porting an WAR from websphere to JBoss AS7 and have slight problem with this. My application uses *ClassLoader.getSystemResource("PropertyFile")* to get the URL for the property file from Classpath. When I try this, I get a Null Pointer Exception I can successfully load using  *this.getClass().getClassLoader().getResource("PropertyFile")* I can not change it as this is being used all over the application. Why doesn't *ClassLoader.getSystemResource("PropertyFile")* not work ? Is there some configuration setting that can make it work? I am willing to move the properties files to a different location or may be include in the WAR if needed. Any Help is greatly appreciated.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - secureResponse called before service invocation instead of after</header>
    <body>WebJASPIAuthenticator in JBoss AS 7.1.1 and JBoss EAP 6.0.1 calls +secureResponse+ right after +validateRequest+ on a SAM has been called. The only intermediate code is registering the result of the callback handler with the container. The service invocation (e.g. calling a Servlet) is done afterwards, ie after the call to +secureResponse+. See the following fragment: However, section 3.8.3.3 of the JSR 196 (JASPIC) spec says that the semantics of secureResponse are as defined in Section 3.8.2.2, which thus means that secureResponse should be called +after+ a service invocation. Figure 1.1 in Section 1.1 shows this as well, and the general flow as described is Section 3.8 also mentions this. So, in JBoss the sequence is validateRequest -&gt; secureResponse -&gt; Invoke Service While the spec seems to say it should be: validateRequest -&gt; Invoke Service -&gt; secureResponse In the reference implementation GlassFish the sequence is indeed the latter one.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Remote EJB distributed transactions and recovery</header>
    <body>h1. Overview Unlike previous JBoss AS versions, remote transaction propagation between 2 server instances for EJB invocations does *not* require JTS. EJB client API which was introduced in AS7 uses its own protocol for remote transaction propagation between the client and the server for EJB invocations. h1. Typical scenario Let's consider an EJB A hosted on Server 1 and EJB B hosted on Server 2. EJBs are transactional by default. There are ways to disable transactions on EJBs or certain business methods of EJBs. But we won't be going into that part, in this article because our intention is to focus on the transaction propagation and recovery for EJBs, which obviously will require transactional EJBs. When a client, for example a standalone Java application, invokes on EJB A (on Server 1) a transaction is created. Later, during that invocation request, if EJB A in turn invokes on EJB B (on Server 2), the transaction propagation is carried out between the servers hosting those 2 EJBs. Previous versions of JBoss AS require JTS for the transaction propagation to happen. However in AS7 we have a JBoss specific protocol implemented in EJB client API which does the necessary propagation. The EJB client API interacts with the transaction manager on Server 1 and Server 2 to carry out the necessary transaction propagation and management. Furthermore on the server side of the interaction (i.e. of Server 2 in this case), the AS7 EJB integration layer (heavily) uses JBoss Transaction project (Narayana) APIs to import the remote transaction and further manage it. h1. Crash and transaction recovery JBoss Transactions (Narayana) project provides the necessary API infrastructure for libraries like the EJB client API project to integrate for transaction recovery in case of client/server crash scenarios. The design of that API is explained in the JBoss Transactions project manual here  http://docs.jboss.org/jbosstm/4.17.3.Final/guides/failure_recovery_guide/ http://docs.jboss.org/jbosstm/4.17.3.Final/guides/failure_recovery_guide/. /** * Obtains a list of prepared transaction branches from a resource manager. The transaction manager calls this method * during recovery to obtain the list of transaction branches that are currently in prepared or heuristically completed states. */ As is evident from the name of the method, the implementation is responsible for returning the Xid(s) which need to be recovered. h1. XAResourceRecovery implementation for EJB client API As explained in the JBoss Transactions document, the recovery process involves a background thread which runs at periodic intervals to check for transactions that should be recovered. From a EJB client API perspective, it has to know the target server against which it is issuing a recover request and also the node identifier of the node/server on which the (previously run) transaction(s) originated. h2. Node identifier of the transaction origin This is also known as the "parent node name". This is the node on which the transaction, which was propagated, originated. The transaction subsystem integration in AS7 exposes this node identifier via the CoreEnvironmentService: ... .... So it's straightforward for the EJB client integration in AS7 to know what the node identifier of itself. h2. Target server(s)/EJBReceiver(s) against which the recover request has to be issued The EJBClientContext can potentially contain numerous EJBReceiver(s), each of which correspond to a different node. Furthermore, the EJBReceiver(s) within a EJBClientContext can be dynamic - which means at it may not always contain the same set of EJBReceiver(s). Certain receivers may be added or removed as and when such a need arises. As such, there's no fixed set of EJBReceiver(s) which the EJBClientContext can known before hand to issue the recovery request against. So how does the EJB client API know which EJBReceiver(s) should it issue the recovery request when the recovery manager background process asks it for the Xid[] that need to be recovered. The answer to that question is that whenever a EJBReceiver is registered in a EJBClientContext, it will make that EJBReceiver eligible for issuing a recovery request against. This is a very important thing to remember since if a server/EJBReceiver was being used during EJB invocations and either the server or client crashed, then the recovery against the server/EJBReceiver will not be triggered unless that EJBReceiver gets registered within a EJBClientContext. This however isn't a restriction since a recovery process between 2 servers only makes sense when they are communicating with each other and from a EJB client API perspective, the communication can only happen when the EJBReceiver is registered in a EJBClientContext.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Remote EJB distributed transactions and recovery</header>
    <body>h1. Overview Unlike previous JBoss AS versions, remote transaction propagation between 2 server instances for EJB invocations does *not* require JTS. EJB client API which was introduced in AS7 uses its own protocol for remote transaction propagation between the client and the server for EJB invocations. h1. Typical scenario Let's consider an EJB A hosted on Server 1 and EJB B hosted on Server 2. EJBs are transactional by default. There are ways to disable transactions on EJBs or certain business methods of EJBs. But we won't be going into that part, in this article because our intention is to focus on the transaction propagation and recovery for EJBs, which obviously will require transactional EJBs. When a client, for example a standalone Java application, invokes on EJB A (on Server 1) a transaction is created. Later, during that invocation request, if EJB A in turn invokes on EJB B (on Server 2), the transaction propagation is carried out between the servers hosting those 2 EJBs. Previous versions of JBoss AS require JTS for the transaction propagation to happen. However in AS7 we have a JBoss specific protocol implemented in EJB client API which does the necessary propagation. The EJB client API interacts with the transaction manager on Server 1 and Server 2 to carry out the necessary transaction propagation and management. Furthermore on the server side of the interaction (i.e. of Server 2 in this case), the AS7 EJB integration layer (heavily) uses JBoss Transaction project (Narayana) APIs to import the remote transaction and further manage it. h1. Crash and transaction recovery JBoss Transactions (Narayana) project provides the necessary API infrastructure for libraries like the EJB client API project to integrate for transaction recovery in case of client/server crash scenarios. The design of that API is explained in the JBoss Transactions project manual here  http://docs.jboss.org/jbosstm/4.17.3.Final/guides/failure_recovery_guide/ http://docs.jboss.org/jbosstm/4.17.3.Final/guides/failure_recovery_guide/. /** * Obtains a list of prepared transaction branches from a resource manager. The transaction manager calls this method * during recovery to obtain the list of transaction branches that are currently in prepared or heuristically completed states. */ As is evident from the name of the method, the implementation is responsible for returning the Xid(s) which need to be recovered. h1. XAResourceRecovery implementation for EJB client API As explained in the JBoss Transactions document, the recovery process involves a background thread which runs at periodic intervals to check for transactions that should be recovered. From a EJB client API perspective, it has to know the target server against which it is issuing a recover request and also the node identifier of the node/server on which the (previously run) transaction(s) originated. h2. Node identifier of the transaction origin This is also known as the "parent node name". This is the node on which the transaction, which was propagated, originated. The transaction subsystem integration in AS7 exposes this node identifier via the CoreEnvironmentService: ... .... So it's straightforward for the EJB client integration in AS7 to know what the node identifier of itself. h2. Target server(s)/EJBReceiver(s) against which the recover request has to be issued The EJBClientContext can potentially contain numerous EJBReceiver(s), each of which correspond to a different node. Furthermore, the EJBReceiver(s) within a EJBClientContext can be dynamic - which means at it may not always contain the same set of EJBReceiver(s). Certain receivers may be added or removed as and when such a need arises. As such, there's no fixed set of EJBReceiver(s) which the EJBClientContext can known before hand to issue the recovery request against. So how does the EJB client API know which EJBReceiver(s) should it issue the recovery request when the recovery manager background process asks it for the Xid[] that need to be recovered. The answer to that question is that whenever a EJBReceiver is registered in a EJBClientContext, it will make that EJBReceiver eligible for issuing a recovery request against. This is a very important thing to remember since if a server/EJBReceiver was being used during EJB invocations and either the server or client crashed, then the recovery against the server/EJBReceiver will not be triggered unless that EJBReceiver gets registered within a EJBClientContext. This however isn't a restriction since a recovery process between 2 servers only makes sense when they are communicating with each other and from a EJB client API perspective, the communication can only happen when the EJBReceiver is registered in a EJBClientContext. h1. Implementation note The EJB client project will *not* have any dependency on the JBoss Transactions (Narayana) project. All of the details being discussed in this article will be implemented in a way such that the AS7 EJB integration part can provide the necessary plugins to the EJB client library for allowing the recovery process to be carried out.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Single	Installation Patching</header>
    <body>Sorry David, for not replying long ago. I'm fine with a disabling mechanism, particularly if it's ok to undo the change on a patch rollback. My inclination is to add a UI element such that we warn the user of the presence of this kind of change and require them to pass a flag allowing it. It's less critical that we do that if we allow re-enabling on rollback. But it may still be nice as it will help avoid suprises, e.g. if the disabled jar was on a classpath. As for RPM, +1. I want the approach we follow here to be generally consistent with RPM patching, so a user who is familiar with RPM will have a general sense of how what we're doing will behave, and so a user who is accustomed to this tool who then moves to RPM is reasonably comfortable. As for actually using this tool on an installation that was provisioned via RPM -- that was not part of the original requirements for the tool. I would want to hear a clear example of how the two could mix and what the benefits would be before I'd go to my management to look into getting resources to make that happen.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Remote EJB distributed transactions and recovery</header>
    <body>bad idea to reimplement XA Transaction handling just for two servers and one specific EJB client API, when you have a separate project specialised for complex problem like XA two face commit. Typically you don't have just two servers for XA recovery but, often XA Transaction is spawn over TXT Datasource(s) which interact also with TX Manager from DB. Or if you have JMS Ressources like Queue or Topic with TXT Connection Factory. What if Stand Alone Client is using EJB API to communicate to a Server A EJB , but this EJB calls Server B EJB over let say iiop...? What if TXT start was issued outside of Server or if Serve A and Server B are back, but the DB is still down.. ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Remote EJB distributed transactions and recovery</header>
    <body>Radek, I'm not really sure what your point is. I understand that. This article is more about internal implementation details about these transaction managers are made aware of the transactions across the servers.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Design of Messaging on JBoss (Messaging/JBoss)]	- Re: PingStressTests hanging</header>
    <body>| + | | + | |     // Attributes --</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Readonly transactions in session beans</header>
    <body>I think you get can get to the session from the EntityManager delegate. I have a similar case where I load my data into an @ApplicationScoped (@Singleton) bean, I then have a REST interface which I can call in order to flush the component and force a re-fetch if necessary.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Readonly transactions in session beans</header>
    <body>JBoss does not explicitly support this notion. The fact is is that Spring Framework read-only transactions are poorly understood by developers that use it and it rarely does what you expect. See  http://www.ibm.com/developerworks/java/library/j-ts1/index.html Transaction strategies: Understanding transaction pitfalls for more information.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBossAS Roadmap for	JavaEE 7 ?</header>
    <body>Will JBossAS 7 implement JavaEE 7 or is JavaEE 7 addressed by a later JBossAS version?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBossAS Roadmap	for JavaEE 7 ?</header>
    <body>Hi, it will be a new version of AS. probably 8, but in any case it wont be 7.x anymore. -- tomaz</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS 7 Support for XDoclet tag @jboss.method-attributes needed</header>
    <body>Hello, we are migrating from JBoss AS 4.0.5 to JBoss AS 7.1.3. We have a CMP Entity Bean (EJB 2.1) with a 1:n/n:1 relation (java.util.Set&lt;ObjectXYZ&gt;). When we load the Entity outside of a transaction (for example by calling homeInterface.findByPrimaryKey(4711) and want to iterate over the relation "java.util.Set..." for example from a struts action we get the following Exception in JBoss AS 7. "A CMR collection may only be used within the transaction in which it was created". The Entity ist configured via XDoclet annotations/tags. So we have the tag @jboss.method-attributes pattern = "get*" read-only = "true", which results to &lt;entity&gt; in jboss.xml. In JBoss 7 AS the jboss.xml is not supported. 1. Question: How can I tell the getter-methods of my entity to be read-only in JBoss AS 7 ? Otherwise I will get the above Exception with the relation ! 2. Querstion: How is it possible to deploy/configure/run a CMP Entity Bean (EJB 2.1) with a CMR without a transaction in JBoss AS 7. Thanks. Ersin.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBoss AS 7 Support for XDoclet tag @jboss.method-attributes needed</header>
    <body>Hi Ersin, If you load a collection via CMR the method call of 'Collection get....' and the iteration must be in the same transaction. This is in AS4.3 and AS5, maybe in 4.0 it was different  :( Also in AS7 there are several issues with EJB2 and CMP configuration and behavior. Several people are working on that. I hope that we can provide commits in AS7.1 and AS7.2 branch.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBoss AS 7 Support for XDoclet tag @jboss.method-attributes needed</header>
    <body>Hi Wolf-Dieter, thank you very much for the quick response. Up to now, I couldn't find a way to configure calls to the getter methods of a CMP Entity Bean (EJB2.1) read-only. I have looked into the schemas for jboss-ejb3.xml and ejb-jar.xml and couldn't find any support for my problem. In JBoss AS 4/5/6 we had the jboss.xml. We don't want to run a load-anything-method with a CMR call in a EJB transaction, because it's just a read, without a write/update operation. I think, there should not be a need for a transaction in this szenario (performance issues). So, we need something like &lt;entity&gt; &lt;/entity&gt; Otherwise, we get the following exception, when we access the CMR collection. "A CMR collection may only be used within the transaction in which it was created". Any idea ? Ersin</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7	Securing Passwords</header>
    <body>That's not fool proof. Hardware encryption will make it difficult to copy the store, but since you have to have the password in our config file, someone with access to the system can get those passwords the same way we can.  User prompted password would be alot more secure, however, for reasons in mentallurg's article it's not very practical. Even with that though, it's not fool proof, if someone gains access to the system they dont even need to use the keystore. If they can get permissions to the running process (e.g. become the user running jboss), then they can take a memory dump of the JVM. Using the memory dump you can get the passwords out.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss Passwords - not secure, but recommended</header>
    <body>This is a very well written article. Thank you for the contribution. I agree that a huge chunk of the industry has a false sense of security about password encryption, and that we should do more to educate them.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7	Securing Passwords</header>
    <body>I agree a better warning is needed. Looks like you contributed most of that, thanks! However, as you yourself mention concealing and relocating passwords provides security value, it's just a very limited value, that only works in combination with other layers of security. I don't think there was really any intention to mislead here. I myself took the "security through obscurity" quote was actually a reference to "security through obscurity is no security at all"  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Install JBOSS tools on Eclipse Juno (4.x)</header>
    <body>Please take a backup of '~/.eclipse' directory (especially in fedora) before installing the 'Eclipse Juno SR1' UI optimization patch via JBoss Center.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Log HTTP POST data in JBoss AS 7.1.1</header>
    <body>Alternatively, you could also use tcpdump (if running on a unix based system) or  http://www.wireshark.org/ Wireshark.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Log HTTP POST data in JBoss AS 7.1.1</header>
    <body>Or perhaps the RequestDumperValve from  http://docs.jboss.org/jbossweb/7.0.x/config/valve.html http://docs.jboss.org/jbossweb/7.0.x/config/valve.html ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jBPM 5.4 with MySql</header>
    <body>Hi, I'm trying to setup the jbpm with backend db as MySql/MS-SQL Hence, i found this useful article  https://community.jboss.org/docs/DOC-19221 https://community.jboss.org/wiki/SetUpJBPM53ToUseMSSQLServer2008 i was able to proceed with this, but the step 4 while executing +*ant install.demo.db*+ i encountered the following error, +*Target "install.demo.db" does not exist in the project "jBPM.install".*+ But where can i find the scripts. please tell me an alternate solution for this. TIA</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>Hi, you should use: *ant install.db.files* You can find it in build.xml file.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>Just give ant install.demo. install.demo.db is mentioned in the user guide but the target is not there in build.xml.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - A debuggers guide to 'AS7 Internal Architechture Overview'</header>
    <body>*Introduction* Since Brian Stansberry was kind enough to write an article on the AS 7 interal architechture, the aptly named "AS7 Internal Architecture Overview",  https://community.jboss.org/docs/DOC-47970 https://community.jboss.org/wiki/AS7InternalArchitectureOverview, I thought I'd document my attempts of walking through it in the form of a tounge-in-cheek diary. Hopefully, he'll have time to correct my misunderstandings (as I'm sure there will be plenty). If nothing else, he will at least have proof that at least one person has read through his article. The first part of this article will deal with setting up the debugging environment and stepping through the aquiring of the ServerEnvironment and the initializations of the BootStrapImpl and ServerContainerImpl instances involved. More will follow as I debug along. *Environment* Well, where to start? Since we all know by now that the AS7 is blazingly fast, we'll need a debugger to place some breakpoints so we'll have a chance of seeing what's going on. Grab Eclipse Juno SR1 from  http://eclipse.org/downloads/ http://eclipse.org/downloads/ and JDK 7 from   http://www.oracle.com/technetwork/java/javase/downloads/index.html http://www.oracle.com/technetwork/java/javase/downloads/index.html. Install the JDK and Eclipse, you might also want to set JAVA_HOME to point at the JDK and set -vm C:\Java\jvm\jdk1.7.0_12\bin\javaw.exe (on Windows) in eclipse.ini. You'll also want JBoss Tools (since you're the 'living on the edge' kind of person, use the nightlies at  http://download.jboss.org/jbosstools/updates/nightly/core/trunk/ http://download.jboss.org/jbosstools/updates/nightly/core/trunk/). Then we'll need some sources. Grab the source zip from  https://github.com/jbossas/jboss-as https://github.com/jbossas/jboss-as or even better, install git and do a 'git clone git://github.com/jbossas/jboss-as.git'. Since you're in a hurry (and running tests is for CI-systems anyway, right?), build the as with 'build clean install -DskipTests' After the build has completed, start Eclipse and define a new server pointing at that runtime (it's under the build/target dir). Remember to set the startup timeout to a large number (integers are cheap). *The main method* In the beginning was Main.main(String...). And the return was void. And he thought he'd better roll up his sleeves and get to work. Since Brian told us bootstrapping starts at the server module, use the Eclipse "Import existing Maven project"-feature to pull in the jboss-as-server project from the "server" folder in the AS source. In the article we learn that the startup scripts point JBoss Modules to this very module and the Main server class so this is where we'll place our breakpoint and press the server debug  button to boot it up in debug mode. Takeoff! The breakpoint is hit and you can point the source lookup to the jboss-as-server project on your workspace. If you look at the import list of Main, you will notice references to projects and subprojects such as "controller", "process", "version", "logmanager", "modules", "msc" and "stdio". As this tutorial proceed, I might venture further in but for now I'll take the stance that as-subprojects (such as "controller")  are imported and examined when stumbled upon but as-sibling projects (such as modules and threads) are stepped out of in the debugger. Those who can't wait are of course invited to check out the sibling projects also and step into them. The notable exception to the policy will be the MSC (Modular Service Container) which we will open up since, well, that's a large part of the AS. The first thing the main module does is sets up the basic logging and capturing of the standard I/O streams. It also sets up JBoss Modules with the basic information it need to be able to do it's job (apparently access to the stuff in "org.jboss.vfs", the Virtual File System module) is required. The first real "AS"-work is done in determineEnvironment, where we determine the running environment by assembling a ServerEnviroment. You might also want to import the controller project at this point because we will see RunningMode there (although it's just a simple enum that tells if we're running in normal or admin mode). *The running environment* This method takes the parameters to main(String...), the system properties, the system environment and a flag that tells if this is a standalone instance booting. Both the fetching of the system properties and the environment checks for precense of a security manager and runs the call through AccessController.doPrivileged if one is found. In other cases, a straight call is performed. The main job of determineEnvironment is parsing through the arguments, sometimes just printing out usage or version information and exiting or setting various system/env values based in the incoming prameters. In our case we hit the determineEnvironment with the "-b" "localhost", "--server-config=standalone.xml" and some system properties/env data. The args are looped and "-b, "localhost" is converted added to the system properties as "jboss.bind.address" =&gt; "localhost" and the serverConfig value is set to standalone.xml. A new ProductConfig is created (it's in the version project, import it), it looks for a system env JBOSS_PRODUCT_CONF and if that can't be found returns the path to a product.conf in the AS bin dir. We don't have any of that so we end up with null for all values, on an EAP, apparently the manifest data of the jar in the org.jboss.as.product module is read according to the slot property which was read from the for-us-fictional property file. Equipped with a deeper knowledge of our three null values, we move on. The determineEnvironemt should return a ServerEnvironment and so it does in the last line by throwing all it got into the constructor of said class. The code in the constuctor is longish but fairly easy to step through, essentially what it does is determine host names and various directories (temp, work, deployments etc) to use based on the information passed in. All this is the encapsulated into the ServerEnvironment object. It also places some of these values back into the system properties. At one point it also copies the original system properties and tucks them away, possibly to be restored when the server reloads or something. Anyways, at this point when the object is returned, the boot process has determined everything it needs to know about its running enviroment and can move on. *Bootstrapping the bootstrapping* At the end of the main loop we get an instance of BootstrapImpl and by doing so we also get a ServiceContainerImpl and here the simple part of the tutorial ends ;-) Import the jboss-msc project. BootstrapImpl creates a ServiceContainerImpl which extends a ServiceTargetImpl. A ServiceTargetImpl is a hiearchial construct with a parent, a Map of ServiceListener with assoicated inheritance data and a Set of dependent service names. The ServiceTargetImpl has various methods for adding/removing dependencies and listeners and working with ServiceBuilders. The javadoc says it's a "Abstract base class used for ServiceTargets" but the implementation looks quite concrete (and central) to the MSC. A ServiceListener is an interfaces that can be used for listening for various events in the MSC, such as state transitions, services added, various dependencies becoming available/unavailable etc. The ServiceListener.Inheritance determines if the listener should be inherited to all sub-service-targets, only once or not at all. By using the subTarget() method you can get a new ServiceTargetImpl with the current instance as the parent (the hiearchial part). There is apparently also a batch-version of the method but let's skip it for now. A ServiceName is an unique (complicated, hierarchial) identifier with a String name, a ServiceName parent and a hashcode. But back to the ServiceContainerImpl. In the instance variables we have a 'registry' - a Map of ServiceName -&gt; ServiceRegistrationImpl, 'start'  (more on the ServiceRegistrationImpl later on) - timestamp of start time, 'shutdownInitiated' - timestamp of shutdown started, 'terminateListeners' - a list of TerminateListener instances interested in the shutdown event, 'profileOutput' - ?, 'terminateInfo' - timestamps of a possible shutdown in progress, 'down' - flag telling if container is down, 'executor' - the container thread pool executor, 'name' - the name of the container, 'mBeanServer' - a handle to the MBeanServer, 'objectName' - the MBean name of the container and 'containerMXBean' - a MBean interface implementation for the container, 'SERIAL' - an AtomicInteger used for getting a serial number for the container, 'PROFILE_OUTPUT' - the value of the system property jboss.msc.profile.output (or null), 'executorSeq' - an AtomicInteger used for getting a sequence number for the executor, 'HANDLER' - an exception handler for uncaught exceptions slipping through and 'POLICY' - a Thread pool executor policy. Phew! There are also some nested classes available. The executor is a ContainerExecutor, which extends a ThreadPoolExecutor. When created, it grabs an id from executorSeq and creates a threadSeq sequence for threads. It offers a newThread(Runnable) method that returns an instance of ServiceThread extends Thread after setting the thread name (including the executors id and an incremented sequence number from the threadSeq). ServiceThread is a basic Thread extension that can keep a reference to a ServiceContainerImpl. The ContainerExecutor also uses HANDLER and POLICY defined in the parent class.  LatchListener is a TerminateListener that increases in the constructor and decreases when a termination is observed, essentially keeping a count of running containers. ShutdownHookHolder hold a boolean down flag that says if the container is shutting down (possibly preventing new containers from being registered). It also contains a set of known containers. A cleanup thread is registered with Runtime.getRuntime().addShutdownHook that sets the down to true, iterates over all known containers, attaches a LatchListener (set to the size of known containers) to them and shuts them down. The terminating containers will fire the termination listener and then the thread can just sit and wait until the latch is finshed (all known containers signalled termination). So we are in the constructor of the ServiceContainerImpl (from BootstrapImpl). Well, first the static stuff is called, causing a greeting to be printed out, then field initialization occurs. But then we get ourselves a serialNo (1) and set the name (jboss-as). The ContainerExecutor is initialized. The objectName is intialized (jboss.msc:type=container,name=jboss-as), the mBeanServer is fetched from the ManagementFactory.getPlatformMBeanServer and the containerMXBean is registered with the server. The mBeanServer and objectName are stored to the instance variables. We register the container with the static Set in the ShutdownHookHolder, adding the container and a Reaper that will remove the registration. Finally, if the container was registered as a MBean, we add a termination listener that will unregister the container from the MBean server. With the service container initialized, booting can begin.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS 7 Internal	Architecture Overview</header>
    <body>I started documenting my adventures at  https://community.jboss.org/docs/DOC-48190 https://community.jboss.org/wiki/ADebuggersGuideToAS7InternalArchitechtureOverview</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jbpm engine is generating 4 tasks instead of just one !!</header>
    <body>Why dont you use jbpm 5.4 final version? As for your question, similar thing happened to me once. I left the comment value for the task as empty which resulted in 4-5 tasks instead of just 1. So may be you can check if the comment value for the task is empty or not. If it is then try putting some comments and running it again. Regards.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using the CLI	remote client jar</header>
    <body>Is this jar available via Maven?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Advanced CLI scripting with Groovy, Rhino, Jython, etc.</header>
    <body>Is there a POM or quickstart available for this?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Getting activity coordinates</header>
    <body>Could anyone help me with getting the activity coordinates in jbpm 5 please. https://community.jboss.org/thread/217574 https://community.jboss.org/thread/217574 Thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using the CLI	remote client jar</header>
    <body>Not yet, but it should be there once 7.2 Alpha is released.  If it doesn't get put into the repo, please ping this discussion again and I'll add it. Look for: &lt;dependency&gt; &lt;groupId&gt;org.jboss.as&lt;/groupId&gt; &lt;artifactId&gt;jboss-as-cli&lt;/artifactId&gt; &lt;classifier&gt;client&lt;/classifier&gt; &lt;/dependency&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using the CLI	remote client jar</header>
    <body>jboss-cli-client.jar is not available in that directory or any others in EAP6.  How would one do run the examples you documented in  https://community.jboss.org/docs/DOC-18796 https://community.jboss.org/wiki/AdvancedCLIScriptingWithGroovyRhinoJythonEtc in EAP 6.0.1?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Advanced CLI scripting with Groovy, Rhino, Jython, etc.</header>
    <body>No, but that's a good idea.  We do need more documentation on this subject.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using the CLI	remote client jar</header>
    <body>It's not available in EAP 6.0.1 because the jar is not available until AS7.2 and EAP 6.0.1 is based on an earlier version of AS7.  However, the good news is that the AS7.2 CLI (and its client jar) is known to work with earlier AS7 versions.  I use the AS7.2 version of  https://community.jboss.org/docs/DOC-17457 CLI GUI with AS 7.1 quite often.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Jbpm 5 weird behavior	starting a process</header>
    <body>Hi, Lately I have started experiencing a weird behavior using jbpm5.4. Now, if I start a process, the number of instances I get is equal to the id of the process. What I mean is if the database is clean and I initiate a process, it starts 1 process for me and its id is 1. If again I start a process, it starts 2 instances and both have ids as 2. Any clue why this is happening? https://community.jboss.org/servlet/JiveServlet/showImage/2-788954-20052/error.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/2-788954-20052/450-345/error.png</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Jbpm 5 weird behavior	starting a process</header>
    <body>Logic behind the GUI is correct. Even in the jbpm schema, I can see the same information.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Jbpm 5 weird behavior	starting a process</header>
    <body>Guys i am still struggling with this issue. Please help.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Need help to migrate JBOSS-Cache to Infinispan 5.1.x</header>
    <body>I am in process of migrating my application from AS-5.1.0 GA to 7.1.1. I have gone (at least it think I have) through all steps defined in the migration documentation.  The only part I am having issue is porting from jboss-cache to infispan. What I have is a JMX based cache defined in my-jboss-beans.xml as such: &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;deployment xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2001/XMLSchema-instance" &lt;/deployment&gt; Can somebody point me in the right direction on this.  How the above is acheived in AS-7.x?  Thanks in advance.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Need help to migrate JBOSS-Cache to Infinispan 5.1.x</header>
    <body>Anyone???</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - my application does not see the oracle classes even if the driver is defined.</header>
    <body>I have created the oracle module at $JBOSS_HOME/modules/com/oracle/ojdbc14/main module.xml ojdbc14.jar ojdbc14.jar.index the content of the module.xml is as follows. &lt;module xmlns="urn:jboss:module:1.0" name="com.oracle.ojdbc14"&gt; &lt;resources&gt; &lt;/resources&gt; &lt;dependencies&gt; &lt;/dependencies&gt; &lt;/module&gt; when I run my web application [Server:comet_i5] 06:02:44,883 ERROR [stderr] (http--0.0.0.0-8100-2) Caused by: java.lang.ClassNotFoundException: oracle.sql.BLOB from [Module "deployment.Aragorn.war:main" from Service Module Loader] [Server:comet_i5] 06:02:44,884 ERROR [stderr] (http--0.0.0.0-8100-2)    at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:190) [Server:comet_i5] 06:02:44,884 ERROR [stderr] (http--0.0.0.0-8100-2)    at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:468) [Server:comet_i5] 06:02:44,885 ERROR [stderr] (http--0.0.0.0-8100-2)    at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:456) [Server:comet_i5] 06:02:44,885 ERROR [stderr] (http--0.0.0.0-8100-2)    at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:423) [Server:comet_i5] 06:02:44,885 ERROR [stderr] (http--0.0.0.0-8100-2)    at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398) [Server:comet_i5] 06:02:44,886 ERROR [stderr] (http--0.0.0.0-8100-2)    at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120) should I also add the ojcdb14.jar into the WEB/lib of my war.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: JCA's relation to	ESB</header>
    <body>thanks for the unscrewed links Mark Little</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Single sign on issue on session Expiration Jboss 7</header>
    <body>I have several applications deployed on the same jboss instance. I currently have Single Sign On configured using the &lt;sso/&gt; tag. It is possible for a user to navigate from one application to another app (redirect) deployed on the same jboss instance. Currently when the user is authenticated into the first appplication, the SSO cookie is created and a Single sign on entry is created for this cookie in the SingleSignOn valve which works fine. Each application has a timeout period of 60 mins configured via the web.xml. When the user navigates to the second application the user principal is correctly propogated and a new session is created. However an new SSO entry for the second app is not created since the cookie remains the same. Now the issue is that lets say the session for the first application expires, even if the second app's session is still active because the user is accessing the 2nd app, the Single Sign On entry is deleted. Therefore the principal is lost on subsequent requests for the second application. Because the Single Sign entry that is removed also gets rid of the principal. Is there a way to get around this issue?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - JBPM 5 clustering</header>
    <body>Hi All , 14:57:48,654 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/jbpm-console].[ErraiServlet]] (http-localhost-127.0.0.1-8080-12) Servlet.service() for servlet ErraiServlet threw exception: java.lang.IllegalArgumentException: clusteredSession.setAttribute.iae Can anybody throw some light on this. Regards Sachin</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - [jboss-modules] More public ModuleLoaders</header>
    <body>Hi, I'm currently trying to integrate jboss-modules into Tomcat ( https://github.com/hasalex/tomcat-modules https://github.com/hasalex/tomcat-modules), in replacement of the regular WebappClassLoader. I'm not sure to have a real use-case of that, but I think that it's a nice way to learn jboss-modules. My first steps would be much easier if I had some more public module loaders. For example, I find the ClassPathModuleLoaderWrapper useful but it is package-private. In fact, a lot of stuff are package-private. Jboss-modules would be much more extensible and useful with more public classes.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Closing the subforum?</header>
    <body>Since most dev-discussionn takes place on the mailing-list or on #jboss-as7, would there be a point in closing this subforum to avoid confusion? Most posts here belong in the main JBoss AS 7 forum anyway. Or limit postings to articles?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Closing the	subforum?</header>
    <body>I agree, it's a little bit confusing what the right place for a posting is. And it's could be easier to remove all this tv and sport ads only from one forum  :p</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Unable to execute a BPMN definition with 300 concurrent users</header>
    <body>I am doing a performance comparison for executing a process with various bpm vrndors. PD   : Start -&gt;  Service -&gt;(usertask1,usertask2) When i run with 50 usres itself i am getting several errors including many transaction failure due to 1. User task creation taking more time 2. COncurrent modification exception in task service My queries are 1. Are there any specific configurations when running with multiple users 2. Having Human task and proces engine same jvm is better or different</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - To use LdapExtLoginModule with JaasSecurityDomain mbean - encode64 operation</header>
    <body>Hi, I am trying to port security code which was running on jboss4 to jboss7. As a part of it I need to encode the bindCredentials. Previously I defined a bean in jboss-service.xml and was using it in code to encode the bindCredentials before writing it to a file - login-config.xml. I have done other changes and using standalone-full.xml. However not able to achieve this encoding part because of which it gives the error - Incorrect password on login. Is there equivalent service &amp; operation in JBoss7. Tried to google but could not find the required information. Does picketBox jar provides any such facility? Please let me know how to achieve it. Regards, Veena</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: ClassNotFoundException (org.xml.sax.helpers.DefaultHandler) in a module</header>
    <body>I had the same issue while creating a module for EhCache in jboss 7.1.1.Final. In the end I used the following dependency (because it was asking first for "org/xml/sax/helpers" then for "javax/xml/parsers", "javax/naming", and so on...) &lt;module name="javax.api"/&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Cache Development] - Ready to Watch A Haunted House Online scary movie</header>
    <body>Watch A Haunted House Online: After a supporting stint in the little-seen gang drama New Blood 1999 Wayans film fortunes increased dramatically when he co-starred with his brother Marlon in a hit film directed by their older brother Keenan: Scary Movie 19992000, a comic satire which he also co-wrote on the then-recent trend of horror films like Scream. Wayans played the apparently closeted Ray Wilkins, a role he reprised for the similarly popular 2001 sequel Scary Movie 2. Watch A Haunted House Online Free. Soon after, Ben finds David at home with blood all over his forearms, eyes rolled back into his head, much the way Maria was during the exorcism. The police arrive, and though it doesnt show on film, David acquires an officers handgun and holds it in his mouth. Ben tells him to fight it, but he begins to weep, reciting The Lords Prayer, stopping; forgetting the last few words. He laughs and then shoots himself. Just then, Isabella begins having a seizure. Download A Haunted House Movie: From the writing team that brought us LiTTLEMAN 2006 and White Chicks 2002 comes the upcoming film A Haunted House, the latest spoof film to skewer modern horror movie tropes. Today saw its first official trailer hit the web. Marlon Wayans, lead actor, co-writer and producer of the film, was responsible for launching the Scary Movie franchise back in the early aughts. Watch A Haunted House Online Though this new feature may seem like a bit of a retread, this time Wayans has a whole new slew of found-footage horror films to lampoon-from The Devil Inside to Paranormal Activity 2007 to those ridiculous ghost-chasing TV shows you always see advertised-its all ripe for parody in this new trailer. One thing that is a little troubling about the trailer is the inclusion of Nick Swardson as a seemingly prominent character. Anyone who remembers last years ill-fated television show of his Pretend Timeor the awful Adam Sandler movie he had a role in Just Go with It.or the other awful. Watch a haunted house Movie: Where do jokes go to die? A HAUNTED HOUSE. No, that wasn't my own botched attempt at a joke, it's just a fact; this parody movie wouldn't know a clever joke, pun or sight gag if it happened upon one by accident. The brainchild of Marlon Wayans, who has tried his hand at goofing on horror movies before with the first two SCARY MOVIE flicks, this cheap and dull product is like a consistent assault on your patience and, eventually, your will to live. A HAUNTED HOUSE's supposed goal is to thoroughly skewer the found footage genre, mostly the PARANORMAL ACTIVITY films, with a side of BLAIR WITCH PROJECT and THE DEVIL INSIDE. (That's the extent of Wayans and his co-writer Rick Alvarez's found footage knowledge.) However, as the movie is mainly a series of fart, genital, race and gender jokes, it's obvious that it doesn't have anything subversive or intelligent to say about the genre itself - it's just inserting a lot of crude idiocy.</body>
  </mail>
</mails>

