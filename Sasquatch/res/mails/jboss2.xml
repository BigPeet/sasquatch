<?xml version="1.0" encoding="UTF-8"?>
<mails>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the aggregate:  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/pom.xml pom.xml. 2. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/base.target base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target 2. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. JBoss Central Discovery Updates *Goal:* Modify the JBoss Central mylyn discovery install/update mechanism. JBoss Central, based on  http://wiki.eclipse.org/Mylyn/Discovery Mylyn Discovery, is in part a UI for installing new features into Eclipse or JBDS. It provider a richer, yet simpler UI than what Eclipse's p2 Install Manager provides out of the box. For detailed information see  https://community.jboss.org/docs/DOC-48297 https://community.jboss.org/wiki/JBossCentralsSoftwareUpdateTab-HowDoesItWork 1. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/discovery 2. Follow the same git process as defined in the Components Updates section. 3. Modify the discovery connectors as needed within the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/discovery/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml discovery plugin. 4. Add any icons that may be required. h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *discovery* - provides JBoss Central discovery support * *Jenkins* - * *target platform* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform * *aggregate* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate * *aggregate publish/promote* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish * *discovery* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery * *install tests* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform. h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 5).  This should serve as an early warning system to identify platform incompatibilities early in the process.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the aggregate:  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/pom.xml pom.xml. 2. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/base.target base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target 2. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. JBoss Central Discovery Updates *Goal:* Modify the JBoss Central mylyn discovery install/update mechanism. JBoss Central, based on  http://wiki.eclipse.org/Mylyn/Discovery Mylyn Discovery, is in part a UI for installing new features into Eclipse or JBDS. It provides a richer, yet simpler UI than what Eclipse's p2 Install Manager provides out of the box. For detailed information see  https://community.jboss.org/docs/DOC-48297 https://community.jboss.org/wiki/JBossCentralsSoftwareUpdateTab-HowDoesItWork 1. For changes to the discovery update:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/discovery 2. Follow the same git process as defined in the Components Updates section. 3. Modify the discovery connector descriptors and installation units as needed within the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/discovery/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml discovery plugin. 4. Add any icons that may be required. h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *discovery* - provides JBoss Central discovery support * *Jenkins* - * *target platform* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform * *aggregate* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate * *aggregate publish/promote* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish * *discovery* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery * *install tests* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform. h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 5).  This should serve as an early warning system to identify platform incompatibilities early in the process.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the aggregate:  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/pom.xml pom.xml. 2. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/base.target base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target 2. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. JBoss Central Discovery Updates *Goal:* Modify the JBoss Central mylyn discovery install/update mechanism. JBoss Central, based on  http://wiki.eclipse.org/Mylyn/Discovery Mylyn Discovery, is in part a UI for installing new features into Eclipse or JBDS. It provides a richer, yet simpler UI than what Eclipse's p2 Install Manager provides out of the box. For detailed information see  https://community.jboss.org/docs/DOC-48297 https://community.jboss.org/wiki/JBossCentralsSoftwareUpdateTab-HowDoesItWork 1. For changes to the discovery update:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/discovery 2. Follow the same git process as defined in the Components Updates section. 3. Modify the discovery connector descriptors and installation units as needed within the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/discovery/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml discovery plugin. 4. Add any icons that may be required. h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *discovery* - provides JBoss Central discovery support * *Jenkins* - * *target platform* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform * *aggregate* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate * *aggregate publish/promote* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish * *discovery* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery * *install tests* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform. h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 4.1).  This should serve as an early warning system to identify platform incompatibilities early in the process.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration	Tooling Release Process</header>
    <body>I fixed the Kepler/JBT 5 to Kepler/JBT 4.1. About major version bump then I just want to point out Indigo-&gt;Juno is Eclipse 3.3 to 4.2, where as Juno-&gt;Kepler is 4.2 to 4.3 so its two different kind of jumps. In JBT we bumped major version of JBoss tools because Eclipse bumped major versions and changed hard.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration	Tooling Release Process</header>
    <body>How does one perform a build w/ mvn and point it at your TP definition? I'm assuming it'll be something like mvn clean install -Psomeprofile or mvn clean install -Dsomeproperty=somevalue ... Reason I'm asking is that ESB needs Zest, and having it on the aggregate site won't make it BUILD, only make it INSTALL. It needs to be on an update site from which the build can resolve it first. Where is your target platform UPDATE SITE? Or how do I tell the build to use your .target file?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Multiple instances of JBoss AS7 on the same machine</header>
    <body>I think I don't quite understand approach #2: I cloned my existing JBoss AS installation directory and kept everything as it was, except for the file system paths and the port-offset parameter of the socket-binding-group. But when I try to start the second instance, the console output is "ERROR: transport error 202: bind failed: The address is already in use". Is there a part of approach #1 that I need to include in following approach #2? The reason I went with approach #2 to begin with is that I want both instances to be reachable from the Internet, so I figured I'd have to bind them both to &lt;any-address&gt;. Or to the host's external IP address? Or am I completely missing something here?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - How To Build JBoss Tools Target Platforms</header>
    <body>Here's the current (as of 2013-02-15) process for creating a new target platform: *  https://github.com/jbosstools/jbosstools-target-platforms/wiki https://github.com/jbosstools/jbosstools-target-platforms/wiki</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - What is the best way to work with sessions and processes while using persistance</header>
    <body>Hi, Actually, i m a newbie in jbpm so please comment/criticize any wrong thing u think i m doing. In order to work on processes with human tasks nodes and use persistance, i had the choice between creating a session for each process or to create a session for many processes in the same time. i choosed the first solution as i can free the memory by disposing the session(with ksession.dipose()) before creating another one and reload it with the JPAKnowledgeService.loadStatefulKnowledgeSession(idsession,kbase, config, env);  method when i need it again. if i was working with the second solution, i create a session and i start  processes with ksession.startProcess(..) but i don't know how to stop/pause those process instances in order to free memory ( i m working with jbpm 5.0.0) .. Another problem happened is that processes in loaded session (in the first solution) seems being not actives (i coudn't get tasks from loaded sessions) and i think maybe becose the session was disposed .. (it was my topic for my previous asked question in here https://community.jboss.org/thread/221356?tstart=0 i also want to know if there is a way to get the persisted sessions list from database without implementing my own logic to do that , i think jbpm already have this logic. cheers !</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the aggregate:  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/pom.xml pom.xml. 2. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/base.target base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target 2. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. JBoss Central Discovery Updates *Goal:* Modify the JBoss Central mylyn discovery install/update mechanism. JBoss Central, based on  http://wiki.eclipse.org/Mylyn/Discovery Mylyn Discovery, is in part a UI for installing new features into Eclipse or JBDS. It provides a richer, yet simpler UI than what Eclipse's p2 Install Manager provides out of the box. For detailed information see  https://community.jboss.org/docs/DOC-48297 https://community.jboss.org/wiki/JBossCentralsSoftwareUpdateTab-HowDoesItWork 1. For changes to the discovery update:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/discovery 2. Follow the same git process as defined in the Components Updates section. 3. Modify the discovery connector descriptors and installation units as needed within the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/discovery/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml discovery plugin. 4. Add any icons that may be required. h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *discovery* - provides JBoss Central discovery support * *Jenkins* - * *target platform* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform * *aggregate* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate * *aggregate publish/promote* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish * *discovery* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery * *install tests* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform.  For more information and an example on how to refer to the target platform definition, see:  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/README.md https://github.com/jbosstools/jbosstools-integration-stack/blob/master/README.md h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 4.1).  This should serve as an early warning system to identify platform incompatibilities early in the process.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration	Tooling Release Process</header>
    <body>Added a link to discuss TP definition resolution to the IS git README.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - org.jbpm.workflow.instance.WorkflowRuntimeException: -- Illegal method call. This session was previously disposed.</header>
    <body>Hi, i ve a simple java class with a main which i m using such as a test case. All what i want to achieve is to get user task's from a loaded session which was previousely started and disposed. i ve already seen questions asked about this issue(here: https://community.jboss.org/thread/201901 https://community.jboss.org/thread/201901) but still didn't find a solution for it anywhere. it s said that the session is disposed before transaction is completed which cause the mentioned error. and that the dispose must happen after transaction completion but i don't know what are transaction boundaries and how to know when it is completed. this is the class with the main : *************************************************************************************************************************                   //NON XA CONFIGS                   //XA CONFIGS                   ///// FIN INITIALISATION                   // Let's create a Persistence Knowledge Session                   // We need to register the WorkItems and Listeners that the session will use                   // Let's create a Process Instance                   //Each Command will generate an interaction                // Let's reload the session and create a different process instance inside it                   // All the listeners and WorkItemHandlers are volatile, so we need to register them each time that we reload the session                   //  from the DB.                 //Let's create another instance and start it.                   //The process instance was completed and it should be out of the Ksession.                   if(processInstance==null) ************************************************************************************************************************* and this is the log : log4j:WARN No appenders could be found for logger (bitronix.tm.resource.jdbc.PoolingDataSource). log4j:WARN Please initialize the log4j system properly. log4j:WARN See  http://logging.apache.org/log4j/1.2/faq.html#noconfig http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info. &gt;&gt;&gt; Let's create a Persistent Knowledge Session Hibernate: insert into SessionInfo (id, lastModificationDate, rulesByteArray, startDate, OPTLOCK) values (null, ?, ?, ?, ?) Hibernate: select task0_.id as col_0_0_, deadline1_.id as col_1_0_, deadline1_.deadline_date as col_2_0_ from Task task0_, Deadline deadline1_ where task0_.archived=0 and (deadline1_.id in (select startdeadl2_.id from Deadline startdeadl2_ where task0_.id=startdeadl2_.Deadlines_StartDeadLine_Id) or deadline1_.id in (select enddeadlin3_.id from Deadline enddeadlin3_ where task0_.id=enddeadlin3_.Deadlines_EndDeadLine_Id)) and deadline1_.escalated=0 order by deadline1_.deadline_date Hibernate: select user0_.id as id8_0_ from OrganizationalEntity user0_ where user0_.id=? and user0_.DTYPE='User' Hibernate: insert into OrganizationalEntity (DTYPE, id) values ('User', ?) Hibernate: select user0_.id as id8_0_ from OrganizationalEntity user0_ where user0_.id=? and user0_.DTYPE='User' Hibernate: insert into OrganizationalEntity (DTYPE, id) values ('User', ?) Hibernate: insert into ProcessInstanceInfo (InstanceId, OPTLOCK, processId, startDate, lastReadDate, lastModificationDate, state, processInstanceByteArray) values (null, ?, ?, ?, ?, ?, ?, ?) Hibernate: update SessionInfo set lastModificationDate=?, rulesByteArray=?, startDate=?, OPTLOCK=? where id=? and OPTLOCK=? Hibernate: update ProcessInstanceInfo set OPTLOCK=?, processId=?, startDate=?, lastReadDate=?, lastModificationDate=?, state=?, processInstanceByteArray=? where InstanceId=? and OPTLOCK=? Hibernate: select processins0_.InstanceId as InstanceId0_0_, processins0_.OPTLOCK as OPTLOCK0_0_, processins0_.processId as processId0_0_, processins0_.startDate as startDate0_0_, processins0_.lastReadDate as lastRead5_0_0_, processins0_.lastModificationDate as lastModi6_0_0_, processins0_.state as state0_0_, processins0_.processInstanceByteArray as processI8_0_0_ from ProcessInstanceInfo processins0_ where processins0_.InstanceId=? Hibernate: insert into WorkItemInfo (workItemId, creationDate, name, processInstanceId, state, OPTLOCK, workItemByteArray) values (null, ?, ?, ?, ?, ?, ?) Hibernate: select user_.id from OrganizationalEntity user_ where user_.id=? Hibernate: insert into Task (id, archived, allowedToDelegate, taskInitiator_id, priority, activationTime, actualOwner_id, completedOn, createdBy_id, createdOn, documentAccessType, documentContentId, documentType, expirationTime, faultAccessType, faultContentId, faultName, faultType, outputAccessType, outputContentId, outputType, parentId, previousStatus, processId, processInstanceId, processSessionId, skipable, status, workItemId, OPTLOCK) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) Hibernate: insert into I18NText (id, language, shortText, text) values (null, ?, ?, ?) Hibernate: insert into I18NText (id, language, shortText, text) values (null, ?, ?, ?) Hibernate: insert into Content (id, content) values (null, ?) Hibernate: update SessionInfo set lastModificationDate=?, rulesByteArray=?, startDate=?, OPTLOCK=? where id=? and OPTLOCK=? Hibernate: select eventtypes0_.InstanceId as InstanceId0_, eventtypes0_.element as element0_ from EventTypes eventtypes0_ where eventtypes0_.InstanceId=? Hibernate: update ProcessInstanceInfo set OPTLOCK=?, processId=?, startDate=?, lastReadDate=?, lastModificationDate=?, state=?, processInstanceByteArray=? where InstanceId=? and OPTLOCK=? Hibernate: update WorkItemInfo set creationDate=?, name=?, processInstanceId=?, state=?, OPTLOCK=?, workItemByteArray=? where workItemId=? and OPTLOCK=? Hibernate: update Task set archived=?, allowedToDelegate=?, taskInitiator_id=?, priority=?, activationTime=?, actualOwner_id=?, completedOn=?, createdBy_id=?, createdOn=?, documentAccessType=?, documentContentId=?, documentType=?, expirationTime=?, faultAccessType=?, faultContentId=?, faultName=?, faultType=?, outputAccessType=?, outputContentId=?, outputType=?, parentId=?, previousStatus=?, processId=?, processInstanceId=?, processSessionId=?, skipable=?, status=?, workItemId=?, OPTLOCK=? where id=? and OPTLOCK=? Hibernate: update I18NText set Task_Descriptions_Id=? where id=? Hibernate: insert into PeopleAssignments_BAs (task_id, entity_id) values (?, ?) Exception in thread "main" Hibernate: insert into PeopleAssignments_PotOwners (task_id, entity_id) values (?, ?) Hibernate: update I18NText set Task_Subjects_Id=? where id=? &gt;&gt;&gt; Looking for Salaboy's Tasks Hibernate: select task0_.id as col_0_0_, task0_.processInstanceId as col_1_0_, names5_.text as col_2_0_, subjects3_.text as col_3_0_, descriptio4_.text as col_4_0_, task0_.status as col_5_0_, task0_.priority as col_6_0_, task0_.skipable as col_7_0_, user2_.id as col_8_0_, user1_.id as col_9_0_, task0_.createdOn as col_10_0_, task0_.activationTime as col_11_0_, task0_.expirationTime as col_12_0_, task0_.processId as col_13_0_, task0_.processSessionId as col_14_0_ from Task task0_ left outer join OrganizationalEntity user1_ on task0_.createdBy_id=user1_.id left outer join OrganizationalEntity user2_ on task0_.actualOwner_id=user2_.id left outer join I18NText subjects3_ on task0_.id=subjects3_.Task_Subjects_Id left outer join I18NText descriptio4_ on task0_.id=descriptio4_.Task_Descriptions_Id left outer join I18NText names5_ on task0_.id=names5_.Task_Names_Id, OrganizationalEntity organizati6_ where task0_.archived=0 and (organizati6_.id=? or organizati6_.id in (?)) and (organizati6_.id in (select potentialo7_.entity_id from PeopleAssignments_PotOwners potentialo7_ where task0_.id=potentialo7_.task_id)) and (names5_.language=? or (select count(names8_.Task_Names_Id) from I18NText names8_ where task0_.id=names8_.Task_Names_Id)=0) and (subjects3_.language=? or (select count(subjects9_.Task_Subjects_Id) from I18NText subjects9_ where task0_.id=subjects9_.Task_Subjects_Id)=0) and (descriptio4_.language=? or (select count(descriptio10_.Task_Descriptions_Id) from I18NText descriptio10_ where task0_.id=descriptio10_.Task_Descriptions_Id)=0) and (task0_.status in ('Created' , 'Ready' , 'Reserved' , 'InProgress' , 'Suspended')) and (task0_.expirationTime is null) Hibernate: select user0_.id as id8_0_ from OrganizationalEntity user0_ where user0_.id=? and user0_.DTYPE='User' salaboysTasks.size() : 1 &gt;&gt;&gt; Starting Salaboy's Task Hibernate: update Task set archived=?, allowedToDelegate=?, taskInitiator_id=?, priority=?, activationTime=?, actualOwner_id=?, completedOn=?, createdBy_id=?, createdOn=?, documentAccessType=?, documentContentId=?, documentType=?, expirationTime=?, faultAccessType=?, faultContentId=?, faultName=?, faultType=?, outputAccessType=?, outputContentId=?, outputType=?, parentId=?, previousStatus=?, processId=?, processInstanceId=?, processSessionId=?, skipable=?, status=?, workItemId=?, OPTLOCK=? where id=? and OPTLOCK=? &gt;&gt;&gt; Completing Salaboy's Task Hibernate: update Task set archived=?, allowedToDelegate=?, taskInitiator_id=?, priority=?, activationTime=?, actualOwner_id=?, completedOn=?, createdBy_id=?, createdOn=?, documentAccessType=?, documentContentId=?, documentType=?, expirationTime=?, faultAccessType=?, faultContentId=?, faultName=?, faultType=?, outputAccessType=?, outputContentId=?, outputType=?, parentId=?, previousStatus=?, processId=?, processInstanceId=?, processSessionId=?, skipable=?, status=?, workItemId=?, OPTLOCK=? where id=? and OPTLOCK=? Hibernate: select workitemin0_.workItemId as workItemId16_0_, workitemin0_.creationDate as creation2_16_0_, workitemin0_.name as name16_0_, workitemin0_.processInstanceId as processI4_16_0_, workitemin0_.state as state16_0_, workitemin0_.OPTLOCK as OPTLOCK16_0_, workitemin0_.workItemByteArray as workItem7_16_0_ from WorkItemInfo workitemin0_ where workitemin0_.workItemId=? Hibernate: select processins0_.InstanceId as InstanceId0_0_, processins0_.OPTLOCK as OPTLOCK0_0_, processins0_.processId as processId0_0_, processins0_.startDate as startDate0_0_, processins0_.lastReadDate as lastRead5_0_0_, processins0_.lastModificationDate as lastModi6_0_0_, processins0_.state as state0_0_, processins0_.processInstanceByteArray as processI8_0_0_ from ProcessInstanceInfo processins0_ where processins0_.InstanceId=? Hibernate: insert into WorkItemInfo (workItemId, creationDate, name, processInstanceId, state, OPTLOCK, workItemByteArray) values (null, ?, ?, ?, ?, ?, ?) Hibernate: insert into WorkItemInfo (workItemId, creationDate, name, processInstanceId, state, OPTLOCK, workItemByteArray) values (null, ?, ?, ?, ?, ?, ?) Hibernate: select user_.id from OrganizationalEntity user_ where user_.id=? Hibernate: insert into Task (id, archived, allowedToDelegate, taskInitiator_id, priority, activationTime, actualOwner_id, completedOn, createdBy_id, createdOn, documentAccessType, documentContentId, documentType, expirationTime, faultAccessType, faultContentId, faultName, faultType, outputAccessType, outputContentId, outputType, parentId, previousStatus, processId, processInstanceId, processSessionId, skipable, status, workItemId, OPTLOCK) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) Hibernate: insert into I18NText (id, language, shortText, text) values (null, ?, ?, ?) Hibernate: insert into I18NText (id, language, shortText, text) values (null, ?, ?, ?) Hibernate: insert into Content (id, content) values (null, ?) Hibernate: select eventtypes0_.InstanceId as InstanceId0_, eventtypes0_.element as element0_ from EventTypes eventtypes0_ where eventtypes0_.InstanceId=? Hibernate: update ProcessInstanceInfo set OPTLOCK=?, processId=?, startDate=?, lastReadDate=?, lastModificationDate=?, state=?, processInstanceByteArray=? where InstanceId=? and OPTLOCK=? Hibernate: update WorkItemInfo set creationDate=?, name=?, processInstanceId=?, state=?, OPTLOCK=?, workItemByteArray=? where workItemId=? and OPTLOCK=? Hibernate: insert into EventTypes (InstanceId, element) values (?, ?) Hibernate: delete from WorkItemInfo where workItemId=? and OPTLOCK=? Hibernate: delete from WorkItemInfo where workItemId=? and OPTLOCK=? Hibernate: update Task set archived=?, allowedToDelegate=?, taskInitiator_id=?, priority=?, activationTime=?, actualOwner_id=?, completedOn=?, createdBy_id=?, createdOn=?, documentAccessType=?, documentContentId=?, documentType=?, expirationTime=?, faultAccessType=?, faultContentId=?, faultName=?, faultType=?, outputAccessType=?, outputContentId=?, outputType=?, parentId=?, previousStatus=?, processId=?, processInstanceId=?, processSessionId=?, skipable=?, status=?, workItemId=?, OPTLOCK=? where id=? and OPTLOCK=? Hibernate: update I18NText set Task_Descriptions_Id=? where id=? Hibernate: insert into PeopleAssignments_BAs (task_id, entity_id) values (?, ?) Hibernate: insert into PeopleAssignments_PotOwners (task_id, entity_id) values (?, ?) Hibernate: update I18NText set Task_Subjects_Id=? where id=? Hibernate: select sessioninf0_.id as id15_0_, sessioninf0_.lastModificationDate as lastModi2_15_0_, sessioninf0_.rulesByteArray as rulesByt3_15_0_, sessioninf0_.startDate as startDate15_0_, sessioninf0_.OPTLOCK as OPTLOCK15_0_ from SessionInfo sessioninf0_ where sessioninf0_.id=? Hibernate: insert into ProcessInstanceInfo (InstanceId, OPTLOCK, processId, startDate, lastReadDate, lastModificationDate, state, processInstanceByteArray) values (null, ?, ?, ?, ?, ?, ?, ?) Hibernate: update SessionInfo set lastModificationDate=?, rulesByteArray=?, startDate=?, OPTLOCK=? where id=? and OPTLOCK=? Hibernate: update ProcessInstanceInfo set OPTLOCK=?, processId=?, startDate=?, lastReadDate=?, lastModificationDate=?, state=?, processInstanceByteArray=? where InstanceId=? and OPTLOCK=? Hibernate: select processins0_.InstanceId as InstanceId0_0_, processins0_.OPTLOCK as OPTLOCK0_0_, processins0_.processId as processId0_0_, processins0_.startDate as startDate0_0_, processins0_.lastReadDate as lastRead5_0_0_, processins0_.lastModificationDate as lastModi6_0_0_, processins0_.state as state0_0_, processins0_.processInstanceByteArray as processI8_0_0_ from ProcessInstanceInfo processins0_ where processins0_.InstanceId=? Hibernate: insert into WorkItemInfo (workItemId, creationDate, name, processInstanceId, state, OPTLOCK, workItemByteArray) values (null, ?, ?, ?, ?, ?, ?) org.jbpm.workflow.instance.WorkflowRuntimeException: [com.salaboy.process.AsyncInteractions:2 - User Interaction 1:2] -- Illegal method call. This session was previously disposed.           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:132)           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerNodeInstance(NodeInstanceImpl.java:279)           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerCompleted(NodeInstanceImpl.java:238)           at org.jbpm.workflow.instance.node.StartNodeInstance.triggerCompleted(StartNodeInstance.java:49)           at org.jbpm.workflow.instance.node.StartNodeInstance.internalTrigger(StartNodeInstance.java:41)           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:126)           at org.jbpm.ruleflow.instance.RuleFlowProcessInstance.internalStart(RuleFlowProcessInstance.java:35)           at org.jbpm.process.instance.impl.ProcessInstanceImpl.start(ProcessInstanceImpl.java:194)           at org.jbpm.workflow.instance.impl.WorkflowProcessInstanceImpl.start(WorkflowProcessInstanceImpl.java:309)           at org.jbpm.process.instance.ProcessRuntimeImpl.startProcessInstance(ProcessRuntimeImpl.java:170)           at org.drools.common.AbstractWorkingMemory.startProcessInstance(AbstractWorkingMemory.java:1108)           at org.drools.impl.StatefulKnowledgeSessionImpl.startProcessInstance(StatefulKnowledgeSessionImpl.java:330)           at org.drools.command.runtime.process.StartProcessInstanceCommand.execute(StartProcessInstanceCommand.java:46)           at org.drools.command.runtime.process.StartProcessInstanceCommand.execute(StartProcessInstanceCommand.java:25)           at org.drools.command.impl.DefaultCommandService.execute(DefaultCommandService.java:36)           at org.drools.persistence.SingleSessionCommandService.execute(SingleSessionCommandService.java:373)           at org.drools.command.impl.CommandBasedStatefulKnowledgeSession.startProcessInstance(CommandBasedStatefulKnowledgeSession.java:237)           at com.salaboy.jbpm5.MytestMain.main(MytestMain.java:171) Caused by: java.lang.IllegalStateException: Illegal method call. This session was previously disposed.           at org.drools.reteoo.DisposedReteooWorkingMemory.getProcessInstance(DisposedReteooWorkingMemory.java:382)           at org.drools.impl.StatefulKnowledgeSessionImpl.getProcessInstance(StatefulKnowledgeSessionImpl.java:297)           at org.drools.command.runtime.process.GetProcessInstanceCommand.execute(GetProcessInstanceCommand.java:48)           at org.drools.command.runtime.process.GetProcessInstanceCommand.execute(GetProcessInstanceCommand.java:25)           at org.drools.command.impl.DefaultCommandService.execute(DefaultCommandService.java:36)           at org.drools.persistence.SingleSessionCommandService.execute(SingleSessionCommandService.java:373)           at org.drools.command.impl.CommandBasedStatefulKnowledgeSession.getProcessInstance(CommandBasedStatefulKnowledgeSession.java:125)           at org.jbpm.process.workitem.wsht.AbstractHTWorkItemHandler.createTaskBasedOnWorkItemParams(AbstractHTWorkItemHandler.java:105)           at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler.executeWorkItem(GenericHTWorkItemHandler.java:178)           at org.drools.persistence.jpa.processinstance.JPAWorkItemManager.internalExecuteWorkItem(JPAWorkItemManager.java:55)           at org.jbpm.workflow.instance.node.WorkItemNodeInstance.internalTrigger(WorkItemNodeInstance.java:107)           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:126)           ... 17 more</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>Here's an article describing how to setup jBPM5.4 to run with MySQL:  https://community.jboss.org/docs/DOC-48374 https://community.jboss.org/wiki/SetUpJBPM54FinalInstallerToUseMySQL-OrHowToRunSection37OfTheUserGuide I hope this helps.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How to get results form	Work Item handler</header>
    <body>I want to impl db handler and my dbhandler.wid file is like this... ------------------------------------------------------------ ---------------------------------------- In my WorkItemHandler impl class i have code like this and in porcess i have WI impl like Result Mapping-----&gt;DB_OPS ---&gt; map(java.util.HashMap) but his is returning nothing from handler calss.... please let me know what wrong i am doing here. Thanks....Ashutosh [ // the Notification work item [ "name" : "Database", "parameters" : [ "GET_OR_UPDATE" : new StringDataType(), "SQL" : new StringDataType(), "ReturnMode" : new StringDataType(), ], "results" : [ "DB_OPS" : new ObjectDataType(), ], "displayName" : "Database", "icon" : "icons/dbops.png" ] ]</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Microcontainer Development] - migration from jboss 5.1 to 6.2</header>
    <body>what are the major changes ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Microcontainer Development] - Re: migration from jboss 5.1 to 6.2</header>
    <body>6.2?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Microcontainer Development] - Re: migration from jboss 5.1 to 6.2</header>
    <body>6.2 eap,pls let me know the major changes during this migration.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Microcontainer Development] - Re: migration from jboss 5.1 to 6.2</header>
    <body>Try searching the docs / wiki for migration, i'm pretty sure there is some material already available.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Local Task Service VS Remote taskserver (mina /HornetQ)?</header>
    <body>What are the benefits of each one and why would we choose one of them and not the other ? assert true : the local task service doesn't need any thread to be lunched. Thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: org.jbpm.workflow.instance.WorkflowRuntimeException: -- Illegal method call. This session was previously disposed.</header>
    <body>Dont dispose the session. As it is clear from the exception. You are using the session after you have killed it.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Get all tasks defined	inside a process</header>
    <body>Not unless the process has reached its last node. But if you are only looking for information at node level and not at task level then you can get all the nodes of the process immediately after its start. Node information would be the name of the node, coordinates etc.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Can I show my apps' knowledge session in the jBPM Console?</header>
    <body>Hi.  I am using jBPM 5.4.  I have defined a process in guvnor and have an application that retreives that process from guvnor and creates a knowledge session (pretty straight forward).  Now, I want jBPM console to show the processes running in MY knowledge session.  My own application will "drive" the process (start the process, and send signals to it).  I would like to "attach" the console so that I can follow the progress of the process running in my application. All of the Console examples I have seen are controlled (started/stopped) from the Console itself.   I was hoping the new jBPM Developer Guide would provide some insight, but no luck finding it.  Has anyone done this?  Can anyone suggest a way forward or point me to some examples? Thanks very much! -J</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Using OnEntry and OnExit in JBPM 5 Human task</header>
    <body>Hi Vignesh, do you have a solution for that? I would like to send a notification in the onEntryAction with the taskId too. But actually I don't know how to get it. WorkItemNodeInstance.getWorkItemId() returns -1, because the item isn't created in onEntryAction. Regards    Steffen...</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Hacking on AS8</header>
    <body>h4. h4. 1. Create a github account http://github.com http://github.com h4. 2. Fork jboss-as into your account http://github.com/jbossas/jboss-as http://github.com/jbossas/jboss-as h4. 3. Clone your newly forked copy onto your local workspace $ git clone git at github.com:[your user]/jboss-as.git Initialized empty Git repository in /devel/jboss-as/.git/ remote: Counting objects: 2444, done. remote: Compressing objects: 100% (705/705), done. remote: Total 2444 (delta 938), reused 2444 (delta 938) Receiving objects: 100% (2444/2444), 1.71 MiB | 205 KiB/s, done. Resolving deltas: 100% (938/938), done. $ cd jboss-as h4. 4. Add a remote ref to upstream, for pulling future updates git remote add upstream git://github.com/jbossas/jboss-as.git h4. 5. As a precaution, disable merge commits to your master git config branch.master.mergeoptions --ff-only h4. 6. Use maven (via build.sh) (make sure you use maven 3) $ ./build.sh install ..... [INFO] ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8: JBoss Security	Manager discussion</header>
    <body>David M Lloyd, Stefan, Flavia and I had a high level discussion on supporting Java Security Manager in AS8 in line with the needs of EE7 and JBoss Modules. We had an etherpad discussion. h2. Etherpad Requirements (Let us capture general requirements here) Support for VMwide Security Manager policy? Support META-INF/permissions.xml required by EE7  for web, ejb and application clients Maintain relationships established by JACC specification for Run As vs. AccessControlContext Application components must be able to support at least the permissions listed in Table EE.6-2 in EE(7).6.2.2.3. Deployers must support application component permissions as specified by EE.6.2.2.6. Server  administrators must have a way of declaring permission restrictions for  deployments.  If a deployment with declared permissions does not meet  the configured permission set, the deployment must fail as per  EE.6.2.2.6. Perform wellIdeally  we will be able to use a more efficient mechanism to evaluate  permissions than a complete execution stack scan.  The JDK always grants  itself all permissions - by checking the class loader for null -                 and  generally acts  as if doPrivileged is always in force.  Perhaps we can  utilize a similar trick to allow our provided modules to execute  quickly. Discussion Points Should we do permissions within module.xml? (https://issues.jboss.org/browse/MODULES-157) Action Items 1. Deployment Descriptor parsing for META-INF/permissions.xml 2. Domain.xml/Standalone.xml global permission block (parsing and handling) 3. JBoss Modules permission handling  (parsing and handling) 4. System to merge deployment permissions into the module defined permissions. Questions Should permissions.xml for Web Deployments be in WEB-INF and not META-INF? JSR342 draft seems to imply they will be in META-INF  (Answer:  permissions.xml is a SE requirement for the EE platform. So it is META-INF) Chat Discussion h2. February 20, 2013 12:49 Stefan: there are some horrible things like having a WEB-INF/classes/META-INF 12:49 Anil Saldhana: that is persistence.xml 12:50 Stefan: the only thing I would like to know is where the admin perms would be stored 12:50 Anil Saldhana: module.xml 12:50 dmlloyd: that is a big question, and also, what form should it take 12:50 Stefan: yeah 12:50 dmlloyd: for deployments I think the standalone/domain.xml should contain the admin policy, but I don't know what capabilities we should give it 12:51 dmlloyd: e.g. do we require the admin perm overrides to be present  at deploy time (assume AllPermission if not present), or do we have a general config that includes matching wildcards, or what 12:52 Anil Saldhana: we can leave it to the admin - AllPerm or denyall 12:52 Anil Saldhana: when we ship, we go with allperm 12:53 dmlloyd: my gut feeling is that we'll need something more nuanced than an all-on/all-off switch 12:53 Stefan: have to agree with david on this one 12:53 Anil Saldhana: domain.xml contains the default permission policy 12:53 Anil Saldhana: overrides happen in module.xml 12:53 dmlloyd: deployments do not contain a module.xml 12:53 Anil Saldhana: and permissions.xml/rar.xml 12:54 dmlloyd: for deployments we'd rely on META-INF/permissions.xml 12:54 dmlloyd: yeah 12:54 Anil Saldhana: right 12:54 dmlloyd: on the other hand, standalone/domain.xml permissions will not affect filesystem modules 12:54 dmlloyd: that global policy (if any) has to be statically defined somewhere 12:55 dmlloyd: like I said though - if we can avoid global policy files, that's best 12:56 dmlloyd: the policy file mechanism is defined by convention, not spec, therefore we shouldn't rely on it 12:56 Anil Saldhana: no requirement to go with policy file 12:58 dmlloyd: it implies though that if we do want an overriding global policy of some sort, it has to be of our own format, and it has to come from jboss modules 12:58 dmlloyd: so that jboss modules can merge the policy with that of the individual modules 13:00 Anil Saldhana: since modules is the building block, it makes sense to have it at the module level 13:00 Anil Saldhana: we definitely should think more from securing modules 13:00 Anil Saldhana: more from the perspective of securing the system via modules 13:03 dmlloyd: I'm not 100% brushed up on how protectiondomains and ACCs and all that stuff play together though 13:04 Anil Saldhana: I think once we start playing with it, we will see the challenges 13:05 dmlloyd: if one of you guys is already an expert that'd really help 13:05 dmlloyd: save some time 13:05 Anil Saldhana: this can actually be done in the modules project 13:06 Anil Saldhana: I mean test cases and performance measures 13:06 Anil Saldhana: what the SM does is very small IMO 13:06 dmlloyd: I can wire in the basic infrastructure to modules but a second/third pair of eyes would be good to have 13:06 Anil Saldhana: setting up the protection domains at the module CL level 13:06 Anil Saldhana: we will be there, DML 13:07 Anil Saldhana: I think I will start establishing some processes around this.  testing/configuration etc. 13:07 dmlloyd: that is but one task though 13:07 dmlloyd: I think that it might be a good idea to create a top-level JIRA with subtasks to track the individual work units, with a dependent relationship to the EE7 JIRA subtask 13:08 dmlloyd: work units like: 13:08 dmlloyd: descriptor parsing 13:08 Anil Saldhana: right 13:08 dmlloyd: DUP changes to install permissions into the module spec 13:08 Anil Saldhana: Action Items to the left here.  :) 13:08 Anil Saldhana: I will set up the JIRA issues for the action items 13:08 dmlloyd: subsystem config 13:08 dmlloyd: etc. 13:12 Anil Saldhana: will list the action items here and start creating subtasks 13:14 dmlloyd: I guess that's about it, other than just testing 13:14 Anil Saldhana: right.  few minutes - check the action items here 13:15 Anil Saldhana: once you are happy, I can transfer to subtasks in JIRA 13:15 dmlloyd: I'd feel better if we had some plan for global module config, and an idea of how the global domain config might look 13:15 Anil Saldhana: we need to have that discussion. 13:16 dmlloyd: we can create a subtask placeholder for the domain config question and then open it up for discussion on the dev list 13:16 Anil Saldhana: right 13:16 Anil Saldhana: added some action items. take a look 13:17 dmlloyd: AS DUP implementation to merge descriptor information into the module definition 13:24 dmlloyd: I guess that's it for now 13:24 dmlloyd: we can always add more later as things come up 13:25 dmlloyd: did we lose Stefan? 13:26 Anil Saldhana: probably 13:26 Anil Saldhana: they have electricity issues due to summer thunderstorms in Brazil 13:31 dmlloyd: FYI the subtask in the EE7 task should stay right where it is 13:32 dmlloyd: you can't have a task hierarchy, so we need a new top-level JIRA that links back to that subtask 13:32 dmlloyd: with notes to close one when you close the other 13:32 Anil Saldhana: ok 13:32 Anil Saldhana: did not realize it was a subtask.  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8: JBoss Security	Manager discussion</header>
    <body>David M Lloyd, Stefan, Flavia and I had a high level discussion on supporting Java Security Manager in AS8 in line with the needs of EE7 and JBoss Modules. *JIRA*:   https://issues.jboss.org/browse/AS7-6572 https://issues.jboss.org/browse/AS7-6572 *Internal reference*:  http://etherpad.corp.redhat.com/FaKiGVezLI http://etherpad.corp.redhat.com/FaKiGVezLI We had an etherpad discussion. h2. Etherpad *Requirements* (Let us capture general requirements here) * Support for VMwide Security Manager policy? * Support META-INF/permissions.xml required by EE7  for web, ejb and application clients * Support EE 7 Security Manager requirements * Maintain relationships established by JACC specification for Run As vs. AccessControlContext * Application components must be able to support at least the permissions listed in Table EE.6-2 in EE(7).6.2.2.3. * Deployers must support application component permissions as specified by EE.6.2.2.6. * Server  administrators must have a way of declaring permission restrictions for  deployments.  If a deployment with declared permissions does not meet  the configured permission set, the deployment must fail as per  EE.6.2.2.6. * Perform well * Ideally  we will be able to use a more efficient mechanism to evaluate  permissions than a complete execution stack scan.  The JDK always grants  itself all permissions - by checking the class loader for null - and  generally acts as if doPrivileged is always in force.  Perhaps we can  utilize a similar trick to allow our provided modules to execute  quickly. * *Discussion Points* * Should we do permissions within module.xml? (https://issues.jboss.org/browse/MODULES-157) (https://issues.jboss.org/browse/MODULES-157%29) *Action Items* 1. Deployment Descriptor parsing for META-INF/permissions.xml 2. Domain.xml/Standalone.xml global permission block (parsing and handling) 3. JBoss Modules permission handling  (parsing and handling) 4. System to merge deployment permissions into the module defined permissions. *Questions* * Should permissions.xml for Web Deployments be in WEB-INF and not META-INF? JSR342 draft seems to imply they will be in META-INF  (+Answer:  permissions.xml is a SE requirement for the EE platform. So it is META-INF+) * h2. h2. Chat Discussion h2. February 20, 2013 Anil Saldhana: Just want to have a general chat on this topic... 12:19 Anil Saldhana: Important for Stefan to participate. 12:19 Anil Saldhana: Flavia mainly because DML mentioned modules 12:20 Stefan: Ok, so app components must now support the declaration of security permissions. Besides, we need to consider setting up permissions for the modules 12:21 Anil Saldhana: previously,  ra.xml could contain security permissions 12:21 Anil Saldhana: now additionally permissions.xml can be provided 12:21 Stefan: right, I believe the model is pretty similar to the one found in ra.xml 12:22 Anil Saldhana: the bigger Q is should we support permissions in module.xml? 12:22 Anil Saldhana: we discussed that in Aug 2011 with no action.  :) 12:22 Stefan: I believe we do. What do we do now when the sec manager is active and one of the modules contains code that needs permissions 12:23 Anil Saldhana: The key aspects for a security manager access check  includes CodeSource, Permissions and Subject Anil Saldhana: CodeSource is driven by the classloader 12:24 Stefan: perms come from config and subject from the underlying sec context 12:25 Stefan: what happens now if sec manager is enabled on AS7? Do we have an AllPerm for all modules? 12:25 Anil Saldhana: I dont think so.  Right now, they are governed by the codesource url 12:26 Anil Saldhana: defined in the general policy file. 12:26 Anil Saldhana: DML wanted to see if we could add sec permissions at the module level 12:27 Stefan: I think it is a good idea but the amount of work required for that can be insane due to the number of modules 12:28 Anil Saldhana: it is NOT required for all modules. If admin wants to do for a select set of modules, he should be able to 12:29 Flavia: okay, so this does not affect MSC directly, it will affect Modules afaics 12:31 Anil Saldhana: Who does modules? 12:32 Flavia: I am not sure, but I think that mostly David 12:33 Flavia: I agree with Stefan that there could be a perf impact if we add this to every single module in AS 12:33 Anil Saldhana: Remember it is user's choice whether they run AS under a JSM 12:37 Anil Saldhana: hey DML. etherpad is insanely slow 12:37 dmlloyd: at least it's up.  This morning there was an outage 12:40 Anil Saldhana: I brought in your comments from the other ether here. 12:40 dmlloyd: My thought with modules is that they could request to be granted AllPermission by default 12:40 dmlloyd: that way we don't have to go through and retroactively redo every one 12:40 dmlloyd: but we can, later on, restrict modules if we want to 12:41 Anil Saldhana: Agree. 12:41 dmlloyd: my main motivation is to avoid having a global security policy file 12:41 dmlloyd: that's never been anything but a PITA 12:42 dmlloyd: by supporting it in modules we can establish permissions by class loader instead of code source 12:42 Anil Saldhana: the challenge is for a complete system, you will have to evaluate every module. 12:42 Anil Saldhana: if you have ALLPerm for unspecified modules 12:42 dmlloyd: we can simply compile and install the permissions as the modules are loaded 12:43 Anil Saldhana: where are they specified? 12:43 dmlloyd: in module.xml 12:43 dmlloyd: those would be the permissions the module requests, not necessarily the permissions they are granted 12:44 Stefan: ok, so we would be adding an AllPerm to every module.xml, leaving us with something that can be refined with timeso the idea is to add an AllPerm to every module.xml? 12:44 dmlloyd: ideally an administrator would also have their vote as to what permissions to use, and the effective permissions would be the union of the two 12:44 dmlloyd: yeah that's the idea 12:44 dmlloyd: really it's not so different from the EE7 rules - the deployment contains requested permissions, the administrator can further limit them, and the result is a union 12:44 Stefan: for some reason part of what I wrote was duplicated 12:45 dmlloyd: probably because etherpad is junk  :) 12:45 Stefan: union or intersection 12:45 dmlloyd: intersection, sorry 12:45 Stefan: ah, ok  :) 12:45 Anil Saldhana: I am fine with it.  We should discuss this with Jason and the list. 12:45 dmlloyd: cripes, I wonder how long I've been doing that. 12:46 Anil Saldhana: DML - permissions.xml can be in META-INF 12:47 Anil Saldhana: for web deployments, should they go in WEB-INF? 12:47 dmlloyd: I'd say META-INF only, unless the EE or servlet spec specifically allow for WEB-INF 12:47 Anil Saldhana: I thought web deployments typically used WEB-INF 12:47 Anil Saldhana: these are SE requirements for EE 12:47 dmlloyd: they do for web stuff 12:47 Anil Saldhana: so maybe META-INF 12:48 dmlloyd: but servlet is a rule-breaker in a lot of ways 12:48 dmlloyd: they do require META-INF for a few things too, by spec (though I think in some cases we allow WEB-INF) 12:49 Anil Saldhana: stefan , what do you think?  Allperm for all modules  and admin changes based on his requirement 12:49 Stefan: there are some horrible things like having a WEB-INF/classes/META-INF 12:49 Anil Saldhana: that is persistence.xml 12:50 Stefan: the only thing I would like to know is where the admin perms would be stored 12:50 Anil Saldhana: module.xml 12:50 dmlloyd: that is a big question, and also, what form should it take 12:50 Stefan: yeah 12:50 dmlloyd: for deployments I think the standalone/domain.xml should contain the admin policy, but I don't know what capabilities we should give it 12:51 dmlloyd: e.g. do we require the admin perm overrides to be present  at deploy time (assume AllPermission if not present), or do we have a general config that includes matching wildcards, or what 12:52 Anil Saldhana: we can leave it to the admin - AllPerm or denyall 12:52 Anil Saldhana: when we ship, we go with allperm 12:53 dmlloyd: my gut feeling is that we'll need something more nuanced than an all-on/all-off switch 12:53 Stefan: have to agree with david on this one 12:53 Anil Saldhana: domain.xml contains the default permission policy 12:53 Anil Saldhana: overrides happen in module.xml 12:53 dmlloyd: deployments do not contain a module.xml 12:53 Anil Saldhana: and permissions.xml/rar.xml 12:54 dmlloyd: for deployments we'd rely on META-INF/permissions.xml 12:54 dmlloyd: yeah 12:54 Anil Saldhana: right 12:54 dmlloyd: on the other hand, standalone/domain.xml permissions will not affect filesystem modules 12:54 dmlloyd: that global policy (if any) has to be statically defined somewhere 12:55 dmlloyd: like I said though - if we can avoid global policy files, that's best 12:56 dmlloyd: the policy file mechanism is defined by convention, not spec, therefore we shouldn't rely on it 12:56 Anil Saldhana: no requirement to go with policy file 12:58 dmlloyd: it implies though that if we do want an overriding global policy of some sort, it has to be of our own format, and it has to come from jboss modules 12:58 dmlloyd: so that jboss modules can merge the policy with that of the individual modules 13:00 Anil Saldhana: since modules is the building block, it makes sense to have it at the module level 13:00 Anil Saldhana: we definitely should think more from securing modules 13:00 Anil Saldhana: more from the perspective of securing the system via modules 13:03 dmlloyd: I'm not 100% brushed up on how protectiondomains and ACCs and all that stuff play together though 13:04 Anil Saldhana: I think once we start playing with it, we will see the challenges 13:05 dmlloyd: if one of you guys is already an expert that'd really help 13:05 dmlloyd: save some time 13:05 Anil Saldhana: this can actually be done in the modules project 13:06 Anil Saldhana: I mean test cases and performance measures 13:06 Anil Saldhana: what the SM does is very small IMO 13:06 dmlloyd: I can wire in the basic infrastructure to modules but a second/third pair of eyes would be good to have 13:06 Anil Saldhana: setting up the protection domains at the module CL level 13:06 Anil Saldhana: we will be there, DML 13:07 Anil Saldhana: I think I will start establishing some processes around this.  testing/configuration etc. 13:07 dmlloyd: that is but one task though 13:07 dmlloyd: I think that it might be a good idea to create a top-level JIRA with subtasks to track the individual work units, with a dependent relationship to the EE7 JIRA subtask 13:08 dmlloyd: work units like: 13:08 dmlloyd: descriptor parsing 13:08 Anil Saldhana: right 13:08 dmlloyd: DUP changes to install permissions into the module spec 13:08 Anil Saldhana: Action Items to the left here.  :) 13:08 Anil Saldhana: I will set up the JIRA issues for the action items 13:08 dmlloyd: subsystem config 13:08 dmlloyd: etc. 13:12 Anil Saldhana: will list the action items here and start creating subtasks 13:14 dmlloyd: I guess that's about it, other than just testing 13:14 Anil Saldhana: right.  few minutes - check the action items here 13:15 Anil Saldhana: once you are happy, I can transfer to subtasks in JIRA 13:15 dmlloyd: I'd feel better if we had some plan for global module config, and an idea of how the global domain config might look 13:15 Anil Saldhana: we need to have that discussion. 13:16 dmlloyd: we can create a subtask placeholder for the domain config question and then open it up for discussion on the dev list 13:16 Anil Saldhana: right 13:16 Anil Saldhana: added some action items. take a look 13:17 dmlloyd: AS DUP implementation to merge descriptor information into the module definition 13:24 dmlloyd: I guess that's it for now 13:24 dmlloyd: we can always add more later as things come up 13:25 dmlloyd: did we lose Stefan? 13:26 Anil Saldhana: probably 13:26 Anil Saldhana: they have electricity issues due to summer thunderstorms in Brazil 13:31 dmlloyd: FYI the subtask in the EE7 task should stay right where it is 13:32 dmlloyd: you can't have a task hierarchy, so we need a new top-level JIRA that links back to that subtask 13:32 dmlloyd: with notes to close one when you close the other 13:32 Anil Saldhana: ok 13:32 Anil Saldhana: did not realize it was a subtask.  :) h2. Followup DML did some work:  https://github.com/dmlloyd/jboss-modules/compare/dc534ef...f4c74be https://github.com/dmlloyd/jboss-modules/compare/dc534ef...f4c74be</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: How to get results form	Work Item handler</header>
    <body>Hi Guys, I got this issue resolved with help of one of community member... reolution in like we have to add In our WI handler class...... ﻿</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: How to get results form	Work Item handler</header>
    <body>The above approach is working fine when i am running the process from IED(read as eclipse) but when i put same code in Guvnor and do a deployment the process is not able to execute the step. Can anyone give some pointer what could be the reason of this. In my WI handler i am also using an external jar and i am using this jar also as pert of deployment package ﻿</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Single	Installation Patching</header>
    <body>Another suggestions for disabling JARs is to double-compress them, then uncompress them to re-enable. I would love to hear any feedback on this JAR-disabling proposal. Also I'd like to +1 Mazz's earlier comment about not applying this mechanism to RPM. This is definitely a big step forward for the zip distribution, but RPM is an established patching solution, there's no need to re-invent the wheel for RPM.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: org.jbpm.workflow.instance.WorkflowRuntimeException: -- Illegal method call. This session was previously disposed.</header>
    <body>problem is that you try to use (probably by mistake) a disposed session:                    // Let's reload the session                   // All the listeners and WorkItemHandlers are volatile, so we need to register them each time that we reload the session                   //  from the DB. ksession (marked in bold) is disposed session and thus should not be used any more. Use instead session that you just loaded (loadedKsession) and the program will work just fine. HTH</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: org.jbpm.workflow.instance.WorkflowRuntimeException: -- Illegal method call. This session was previously disposed.</header>
    <body>Thanks Maciej , i resolved it and i had to get a new client instance for the loaded session. Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - SOAP Fault - Unable to Create Namespace (SAAJ0513)</header>
    <body>Using Jboss 5.1, Jbossws-cxf 3.1.2 GA When trying to send web service request via Teiid 7.7 ws translator I get the following excpetion: org.apache.cxf.interceptor.Fault: Unable to create envelope from given source because the namespace was not recognized at org.apache.cxf.jaxws.interceptors.MessageModeOutInterceptor$MessageModeOutInterceptorInternal.handleMessage(MessageModeOutInterceptor.java:192) at org.apache.cxf.jaxws.interceptors.MessageModeOutInterceptor$MessageModeOutInterceptorInternal.handleMessage(MessageModeOutInterceptor.java:138) at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:236) at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:471) at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:301) at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:253) at org.apache.cxf.endpoint.ClientImpl.invokeWrapped(ClientImpl.java:288) at org.apache.cxf.jaxws.DispatchImpl.invoke(DispatchImpl.java:257) at org.apache.cxf.jaxws.DispatchImpl.invoke(DispatchImpl.java:195) at org.teiid.translator.ws.WSProcedureExecution.execute(WSProcedureExecution.java:132) at org.teiid.dqp.internal.datamgr.ConnectorWorkItem.execute(ConnectorWorkItem.java:272) at org.teiid.dqp.internal.process.DataTierTupleSource.getResults(DataTierTupleSource.java:344) at org.teiid.dqp.internal.process.DataTierTupleSource$1.call(DataTierTupleSource.java:138) at org.teiid.dqp.internal.process.DataTierTupleSource$1.call(DataTierTupleSource.java:135) at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source) at java.util.concurrent.FutureTask.run(Unknown Source) at org.teiid.dqp.internal.process.DQPCore$FutureWork.run(DQPCore.java:118) at org.teiid.dqp.internal.process.DQPWorkContext.runInContext(DQPWorkContext.java:232) at org.teiid.dqp.internal.process.ThreadReuseExecutor$RunnableWrapper.run(ThreadReuseExecutor.java:118) at org.teiid.dqp.internal.process.ThreadReuseExecutor$3.run(ThreadReuseExecutor.java:288) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source) I first posted this problem in Teiid forum and was told that everything at that level looked OK. If you could tell me how to capture actual SOAP message that would be helpful as well. I have attached the complete server log.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8: JBoss Security Manager Implementation Plan</header>
    <body>This wiki article will propose an implementation plan for the security manager related changes for JBoss AS8. h2. Background Please follow  https://community.jboss.org/docs/DOC-48383 https://community.jboss.org/wiki/AS8JBossSecurityManagerDiscussion   for some background information. Goal is to minimize the global policy file +historic+ approach and adapt the Java Security Manager infrastructure in AS8 to a more modular approach. h2. Approach * We will have a security manager subsystem to define the global permission collection that modules will inherit by default.  * module.xml can define the permission collection that governs the module.  This is what the ModuleClassLoader will return to the security manager when asked for permission collection. * EE deployments can do META-INF/permissions.xml (as per EE7).   The deployment permissions need to be merged into the module level permissions. h2. h2. Security Manager and Policy Implementation The JVM can run under a Java Security Manager via two options: * Pass  -Djava.security.manager as command option * Programmatically, call    System.setSecurityManager(securityManager) So we have two options to start the security manager in AS8.  (+I personally like the programmatic option that will let the JVM and JBoss Modules system to start up before the security manager is put into operation+). h3. Command Line Option When we use the command line option,  the default security manager implementation (that uses Sun PolicyFile implementation)   will use the java.policy file from jre/lib/security folder of the JVM to construct the permissions that the JVM will have in starting up.  This takes care of the JVM starting up. We will need to bootstrap the JBoss Modules system.  Now we have to think about providing the permissions for the jboss-modules.jar  The easiest way to achieve this is to add an entry into the java.policy file.   or  have a single entry in a policy file within the AS8 folders and mandate users not add/delete anything from this file.   This will get the JBoss Modules system starting. Once the module system is started,  we will use the programmatic stuff below. h3. Programmatic Option There will be a security manager subsystem defined in the domain model.   It will have a flag called *+enable+*  which by default will be +false+.   If the user configures the +enable+ flag to true,  the program will call +System.setSecurityManager()+,  if  +System.getSecurityManager() == null+. The security manager subsystem can define the permission block for use by default by the module class loader.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8: JBoss Security Manager Implementation Plan</header>
    <body>This wiki article will propose an implementation plan for the security manager related changes for JBoss AS8. h2. Background Please follow  https://community.jboss.org/docs/DOC-48383 https://community.jboss.org/wiki/AS8JBossSecurityManagerDiscussion   for some background information. Goal is to minimize the global policy file +historic+ approach and adapt the Java Security Manager infrastructure in AS8 to a more modular approach. h2. Approach * We will have a security manager subsystem to define the global permission collection that modules will inherit by default.  * module.xml can define the permission collection that governs the module.  This is what the ModuleClassLoader will return to the security manager when asked for permission collection. * EE deployments can do META-INF/permissions.xml (as per EE7).   The deployment permissions need to be merged into the module level permissions. h2. h2. Security Manager and Policy Implementation The JVM can run under a Java Security Manager via two options: * Pass  -Djava.security.manager as command option * Programmatically, call    System.setSecurityManager(securityManager) So we have two options to start the security manager in AS8.  (+I personally like the programmatic option that will let the JVM and JBoss Modules system to start up before the security manager is put into operation+). h3. Command Line Option When we use the command line option,  the default security manager implementation (that uses Sun PolicyFile implementation)   will use the java.policy file from jre/lib/security folder of the JVM to construct the permissions that the JVM will have in starting up.  This takes care of the JVM starting up. We will need to bootstrap the JBoss Modules system.  Now we have to think about providing the permissions for the jboss-modules.jar  The easiest way to achieve this is to add an entry into the java.policy file.   or  have a single entry in a policy file within the AS8 folders and mandate users not add/delete anything from this file.   This will get the JBoss Modules system starting. Once the module system is started,  we will use the programmatic stuff below. h3. Command Line Option #2 JBoss Modules has a special bootstrap option for security manager startup.  Instead of passing -Djava.security.manager to the JVM, you run JBoss Modules with the -secmgr flag.  This loads up a special policy that grants JBoss Modules AllPermission, but otherwise inherits the Policy defined by the JVM (or the application, if it has one).  In this way, JBoss AS can be started up under a security manager without any other special setup (in particular, without a JVM-specific policy file).  Requires at least 1.2.0.CR2 for proper operation. h3. Programmatic Option There will be a security manager subsystem defined in the domain model.   It will have a flag called *+enable+*  which by default will be +false+.   If the user configures the +enable+ flag to true,  the program will call +System.setSecurityManager()+,  if  +System.getSecurityManager() == null+. The security manager subsystem can define the permission block for use by default by the module class loader. * We need to come up with a schema for the permission collection that can be used in the security-manager subsystem. We can use some of the concepts used in the policy file but make it usable. * The permission collection generated in the SM subsystem needs to be available to the module classloader if explicit permission collection not defined in module.xml for the module in question. To summarize the options, the following systems will need to be configured with permissions: a) JVM Bootstrap b) JBoss Modules Bootstrap c) JBoss Application Server h2. Module Permission Collection module.xml will have a permission collection block that mirrors what is defined in the security-manager subsystem of the domain model. This is what the module classloader will pick up. If left undefined, the global permission collection from the security-manager domain model will be adopted. h2. Deployment Permission Collection EE7 deployments can define a permission collection via META-INF/permissions.xml   We will need to merge/adapt/convert this into a module level permission collection at the class loader for the deployment. h2. References https://community.jboss.org/docs/DOC-17431 https://community.jboss.org/wiki/JBossAS7SecurityRunningUnderAJavaSecurityManager h2. h2. Chat Dumps h3. h3. 21 Feb 2013 (09:27:03 AM) asaldhan: dmlloyd: working on the wiki article that outlines a plan.  I am unsure yet that we need a policy implementation. (09:27:16 AM) asaldhan: dmlloyd: but look at my article in about an hour.  then we can talk.* * (09:31:39 AM) dmlloyd: okay.  I came up with a few more ideas before I fell asleep last night* * (09:42:28 AM) asaldhan: dmlloyd: saw your posts last night. I did make a post close to midnight. (09:42:30 AM) asaldhan:  https://community.jboss.org/docs/DOC-48386 https://community.jboss.org/wiki/AS8JBossSecurityManagerImplementationPlan (09:42:40 AM) asaldhan: dmlloyd: it is half written.  adding details now.* * (09:44:23 AM) dmlloyd: asaldhan, I figured out that in JBoss Modules I can wrap the system Policy with one that grants modules itself AllPermission and that gets around the boot issue (09:44:41 AM) dmlloyd: so basically if you pass -secmgr to JBoss Modules at boot, you're fully secured (09:44:56 AM) dmlloyd: I know that doesn't answer any of the other questions though (09:45:16 AM) dmlloyd: but at least it's one less headache  :) (09:45:25 AM) asaldhan: dmlloyd: I like the programmatic option wherein JVM and Modules bootstrapped before SM kicks in (09:45:38 AM) asaldhan: dmlloyd: unless the admin is paranoid, then he can go the command line way (09:46:12 AM) dmlloyd: the problem is that it comes in so late (09:46:50 AM) dmlloyd: one thing to consider though is that we have a few places where we want to administratively configure stuff that needs to take effect at or near JVM startup (09:47:26 AM) dmlloyd: so secmgr is not unique in that regard (09:48:00 AM) dmlloyd: so it's possible that even with the command line switch, the subsystem can still control it* * (09:48:43 AM) dmlloyd: now, all that said, I think the programmatic option is still viable (09:49:10 AM) asaldhan: dmlloyd: from admin perspective, they usually trust JVM and core JBoss infrastructure. (09:49:27 AM) asaldhan: dmlloyd: it is the applications that get deployed on the runtime that can go berseck (09:49:49 AM) ***asaldhan has updated the article* * (09:51:05 AM) dmlloyd: asaldhan: that is true (09:51:22 AM) dmlloyd: tbh all of my changes should be able to support programmatic SM enablement later on (09:52:16 AM) asaldhan: dmlloyd: in my view 95% of usecases will go by programmatic approach.  for the paranoid, the cmd line option can go (09:52:27 AM) dmlloyd: we could cut down significantly on startup time this way (09:52:41 AM) asaldhan: dmlloyd: right. (09:52:55 AM) asaldhan: dmlloyd: what I feel is the flag   "enable=true"  which kicks in the SM (09:53:00 AM) asaldhan: dmlloyd: usability will be cool (09:53:24 AM) asaldhan: dmlloyd: by default, the permissions should be DenyAll  as long as all the modules shipped in AS8 have allperm in module.xml (09:53:32 AM) dmlloyd: that flag should be "enable=(true|false|inherit)" though - otherwise if they set it on the command line and it's set to "false" then the SM will turn off once the subsystem kicks in  :) (09:53:37 AM) asaldhan: dmlloyd: that way, admin has to configure his apps and custom modules (09:53:49 AM) dmlloyd: asaldhan, the EE spec gives a minimum permission set actually (09:53:56 AM) asaldhan: dmlloyd: right (09:54:25 AM) dmlloyd: I wonder if we should automatically set those up or if the EE perm set should just be the default* * (09:57:42 AM) asaldhan: dmlloyd: what I am wondering is by default,  there should be no SM.  Just a Policy implementation for modules  that does policy.implies(permission) check for sensitive operations (09:58:07 AM) asaldhan: dmlloyd: this is more of a JBoss modules concept that will be extended to the AS8 server (09:58:46 AM) asaldhan: dmlloyd: there really is no major need for SM to be ON vmwide (09:59:17 AM) dmlloyd: most things which check permissions will skip the check if there's no SM (09:59:33 AM) dmlloyd: check out these changes though: (09:59:35 AM) dmlloyd:  http://github.com/jbossas/jboss-modules/compare/c217927...a6345ca http://github.com/jbossas/jboss-modules/compare/c217927...a6345ca (09:59:42 AM) asaldhan: dmlloyd: will check the changes. (09:59:44 AM) asaldhan: dmlloyd: BUT (09:59:45 AM) dmlloyd: these should allow a SM to be turned on later (10:00:04 AM) asaldhan: dmlloyd: it is the modules codebase that can do policy.implies for many of its operations. (10:00:23 AM) dmlloyd: it could, but to what purpose?* * (10:01:11 AM) asaldhan: dmlloyd: your changes was what I was mentioning about the policy (10:02:33 AM) asaldhan: dmlloyd: you need the SM for policing n/w operations, socket ops, IO etc done by the JVM and application code.       But the modules can police some of the classloader checks using modulepolicy when a SM is absent (10:02:35 AM) dmlloyd: ah right, so we're saying the same thing (10:02:48 AM) dmlloyd: okay, that's true (10:03:17 AM) dmlloyd: but I don't think it's too necessary as there aren't too many actual privileged operations like that in modules really (10:03:35 AM) asaldhan: dmlloyd: ModuleCL operations maybe? (10:03:48 AM) asaldhan: dmlloyd: public private api etc? (10:03:55 AM) asaldhan: dmlloyd: I am just talking loudly (10:04:01 AM) asaldhan: thinking (10:04:02 AM) dmlloyd: I use access control for most things (10:04:12 AM) dmlloyd: java language access control that is (10:04:29 AM) asaldhan: AccessControlContext? (10:04:34 AM) asaldhan: accesscontroller.doPriv? (10:04:58 AM) dmlloyd: no, private/protected/etc.* * (10:05:34 AM) asaldhan: yeah  but what about cases where in methods are declared public  but they cannot be accessed from outside the module.  Like app classes should not call these.  There is no SM installed.* * (10:06:12 AM) ***asaldhan is looking at a modular system (10:07:17 AM) dmlloyd: I use visibility restriction for those cases (10:12:27 AM) asaldhan: dmlloyd: one change in your thought.   SM subsystem enable=false  does not disable SM if bootstrapped via cmd line.  It only does System.setSM if enable=true (10:12:58 AM) dmlloyd: how can users turn it off then? (10:19:56 AM) dmlloyd: realistically enabling SM from the cmdline isn't that different from enabling it programmatically (10:19:59 AM) dmlloyd: it just happens sooner (10:20:24 AM) asaldhan: dmlloyd: we will only ship with programmatic option (10:20:39 AM) asaldhan: dmlloyd: we may have an article for how to do with cmd line option for paranoid admins (10:21:05 AM) asaldhan: dmlloyd: the cmd line folks will be less &lt;1% of total users. (10:21:29 AM) dmlloyd: okay so perhaps we can just make it a doc issue (10:21:48 AM) asaldhan: dmlloyd: management of the SM now becomes part of domain management (10:21:52 AM) dmlloyd: if you turn on SM on the command line, you must remember to have it on in your config as well (10:21:58 AM) asaldhan: dmlloyd: rather than mucking with cmd files (10:22:14 AM) asaldhan: dmlloyd: cmd line turn on will have the steps in the document. (10:22:45 AM) dmlloyd: one other concern is that we have to make sure that our service dependencies do not allow deployments to start up before the sec mgr subsystem kicks in* * (10:23:26 AM) asaldhan: dmlloyd:  how quickly can the sec mgr subsystem kick in?  will the service dependency resolution happen before that?* * (10:24:53 AM) asaldhan: dmlloyd: the flow should be (JVM)---&gt; (Modules Bootstrap)----&gt;SM ----&gt; everything else (10:28:09 AM) dmlloyd: all subsystems will begin initializing at the same time (10:28:39 AM) dmlloyd: deployments should not start up until all the subsystems do, but that's something definitely to verify (10:28:52 AM) asaldhan: dmlloyd: should the SM subsystem be part of the modules bootstrap? (10:29:20 AM) dmlloyd: if we do that we'll break all kinds of things - I don't think we want to open that door just yet (10:29:29 AM) dmlloyd: in AS 9 we may have some better options though... (10:35:41 AM) dmlloyd: one note for the future... the sec mgr subsystem is clearly something that is not applicable to embedded servers (10:36:05 AM) dmlloyd: I think at some point we'll have to go through and specify what subsystems apply to embedded, jvm, or both* * (10:36:18 AM) dmlloyd: I can easily imagine special embedded-specific subsystems (10:37:35 AM) dmlloyd: well *parts* of the sec mgr subsys anyway (10:37:56 AM) dmlloyd: for example in embedded you can't be installing SMs, but you can for example assign permissions to deployment modules (10:44:53 AM) asaldhan: dmlloyd: The module system can definitely be doing a lot of Policy.implies checks if it desires.  :) * * (10:49:18 AM) dmlloyd: okay, so I think we're pretty well sorted out on that score (10:57:15 AM) dmlloyd: the last discussion for SM is, what do we need to configure in the domain, and how will it look (10:57:26 AM) dmlloyd: use cases -&gt; requirements -&gt; design (11:27:42 AM) dmlloyd: I guess the questions are: (11:28:04 AM) dmlloyd: 1) do we configure a maximal permission set globally for all deployments? (11:28:12 AM) dmlloyd: 2) do we do the same for deployments based on some pattern? (11:28:51 AM) dmlloyd: 3) what about extensions/filesystem JARs?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8: JBoss Security Manager Implementation Plan</header>
    <body>If a user wants to add a static module (e.g. a different version of Hibernate), do the jars have to be signed when the security manager is enabled?  I assume yes but perhaps there will be some magic that I don't know about for this case.  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - issues porting from websphere to JBoss AS7</header>
    <body>I have a Web application that uses JSP &amp; Servlets. This is currently running on Websphere 7.1. We are trying to port to JBoss AS 7.1.1 in standalone mode to start with and am having issues. The WAR deployed successfully and I get the home page (Static HTML) Our application uses two files ibm-bnd-ext.xmi and ibm-web-ext.xmi .. These two files seem to be Websphere specific and detail the configuration of the JSP engine and Servlet engine. *IBM-web-ext.xmi* * * &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;com.ibm.ejs.models.base.extensions.webappext:WebAppExtension xmi:version="2.0" xmlns:xmi=" http://www.omg.org/XMI http://www.omg.org/XMI" xmlns:com.ibm.ejs.models.base.extensions.webappext="webappext.xmi" xmi:id="WebAppExtension_1" reloadInterval="3" reloadingEnabled="true" additionalClassPath="" fileServingEnabled="true" directoryBrowsingEnabled="false" serveServletsByClassnameEnabled="true"&gt;   &lt;webApp href="WEB-INF/web.xml#WebApp"/&gt;   &lt;jspAttributes xmi:id="JSPAttribute_1310946960877" name="reloadEnabled" value="true"/&gt;   &lt;jspAttributes xmi:id="JSPAttribute_1310946960878" name="reloadInterval" value="10"/&gt; &lt;/com.ibm.ejs.models.base.extensions.webappext:WebAppExtension&gt; *IBM-BND-EXT.xmi* &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;com.ibm.ejs.models.base.bindings.webappbnd:WebAppBinding xmi:version="2.0" xmlns:xmi=" http://www.omg.org/XMI http://www.omg.org/XMI" xmlns:com.ibm.ejs.models.base.bindings.webappbnd="webappbnd.xmi" xmi:id="WebAppBinding_1" virtualHostName="default_host"&gt;   &lt;webapp href="WEB-INF/web.xml#WebApp"/&gt; &lt;/com.ibm.ejs.models.base.bindings.webappbnd:WebAppBinding&gt; *What is the equivalent configuration of these in JBoss?* *Also, how do we enable Serve Servlets by Class Name in JBoss?* *Any help is greatly appreciated... *</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Re: issues porting from websphere to JBoss AS7</header>
    <body>There is no need of any configuration files in Jboss as such unless you want to do custom classloading. war file with correct web.xml should work fine without any changes.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Re: issues porting from websphere to JBoss AS7</header>
    <body>Thanks for the response. The two external files are used to confiure the server. One thing of greater importance to me is *serveServletsByClassnameEnabled="true"* *How do I enable this in JBoss AS7 ?* This is a Java Web application that was started 10 years ago and uses the above configuration to serve all the servlets. This alleviates the need to map servlets in web.xml. If com.adcd.SnoopServlet needs to be called, the request would be like  http://domain/webcontext/ http://domain/webcontext/*servlet/com.adcd.SnoopServlet* will be served. Since we are porting we really do not want to change much. How do we acheive this in JBoss AS7? Is there something that can be configured in web.xml to acheive this? * *</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8: JBoss Security Manager Implementation Plan</header>
    <body>No, actually.  The user just adds the module like normal.  The default module properties are "AllPermission" but you can specify a more restrictive set in the module.xml file.  The reason we went away from signing is that it doesn't really afford any more security - if you have access to the filesystem, you can make the AS run without a security manager anyway. It is also possible to further restrict permissions using the JDK's default policy mechanism.  The effective permissions are the intersection of the module specified permissions and the global policy.  But it is designed so that a policy file is not required in the simplest case. Finally we will have *some* mechanism (not yet determined) to specify a policy that applies to deployments.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Multiple instances of JBoss AS7 on the same machine</header>
    <body>I finally found the reason for the error I was getting. Approach #2 is actually as simple as written above, binding to the same address(es) but different ports does work. But there is of course more than one place in which you can specify ports that an instance should use. I had a remote debugging port specified in the JVM parameters under [JBOSS_HOME]/bin/standalone.conf. I changed this port as well in the second instance, and now it starts smoothly.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Improvements to jBPM (5,	6) documentation?</header>
    <body>Hi all, I was curious about what other people think of the jBPM (5, 6) documentation. If there are parts of the online documentation (  http://www.jboss.org/jbpm/documentation here ) that you find particularly frustrating or unclear, please post below. Suggestions, as always, are welcomed. Thanks, Marco</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Process instance execution do not continue to the next task after completing a previous task.</header>
    <body>Hi, i m using jbpm 5.4 embeded on a web application and i ve a problem after completing a task, getting the next task with the "getTasksAssignedAsPotentialOwner" do not return anything. When i created  the session which contain the process i registered a "LocalHTWorkItemHandler", so i don't think i need to complete it in order to the process to be continued. After the task is completed , i checked on the database and found its status "completed" so i think nothing wrong have happened in completing/persisting operations. i also don't have any exception and nothing happen in the application , i just can't get the next task. h6. The following is the service java class which contain methods used for creating the session and completing the task.      /*            * Complete a task with a taskid and data for a user            */     //  creating a Persistence Knowledge Session     // We need to register the WorkItems and Listeners that the session will use     KnowledgeRuntimeLoggerFactory.newConsoleLogger(ksession);    Please , can someone guess what is wrong ??</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Process instance execution do not continue to the next task after completing a previous task.</header>
    <body>After completing the first task , in the database there are 2 tasks , the one with the Status "completed" and the other "reserved" which should be get by the getTasksAssignedAsPotentialOwner method.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - JBoss AS7: Reading Properties ClassLoader.getSystemResource("PropertyFile") - Not working</header>
    <body>I used the following article to configure loading properties from external folders. https://community.jboss.org/docs/DOC-18247#/?page=2 https://community.jboss.org/wiki/HowToPutAnExternalFileInTheClasspath#/?page=2 Everything seems to work as in the article. How ever, I am porting an WAR from websphere to JBoss AS7 and have slight problem with this. My application uses *ClassLoader.getSystemResource("PropertyFile")* to get the URL for the property file from Classpath. When I try this, I get a Null Pointer Exception I can successfully load using  *this.getClass().getClassLoader().getResource("PropertyFile")* I can not change it as this is being used all over the application. Why doesn't *ClassLoader.getSystemResource("PropertyFile")* not work ? Is there some configuration setting that can make it work? I am willing to move the properties files to a different location or may be include in the WAR if needed. Any Help is greatly appreciated.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - secureResponse called before service invocation instead of after</header>
    <body>WebJASPIAuthenticator in JBoss AS 7.1.1 and JBoss EAP 6.0.1 calls +secureResponse+ right after +validateRequest+ on a SAM has been called. The only intermediate code is registering the result of the callback handler with the container. The service invocation (e.g. calling a Servlet) is done afterwards, ie after the call to +secureResponse+. See the following fragment:         // the authentication process has been a success. We need to register the principal, username, password and roles         // with the container             // get the client principal from the callback.             // if the client principal is not a jboss generic principal, we need to build one before registering.             if (!(clientPrincipal instanceof JBossGenericPrincipal))             this.register(request, response, clientPrincipal, authMethod, pvc.getUsername(),             if (this.secureResponse) However, section 3.8.3.3 of the JSR 196 (JASPIC) spec says that the semantics of secureResponse are as defined in Section 3.8.2.2, which thus means that secureResponse should be called +after+ a service invocation. Figure 1.1 in Section 1.1 shows this as well, and the general flow as described is Section 3.8 also mentions this. So, in JBoss the sequence is validateRequest -&gt; secureResponse -&gt; Invoke Service While the spec seems to say it should be: validateRequest -&gt; Invoke Service -&gt; secureResponse In the reference implementation GlassFish the sequence is indeed the latter one.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Remote EJB distributed transactions and recovery</header>
    <body>h1. Overview Unlike previous JBoss AS versions, remote transaction propagation between 2 server instances for EJB invocations does *not* require JTS. EJB client API which was introduced in AS7 uses its own protocol for remote transaction propagation between the client and the server for EJB invocations. h1. Typical scenario Let's consider an EJB A hosted on Server 1 and EJB B hosted on Server 2. EJBs are transactional by default. There are ways to disable transactions on EJBs or certain business methods of EJBs. But we won't be going into that part, in this article because our intention is to focus on the transaction propagation and recovery for EJBs, which obviously will require transactional EJBs. When a client, for example a standalone Java application, invokes on EJB A (on Server 1) a transaction is created. Later, during that invocation request, if EJB A in turn invokes on EJB B (on Server 2), the transaction propagation is carried out between the servers hosting those 2 EJBs. Previous versions of JBoss AS require JTS for the transaction propagation to happen. However in AS7 we have a JBoss specific protocol implemented in EJB client API which does the necessary propagation. The EJB client API interacts with the transaction manager on Server 1 and Server 2 to carry out the necessary transaction propagation and management. Furthermore on the server side of the interaction (i.e. of Server 2 in this case), the AS7 EJB integration layer (heavily) uses JBoss Transaction project (Narayana) APIs to import the remote transaction and further manage it. h1. Crash and transaction recovery JBoss Transactions (Narayana) project provides the necessary API infrastructure for libraries like the EJB client API project to integrate for transaction recovery in case of client/server crash scenarios. The design of that API is explained in the JBoss Transactions project manual here  http://docs.jboss.org/jbosstm/4.17.3.Final/guides/failure_recovery_guide/ http://docs.jboss.org/jbosstm/4.17.3.Final/guides/failure_recovery_guide/. /** * Obtains a list of prepared transaction branches from a resource manager. The transaction manager calls this method * during recovery to obtain the list of transaction branches that are currently in prepared or heuristically completed states. */ As is evident from the name of the method, the implementation is responsible for returning the Xid(s) which need to be recovered. h1. XAResourceRecovery implementation for EJB client API As explained in the JBoss Transactions document, the recovery process involves a background thread which runs at periodic intervals to check for transactions that should be recovered. From a EJB client API perspective, it has to know the target server against which it is issuing a recover request and also the node identifier of the node/server on which the (previously run) transaction(s) originated. h2. Node identifier of the transaction origin This is also known as the "parent node name". This is the node on which the transaction, which was propagated, originated. The transaction subsystem integration in AS7 exposes this node identifier via the CoreEnvironmentService:   ...   .... So it's straightforward for the EJB client integration in AS7 to know what the node identifier of itself. h2. Target server(s)/EJBReceiver(s) against which the recover request has to be issued The EJBClientContext can potentially contain numerous EJBReceiver(s), each of which correspond to a different node. Furthermore, the EJBReceiver(s) within a EJBClientContext can be dynamic - which means at it may not always contain the same set of EJBReceiver(s). Certain receivers may be added or removed as and when such a need arises. As such, there's no fixed set of EJBReceiver(s) which the EJBClientContext can known before hand to issue the recovery request against. So how does the EJB client API know which EJBReceiver(s) should it issue the recovery request when the recovery manager background process asks it for the Xid[] that need to be recovered. The answer to that question is that whenever a EJBReceiver is registered in a EJBClientContext, it will make that EJBReceiver eligible for issuing a recovery request against. This is a very important thing to remember since if a server/EJBReceiver was being used during EJB invocations and either the server or client crashed, then the recovery against the server/EJBReceiver will not be triggered unless that EJBReceiver gets registered within a EJBClientContext. This however isn't a restriction since a recovery process between 2 servers only makes sense when they are communicating with each other and from a EJB client API perspective, the communication can only happen when the EJBReceiver is registered in a EJBClientContext.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Remote EJB distributed transactions and recovery</header>
    <body>h1. Overview Unlike previous JBoss AS versions, remote transaction propagation between 2 server instances for EJB invocations does *not* require JTS. EJB client API which was introduced in AS7 uses its own protocol for remote transaction propagation between the client and the server for EJB invocations. h1. Typical scenario Let's consider an EJB A hosted on Server 1 and EJB B hosted on Server 2. EJBs are transactional by default. There are ways to disable transactions on EJBs or certain business methods of EJBs. But we won't be going into that part, in this article because our intention is to focus on the transaction propagation and recovery for EJBs, which obviously will require transactional EJBs. When a client, for example a standalone Java application, invokes on EJB A (on Server 1) a transaction is created. Later, during that invocation request, if EJB A in turn invokes on EJB B (on Server 2), the transaction propagation is carried out between the servers hosting those 2 EJBs. Previous versions of JBoss AS require JTS for the transaction propagation to happen. However in AS7 we have a JBoss specific protocol implemented in EJB client API which does the necessary propagation. The EJB client API interacts with the transaction manager on Server 1 and Server 2 to carry out the necessary transaction propagation and management. Furthermore on the server side of the interaction (i.e. of Server 2 in this case), the AS7 EJB integration layer (heavily) uses JBoss Transaction project (Narayana) APIs to import the remote transaction and further manage it. h1. Crash and transaction recovery JBoss Transactions (Narayana) project provides the necessary API infrastructure for libraries like the EJB client API project to integrate for transaction recovery in case of client/server crash scenarios. The design of that API is explained in the JBoss Transactions project manual here  http://docs.jboss.org/jbosstm/4.17.3.Final/guides/failure_recovery_guide/ http://docs.jboss.org/jbosstm/4.17.3.Final/guides/failure_recovery_guide/. /** * Obtains a list of prepared transaction branches from a resource manager. The transaction manager calls this method * during recovery to obtain the list of transaction branches that are currently in prepared or heuristically completed states. */ As is evident from the name of the method, the implementation is responsible for returning the Xid(s) which need to be recovered. h1. XAResourceRecovery implementation for EJB client API As explained in the JBoss Transactions document, the recovery process involves a background thread which runs at periodic intervals to check for transactions that should be recovered. From a EJB client API perspective, it has to know the target server against which it is issuing a recover request and also the node identifier of the node/server on which the (previously run) transaction(s) originated. h2. Node identifier of the transaction origin This is also known as the "parent node name". This is the node on which the transaction, which was propagated, originated. The transaction subsystem integration in AS7 exposes this node identifier via the CoreEnvironmentService:   ...   .... So it's straightforward for the EJB client integration in AS7 to know what the node identifier of itself. h2. Target server(s)/EJBReceiver(s) against which the recover request has to be issued The EJBClientContext can potentially contain numerous EJBReceiver(s), each of which correspond to a different node. Furthermore, the EJBReceiver(s) within a EJBClientContext can be dynamic - which means at it may not always contain the same set of EJBReceiver(s). Certain receivers may be added or removed as and when such a need arises. As such, there's no fixed set of EJBReceiver(s) which the EJBClientContext can known before hand to issue the recovery request against. So how does the EJB client API know which EJBReceiver(s) should it issue the recovery request when the recovery manager background process asks it for the Xid[] that need to be recovered. The answer to that question is that whenever a EJBReceiver is registered in a EJBClientContext, it will make that EJBReceiver eligible for issuing a recovery request against. This is a very important thing to remember since if a server/EJBReceiver was being used during EJB invocations and either the server or client crashed, then the recovery against the server/EJBReceiver will not be triggered unless that EJBReceiver gets registered within a EJBClientContext. This however isn't a restriction since a recovery process between 2 servers only makes sense when they are communicating with each other and from a EJB client API perspective, the communication can only happen when the EJBReceiver is registered in a EJBClientContext. h1. Implementation note The EJB client project will *not* have any dependency on the JBoss Transactions (Narayana) project. All of the details being discussed in this article will be implemented in a way such that the AS7 EJB integration part can provide the necessary plugins to the EJB client library for allowing the recovery process to be carried out.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Single	Installation Patching</header>
    <body>Sorry David, for not replying long ago. I'm fine with a disabling mechanism, particularly if it's ok to undo the change on a patch rollback. My inclination is to add a UI element such that we warn the user of the presence of this kind of change and require them to pass a flag allowing it. It's less critical that we do that if we allow re-enabling on rollback. But it may still be nice as it will help avoid suprises, e.g. if the disabled jar was on a classpath. As for RPM, +1. I want the approach we follow here to be generally consistent with RPM patching, so a user who is familiar with RPM will have a general sense of how what we're doing will behave, and so a user who is accustomed to this tool who then moves to RPM is reasonably comfortable. As for actually using this tool on an installation that was provisioned via RPM -- that was not part of the original requirements for the tool. I would want to hear a clear example of how the two could mix and what the benefits would be before I'd go to my management to look into getting resources to make that happen.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Remote EJB distributed transactions and recovery</header>
    <body>bad idea to reimplement XA Transaction handling just for two servers and one specific EJB client API, when you have a separate project specialised for complex problem like XA two face commit. Typically you don't have just two servers for XA recovery but, often XA Transaction is spawn over TXT Datasource(s) which interact also with TX Manager from DB. Or if you have JMS Ressources like Queue or Topic with TXT Connection Factory. What if Stand Alone Client is using EJB API to communicate to a Server A EJB , but this EJB calls Server B EJB over let say iiop...? What if TXT start was issued outside of Server or if Serve A and Server B are back, but the DB is still down.. ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Remote EJB distributed transactions and recovery</header>
    <body>Radek, I'm not really sure what your point is. I understand that. This article is more about internal implementation details about these transaction managers are made aware of the transactions across the servers.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Design of Messaging on JBoss (Messaging/JBoss)]	- Re: PingStressTests hanging</header>
    <body>| + | | + | |     // Attributes --</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - EAP jboss log.txt	getting too large</header>
    <body>I'm developing Struts 2 application and deploying that as war on EAP Jboss 6. At the beginning of development nothing gone wrong. But recently i realized that my disk space is grtting full because of log.txt file . When searching on web about this got lot of discussions but nothing helped me. From one post i tried to exclude log4j lib from the 'deployment-structure.xml' but nothing happened. Then i gone through standalone.xml file i found on subsystem tag which is *subsystem xmlns="urn:jboss:domain:logging:1.1".* i removed that completely and deleted log.txt from that location. Now file is not created. Then tried different things on that tag each time log.txt file was created and lo was getting populated. I tried log4j.properties in my project but file was created not populated.Now i could understand that the *subsystem xmlns="urn:jboss:domain:logging:1.1"* line calls the inbuilt jar file and a class from that jar creates the file. So please let me know where is that jar file actually located. I attached my log4j.properties with this query.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: EAP jboss log.txt	getting too large</header>
    <body>Can you paste your logging configuration from the standalone.xml (assuming you're running in standalone mode). There is no file by default called log.txt so it has to be somewhere in a configuration file. -- James R. Perkins</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: EAP jboss log.txt	getting too large</header>
    <body>I'm running EAP Jboss binding to 0.0.0.0 by using the command 'standalone.bat -b 0.0.0.0 -bmanagement 0.0.0.0'(for Windows) and ' ./standalone.sh -Djboss.bind.address=0.0.0.0 -Djboss.bind.address.management=0.0.0.0&amp;' (For Ubuntu). I'll paste the server console first , because the first echo is about the log, but i don't understand it, WARNING: -logmodule is deprecated. Please use the system property 'java.util.logging.manager' or the 'java.util.logging.LogManager' service loader. 09:54:14,903 INFO  [org.jboss.as.security] (MSC service thread 1-2) JBAS013100: Current PicketBox version=4.0.9.Final-redhat-1 09:54:15,278 INFO  [org.jboss.as.connector.logging] (MSC service thread 1-1) JBAS010408: Starting JCA Subsystem (JBoss IronJacamar 1.0.11.Final-redhat-1) 09:54:16,277 INFO  [org.jboss.as.naming] (MSC service thread 1-3) JBAS011802: Starting Naming Service 09:54:16,340 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-4) JBAS015400: Bound mail session [java:jboss/mail/Default] 09:54:16,418 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 29) JBAS010403: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3) 09:54:17,573 INFO  [org.apache.coyote.http11.Http11Protocol] (MSC service thread 1-2) Starting Coyote HTTP/1.1 on http-/0.0.0.0:8080 09:54:18,151 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS] 09:54:18,182 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "ESS.war" 09:54:18,198 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015876: Starting deployment of "EMAG.war" 09:54:18,213 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-1) JBAS015012: Started FileSystemDeploymentService for directory E:\Servers\EAP 6\jboss-eap-6.0\standalone\deployments 09:54:18,447 INFO  [org.jboss.as.remoting] (MSC service thread 1-4) JBAS017100: Listening on 0.0.0.0:9999 09:54:18,463 INFO  [org.jboss.as.remoting] (MSC service thread 1-4) JBAS017100: Listening on 0.0.0.0:4447 09:54:42,565 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) JBAS010403: Deploying JDBC-compliant driver class oracle.jdbc.OracleDriver (version 11.2) 09:54:42,706 INFO  [org.jboss.as.osgi] (MSC service thread 1-4) JBAS011907: Register module: Module "deployment.EMAG.war:main" from Service Module Loader 09:54:45,842 INFO  [org.jboss.web] (MSC service thread 1-1) JBAS018210: Registering web context: /EMAG 09:54:51,209 INFO  [org.jboss.as.osgi] (MSC service thread 1-4) JBAS011907: Register module: Module "deployment.ESS.war:main" from Service Module Loader 09:54:52,911 INFO  [org.jboss.web] (MSC service thread 1-1) JBAS018210: Registering web context: /ESS 09:54:52,943 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "ESS.war" 09:54:52,943 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "EMAG.war" 09:54:53,848 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015951: Admin console listening on  http://0.0.0.0:9990 http://0.0.0.0:9990 09:54:53,848 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: JBoss EAP 6.0.0.GA (AS 7.1.2.Final-redhat-1) started in 53562ms - Started 495 of 578 services (82 services are passive or on-demand) ...... Now i'll paste the standalone.xml where the log manager is called,... &lt;subsystem xmlns="urn:jboss:domain:logging:1.1"&gt;             &lt;console-handler name="CONSOLE"&gt;                 &lt;level name="INFO"/&gt;                 &lt;formatter&gt;                 &lt;/formatter&gt;             &lt;/console-handler&gt;             &lt;periodic-rotating-file-handler name="FILE"&gt;                 &lt;formatter&gt;                 &lt;/formatter&gt;                 &lt;file path="server.log" relative-to="jboss.server.log.dir"/&gt;                 &lt;suffix value=".yyyy-MM-dd"/&gt;                 &lt;append value="true"/&gt;             &lt;/periodic-rotating-file-handler&gt;             &lt;logger category="com.arjuna"&gt;                 &lt;level name="WARN"/&gt;             &lt;/logger&gt;             &lt;logger category="org.apache.tomcat.util.modeler"&gt;                 &lt;level name="WARN"/&gt;             &lt;/logger&gt;             &lt;logger category="sun.rmi"&gt;                 &lt;level name="WARN"/&gt;             &lt;/logger&gt;             &lt;logger category="jacorb"&gt;                 &lt;level name="WARN"/&gt;             &lt;/logger&gt;             &lt;logger category="jacorb.config"&gt;                 &lt;level name="ERROR"/&gt;             &lt;/logger&gt;             &lt;root-logger&gt;                 &lt;level name="INFO"/&gt;                 &lt;handlers&gt;                     &lt;handler name="CONSOLE"/&gt;                     &lt;handler name="FILE"/&gt;                 &lt;/handlers&gt;             &lt;/root-logger&gt;         &lt;/subsystem&gt; ..... Thats what i have in standalone.xml.....</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Entity hashCode and equals	overriding</header>
    <body>Hi there, I'm having some problems overring hashCode() and equals() methods of an entity Book. This is my code: ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>Hi Fabio, Could you post what does your Cart entity looks like? How is the cart.getArticles() map defined? Cheers! Piotr</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>This is my Cart Entity class: ---</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>Did you try creating some simple test - persist some data, commit the transaction. check the database state and then fetch the entity and make sure articles are retrieved correctly? How does the Book entity looks like? Does it have ISBN as primary key?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>Yes, now in my application I can persist books and retrieve them. The problem is when the addArticle() is executed. In fact since return always null then the book is added on the database but as a different record. Thank you!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>Where is the 'cart' variable coming from in your addArticle() method? Are you in the active transaction? Is the cart.getArticles() empty or does contain some entries?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>The cart variable is inside the CartBean: ---------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>If you invoke addArticle(-) for the first time - the cart.getArtiles() is empty. If you invoke addArticle(-) again - the cart.getArticles().get(book) will return null, but *will the cart.getArticles() be empty?* Try debugging it - is the previous article in the map (then you have a problem with hashCode and/or equals) or it's not there (and you have a problem with persistence).</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>If I invoke one time addArticle() method then the cart is not empty but cart.getArticles().get(book) always return null even if the cart contains some entries. When I got this situation i figured out that the problem was the lack of hashCode and equals. Now that the methods are implemented nothing is changed. Moreover i've tried using a hashCode() that return always 1 and equals() that return always true but *currentQuantity* is still null.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>Ok, so you have some entries and you can't fetch them. You're saying that your persistence is working correctly, so can you investigate a little more about what entrries are in cart.getArticles()? Fetch them, fetch their hashCodes. It seems rather impossible that you have hashcode and equals methods that returns always the same value (1 and true), you have a collection with entities and still you're retrieving null...</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>I tried to use equals() returning true and hashCode returning 1 only for testing. Because in this way if all books has the same hashcode it would like "all the books are the same". But since even in this case the call returns null i've tried with normal equals() and hashCode() to print the hashCode of the book inserted in the cart and the hashCode of the book inserted. They were equals. However i can retry to investigate deeply. Thank u Piotr!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>This is really weird Fabio. So you have a Map&lt;Book, Integer&gt; with one element - entry1 which key hashCode yields to 1 and equals always returns true. Then you have a Book instance - b1 which hashCode yields to 1 and equals always returns true. In this way you ask the Map&lt;Book, Integer&gt; for an entry with key b1. The hashCode == 1, so the bucket in the map is located correctly; the equals always returns true, so the element must be properly returned... Can it be some caching problem between you changing the code, deploying it on the server and running again? Saying it all - it seems like a problem not related with the JPA / persistence / database.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>I've just fix the problem! I've changed the code in this way: ------------------------------------------------------- @Override if (o==this) if (this.isbn.compareTo(((Book) o).getIsbn()) == 0) ------------------------------------------------------- The problem was the comparison between string! Now I use the compareTo() method and everything correctly works. Thank you for your time Piotr!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Entity hashCode and	equals overriding</header>
    <body>It's geat it works, but it also should work if you returned the same value from hashcode and equals... the strngs comparison was not the issue it that situation, right?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Single	Installation Patching</header>
    <body>During a discussion of this patching mechanism between Kevin Conner and the security response team, we covered the issue of old JARs being left on the system after they have been updated by a patch. With previous zip-based patching, the old JARs would be overwritten. With this mechanism, the old JARs are left on the system (for rollback etc.). This potentially exposes security concerns, where a patch provides updated JARs that resolve security issues. Although the old JARs would not be deployed in the running server, they could be exposed via classpath, and they could be accidentally/inadvertently used in running code. To remove this possibility, I suggest disabling old JARs when they are archived, and then re-enabling them again if and when they are rolled back. The disabling would need to be two-way (i.e. you can disable then re-enable later). It doesn't need to use any fancy techniques, so long as it effectively renders the JAR unusable. Off the top of my head, one way to do this is to just flip a bit in the zip file end of central directory signature (little-endian 0x06054b50). I have tested this method and it renders the JAR unable to be extracted, and unable to be executed by the JVM. Re-enabling is just a matter of flipping the bit back. Of course, this only works for zipped JARs; exploded JARs would require something similar done to the individual class files. What do people think, it this a feasible idea?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - On the topic of	missing resources</header>
    <body>The current upstream master currently says upon finding a mismatch in datasource definition/lookup something like Although it well, says what happens, is the contextual information available so that the message could be something like other messages could be or * *</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: On the topic of	missing resources</header>
    <body>Do you have any thoughts on how to accomplish this? Those log messages are very nice because they include a ton of contextual information. The problem is assembling the contextual information.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: On the topic of	missing resources</header>
    <body>Not yet, still stepping through the debugger in ApplicationServerService.start(final StartContext context) in the "AS 7 Internal Architecture Overview" article ;-) But if you're asking a question like that, I'm guessing I'm SOL ;-)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Using Log4J in AS7</header>
    <body>Looks like I am having the same issues moving project that are Spring, Log4J from tomcat to JBoss AS7.. Can someone please give me a breakdown of the steps I have to take to get this working</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using netty causes an classloader issue.</header>
    <body>Actually i am trying to implement a small tcp/ip server using google protobuf and netty. At the end an event handler from the netty pipeline will be called which passes the specified message to the server logic. Before invoking the server logic i planned to decode the actual tcp/ip package using the code fragment below.    @Override When the client sends a message to the server i get on the server side: 1:29:36,362 WARN  [org.jboss.modules] (New I/O server worker #33-1) Failed to define class site.boavista.community.itf.ClientITF$ServerCommandOrBuilder in Module "deployment.MyCommunityJBoss.war:main" from Service Module Loader: java.lang.LinkageError: Failed to link site/boavista/community/itf/ClientITF$ServerCommandOrBuilder (Module "deployment.MyCommunityJBoss.war:main" from Service Module Loader)           at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:396) ...      at java.lang.Thread.run(Thread.java:679) [rt.jar:1.6.0_24] Caused by: j*ava.lang.NoClassDefFoundError: com/google/protobuf/MessageLiteOrBuilder* which is quite surprising to me since to corrsponding jar of the protobuf package is included in the deployment war file. I would have expected this to be sufficent. Has anybody encountered such an issue already? Regards   M.Erdmann Attached the *exception log*. The *source code i*s avaiable under git://github.com/merdmann/MyCommunityJBoss.git The intersting package is site.boavista.jboss.view; pls. igonore the other packages since they are not yet called and need some rework.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Hibernate physical	connection</header>
    <body>Hi, Here I have a question that, In hibernate how physical connections are established. Like when we user c3p0 library to configure about connection pooling in hibernate configuration file. and when 100 transactons are going on at asame time, then how much physical connection will be established to the database? Please answer to this post asap.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - how to fill a task properties in order to get fields on generated tasks forms ?</header>
    <body>Hi, By reading the " Generation of process and task forms" paragraph on the 10th chapter of the jbpm user guide i know that : # &lt;&lt;Designer will iterate through BPMN2 process and create forms for it, and each of the human tasks in that process. It uses the defined process variables and human task data input/output parameters and associations to create form fields. &gt;&gt; and # &lt;&lt;In order for process and task forms to be generated you have to make sure that your process has it's id parameter set, as well that each of your human tasks have the TaskName parameter set. Task forms contain pure HTML, CSS, and JavaScript, so they are easily editable in any HTML editor. &gt;&gt; but i still don't know how to fill tasks properties to get fields on generated forms and which langage/syntaxe to use while filling them. i ve tried to write ; "String name;" on the "DataInputset" and in the "InputDataItem" but still have empty generated forms.. i didn't neither find any tutorial about how to properly use the oryx designer. thnx to resolve this problem.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - SOAP WS: Disable schema validation - JBoss 7.1/Seam 2.3</header>
    <body>I'm trying to disable schema validation for all SOAP webservices. Following the documentation I tried to set this property at standalone.xml: &lt;endpoint-config name="Standard-Endpoint-Config"&gt;         &lt;property name="schema-validation-enabled" value="true"/&gt; &lt;/endpoint-config&gt; But the error persists: 21:02:35,461 WARNING [org.apache.cxf.phase.PhaseInterceptorChain] (http--0.0.0.0-8080-4) Interceptor for (...) Error: unexpected element (uri:"", local:"requestImageTypeFlagSpecified"). Expected elements are (...) Caused by: javax.xml.bind.UnmarshalException: unexpected element (uri:"", local:"requestImageTypeFlagSpecified"). How can I disable the xsd schema validation? Many thanks</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - Re: SOAP WS: Disable schema validation - JBoss 7.1/Seam 2.3</header>
    <body>Solved. As stated in  https://docs.jboss.org/author/display/JBWS/JBoss+Modules https://docs.jboss.org/author/display/JBWS/JBoss+Modules I needed to "Dependencies: org.jboss.ws.cxf.jbossws-cxf-client services export" to MANIFEST.MF</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7	Securing Passwords</header>
    <body>I'm getting the same error with JBoss AS7 7.1.1 on Mac OSX.  As a bit of additional information, the insertion of even an empty &lt;vault&gt; tag leads to an XMLStreamException with the message "Unexpected element" thrown on whatever element follows the &lt;vault&gt; block.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: How to specify a SAR's module dependencies?</header>
    <body>Do I read it right - to upgrade from JBoss 6 to JBoss 7, we'll have to actually wait for 7.2 to be released? Ie. MBeans are not supported on 7.1.1 yet? Will 7.2 be in feature parity with JBoss 6, or will we have to wait for some even later version?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Log HTTP POST data</header>
    <body>Is there an easy way to log HTTP POST/GET data.  I'm trying to track a problem where I believe to be receiving an invalid post.  Is ther a way to output the raw data to the logs? Thank you, ~Justin</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: How to specify a SAR's module dependencies?</header>
    <body>You can also download and use the newest build from  https://ci.jboss.org/jenkins/job/JBoss-AS-7.x-latest/ https://ci.jboss.org/jenkins/job/JBoss-AS-7.x-latest/ to upgrade your jboss, until 7.2 is finally released.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Log HTTP POST data in JBoss AS 7.1.1</header>
    <body>You could add a request-dumping servlet filter to your application.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7	Securing Passwords</header>
    <body>@Steve: I suppose you have put &lt;vault&gt; on the wrong place in the XML file. It cannot be used on arbitrary place you want. If you use it in standalone.xml, the sequence of tags MUST be following: &lt;extensions&gt; &lt;system-properties&gt; &lt;paths&gt; *&lt;vault&gt;* &lt;management&gt; If you have only &lt;extensions&gt; and &lt;management&gt;, then &lt;vault&gt; must be exactly AFTER &lt;/extensions&gt; and BEFORE &lt;management&gt;.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7 Securing	Passwords</header>
    <body>This article will describe the capabilities available in JBoss AS7.1 with regard to securing sensitive attributes such as passwords. h2. Disclaimer: The default implementation described in this article only solves the problem of masking clear text passwords. There is always a weak link (in this case, the keystore password). For windows platform, refer to  https://community.jboss.org/docs/DOC-17763 https://community.jboss.org/wiki/AS7PasswordVaultOnWindows ** #Disclaimer Disclaimer: ** #What_is_needed What is needed? ** #Process Process *** #Step_1_Create_a_Java_KeyStore Step 1:  Create a Java KeyStore *** #Step_2_Use_the_Vault_Tool_scripts_to_store_a_password_in_the_vault Step 2: Use the Vault Tool scripts to store a password in the vault *** #Step_3_Configure_the_attributes_in_your_xml_such_as_standalonexml_and_hostxml Step 3:   Configure the attributes in your xml such as standalone.xml and host.xml ** #Guidance_for_subsystems_seeking_passwords_in_AS7 Guidance for subsystems seeking passwords in AS7 ** #Frequently_Asked_Questions Frequently Asked Questions: ***** #How_secure_is_this How secure is this? ***** #Can_I_really_secure_the_keystore Can I really secure the keystore? ***** #How_do_I_get_foolproof_security_for_passwords How do I get foolproof security for passwords? ***** #Why_should_I_use_it Why should I use it? ***** #I_lost_the_vault_formatted_string_for_my_attribute I lost the vault formatted string for my attribute? ***** #Can_I_do_all_this_from_the_UI Can I do all this from the UI? ***** #Show_me_how_to_do_this_on_Windows Show me how to do this on Windows. ***** #Please_give_me_an_example Please give me an example. h2. What is needed? 1. Java KeyStore. 2. Scripts provided in the bin directory of JBoss AS 7 .1 (vault.sh etc) h2. h2. Process h3. h3. Step 1:  Create a Java KeyStore $ keytool -genkey -alias vault -keyalg RSA -keysize 1024  -keystore vault.keystore Enter keystore password: vault22 Re-enter new password:vault22 What is your first and last name?   [Unknown]:  Picketbox vault What is the name of your organizational unit?   [Unknown]:  picketbox What is the name of your organization?   [Unknown]:  JBoss What is the name of your City or Locality?   [Unknown]:  chicago What is the name of your State or Province?   [Unknown]:  il What is the two-letter country code for this unit?   [Unknown]:  us Is CN=Picketbox vault, OU=picketbox, O=JBoss, L=chicago, ST=il, C=us correct?   [no]:  yes Enter key password for &lt;vault&gt;         (RETURN if same as keystore password):  It is important to keep track of the keystore password and the alias.  In this example, the keystore password is "vault22" and the alias is "vault". h3. Step 2: Use the Vault Tool scripts to store a password in the vault /bin/util$ ./vault.sh =========================================================================   JBoss Vault   JBOSS_HOME: /home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT   JAVA: /opt/java/jdk1.6.0_23/bin/java   VAULT Classpath: /home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT/modules/org/picketbox/main/*:/home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT/modules/org/jboss/logging/main/*:/home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT/modules/org/jboss/common-core/main/*:/home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT/modules/org/jboss/as/security/main/* ========================================================================= ********************************** ****  JBoss Vault ******** ********************************** Please enter a Digit::   0: Start Interactive Session  1: Remove Interactive Session  2: Exit 0 Starting an interactive session Enter directory to store encrypted files (end with either / or \ based on Unix or Windows:/home/anil/vault/ Enter Keystore URL:/home/anil/vault/vault.keystore Enter Keystore password: Enter Keystore password again: Values match Enter 8 character salt:12345678 Enter iteration count as a number (Eg: 44):50 Please make note of the following: ******************************************** Masked Password:MASK-5WNXs8oEbrs salt:12345678 Iteration Count:50 ******************************************** Enter Keystore Alias:vault Sep 28, 2011 11:48:39 AM org.jboss.security.vault.SecurityVaultFactory get INFO: Getting Security Vault with implementation of org.picketbox.plugins.vault.PicketBoxSecurityVault Obtained Vault Intializing Vault Vault is initialized and ready for use Handshake with Vault complete Please enter a Digit::   0: Store a password  1: Check whether password exists  2: Exit 0 Task:  Store a password Please enter attribute value: Please enter attribute value again: Values match Enter Vault Block:ds_ExampleDS Enter Attribute Name:password Attribute Value for (ds_ExampleDS, password) saved Please make note of the following: ******************************************** Vault Block:ds_ExampleDS Attribute Name:password Shared Key:N2NhZDYzOTMtNWE0OS00ZGQ0LWE4MmEtMWNlMDMyNDdmNmI2TElORV9CUkVBS3ZhdWx0 Configuration should be done as follows: VAULT::ds_ExampleDS::password::N2NhZDYzOTMtNWE0OS00ZGQ0LWE4MmEtMWNlMDMyNDdmNmI2TElORV9CUkVBS3ZhdWx0 ******************************************** Please enter a Digit::   0: Store a password  1: Check whether password exists  2: Exit 2 h3. Step 3:   Configure the attributes in your xml such as standalone.xml and host.xml h3. &lt;server xmlns="urn:jboss:domain:1.1"&gt;   &lt;extensions&gt;      ...   &lt;/extensions&gt;   &lt;vault&gt;       &lt;vault-option name="KEYSTORE_URL" value="/home/anil/vault/vault.keystore"/&gt;       &lt;vault-option name="KEYSTORE_PASSWORD" value="MASK-3y28rCZlcKR"/&gt;       &lt;vault-option name="KEYSTORE_ALIAS" value="vault"/&gt;       &lt;vault-option name="SALT" value="12438567"/&gt;       &lt;vault-option name="ITERATION_COUNT" value="50"/&gt;     &lt;/vault&gt;    ...   &lt;subsystem xmlns="urn:jboss:domain:datasources:1.0"&gt;             &lt;datasources&gt;                 &lt;datasource jndi-name="java:jboss/datasources/ExampleDS" enabled="true" use-java-context="true" pool-name="H2DS"&gt;                     &lt;connection-url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1&lt;/connection-url&gt;                     &lt;driver&gt;h2&lt;/driver&gt;                     &lt;pool&gt;&lt;/pool&gt;                     &lt;security&gt;                         &lt;user-name&gt;sa&lt;/user-name&gt;                     &lt;/security&gt;                 &lt;/datasource&gt;                 &lt;drivers&gt;                     &lt;driver name="h2" module="com.h2database.h2"&gt;                         &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;                     &lt;/driver&gt;                 &lt;/drivers&gt;             &lt;/datasources&gt;         &lt;/subsystem&gt; Note previously, the datasource password would have been: &lt;security&gt;      &lt;user-name&gt;sa&lt;/user-name&gt;     &lt;password&gt;sa&lt;/password&gt; &lt;/security&gt; h2. h2. Guidance for subsystems seeking passwords in AS7 The server module in JBoss AS7 workspace has a class called as VaultUtil which has methods for you to seamlessly pass the vault formatted string to get the password from the vault. I am posting the integration done in org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService Note that do not seek the password from the vault during the xml parsing phase because the vault has not been initialized and ready. It has to be done in the services phase when you actually do something with the configured elements of your subsystem. In the case of JCA datasource integration, we do it in AbstractDataSourceService                               throw new RuntimeException(e); // TODO: use bundle from IJ   We do not want to make the configuration of the vault formatted string to be very difficult. As long as the formatted string is prefixed with VAULT::,  the vault will be invoked.  Custom implementations of the vault should consider the last token for any configuration. If you are using the AttributeDefinition classes the vaulted expression will be automatically resolved when calling AttributeDefiniton.resolveModelAttribute(). If you are not using AttributeDefinition you need to call OperationContext.resolveExpression() yourself as this example from DataSourceModelNodeUtil h2. h2. Frequently Asked Questions: * h5. How secure is this? * The default implementation of the vault utlizes a Java KeyStore. Its configuration uses Password Based Encryption, which is security by obscurity.  This is not 100% security. It only gets away from the problem of clear text passwords in configuration files.  There is always a weak link. (+*As mentallurg suggests in the comments, the keystore password is the weakest link*+). * Ideally, 3rd party ISV robust implementations of Vaults should provide the necessary security. * h5. Can I really secure the keystore? * You can store the keystore on an USB or an encrypted secure usb or such. * When the server starts, insert the USB. On successful start, you can remove the USB. * Ideally, use a FIPS 140-2 certified keystore from a keystore vendor if you want foolproof security. * h5. How do I get foolproof security for passwords? * The default implementation of Vault in JBossAS7 is not 100% secure. * You can increase level of security by adopting a FIPS 140-2 certified keystore. * You can use 3rd party implementations of the Vault (this is something we are pushing for ISVs to do). * h5. Why should I use it? * There is no magic. The level of security is exactly the same as with plain text passwords * What's the reason to use it? * If you * * 111 * h5. I lost the vault formatted string for my attribute? * Just reinsert the attribute value in the vault to overrwrite what was previously stored. You will get a new formatted string to insert in the xml. * h5. Can I do all this from the UI? * Hopefully with time, we can get this integrated into the console. * h5. *Show me how to do this on Windows.* *  https://community.jboss.org/docs/DOC-17763 https://community.jboss.org/wiki/AS7PasswordVaultOnWindows * h5. Please give me an example. *  https://community.jboss.org/docs/DOC-17472 https://community.jboss.org/wiki/AS7UtilisingMaskedPasswordsViaTheVault *  https://community.jboss.org/docs/DOC-17503 https://community.jboss.org/docs/DOC-17503</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7 Securing	Passwords</header>
    <body>This article will describe the capabilities available in JBoss AS7.1 with regard to securing sensitive attributes such as passwords. h2. Disclaimer: The default implementation described in this article only solves the problem of masking clear text passwords. There is always a weak link (in this case, the keystore password). For windows platform, refer to  https://community.jboss.org/docs/DOC-17763 https://community.jboss.org/wiki/AS7PasswordVaultOnWindows ** #Disclaimer Disclaimer: ** #What_is_needed What is needed? ** #Process Process *** #Step_1_Create_a_Java_KeyStore Step 1:  Create a Java KeyStore *** #Step_2_Use_the_Vault_Tool_scripts_to_store_a_password_in_the_vault Step 2: Use the Vault Tool scripts to store a password in the vault *** #Step_3_Configure_the_attributes_in_your_xml_such_as_standalonexml_and_hostxml Step 3:   Configure the attributes in your xml such as standalone.xml and host.xml ** #Guidance_for_subsystems_seeking_passwords_in_AS7 Guidance for subsystems seeking passwords in AS7 ** #Frequently_Asked_Questions Frequently Asked Questions: ***** #How_secure_is_this How secure is this? ***** #Can_I_really_secure_the_keystore Can I really secure the keystore? ***** #How_do_I_get_foolproof_security_for_passwords How do I get foolproof security for passwords? ***** #I_lost_the_vault_formatted_string_for_my_attribute I lost the vault formatted string for my attribute? ***** #Can_I_do_all_this_from_the_UI Can I do all this from the UI? ***** #Show_me_how_to_do_this_on_Windows Show me how to do this on Windows. ***** #Please_give_me_an_example Please give me an example. h2. What is needed? 1. Java KeyStore. 2. Scripts provided in the bin directory of JBoss AS 7 .1 (vault.sh etc) h2. h2. Process h3. h3. Step 1:  Create a Java KeyStore $ keytool -genkey -alias vault -keyalg RSA -keysize 1024  -keystore vault.keystore Enter keystore password: vault22 Re-enter new password:vault22 What is your first and last name?   [Unknown]:  Picketbox vault What is the name of your organizational unit?   [Unknown]:  picketbox What is the name of your organization?   [Unknown]:  JBoss What is the name of your City or Locality?   [Unknown]:  chicago What is the name of your State or Province?   [Unknown]:  il What is the two-letter country code for this unit?   [Unknown]:  us Is CN=Picketbox vault, OU=picketbox, O=JBoss, L=chicago, ST=il, C=us correct?   [no]:  yes Enter key password for &lt;vault&gt;         (RETURN if same as keystore password):  It is important to keep track of the keystore password and the alias.  In this example, the keystore password is "vault22" and the alias is "vault". h3. Step 2: Use the Vault Tool scripts to store a password in the vault /bin/util$ ./vault.sh =========================================================================   JBoss Vault   JBOSS_HOME: /home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT   JAVA: /opt/java/jdk1.6.0_23/bin/java   VAULT Classpath: /home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT/modules/org/picketbox/main/*:/home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT/modules/org/jboss/logging/main/*:/home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT/modules/org/jboss/common-core/main/*:/home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT/modules/org/jboss/as/security/main/* ========================================================================= ********************************** ****  JBoss Vault ******** ********************************** Please enter a Digit::   0: Start Interactive Session  1: Remove Interactive Session  2: Exit 0 Starting an interactive session Enter directory to store encrypted files (end with either / or \ based on Unix or Windows:/home/anil/vault/ Enter Keystore URL:/home/anil/vault/vault.keystore Enter Keystore password: Enter Keystore password again: Values match Enter 8 character salt:12345678 Enter iteration count as a number (Eg: 44):50 Please make note of the following: ******************************************** Masked Password:MASK-5WNXs8oEbrs salt:12345678 Iteration Count:50 ******************************************** Enter Keystore Alias:vault Sep 28, 2011 11:48:39 AM org.jboss.security.vault.SecurityVaultFactory get INFO: Getting Security Vault with implementation of org.picketbox.plugins.vault.PicketBoxSecurityVault Obtained Vault Intializing Vault Vault is initialized and ready for use Handshake with Vault complete Please enter a Digit::   0: Store a password  1: Check whether password exists  2: Exit 0 Task:  Store a password Please enter attribute value: Please enter attribute value again: Values match Enter Vault Block:ds_ExampleDS Enter Attribute Name:password Attribute Value for (ds_ExampleDS, password) saved Please make note of the following: ******************************************** Vault Block:ds_ExampleDS Attribute Name:password Shared Key:N2NhZDYzOTMtNWE0OS00ZGQ0LWE4MmEtMWNlMDMyNDdmNmI2TElORV9CUkVBS3ZhdWx0 Configuration should be done as follows: VAULT::ds_ExampleDS::password::N2NhZDYzOTMtNWE0OS00ZGQ0LWE4MmEtMWNlMDMyNDdmNmI2TElORV9CUkVBS3ZhdWx0 ******************************************** Please enter a Digit::   0: Store a password  1: Check whether password exists  2: Exit 2 h3. Step 3:   Configure the attributes in your xml such as standalone.xml and host.xml h3. &lt;server xmlns="urn:jboss:domain:1.1"&gt;   &lt;extensions&gt;      ...   &lt;/extensions&gt;   &lt;vault&gt;       &lt;vault-option name="KEYSTORE_URL" value="/home/anil/vault/vault.keystore"/&gt;       &lt;vault-option name="KEYSTORE_PASSWORD" value="MASK-3y28rCZlcKR"/&gt;       &lt;vault-option name="KEYSTORE_ALIAS" value="vault"/&gt;       &lt;vault-option name="SALT" value="12438567"/&gt;       &lt;vault-option name="ITERATION_COUNT" value="50"/&gt;     &lt;/vault&gt;    ...   &lt;subsystem xmlns="urn:jboss:domain:datasources:1.0"&gt;             &lt;datasources&gt;                 &lt;datasource jndi-name="java:jboss/datasources/ExampleDS" enabled="true" use-java-context="true" pool-name="H2DS"&gt;                     &lt;connection-url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1&lt;/connection-url&gt;                     &lt;driver&gt;h2&lt;/driver&gt;                     &lt;pool&gt;&lt;/pool&gt;                     &lt;security&gt;                         &lt;user-name&gt;sa&lt;/user-name&gt;                     &lt;/security&gt;                 &lt;/datasource&gt;                 &lt;drivers&gt;                     &lt;driver name="h2" module="com.h2database.h2"&gt;                         &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;                     &lt;/driver&gt;                 &lt;/drivers&gt;             &lt;/datasources&gt;         &lt;/subsystem&gt; Note previously, the datasource password would have been: &lt;security&gt;      &lt;user-name&gt;sa&lt;/user-name&gt;     &lt;password&gt;sa&lt;/password&gt; &lt;/security&gt; h2. h2. Guidance for subsystems seeking passwords in AS7 The server module in JBoss AS7 workspace has a class called as VaultUtil which has methods for you to seamlessly pass the vault formatted string to get the password from the vault. I am posting the integration done in org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService Note that do not seek the password from the vault during the xml parsing phase because the vault has not been initialized and ready. It has to be done in the services phase when you actually do something with the configured elements of your subsystem. In the case of JCA datasource integration, we do it in AbstractDataSourceService                               throw new RuntimeException(e); // TODO: use bundle from IJ   We do not want to make the configuration of the vault formatted string to be very difficult. As long as the formatted string is prefixed with VAULT::,  the vault will be invoked.  Custom implementations of the vault should consider the last token for any configuration. If you are using the AttributeDefinition classes the vaulted expression will be automatically resolved when calling AttributeDefiniton.resolveModelAttribute(). If you are not using AttributeDefinition you need to call OperationContext.resolveExpression() yourself as this example from DataSourceModelNodeUtil h2. h2. Frequently Asked Questions: * h5. How secure is this? * The default implementation of the vault utlizes a Java KeyStore. Its configuration uses Password Based Encryption, which is security by obscurity.  This is not 100% security. It only gets away from the problem of clear text passwords in configuration files.  There is always a weak link. (+*As mentallurg suggests in the comments, the keystore password is the weakest link*+). * Ideally, 3rd party ISV robust implementations of Vaults should provide the necessary security. * h5. Can I really secure the keystore? * You can store the keystore on an USB or an encrypted secure usb or such. * When the server starts, insert the USB. On successful start, you can remove the USB. * Ideally, use a FIPS 140-2 certified keystore from a keystore vendor if you want foolproof security. * h5. How do I get foolproof security for passwords? * The default implementation of Vault in JBossAS7 is not 100% secure. * You can increase level of security by adopting a FIPS 140-2 certified keystore. * You can use 3rd party implementations of the Vault (this is something we are pushing for ISVs to do). * h5. I lost the vault formatted string for my attribute? * Just reinsert the attribute value in the vault to overrwrite what was previously stored. You will get a new formatted string to insert in the xml. * h5. Can I do all this from the UI? * Hopefully with time, we can get this integrated into the console. * h5. *Show me how to do this on Windows.* *  https://community.jboss.org/docs/DOC-17763 https://community.jboss.org/wiki/AS7PasswordVaultOnWindows * h5. Please give me an example. *  https://community.jboss.org/docs/DOC-17472 https://community.jboss.org/wiki/AS7UtilisingMaskedPasswordsViaTheVault *  https://community.jboss.org/docs/DOC-17503 https://community.jboss.org/docs/DOC-17503</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss Passwords - not secure, but recommended</header>
    <body>Following article describes how the passwords in JBoss can be secured: https://community.jboss.org/docs/DOC-17248 https://community.jboss.org/wiki/JBossAS7SecuringPasswords The key point is however missing there: What benefits it gives? *It is not secure! But why it is still recommended?* We should clearly understand, that the eventual level of security provided by JBoss vault is absolutely the same as in case of plain text passwords. First we will consider why (because it may be not obvious). Then we will see why in spite of this there are some benefits. * h5. What is the purpose of the JBoss vault? * The purpose is to prevent easy revealing of passwords used in JBoss configuration files. Actually not only passwords, but any sensitive data * h5. Why is it not secure? * JBoss needs to be able to restore passwords without user input. If JBoss asked user for password each time it starts, it would be secure, but not maintainable. It would be impossible to guarantie high availability of servers * It means JBoss should be able to restore passwords based only on resources available on server, i.e. vault and key store * If somebody obtains access to these files on server, he can easily restore encrypted passwords, even without knowing any secret information * Don't believe? See decryptor in the attachment. Start the application and provide the data that you used in the &lt;vault&gt; section of JBoss config * h5. But what's the reason to use it then? * h6. Without vault * Configuration of your application changes time to time. Sometimes you wish to restore the state that was "10 changes before" the current. That's why you wish to keep track of all changes. Where do you keep all previous versions? In an archive with a secret password? Or in some secret repository? Not bad * Then what you do if developers request your configs to analyze some problem? Do you thoroughly check the configs and remove all passwords before sending files to devs? Have you replaced all passwords? In all files you send? Ahh, OK, you use scripts. But are you sure you have adjusted the scripts after one more datasource was added last month? OK, you've done it * Are you sure it was on this environment, for this staging server? Not different config structure for another branch or stage? * Are you sure each time? Of course this can work. But what is the price? How much headake do you have each time? * h6. With vault * All passwords in your configs are encrypted * You replace the original passwords in configs only once and dont't care any more * You can share the configs with devs * You can keep all versions of configs in a normal non-secret repository (svn, git). Many people can access them (your devs, ops, admins, customer, your repo hoster like github or bitbucket) without compromising security * You "disclose" your configs AS IS. No need to remove passwords. No need to warry each time if you have have overlooked any sensitive info * You can automate backing up of all configs without compromising security * The only thing you should care about is the key store. You should keep it apart from your configs. But it is much easier. It is just a single file * h6. Idea * Basically we split the secret. One part is stored in config file. It is public. Another part is the key store. Keep it secretly. Of course, everyone who has access to the key store on your server can restore all the encrypted secrets. But you avoid the headake with maintenance of your configs * h5. Alternatives * If you have a non-JEE application, e.g. based on Spring, you may want to use Jasypt. But the level of security remains the same as with plain text passwords and the same as with vault. It is only kind of mirror to the vault approach:* In the vault case the password (for the key store) is public. It is masked, but actually is public. The actual secret is being kept on server (the key store) * In the case of Jasypt the public part (configs) is encrypted and cannot be restored without a password. The secret is the password used to decrypt the configs. And this secret is being kept on server (e.g. as an environment variable in a JBoss start script) * In both cases configs can be made public and maintained easily, without compromising security * In both cases if someone has access to the server, the secrets can be decrypted without much affort *Conclusion* With vault you don't get more security. There is no magic. But you get easily maintanable configs, that can be disclosed without any risks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - To view TaskList of a	particular group</header>
    <body>Hi, what will be best pratisce to see tasklist of particular group, for eg if john wants to  see the tasks assigned to group "HR". Coz there can be a case where there is another user David who is member of both HR and PM group. In order to list HR tasks, if we list user task of David and John. john will be able to see task of HR as well as task of PM which is claimed by David. So how can we handle this situation? Regards, Neeraj</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How to get content of task with Reserved and Completed state in JBPM5.4</header>
    <body>Hi, Currently I am reteriving the task content using following methods -Following method reterives content of task which are in 'Completed' status public Object getContent(long taskId)                               return taskinfo;      -Following method reterives content of task which are in 'Reserved' status Is there any single method or way to reterive the content of task for both Completed and Reserved status??</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Couldn't retrieve the node name for the process instance</header>
    <body>Hi, When i am trying  to retreive the node name for particular process instance. I am getting following Error.       at weblogic.work.ExecuteThread.run(ExecuteThread.java:173) Caused by: java.lang.NullPointerException         at org.jbpm.process.instance.impl.ProcessInstanceImpl.getProcess(ProcessInstanceImpl.java:68)         at org.jbpm.workflow.instance.impl.WorkflowProcessInstanceImpl.getWorkflowProcess(WorkflowProcessInstanceImpl.java:181)         at org.jbpm.workflow.instance.impl.WorkflowProcessInstanceImpl.getNodeContainer(WorkflowProcessInstanceImpl.java:69)         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.getNode(NodeInstanceImpl.java:103)         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.getNodeName(NodeInstanceImpl.java:79)   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   at java.lang.reflect.Method.invoke(Method.java:597)   at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:173)   at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:89)   at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:167)   at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:94)   at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)   at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)   at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)   at java.util.concurrent.FutureTask.run(FutureTask.java:139)   at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:38)   at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:106)   at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)   at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:123)   at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:207)   at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:213)   at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:154)   at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:126)   at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:186)   at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:109)   at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)   at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:164)   at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)   at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)   at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:292)   at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:176) below is the LOC, to get nodename *System.out.println(("Node name "+((org.jbpm.workflow.instance.WorkflowProcessInstance)instance).getNodeInstances().iterator().next().getNodeName()));*</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Readonly transactions	in session beans</header>
    <body>I am looking for something similar to read-only transaction in spring for JBoss 7.1.x. Does JBoss 7 and JPA2 supports something like that? Where I could find more information for it or for general performance optimalization in JBoss 7. Thanks in advance.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Readonly transactions in session beans</header>
    <body>Are you talking about something like an EJB with a NOT_SUPPORTED transaction attribute? Or a non-transactional datasource?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Readonly transactions in session beans</header>
    <body>I was thinking about transaction within only read is allowed. Then data source and DB driver could make optimalization. Then only read is allowed and no data modification.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Readonly transactions in session beans</header>
    <body>If you're concerned about performance then you're better off optimising your database queries and structure.   In addition, it's worthwhile minimising the number of transactions that are started/committed per user request/response. One is ideal, or two (for processing request, and then generating the response) although this is not always possible.  On some consulting jobs I've seen applications have mighty performance improvements simply by making use of correct Tx management. I've seen some applications create N+1 transactions per request/response and their performance was ugly.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Readonly transactions in session beans</header>
    <body>I read article about transaction pitfalls. It is very interesting. So far I know that JPA2 does not support it directly and Hibernate Session could be used directly. I have real life scenarion where it is lot of I18N messages stored in database and there is stateless session bean which is providing method: getMessage(int id). The getMessage method is annotated with TransactionAttribute(REQUIRED) so read is executed inside transaction. The messages are rarely changed so I started to look for optimalizations. Springs developers told me to use transaction - read only. However now I am little bit confused. Maybe removing transaction from getMessage method will be better solution. Thanks for valueble information.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Design of Messaging on JBoss (Messaging/JBoss)]	- Strings Experiments...</header>
    <body>| |    // Static ------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - How to open a JMX	port in AS 7?</header>
    <body>Hi, I Can’t find a way to see what is the JMX port used. Where can I find that? I thought it is not exposed, so I tried to expose it by adding the following to the startup script (like I do for the community hornetq): -Djava.rmi.server.hostname=127.0.0.1 -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=3900 -Dcom.sun.management.jmxremote.authenticate=false This fails on: WARNING: Failed to load the specified log manager class org.jboss.logmanager.LogManager Exception in thread "main" java.lang.ExceptionInInitializerError at org.jboss.as.server.Main.main(Main.java:73) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.jboss.modules.Module.run(Module.java:260) at org.jboss.modules.Main.main(Main.java:291) Caused by: java.lang.IllegalStateException: The LogManager was not properly installed (you must set the "java.util.logging.manager" system property to "org.jboss.logmanager.LogManager") at org.jboss.logmanager.Logger.getLogger(Logger.java:60) at org.jboss.logmanager.log4j.BridgeRepositorySelector.&lt;clinit&gt;(BridgeRepositorySelector.java:42) ... 7 more</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: How to open a JMX	port in AS 7?</header>
    <body>Why are you passing these properties? Why you can't just use the JMX Manager provided by AS7?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: How to open a JMX	port in AS 7?</header>
    <body>We need to add/remove topics from a remote application not using the console.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: How to open a JMX	port in AS 7?</header>
    <body>Have a look at the following article: - https://community.jboss.org/docs/DOC-17485 https://community.jboss.org/wiki/UsingJconsoleToConnectToJMXOnAS7 Enabling RMI access to JMX is not supported but we provide a library to access JMX over the existing Remoting connections.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Unable to lookup datasource in jboss-as-7.2.0.Alpha1-SNAPSHOT</header>
    <body>Appears to be a bug,  https://issues.jboss.org/browse/AS7-6062 https://issues.jboss.org/browse/AS7-6062 filed</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Configuring jboss7 ajp connector timeout</header>
    <body>I added this and one change I notice is when apache is restarted, jboss also drops all 8009 connections which was not happening earlier. However on apache, all the established connections get into closed_wait state and never released. This forces apache to be restarted often. Do we have a permanent fix for this from jboss.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Configuring jboss7 ajp connector timeout</header>
    <body>The connections on CLOSE_WAIT is a bit weird. Probably using MaxRequestsPerChild could help to prevent the need to restart htttpd. What are you using in httpd mod_cluster, mod_proxy or mod_jk?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Configuring jboss7 ajp connector timeout</header>
    <body>We are using mod_jk</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Configuring jboss7 ajp connector timeout</header>
    <body>there are several ways to prevent those: (See  http://tomcat.apache.org/connectors-doc/reference/workers.html http://tomcat.apache.org/connectors-doc/reference/workers.html). socket_keepalive (the connection won't be closed). worker.maintain should close the CLOSE_WAIT connections after it value elapes.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Configuring jboss7 ajp connector timeout</header>
    <body>Thanks a ton. This solves our issue. I think there are few other discussions in jboss forum on this issue . I think this one should get into ajp documentation. Usually Apache and jboss sits in between firewalls and the probability of hitting this issue is high. Thank you once again for your response</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Apache CXF and RESTful web services...</header>
    <body>Thanks for the hint Stuart. I'm using EAP 6 so it should work, but there is still a ClassCastException, so it seems that there are still resteasy classes on classpath.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Apache CXF and RESTful web services...</header>
    <body>Can you post the exception you are getting?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Apache CXF and RESTful web services...</header>
    <body>I already posted it  https://community.jboss.org/message/779129#779129 above, the CXF client picks up the RESTEasy ServerResponse class from classpath instead of the CXF ResponseImpl. See also   http://cxf.547215.n5.nabble.com/ClassCastException-using-CXF-2-7-0-JAX-RS-Client-in-JBoss-AS7-tt5719483.html my post in the CXF user mailinglist where the JAX-RS API is suspected to cause this conflict.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss 7.1 clustering	problem</header>
    <body>Hi, With the latest nightly build release when i try to deplopy my application in clustered mode using standalone-full -ha, I get the following exception  and my application does not get deployed: AS014775:    New missing/unsatisfied dependencies:       service jboss.deployment.subunit."XL-EAR.ear"."APP-INF/lib/asm-all-3.2.jar".STRUCTURE (missing) dependents: [service jboss.deployment.unit."XL-EAR.ear".PARSE]       service jboss.deployment.subunit."XL-EAR.ear"."APP-INF/lib/commons-codec-1.5.jar".STRUCTURE (missing) dependents: [service jboss.deployment.unit."XL-EAR.ear".PARSE]       service jboss.deployment.subunit."XL-EAR.ear"."APP-INF/lib/commons-compress-1.4.jar".STRUCTURE (missing) dependents: [service jboss.deployment.unit."XL-EAR.ear".PARSE] Thanks and Regards, Bharat Savanur</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jBPM5.3 + JBOSS 5.1.0.GA +	JBOSS esb</header>
    <body>Hi Forum, I am quite new to the jBPM development. Currently i have configured the jBPM5.3 with JBoss 5.1.0 GA. using https://community.jboss.org/docs/DOC-18580 https://community.jboss.org/wiki/InstallingJBPM53OnJBossAS51AndChangingDB i am unable to find any information on calling jBPM 5.3 process from jboss-esb. If there are any discussion on this topic please help me with the link. Please help in configuring/invoking jBPM 5.3 from jboss- esb.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - CLI	non-interactive mode</header>
    <body>Hi,  I can't find parameter *--pool-name* in command *data-source*, nor in JBoss +Brontes+ nor in +Steropes+... could this be outdated?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Loading Spring annotated beans from AbstractSpringAction in ESB ActionPipeline</header>
    <body>Hi,          I have an issue loading Spring 3 Beans annotated with Stereotypes- @Component, at Repository, at Service.         My current *applicationContext.xml* defined within the project has ComponentScanning enabled for a package using -         &lt;context:annotation-config/&gt;         &lt;context:component-scan base-package="classpath*:net.whatever.service"/&gt;         I'm using the JBoss ESB 4.11 Server. Here I have a ServicePipeline which takes in an Action with an ActionClass extending the AbstractSpringAction that loads the SpringContext. Here's how I'm doing this -          &lt;service category="category" name="servicename"&gt;          &lt;listeners&gt;          &lt;jms-listener busidref="defined" name="listenername" /&gt;          &lt;/listeners&gt;           &lt;actions mep="OneWay"&gt;           &lt;action name="actionname" class="net.whatever.custom.MySpringEnabledAction" process="processname"&gt;               &lt;property name="springContextXml" value="applicationContext.xml"/&gt;               &lt;action ... /&gt;            &lt;/actions&gt;           &lt;/service&gt;         Here's a piece of code of how I'm implementing the MySpringEnabledAction.java class -                     public processName ....                            ..... The problem I'm facing is with this now - In the package *net.whatever.service* on which Spring does the ComponentScanning there is a class called MyServiceImpl.java which looks like this -              @Service(name="myservice_name")                  ....                  .... MyService is an interface and there is no ambiguity between beans. This is the only Concrete implementation which implements this interface. This annotation is not being seen or not being detected because this Bean is not being Pre-initialized by the Spring Container.. as a result I keep getting an error of org.springframework.beans.factory.NoSuchBeanDefinitionException: No matching bean of type [net.whatever.service.MyService]... This error pops-up because there is another Bean which is trying to use @Autowired annotation and injecting the MyService Bean into its implementation. This other bean looks like this -                                   protected MyService myservice                                 @Autowired                                .....                                ..... This bean is also loaded by Spring but the difference here is its not part of the ComponentScanning that Spring will use.. it has a bean definition as XML configuration within the applicationContext.xml. All the Spring configuration worked fine when I deployed it as a WAR and used the Servlet context to load the Spring Context.. but now with this ESB Action loading the SpringContext.. all the basic annotations are falling apart. So could somebody help me figure out what the issue with the SpringContainer not pre-initializing the MyService Bean is? Thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AOP Development] - Re: Problem creating service jboss.aop:service=AspectManager</header>
    <body>Any one please help.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS 7 Internal	Architecture Overview</header>
    <body>h2. High Level Overview At a coarse level, AS 7 consists of two main elements: * A core manageable service container based on modular classloading * Extensions to that core that provide the kind of functionality most users associate with an application server, like handling HTTP requests and managing transactions The AS distribution also includes two clients for the management interfaces it exposes (a CLI tool and a web-based admin console). The AS codebase also produces implementations of the SPIs published by the Arquillian project, allowing AS7 servers to run Arquillian-based tests. h3. AS Core The core of the AS consists of the following primary elements: * A modular classloading system provided by the jboss-modules library * A fast, highly scalable service container framework provided by the jboss-msc library * An extensible management layer that is meant to mediate access to the service container by logic that wants to add, remove and modify services. The management layer also provides a consistent, persistent, configuration model for the AS. The management layer involves* core elements, via the jboss-dmr library and the AS's own controller, controller-client, deployment-repository, domain-management and network modules as well as parts of the server module * remote management capability via the protocol and domain-http modules * multi-server managed domains via the process-controller and host-controller modules * miscellaneous elements provided via the managment-client-content and platform-mbean modules * A deployment framework for coordinating installation of deployment content into the runtime. This is one of the things provided by the server module. h3. AS Extensions Most of the functionality that end users associate with an application server is provided AS extensions. Most of the modules in the AS7 codebase are extension implementations, with each extension providing a coherent set of functionality. Many extensions provide support for some aspect of the Java EE specifications. Extensions implement an interface (org.jboss.as.controller.Extension) that allows integration with the core AS management layer. Via that mechanism, extensions are able to * participate in the parsing and marshalling of the AS's configuration documents * register resources and operations to be exposed via the AS's management API * install services into the AS's service container * register deployment unit processors with the AS's deployment framework See the " https://docs.jboss.org/author/display/AS72/Extending+JBoss+AS+7 Extending JBoss AS 7" document for more on extensions. See also  https://community.jboss.org/docs/DOC-25627 https://community.jboss.org/docs/DOC-25627 for more on how extending AS 7 differs from extending previous version of JBoss AS. h2. AS7 Boot Process To better illustrate the AS 7 architecture, let's walk through the boot process for a standalone server. h3. Primordial Boot When you run bin/standalone.sh from the root of the AS 7 distribution, the final effect is to launch a JVM using the following essential command java -jar jboss-modules.jar -mp modules org.jboss.as.standalone If you start the AS and use the ps command to see the actual JVM launch command, you'll see a lot of JVM settings (-Xmx and the like) and a lot of system property settings, but the above bits are the key information. Let's break that down a bit: java -jar jboss-modules.jar We can see from this that the actual main class the VM will invoke isn't in a JBoss AS library at all; it's in jboss-modules.jar (the org.jboss.modules.Main class.) So, when you start the AS the first thing you are doing is setting up a modular classloading environment. -mp modules These are argument passed to org.jboss.modules.Main.main(). The -mp is short for "module path" and the value is a path analogous to the value of an OS $PATH environment variable. Each item in the path is a location under which jboss-modules will look for a module when needed. If there is more than one item in the path, the items are searched in order, with the search ending as soon as the module is found. In this case there is only one item in the path -- the modules/ dir under the AS distribution root. org.jboss.as.standalone This is the name of a module located on the module path. This module will be loaded by jboss-modules. If you look in the modules/org/jboss/as/standalone/module.xml file in the AS distribution, you will see it includes this element: &lt;main-class name="org.jboss.as.server.Main"/&gt; When jboss-modules sees that element in the module.xml for the module passed to its main() method, it knows to load the specified class and to pass any remaining command line arguments into +its+ main() method. So, now we have a modular classloading enviroment set up, and the org.jboss.as.server.Main.main() method (found in the AS codebase's server module) has been invoked. The org.jboss.as.server.Main.main() method does a number of things, but two are most relevant for people who wish to understand how to develop the AS: * Any remaining command line arguments are processed and an instance of the ServerEnvironment is created. This object encapsulates environmental information available via the command line or system properties; things like where the root of the AS dist is; where the root of the server instance is; where the configuration file is, etc. Later this information is made available to all services in the system via the ServerEnvironmentService. * An object implementing the Bootstrap interface (specifically, the org.jboss.as.server.BootstrapImpl class) is created  and configured and its bootstrap() method is invoked. h3. Service-based Boot The most important thing BootstrapImpl does is create an instance of the JBoss MSC library's ServiceContainer interface. A service container manages a set of running services. A service is simply a thing that can be started and stopped, with start and stop performed via methods specified in the JBoss MSC Service interface. A service also exposes a value of some type T via the Service interface's public T getValue() method. The value type T specified by the service is used by default by consumers of the service, and should represent the public interface of the service, which may or may not be the same as the implementing type of the service. The ServiceContainer provides an API for managing services -- configuring and installing them, removing them, triggering start and stop, looking up already installed services, etc. Configuring a service can involve expressing the dependencies the service has on other services and asking that the service container inject the value of depended-upon services into the service before starting it. If a service depends upon another service, that other service must be successfully started before the service container will invoke the dependent service's start method. If for some reason the depended-upon service needs to be stopped, the service container will invoke the dependent service's stop method first. The ServiceContainer maintains an internal thread pool. In order to achieve highly performant management of large numbers of inter-related services, activities related to starting and stopping services are performed as a series of concisely scoped tasks, with the threads in the thread pool used to execute those tasks. For example, executing a service's start method would be a task performed by a thread in the ServiceContainer's thread pool. Because of this fact, +it is important to recognize that any activity related to starting and stopping services will be highly multi-threaded. For example, you can never assume that the thread that asks the service container to install a service will be the thread that calls its start method.+ So, at this point in our boot, we have in place two of the four main architectural elements discussed in the "AS Core" section above: a modular classloading environment provided by the jboss-modules library, and a service container framework provided by the jboss-msc library.  + + Up to this point in theS boot, all activity has been on a single thread, the JVM's main thread. In the BootstrapImpl.bootstrap() method, things get more interesting, since much of the remaining boot work involves installing services, with the ServiceContainer's thread pool threads doing the most of that work. BootstrapImpl.bootstrap() installs two services: * ControlledProcessStateService. This service provides access to a simple enum value showing the current running state of the server (STARTING, STOPPING, RUNNING, RESTART_REQUIRED, RELOAD_REQUIRED). This is the only service that once started should not be stopped until the VM is being shut down. * ApplicationServerService. This is the root service for the application server; all other services in one way or another depend upon it. When you use the CLI to perform the :reload operation, the server handles that request by telling the service container to stop this service, which has the effect of stopping all other services that depend upon it. Then once it is stopped, the service container is told to start the service again. The A starts a number of other services in its start method. The most significant of these is the ServerService. h3. The ServerService and the Controller Boot Thread ServerService brings in the 3rd and 4th of the four primary components of the core AS listed in the "High Level Overview" above -- the extensible management layer and the deployment framework. For those of you familiar with the " https://docs.jboss.org/author/display/AS72/Extending+JBoss+AS+7 Extending JBoss AS 7" document, ServerService performs many of the same kinds of activities an Extension implementation performs in its initialize(ExtensionContext context) method, but for the core AS management model: * registers resource definitions, attributes definitions and OperationStepHandlers for the core AS managed resources * registers core DeploymentUnitProcessors ServerService implements Service&lt;ModelController&gt;. A ModelController is the central execution point for management operations in a managed AS process (i.e. a server or a HostController in a managed domain.) In its start method, ServerService spawns a separate thread, the "Controller Boot Thread", which is responsible for the coordinating the remainder of the boot. It does the following primary tasks ** Triggers the parsing of the server configuration file (e.g. standalone.xml) into a list of management operations that should be executed by the ModelController to bring the server's running configuration in line with the xml configuration ** Passes those management operations into the ModelController's execute method. The ModelController uses the Controller Boot Thread to handle execution of many of the steps involved in handling those operations. ** Blocks until all services added into the runtime as part of of handling those management ops have either started or failed to start. ** Logs the completion of boot. The tasks of the Controller Boot Thread are spelled out in some further detail below. h4. XML Parsing, Extension Loading, Extension Parsing Initialization The task of an XML parser for an AS7 configuration document (e.g. standalone.xml, domain.xml, host.xml) is to populate a list of management operations that should be executed by the ModelController to bring the server's running configuration in line with the xml. Each of those management operations has the same format as would be read off the wire if the CLI had sent an operation request to the server to invoke an equivalent operation. The parser for the core AS xml namespace has some special behavior when it comes to parsing an &lt;extension&gt; element in the xml: * The name attribute of the element is the name of a JBoss Modules module that contains an implementation of the org.jboss.as.controller.Extension interface * Once the name is parsed, the parser asks JBoss Modules to load the module * Once the module is loaded, the java.lang.ServiceLoader mechanism is used to load the module's implementation of the Extension interface. * The initializeParsers(ExtensionParsingContext context) on that Extension implementation is invoked. That allows the extension to register XML parsers for the XML namespaces supported by the subsystems the extension provides. * When the core AS xml parser subsequently encounters a &lt;subsystem&gt; element in the configuration document, the xml namespace of the element is determined, and the appropriate parser registered by some Extension is used to parse that portion of the document. h4. Execution of Boot Management Operations, Extension Initialization Once xml parsing is complete, a list of management operations is ready for execution by the ModelController. Each operation has the same format (address, operation name, parameters) as would be read off the wire if the CLI had sent an operation request to the server to invoke an equivalent operation. The Controller Boot Thread asks the ModelController to execute the operations as a unit, with each individual operation acting as a step in the overall unit of work. Execution process in 3 stages, with all steps in the overall unit completing a stage before execution on the next stage begins. (This execution pattern applies whenever any operation or atomic list of operations is invoked, not just during boot.) * Stage MODEL -- the OperationStepHandler registered for each operation makes necessary updates to the server's internal configuration model, and, if necessary, registers a handler for the same operation for Stage RUNTIME. * Stage RUNTIME -- any OperationStepHandler registered in Stage MODEL for an operation accesses the JBoss MSC ServiceContainer and installs/removes/updates any relevant services. The ServiceContainer has its own thread pool and uses it to perform the necessary tasks to start and stop services. The thread executing the OperationStepHandler does not do this directly, and the handler implementation needs to recognize that service start/stop will be asynchronous. * Stage VERIFY -- A Stage.MODEL or Stage.RUNTIME handler can register a Stage.VERIFY handler that will only run once the ServiceContainer had completed all service modifications made in stage RUNTIME. A VERIFY handler can check that the runtime services completed successfully. Before the list of boot operations is passed into the ModelController, a check for operations that add extension resources (e.g. using CLI syntax, /extension=org.foo.extension:add) is done. When one is found, the relevant Extension implementation's initialize(ExtensionContext context) method is invoked. This gives the Extension a chance to register its resource and attribute definitions and OperationStepHandlers with the core AS management layer before the boot operations are executed. h4. Wait for Service Container Stability and Boot Completion The final steps in the AS 7 boot are to wait while the JBoss MSC ServiceContainer processes the installation and start of all the services added by the handlers for the boot operations. As discussed in the introduction to the ServiceContainer above, the start of services is performed by threads in the ServiceContainer's internal thread pool. Services are not started by the Controller Boot Thread. However, the ServerService attaches a listener to the controller object for each service; using this the ServerService is able to track when all services have reached a stable state. The Controller Boot Thread uses this facility to block until the ServiceContainer has stabilized. At that point, all services are either started or failed, and boot is nearly complete. The Controller Boot Thread switches the state of the ControlledProcessState service from STARTING to RUNNING, write a log message reporting that the boot is complete, and boot is finished. h2. Deployment Processing When you trigger deployment of some content, one of the management operations supported by the core AS management layer is invoked. The logic responsible for handling that operation will extract relevant information from the operation request (e.g. the name of the deployment) and will then install services into the AS's service container: * A Service&lt;VirtualFile&gt; implementation that provides an org.jboss.vfs.VirtualFile that represents the deployment content. * A Service&lt;DeploymentUnit&gt; (in this case RootDeploymentUnitService) that provides a DeploymentUnit for the deployment. A DeploymentUnit retains data which is persistent for the life of the deployment, and is the object that will later be passed into the various DeploymentUnitProcessor implementations that perform various actions to install the runtime services needed by the deployment. The RootDeploymentUnitService has injected into it a reference to all the DeploymentUnitProcessor (DUP) implementations that were registered by the core ServerService at boot or that have been registered by subsystems. The DUP implementations are grouped by the Phase of the deployment process in which they execute, and are numerically ordered within that phase. Deployment proceeds in phases. See the  https://github.com/jbossas/jboss-as/blob/master/server/src/main/java/org/jboss/as/server/deployment/Phase.java Phase enum for a listing of the phases. For each phase, there is a DeploymentUnitPhaseService representing that phase that is installed into the service container. Each phase service (save the first) depends on the phase service for the previous phase, and each phase service (save the last) in its start method installs the phase service for the next phase. The RootDeploymentUnitService in its start method installs the first phase service, which in turn depends on it the RootDeploymentUnitService. The effect of all this is if the RootDeploymentUnitService is stopped (e.g. by the undeploy management operation), this will trigger a requirement for the service container to first stop the first phase service, which will in turn trigger a requirement to first stop the next phase service, and so on all the way to the final phase service. The effect is the phase services will be stopped in reverse order from how they were started. The primary thing the phase services do in their start and stop methods is invoke the deploy and undeploy methods of each DeploymentUnitProcessor registered for their phase. The deploy method is invoked in phase service start and the undeploy method is invoked in stop. For each deploy/undeploy call the DUP is provided with a DeploymentPhaseContext that provides context to the call and gives the DUP access to the service container, allowing it to install or remove services.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Architectural	overview of the AS?</header>
    <body>See  https://community.jboss.org/docs/DOC-47970 https://community.jboss.org/docs/DOC-47970. A bit of a data dump, but hopefully useful. I also started on  https://docs.jboss.org/author/display/AS72/Extending+JBoss+AS+7#ExtendingJBossAS7-KeyInterfacesandClassesRelevanttoExtensionDevelopers https://docs.jboss.org/author/display/AS72/Extending+JBoss+AS+7#ExtendingJBossAS7-KeyInterfacesandClassesRelevanttoExtensionDevelopers but it will probably be a while before I finish that off.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Architectural	overview of the AS?</header>
    <body>Thanks, that was just what I was looking for - I'm now confused at a higher level! ;-)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS 7 Internal	Architecture Overview</header>
    <body>h2. High Level Overview At a coarse level, AS 7 consists of two main elements: * A core manageable service container based on modular classloading * Extensions to that core that provide the kind of functionality most users associate with an application server, like handling HTTP requests and managing transactions The AS distribution also includes two clients for the management interfaces it exposes (a CLI tool and a web-based admin console). The AS codebase also produces implementations of the SPIs published by the Arquillian project, allowing AS7 servers to run Arquillian-based tests. h3. AS Core The core of the AS consists of the following primary elements: * A modular classloading system provided by the jboss-modules library * A fast, highly scalable service container framework provided by the jboss-msc library * An extensible management layer that is meant to mediate access to the service container by logic that wants to add, remove and modify services. The management layer also provides a consistent, persistent, configuration model for the AS. The management layer involves* core elements, via the jboss-dmr library and the AS's own controller, controller-client, deployment-repository, domain-management and network modules as well as parts of the server module * remote management capability via the protocol and domain-http modules * multi-server managed domains via the process-controller and host-controller modules * miscellaneous elements provided via the managment-client-content and platform-mbean modules * A deployment framework for coordinating installation of deployment content into the runtime. This is one of the things provided by the server module. h3. AS Extensions Most of the functionality that end users associate with an application server is provided AS extensions. Most of the modules in the AS7 codebase are extension implementations, with each extension providing a coherent set of functionality. Many extensions provide support for some aspect of the Java EE specifications. Extensions implement an interface (org.jboss.as.controller.Extension) that allows integration with the core AS management layer. Via that mechanism, extensions are able to * participate in the parsing and marshalling of the AS's configuration documents * register resources and operations to be exposed via the AS's management API * install services into the AS's service container * register deployment unit processors with the AS's deployment framework See the " https://docs.jboss.org/author/display/AS72/Extending+JBoss+AS+7 Extending JBoss AS 7" document for more on extensions. See also  https://community.jboss.org/docs/DOC-25627 https://community.jboss.org/docs/DOC-25627 for more on how extending AS 7 differs from extending previous versions of JBoss AS. h2. AS7 Boot Process To better illustrate the AS 7 architecture, let's walk through the boot process for a standalone server. h3. Primordial Boot When you run bin/standalone.sh from the root of the AS 7 distribution, the final effect is to launch a JVM using the following essential command java -jar jboss-modules.jar -mp modules org.jboss.as.standalone If you start the AS and use the ps command to see the actual JVM launch command, you'll see a lot of JVM settings (-Xmx and the like) and a lot of system property settings, but the above bits are the key information. Let's break that down a bit: java -jar jboss-modules.jar We can see from this that the actual main class the VM will invoke isn't in a JBoss AS library at all; it's in jboss-modules.jar (specifically, the org.jboss.modules.Main class.) So, when you start the AS the first thing you are doing is setting up a modular classloading environment. -mp modules These are arguments passed to org.jboss.modules.Main.main(). The -mp is short for "module path" and the value is a path somewhat analogous to the value of an OS $PATH environment variable. Each item in the path is a location under which jboss-modules will look for a module when needed. If there is more than one item in the path, the items are searched in order, with the search ending as soon as the module is found. In this case there is only one item in the path -- the modules/ dir under the AS distribution root. org.jboss.as.standalone This is the name of a module located on the module path. This module will be loaded by jboss-modules. If you look in the modules/org/jboss/as/standalone/module.xml file in the AS distribution, you will see it includes this element: &lt;main-class name="org.jboss.as.server.Main"/&gt; When jboss-modules sees that element in the module.xml for the module passed to its main() method, it knows to load the specified class and to pass any remaining command line arguments into +its+ main() method. So, now we have a modular classloading enviroment set up, and the org.jboss.as.server.Main.main() method (found in the AS codebase's server module) has been invoked. The org.jboss.as.server.Main.main() method does a number of things, but two are most relevant for people who wish to understand how to develop the AS: * Any remaining command line arguments are processed and an instance of the ServerEnvironment is created. This object encapsulates environmental information available via the command line or system properties; things like where the root of the AS dist is; where the root of the server instance is; where the configuration file is, etc. Later this information is made available to all services in the system via the ServerEnvironmentService. * An object implementing the Bootstrap interface (specifically, the org.jboss.as.server.BootstrapImpl class) is created  and configured and its bootstrap() method is invoked. h3. Service-based Boot The most important thing BootstrapImpl does is create an instance of the JBoss MSC library's ServiceContainer interface. A service container manages a set of running services. A service is simply a thing that can be started and stopped, with start and stop performed via methods specified in the JBoss MSC Service interface. A service also exposes a value of some type T via the Service interface's public T getValue() method. The value type T specified by the service is used by default by consumers of the service, and should represent the public interface of the service. It may or may not be the same as the implementing type of the service. The ServiceContainer provides an API for managing services -- configuring and installing them, removing them, triggering start and stop, looking up already installed services, etc. Configuring a service can involve expressing the dependencies the service has on other services and asking that the service container inject the value of depended-upon services into the service before starting it. If a service depends upon another service, that other service must be successfully started before the service container will invoke the dependent service's start method. If for some reason the depended-upon service needs to be stopped, the service container will invoke the dependent service's stop method first. The ServiceContainer maintains an internal thread pool. In order to achieve highly performant management of large numbers of inter-related services, activities related to starting and stopping services are performed as a series of concisely scoped tasks, with the threads in the thread pool used to execute those tasks. For example, executing a service's start method would be a task performed by a thread in the ServiceContainer's thread pool. Because of this fact, +it is important to recognize that any activity related to starting and stopping services will be highly multi-threaded. For example, you can never assume that the thread that asks the service container to install a service will be the thread that calls its start method.+ So, at this point in our boot, we have in place two of the four main architectural elements discussed in the "AS Core" section of the "High Level Overview" above: a modular classloading environment provided by the jboss-modules library, and a service container framework provided by the jboss-msc library. Up to this point in the AS boot, all activity has been on a single thread, the JVM's main thread. In the BootstrapImpl.bootstrap() method, things get more interesting, since much of the remaining boot work involves installing services, with the ServiceContainer's thread pool threads doing the most of that work. BootstrapImpl.bootstrap() installs two services: * ControlledProcessStateService. This service provides access to a simple enum value showing the current running state of the server (STARTING, STOPPING, RUNNING, RESTART_REQUIRED, RELOAD_REQUIRED). This is the only service that once started should not be stopped until the VM is being shut down. * ApplicationServerService. This is the root service for the application server; all other services in one way or another depend upon it. When you use the CLI to perform the :reload operation, the server handles that request by telling the service container to stop this service, which has the effect of stopping all other services that depend upon it. Then once it is stopped, the service container is told to start the service again. The ApplicationServerService starts a number of other services in its start method. The most significant of these is the ServerService. h3. The ServerService and the Controller Boot Thread ServerService brings in the 3rd and 4th of the four primary components of the core AS listed in the "High Level Overview" above -- the extensible management layer and the deployment framework. For those of you familiar with the " https://docs.jboss.org/author/display/AS72/Extending+JBoss+AS+7 Extending JBoss AS 7" document, ServerService performs many of the same kinds of activities an Extension implementation performs in its initialize(ExtensionContext context) method, but for the core AS management model: * registers resource definitions, attributes definitions and OperationStepHandlers for the core AS managed resources * registers core DeploymentUnitProcessors ServerService implements Service&lt;ModelController&gt;. A ModelController is the central execution point for management operations in a managed AS process (i.e. a server or a HostController in a managed domain.) In its start method, ServerService spawns a separate thread, the "Controller Boot Thread", which is responsible for coordinating the remainder of the boot. It does the following primary tasks * Triggers the parsing of the server configuration file (e.g. standalone.xml) into a list of management operations that should be executed by the ModelController to bring the server's running configuration in line with the xml configuration * Passes those management operations into the ModelController's execute method. The ModelController uses the Controller Boot Thread to handle execution of many of the steps involved in handling those operations. * Blocks until all services added into the runtime as part of handling those management ops have either started or failed to start. * Logs the completion of boot. The tasks of the Controller Boot Thread are spelled out in further detail below. h4. XML Parsing, Extension Loading, Extension Parsing Initialization The task of an XML parser for an AS7 configuration document (e.g. standalone.xml, domain.xml, host.xml) is to populate a list of management operations that should be executed by the ModelController to bring the process' running configuration in line with the xml. Each of those management operations has the same format as would be read off the wire if the CLI had sent an operation request to the server to invoke an equivalent operation. The parser for the core AS xml namespace has some special behavior when it comes to parsing an &lt;extension&gt; element in the xml: * The name attribute of the element is the name of a JBoss Modules module that contains an implementation of the org.jboss.as.controller.Extension interface * Once the name is parsed, the parser asks JBoss Modules to load the module * Once the module is loaded, the java.lang.ServiceLoader mechanism is used to load the module's implementation of the Extension interface. * The initializeParsers(ExtensionParsingContext context) on that Extension implementation is invoked. That allows the extension to register XML parsers for the XML namespaces supported by the subsystem(s) the extension provides. * When the core AS xml parser subsequently encounters a &lt;subsystem&gt; element in the configuration document, the xml namespace of the element is determined, and the appropriate parser registered by some Extension is used to parse that portion of the document. h4. Execution of Boot Management Operations, Extension Initialization Once xml parsing is complete, a list of management operations is ready for execution by the ModelController. Each operation has the same format (address, operation name, parameters) as would be read off the wire if the CLI had sent an operation request to the server to invoke an equivalent operation after boot. The Controller Boot Thread asks the ModelController to execute the operations as a unit, with each individual operation acting as a step in the overall unit of work. Execution process in 3 stages, with all steps in the overall unit completing a stage before execution on the next stage begins. (This execution pattern applies whenever any operation or atomic list of operations is invoked, not just during boot.) * Stage MODEL -- the OperationStepHandler registered for each operation makes necessary updates to the server's internal configuration model, and, if necessary, registers a handler for the same operation for Stage RUNTIME. * Stage RUNTIME -- any OperationStepHandler registered in Stage MODEL for an operation accesses the JBoss MSC ServiceContainer and installs/removes/updates any relevant services. The ServiceContainer has its own thread pool and uses it to perform the necessary tasks to start and stop services. The thread executing the OperationStepHandler does not do this directly, and the handler implementation needs to recognize that service start/stop will be asynchronous. * Stage VERIFY -- A Stage.MODEL or Stage.RUNTIME handler can register a Stage.VERIFY handler that will only run once the ServiceContainer had completed all service modifications made in stage RUNTIME. A VERIFY handler can check that the runtime services completed successfully. Before the list of boot operations is passed into the ModelController, a check is done for operations that add extension resources (for example, using CLI syntax, /extension=org.foo.extension:add.) When one is found, the relevant Extension implementation's initialize(ExtensionContext context) method is invoked. This gives the Extension a chance to register its resource and attribute definitions and OperationStepHandlers with the core AS management layer before the boot operations are executed. h4. Wait for Service Container Stability and Boot Completion The final steps in the AS 7 boot are to wait while the JBoss MSC ServiceContainer processes the installation and start of all the services added by the handlers for the boot operations. As discussed in the introduction to the ServiceContainer above, the start of services is performed by threads in the ServiceContainer's internal thread pool. Services are not started by the Controller Boot Thread. However, the ServerService attaches a listener to the controller object for each service; using this the ServerService is able to track when all services have reached a stable state. The Controller Boot Thread uses this facility to block until the ServiceContainer has stabilized. At that point, all services are either started or failed, and boot is nearly complete. The Controller Boot Thread switches the state of the ControlledProcessState service from STARTING to RUNNING, writes a log message reporting that the boot is complete, and boot is finished. h2. Deployment Processing When you trigger deployment of some content, one of the management operations supported by the core AS management layer is invoked. The logic responsible for handling that operation will extract relevant information from the operation request (e.g. the name of the deployment) and will then install services into the AS's service container: * A Service&lt;VirtualFile&gt; implementation that provides an org.jboss.vfs.VirtualFile that represents the deployment content. * A Service&lt;DeploymentUnit&gt; (in this case RootDeploymentUnitService) that provides a DeploymentUnit for the deployment. A DeploymentUnit retains data which is persistent for the life of the deployment, and will later be passed into the various DeploymentUnitProcessor implementations that perform various actions to install the runtime services needed by the deployment. The RootDeploymentUnitService has injected into it a reference to all the DeploymentUnitProcessor (DUP) implementations that were registered by the core ServerService at boot or that have been registered by subsystems. The DUP implementations are grouped by the Phase of the deployment process in which they execute, and are numerically ordered within that phase. Deployment proceeds in phases. See the  https://github.com/jbossas/jboss-as/blob/master/server/src/main/java/org/jboss/as/server/deployment/Phase.java Phase enum for a listing of the phases. For each phase, a DeploymentUnitPhaseService representing that phase that is installed into the service container. Each phase service (save the first) depends on the phase service for the previous phase, and each phase service (save the last) in its start method installs the phase service for the next phase. The RootDeploymentUnitService in its start method installs the first phase service, which in turn depends on it the RootDeploymentUnitService. The effect of all this is if the RootDeploymentUnitService is stopped (e.g. by the undeploy management operation), this will trigger a requirement for the service container to first stop the first phase service, which will in turn trigger a requirement to first stop the next phase service, and so on all the way to the final phase service. The effect is the phase services will be stopped in reverse order from how they were started. The primary thing the phase services do in their start and stop methods is invoke the deploy and undeploy methods of each DeploymentUnitProcessor registered for their phase. The deploy method is invoked in phase service start and the undeploy method is invoked in stop. For each deploy/undeploy call the DUP is provided with a DeploymentPhaseContext that provides context to the call and gives the DUP access to the service container, allowing it to install or remove services.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Logging Id's</header>
    <body>Logging id ranges for JBoss AS7 i18n message interfaces. ||  %1,3% *Status* || | C | = | Complete | | I | = | In Progress | | P | = | Merged, but not complete | | W | = | Waiting Merge | || *Range* || *Subsystem * || *Status * || | *10100 - 10199* | *Transaction* | C | | *10200 - 10399 * | *Clustering** * | C | | *10400 - 10499* | *Connector** * | C | | *10500 - 10599* | *CLI (not applicable) * | N/A | | *10600 - 10699* | *Controller Client* | C | | *10700 - 10799*, *18500 - 18699, 18800-18999* | *CMP* | C | | *10800 - 10899* | *Host Controller (domain packages)* | C | | *10900 - 10999, 16500 - 16599* | *Host Controller (host packages)* | C | | *11000 - 11099, 16700 - 16799* | *EE* | C | | *11100 - 11199* | *Embedded* | C | | *11200 - 11299* | *JAXRS* | C | | *11300 - 11399* | *JMX* | C | | *11400 - 11499* | *JPA* | C | | *11500 - 11599* | *Logging* | C | | *11600 - 11699* | *Messaging* | C | | *11700 - 11799* | *mod_cluster* | C | | *11800 - 11899* | *Naming* | C | | *11900 - 11999* | *OSGi* | C | | *12000 - 12099, 16600 - 16699* | *Process Controller* | C | | *12100 - 12199* | *Protocol* | C | | *12200 - 12299* | *Management Client Content* | C | | *12300 - 12399* | *Platform MBeans* | C | | *12400 - 12499* | *Threads* | C | | *12500 - 12599* | *PicketLink* | I | | *12600 - 12699* | *JSF (proposed)* | | | *12700 - 13100* | *IIOP Common (proposed)* | | |  *13100 - 13199* | *JDR* | C | | *13200 - 13299* | *AppClient* | C | | *13300 - 13399* | **Security* * | C | | *13400 - 13499, 14600 - 14899* | *Controller* | C | | available block(s) | | | | *14000 - 14099* | *JAXR* | W | | *14100 - 14599* | *Ejb3* | P | | **13400 - 13499, 14600 - 14899** | *Controller* | C | | *14900 - 14999* | *Deployment Repository* | C | | *15000 - 15099* | *Deployment Scanner* | C | | *15100 - 15199* | *Domain Management HTTP Interface* | C | | *15200 - 15299* | *Deployment Management* | C | | *15300 - 15399* | *Network* | C | | *15400 - 15499* | *Mail* | C | | *15500 - 15699* | *Web Services (AS subsystem)* | C | | *15700 - 15999*, *18700 - 18799* | *Server* | C | | *1**6000 - 16099* | *Weld* | C | | *16100 - 16199* | *EE Deployment* | C | | *16200 - 16299* | *Configadmin* | C | | *16300 - 16499* | *Jacorb* | C | | *10900 - 10999, 16500 - 16599* | *Host Controller (host packages)* | C | | *12000 - 12099, 16600 - 16699* | *Process Controller* | C | | *11000 - 11099, 16700 - 16799* | *EE* | C | | *16800 - 16899* | *Patching (Library)* | C | | *16900 - 16999* | *Patching (Server)* | | | *17000 - 17099* | *POJO* | C | | *17100 - 17199* | *Remoting* | W | | *17200 - 17299* | *SAR* | W | | *17300 - 17699* | *Web (reserved)* | I | | available block(s) | | | | *18000 - 18399* | *Web* | C | | *18400 - 18499* | *Xts* | C | | *15700 - 15999, 18700 - 18799* | *Server* | C | | available block(s) | | | | *19000-19999* | *JSR-77* | I |</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: JPAWorkingMemoryDbLogger issue on server restart</header>
    <body>Can someone please help.  My whole implementation of jbpm is stuck due to this. Any clue in the right direction will be helpful.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS Development Deployment Framework] - problem in deploying seam application on jboss 7.1</header>
    <body>18:39:53,089 INFO  [org.apache.cxf.endpoint.ServerImpl] (MSC service thread 1-3) Setting the server's publish address to be  http://localhost:8080/app/NotificationPort http://localhost:8080/app/NotificationPort 18:39:53,179 INFO  [org.jboss.wsf.stack.cxf.deployment.WSDLFilePublisher] (MSC service thread 1-3) WSDL published to: file:/D:/MM%20Venus%20Project/JBOSS/jboss-as-7.1.1.Final/standalone/data/wsdl/protectoria.ear/app.jar/CoreWsImplService.wsdl 18:39:53,200 INFO  [org.jboss.as.webservices] (MSC service thread 1-4) JBAS015539: Starting service jboss.ws.port-component-link 18:39:53,266 INFO  [org.jboss.as.webservices] (MSC service thread 1-2) JBAS015539: Starting service jboss.ws.endpoint."protectoria.ear"."app.jar".CoreWsImpl 18:39:53,268 INFO  [org.jboss.as.webservices] (MSC service thread 1-4) JBAS015539: Starting service jboss.ws.endpoint."protectoria.ear"."app.jar".ThickClientSharedSecretEncryptedWS 18:39:53,283 INFO  [org.jboss.ws.common.management.DefaultEndpointRegistry] (MSC service thread 1-2) register: jboss.ws:context=app,endpoint=CoreWsImpl 18:39:53,291 INFO  [org.jboss.ws.common.management.DefaultEndpointRegistry] (MSC service thread 1-4) register: jboss.ws:context=app,endpoint=ThickClientSharedSecretEncryptedWS 18:39:53,508 INFO  [org.jboss.as] (MSC service thread 1-4) JBAS015951: Admin console listening on  http://127.0.0.1:9990 http://127.0.0.1:9990 18:39:53,515 ERROR [org.jboss.as] (MSC service thread 1-4) JBAS015875: JBoss AS 7.1.1.Final "Brontes" started (with errors) in 57864ms - Started 1491 of 1687 services (115 services failed or *missing dependencies, 80 services are passive or on-demand)* *18:39:53,824 INFO  [org.jboss.as.webservices] (MSC service thread 1-2) JBAS015540: Stopping service jboss.ws.endpoint."protectoria.ear"."app.jar".CoreWsImpl* *18:39:53,824 INFO  [org.jboss.as.webservices] (MSC service thread 1-1) JBAS015540: Stopping service jboss.ws.endpoint."protectoria.ear"."app.jar".ThickClientSharedSecretEncryptedWS* *18:39:53,837 INFO  [org.jboss.ws.common.management.DefaultEndpointRegistry] (MSC service thread 1-2) remove: jboss.ws:context=app,endpoint=CoreWsImpl* *18:39:53,853 INFO  [org.jboss.ws.common.management.DefaultEndpointRegistry] (MSC service thread 1-1) remove: jboss.ws:context=app,endpoint=ThickClientSharedSecretEncryptedWS* *18:39:53,978 INFO  [org.jboss.as.webservices] (MSC service thread 1-2) JBAS015540: Stopping service jboss.ws.port-component-link* *18:39:54,207 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015877: Stopped deployment app.jar in 492ms* *18:39:54,260 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015877: Stopped deployment app.war in 545ms* *18:39:54,372 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015877: Stopped deployment protectoria.ear in 657ms* *18:39:54,381 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) JBAS014774: Service status report* *JBAS014775:    New missing/unsatisfied dependencies:* *      service jboss.naming.context.java.comp.protectoria."app.jar".SMTPHandler.env.protectoria.notification.mail (missing) dependents: [service jboss.naming.context.java.comp.protectoria."app.jar".SMTPHandler.env."no.messageman.protectoria.core.smtp.SMTPHandler".notificationSession]* *      service jboss.naming.context.java.comp.protectoria."app.jar".SMTPHandler.env.protectoria.outbound.mail (missing) dependents: [service jboss.naming.context.java.comp.protectoria."app.jar".SMTPHandler.env."no.messageman.protectoria.core.smtp.SMTPHandler".outboundSession]* *      service jboss.naming.context.java.jboss.datasources.MySqlDS (missing) dependents: [service jboss.persistenceunit."protectoria.ear/app.jar#protectoria"]*</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - JBoss Tools	Development Environment</header>
    <body>* #Tools_and_technologies Tools and technologies ** #Java Java ** #Eclipse_PDERCP Eclipse PDE/RCP ** #SVN SVN ** #Tips_for_productivity_and_quality Tips for productivity and quality *** #Install_Code_Recommanders Install Code Recommanders *** #Static_analysis Static analysis **** #Enable_all_JDT_warnings Enable all JDT warnings **** #Install_Findbugs_for_Eclipse Install Findbugs for Eclipse **** #Install_PMD_for_Eclipse Install PMD for Eclipse *** #Coverage Coverage * #Get_source Get source ** #To_work_on_a_specific_component To work on a specific component * #Set_up_a_target_platform Set up a target platform ** #Import_target_platforms Import target platforms ** #Choose_and_use_a_target_platform Choose and use a target platform * #Run_JBoss_Tools_and_Tests_from_your_IDE Run JBoss Tools and Tests from your IDE This article explains the different steps to set up a 1st-class environment when you want to write code for JBoss Tools h1. Tools and technologies h2. Java JBoss Tools requires Java 6. Ensure your JRE and JDK are compatible with Java 6 h2. Eclipse PDE/RCP JBoss Tools are a set of plugins for Eclipse. Then get your favourite recent version of Eclipse from here:  http://eclipse.org/downloads/ http://eclipse.org/downloads/ We recommand you using +Eclipse for RCP and RAP Developers+. But you can also install PDE in any other installation of Eclipse: https://community.jboss.org/servlet/JiveServlet/showImage/102-18124-5-18511/installPDE.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-18124-5-18511/450-477/installPDE.png h2. SVN You'll need to install a recent version of SVN (1.6 or more recent). Then you should install SVN Tools in Eclipse.  You are free to choose your favourite Eclipse plugin and SVN connector by yourself, however, curret author of this page recommands using Subversive (part of the Eclipse latest release site) with SVNKit connector. Feel free to install Subversive extensions for other projects, it's always helpful. h2. Tips for productivity and quality Here are some highly recommanded plugins that will make your more efficient when inside the IDE h3. Install Code Recommanders Provides additional snippets, templates and smart completion. Not intrusive. You can find it on the "Juno" update-site or the current Eclipse release site. h3. Static analysis Static analysis will detect bug very early and will save you minutes of debug every day. Using it will make you and your colleagues happier. It tells you while typing code that you may have a bug. No need to wait for running test or CI reports to detect this. h4. Enable all JDT warnings JDT provides very good static analysis, and can prevent you from writing bugs. You simply have to turn all "ignored" advices to "warning" in Window &gt; Preference &gt; Java &gt; Compiler &gt; Errors/Warning. https://community.jboss.org/servlet/JiveServlet/showImage/102-18124-5-18512/jdtWarnings.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-18124-5-18512/450-431/jdtWarnings.png h4. Install Findbugs for Eclipse http://marketplace.eclipse.org/content/findbugs-eclipse-plugin http://marketplace.eclipse.org/content/findbugs-eclipse-plugin h4. Install PMD for Eclipse http://marketplace.eclipse.org/content/pmd-eclipse http://marketplace.eclipse.org/content/pmd-eclipse h3. Coverage Coverage answers to the question "What is tested or net?". JBoss Tools CI builds provide Jacoco reports for coverage by unit tests (file name is jacoco.exec). This file can easily be analyzed inside Eclipse on your Java editor using EclEmma plugin:  http://marketplace.eclipse.org/content/eclemma-java-code-coverage http://marketplace.eclipse.org/content/eclemma-java-code-coverage h1. Get source Each JBoss Tools component is now its own GitHub repo:  https://github.com/jbosstools/ https://github.com/jbosstools/ h2. To work on a specific component The easiest way to get started is to check out source for only the module you wish to work on, and import Java projects from this part of the source tree. Example: * I  want to fix a bug in CDI component of JBT: git clone git://github.com/jbosstools/jbosstools-server.git and import plugins and tests projects from plugns/* and tests/* h1. Set up a target platform Target platforms (TP) are aimed at specifying what are the dependencies allowed and used to write, compile and execute code. *Target Platform=Build Path + Default Runtime Classpath.* We provide several TP that have different purpose. We do set up some default TP for development, that you should use. h2. Import target platforms Import into your Eclipse workspace JBoss Tools target platforms from GitHub: git clone git://github.com/jbosstools/jbosstools-build.git You can then build a specific target platform like this: cd jbosstools-build/target-platforms/jbosstools-JunoSR1a/; mvn clean install h2. Choose and use a target platform Then go into Window &gt; Preference &gt; Plug-in development &gt; Target Platform. We recommend you to use *multiple.target* since it will contain all deps allowed from 3rd-party (Eclipse, Google...) *AND SOURCE BUNDLES*. If you don't depend on any other JBoss Tools project, please use *unified.target*. https://community.jboss.org/servlet/JiveServlet/showImage/102-18124-5-18513/TP.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-18124-5-18513/450-333/TP.png h1. Run JBoss Tools and Tests from your IDE Once Target Platform is configured, you can easily give a try to your plugins using +Run As &gt; Java Application.+ You can also run automated tests from your IDE using +Run As... &gt; JUnit Plugin Tests+.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Single	Installation Patching</header>
    <body>My main concern was if we had to generate patches from sources instead of using a binary. As long as patches are generated from binaries, we won't have checksum issues. This could be a "nice to have" feature but I'd prefer to postpone that when we have deeper insights on how patches are generated and used instead of introducing more complexity from the start.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Single	Installation Patching</header>
    <body>Fair enough; I have no argument with that philosophy at all. I think a lot of one off patches will be generated from source though. The support people will checkout the code for the version being patched, make whatever changes, and then build. The result of that build will be the --updated-dist used by the patch-gen tool. I could be wrong though; they may build jars and then copy them into a pristine dist and use that as their --updated-dist. Or they could skip the copy, use the dist produced by the build, but use the specified-content approach in the patch-config.xml. We'll see!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - How to Build JBoss Tools 4.0 with Maven 3 - Building Documentation</header>
    <body>*Building Everything* You can now build the whole suite of docs available here [1] from the Jenkins job here [2]. [1]  http://docs.jboss.org/tools/nightly/trunk/ http://docs.jboss.org/tools/nightly/trunk/ [2]  http://hudson.jboss.org/hudson/job/jbosstools-docs-nightly/ http://hudson.jboss.org/hudson/job/jbosstools-docs-nightly/ To build locally, clone this project [3] into the same place you have all of the jbosstools-* github repos checked out. [3]  https://github.com/jbosstools/jbosstools-documentation https://github.com/jbosstools/jbosstools-documentation Then: mvn -s settings.xml -f pom.xml clean assembly:assembly *Building a single component's documentation* After cloning the above project, you can selectively build a single component's doc by commenting out the modules you don't want to build in this pom, then rerunning the step above. jbosstools-documentation/jboss-tools-docs/pom.xml In future we may find a way to run individual doc builds w/o the need for all-guides.xml and the additional Maven &lt;build&gt; plugin configuration.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: CLI deployment	archive problem</header>
    <body>Hi Soto, Great to hear that you opened an issue, but isn't  https://issues.jboss.org/browse/AS7-5616 https://issues.jboss.org/browse/AS7-5616 about that?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: CLI deployment	archive problem</header>
    <body>I didn't really mean an issue but a forum thread, sorry... Anyway, if you read through it you'll see it could be different - though related - since the datasource int the deployment archive did work for me but not the resource adapter, so I think I could be kind of the same issue lacking resoultion for RARs too greetings</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - Basic Authentication with SOAPProxy or SOAPClient or HTTPRouter</header>
    <body>Hello I am new to JBoss ESB, I've been trying to consume a web service with three Apis, first with HttpRouter, then with SoapClient and finally SOAPProxy and in all these cases the response was the same. h2. Error 401--Unauthorized |   h3. From RFC 2068 +Hypertext Transfer Protocol -- HTTP/1.1+:   h4. 10.4.2 401 Unauthorized   The request requires user authentication. The response MUST include a WWW-Authentic ate header field (section 14.46) containing a challenge applicable to the requested resource. The client MAY repeat th e request with a suitable Authorization header field (section 14.8). If the request already included Authorization cre dentials, then the 401 response indicates that authorization has been refused for those credentials. If the 401 respon se contains the same challenge as the prior response, and the user agent has already attempted authentication at least once, then the user SHOULD be presented the entity that was given in the response, since that entity MAY include rele vant diagnostic information. HTTP access authentication is explained in section 11. | I consulted on almost every forum and many solutions presented when applying but not any. This is a picture of the work environment. https://community.jboss.org/servlet/JiveServlet/downloadImage/2-779999-19963/450-193/Sin+t%C3%ADtulo.jpg  (https://community.jboss.org/servlet/JiveServlet/showImage/2-779999-19963/Sin+t%C3%ADtulo.jpg) This is my xml ** *&lt;?* *xml* version=++"1.0"++*?&gt;**&lt;* *jbossesb* *xmlns=+*+" http://anonsvn.labs.jboss.com/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.3.0.xsd http://anonsvn.labs.jboss.com/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.3.0.xsd"+* +* *xmlns:xsi=+*+" http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2001/XMLSchema-instance"+*+** xsi:schemaLocation=+*+" http://anonsvn.labs.jboss.com/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.3.0.xsd http://anonsvn.labs.jboss.com/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.3.0.xsd  http://anonsvn.jboss.org/repos/labs/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.3.0.xsd http://anonsvn.jboss.org/repos/labs/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.3.0.xsd"+*+**&gt;* *&lt;globals&gt; * *&lt;war-security domain=+*+"other"+*+** method=+*+"BASIC"+*+**/&gt;* *&lt;/globals&gt; * *&lt;providers&gt; * *&lt;fs-provider name=+*+"InputFile"+*+**&gt;* *&lt;fs-bus busid=+*+"inputFile"+*+**&gt;* *&lt;fs-message-filter directory=+*+"/tmp"+*+** input-suffix=+*+"esbfile"+*+**/&gt;* *&lt;/fs-bus&gt; * *&lt;/fs-provider&gt; * *&lt;/providers&gt; * *&lt;services&gt; * *&lt;service category=+*+"consume"+*+** description=+*+"Consume un servicio web"+* +* *invmScope=+*+"GLOBAL"+*+** name=+*+"ConsumeServicio"+*+**&gt;* *&lt;listeners&gt; * *&lt;fs-listener busidref=+*+"inputFile"+*+** is-gateway=+*+"true"+*+** name=+*+"ListennerInputFile"+*+**/&gt;* *&lt;/listeners&gt; * *&lt;actions mep=+*+"RequestResponse"+*+**&gt;* *&lt;action class=+*+"action.GetFile"+*+** name=+*+"getFile"+*+** process=+*+"process"+*+**/&gt;* *&lt;action class=+*+"org.jboss.soa.esb.actions.SystemPrintln"+*+** name=+*+"showMessageBefore"+*+**&gt;* *&lt;property name=+*+"message"+*+** value=+*+"ConsumeServicio-&gt;Actions-&gt;showMessageBefore"+*+**/&gt;* *&lt;property name=+*+"printfull"+*+** value=+*+"true"+*+**/&gt;* *&lt;/action&gt; * *&lt;action class=+*+"org.jboss.soa.esb.actions.routing.http.HttpRouter"+*+** name=+*+"consumeServicioSII"+*+**&gt;* *&lt;property name=+*+"method"+*+** value=+*+"POST"+*+**/&gt;* *&lt;property name=+*+"endpointUrl"+*+** value=+*+" https://test.pisee.cl/SIIDireccionContribuyenteProxy https://test.pisee.cl/SIIDireccionContribuyenteProxy"+*+**&gt;* *&lt;http-client-property name=+*+"username"+*+** value=+*+"HACIENDA"+*+**/&gt;* *&lt;http-client-property name=+*+"password"+*+** value=+*+"fWQ5DK8z"+*+**/&gt;* *&lt;http-client-property name=+*+"file"+*+** value=+*+"/HttpRouter-localhost-https-9433.properties"+*+**/&gt;* *&lt;/property&gt; * *&lt;/action&gt; * *&lt;action class=+*+"org.jboss.soa.esb.actions.SystemPrintln"+*+** name=+*+"showMessageAfter"+*+**&gt;* *&lt;property name=+*+"message"+*+** value=+*+"ConsumeServicio-&gt;Actions-&gt;showMessageAfter"+*+**/&gt;* *&lt;/action&gt; * *&lt;action class=+*+"org.jboss.soa.esb.actions.SyncServiceInvoker"+*+** name=+*+"enviaAConsumeWSClient"+*+**&gt;* *&lt;property name=+*+"service-category"+*+** value=+*+"consume"+*+**/&gt;* *&lt;property name=+*+"service-name"+*+** value=+*+"ConsumeSOAPProxy"+*+**/&gt;* *&lt;/action&gt; * *&lt;/actions&gt; * *&lt;/service&gt; * *&lt;!-- &lt;service category="consume" description="Utiliza SOAPClient" invmScope="GLOBAL"* *name="ConsumeWSClient"&gt; &lt;actions mep="RequestResponse"&gt; &lt;action class="action.GetFile"* *name="getFile" process="process"/&gt; &lt;action class="org.jboss.soa.esb.actions.SystemPrintln"* *name="showMessageBefore"&gt; &lt;property name="message" value="Services-&gt;Actions-&gt;ConsumeWSClient-&gt;showMessageBefore"/&gt;* *&lt;property name="printfull" value="true"/&gt; &lt;/action&gt; &lt;action class="org.jboss.soa.esb.actions.soap.SOAPClient"* *name="consumeWS"&gt; &lt;property name="wsdl" value="https://test.pisee.cl/SIIDireccionContribuyenteProxy?wsdl"/&gt;* *&lt;property name="SOAPAction" value="getDireccionesCont"/&gt; &lt;property name="endpointUrl"* *value="https://test.pisee.cl/SIIDireccionContribuyenteProxy"/&gt; &lt;property* *name="http-client-properties"&gt; &lt;http-client-property name="http.proxyHost"* *value="localhost"/&gt; &lt;http-client-property name="http.proxyPort" value="8080"/&gt;* *&lt;/property&gt; &lt;property name="password" value="fWQ5DK8z"/&gt; &lt;property name="username"* *value="HACIENDA"/&gt; &lt;/action&gt; &lt;action class="org.jboss.soa.esb.actions.SystemPrintln"* *name="showMessageAfter"&gt; &lt;property name="message" value="Services-&gt;Actions-&gt;ConsumeWSClient-&gt;showMessageAfter"/&gt;* *&lt;/action&gt; &lt;/actions&gt; &lt;/service&gt; --&gt;* *&lt;service category=+*+"consume"+* +* *description=+*+"Consume mediante la clae SOAPProxy"+*+** invmScope=+*+"GLOBAL"+*+** name=+*+"ConsumeSOAPProxy"+*+**&gt;* *&lt;security * *callbackHandler=+*+"org.jboss.soa.esb.services.security.auth.login.JBossSTSIssueCallbackHandler"+*+** moduleName=+*+""+*+**&gt;* *&lt;property name=+*+"password"+*+** value=+*+"fWQ5DK8z"+*+**/&gt;* *&lt;property name=+*+"username"+*+** value=+*+"HACIENDA"+*+**/&gt;* *&lt;/security&gt; * *&lt;property name=+*+"username"+*+** value=+*+"HACIENDA"+*+**/&gt;* *&lt;property name=+*+"password"+*+** value=+*+"fWQ5DK8z"+*+**/&gt;* *&lt;actions mep=+*+"RequestResponse"+*+**&gt;* *&lt;action class=+*+"action.GetFile"+*+** name=+*+"getFile"+*+** process=+*+"process"+*+**/&gt;* *&lt;action class=+*+"org.jboss.soa.esb.actions.SystemPrintln"+*+** name=+*+"showMessageBefore"+*+**&gt;* *&lt;property name=+*+"message"+*+** value=+*+"Services-&gt;Actions-ConsumeSOAPProxy&gt;showMessageBefore"+*+**/&gt;* *&lt;property name=+*+"printfull"+*+** value=+*+"true"+*+**/&gt;* *&lt;/action&gt; * *&lt;action class=+*+"org.jboss.soa.esb.actions.soap.proxy.SOAPProxy"+*+** name=+*+"ConsumeWSSIISOAPProxy"+*+**&gt;* *&lt;property name=+*+"wsdl"+*+** value=+*+" https://test.pisee.cl/SIIDireccionContribuyenteProxy?wsdl https://test.pisee.cl/SIIDireccionContribuyenteProxy?wsdl"+*+**/&gt;* *&lt;property name=+*+"file"+*+** value=+*+"/META-INF//httpclient-8443.properties"+*+**/&gt;* *&lt;!-- &lt;property name="clientCredentialsRequired" value="true"/&gt;--&gt;* *&lt;property name=+*+"method"+*+** value=+*+"POST"+*+**/&gt;* *&lt;property name=+*+"endpointUrl"+*+** value=+*+" https://test.pisee.cl/SIIDireccionContribuyenteProxy https://test.pisee.cl/SIIDireccionContribuyenteProxy"+*+**/&gt;* *&lt;property name=+*+"headers"+*+**&gt;* *&lt;header name=+*+"username"+*+** value=+*+"HACIENDA"+*+**/&gt;* *&lt;header name=+*+"password"+*+** value=+*+"fWQ5DK8z"+*+**/&gt;* *&lt;/property&gt; * *&lt;/action&gt; * *&lt;action class=+*+"org.jboss.soa.esb.actions.SystemPrintln"+*+** name=+*+"showMessageAfter"+*+**&gt;* *&lt;property name=+*+"message"+*+** value=+*+"Services-&gt;Actions-ConsumeSOAPProxy&gt;showMessageAfter"+*+**/&gt;* *&lt;/action&gt; * *&lt;/actions&gt; * *&lt;/service&gt; * *&lt;/services**&gt;**&lt;/* *jbossesb&gt; * ﻿ And this is my property file configurators=AuthBASIC,HttpProtocol auth-username=HACIENDA auth-password=fWQ5DK8z authscope-host=127.0.0.1 authscope-port=8080 protocol-socket-factory=org.apache.commons.httpclient.contrib.ssl.EasySSLProtocolSocketFactory keystore=/keystore.jks keystore-passw=hola1982 truststore=/truststore.jks truststore-passw=hola1982 max-connections-per-host=5 I hope you can help me thanks!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - How to Build a Generic Lookup which accepts the lookup bean dynamically in a method.</header>
    <body>Hi All, I have an issue such that in normal way we directly type cast the lookup class like this but this type cast should be of generic one like this T should be the remote class which we are looking for. I have instead saved it to an object like this but after this if i wanted to convert it to a specific remote bean class then it is giving me the javax.naming.reference cannot be casted to this particular class. So can you guys please help me regarding this. Thank you, Arjun.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - Jboss - 5.1.0.GA jax-ws client time out problem</header>
    <body>I have write jax-ws web service client. I want to set jax-ws connectiontimeout. I try to set time out there methods 1. ((BindingProvider) soap).getRequestContext().put("com.sun.xml.internal.ws.connect.timeout",  1000);    not working. alse i try there methods. ((BindingProvider) soap).getRequestContext().getRequestContext().put("org.jboss.ws.timeout", 10000);  there methods working, my timeout is 10000=10 seconds, but i get exception 30000=30 seconds. this problem i have only in jboss 5.1, other such as tomcat, standalone main client i have no problem.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - Re: jBoss WEb	Service Tutorial</header>
    <body>http://jax-ws.java.net/ http://jax-ws.java.net/ this is jax-ws web service and client tutorial.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - Re: Maven dependencies for JBoss WS-CXF project</header>
    <body>Thanks Alessio</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Developing for JBoss	Tools</header>
    <body>JBoss Tools is a large conglomerate of plugins and components from many different locations. This page will help committers and hackers navigate the process of setting up a development environment, contribute patches, and navigate any approval processes required. *Development Environment* The first thing any developers will want to know is  https://community.jboss.org/docs/DOC-18124 How to set up your development environment. This involves choosing which eclipse you'll want to install, your choices of java, subversion, eclipse target platform, which parts of the svn tree to checkout, and how to run tests from inside your IDE. *Building JBoss Tools * Not all contributors will want to go through the trouble, but, if you really want to make sure your changes work the same in PDE's runtime environment (inside eclipse) as they do from a tycho build, which is the build system we use, you'll also want to try to build your project via the command line. You'll be able to set up your first builds by reading How to build JBoss Tools with Maven 3 (https://community.jboss.org/docs/DOC-16604). All committers are expected to build their component locally and verify the tests still pass before committing any major patches. Sometimes, running your test suite in PDE vs in Tycho (command line build) have different results in the test suite. This is unfortunate, but it *does* happen. If you're getting inconsistant results, and really need to figure out what's going wrong, you'll want to read about  https://community.jboss.org/docs/DOC-15209 Using Eclipse for Remote Debugging Tycho Build. *Submitting / Committing patches* All commits should reference a jira. All committers are required to have a jira target in every svn commit message. This helps keep our history easy to trace back through when searching for regressions. This helps keep us aware of what use cases caused the regression, and what to look out for and re-test when reverting or re-fixing an issue. Without a jira reference, if "fixing" one regression might create a new one, we'll have no way to find out why the change was committed in the first place, or what the change thought it was fixing. In general, the process for submitting / committing a patch is: 1) Open a jira describing the bug 2) Attach the patch to the jira. 3) If you are a core developer,       a) simply commit the patch. Otherwise,       b) assign the issue to the component lead asking for approval and assistence in committing. 4) Resolve the issue as "done". Make sure to target the fix version accurately. Try to make sure your description, or at least a closing comment, reference exactly how to replicate the issue, so that QE can verify that the issue is fixed. This also helps maintain the integrity of our code. *What happens after a commit?* For those very curious contributors, core developers, or testers, This Image (/servlet/JiveServlet/downloadImage/102-18462-4-18759/HowWeBuild_Diagram.png) shows what happens in our infrastructure upon a commit. In short, a hudson jobs get kicked off to build the component, and rebuild any components that depend on it, and push all changes to update sites. You can get a good look at what update sites are used and where over at this (https://community.jboss.org/docs/DOC-18462) article. Knowing what update site to use is very useful for anyone using bleeding-edge nightly builds. *Documentation* Committers and component owners are expected to keep their documentation up to date.They will also need to learn how to  https://community.jboss.org/docs/DOC-13341 Build their Documentation. *Other development tasks* Working with branches is also a bit complicated, since our build system may (depending on the flags used) install items into your maven repository. The Working with Branches (https://community.jboss.org/docs/DOC-17497) article will be very helpful here. * * There are other more complicated development tasks that require much more approvals than a simple commit. Creating or removing top-level components from our svn tree have processes associated with them (or will soon  ;) ). Moving plugins, tests, or features between components also require such approvals. * * 1) Adding a new top-level component: Approval Process and Technical Process (TODO) 2) Adding a plugin, feature, or test, to a component: Approval Processt (https://community.jboss.org/docs/DOC-21382) and Technical Process (https://community.jboss.org/docs/DOC-18373) (TODO) 3) Deleting a plugin, feature, or test, from a component: Approval Process and Technical Process (TODO) 4) Deleting a top-level component: Approval Proces and Technical Process (TODO) 5) Moving a plugin, feature, or test, from one component to another: Approval Process and Technical Process (TODO) 6) Adding a different component as a dependency to your component.  Approval Process and Technical Process (TODO) 7) Addition of external dependencies requiring an adjustment to target platform: Approval Process and Technical Process (TODO) Some of these tasks may not seem complicated, but, they still require wide distribution and notification on the proper mailing lists, and in some cases, followup jiras to the build team. While adding a component as a dependency to your plugin might seem simple, it has the potential to cause circular dependencies, or simply cause  extra builds and waste resources. Often, the build team needs to be alerted to these changes to adjust their cascading builds scripts and properly position your jobs where they belong. *Maintenance and Rampdown procedures* * * Maintenance releases typically contain only bug-fixes, with no additional features. While there is no official process declared yet, in general, maintenance patches require approval from PM or at the very least another committer on the same component. During rampdown for a major release, such as during candidate releases, similar restrictions are in place. Look here for more information in the future. During maintenance releases, all forms of api breakage are forbidden. While there is often debate as to what exactly constitutes an api breakage, this  http://wiki.eclipse.org/Evolving_Java-based_APIs_2 eclipse document can help identify what constitutes api breakages and what doesn't. One thing to be aware of is that adding a public or protected method or field to any class that may subclassed DOES constitute a breakage. In theory, a subclass may have a method or field of the same name or signature. However the risk for these situations will be evaluated separately and may still be allowed into maintenance if the risk is low.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS87 configuration for centalized logging</header>
    <body>Hi I am trying to do a centralized logging in my jboss server,where in i can send the log messages from my clients to the server. In older versions of Jboss ,I have heard about the Log4jService and socketserver configuration.Can someone help me how to do this in JBoss AS7? My clients use the Log4 socket appenders. Regards Treesa</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Authentication Service</header>
    <body>h1. Authentication Service This article is do describe the new authentication service being added to AS7 to support security context proagation and connection re-authentication.  Until the component is complete this article should be considered work in progress. Due to the dependencies involved this service is developed as a stand alone project that will be subsequently integrated into the application server, most likely the security subsystem. h3. Project Structure The project (will) provide(s) the following: - h4. Authentication Service This is the core service running within the application server, this service is associated with all supported security realms and handles the authentication requests and the providing of the authenticated identities internally. h4. Server API Fer secured services looking to use the identities an API will be provided for direct access to the service.  A permissions check on the SecurityManager (if any) will be performed to verify the call should be allowed, user code must not be able to interact with the service unless that permission is granted. The server API may also provide an API that can be mapped to domain management operations to allow the state of the authentication service and the connection to be managed. h4. Internal Client API On the client side calls will be made to the remote authentication service using the defined protocol over Remoting - to simplify the use of the protocol this will be wrapped by an API - however this is most likely not the API that the clients will use to manage the associated identities. h4. Public Client API This is the API that will be used by client applications to manipulate the identities associated with the current connection, use cases are being identified and the resulting API will be to solve those use cases. h4. Versioned Remoting Protocol The protocol itself will live in it's own module, client and server side of the protocol will be written in parallel to ensure they remain in synch.  h3. Remoting Protocol The protocol is a versioned protocol, this means that the client and server will negotiate to use the most up to date protocol that both sides understand.  The only exception to this is that both sides will also allow for versions to be excluded either through configuration, their APIs or by system properties - the reason for this is that if a vulnerability or bug is found in a version of the protocol it can be excluded - this is applicable even for older versions as you may not want a client to force the use of an older version with a known issue. The versioning will also indicate if the protocol version is from a Final release or an intermediate release, backwards compatibility is only maintained within a protocol once it has reached the final state. h3. Application Server Integration h4. Configuration Items to be configured within the application server: - The service itself is a generic service, initially this is being used for EJB invocations however this can potentially be used for all services so the configuration of the service needs to be central - I would suggest within the security subsystem. The service will only be installed if the configuration is present. * Available Realms * Advertise Realms?  Should clients be able to request a list of available realms. * SASL Configuration - the capabilities of the realms guide this but additional overrides may be needed. * Caching configuration - validity periods? limit per connection? h4. EJB Container The EJB container will need to be modified so that if a request is received with a token ID then the Server API should be used to obtain that identity and run the request as that identity. Where a call is being made to a remote server there needs to be some form of switch to enable propagating the identity to the remote server, this most likely needs an API option and a configuration option to enable it. h4. EJB Clients The EJB client side in conjunction with the public client API will need to support the client side management and switching of identities and the passing of the selected token with the method invocation. h4. Security Realms The security realms now need to be updated as to support this feature a user authenticating to the server needs to be able request an alternative id for the authorization decisions.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - SOAP Addres Rewrite for Endpoint loadbalancing</header>
    <body>So I have read how to dynamically re-write the web service soap address https://docs.jboss.org/author/display/JBWS/Advanced+User+Guide https://docs.jboss.org/author/display/JBWS/Advanced+User+Guide JBoss 7.0.2 soap rewrite issue https://community.jboss.org/thread/198473 https://community.jboss.org/thread/198473 Web services configuration 7.1.x https://docs.jboss.org/author/display/AS71/Web+services+configuration https://docs.jboss.org/author/display/AS71/Web+services+configuration soap:address rewrite in 7.1.1. Final https://community.jboss.org/message/734787#734787 https://community.jboss.org/message/734787 and I can set through server properties (host and port), or &lt;wsdl-host&gt;jbossws.undefined.host&lt;/wsdl-host&gt; However my case is that I want the service to be exposed via the web server. So, one might say then IP and Port should be webserver ip:80 but my case is a little more complicated a) I have 2 web servers utilizing mod_cluster to loadbalance and failover http requests to my 2 JBoss server b) Both my servers contain the web service The aim is to have requests to the webservice exposed via the webservers (ie. URL rewrite has to cater for this)  and the web servers be able to loadbalance the requests. I am unsure how both can be achieved because a) The web server loadbalances AJP requests to 8009 b) The server rewrites the URL of my web service to 8080 and of course only one can be written there Maybe it is easy as the JBoss web will re-direct the requests from AJP 8009 to 8080 but wanted to be certain if it is just that simple</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: BMP entity from	jboss5 to jboss7.1</header>
    <body>We're looking to add support for jboss 7.1.1, and are also wondering about this. Could anyone provide an answer? Ale, were you able to solve this?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7	Securing Passwords</header>
    <body>Using 7.1.1.Final , urn:jboss:domain:1.2, standalone.  Windows7 x64, jdk 1.7. I get a *'Failed to parse configuration'* error when inserting the &lt;vault/&gt; node, as described in your example, into a valid standalone.xml.  *WstxIOException: Invalid UTF-8 start byte 0xa0* Any suggestions?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - SSL handshake method	override</header>
    <body>Is it possible to capture a failed SSL handshake and produce a log message similar to the example  http://wiki.ihe.net/index.php?title=ATNA_FAQ#How_do_I_Log_a_message_when_someone_fails_to_connect_to_Tomcat.3F here? Any hint on how to do this within a WAR project to be deployed on JBoss AS 7 would be highly appreciated. Thx &amp; Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>https://community.jboss.org/servlet/JiveServlet/showImage/105-11632-20375/addons-layers.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/105-11632-20375/310-376/addons-layers.png</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Jbpm 5.4: testing user group assignment using JbpmJunitTestCase</header>
    <body>i am trying to Unit test user group assignment by extending JbpmJunitTestCase but encountering one exception. i am setting up the test : 5591 INFO  - UserGroupCallback registered from system property: org.jbpm.task.identity.DefaultUserGroupCallbackImpl 5591 INFO  - UserGroupCallback registered: org.jbpm.task.identity.DefaultUserGroupCallbackImpl 5601 WARN  - executing transaction with 0 enlisted resource 5691 ERROR - Could not commit session org.jbpm.workflow.instance.WorkflowRuntimeException: [com.mayank.training.management:1 - EnterTraining:2] -- IOException while storing workItem 1: com.mayank.training.core.model.Training     at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:132)     at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerNodeInstance(NodeInstanceImpl.java:279)     at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerCompleted(NodeInstanceImpl.java:238)     at org.jbpm.workflow.instance.node.StartNodeInstance.triggerCompleted(StartNodeInstance.java:49)     at org.jbpm.workflow.instance.node.StartNodeInstance.internalTrigger(StartNodeInstance.java:41)     at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:126)     at org.jbpm.ruleflow.instance.RuleFlowProcessInstance.internalStart(RuleFlowProcessInstance.java:35)     at org.jbpm.process.instance.impl.ProcessInstanceImpl.start(ProcessInstanceImpl.java:194)     at org.jbpm.workflow.instance.impl.WorkflowProcessInstanceImpl.start(WorkflowProcessInstanceImpl.java:309)     at org.jbpm.process.instance.ProcessRuntimeImpl.startProcessInstance(ProcessRuntimeImpl.java:170)     at org.jbpm.process.instance.ProcessRuntimeImpl.startProcess(ProcessRuntimeImpl.java:140)     at org.drools.common.AbstractWorkingMemory.startProcess(AbstractWorkingMemory.java:1082)     at org.drools.impl.StatefulKnowledgeSessionImpl.startProcess(StatefulKnowledgeSessionImpl.java:320)     at org.drools.command.runtime.process.StartProcessCommand.execute(StartProcessCommand.java:120)     at org.drools.command.runtime.process.StartProcessCommand.execute(StartProcessCommand.java:39)     at org.drools.command.impl.DefaultCommandService.execute(DefaultCommandService.java:36)     at org.drools.persistence.SingleSessionCommandService.execute(SingleSessionCommandService.java:367)     at org.drools.command.impl.CommandBasedStatefulKnowledgeSession.startProcess(CommandBasedStatefulKnowledgeSession.java:223)     at com.mayank.training.jbpm.TrainingManagementTest.testHumanTaskAssignedToSalesGroup(TrainingManagementTest.java:93)     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)     at java.lang.reflect.Method.invoke(Method.java:597)     at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)     at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)     at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)     at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)     at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)     at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)     at org.jbpm.test.KnowledgeSessionCleanup$1.evaluate(KnowledgeSessionCleanup.java:28)     at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:48)     at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)     at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)     at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)     at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)     at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)     at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)     at org.junit.runners.ParentRunner.run(ParentRunner.java:236)     at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)     at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)     at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)     at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)     at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)     at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197) Caused by: java.lang.IllegalArgumentException: IOException while storing workItem 1: com.mayank.training.core.model.Training     at org.drools.persistence.info.WorkItemInfo.update(WorkItemInfo.java:140)     at org.drools.persistence.jpa.processinstance.JPAWorkItemManager.internalExecuteWorkItem(JPAWorkItemManager.java:46)     at org.jbpm.workflow.instance.node.WorkItemNodeInstance.internalTrigger(WorkItemNodeInstance.java:107)     at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:126)     ... 45 more 5691 INFO  - closing 7881 ERROR - Could not commit session java.lang.RuntimeException: Could not find session data for id 1     at org.drools.persistence.SingleSessionCommandService.initKsession(SingleSessionCommandService.java:226)     at org.drools.persistence.SingleSessionCommandService.execute(SingleSessionCommandService.java:350)     at org.drools.command.impl.CommandBasedStatefulKnowledgeSession.dispose(CommandBasedStatefulKnowledgeSession.java:241)     at org.jbpm.test.KnowledgeSessionCleanup$1.evaluate(KnowledgeSessionCleanup.java:38)     at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:48)     at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)     at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)     at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)     at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)     at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)     at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)     at org.junit.runners.ParentRunner.run(ParentRunner.java:236)     at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)     at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)     at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)     at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)     at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)     at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197) Caused by: bitronix.tm.resource.ResourceConfigurationException: cannot create JDBC datasource named jdbc/jbpm-ds     at bitronix.tm.resource.jdbc.PoolingDataSource.init(PoolingDataSource.java:92)     at bitronix.tm.resource.jdbc.PoolingDataSource.getConnection(PoolingDataSource.java:250)     at org.hibernate.connection.DatasourceConnectionProvider.getConnection(DatasourceConnectionProvider.java:92)     at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)     at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)     at org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:161)     at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1700)     at org.hibernate.loader.Loader.doQuery(Loader.java:801)     at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)     at org.hibernate.loader.Loader.loadEntity(Loader.java:2037)     at org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:86)     at org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:76)     at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3293)     at org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:496)     at org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:477)     at org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227)     at org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:285)     at org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:152)     at org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:1090)     at org.hibernate.impl.SessionImpl.get(SessionImpl.java:1005)     at org.hibernate.impl.SessionImpl.get(SessionImpl.java:998)     at org.hibernate.ejb.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:614)     at org.hibernate.ejb.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:589)     at org.drools.persistence.jpa.JpaPersistenceContext.findSessionInfo(JpaPersistenceContext.java:21)     at org.drools.persistence.SingleSessionCommandService.initKsession(SingleSessionCommandService.java:224)     ... 19 more Caused by: bitronix.tm.recovery.RecoveryException: cannot start recovery on a PoolingDataSource containing an XAPool of resource jdbc/jbpm-ds with 0 connection(s) (0 still available)     at bitronix.tm.resource.jdbc.PoolingDataSource.startRecovery(PoolingDataSource.java:288)     at bitronix.tm.recovery.IncrementalRecoverer.recover(IncrementalRecoverer.java:61)     at bitronix.tm.resource.ResourceRegistrar.register(ResourceRegistrar.java:87)     at bitronix.tm.resource.jdbc.PoolingDataSource.buildXAPool(PoolingDataSource.java:104)     at bitronix.tm.resource.jdbc.PoolingDataSource.init(PoolingDataSource.java:88)     ... 43 more Caused by: java.sql.SQLException: unable to connect to non-XA resource org.h2.Driver     at bitronix.tm.resource.jdbc.lrc.LrcXADataSource.getXAConnection(LrcXADataSource.java:108)     at bitronix.tm.resource.jdbc.PoolingDataSource.createPooledConnection(PoolingDataSource.java:341)     at bitronix.tm.resource.common.XAPool.createPooledObject(XAPool.java:283)     at bitronix.tm.resource.common.XAPool.grow(XAPool.java:391)     at bitronix.tm.resource.common.XAPool.getInPool(XAPool.java:371)     at bitronix.tm.resource.common.XAPool.getConnectionHandle(XAPool.java:123)     at bitronix.tm.resource.jdbc.PoolingDataSource.startRecovery(PoolingDataSource.java:284)     ... 47 more Caused by: org.h2.jdbc.JdbcSQLException: Connection is broken: "java.net.ConnectException: Connection refused: connect: localhost" [90067-161]     at org.h2.message.DbException.getJdbcSQLException(DbException.java:329)     at org.h2.message.DbException.get(DbException.java:158)     at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:377)     at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:267)     at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:110)     at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:94)     at org.h2.Driver.connect(Driver.java:72)     at bitronix.tm.resource.jdbc.lrc.LrcXADataSource.getXAConnection(LrcXADataSource.java:104)     ... 53 more Caused by: java.net.ConnectException: Connection refused: connect     at java.net.PlainSocketImpl.socketConnect(Native Method)     at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)     at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)     at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)     at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)     at java.net.Socket.connect(Socket.java:529)     at org.h2.util.NetUtils.createSocket(NetUtils.java:110)     at org.h2.util.NetUtils.createSocket(NetUtils.java:91)     at org.h2.engine.SessionRemote.initTransfer(SessionRemote.java:91)     at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:373)     ... 58 more p.f.a. persistence.xml attached, it appears to me a configuration issue but unable to find any answer on web. i am able to test process flow without using persistence.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Remote EJB distributed transactions and recovery</header>
    <body>To put it in other words, we +aren't+ coming up with a new protocol for transaction management but instead are just implementing it. I can see that there might be some mis-understanding about the "EJB client API which was introduced in AS7 uses its own protocol for remote transaction propagation between the client and the server for EJB invocations." sentence in this article. The "protocol" being referred there isn't about transactions. What it really means is a "wire format" of the binary stream of data that gets passed between the servers during EJB invocations.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - SSL handshake</header>
    <body>Is it possible to capture a failed SSL handshake and produce a log message similar to the example  http://wiki.ihe.net/index.php?title=ATNA_FAQ#How_do_I_Log_a_message_when_someone_fails_to_connect_to_Tomcat.3F here? Any hint on how to do this within a WAR project to be deployed on JBoss AS 7 would be highly appreciated. Thx &amp; Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Remote EJB distributed transactions and recovery</header>
    <body>You mean something like container for TXT Information, something like Transaction Context, passed in binary stream between Servers?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - bpmn process 1 interaction with bpmn process 2</header>
    <body>Newly started working on jbpm tool. Need to know how can a process say "proc1" interacts with another process say "proc2" in jbpm, is this possible in jbpm. Here iam not talking about process communicating with subprocesses. Please direct me towards any guide or any manual to realize the desired, if it is possible.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Hacking on AS8</header>
    <body>h4. h4. 1. Create a github account http://github.com http://github.com h4. 2. Fork jboss-as into your account http://github.com/jbossas/jboss-as http://github.com/jbossas/jboss-as h4. 3. Clone your newly forked copy onto your local workspace $ git clone git at github.com:[your user]/jboss-as.git Initialized empty Git repository in /devel/jboss-as/.git/ remote: Counting objects: 2444, done. remote: Compressing objects: 100% (705/705), done. remote: Total 2444 (delta 938), reused 2444 (delta 938) Receiving objects: 100% (2444/2444), 1.71 MiB | 205 KiB/s, done. Resolving deltas: 100% (938/938), done. $ cd jboss-as h4. 4. Add a remote ref to upstream, for pulling future updates git remote add upstream git://github.com/jbossas/jboss-as.git h4. 5. As a precaution, disable merge commits to your master git config branch.master.mergeoptions --ff-only h4. 6. Use maven (via build.sh) (make sure you use maven 3) *Building AS8 requires Java 7, make sure you have JAVA_HOME set to point to the JDK7 installation* $ ./build.sh install ..... [INFO] ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jbpm 5.4.0 - NullPointerException completing workItem. is this bug not resolved yet ?</header>
    <body>i think that i have the same issue then in  https://community.jboss.org/message/790056#790056 here which seems to be a bug in jbpm 5.4. i had the same exception when trying to complete a workitem after a session reload, By the way, i coudn't get a processInstance using  :processInstance = ksession.getProcessInstance(processInstance.getId()); from the reloaded Session, i also wish to know why. even the ksession.getProcessInstances() is empty !) i have to mention that the task status is "completed" in the database even when this exception happens but the process do not continue to the next task. this is the log for it the exception: (SingleSessionCommandService.java:400) ERROR org.drools.persistence.SingleSessionCommandService - Could not commit session java.lang.NullPointerException           at org.jbpm.process.instance.impl.ProcessInstanceImpl.setProcess(ProcessInstanceImpl.java:62)           at org.jbpm.marshalling.impl.AbstractProtobufProcessInstanceMarshaller.readProcessInstance(AbstractProtobufProcessInstanceMarshaller.java:375)           at org.jbpm.persistence.processinstance.ProcessInstanceInfo.getProcessInstance(ProcessInstanceInfo.java:142)           at org.jbpm.persistence.processinstance.JPAProcessInstanceManager.getProcessInstance(JPAProcessInstanceManager.java:91)           at org.jbpm.process.instance.ProcessRuntimeImpl.getProcessInstance(ProcessRuntimeImpl.java:206)           at org.drools.common.AbstractWorkingMemory.getProcessInstance(AbstractWorkingMemory.java:1116)           at org.drools.impl.StatefulKnowledgeSessionImpl.getProcessInstance(StatefulKnowledgeSessionImpl.java:297)           at org.drools.persistence.jpa.processinstance.JPAWorkItemManager.completeWorkItem(JPAWorkItemManager.java:117)           at org.drools.command.runtime.process.CompleteWorkItemCommand.execute(CompleteWorkItemCommand.java:69)           at org.drools.command.runtime.process.CompleteWorkItemCommand.execute(CompleteWorkItemCommand.java:32)           at org.drools.command.impl.DefaultCommandService.execute(DefaultCommandService.java:36)           at org.drools.persistence.SingleSessionCommandService.execute(SingleSessionCommandService.java:373)           at org.drools.command.impl.CommandBasedStatefulKnowledgeSession$1.completeWorkItem(CommandBasedStatefulKnowledgeSession.java:150)           at ManagedBeans.JbpmAPIUtil.StartAndCompleteTask(JbpmAPIUtil.java:372)           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)           at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)           at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)           at java.lang.reflect.Method.invoke(Unknown Source)           at org.apache.el.parser.AstValue.invoke(AstValue.java:264)           at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:278)           at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)           at com.sun.faces.facelets.tag.jsf.core.AjaxBehaviorListenerImpl.processAjaxBehavior(AjaxHandler.java:450)           at javax.faces.event.AjaxBehaviorEvent.processListener(AjaxBehaviorEvent.java:113)           at javax.faces.component.behavior.BehaviorBase.broadcast(BehaviorBase.java:106)           at javax.faces.component.UIComponentBase.broadcast(UIComponentBase.java:760)           at javax.faces.component.UICommand.broadcast(UICommand.java:300)           at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)           at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)           at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)           at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)           at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)           at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)           at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)           at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)           at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)           at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)           at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)           at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)           at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)           at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)           at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)           at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)           at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1001)           at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)           at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1770)           at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)           at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)           at java.lang.Thread.run(Unknown Source) Thanks for help !!!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ManagementLayer	RBAC</header>
    <body>I think access control should move beyond RBAC and be based on a combination of the following: a) User/Subject b) User Attributes c) Roles d) Action e) Environment (Including IP Address, Subnet, DateTime) Ideally, it should be a Rules based framework.  The policies/rules should not be embedded within code but should externalize.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Deploying an application from an external deployment location</header>
    <body>For complete reference on what the deployment-scanner element configuration allows, take a look at the jboss-deployment-scanner.xsd here https://github.com/jbossas/jboss-as/blob/master/deployment-scanner/src/main/resources/org/jboss/as/server/deployment/scanner/LocalDescriptions.properties https://github.com/jbossas/jboss-as/blob/master/deployment-scanner/src/main/resources/org/jboss/as/server/deployment/scanner/LocalDescriptions.properties</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Deploying an application from an external deployment location</header>
    <body>You could the same thing from the web interface. Simply go to Runtime &gt; Deployments &gt; Add &gt; Unmanaged https://community.jboss.org/servlet/JiveServlet/showImage/105-11657-20389/unmanaged+deployment.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/105-11657-20389/310-304/unmanaged+deployment.png It doesn't require you to reconfigure the deployment scanner</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How to read a process	definition in jbpm 5.4?</header>
    <body>Hi, In the documentation there is a paragraph about how to create a process programmatically using the Fluent Process API and then pass it into the KnowledgeBuilder as parameter in order to the session to start a process instance for it... What i want is the opposite operation : reading a process definition programmatically node by node, whether to read it directly from the ".bpmn" file by indicating it s path or to get it from the jbpm/droos object that contains its instance (i dont know neither which is that object (the ksession ? the processInstance ?)  nor what should i exactly get from that object :is it a RuleFlowProcess ? a WorkflowProcess ? i was about to read a process definition .bpmn file using xml parsing  and extract all informations i want which is not the appropriate way to do that. Please , i need any example or even some advices for this issue. Thanks. h2. h2. . h2.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: How to read a process definition in jbpm 5.4?</header>
    <body>not sure what you try to do. Do you want to get get process definition represented with objects? If you you can get it from KnowledgeBase once it's built. from kbase you can get all available processes and by iterating over it you can find one that interests you. Once you have it you can get Node objects out of Process and thus gathering all required information. HTH P.S. better is to place user questions on user forum (parent to this one) and this was used mainly by development team but it is not any more so no too much attention here.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Re: Startup JBoss AS 7.1.1 from Eclipse</header>
    <body>It feels like you have problems in server launch configuration and it takes path to server home as main class. Open server editor by double click on server in Servers View, then click "Open Launch Configuration" link in in "General Information" section. What do you have in opened dialog?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: getHandle() equivalant	in EJB3</header>
    <body>Isn't there anybody on the forum who can help me with this problem, has somebody else come across this issue before and managed to work around it?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jBPM 5.4 with MSSQL</header>
    <body>Hi, i exactly followed the steps in changing the database from H2 to MS SQL. from  https://community.jboss.org/docs/DOC-47975 https://community.jboss.org/wiki/SetUpJBPM54FinalInstallerToUseMSSQLServer2008UsingJTDS I created two database jbpm and jbpm_task onfollowing the steps, jbpm_task contains the database while jbpm database is empty. Note i couldnt find process_instance_info etc is it normal.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>Lisa, Once you have run install.demo. You need to run start.demo. Which will deploy the human task war file and hence fire up the task service. Then access the jbpm console. If your installation was fine then you would see the tables in your db. If not then you would need to do a clean install. The steps are to be followed exactly as mentioned in the user guide. Regards.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>Hi, Actually there are two databases, one for task and one for jbpm. I went along the procedure, and only *jbpm* database contains table and the *task* database is still empty.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>Siva, Are you able to run processes and complete tasks etc in jbpm-console? If yes then everything is fine. Just change your task persistence +hibernate.hbm2ddl.auto+ property to update. Regards. ﻿</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>ok things seem to be going better now with installating, but while installing ht i get:      [copy] Warning: Could not find file ...\jbpm-installer\db\task-persistence.xml to copy.      [copy] Warning: Could not find file ...\jbpm-installer\db\Taskorm.xml to copy. in build.xml is it meant to be: since task-persistence-JPA2.xml &amp; Taskorm-JPA2.xml exist??</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - jms-provider in jboss 5.1.0 for jbossmq topic on jboss 4.2.3</header>
    <body>Hi, I'm trying to setup a jms-provider in my JBoss ESB 4.9 running under JBoss 5.1.0.  I am trying to retrieve messages on a jms topic from a jboss 4.2.3 jbossmq broker.  I have setup my jms-provider like so: &lt;jms-provider name="JBossMQ-DMS" connection-factory="ConnectionFactory"&gt;    &lt;property name="jndi-context-factory" value="org.jnp.interfaces.NamingContextFactory" /&gt;    &lt;property name="jndi-URL" value="jnp://192.168.2.5:1099" /&gt;    &lt;jms-bus busid="incomingOverlays"&gt;     &lt;jms-message-filter dest-type="TOPIC"      dest-name="topic/IncomingTdam" /&gt;    &lt;/jms-bus&gt;   &lt;/jms-provider&gt; I have copied the jbossmq-client.jar from the JBoss 4.2.3 in which I am receiving the jms message into my JBoss 5.1.0 common/lib directory.  I am getting a SpyMapMessage is not a supported data type exception.  Any help would be much appreciated. Thanks, Steve</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] -	AS7ManagementVersionsKnownIssues</header>
    <body>See  https://community.jboss.org/docs/DOC-19172 AS7ManagementVersions for the list of management model versions per AS 7 version. This document lists known issues/false positives in the output of CompareModelVersionsUtil for different AS 7 versions, mainly things which don't need to be (or cannot?) be transformed *7.1.x versions* *Known issues from CompareModelVersionsUtil between 7.1.3 and 7.1.2.Final:* ====== Resource root address: ["subsystem" =&gt; "security"] - Current version: 1.1.0; legacy version: 1.1.0 ======= --- Problems for relative address to root ["security-domain" =&gt; "*"]: Missing parameters for operation 'flush-cache' in current: []; missing in legacy [principal]    "description" =&gt; "list-cached-principals.return",    "type" =&gt; LIST,    "value-type" =&gt; STRING The code for the operation handlers is identical. The difference is improvement of the DescriptionProviders, so no transformation is needed.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] -	AS7ManagementVersionsKnownIssues</header>
    <body>I attached a spreadsheet detailing expression support in the 7.1.3.Final management API. The same data holds true for EAP 6.0.1.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] -	AS7ManagementVersionsKnownIssues</header>
    <body>See  https://community.jboss.org/docs/DOC-19172 AS7ManagementVersions for the list of management model versions per AS 7 version. This document lists known issues/false positives in the output of CompareModelVersionsUtil for different AS 7 versions, mainly things which don't need to be (or cannot?) be transformed *7.1.x versions* *Known issues from CompareModelVersionsUtil between 7.1.3 and 7.1.2.Final:* ====== Resource root address: ["subsystem" =&gt; "security"] - Current version: 1.1.0; legacy version: 1.1.0 ======= --- Problems for relative address to root ["security-domain" =&gt; "*"]: Missing parameters for operation 'flush-cache' in current: []; missing in legacy [principal]    "description" =&gt; "list-cached-principals.return",    "type" =&gt; LIST,    "value-type" =&gt; STRING The code for the operation handlers is identical. The difference is improvement of the DescriptionProviders, so no transformation is needed.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>Lisa, Yes tha jpa version should also be there. You can just change the name of the files as per your build.xml.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>you're saying I should change the file names? and not make any changes in the file mapping in build.xml as my comment above? Because currently I've changed in build.xml and it's not working...</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Integration of JBPM into a web application</header>
    <body>Cyrine , Not sure if I understood your question exactly. But you can add jbpm project in your target project class path and hence the class and methods of your jbpm 5 project will become visible to the other project. I dont really see this as a jbpm related question or may be I misunderstood.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Bridging	WS-BA to JTA</header>
    <body>This is a design descusion for how to implement  https://issues.jboss.org/browse/JBTM-1099 [JBTM-1099] Consider the following, common, use case for WS-BA: A WS-BA enabled service offers an operation for doing some work. For example, making a booking or purchasing an item. When this operation is invoked a new order is committed to the database. If the business activity is later canceled, the compensate operation is invoked on the service. This compensation action will take the necessary steps to undo the work and will likely make changes to the database content. For example by deleting the order or marking it as canceled. Alternatively, if the activity is successful the 'close' operation will be invoked on the service as a confirmation. It's also possible that the service may make an update to the database here, to mark the order as confirmed. Two of the key benefits of using WS-BA in this scenario are that; i) no locks are held between the doWork and close/compensate phases, and ii) the service is guaranteed to receive the outcome of the activity even in the presence of failures. If the service wants to update the database within a transaction, they have these options (that I can currently come up with, there may be others): h4. Manage a single subordinate JTA transaction (Poor choice) Here the service would begin a subordinate JTA transaction in the 'doWork' method, prepare it during 'confirmCompleted', and then commit it during the 'close' or rollback during the 'compensate'. Essentially the application is mapping the WS-BA lifecycle onto a 2PC ACID lifecycle. The main problems with this approach are that: 1. Locks are held between the two phases of the protocol. Violates i) from above. 2. It's tricky/error-prone for the developer as they need to manage a subordinate transaction. 3. There are failure windows which violate ii) from above. h4. Use multiple JTA transactions  (Better choice, but not perfect) Here the application begins a transaction at the start of the doWork method and commits it just before the method returns. A separate JTA transaction is begun at the start of the close/compensate method and committed just before it returns. This approach is more likely to be used than the previous as it can be achieved with just JPA and transactional annotations. On the surface it looks like it should just work. However I think it is susceptible to a failure window: h6. Failure window in first phase Consider the following scenario: 1. Client begins a BA 2. Client invokes service 3. Service begins a JTA transaction 4. Service updates the DB 5. Service commits the JTA 6. Service crashes 7. Service resumes and does nothing as the BA did not progress far enough to produce a log 8. Client receives a failure from the service invocation and either cancels the BA or attempts to close it; which the coordinator will fail as the participant did not complete. Here the BA was unsuccessful, but the JTA transaction committed. We have an inconsistent state. h6. No failure window in the second phase I don't think failure windows exists for the close or compensate methods. This is because these methods are invoked after a log has been written and so survive failure. They are also invoked periodically until the coordinator receives an acknowledgement. For this to work, the application logic needs to tolerate retries; which is the case for plain WS-BA anyway. Consider this example: 1. Coordinator sends 1st compensate message 2. Compensate invoked for 1st time (C1) 3. C1 begins JTA1 4. C1 reads from the DB to check not compensated (Obtains a read lock) 5. C1 discovers that not yet compensated so writes the change to the DB to do the compensate (Obtains write lock) 6. Coordinator sends 2nd compensate message as it has not recived the ack to the firs tin a timely manor 7. Compensate is invoked for the 2nd time (C2) 8. C2 begins JTA2 9. C2 reads form DB to check not compensated (Waits to obtain the read lock) 10. C1 commits JTA1 11. First compensate message is acked 12. C2 now obtains the read lock on the data and discovers that already compensated 13. C2 commits JTA2 14. Second compensate message is acked. Providing the same transaction is used to do both; i) detect compensation, and ii) compensate; I believe we are safe. h5. Potential Solution In this solution we configure an interceptor on the service request that automatically enlists a participant in the incoming WS-BA activity and maps the events onto calls to a subordinate JTA transaction. This is a similar approach to that used for WS-AT to JTA mapping. This is the mapping that I propose: || *WS-BA * || *JTA * || | Application request arrives | Begin subordinate JTA1 | | completed | Prepare  JTA1 (ensures that we can later complete. Notify 'cannotComplete' if JTA1 fails to prepare) | | confirmCompleted | Commit  JTA1 | | close  arrives | begin  JTA2 and asociate with thread that calls 'close' on the WS-BA participant | | closed leaves | commit JTA2. Failure here will cause the 'close'to be retried. | | compensate arrives | begin  JTA2 and asociate with thread that calls 'compensate' on the WS-BA participant | | compensated leaves | commit JTA2. Failure here will cause the compensate to retry. | The crux of the solution is: 1. Don't commit JTA1 until the transaction log has been written. Do this by delaying the commit until the confirmCompleted event is raised. 2. 'Surround' the calls to the close and compensate invocations on the WS-BA participant with JTA2. I don't think this can be done through the XTS API, so would require some internal changes. h4. Feedback Please! Feedback on this issue would be much appreciated.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: Bridging	WS-BA to JTA</header>
    <body>Whilst this issue does exist, do you have an idea of whether or not it is a real problem? Compared to other priorities, it may be that the current situation along with requiring manual resolution (cf heuristics) is sufficient at this time.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: Bridging	WS-BA to JTA</header>
    <body>Mark, Agreed, we should wait to be guided by community feedback before scheduling a resolution to this issue. Paul.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How to: LocalHTWorkItemHandler Spring Integration?</header>
    <body>I am trying to register LocalHTWorkItemHandler for "Human Task" using spring integration (in jBPM5.4). My spring configuration looks like this: &lt;jbpm:ksession id="ksession" type="stateful" kbase="kbase" &gt;&lt;jbpm:configuration&gt;&lt;jbpm:work-item-handlers&gt;&lt;jbpm:work-item-handler name="Human Task" ref="humanTaskWorkItemHandler"/&gt;&lt;/jbpm:work-item-handlers&gt;&lt;/jbpm:configuration&gt;&lt;/jbpm:ksession&gt; &lt;bean id="humanTaskWorkItemHandler" class="org.jbpm.process.workitem.wsht.LocalHTWorkItemHandler"&gt;&lt;constructor-arg ref="ksession"&gt;&lt;/constructor-arg&gt;&lt;/bean&gt; Obviously, this won't work due to the circular dependency of ksession and humanTaskWorkItemHandler. How to register such WorkItem handler's (using Spring Integration) that need ksession as consturction arg? Thanks, Vijay</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - EJB Concurrency Management</header>
    <body>Hi All, I am practising the EJB3.x tec, I found some issues, 1. I used @PostActivateand @PrePassivate, but I didn't found these methods are called even though I set the session timeout value to 2 seconds 2. could any one give me some advice to practise the ejb concurrent manangement, specially how to simulate triiger the problem situation? Thanks</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS 7 Management	versions</header>
    <body>This shows the management versions of the various subsystems for released AS 7 versions. The tables are generated by starting the target AS 7 version using standalone.sh --server-config=standalone-full-ha.xml and running org.jboss.as.controller.util.GrabModelVersionsUtil (in controller/src/test) Known issues between management versions are documented in  https://community.jboss.org/docs/DOC-19586 AS7ManagementVersionsKnownIssues. h2. 7.1.2.Final || Subsystem || Management Version || Schemas (http://www.jboss.org/schema/jbossas/) || | *Standalone core* | 1.2.0 | | | *cmp* | 1.0.0 | urn:jboss:domain:cmp:1.0 | | *configadmin* | 1.0.0 | urn:jboss:domain:configadmin:1.0 | | *datasources* | 1.1.0 | urn:jboss:domain:datasources:1.0 urn:jboss:domain:datasources:1.1 | | *deployment-scanner* | 1.0.0 | urn:jboss:domain:deployment-scanner:1.0 urn:jboss:domain:deployment-scanner:1.1 | | *ee* | 1.0.0 | urn:jboss:domain:ee:1.0 urn:jboss:domain:ee:1.1 | | *ejb3* | 1.1.0 | urn:jboss:domain:ejb3:1.0 urn:jboss:domain:ejb3:1.1 urn:jboss:domain:ejb3:1.2 urn:jboss:domain:ejb3:1.3 | | *infinispan* | 1.3.0 | urn:jboss:domain:infinispan:1.0 urn:jboss:domain:infinispan:1.1 urn:jboss:domain:infinispan:1.2 urn:jboss:domain:infinispan:1.3 | | *jacorb* | 1.1.0 | urn:jboss:domain:jacorb:1.0 urn:jboss:domain:jacorb:1.1 urn:jboss:domain:jacorb:1.2 | | *jaxr* | 1.1.0 | urn:jboss:domain:jaxr:1.1 urn:jboss:domain:jaxr:1.0 | | *jaxrs* | 1.0.0 | urn:jboss:domain:jaxrs:1.0 | | *jca* | 1.1.0 | urn:jboss:domain:jca:1.0 urn:jboss:domain:jca:1.1 | | *jdr* | 1.0.0 | urn:jboss:domain:jdr:1.0 | | *jgroups* | 1.1.0 | urn:jboss:domain:jgroups:1.0 urn:jboss:domain:jgroups:1.1 | | *jmx* | 1.0.0 | urn:jboss:domain:jmx:1.0 urn:jboss:domain:jmx:1.1 | | *jpa* | 1.1.0 | urn:jboss:domain:jpa:1.0 | | *jsr77* | 1.0.0 | urn:jboss:domain:jsr77:1.0 | | *logging* | 1.1.0 | urn:jboss:domain:logging:1.0 urn:jboss:domain:logging:1.1 | | *mail* | 1.1.0 | urn:jboss:domain:mail:1.0 | | *messaging* | 1.1.0 | urn:jboss:domain:messaging:1.0 urn:jboss:domain:messaging:1.1 urn:jboss:domain:messaging:1.2 | | *modcluster* | 1.2.0 | urn:jboss:domain:modcluster:1.0 urn:jboss:domain:modcluster:1.1 | | *naming* | 1.1.0 | urn:jboss:domain:naming:1.0 urn:jboss:domain:naming:1.1 urn:jboss:domain:naming:1.2 | | *osgi* | 1.0.0 | urn:jboss:domain:osgi:1.0 urn:jboss:domain:osgi:1.1 urn:jboss:domain:osgi:1.2 | | *pojo* | 1.0.0 | urn:jboss:domain:pojo:1.0 | | *remoting* | 1.1.0 | urn:jboss:domain:remoting:1.0 urn:jboss:domain:remoting:1.1 | | *resource-adapters* | 1.1.0 | urn:jboss:domain:resource-adapters:1.0 | | *sar* | 1.0.0 | urn:jboss:domain:sar:1.0 | | *security* | 1.1.0 | urn:jboss:domain:security:1.0 urn:jboss:domain:security:1.1 urn:jboss:domain:security:1.2 | | *threads* | 1.0.0 | urn:jboss:domain:threads:1.1 urn:jboss:domain:threads:1.0 | | *transactions* | 1.1.0 | urn:jboss:domain:transactions:1.0 urn:jboss:domain:transactions:1.1 urn:jboss:domain:transactions:1.2 | | *web* | 1.1.0 | urn:jboss:domain:web:1.1 urn:jboss:domain:web:1.0 | | *webservices* | 1.1.0 | urn:jboss:domain:webservices:1.0 urn:jboss:domain:webservices:1.1 | | *weld* | 1.0.0 | urn:jboss:domain:weld:1.0 |</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - EnityManager.close() before or after JTA afterCompletion()?</header>
    <body>Hi, See as a reference the https://community.jboss.org/message/794633#794633 thread. In an application server, that is JavaEE 6 compliant, which of EntityManager.close() and JTA Synchronization.afterCompletion() should be closed first? Based on the persistence specification: 7.9.1 Container Responsibilities: After the JTA transaction has completed (either by transaction commit or rollback), The container closes the entity manager by calling EntityManager.close. I am using DataNucleus (DN) 3.2 as a Persistence provider, and DN expects the Transaction afterCompletion() to be triggered BEFORE the EntityManager.close().  It seems that the opposite is triggered by JBoss.  So I wonder if both are correct or if one should be called before another based on either JTA or Persistence JSRs? Based on the thread dump, arjuna calls first: at org.datanucleus.api.jpa.JPAEntityManager.close(JPAEntityManager.java:194) at org.jboss.as.jpa.transaction.TransactionUtil$SessionSynchronization.afterCompletion(TransactionUtil.java:193) (EntityManager.close() is called first) Then JTA after completion: at org.datanucleus.TransactionImpl.internalPostCommit(TransactionImpl.java:563)             at org.datanucleus.JTATransactionImpl.afterCompletion(JTATransactionImpl.java:429)             at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.afterCompletion(SynchronizationImple.java:96) Thanks</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jBPM5.4 + tomcat7 + oracle</header>
    <body>Hi,   Iam new to jBPM and iam trying to setup an environment for doing a prototype, but unfortunately Iam not able to find an official documentation for doing this. I found a blog which talks about this here ﻿﻿﻿ https://community.jboss.org/people/bpmn2user/blog/2011/02/26/orcale-integration-with-jbpm5 https://community.jboss.org/people/bpmn2user/blog/2011/02/26/orcale-integration-with-jbpm5 . But I dont want to do this in bits and peices, do we have any script from jBPM which takes care of copying all the necessary jars(with proper versions) and make necessary configuration changes either in tomcat or jBPM ? Or atleast all the required steps documented any where in user/developer guide ? regards, Arif.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - MarshalledContentWrapper	error</header>
    <body>Hi even i am facing this issue...... i don't know about marshaller or any thing so can u plz help me now when it is calling the ftl file on reaCHING HUMAN TASK      it is showing this on jsp page and then textboxes and submit button. when i submit it. i am getting this output on my console. Human Task Started.... Exception in thread "Thread-2" java.lang.ClassCastException: java.lang.String cannot be cast to org.jbpm.task.utils.MarshalledContentWrapper           at org.jbpm.task.utils.ContentMarshallerHelper.unmarshall(ContentMarshallerHelper.java:157)           at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler$TaskCompletedHandler.handleCompletedTask(GenericHTWorkItemHandler.java:208)           at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler$TaskCompletedHandler$1.run(GenericHTWorkItemHandler.java:187)           at java.lang.Thread.run(Thread.java:679) how to resolve this issue can u plz help me on this Actually i am trying example on this link https://community.jboss.org/people/bpmn2user/blog/2011/02/21/jbpm5-example-for-forms-with-variables https://community.jboss.org/people/bpmn2user/blog/2011/02/21/jbpm5-example-for-forms-with-variables plz help me on this</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>Hi, is there any news on this? I installed myfaces 2.1.10 via cli module, but when I tried to deploy a CDI-based application I still get this error: An error occured while initializing MyFaces: Class org.jboss.as.weld.webtier.jsf.WeldApplicationFactory is no javax.faces.application.ApplicationFactory: java.lang.IllegalArgumentException: Class org.jboss.as.weld.webtier.jsf.WeldApplicationFactory is no javax.faces.application.ApplicationFactory</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>https://issues.jboss.org/browse/AS7-1628 https://issues.jboss.org/browse/AS7-1628</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>These two related Jiras are about problems of integrating CDI with an installed JSF implementation that is not the default.  https://issues.jboss.org/browse/AS7-1628 https://issues.jboss.org/browse/AS7-1628 https://issues.jboss.org/browse/AS7-6129 https://issues.jboss.org/browse/AS7-6129 There is a workaround, however.  If I remember correctly, the workaround is to change the JSF impl that Weld is looking at.  Go into modules/org/jboss/as/weld/main/modules.xml and add your slot to the JSF API. &lt;module name="javax.faces.api" slot="myfaces-2.1.10"/&gt; Note that with this change you can only use Weld/CDI with one JSF impl at a time.  This limitation is slated to be fixed in AS7.2.x.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - JBoss Central - How	Does It Work?</header>
    <body>*Central consists of three levels of metadata:* * directory.xml file listing 1 or more discovery plugins (eg., 1 for the Core features, 1 for the Integration Stack (formerly SOA Tooling) features) * discovery plugin(s), which define groups of features ("Connectors") to be installed. This amounts to little more than a plugin.xml and some icons. * update site(s) referenced by the discovery plugin(s), which host the features to be installed. Sites can be 3rd party vendors' sites, or can be mirrored on download.jboss.org / devstudio.jboss.com for better guarantee of performance / version. Each connector can only define a SINGLE URL for that group of features, however. But that single URL can be a composite site, which in turn points to more than 1 site. *There are two simple rules to follow when writing your d**iscovery plugin.xml:* * * * connectorIDs must be stable - should not change between releases * Where license terms permit, 3rd party content should be mirrored first onto download.jboss.org and/or devstudio.jboss.com, so that the site content can be more easily controlled / guaranteed *How about some working examples?* JBoss Tools 3.3: *  http://download.jboss.org/jbosstools/updates/stable/indigo/jbosstools-directory.xml http://download.jboss.org/jbosstools/updates/stable/indigo/jbosstools-directory.xml (Source:  https://github.com/jbosstools/jbosstools-download.jboss.org/blob/master/jbosstools/updates/stable/indigo/jbosstools-directory.xml https://github.com/jbosstools/jbosstools-download.jboss.org/blob/master/jbosstools/updates/stable/indigo/jbosstools-directory.xml )* Contains both Core and SOA - point at the following jars:* org.jboss.tools.central.discovery_1.0.1.v20130112-0624-H128-Final.jar * org.jboss.tools.central.discovery.soa-tooling_1.0.0.v20121025-2148-H3-GA.jar * Each jar contains a plugin.xml file:* Source:  https://github.com/jbosstools/jbosstools-central/blob/master/central/plugins/org.jboss.tools.central.discovery/plugin.xml https://github.com/jbosstools/jbosstools-central/blob/master/central/plugins/org.jboss.tools.central.discovery/plugin.xml * Source: https://github.com/jbosstools/jbosstools-build-sites/blob/master/aggregate/soa-site/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml https://github.com/jbosstools/jbosstools-build-sites/blob/master/aggregate/soa-site/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml JBoss Developer Studio 5.0: *  https://devstudio.jboss.com/updates/5.0/devstudio-directory.xml https://devstudio.jboss.com/updates/5.0/devstudio-directory.xml (Source:  http://svn.jboss.org/repos/devstudio/trunk/devstudio.jboss.com/updates/5.0/devstudio-directory.xml http://svn.jboss.org/repos/devstudio/trunk/devstudio.jboss.com/updates/5.0/devstudio-directory.xml )* Contains both Core and SOA - point at the following jars:* com.jboss.jbds.central.discovery_1.0.1.v20130119-0035-H249-GA.jar * com.jboss.jbds.central.discovery.soa-tooling_1.0.2.v20121213-1115-H6-GA.jar * Each jar contains a plugin.xml file:* Source: https://github.com/jbosstools/jbosstools-central/blob/master/central/plugins/org.jboss.tools.central.discovery/plugin.xml http://svn.jboss.org/repos/devstudio/trunk/product/plugins/com.jboss.jbds.central.discovery/plugin.xml * Source:  https://github.com/jbosstools/jbosstools-build-sites/blob/master/aggregate/soa-site/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml http://svn.jboss.org/repos/devstudio/trunk/product-soa/plugins/com.jboss.jbds.central.discovery.soa-tooling/plugin.xml</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - JBoss Central - How	Does It Work?</header>
    <body>JBoss Central, based on  http://wiki.eclipse.org/Mylyn/Discovery Mylyn Discovery, is in part a UI for installing new features into Eclipse or JBDS. It provider a richer, yet simpler UI than what Eclipse's p2 Install Manager provides out of the box. *The Software/Update tab in Central is backed by three levels of metadata:* * directory.xml file listing 1 or more discovery plugins (eg., 1 for the Core features, 1 for the Integration Stack (formerly SOA Tooling) features) * discovery plugin(s), which define groups of features ("Connectors") to be installed. This amounts to little more than a plugin.xml and some icons. * update site(s) referenced by the discovery plugin(s), which host the features to be installed. Sites can be 3rd party vendors' sites, or can be mirrored on download.jboss.org / devstudio.jboss.com for better guarantee of performance / version. Each connector can only define a SINGLE URL for that group of features, however. But that single URL can be a composite site, which in turn points to more than 1 site. *There are two simple rules to follow when writing your discovery plugin.xml:* * connectorIDs must be stable - should not change between releases * Where license terms permit, 3rd party content should be mirrored first onto download.jboss.org and/or devstudio.jboss.com, so that the site content can be more easily controlled / guaranteed *How about some working examples?* * *JBoss Tools 3.3**  http://download.jboss.org/jbosstools/updates/stable/indigo/jbosstools-directory.xml http://download.jboss.org/jbosstools/updates/stable/indigo/jbosstools-directory.xml (Source:  https://github.com/jbosstools/jbosstools-download.jboss.org/blob/master/jbosstools/updates/stable/indigo/jbosstools-directory.xml jbosstools-directory.xml)* Contains both Core and SOA - points at the following jars:* org.jboss.tools.central.discovery_.*.jar (Source:  https://anonsvn.jboss.org/repos/jbosstools/branches/jbosstools-3.3.x/central/plugins/org.jboss.tools.central.discovery/plugin.xml plugin.xml) * org.jboss.tools.central.discovery.soa-tooling_*.jar (Source:  https://anonsvn.jboss.org/repos/jbosstools/branches/jbosstools-3.3.x/build/aggregate/soa-site/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml plugin.xml) * Each jar's plugin.xml then lists a number of connectors, which are groups of features wrapped by a simpler UI than what Eclipse's p2 Install Manager provides out of the box. * *JBoss Developer Studio 5.0**  https://devstudio.jboss.com/updates/5.0/devstudio-directory.xml https://devstudio.jboss.com/updates/5.0/devstudio-directory.xml (Source:  http://svn.jboss.org/repos/devstudio/trunk/devstudio.jboss.com/updates/5.0/devstudio-directory.xml devstudio-directory.xml)* Contains both Core and SOA - points at the following jars:* com.jboss.jbds.central.discovery_*.jar (Source:  https://svn.jboss.org/repos/devstudio/branches/devstudio-5.0.x/product/plugins/com.jboss.jbds.central.discovery/plugin.xml plugin.xml) * com.jboss.jbds.central.discovery.soa-tooling_*.jar (Source:  https://svn.jboss.org/repos/devstudio/branches/devstudio-5.0.x/product-soa/plugins/com.jboss.jbds.central.discovery.soa-tooling/plugin.xml plugin.xml) * Each jar's plugin.xml then lists a number of connectors. * *JBoss Tools 4.0**  http://download.jboss.org/jbosstools/updates/stable/juno/jbosstools-directory.xml http://download.jboss.org/jbosstools/updates/stable/juno/jbosstools-directory.xml (Source:  https://github.com/jbosstools/jbosstools-download.jboss.org/blob/master/jbosstools/updates/stable/juno/jbosstools-directory.xml jbosstools-directory.xml)* Contains both Core and SOA - points at the following jars:* org.jboss.tools.central.discovery_.*.jar (Source:  https://github.com/jbosstools/jbosstools-central/blob/jbosstools-4.0.x/central/plugins/org.jboss.tools.central.discovery/plugin.xml plugin.xml) * org.jboss.tools.central.discovery.soa-tooling_*.jar (Source:  https://github.com/jbosstools/jbosstools-build-sites/blob/jbosstools-4.0.x/aggregate/soa-site/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml plugin.xml - +*SUBJECT TO CHANGE*+) * Each jar's plugin.xml then lists a number of connectors. * *JBoss Developer Studio 6.0**  https://devstudio.jboss.com/updates/5.0/devstudio-directory.xml https://devstudio.jboss.com/updates/6.0/devstudio-directory.xml (Source:  http://svn.jboss.org/repos/devstudio/trunk/devstudio.jboss.com/updates/6.0/devstudio-directory.xml devstudio-directory.xml)* Contains both Core and SOA - points at the following jars:* com.jboss.jbds.central.discovery_*.jar (Source:  https://svn.jboss.org/repos/devstudio/branches/devstudio-6.0.x/product/plugins/com.jboss.jbds.central.discovery/plugin.xml plugin.xml) * com.jboss.jbds.central.discovery.soa-tooling_*.jar (Source:  https://svn.jboss.org/repos/devstudio/branches/devstudio-6.0.x/product-soa/plugins/com.jboss.jbds.central.discovery.soa-tooling/plugin.xml plugin.xml - +*SUBJECT TO CHANGE*+) * Each jar's plugin.xml then lists a number of connectors. * In JBDS 6, these connectors (feature groups) are now labelled as "Tested" or "Supported".</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - jboss-as-7.1.1.Final	and netbeans</header>
    <body>Hello, How i can use jboss-as-7.1.1.Final with netbeans??? Thanks for your help!!!!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Re:	jboss-as-7.1.1.Final and netbeans</header>
    <body>Hi floflo floflo: Unfortunately JBossTools is an eclipse-based IDE. We only write  enhancements for eclipse. Sorry  :(</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Re:	jboss-as-7.1.1.Final and netbeans</header>
    <body>yes i know this and i use it on eclipse. So we must wait a new version of netbeans in the end of the year? no tips ? thank you</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Re:	jboss-as-7.1.1.Final and netbeans</header>
    <body>Unfortunately I really have no tips for you. I've never used the netbeans integrations with JBoss and so I'm completely unfamiliar with how it may or may not work  :(    I would suggest asking on the netbeans boards, though I also don't know where they are  ;)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Re:	jboss-as-7.1.1.Final and netbeans</header>
    <body>thanks for all !!!!!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - JASPIC module not invoked after request#login</header>
    <body>I've installed a JASPIC (JASPI/JSR 196) SAM (login module) in JBoss EAP 6.01. It works and is invoked whenever a protected resource is accessed. However, when I call HttpServletRequest#login it's NOT invoked, and JBoss instead invokes the default file realm login module. Any rationale for this behavior?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: JASPIC module not invoked after request#login</header>
    <body>It may be a bug.  Please create a JIRA issue in AS7.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: JASPIC module not invoked after request#login</header>
    <body>Possiby. I forgot to mention btw that GlassFish and WebLogic also don't invoke the SAM after HttpServletRequest#login. So maybe they all have the same bug, or maybe it's a spec issue? As you have been involved with JSR 196 for a long time, do you know if this issue ever came up in EG discussions? JASPIC was finished before Servlet 3 was finished (nearly 2 years between them), so maybe that's the cause?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - JBoss AS7: Enabling JASPI Authentication for Web Applications</header>
    <body>@anilsaldhana One issue that I encountered that seems spec related, is that JASPIC modules do not seem to get invoked whenever HttpServletRequest#login is called. Anil, do you know anything about this? Is this a spec loophole?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - JBoss AS7: Enabling JASPI Authentication for Web Applications</header>
    <body>validateRequest *should* be called under HttpServletRequest.authenticate; but that has not yet been made explicit in the Servlet Profile of JSR 196 (and will be the subject of the next MR to the spec). ValidateRequest should not be called under HttpServletRequest.login mostly because login presumes a user name/password authentication mechanism (which may not be compatible with the configured auth context). it might be worth considering having login use the callback handler to handle a passwordValidationCallback (if jsr 196 is configured for the app), in which case the login impl login would need access to the same callback handler that was passed to the 196 auth context configured for the app. I will think about how that might be possible, but at this time, the main integration point for jsr 196 and programmatic login should be authenticate (not login).</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS Development Deployment Framework] -	Linkage Error</header>
    <body>I am trying to migrate my application from Jboss 4 to Jboss 6. Its a web service application, which is using Axis2 implementation. Below jars are reffered by Axis2         &lt;include name="axis2-kernel-1.4.1.jar"/&gt;         &lt;include name="axiom-api-1.2.7.jar"/&gt;         &lt;include name="axiom-impl-1.2.7.jar"/&gt;         &lt;include name="neethi-2.0.4.jar"/&gt;         &lt;include name="woden-api-1.0M8.jar"/&gt;         &lt;include name="woden-impl-dom-1.0M8.jar"/&gt;         &lt;include name="wsdl4j-1.6.2.jar"/&gt;         &lt;include name="xmlbeans-2.3.0.jar"/&gt;         &lt;include name="axis2-adb-1.4.1.jar"/&gt;         &lt;include name="XmlSchema-1.4.2.jar"/&gt;         &lt;include name="axis2-spring-1.4.1.jar"/&gt;         &lt;!--include name="stax-1.2.0.jar"/--&gt;     &lt;/fileset&gt; If i include stax-api jar in project build, it is failing during deployment. If i remove stax api jar from application build, i am able to deploy the application successfully but when i try to access the web services i get below linage error: [org.apache.axis2.transport.http.AxisServlet]  loader constraint violation in interface itable initialization: when resolving method "org.apache.axiom.om.impl.llom.OMStAXWrapper.getName()Ljavax/xml/namespace/QName;" the class loader (instance of org/jboss/classloader/spi/base/BaseClassLoader) of the current class, org/apache/axiom/om/impl/llom/OMStAXWrapper, and the class loader (instance of &lt;bootloader&gt;) for interface javax/xml/stream/XMLStreamReader have different Class objects for the type javax/xml/namespace/QName used in the signature: java.lang.LinkageError: loader constraint violation in interface itable initialization: when resolving method "org.apache.axiom.om.impl.llom.OMStAXWrapper.getName()Ljavax/xml/namespace/QName;" the class loader (instance of org/jboss/classloader/spi/base/BaseClassLoader) of the current class, org/apache/axiom/om/impl/llom/OMStAXWrapper, and the class loader (instance of &lt;bootloader&gt;) for interface javax/xml/stream/XMLStreamReader have different Class objects for the type javax/xml/namespace/QName used in the signature         at org.apache.axiom.om.impl.llom.OMElementImpl.getXMLStreamReader(OMElementImpl.java:752) [:]         at org.apache.axiom.om.impl.llom.OMElementImpl.getXMLStreamReaderWithoutCaching(OMElementImpl.java:726) [:]         at com.fdc.valuelink.endpoint.ValueLinkTransactionMessageReceiverInOut.fromOM(Unknown Source) [:]         at com.fdc.valuelink.endpoint.ValueLinkTransactionMessageReceiverInOut.invokeBusinessLogic(Unknown Source) [:]         at org.apache.axis2.receivers.AbstractInOutMessageReceiver.invokeBusinessLogic(AbstractInOutMessageReceiver.java:40) [:]         at org.apache.axis2.receivers.AbstractMessageReceiver.receive(AbstractMessageReceiver.java:100) [:]         at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:176) [:]         at org.apache.axis2.transport.http.HTTPTransportUtils.processHTTPPostRequest(HTTPTransportUtils.java:275) [:]         at org.apache.axis2.transport.http.AxisServlet.doPost(AxisServlet.java:133) [:]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:754) [:1.0.0.Final]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [:1.0.0.Final]         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:324) [:6.0.0.Final]         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:242) [:6.0.0.Final]         at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [:6.0.0.Final]         at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) [:6.0.0.Final]         at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:181) [:6.0.0.Final]         at org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.event(CatalinaContext.java:285) [:1.1.0.Final]         at org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.invoke(CatalinaContext.java:261) [:1.1.0.Final]         at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:88) [:6.0.0.Final]         at org.jboss.web.tomcat.security.SecurityContextEstablishmentValve.invoke(SecurityContextEstablishmentValve.java:100) [:6.0.0.Final]         at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) [:6.0.0.Final]         at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [:6.0.0.Final]         at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:158) [:6.0.0.Final]         at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [:6.0.0.Final]         at org.jboss.web.tomcat.service.request.ActiveRequestResponseCacheValve.invoke(ActiveRequestResponseCacheValve.java:53) [:6.0.0.Final]         at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:362) [:6.0.0.Final]         at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [:6.0.0.Final]         at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:654) [:6.0.0.Final]         at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:951) [:6.0.0.Final]         at java.lang.Thread.run(Thread.java:662) [:1.6.0_31] I have read in many posts that including stax api in application lib causes linkage error, here i dont have stax api jar in my application lib folder still its giving linkage error. i am using Java 6 on my server. Can anyone please help in resolving this error?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - CLI	non-interactive mode</header>
    <body>How to specify the password in a secure manner when using non interactive cli.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>That's a great feature, really helpful when migrating JSF applications from an older AS. It's fully working with JBoss AS 7.2 (jboss-as-7.2.0.Alpha1-SNAPSHOT). On JBoss AS 7.1.3 (or EAP 6.0.1), the feature is only partial. For example, @EJB injection doesn't work with my JSF 1.2 managed beans  :( . And the jsf subsystem doesn't exist yet. On my application, I had to make a custom InjectionProvider to have my EJBs injected. I'm really looking forward to have that new release.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - JBoss AS7: Enabling JASPI Authentication for Web Applications</header>
    <body>Ron, thank you so much for the response! Indeed, HttpServletRequest.authenticate works. I tested this using JBoss EAP 6.0.1, WebLogic 12.1.1, and GlassFish 3.1.2.2. It would help a lot of the next MR to the spec would state this explicitly. Are there already any plans for this MR? And being a MR, will there be some sort of open tracker where one can submit issues? Indeed, but that holds for proprietary login modules as well, doesn't it? The contract on HttpServletRequest.login already mentions something along those lines: +"This method returns without throwing a ServletException when the login mechanism configured for the ServletContext supports username password validation"+ + + Thanks again, it will be interesting to see what the options here are. If for some reason it really is not possible to handle HttpServletRequest.login with JSR 196, then maybe an exception should be thrown instead if jsr 196 is configured for the app? What happens now is that the call silently goes to a completely different login module. If this login module happened to store the username/password that the user is trying to authenticate with, he/she will be totally unexpected and silently authenticated with the wrong login module.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Get all tasks defined	inside a process</header>
    <body>I would like to know if it's possible to retrieve all the tasks defined inside a jbpm process. I know I can retrieve the one that is ready to execute (filtering by actor or group), but is there a way to get all the tasks defined in this process as soon as the process instance has started? Thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - JBPM 5 - Extending	expressions language</header>
    <body>I want to be able to use my own language in an expression, for example in a condition over a sequenceFlow. Is there anyway to do this without modifying code? If the answer is no, what classes i have to touch? Thanks in advance. Marcos Dutto</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - JBoss AS7: Enabling JASPI Authentication for Web Applications</header>
    <body>Arjun, thanks for the news about JBOSS and WLS. I am planning to write and submit the next MR in the next week. It will need to be brief to fit with the ee 7 scheduling, but if you have any pressing issues with the spec please pass them on. I will also set up an issue tracker (but that may not be in time for this MR). I think that it would be your idea about throwing an exception from login, when a jsr 196 module is configured, sounds very good. I will work through that.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Every single remote ejb call starts full authentication process with SecurityDomain cache-type="default"</header>
    <body>Hi, I'm facing the same issue with local ejb calls in an app bundled as a war.  I'm not using a custom login module.  I'm using DatabaseUsers.  I noticed the issue with v. 7.1.1.Final when I implemented a "change user password" workflow when immediately after the new password was persisted to the db JBossCachedAuthenticationManager threw a FailedLoginException.  I deployed to 7.1.2.Final as well as 7.2.0.Alpha1-SNAPSHOT.  I double checked that cache-type="default" was in my configuration after reading about the issue in  https://issues.jboss.org/browse/AS7-3498 jira: AS7-3498.   However this did not resolve the problem.  AS7-3498 was closed in March?? 15:50:06,756 ERROR [org.jboss.security.authentication.JBossCachedAuthenticationManager] (http-/127.0.0.1:8443-6) Login failure: javax.security.auth.login.FailedLoginException: Password Incorrect/Password Required     at org.jboss.security.auth.spi.UsernamePasswordLoginModule.login(UsernamePasswordLoginModule.java:293) [picketbox-4.0.9.Final.jar:4.0.9.Final]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_07]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_07]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_07]     at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_07]     at javax.security.auth.login.LoginContext.invoke(LoginContext.java:784) [rt.jar:1.7.0_07]     at javax.security.auth.login.LoginContext.access$000(LoginContext.java:203) [rt.jar:1.7.0_07]     at javax.security.auth.login.LoginContext$4.run(LoginContext.java:698) [rt.jar:1.7.0_07]     at javax.security.auth.login.LoginContext$4.run(LoginContext.java:696) [rt.jar:1.7.0_07]     at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_07]     at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:695) [rt.jar:1.7.0_07]     at javax.security.auth.login.LoginContext.login(LoginContext.java:594) [rt.jar:1.7.0_07]     at org.jboss.security.authentication.JBossCachedAuthenticationManager.defaultLogin(JBossCachedAuthenticationManager.java:449) [picketbox-infinispan-4.0.9.Final.jar:4.0.9.Final]     at org.jboss.security.authentication.JBossCachedAuthenticationManager.proceedWithJaasLogin(JBossCachedAuthenticationManager.java:383) [picketbox-infinispan-4.0.9.Final.jar:4.0.9.Final]     at org.jboss.security.authentication.JBossCachedAuthenticationManager.authenticate(JBossCachedAuthenticationManager.java:371) [picketbox-infinispan-4.0.9.Final.jar:4.0.9.Final]     at org.jboss.security.authentication.JBossCachedAuthenticationManager.isValid(JBossCachedAuthenticationManager.java:160) [picketbox-infinispan-4.0.9.Final.jar:4.0.9.Final]     at org.jboss.as.security.service.SimpleSecurityManager.authenticate(SimpleSecurityManager.java:354) [jboss-as-security-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.as.security.service.SimpleSecurityManager.push(SimpleSecurityManager.java:292) [jboss-as-security-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.as.ejb3.security.SecurityContextInterceptor$1.run(SecurityContextInterceptor.java:49) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.as.ejb3.security.SecurityContextInterceptor$1.run(SecurityContextInterceptor.java:45) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_07]     at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:74) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:42) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:176) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ejb3.component.stateful.StatefulComponentIdInterceptor.processInvocation(StatefulComponentIdInterceptor.java:52) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at com.patrac.controller.statemachine.screen.ChangePasswordScreen$$$view29.findLeafStateAndExitUpward(Unknown Source) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.transition.Transition.exitSource(Transition.java:90) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.transition.Transition.fire(Transition.java:62) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.transition.GoToWorkflowTransition.fire(GoToWorkflowTransition.java:49) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.workflow.ChangePasswordWorkflow$1.evaluate(ChangePasswordWorkflow.java:62) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.workflow.ChangePasswordWorkflow$1.evaluate(ChangePasswordWorkflow.java:56) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.event.Event.trigger(Event.java:85) [Patrac-ejb.jar:]     at com.patrac.controller.backingbean.BackingBean.dispatch(BackingBean.java:68) [classes:]     at com.patrac.controller.backingbean.ChangePasswordBean$Proxy$_$$_WeldClientProxy.dispatch(ChangePasswordBean$Proxy$_$$_WeldClientProxy.java) [classes:]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_07]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_07]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_07]     at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_07]     at org.apache.el.parser.AstValue.invoke(AstValue.java:264) [jbossweb-7.0.16.Final.jar:]     at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:278) [jbossweb-7.0.16.Final.jar:]     at org.jboss.weld.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:39) [weld-core-1.1.8.Final.jar:2012-04-29 10:45]     at org.jboss.weld.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50) [weld-core-1.1.8.Final.jar:2012-04-29 10:45]     at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105) [jsf-impl-2.1.7-jbossorg-2.jar:]     at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102) [jsf-impl-2.1.7-jbossorg-2.jar:]     at javax.faces.component.UICommand.broadcast(UICommand.java:315) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81) [jsf-impl-2.1.7-jbossorg-2.jar:]     at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101) [jsf-impl-2.1.7-jbossorg-2.jar:]     at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118) [jsf-impl-2.1.7-jbossorg-2.jar:]     at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.16.Final.jar:]     at org.jboss.weld.servlet.ConversationPropagationFilter.doFilter(ConversationPropagationFilter.java:62) [weld-core-1.1.8.Final.jar:2012-04-29 10:45]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.16.Final.jar:]     at com.patrac.filter.NoCacheFilter.doFilter(NoCacheFilter.java:46) [classes:]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:489) [jbossweb-7.0.16.Final.jar:]     at org.jboss.as.jpa.interceptor.WebNonTxEmCloserValve.invoke(WebNonTxEmCloserValve.java:50) [jboss-as-jpa-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.2.Final.jar:7.1.2.Final]     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.16.Final.jar:]     at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:897) [jbossweb-7.0.16.Final.jar:]     at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:634) [jbossweb-7.0.16.Final.jar:]     at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:2039) [jbossweb-7.0.16.Final.jar:]     at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_07] 15:50:06,772 ERROR [org.jboss.as.ejb3.invocation] (http-/127.0.0.1:8443-6) JBAS014134: EJB Invocation failed on component ChangePasswordScreen for method public void com.patrac.controller.statemachine.state.LeafState.findLeafStateAndExitUpward(com.patrac.controller.statemachine.transferobject.TransferObject,com.patrac.controller.statemachine.state.State): javax.ejb.EJBAccessException: JBAS013323: Invalid User     at org.jboss.as.ejb3.security.SecurityContextInterceptor$1.run(SecurityContextInterceptor.java:54) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.as.ejb3.security.SecurityContextInterceptor$1.run(SecurityContextInterceptor.java:45) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_07]     at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:74) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:42) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:176) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ejb3.component.stateful.StatefulComponentIdInterceptor.processInvocation(StatefulComponentIdInterceptor.java:52) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at com.patrac.controller.statemachine.screen.ChangePasswordScreen$$$view29.findLeafStateAndExitUpward(Unknown Source) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.transition.Transition.exitSource(Transition.java:90) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.transition.Transition.fire(Transition.java:62) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.transition.GoToWorkflowTransition.fire(GoToWorkflowTransition.java:49) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.workflow.ChangePasswordWorkflow$1.evaluate(ChangePasswordWorkflow.java:62) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.workflow.ChangePasswordWorkflow$1.evaluate(ChangePasswordWorkflow.java:56) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.event.Event.trigger(Event.java:85) [Patrac-ejb.jar:]     at com.patrac.controller.backingbean.BackingBean.dispatch(BackingBean.java:68) [classes:]     at com.patrac.controller.backingbean.ChangePasswordBean$Proxy$_$$_WeldClientProxy.dispatch(ChangePasswordBean$Proxy$_$$_WeldClientProxy.java) [classes:]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_07]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_07]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_07]     at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_07]     at org.apache.el.parser.AstValue.invoke(AstValue.java:264) [jbossweb-7.0.16.Final.jar:]     at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:278) [jbossweb-7.0.16.Final.jar:]     at org.jboss.weld.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:39) [weld-core-1.1.8.Final.jar:2012-04-29 10:45]     at org.jboss.weld.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50) [weld-core-1.1.8.Final.jar:2012-04-29 10:45]     at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105) [jsf-impl-2.1.7-jbossorg-2.jar:]     at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102) [jsf-impl-2.1.7-jbossorg-2.jar:]     at javax.faces.component.UICommand.broadcast(UICommand.java:315) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81) [jsf-impl-2.1.7-jbossorg-2.jar:]     at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101) [jsf-impl-2.1.7-jbossorg-2.jar:]     at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118) [jsf-impl-2.1.7-jbossorg-2.jar:]     at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.16.Final.jar:]     at org.jboss.weld.servlet.ConversationPropagationFilter.doFilter(ConversationPropagationFilter.java:62) [weld-core-1.1.8.Final.jar:2012-04-29 10:45]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.16.Final.jar:]     at com.patrac.filter.NoCacheFilter.doFilter(NoCacheFilter.java:46) [classes:]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:489) [jbossweb-7.0.16.Final.jar:]     at org.jboss.as.jpa.interceptor.WebNonTxEmCloserValve.invoke(WebNonTxEmCloserValve.java:50) [jboss-as-jpa-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.2.Final.jar:7.1.2.Final]     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.16.Final.jar:]     at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:897) [jbossweb-7.0.16.Final.jar:]     at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:634) [jbossweb-7.0.16.Final.jar:]     at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:2039) [jbossweb-7.0.16.Final.jar:]     at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_07]     at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:118) [jsf-impl-2.1.7-jbossorg-2.jar:]     at javax.faces.component.UICommand.broadcast(UICommand.java:315) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81) [jsf-impl-2.1.7-jbossorg-2.jar:]     at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101) [jsf-impl-2.1.7-jbossorg-2.jar:]     at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118) [jsf-impl-2.1.7-jbossorg-2.jar:]     at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.16.Final.jar:]     at org.jboss.weld.servlet.ConversationPropagationFilter.doFilter(ConversationPropagationFilter.java:62) [weld-core-1.1.8.Final.jar:2012-04-29 10:45]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.16.Final.jar:]     at com.patrac.filter.NoCacheFilter.doFilter(NoCacheFilter.java:46) [classes:]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:489) [jbossweb-7.0.16.Final.jar:]     at org.jboss.as.jpa.interceptor.WebNonTxEmCloserValve.invoke(WebNonTxEmCloserValve.java:50) [jboss-as-jpa-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.2.Final.jar:7.1.2.Final]     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.16.Final.jar:]     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.16.Final.jar:]     at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:897) [jbossweb-7.0.16.Final.jar:]     at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:634) [jbossweb-7.0.16.Final.jar:]     at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:2039) [jbossweb-7.0.16.Final.jar:]     at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_07] Caused by: javax.faces.el.EvaluationException: javax.ejb.EJBAccessException: JBAS013323: Invalid User     at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:102) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102) [jsf-impl-2.1.7-jbossorg-2.jar:]     ... 28 more Caused by: javax.ejb.EJBAccessException: JBAS013323: Invalid User     at org.jboss.as.ejb3.security.SecurityContextInterceptor$1.run(SecurityContextInterceptor.java:54) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.as.ejb3.security.SecurityContextInterceptor$1.run(SecurityContextInterceptor.java:45) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_07]     at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:74) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:42) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:176) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ejb3.component.stateful.StatefulComponentIdInterceptor.processInvocation(StatefulComponentIdInterceptor.java:52) [jboss-as-ejb3-7.1.2.Final.jar:7.1.2.Final]     at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]     at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.2.Final.jar:7.1.2.Final]     at com.patrac.controller.statemachine.screen.ChangePasswordScreen$$$view29.findLeafStateAndExitUpward(Unknown Source) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.transition.Transition.exitSource(Transition.java:90) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.transition.Transition.fire(Transition.java:62) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.transition.GoToWorkflowTransition.fire(GoToWorkflowTransition.java:49) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.workflow.ChangePasswordWorkflow$1.evaluate(ChangePasswordWorkflow.java:62) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.workflow.ChangePasswordWorkflow$1.evaluate(ChangePasswordWorkflow.java:56) [Patrac-ejb.jar:]     at com.patrac.controller.statemachine.event.Event.trigger(Event.java:85) [Patrac-ejb.jar:]     at com.patrac.controller.backingbean.BackingBean.dispatch(BackingBean.java:68) [classes:]     at com.patrac.controller.backingbean.ChangePasswordBean$Proxy$_$$_WeldClientProxy.dispatch(ChangePasswordBean$Proxy$_$$_WeldClientProxy.java) [classes:]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_07]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_07]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_07]     at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_07]     at org.apache.el.parser.AstValue.invoke(AstValue.java:264) [jbossweb-7.0.16.Final.jar:]     at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:278) [jbossweb-7.0.16.Final.jar:]     at org.jboss.weld.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:39) [weld-core-1.1.8.Final.jar:2012-04-29 10:45]     at org.jboss.weld.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50) [weld-core-1.1.8.Final.jar:2012-04-29 10:45]     at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105) [jsf-impl-2.1.7-jbossorg-2.jar:]     at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88) [jboss-jsf-api_2.1_spec-2.0.2.Final.jar:2.0.2.Final]     ... 29 more My security domain configuration is as follows:         &lt;subsystem xmlns="urn:jboss:domain:security:1.2"&gt;             &lt;security-domains&gt;                 &lt;security-domain name="PatracSecurityDomain" cache-type="default"&gt;                     &lt;authentication&gt;                         &lt;login-module code="DatabaseUsers" flag="required"&gt;                             &lt;module-option name="dsJndiName" value="java:/PostgresDatabaseDS"/&gt;                             &lt;module-option name="principalsQuery" value="SELECT userpassword FROM applicationuser WHERE email=?"/&gt;                             &lt;module-option name="rolesQuery" value="SELECT r.name, 'Roles' FROM USER_ROLE ur JOIN APPLICATIONUSER u ON ur.userid=u.id JOIN ROLE r ON ur.roleid=r.id where u.email=?"/&gt;                         &lt;/login-module&gt;                     &lt;/authentication&gt;                 &lt;/security-domain&gt;                 &lt;security-domain name="jboss-web-policy" cache-type="default"&gt;                     &lt;authorization&gt;                         &lt;policy-module code="Delegating" flag="required"/&gt;                     &lt;/authorization&gt;                 &lt;/security-domain&gt;                 &lt;security-domain name="jboss-ejb-policy" cache-type="default"&gt;                     &lt;authorization&gt;                         &lt;policy-module code="Delegating" flag="required"/&gt;                     &lt;/authorization&gt;                 &lt;/security-domain&gt;             &lt;/security-domains&gt;         &lt;/subsystem&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Test failures with	JDK7</header>
    <body>I tried to compile the current JBoss AS7 sources from github.com with Oracle JDK 1.7.0_09 on Solaris 10 SPARC. But tests failed: ------------------------------------------------------- T E S T S ------------------------------------------------------- Running org.jboss.as.clustering.web.infinispan.SessionMapEntryTest Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.286 sec Running org.jboss.as.clustering.web.infinispan.SimpleExternalizerTestCase Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.045 sec Running org.jboss.as.clustering.web.infinispan.FineSessionAttributeStorageTest Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.144 sec Running org.jboss.as.clustering.web.infinispan.DistributedCacheManagerTest Tests run: 22, Failures: 2, Errors: 1, Skipped: 0, Time elapsed: 2.028 sec &lt;&lt;&lt; FAILURE! Running org.jboss.as.clustering.web.infinispan.SessionAttributeStorageFactoryTest Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 sec Running org.jboss.as.clustering.web.infinispan.CoarseSessionAttributeStorageTest Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.045 sec Results : Failed tests:   getSessionDataNoOwner(org.jboss.as.clustering.web.infinispan.DistributedCacheManagerTest): expected same:&lt;Mock for IncomingDistributableSessionData, hashCode: 11206542&gt; was not:&lt;null&gt;   getMissingSessionDataNoOwner(org.jboss.as.clustering.web.infinispan.DistributedCacheManagerTest): expected same:&lt;Mock for IncomingDistributableSessionData, hashCode: 12646526&gt; was not:&lt;null&gt; Tests in error:   removeSessionLocalNoOwner(org.jboss.as.clustering.web.infinispan.DistributedCacheManagerTest): (..) Is this expected, meaning JDK 1.6 is mandatory for compilation?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Test failures	with JDK7</header>
    <body>There's always -DskipTests ;-)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Test failures	with JDK7</header>
    <body>Sure. But I want a stable version of AS7. If test fails, it might be a problem of the test case, but also of the application server itself. I also tried a version compiled with JDK6 and run with JDK7. Here I get expeptions from our C/C++-application calling a webservice running on AS7: HTTP/1.1 505 HTTP Version Not Supported. Strange. Running the same build with JDK6 again does not this problem. So it seems its better to stay with JDK6, although it will run out of public support early in 2013.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Test failures	with JDK7</header>
    <body>Those aren't "expected" to fail. Can you get the detailed logs from the target/surefire-reports folder?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Test failures	with JDK7</header>
    <body>I wanted to create a new Bug but then I saw  https://issues.jboss.org/browse/AS7-5498 https://issues.jboss.org/browse/AS7-5498. This seems to be the same problem, so I added my files to this issue.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Test failures	with JDK7</header>
    <body>I tried building on a Win64 JDK 6 this weekend (with tests) and got those same failures.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Test failures	with JDK7</header>
    <body>Also fails the infinispan tests on a Win64 1.7.0_07.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Inter-module injection - the easy way (or even any way or alternative approaches)?</header>
    <body>I am trying unsuccessfully to get Inter-module injection working.  I expected that I could have a cdi-enabled war @Inject beans from a bean archive in the same container after haing added a dependency to the bean-archive-as-module in the war's jboss-deployment-structure.xml file My ultimate goal is to enable a rapid development process for our team where developers working on the front end redeploy just a lean war that does not contain any backend services but has a module dependency on a "services" deployable (which is currently an ear but could be just a jar if need be).  Devs doing front-end work would ideally just @Inject any local dependency located in the services deployable with minimal/zero per-service configuration fuss. The services deployable is a fairly time-consuming redeploy, and a frequent redeploy seems unneeded for developers just doing front-end work. Normally, I might have liked to accomplish this goal by using an exploded ear, where the war is part of the ear, and the front end developer can just redeploy the war portion of the ear after making,say, a java file change, and only the war is redeployed, not the entire ear (which again is slow and seemingly unneeded). Other apps servers that I've worked with in the past offer this specific functionality, but it appears that AS7 does not (unless, hopefully, I'm wrong). On AS7 it seems only the entire ear can be redeployed, even if just the war needs redeployment. So, I am looking for alternative approaches to accomplish the same goal, such as using a front-end war external to the services deployable that uses inter-module injection (as described  http://docs.jboss.org/cdi/spec/1.0/html/injectionelresolution.html here under 5.1.4 in the CDI spec). However when I try this, I get "unsatisfied dependencies" errors.  I think I'm satisfying the requirements for inter-module injection (though the 4th part is unclear to me - "the bean class is required to be accessible to classes in the module, according to the class accessibility requirements of the module architecture"). I have confirmed that my war (which has a  reference in jboss-deployment-structure.xml to the ear module and to the ejb-jar subdeployment inside the ear) can do a jndi lookup for an example EJB using "java:global/my-ear.ear/my-ejb.jar/SomeService", but @Inject can not find the same bean. I'm confident that a have cdi enabled on both the war and on the ear (plus I've tried just a simple bean archive jar instead of my full-blown ear). Any workarounds or alternative approaches would be most welcome. Thanks all, #Tom</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Inter-module injection - the easy way (or even any way or alternative approaches)?</header>
    <body>The CDI spec statement has an implied "according to the class accessibility requirements of the module architecture of the Java EE specification". Even if the classloading could be configured in an AS to do some special trick, CDI has the visibility rules of a standard EE app (EAR/WAR/JAR). 3rd party tools as JRebel are handy for doing front-end work that don't require heavy backing bean/entity reloads.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Inter-module injection - the easy way (or even any way or alternative approaches)?</header>
    <body>Thanks much for your response and alternative productivity tip, JRebel. JRebel is a great tool , and I am already using it, but it only goes so far, and still requires redeploy for a variety of circumstances. Further, I'd like to find a solution for the team and the community at large that doesn't require a tool such JRebel, since not all folks and teams can obtain or manage use of JRebel. What you characterize as a "special trick", I might characterize as a "useful application of the wonderful JBoss module system"  :) It sounds like you are saying based on this spec that EARs, WARs, and even JARs should not have class visibility from say, another war.  If that is true, then it seems like the Inter-module injection part of the spec can never be satisfied in any useful way, since that class accessibility requirement can never be satisfied. Also, I can sort of understand this tight accessibility restriction for EARs and WARs, but surely just JAR deployables are accessible by other deployables, since jar deployable are basically the same as a module. I thought there was even a concept of a "bean archive" jar that other deployables can take advantage. Also, I'm a bit surprised that such an action is considered violating the visibility rules, since the classes are accessible.visible via jndi lookup and via Class.forName().  Unless I'm missing something, it seems like an inconsistency then that one can then currently do an @EJB("java:/global/my-ejb-jar.jar/SomeBean") but not do a simpler @Inject instead. The classes are clearly accessible from a jndi lookup perspective and and a Class.forName() perspective, but not accessible from a CDI @Inject perspective. From inside the war, I'm even able to use the BeanManager instance from the dependent jar to do getBeans() on beans from the dependent jar to get at a jar bean, but not with @Inject. Assuming there is no such solution, might it be possible to roll my own solution using a CDI hook/extension? If I am able to hook into the CDI bean resolution logic in the front-end war (I haven't studied if/how this can be done), then I would be able to lookup across the module using the technique that I have working described above where I have a bridge into the dependent jar exposing that deployable's BeanManager. ~Tom</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBossAS 7.1.3.CR1: JBoss Solder doesn't work anymore</header>
    <body>Any news on this one? We are also running into this issue while trying to integrate RichFaces Push support into our application.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBossAS 7.1.3.CR1: JBoss Solder doesn't work anymore</header>
    <body>Meanwhile I tried the nightly build of JBoss 7.2 (including Weld 1.1.10): the issue is gone.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - Web service client user token authentication problem</header>
    <body>Hi, We have got a  webservice with the following security policy from the client. &lt;sp:SupportingTokens xmlns:sp=" http://schemas.xmlsoap.org/ws/2005/07/securitypolicy http://schemas.xmlsoap.org/ws/2005/07/securitypolicy"&gt; &lt;wsp:Policy&gt; &lt;sp:UsernameToken sp:IncludeToken=" http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/AlwaysToRecipient http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/AlwaysToRecipient"&gt; &lt;wsp:Policy&gt; &lt;sp:WssUsernameToken10/&gt; &lt;/wsp:Policy&gt; &lt;/sp:UsernameToken&gt; &lt;/wsp:Policy&gt; &lt;/sp:SupportingTokens&gt; &lt;/wsp:Policy&gt; We generated client classes using the Java JAX-WS tool from the wsdl(used the wsimport command).Afer that used the SecurityHandler  class( attached the file)  which incorporates the securtiy information in the handleMessage() method. When i called the web service method from a standlone client class ,security authentication is done and got the webservice response. But when accessing the webservice from the application deployed from JBoss7.1.0,Security Handler's handleMessage() method is not invoked due to this i am getting the excetion as org.apache.cxf.ws.policy.PolicyException: No username available at org.apache.cxf.ws.security.wss4j.UsernameTokenInterceptor.policyNotAsserted(UsernameTokenInterceptor.java:398) at org.apache.cxf.ws.security.wss4j.UsernameTokenInterceptor.addUsernameToken(UsernameTokenInterceptor.java:341) at org.apache.cxf.ws.security.wss4j.UsernameTokenInterceptor.addUsernameToken(UsernameTokenInterceptor.java:267) at org.apache.cxf.ws.security.wss4j.UsernameTokenInterceptor.handleMessage(UsernameTokenInterceptor.java:112) at org.apache.cxf.ws.security.wss4j.UsernameTokenInterceptor.handleMessage(UsernameTokenInterceptor.java:76) at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263) at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:531) at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:461) at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:364) at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:317) at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:88) 00:05:21,350 ERROR [stderr] (http--192.168.172.142-8080-1) Caused by: org.apache.cxf.ws.policy.PolicyException: No username available Please let me know where is the issue? Thanks in advance, Sridhar</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - how I can disable all the security of JBoss7?</header>
    <body>I keep having problems with security in Jboss 7. As I can disable it for all kinds of connections? - remote connections - local connections - jboss to jboss connections.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:</header>
    <body>Hi I am a new bie in EJB3.x .I am writing JUNIT test cases for ejb which is deployed in JBOSS7.1 FINAL using remote client. I have used all the maven dependency  https://docs.jboss.org/author/display/AS71/EJB+invocations+from+a+remote+client+using+JNDI https://docs.jboss.org/author/display/AS71/EJB+invocations+from+a+remote+client+using+JNDI I have jboss-ejb-client.properties in my class path. But i get the following error when i try to run the test cases. ---------------- +*javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:*+  java.naming.factory.initial           at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:645)           at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288)           at javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:325)           at javax.naming.InitialContext.lookup(InitialContext.java:392 ------------------ Attached is the jboss-ejb-clent.properties Please help in solving this error Thanks in advance</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Failed authenticate() test in Web Application with Custom LoginModule</header>
    <body>Hi, I have a Custom LoginModule that works fine with authentication in EJBs with Remote Communication in JBoss 6. But it doesn't work when I use it in a web application. I can see the following in the logfile: 08:54:18,206 DEBUG [org.apache.catalina.authenticator.AuthenticatorBase] @ Security checking request POST /proshop/admin/j_security_check 08:54:18,206 DEBUG [org.apache.catalina.authenticator.FormAuthenticator] @ Authenticating username 'mabe' 08:54:18,222 DEBUG [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/proshop].[FacesServlet]] @  Disabling the response for futher output 08:54:18,222 DEBUG [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/proshop].[FacesServlet]] @  The Response is vehiculed using a wrapper: org.apache.catalina.connector.Response 08:54:18,222 DEBUG [org.apache.catalina.authenticator.AuthenticatorBase] @  Failed authenticate() test ??/proshop/admin/j_security_check 08:54:18,242 DEBUG [org.apache.catalina.authenticator.AuthenticatorBase] @ Security checking request GET /proshop/javax.faces.resource/theme.css.jsf 08:54:18,242 DEBUG [org.apache.catalina.realm.RealmBase] @   Checking constraint 'SecurityConstraint[proshop]' against GET /javax.faces.resource/theme.css.jsf --&gt; false 08:54:18,242 DEBUG [org.apache.catalina.realm.RealmBase] @   Checking constraint 'SecurityConstraint[proshop]' against GET /javax.faces.resource/theme.css.jsf --&gt; false 08:54:18,242 DEBUG [org.apache.catalina.realm.RealmBase] @   Checking constraint 'SecurityConstraint[proshop]' against GET /javax.faces.resource/theme.css.jsf --&gt; false 08:54:18,242 DEBUG [org.apache.catalina.realm.RealmBase] @   Checking constraint 'SecurityConstraint[proshop]' against GET /javax.faces.resource/theme.css.jsf --&gt; false 08:54:18,242 DEBUG [org.apache.catalina.realm.RealmBase] @   No applicable constraint located 08:54:18,242 DEBUG [org.apache.catalina.authenticator.AuthenticatorBase] @  Not subject to any constraint Whe I use the jmx-console Loginmodule it works. So it must be a problem with the custom LoginModule. Ist there a way to have more trace output from the security mechanism in JBoss? Thanks Simon</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ManagementLayer RBAC</header>
    <body>Role based access control to the AS7 management layer.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ManagementLayer RBAC</header>
    <body>Role based access control to the AS7 management layer. When defining an RBAC model, the following conventions are useful: * S = Subject = A person or automated agent * R = Role = Job function or title which defines an authority level * P = Permissions = An approval of a mode of access to a resource *Generic Requirements* - Provide a usable (in terms of complexity), yet comprehensive base model - Allow to customizations/extension of the default scheme (i.e custom permissions, permission granularity) *Specific Requirements* - [...]* * *Advanced Use Cases /  Considerations* - Context access control: i.e. Taking the connection into consideratin - Support for role hierarchies</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ManagementLayer RBAC</header>
    <body>Role based access control to the AS7 management layer. When defining an RBAC model, the following conventions are useful: * S = Subject = A person or automated agent * R = Role = Job function or title which defines an authority level * P = Permissions = An approval of a mode of access to a resource *Generic Requirements* - Provide a usable (in terms of complexity), yet comprehensive base model - Allow to customizations/extension of the default scheme (i.e custom permissions, permission granularity) *Specific Requirements* - [...]* * *Advanced Use Cases /  Considerations* - Context based access control: i.e. Taking the connection into consideratin - Support for role hierarchies: i.e. structuring roles to reflect an organizations lines of authority and responsibility - Role constraints: i.e. mutual exclusive roles - RBAC to manage RBAC itself structuring roles to re  ect an organiza   tion  s lines of authority and resp onsibility</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ManagementLayer RBAC</header>
    <body>Role based access control to the AS7 management layer. When defining an RBAC model, the following conventions are useful: * S = Subject = A person or automated agent * R = Role = Job function or title which defines an authority level * P = Permissions = An approval of a mode of access to a resource *Generic Requirements* - Provide a usable (in terms of complexity), yet comprehensive base model - Provide a set of out-of-the-box roles &amp; permissons that reflect common authorization requirements - Allow to customizations/extension of the default scheme (i.e custom permissions, permission granularity) *Specific Requirements* - [...]* * *Advanced Use Cases /  Considerations* - Context based access control: i.e. Taking the connection into consideratin - Support for role hierarchies: i.e. structuring roles to reflect an organizations lines of authority and responsibility - Role constraints: i.e. mutual exclusive roles - RBAC to manage RBAC itself structuring roles to re  ect an organiza   tion  s lines of authority and resp onsibility</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ManagementLayer RBAC</header>
    <body>Role based access control to the AS7 management layer. When defining an RBAC model, the following conventions are useful: * S = Subject = A person or automated agent * R = Role = Job function or title which defines an authority level * P = Permissions = An approval of a mode of access to a resource *Generic Requirements* - Provide a usable (in terms of complexity), yet comprehensive base model - Provide a set of out-of-the-box roles &amp; permissons that reflect common authorization requirements - Allow to customizations/extension of the default scheme (i.e custom permissions, permission granularity) *Specific Requirements* - Provide an authorization scheme that distinguishes structural &amp; behavioural permission: *Advanced Use Cases /  Considerations* - Context based access control: i.e. Taking the connection into consideratin - Support for role hierarchies: i.e. structuring roles to reflect an organizations lines of authority and responsibility - Role constraints: i.e. mutual exclusive roles - RBAC to manage RBAC itself structuring roles to re  ect an organiza   tion  s lines of authority and resp onsibility</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ManagementLayer RBAC</header>
    <body>Role based access control to the AS7 management layer. When defining an RBAC model, the following conventions are useful: * S= Subject = A person or automated agent * R = Role = Job function or title which defines an authority level * P = Permissions = An approval of a mode of access to a resource * SE = Session = A mapping involving S, R and/or P *Generic Requirements* * Provide a usable (in terms of complexity), yet comprehensive base model * Provide a set of out-of-the-box roles &amp; permissons that reflect common authorization requirements * Allow to customizations/extension of the default scheme (i.e custom permissions, permission granularity) * Provide the management operations to retrieve session information (i.e. roles assigned, permissions granted, etc) *Specific Requirements* +Provide an authorization scheme that distinguishes structural &amp; behavioural permission+: * structural permissions: control access to resources (i.e. restrict visibility of server groups) * behavioural permission: control execution on resources (i.e. lock down certain operations, distinguish read &amp; read/write access) *Advanced Use Cases / Considerations* - Context based access control: i.e. Taking the connection into consideratin - Support for role hierarchies: i.e. structuring roles to reflect an organizations lines of authority and responsibility - Role constraints: i.e. mutual exclusive roles - RBAC to manage RBAC itself structuring roles to re  ect an organiza   tion  s lines of authority and resp onsibility</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: Management of	IronJacamar</header>
    <body>Hi Jesper, I was looking a way to get the list of deployed resource adapters and it's requried config properties but unable to do so. Server is Jboss 7.1.1.Final Can you provide me some sample or help, that how can i acheive this ? thanks, Nabeel Ahmed</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - RBAC Usecases</header>
    <body>Some use cases to proof the concepts put into place.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ManagementLayer RBAC</header>
    <body>Role based access control to the AS7 management layer. When defining an RBAC model, the following conventions are useful: * S= Subject = A person or automated agent * R = Role = Job function or title which defines an authority level * P = Permissions = An approval of a mode of access to a resource * SE = Session = A mapping involving S, R and/or P *Generic Requirements* * Provide a usable (in terms of complexity), yet comprehensive base model * Provide a set of out-of-the-box roles &amp; permissons that reflect common authorization requirements * Allow to customizations/extension of the default scheme (i.e custom permissions, permission granularity) * Provide the management operations to retrieve session information (i.e. roles assigned, permissions granted, etc) * Clearly distinguish security exceptions from other operation errors (i.e. custom response headers) *Specific Requirements* +Provide an authorization scheme that distinguishes structural &amp; behavioural permission+: * structural permissions: control access to resources (i.e. restrict visibility of server groups) * behavioural permission: control execution on resources (i.e. lock down certain operations, distinguish read &amp; read/write access) *Use cases* See  https://community.jboss.org/docs/DOC-47856 RBACUsecases* * *Advanced Topics* - Context based access control: i.e. Taking the connection into consideratin - Support for role hierarchies: i.e. structuring roles to reflect an organizations lines of authority and responsibility - Role constraints: i.e. mutual exclusive roles - RBAC to manage RBAC itself structuring roles to re  ect an organiza   tion  s lines of authority and resp onsibility</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ManagementLayer RBAC</header>
    <body>Role based access control to the AS7 management layer. When defining an RBAC model, the following conventions are useful: * S= Subject = A person or automated agent * R = Role = Job function or title which defines an authority level * P = Permissions = An approval of a mode of access to a resource * SE = Session = A mapping involving S, R and/or P *Generic Requirements* * Provide a usable (in terms of complexity), yet comprehensive base model * Provide a set of out-of-the-box roles &amp; permissons that reflect common authorization requirements * Allow to customizations/extension of the default scheme (i.e custom permissions, permission granularity) * Provide the management operations to retrieve session information (i.e. roles assigned, permissions granted, etc) * Clearly distinguish security exceptions from other operation errors (i.e. custom response headers) * Mappability with existing authorisation schemes (i.e. JON) *Specific Requirements* +Provide an authorization scheme that distinguishes structural &amp; behavioural permission+: * structural permissions: control access to resources (i.e. restrict visibility of server groups) * behavioural permission: control execution on resources (i.e. lock down certain operations, distinguish read &amp; read/write access) *Use cases* See  https://community.jboss.org/docs/DOC-47856 RBACUsecases* * *Advanced Topics* - Context based access control: i.e. Taking the connection into consideratin - Support for role hierarchies: i.e. structuring roles to reflect an organizations lines of authority and responsibility - Role constraints: i.e. mutual exclusive roles - RBAC to manage RBAC itself structuring roles to re  ect an organiza   tion  s lines of authority and resp onsibility</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - RBAC Usecases</header>
    <body>Some use cases to proof the concepts put into place. *Restricting access to server groups* +Configuration+: Server groups: "production", "staging". roles: "admin", "developer" +Goal+: Restrict access to the production group to the "admin" role in to prevent messing with the production system +Implications+: Server groups are part of the model but also a logical concept. I.e. restricting access to a group does imply preventing access to conceptually related entities like servers, deployments, etc. *Support clients &amp; tools that provide their own security model* +Configuration+: See  https://access.redhat.com/knowledge/docs/en-US/JBoss_Operations_Network/3.1/html-single/Admin_Initial_Setup_Inventory_Groups_and_Users/index.html#roles JON User Guide +Goal+: Allow interaction with systems that provide their own authorization scheme +Implications+: Systems like JON, that provide their own scheme currently can only operate the super user level</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How to handle concurrent users in JBPM at same level</header>
    <body>Hi, I am facing *‘couldn't signal token : token has ended’ exception* When the users at the same level approving the same record at the same time. I am looking for a solution where JBPM should now allow users at the same level to access same record. Thanks for your suppport in advance. Regards, MotteRobo</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: Management of	IronJacamar</header>
    <body>You need to use the DMR API - see the AS7 user forum and AS7 documentation for examples.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: Management of	IronJacamar</header>
    <body>Hi Jesper, Actually i have read the deployed resource adapters using DMR API, but it only provide me the names of archive, runtime names and status or we can read the resource adapters and their connection definitions from standalone.xml file. What i want is, to get the config properties from *-ra.xml file available in the *.rar file even if standalone.xml file did not have any connection definition defined. Just deployed the rar file in deployments Is there a way to get that? regards, Nabeel Ahmed</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: Management of	IronJacamar</header>
    <body>You will have to hook into connector/src/main/java/org/jboss/as/connector/services/mdr/AS7MetadataRepository.java and expose that in DMR. It would be a nice feature, so feel free to hack on it</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: Management of	IronJacamar</header>
    <body>HI Jesper, I am not able to get the instance of AS7MetadataRepository.java. What will be the code sample to get the instance and how to make connection with Jboss ? My goal is to make standalone application to access the deployed resource adapters, actually i want to load the config properities from *-ra.xml file regards, Nabeel Ahmed</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Why complete the human task with contentdata, however the process variable is null</header>
    <body>Hi! I'm using the local task service with jBPM5.3 version. Question is when I complete the task with contentdata with the following code, the process variable is null. Through kcontext.getVariable("quantity"), I get null. I'm confused about the relationship between the process variables and contentdata.         Could anyone help me, please? Any help is appreciated. Thank you! Best Regards</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Why complete the human task with contentdata, however the process variable is null</header>
    <body>Hi! I tried to remove all parameter mappings and result mappings in the bpmn file. And it worked. How could it be? I'm confused about the mapping relationship between the process variables and contentdata. Could anyone help me, please? Any help is appreciated! Best Regards</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Sending a message	through Scheduler</header>
    <body>Hi, I am quite new to ESB and I would like to send messages from a service through simple scheduler. I have a class that has method which sends and ESB aware message: +public void sendMessage(String message) throws Exception+ +      // Create the delivery adapter for the target service (cache it)+ +      System.setProperty("javax.xml.registry.ConnectionFactoryClass",+ +            "org.apache.ws.scout.registry.ConnectionFactoryImpl");+ +      // Create the delivery adapter for the target service (cache it)+ +      ServiceInvoker deliveryAdapter = new ServiceInvoker("FirstServiceESB",+ +            "SimpleListener");+ +      // Create and populate the request message...+ +      Message requestMessage = MessageFactory.getInstance().getMessage(+ +            MessageType.JBOSS_XML);+ +      requestMessage.getBody().add(message);+ +      // Deliver the request message synchronously - timeout after 20+ +      // seconds...+ +      deliveryAdapter.deliverAsync(requestMessage);+ I found only very vague tutorials on how to implement Scheduler (I mean in jboss-esb.xml file). How do I trigger this method? Can you show me and example jboss-esb.xml configuration taht would call *sendMessage()* function multiple times?+ +</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: Sending a message	through Scheduler</header>
    <body>Martin, I'd take a look at the schedule-provider ( http://docs.jboss.org/jbossesb/docs/4.11/manuals/html/Programmers_Guide/index.html#d0e1801 http://docs.jboss.org/jbossesb/docs/4.11/manuals/html/Programmers_Guide/index.html#d0e1801).       There's a few quickstarts that make use of it (helloworld_ftp_action / transform_EDI2XML_Groovy_XSL) if you want to try and use their jboss-esb.xml as an example.   --Tom</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: Sending a message	through Scheduler</header>
    <body>Thanks, I got it working. It always takes me awfuly long since all the tutorials I found are very vague...</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: How to download a file from esb service ?</header>
    <body>Ju, There's a number of ways to do this, depending on whether you need a synchronous response or not.       Take a look at the HttpGateway ( https://community.jboss.org/docs/DOC-14036#Synchronous_Responses https://community.jboss.org/wiki/HTTPGateway#Synchronous_Responses). What's the use case here?    Is the user invoking something through http, which enters the bus, and then you want the response as a downloadable file?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Why complete the human task with contentdata, however the process variable is null</header>
    <body>Have you mapped the task output with your process variable?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Why complete the human task with contentdata, however the process variable is null</header>
    <body>   Thomas, Thank you for your kind response. I've mapped like this. https://community.jboss.org/servlet/JiveServlet/showImage/2-811521-20715/result+mapping.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/2-811521-20715/450-67/result+mapping.png    Best Regards.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Why complete the human task with contentdata, however the process variable is null</header>
    <body>Check this out Krisv, may be of some help. https://community.jboss.org/thread/228084 https://community.jboss.org/thread/228084 Regards. ﻿</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Setting EPR to a	message</header>
    <body>Hi, this may be a silly question but I got stuck with a very basic thing. I am sending an esb-aware message and I would like to add an EPR to its header like: But how do I find what EPR belongs to the sending service? Is there any function that returns it? I was looking in the documentation but it doesnt seem that a service comes provided with that kind of function (like this.getEPR() or something like that), Thanks for any tips...</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Re: Disable wsdl	publication</header>
    <body>It's possible to use JBossWeb's  https://access.redhat.com/site/solutions/189423 RewriteValve to have JBossWeb intercept WSDL requests and return an HTTP 403 forbidden response before the request is passed on to JBossWS. An example rewrite valve's rewrite pattern to disable access to "?wsdl" pages by providing a 403 forbidden access response: &lt;subsystem xmlns="urn:jboss:domain:web:1.2" default-virtual-server="default-host" native="false"&gt;     &lt;connector name="http" protocol="HTTP/1.1" scheme="http" socket-binding="http"/&gt;     &lt;virtual-server name="default-host" enable-welcome-root="true"&gt;         &lt;alias name="localhost"/&gt;         &lt;alias name="example.com"/&gt; *        &lt;rewrite pattern="(.*)" substitution="-" flags="F"&gt;* *        &lt;/rewrite&gt;*     &lt;/virtual-server&gt; &lt;/subsystem&gt; ﻿</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Logging Id's</header>
    <body>Logging id ranges for JBoss AS7 i18n message interfaces. ||  %1,3% *Status* || | C | = | Complete | | I | = | In Progress | | P | = | Merged, but not complete | | W | = | Waiting Merge | || *Range* || *Subsystem * || *Status * || | *10100 - 10199* | *Transaction* | C | | *10200 - 10399 * | *Clustering (https://community.jboss.org/docs/DOC-48622)** * | C | | *10400 - 10499* | *Connector** * | C | | *10500 - 10599* | *CLI (not applicable) * | N/A | | *10600 - 10699* | *Controller Client* | C | | *10700 - 10799*, *18500 - 18699, 18800-18999* | *CMP* | C | | *10800 - 10899* | *Host Controller (domain packages)* | C | | *10900 - 10999, 16500 - 16599* | *Host Controller (host packages)* | C | | *11000 - 11099, 16700 - 16799* | *EE* | C | | *11100 - 11199* | *Embedded* | C | | *11200 - 11299* | *JAXRS* | C | | *11300 - 11399* | *JMX* | C | | *11400 - 11499* | *JPA* | C | | *11500 - 11599* | *Logging* | C | | *11600 - 11699* | *Messaging* | C | | *11700 - 11799* | *mod_cluster* | C | | *11800 - 11899* | *Naming* | C | | *11900 - 11999* | *OSGi* | C | | *12000 - 12099, 16600 - 16699* | *Process Controller* | C | | *12100 - 12199* | *Protocol* | C | | *12200 - 12299* | *Management Client Content* | C | | *12300 - 12399* | *Platform MBeans* | C | | *12400 - 12499* | *Threads* | C | | *12500 - 12599* | *PicketLink* | I | | *12600 - 12699* | *JSF (proposed)* | | | *12700 - 13100* | *IIOP Common (proposed)* | | |  *13100 - 13199* | *JDR* | C | | *13200 - 13299* | *AppClient* | C | | *13300 - 13399* | **Security* * | C | | *13400 - 13499, 14600 - 14899* | *Controller* | C | | available block(s) | | | | *14000 - 14099* | *JAXR* | W | | *14100 - 14599* | *Ejb3* | P | | **13400 - 13499, 14600 - 14899** | *Controller* | C | | *14900 - 14999* | *Deployment Repository* | C | | *15000 - 15099* | *Deployment Scanner* | C | | *15100 - 15199* | *Domain Management HTTP Interface* | C | | *15200 - 15299* | *Deployment Management* | C | | *15300 - 15399* | *Network* | C | | *15400 - 15499* | *Mail* | C | | *15500 - 15699* | *Web Services (AS subsystem)* | C | | *15700 - 15999*, *18700 - 18799* | *Server* | C | | *1**6000 - 16099* | *Weld* | C | | *16100 - 16199* | *EE Deployment* | C | | *16200 - 16299* | *Configadmin* | C | | *16300 - 16499* | *Jacorb* | C | | *10900 - 10999, 16500 - 16599* | *Host Controller (host packages)* | C | | *12000 - 12099, 16600 - 16699* | *Process Controller* | C | | *11000 - 11099, 16700 - 16799* | *EE* | C | | *16800 - 16899* | *Patching (Library)* | C | | *16900 - 16999* | *Patching (Server)* | | | *17000 - 17099* | *POJO* | C | | *17100 - 17199* | *Remoting* | W | | *17200 - 17299* | *SAR* | W | | *17300 - 17699* | *Web/Undertow (reserved)* | I | | available block(s) | | | | *18000 - 18399* | *Web* | C | | *18400 - 18499* | *Xts* | C | | *15700 - 15999, 18700 - 18799* | *Server* | C | | available block(s) | | | | *19000-19999* | *JSR-77* | I | | *20000-20199* | *Camel* | I | | *20200-20299* | *JipiJapa* | I | | *20300-20399* | *Provision* | |</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JMX Development] - Deploying a .ear in domain mode (vs standalone) using remoting-jmx</header>
    <body>Hi, In JBoss AS7, i'm using this: service:jmx:remoting-jmx://my_host_name:port to connect to either a standalone mode server or a domain mode server. In standalone mode: I can retreive the MBean jboss.as:deployment=myEar.ear, and then able to deploy, redeploy, undeploy or remove myEar.ear This works great ! However, In domain mode: I have 3-4 ears deployed on this server, belonging to different server groups. There is only a few MBeans (not interesting for deploying) availables, and mainly, no jboss.as:deployment=myEar.ear available, or any MBeans related to server-groups or cluster etc... I'm thinking that there must be a xml configuration file (domain.xml,host.xml,....) somewhere to offer the wanted MBeans ? Why standalone mode has the jboss.as:deployment MBean and not the domain mode ? JBoss AS7 is installed on Linux 2.6.32-279.5.2.el6.x86_64 Any idea ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JMX Development] - Re: Deploying a .ear in domain mode (vs standalone) using remoting-jmx</header>
    <body>Hi,      The whole concept of Domain mode is to have a centeralized controll over your whole domain.... Like deployment/Undeployment... etc. Everything should be achevable through Domain Controller  (Rather than contacting individual JBos Servers which are part of domain)      In Domain mode we have a concept of "server-groups"   (which are based on some profiles like ha, full-ha, full, default...etc).    We Target applications to "server-groups"   (Not to individual servers in Domain mode).   So definitely you will not see any such MBean on Individual Server which you can use to deploy an application on a JBoss instance which is running as part of Domain mode.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Javassist Development] - Probleme avec le	Hotswap de Javassist</header>
    <body>                              // TODO Auto-generated catch block                               // TODO Auto-generated catch block         File newfile = new File("bin logging                               // TODO Auto-generated catch block                               // TODO Auto-generated catch block                               // TODO Auto-generated catch block                               // TODO Auto-generated catch block et voila ce que sa donne dans eclipse: Listening for transport dt_socket at address: 8000 hello world ** reload a logging version HelloWorld Exception in thread "HotSwap" java.lang.NoClassDefFoundError: class names do not match           at com.sun.tools.jdi.VirtualMachineImpl.redefineClasses(VirtualMachineImpl.java:331)           at javassist.util.HotSwapper.hotswap(HotSwapper.java:250)           at javassist.util.HotSwapper$1.run(HotSwapper.java:224) Exception in thread "main" java.lang.RuntimeException: failed to reload: HelloWorld           at javassist.util.HotSwapper.reload2(HotSwapper.java:204)           at javassist.util.HotSwapper.reload(HotSwapper.java:160)           at Test.main(Test.java:38) Sachant que Hello world a le code suivant : Pourquoi ces exceptions sont-ils apparus ??? Merci.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Pipeline interceptor	triggers multip</header>
    <body>I am working on a project that "sniffs" (intercepts) all messages that are being send through ESB. I use JBoss AS 6 with ESB 4.11. I am sending both esb-aware and JMS messages and everything works, but it seems that my interceptor intercepts every message mulptiple times. At the moment, the Interceptor class just prints the concent + some other stuff to console. When I send a message, it displays the sent message multiple times (3 times to be more specific). So my question is: *Why?*. Is this normal behavior? I have no clue where the mistake could be. I think that is could be one of these two options: 1) I have some error in my sending class, but I dont think thats the issue, since I use simply one serviceInvoker and my code is very similar to sample quickstarts. Standard output from gateway listeners also indicate that message is sent only ones... 2) Pipeline Interceptor intercepts the message multiple times, every time at a different stage of the pipeline. But how to test if this is the issue? My properties file section for interceptors looks like this: &lt;properties name="interceptors"&gt;     &lt;property name="org.jboss.soa.esb.pipeline.failure.interceptors" value="interceptor.Interceptor"/&gt;       &lt;property name="org.jboss.soa.esb.pipeline.instantiate.interceptors" value="interceptor.Interceptor"/&gt;     &lt;property name="org.jboss.soa.esb.pipeline.start.interceptors" value="interceptor.Interceptor"/&gt;     &lt;property name="org.jboss.soa.esb.pipeline.end.interceptors" value="interceptor.Interceptor"/&gt; &lt;/properties&gt; I tried to delete some of the properties but then it either doesnt intercept anything at all or it triggers multiple times! Thanks for any tips!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - JTA 1.2	Implementation Work</header>
    <body>h1. WARNING: THIS IS NOT YET READY FOR REVIEW. This document discusses the outstanding issues and design decisions relating to our implementation of the JTA 1.2 specification. The JTA 1.2 Spec and JavaDoc can be obtained from  https://java.net/projects/jta-spec/sources/spec-source-repository/show here. The two major changes are @Transactional (EJB-like transaction annotations for managed beans) and @TransactionScoped (A CDI scope tied to the lifecycle of the active transaction). Each of these is covered in it's own section bellow. There are some smaller changes too, for which it is yet to be determinned if they require any code changes. These are all discussed in the "Other Changes" section. h3. @TransactionScoped Implementing a new context in CDI is relativly straight-forward. You just need to implement the javax.enterprise.context.spi.Context interface. Here's the pseudo code for this impl:         private TransactionalBeanStore //Maintains a map of transaction to asociated beans. Garbage collection method is open for discussion (see later)                       bean = (PassivationCapabale) contextual                return bean                create new bean                add bean to TransactionalBeanStore                return bean                    return null       h4. Design Decisions h6. Do we Implement from scratch or extend a Weld Abstract Context? Weld implements many different Contexts (SessionScoped, ApplicationScoped, RequestScoped, etc) and as a result many of the common implementation details have been abstracted into a largish class heirachy, making the actual implementations of the specific Contexts much simpler. We may be able to extend one of these Abstract Contexts. However, it's not clear to me exactly which one should be extended. Also, this would place a dependency on Weld, which I'm not sure is a good idea. I think it would be better to simply depend on the CDI API, so that our implemntatin remains portable. Also the implementation of the TransactionContext is quite simple, so we may be over-engineering the solution by extending a Weld Context. h6. How are the out-of-scope beans garbage-collected? The 'isActive' method ensures that the context is recognised as inactive, outside of an active transaction. However, the TransactionalBeanStore will collect garbage over time and so needs clearing at some point after the Context is no longer active. These are the current options that I think we have: * AfterCompletion hook.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>I noticed that the jsf-injection jar in the myfaces package (7.2.0.Alpha1-SNAPSHOT) no longer works with 7.2.0.Final.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: Pipeline interceptor triggers multiple times</header>
    <body>Hi Martin, I believe you are running into : https://issues.jboss.org/browse/JBESB-3876 https://issues.jboss.org/browse/JBESB-3876 If you upgrade to JBoss ESB 4.12, this problem should be fixed.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>We already delist (call end) if the transaction is completed and the container hasn't done the delist already.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>Thanks Mark.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>What I said was only partially correct. We call end on suspended RMs if delist hasn't been called. Having this happen for all RMs is easy, but we'd have to be aware of interface changes and semantic changes, since it is not backwardly compatible *unless* we have this as a configurable option. Worth considering though, since JTA 1.2 adoption will take a while.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>What should the default be for the configurable 3.3.1 delist? I would expect out of the box that the JTA 1.2 behaviour would apply, do you agree?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>Mark, Thanks, I'll have a think about this and discuss further with you and the rest of the team.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>You should implement the context from scratch. Weld has a clearly (and carefully) defined split between API/SPI and impl. If a class is in the weld-api or weld-spi, you can be sure that we follow the rules around deprecation and api stability, and do not change these apis from one micro release to another, and deprecate between minors etc. If it's in weld-impl, you can expect it to change without warning or recourse! You should be implementing AlterableContext as you are targeting CDI 1.1. This gives you a destroy callback, which may be useful for cleanup. Ask Stuart Douglas about activation. I would write @Transactional from scratch. Use @Priority to activate by default. The JTA spec should tell you what value to use.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>Thanks Pete, I've applied your comments to the document.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>RE: h6. Where should I place the Arquillian tests? More generally, couldn't the interceptors go in a new module: ArjunaJTA/cdi This is because the raw jta/ module now has some dependencies that may not make sense in a standalone scenario (but would be acceptable in narayana-jta uber jar). It still a good question about when you can actually execute the test phase as you need the container to have its version of Narayana replaced, currently we have to do these tests in scripts/hudson/narayana.sh after we have built the AS with Narayana in it. Maybe these cdi integration tests  should be moved to qa/ somewhere (on a related note, perhaps the XTS tests should exist under there too)? The AS for example has a "testsuite" hierarchy for integration tests. Tom</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>h3. Re: h3. How are the out-of-scope beans garbage-collected? I would say that the afterCompletion seems to be the most intuitive solution rather than a new SPI. As you say, this should be compatible with the wording around not being able to rely on the context at this point.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>Tom, I agree, I've updated the document.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>Tom, Agreed. I've updated the doc. Same applies for the Context too. I'm not sure what moving them to QA would buy us? The reason why AS has them there is that they can have maven run them after the 'build' module has been built and thus the AS is available. We still have to complete a Narayana and WildFly build before we can run our integration tests. So we would still need to drive these tests from the script.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>h3. Re: What's the best way to enable this feature in WildFly? The Context needs to be enabled via a CDI Extension. I'm currently enabling this via a configuration file (javax.enterprise.inject.spi.Extension) placed in the META-INF of the application. I think this is the way to do this for applications that run in a simple CDI container. However, we can remove this burden for applications deployed to WildFly. It's quite simple to enable this Extension in a DeploymentProcessor of the transactions SubSystem. However, we would need to either, enable it for all deployments, or just those that use @TransactionScoped (I don't yet know how to detect this). Does enabling the extension when an application does not use it add overhead to the application? Maybe provide a way to disable it rather than enable it if so?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>h6. Re: When something goes wrong internally to the implementation of the TransactionInterceptor or TransactionalContext, what RuntimeException should I throw? It doesn't seem to be specified, so I'm thinking I can just throw some Narayana specific RuntimeException. Can you provide an example, at the moment I am thinking javax.transaction.TransactionalException (from 3.7: Transactional Annotation)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>Tom, I'm not sure. I'll check with Stuart Douglas when I ask him about activation.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - How to get Proxy Name	from invm EPR</header>
    <body>I am trying to get proxyname from  ESB message properties.  For  http gateway proxies  there is a property called service-name  but for  proxies generated  through EBWS  the property service-name is not present. The only property I can get  is  invm epr from message header which I can use to correlate to  proxyname.  If somebody has any code snippet to get the proxyname through juddi query or db query please let me know my jboss soa is 5.0  the later versions   has a new property for proxyname.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: How to get Proxy	Name from invm EPR</header>
    <body>I got it  by looking into  contract.web/index.jsp</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>Tom, Yes, I think I can use TransactionalException in the transaction interceptors. However, I was more thinking about what to do in the TransactionalContext. Here's an example: The TransactionalContext needs to lookup the transaction manager. If this fails, a javax.transaction.SystemException is thrown. This has to be handled (it extends Exception) and the Context interface does not declare that any checked exceptions can be thrown from its methods. Therefore I need to wrap the javax.transaction.SystemException in some unchecked transaction. TransactionalException is the only RuntimeException in the JTA 1.2 spec, so I'll just use whatever general unchecked exception we use in the JTA 1.1 implementation.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Audit Logging Design	Notes</header>
    <body>Design notes for work on https://issues.jboss.org/browse/WFLY-456 (formerly  https://issues.jboss.org/browse/AS7-444 https://issues.jboss.org/browse/AS7-444). My current development topic branch for this is  https://github.com/kabir/wildfly/tree/WFLY-456-audit-log https://github.com/kabir/wildfly/tree/WFLY-456-audit-log (More current than  https://github.com/bstansberry/jboss-as/tree/AS7-444 https://github.com/bstansberry/jboss-as/tree/AS7-444, note that these are personal branches; I make no guarantees not to change its commit history.)  This branch is based on work previously done by John Bailey. Design notes: 1) Processing location in OperationContext a) when done b) when decision to not proceed is made in OperationContext 2) Log record format: a) date b) read-only? c) boot? d) (if boot) version (as string???) e) rollback? f) userid (TODO get this somehow) g) uuid (for domain ops only, to track across processes) h) isServer? i) primary (domain or server) model hash j) if (!isServer) secondary (host) model hash k) overall hash l) num operations m) operations (one at a time) n) length of a-&gt;j (scan from end to last boot during validation; alternative is to write the length first and scan from beginning to last boot) 3) Index record format: a) overall hash 4) Mgmt operations a) truncate (back to last boot) i) don't discard previous; just write under a different file name b) read log (params -- from (default 0); batch-size (default 20; -1 means all)) c) validate log d) config changes 5) Validation: a) compare persisted model hash to current model b) scan back through log to last config-file-modified boot or version-change boot. We stop at version-change boot to avoid spurious validation problems resulting from changes in model construction across versions c) recreate by re-running ops -- validation problems a) need to verify model hash at each stage -- special controller that ignores all runtime ops   i) problem -- how to recreate domain ops involving remote slaves that don't exist?   ii) problem -- ops with attachments -- attachments won't exist   iii) this "special controller" could end up duplicating a lot of logic just for validation b) reads and runtime ops cannot be verified against model; it can only be confirmed that their hash is consistent with subsequent hashes in the log. Tamper resistant as modification would require modifying all subsequent log entries, but not tamper proof as this could be done. 6) Domain mode a) tracking requests from master to slaves apply a uuid to requests -- as a header include uuid in log record b) detecting host.xml config changes at boot problem -- can't detect host.xml config changes at boot, as model changes may be due to domain.xml stuff coming from the master so, independent domain and host logging but, what about non-model affecting ops? log twice? c) domain logging on slaves? only if --backup-dc is set? -- no simpler to just log d) remote-slave-only logging on master? yes, to maintain a complete record of what was done 7) Non-model-affecting ops a) re-calculating the model hash for all such ops is too expensive b) store the hash(es) in the ModelController along with the model c) provide the hash along with the model to OperationContext d) when model is updated recalc hashes 8) Config a) &lt;audit-log&gt; element b) part of &lt;management&gt; section c) resource is /core-service=audit-log d) attributes i) path (NO -- we need to know the location when first logging, before we have processed ops to set it) ii) relative-to (NO -- we need to know the location when first logging, before we have processed ops to set it) iii) log-read-only? iv) daily-rolling??? (hassle; tempting to defer to later release but it's probably necessary immediately) 9) Other issues a) disable logging overhead for dev scenarios   i) to disable it during initial boot (until whatever config element that turns it on/off is read) -- maintain log data in memory and only write on last boot op b) parallel boot handlers should not log c) fluctuating model hashes   i) if op took the controller lock, that lock ensures proper ordering of model hashes   ii) if op does not take controller lock (reads) earlier model hashes can intermix with later -- validation needs to account for this *Suggested configuration* Only relevant elements to audit logging have been included in the following examples. *+jboss-as-config (i.e. standlone.xml and host.xml)+ * This defines a set of audit-log-appenders which are referenced by the audit-log element. The appenders are responsible for encryption, if needed. Currently encryption/tamper detection is not     &lt;xs:complexType name="domain-managementType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Domain-wide default configuration settings for the management of standalone servers and a Host Controller.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:sequence&gt;             &lt;xs:element name="security-realms" minOccurs="0"&gt;                 &lt;xs:complexType&gt;                     &lt;xs:sequence&gt;                         &lt;xs:element name="security-realm" type="security-realmType" minOccurs="1"                                     maxOccurs="unbounded"/&gt;                     &lt;/xs:sequence&gt;                 &lt;/xs:complexType&gt;             &lt;/xs:element&gt;             &lt;xs:element name="outbound-connections" minOccurs="0"&gt;                 &lt;xs:complexType&gt;                     &lt;xs:sequence&gt;                       &lt;xs:element name="ldap" type="ldapType" minOccurs="1" /&gt; &lt;!-- TODO minOccurs only while ldap is only supported connection. --&gt;                     &lt;/xs:sequence&gt;                 &lt;/xs:complexType&gt;             &lt;/xs:element&gt;             &lt;xs:sequence minOccurs="0"&gt;                &lt;xs:element name="audit-log-appenders" type="audit-log-appendersType"/&gt;                &lt;xs:element name="audit-log" type="audit-logType"/&gt;             &lt;/xs:sequence&gt;         &lt;/xs:sequence&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appendersType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging appenders.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:all&gt;             &lt;xs:element name="simple-appender" type="simple-audit-log-appenderType" minOccurs="0"/&gt;             &lt;xs:element name="syslog-appender" type="syslog-audit-log-appenderType" minOccurs="0"/&gt;         &lt;/xs:all&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-logType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging configuration.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:all&gt;             &lt;xs:element name="simple-appender" type="audit-log-appender-refType" minOccurs="0"&gt;                             &lt;xs:annotation&gt;                                 &lt;xs:documentation&gt;                                     A reference to an appender defined in the audit-log-appenders section                                 &lt;/xs:documentation&gt;                             &lt;/xs:annotation&gt;             &lt;/xs:element&gt;             &lt;xs:element name="syslog-appender" type="audit-log-appender-refType" minOccurs="0"&gt;               &lt;xs:annotation&gt;                   &lt;xs:documentation&gt;                       A reference to an appender defined in the audit-log-appenders section                   &lt;/xs:documentation&gt;               &lt;/xs:annotation&gt;             &lt;/xs:element&gt;         &lt;/xs:all&gt;         &lt;xs:attribute name="log-read-only" type="xs:boolean" default="false"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether operations that do not modify the configuration or any runtime services should be logged.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="enabled" type="xs:boolean" default="true"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether audit logging is enabled.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="simple-audit-log-appenderType"&gt;          &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                Configuration of a simple file appender for the audit log. This writes to a local file without any encryption or tamper detection applied to the file.             &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:attribute name="path" type="xs:string" use="required"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The path of the audit log.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="relative-to" use="optional" type="xs:string"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The name of another previously named path, or of one of the                     standard paths provided by the system. If 'relative-to' is                     provided, the value of the 'path' attribute is treated as                     relative to the path specified by this attribute.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="syslog-audit-log-appenderType"&gt;          &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                Configuration of a syslog file appender for the audit log. This writes to a local file without any encryption or tamper detection applied to the file.             &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:sequence&gt;             &lt;xs:element name="truststore" type="keyStoreType" minOccurs="0"&gt;                 &lt;xs:annotation&gt;                     &lt;xs:documentation&gt;                         TODO - can we define more than one truststore in java? The normal way seems to be to set -Djavax.net.ssl.trustStore, and there is                         already one in authenticationType. It looks like there might be a way, although we would need to extend syslog4j to be able to use SSLContext.                         Configuration of a keystore to use to create a trust manager to verify clients.                     &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;             &lt;/xs:element&gt;             &lt;xs:element name="client-certificate-authentication" type="keyStoreType" minOccurs="0"&gt;                 &lt;xs:annotation&gt;                     &lt;xs:documentation&gt;                         TODO - Look into if it is possible to extend syslog4j to use SSLContext.                          Configuration of a keystore containing a client certificate and private key, e.g. in PKCS12 format.                     &lt;/xs:documentation&gt;             &lt;/xs:element&gt;             &lt;!-- TODO other configuration, such as retries etc. --&gt;          &lt;/xs:sequence&gt;          &lt;xs:attribute name="protocol" use="required"&gt;             &lt;xs:simpleType&gt;                &lt;xs:restriction base="xs:string"&gt;                   &lt;xs:enumeration value="udp"/&gt;                   &lt;xs:enumeration value="tcp"/&gt;                   &lt;xs:enumeration value="tls"/&gt;                &lt;/xs:restriction&gt;             &lt;/xs:simpleType&gt;          &lt;/xs:attribute&gt;          &lt;xs:attribute name="host" default="localhost"/&gt;          &lt;xs:attribute name="port" default="514"/&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appender-refType"&gt;                 &lt;xs:annotation&gt;                   &lt;xs:documentation&gt;                      A reference to an audit-log-appender                   &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;                 &lt;xs:attribute name="appender" type="xs:string" use="required"/&gt;     &lt;/xs:complexType&gt; +*jboss-as-jmx (jmx subsystem)*+ References the appenders set up in the audit-log-appenders section. This allows for both shared and separate audit logs for core management operations and jmx operations.     &lt;xs:complexType name="subsystem"&gt;       &lt;xs:sequence&gt;          &lt;xs:element name="expose-resolved-model" type="resolvedModelType" minOccurs="0" maxOccurs="1"/&gt;          &lt;xs:element name="expose-expression-model" type="expressionModelType" minOccurs="0" maxOccurs="1"/&gt;          &lt;xs:element name="remoting-connector" type="remotingConnectorRefType" minOccurs="0"/&gt;          &lt;xs:element name="audit-log" type="audit-logType" minOccurs="0"/&gt;       &lt;/xs:sequence&gt;     &lt;/xs:complexType&gt;        &lt;xs:complexType name="audit-logType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging configuration.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:all&gt;             &lt;xs:element name="simple-appender" type="audit-log-appender-refType" minOccurs="0"&gt;               &lt;xs:annotation&gt;                   &lt;xs:documentation&gt;                       A reference to an appender defined in the audit-log-appenders section of standalone.xml or host.xml                   &lt;/xs:documentation&gt;               &lt;/xs:annotation&gt;             &lt;/xs:element&gt;             &lt;xs:element name="syslog-appender" type="audit-log-appender-refType" minOccurs="0"&gt;               &lt;xs:annotation&gt;                   &lt;xs:documentation&gt;                       A reference to an appender defined in the audit-log-appenders section of standalone.xml or host.xml                   &lt;/xs:documentation&gt;               &lt;/xs:annotation&gt;             &lt;/xs:element&gt;         &lt;/xs:all&gt;         &lt;xs:attribute name="log-read-only" type="xs:boolean" default="false"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether operations that do not modify the configuration or any runtime services should be logged.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="enabled" type="xs:boolean" default="true"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether audit logging is enabled.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appender-refType"&gt;          &lt;xs:annotation&gt;            &lt;xs:documentation&gt;               A reference to an audit-log-appender            &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:attribute name="appender" type="xs:string" use="required"/&gt;     &lt;/xs:complexType&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Audit Logging Design	Notes</header>
    <body>Design notes for work on https://issues.jboss.org/browse/WFLY-456 (formerly  https://issues.jboss.org/browse/AS7-444 https://issues.jboss.org/browse/AS7-444). My current development topic branch for this is  https://github.com/kabir/wildfly/tree/WFLY-456-audit-log https://github.com/kabir/wildfly/tree/WFLY-456-audit-log (More current than  https://github.com/bstansberry/jboss-as/tree/AS7-444 https://github.com/bstansberry/jboss-as/tree/AS7-444, note that these are personal branches; I make no guarantees not to change its commit history.)  This branch is based on work previously done by John Bailey. Design notes: 1) Processing location in OperationContext a) when done b) when decision to not proceed is made in OperationContext 2) Log record format: a) date b) read-only? c) boot? d) (if boot) version (as string???) e) rollback? f) userid (TODO get this somehow) g) uuid (for domain ops only, to track across processes) h) isServer? i) primary (domain or server) model hash j) if (!isServer) secondary (host) model hash k) overall hash l) num operations m) operations (one at a time) n) length of a-&gt;j (scan from end to last boot during validation; alternative is to write the length first and scan from beginning to last boot) 3) Index record format: a) overall hash 4) Mgmt operations a) truncate (back to last boot) i) don't discard previous; just write under a different file name b) read log (params -- from (default 0); batch-size (default 20; -1 means all)) c) validate log d) config changes 5) Validation: a) compare persisted model hash to current model b) scan back through log to last config-file-modified boot or version-change boot. We stop at version-change boot to avoid spurious validation problems resulting from changes in model construction across versions c) recreate by re-running ops -- validation problems a) need to verify model hash at each stage -- special controller that ignores all runtime ops   i) problem -- how to recreate domain ops involving remote slaves that don't exist?   ii) problem -- ops with attachments -- attachments won't exist   iii) this "special controller" could end up duplicating a lot of logic just for validation b) reads and runtime ops cannot be verified against model; it can only be confirmed that their hash is consistent with subsequent hashes in the log. Tamper resistant as modification would require modifying all subsequent log entries, but not tamper proof as this could be done. 6) Domain mode a) tracking requests from master to slaves apply a uuid to requests -- as a header include uuid in log record b) detecting host.xml config changes at boot problem -- can't detect host.xml config changes at boot, as model changes may be due to domain.xml stuff coming from the master so, independent domain and host logging but, what about non-model affecting ops? log twice? c) domain logging on slaves? only if --backup-dc is set? -- no simpler to just log d) remote-slave-only logging on master? yes, to maintain a complete record of what was done 7) Non-model-affecting ops a) re-calculating the model hash for all such ops is too expensive b) store the hash(es) in the ModelController along with the model c) provide the hash along with the model to OperationContext d) when model is updated recalc hashes 8) Config a) &lt;audit-log&gt; element b) part of &lt;management&gt; section c) resource is /core-service=audit-log d) attributes i) path (NO -- we need to know the location when first logging, before we have processed ops to set it) ii) relative-to (NO -- we need to know the location when first logging, before we have processed ops to set it) iii) log-read-only? iv) daily-rolling??? (hassle; tempting to defer to later release but it's probably necessary immediately) 9) Other issues a) disable logging overhead for dev scenarios   i) to disable it during initial boot (until whatever config element that turns it on/off is read) -- maintain log data in memory and only write on last boot op b) parallel boot handlers should not log c) fluctuating model hashes   i) if op took the controller lock, that lock ensures proper ordering of model hashes   ii) if op does not take controller lock (reads) earlier model hashes can intermix with later -- validation needs to account for this *Suggested configuration* Only relevant elements to audit logging have been included in the following examples. *+jboss-as-config (i.e. standlone.xml and host.xml)+ * This defines a set of audit-log-appenders which are referenced by the audit-log element. The appenders are responsible for encryption, if needed. Currently encryption/tamper detection is not a requirement.     &lt;xs:complexType name="audit-log-appendersType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging appenders.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1" maxOccurs="unbounded"&gt;             &lt;xs:element name="simple-appender" type="simple-audit-log-appenderType"/&gt;             &lt;xs:element name="syslog-appender" type="syslog-audit-log-appenderType"/&gt;         &lt;/xs:all&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="simple-audit-log-appenderType"&gt;          &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                Configuration of a simple file appender for the audit log. This writes to a local file without any encryption or tamper detection applied to the file.             &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:attribute name="name" type="xs:string"" use="required"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The name of the appender                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;          &lt;xs:attribute name="path" type="xs:string" use="required"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The path of the audit log.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="relative-to" use="optional" type="xs:string"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The name of another previously named path, or of one of the                     standard paths provided by the system. If 'relative-to' is                     provided, the value of the 'path' attribute is treated as                     relative to the path specified by this attribute.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="syslog-audit-log-appenderType"&gt;          &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                Configuration of a syslog file appender for the audit log. This writes to a local file without any encryption or tamper detection applied to the file.             &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:sequence&gt;                    &lt;xs:attribute name="name" type="xs:string"" use="required"&gt;                       &lt;xs:annotation&gt;                           &lt;xs:documentation&gt;                               The name of the appender                           &lt;/xs:documentation&gt;                       &lt;/xs:annotation&gt;                     &lt;/xs:attribute&gt;             &lt;xs:element name="truststore" type="keyStoreType" minOccurs="0"&gt;                 &lt;xs:annotation&gt;                     &lt;xs:documentation&gt;                         TODO - can we define more than one truststore in java? The normal way seems to be to set -Djavax.net.ssl.trustStore, and there is                         already one in authenticationType. It looks like there might be a way, although we would need to extend syslog4j to be able to use SSLContext.                                                 Configuration of a keystore to use to create a trust manager to verify clients.                     &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;             &lt;/xs:element&gt;             &lt;xs:element name="client-certificate-authentication" type="keyStoreType" minOccurs="0"&gt;                 &lt;xs:annotation&gt;                     &lt;xs:documentation&gt;                         TODO - Look into if it is possible to extend syslog4j to use SSLContext.                                                  Configuration of a keystore containing a client certificate and private key, e.g. in PKCS12 format.                     &lt;/xs:documentation&gt;             &lt;/xs:element&gt;             &lt;!-- TODO other configuration, such as retries etc. --&gt;          &lt;/xs:sequence&gt;          &lt;xs:attribute name="protocol" use="required"&gt;             &lt;xs:simpleType&gt;                &lt;xs:restriction base="xs:string"&gt;                   &lt;xs:enumeration value="udp"/&gt;                   &lt;xs:enumeration value="tcp"/&gt;                   &lt;xs:enumeration value="tls"/&gt;                &lt;/xs:restriction&gt;             &lt;/xs:simpleType&gt;          &lt;/xs:attribute&gt;          &lt;xs:attribute name="host" default="localhost"/&gt;          &lt;xs:attribute name="port" default="514"/&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-logType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging configuration coming from the model controller core.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="0"&gt;             &lt;xs:element name="appenders" type="audit-log-appenders-refType" minOccurs="0"/&gt;         &lt;/xs:all&gt;         &lt;xs:attribute name="log-read-only" type="xs:boolean" default="false"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether operations that do not modify the configuration or any runtime services should be logged.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="enabled" type="xs:boolean" default="true"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether audit logging is enabled.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appenders-refType"&gt;         &lt;xs:annotation&gt;           &lt;xs:documentation&gt;              References to audit-log-appenders defined in the audit-log-appenders section           &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1"&gt;             &lt;xs:element name="appender" type="audit-log-appender-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;         &lt;xs:complexType name="audit-log-appender-refType"&gt;                 &lt;xs:annotation&gt;                   &lt;xs:documentation&gt;                      A reference to an audit-log-appender defined in the audit-log-appenders section                   &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;                 &lt;xs:attribute name="appender" type="xs:string" use="required"/&gt;     &lt;/xs:complexType&gt; +*jboss-as-jmx (jmx subsystem)*+ References the appenders set up in the audit-log-appenders section. This allows for both shared and separate audit logs for core management operations and jmx operations.     &lt;xs:complexType name="subsystem"&gt;       &lt;xs:sequence&gt;          &lt;xs:element name="expose-resolved-model" type="resolvedModelType" minOccurs="0" maxOccurs="1"/&gt;          &lt;xs:element name="expose-expression-model" type="expressionModelType" minOccurs="0" maxOccurs="1"/&gt;          &lt;xs:element name="remoting-connector" type="remotingConnectorRefType" minOccurs="0"/&gt;          &lt;xs:element name="audit-log" type="audit-logType" minOccurs="0"/&gt;       &lt;/xs:sequence&gt;     &lt;/xs:complexType&gt;            &lt;xs:complexType name="audit-logType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging configuration.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="0"&gt;             &lt;xs:element name="appenders" type="audit-log-appenders-refType" minOccurs="0"/&gt;         &lt;/xs:all&gt;         &lt;xs:attribute name="log-read-only" type="xs:boolean" default="false"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether operations that do not modify the configuration or any runtime services should be logged.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="enabled" type="xs:boolean" default="true"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether audit logging is enabled.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;         &lt;xs:complexType name="audit-log-appenders-refType"&gt;         &lt;xs:annotation&gt;           &lt;xs:documentation&gt;              References to audit-log-appenders defined in the audit-log-appenders section           &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1"&gt;             &lt;xs:element name="appender" type="audit-log-appender-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;         &lt;xs:complexType name="audit-log-appender-refType"&gt;          &lt;xs:annotation&gt;            &lt;xs:documentation&gt;               A reference to an audit-log-appender defined in the audit-log-appenders section            &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:attribute name="appender" type="xs:string" use="required"/&gt;     &lt;/xs:complexType&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Audit Logging Design	Notes</header>
    <body>Design notes for work on https://issues.jboss.org/browse/WFLY-456 (formerly  https://issues.jboss.org/browse/AS7-444 https://issues.jboss.org/browse/AS7-444). My current development topic branch for this is  https://github.com/kabir/wildfly/tree/WFLY-456-audit-log https://github.com/kabir/wildfly/tree/WFLY-456-audit-log (More current than  https://github.com/bstansberry/jboss-as/tree/AS7-444 https://github.com/bstansberry/jboss-as/tree/AS7-444, note that these are personal branches; I make no guarantees not to change its commit history.)  This branch is based on work previously done by John Bailey. Design notes: 1) Processing location in OperationContext a) when done b) when decision to not proceed is made in OperationContext 2) Log record format: a) date b) read-only? c) boot? d) (if boot) version (as string???) e) rollback? f) userid (TODO get this somehow) g) uuid (for domain ops only, to track across processes) h) isServer? i) primary (domain or server) model hash j) if (!isServer) secondary (host) model hash k) overall hash l) num operations m) operations (one at a time) n) length of a-&gt;j (scan from end to last boot during validation; alternative is to write the length first and scan from beginning to last boot) 3) Index record format: a) overall hash 4) Mgmt operations a) truncate (back to last boot) i) don't discard previous; just write under a different file name b) read log (params -- from (default 0); batch-size (default 20; -1 means all)) c) validate log d) config changes 5) Validation: a) compare persisted model hash to current model b) scan back through log to last config-file-modified boot or version-change boot. We stop at version-change boot to avoid spurious validation problems resulting from changes in model construction across versions c) recreate by re-running ops -- validation problems a) need to verify model hash at each stage -- special controller that ignores all runtime ops   i) problem -- how to recreate domain ops involving remote slaves that don't exist?   ii) problem -- ops with attachments -- attachments won't exist   iii) this "special controller" could end up duplicating a lot of logic just for validation b) reads and runtime ops cannot be verified against model; it can only be confirmed that their hash is consistent with subsequent hashes in the log. Tamper resistant as modification would require modifying all subsequent log entries, but not tamper proof as this could be done. 6) Domain mode a) tracking requests from master to slaves apply a uuid to requests -- as a header include uuid in log record b) detecting host.xml config changes at boot problem -- can't detect host.xml config changes at boot, as model changes may be due to domain.xml stuff coming from the master so, independent domain and host logging but, what about non-model affecting ops? log twice? c) domain logging on slaves? only if --backup-dc is set? -- no simpler to just log d) remote-slave-only logging on master? yes, to maintain a complete record of what was done 7) Non-model-affecting ops a) re-calculating the model hash for all such ops is too expensive b) store the hash(es) in the ModelController along with the model c) provide the hash along with the model to OperationContext d) when model is updated recalc hashes 8) Config a) &lt;audit-log&gt; element b) part of &lt;management&gt; section c) resource is /core-service=audit-log d) attributes i) path (NO -- we need to know the location when first logging, before we have processed ops to set it) ii) relative-to (NO -- we need to know the location when first logging, before we have processed ops to set it) iii) log-read-only? iv) daily-rolling??? (hassle; tempting to defer to later release but it's probably necessary immediately) 9) Other issues a) disable logging overhead for dev scenarios   i) to disable it during initial boot (until whatever config element that turns it on/off is read) -- maintain log data in memory and only write on last boot op b) parallel boot handlers should not log c) fluctuating model hashes   i) if op took the controller lock, that lock ensures proper ordering of model hashes   ii) if op does not take controller lock (reads) earlier model hashes can intermix with later -- validation needs to account for this *Suggested configuration* Only relevant elements to audit logging have been included in the following examples. *+jboss-as-config (i.e. standlone.xml and host.xml)+ * This defines a set of audit-log-appenders which are referenced by the audit-log element. The appenders are responsible for encryption, if needed. Currently encryption/tamper detection is not a requirement.     &lt;xs:complexType name="domain-managementType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Domain-wide default configuration settings for the management of standalone servers and a Host Controller.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:sequence&gt;             &lt;xs:element name="security-realms" minOccurs="0"&gt;                 &lt;xs:complexType&gt;                     &lt;xs:sequence&gt;                         &lt;xs:element name="security-realm" type="security-realmType" minOccurs="1"                                     maxOccurs="unbounded"/&gt;                     &lt;/xs:sequence&gt;                 &lt;/xs:complexType&gt;             &lt;/xs:element&gt;             &lt;xs:element name="outbound-connections" minOccurs="0"&gt;                 &lt;xs:complexType&gt;                     &lt;xs:sequence&gt;                       &lt;xs:element name="ldap" type="ldapType" minOccurs="1" /&gt; &lt;!-- TODO minOccurs only while ldap is only supported connection. --&gt;                     &lt;/xs:sequence&gt;                 &lt;/xs:complexType&gt;             &lt;/xs:element&gt;             &lt;xs:sequence minOccurs="0"&gt;                &lt;xs:element name="audit-log-appenders" type="audit-log-appendersType"/&gt;                &lt;xs:element name="audit-log" type="audit-logType"/&gt;             &lt;/xs:sequence&gt;         &lt;/xs:sequence&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appendersType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging appenders.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1" maxOccurs="unbounded"&gt;             &lt;xs:element name="simple-appender" type="simple-audit-log-appenderType"/&gt;             &lt;xs:element name="syslog-appender" type="syslog-audit-log-appenderType"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="simple-audit-log-appenderType"&gt;          &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                Configuration of a simple file appender for the audit log. This writes to a local file without any encryption or tamper detection applied to the file.             &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:attribute name="name" type="xs:string" use="required"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The name of the appender                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;          &lt;xs:attribute name="path" type="xs:string" use="required"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The path of the audit log.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="relative-to" use="optional" type="xs:string"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The name of another previously named path, or of one of the                     standard paths provided by the system. If 'relative-to' is                     provided, the value of the 'path' attribute is treated as                     relative to the path specified by this attribute.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="syslog-audit-log-appenderType"&gt;          &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                Configuration of a syslog file appender for the audit log. This writes to a local file without any encryption or tamper detection applied to the file.             &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:sequence&gt;                    &lt;xs:attribute name="name" type="xs:string" use="required"&gt;                       &lt;xs:annotation&gt;                           &lt;xs:documentation&gt;                               The name of the appender                           &lt;/xs:documentation&gt;                       &lt;/xs:annotation&gt;                     &lt;/xs:attribute&gt;             &lt;xs:element name="truststore" type="keyStoreType" minOccurs="0"&gt;                 &lt;xs:annotation&gt;                     &lt;xs:documentation&gt;                         TODO - can we define more than one truststore in java? The normal way seems to be to set -Djavax.net.ssl.trustStore, and there is                         already one in authenticationType. It looks like there might be a way, although we would need to extend syslog4j to be able to use SSLContext.                                                 Configuration of a keystore to use to create a trust manager to verify clients.                     &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;             &lt;/xs:element&gt;             &lt;xs:element name="client-certificate-authentication" type="keyStoreType" minOccurs="0"&gt;                 &lt;xs:annotation&gt;                     &lt;xs:documentation&gt;                         TODO - Look into if it is possible to extend syslog4j to use SSLContext.                                                  Configuration of a keystore containing a client certificate and private key, e.g. in PKCS12 format.                     &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;             &lt;/xs:element&gt;             &lt;!-- TODO other configuration, such as retries etc. --&gt;          &lt;/xs:sequence&gt;          &lt;xs:attribute name="protocol" use="required"&gt;             &lt;xs:simpleType&gt;                &lt;xs:restriction base="xs:string"&gt;                   &lt;xs:enumeration value="udp"/&gt;                   &lt;xs:enumeration value="tcp"/&gt;                   &lt;xs:enumeration value="tls"/&gt;                &lt;/xs:restriction&gt;             &lt;/xs:simpleType&gt;          &lt;/xs:attribute&gt;          &lt;xs:attribute name="host" default="localhost"/&gt;          &lt;xs:attribute name="port" default="514"/&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-logType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging configuration coming from the model controller core.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;             &lt;xs:element name="appenders" type="audit-log-appenders-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;         &lt;xs:attribute name="log-read-only" type="xs:boolean" default="false"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether operations that do not modify the configuration or any runtime services should be logged.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="enabled" type="xs:boolean" default="true"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether audit logging is enabled.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appenders-refType"&gt;         &lt;xs:annotation&gt;           &lt;xs:documentation&gt;              References to audit-log-appenders defined in the audit-log-appenders section           &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1"&gt;             &lt;xs:element name="appender" type="audit-log-appender-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;         &lt;xs:complexType name="audit-log-appender-refType"&gt;                 &lt;xs:annotation&gt;                   &lt;xs:documentation&gt;                      A reference to an audit-log-appender defined in the audit-log-appenders section                   &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;                 &lt;xs:attribute name="appender" type="xs:string" use="required"/&gt;     &lt;/xs:complexType&gt; +*jboss-as-jmx (jmx subsystem)*+ References the appenders set up in the audit-log-appenders section. This allows for both shared and separate audit logs for core management operations and jmx operations.     &lt;xs:complexType name="subsystem"&gt;       &lt;xs:sequence&gt;          &lt;xs:element name="expose-resolved-model" type="resolvedModelType" minOccurs="0" maxOccurs="1"/&gt;          &lt;xs:element name="expose-expression-model" type="expressionModelType" minOccurs="0" maxOccurs="1"/&gt;          &lt;xs:element name="remoting-connector" type="remotingConnectorRefType" minOccurs="0"/&gt;          &lt;xs:element name="audit-log" type="audit-logType" minOccurs="0"/&gt;       &lt;/xs:sequence&gt;     &lt;/xs:complexType&gt;         &lt;xs:complexType name="audit-logType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging configuration.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;             &lt;xs:element name="appenders" type="audit-log-appenders-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;         &lt;xs:attribute name="log-read-only" type="xs:boolean" default="false"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether operations that do not modify the configuration or any runtime services should be logged.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="enabled" type="xs:boolean" default="true"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether audit logging is enabled.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;         &lt;xs:complexType name="audit-log-appenders-refType"&gt;         &lt;xs:annotation&gt;           &lt;xs:documentation&gt;              References to audit-log-appenders defined in the audit-log-appenders section           &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1"&gt;             &lt;xs:element name="appender" type="audit-log-appender-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;         &lt;xs:complexType name="audit-log-appender-refType"&gt;          &lt;xs:annotation&gt;            &lt;xs:documentation&gt;               A reference to an audit-log-appender defined in the audit-log-appenders section            &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:attribute name="appender" type="xs:string" use="required"/&gt;     &lt;/xs:complexType&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Audit Logging Design	Notes</header>
    <body>Design notes for work on https://issues.jboss.org/browse/WFLY-456 (formerly  https://issues.jboss.org/browse/AS7-444 https://issues.jboss.org/browse/AS7-444). My current development topic branch for this is  https://github.com/kabir/wildfly/tree/WFLY-456-audit-log https://github.com/kabir/wildfly/tree/WFLY-456-audit-log (More current than  https://github.com/bstansberry/jboss-as/tree/AS7-444 https://github.com/bstansberry/jboss-as/tree/AS7-444, note that these are personal branches; I make no guarantees not to change its commit history.)  This branch is based on work previously done by John Bailey. Design notes: 1) Processing location in OperationContext a) when done b) when decision to not proceed is made in OperationContext 2) Log record format: a) date b) read-only? c) boot? d) (if boot) version (as string???) e) rollback? f) userid (TODO get this somehow) g) uuid (for domain ops only, to track across processes) h) isServer? i) primary (domain or server) model hash j) if (!isServer) secondary (host) model hash k) overall hash l) num operations m) operations (one at a time) n) length of a-&gt;j (scan from end to last boot during validation; alternative is to write the length first and scan from beginning to last boot) 3) Index record format: a) overall hash 4) Mgmt operations a) truncate (back to last boot) i) don't discard previous; just write under a different file name b) read log (params -- from (default 0); batch-size (default 20; -1 means all)) c) validate log d) config changes 5) Validation: a) compare persisted model hash to current model b) scan back through log to last config-file-modified boot or version-change boot. We stop at version-change boot to avoid spurious validation problems resulting from changes in model construction across versions c) recreate by re-running ops -- validation problems a) need to verify model hash at each stage -- special controller that ignores all runtime ops   i) problem -- how to recreate domain ops involving remote slaves that don't exist?   ii) problem -- ops with attachments -- attachments won't exist   iii) this "special controller" could end up duplicating a lot of logic just for validation b) reads and runtime ops cannot be verified against model; it can only be confirmed that their hash is consistent with subsequent hashes in the log. Tamper resistant as modification would require modifying all subsequent log entries, but not tamper proof as this could be done. 6) Domain mode a) tracking requests from master to slaves apply a uuid to requests -- as a header include uuid in log record b) detecting host.xml config changes at boot problem -- can't detect host.xml config changes at boot, as model changes may be due to domain.xml stuff coming from the master so, independent domain and host logging but, what about non-model affecting ops? log twice? c) domain logging on slaves? only if --backup-dc is set? -- no simpler to just log d) remote-slave-only logging on master? yes, to maintain a complete record of what was done 7) Non-model-affecting ops a) re-calculating the model hash for all such ops is too expensive b) store the hash(es) in the ModelController along with the model c) provide the hash along with the model to OperationContext d) when model is updated recalc hashes 8) Config a) &lt;audit-log&gt; element b) part of &lt;management&gt; section c) resource is /core-service=audit-log d) attributes i) path (NO -- we need to know the location when first logging, before we have processed ops to set it) ii) relative-to (NO -- we need to know the location when first logging, before we have processed ops to set it) iii) log-read-only? iv) daily-rolling??? (hassle; tempting to defer to later release but it's probably necessary immediately) 9) Other issues a) disable logging overhead for dev scenarios   i) to disable it during initial boot (until whatever config element that turns it on/off is read) -- maintain log data in memory and only write on last boot op b) parallel boot handlers should not log c) fluctuating model hashes   i) if op took the controller lock, that lock ensures proper ordering of model hashes   ii) if op does not take controller lock (reads) earlier model hashes can intermix with later -- validation needs to account for this *Suggested configuration* Only relevant elements to audit logging have been included in the following examples. *+jboss-as-config (i.e. standlone.xml and host.xml)+ * This defines a set of audit-log-appenders which are referenced by the audit-log element. Currently encryption/tamper detection is not a requirement so all logs are done in clear text. If encryption/tamper detection later becomes a requirement this could be added by for example an audit-log-formatters section which configures whatever we would like to use for encryption/tamper detection and the file-audit-log-appender and syslog-audit-log-appender could individually be made to reference an audit-log-formatter.     &lt;xs:complexType name="domain-managementType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Domain-wide default configuration settings for the management of standalone servers and a Host Controller.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:sequence&gt;             &lt;xs:element name="security-realms" minOccurs="0"&gt;                 &lt;xs:complexType&gt;                     &lt;xs:sequence&gt;                         &lt;xs:element name="security-realm" type="security-realmType" minOccurs="1"                                     maxOccurs="unbounded"/&gt;                     &lt;/xs:sequence&gt;                 &lt;/xs:complexType&gt;             &lt;/xs:element&gt;             &lt;xs:element name="outbound-connections" minOccurs="0"&gt;                 &lt;xs:complexType&gt;                     &lt;xs:sequence&gt;                       &lt;xs:element name="ldap" type="ldapType" minOccurs="1" /&gt; &lt;!-- TODO minOccurs only while ldap is only supported connection. --&gt;                     &lt;/xs:sequence&gt;                 &lt;/xs:complexType&gt;             &lt;/xs:element&gt;             &lt;xs:sequence minOccurs="0"&gt;                &lt;xs:element name="audit-log-appenders" type="audit-log-appendersType"/&gt;                &lt;xs:element name="audit-log" type="audit-logType"/&gt;             &lt;/xs:sequence&gt;         &lt;/xs:sequence&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appendersType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging appenders.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1" maxOccurs="unbounded"&gt;             &lt;xs:element name="file-appender" type="file-audit-log-appenderType"/&gt;             &lt;xs:element name="syslog-appender" type="syslog-audit-log-appenderType"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="file-audit-log-appenderType"&gt;          &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                Configuration of a simple file appender for the audit log. This writes to a local file without any encryption or tamper detection applied to the file.             &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:attribute name="name" type="xs:string" use="required"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The name of the appender                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;          &lt;xs:attribute name="path" type="xs:string" use="required"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The path of the audit log.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="relative-to" use="optional" type="xs:string"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The name of another previously named path, or of one of the                     standard paths provided by the system. If 'relative-to' is                     provided, the value of the 'path' attribute is treated as                     relative to the path specified by this attribute.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="syslog-audit-log-appenderType"&gt;          &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                Configuration of a syslog file appender for the audit log. This writes to a local file without any encryption or tamper detection applied to the file.             &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:sequence&gt;                    &lt;xs:attribute name="name" type="xs:string" use="required"&gt;                       &lt;xs:annotation&gt;                           &lt;xs:documentation&gt;                               The name of the appender                           &lt;/xs:documentation&gt;                       &lt;/xs:annotation&gt;                     &lt;/xs:attribute&gt;             &lt;xs:element name="truststore" type="keyStoreType" minOccurs="0"&gt;                 &lt;xs:annotation&gt;                     &lt;xs:documentation&gt;                         TODO - can we define more than one truststore in java? The normal way seems to be to set -Djavax.net.ssl.trustStore, and there is                         already one in authenticationType. It looks like there might be a way, although we would need to extend syslog4j to be able to use SSLContext.                         Configuration of a keystore to use to create a trust manager to verify clients.                     &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;             &lt;/xs:element&gt;             &lt;xs:element name="client-certificate-authentication" type="keyStoreType" minOccurs="0"&gt;                 &lt;xs:annotation&gt;                     &lt;xs:documentation&gt;                         TODO - Look into if it is possible to extend syslog4j to use SSLContext.                          Configuration of a keystore containing a client certificate and private key, e.g. in PKCS12 format.                     &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;             &lt;/xs:element&gt;             &lt;!-- TODO other configuration, such as retries etc. --&gt;          &lt;/xs:sequence&gt;          &lt;xs:attribute name="protocol" use="required"&gt;             &lt;xs:simpleType&gt;                &lt;xs:restriction base="xs:string"&gt;                   &lt;xs:enumeration value="udp"/&gt;                   &lt;xs:enumeration value="tcp"/&gt;                   &lt;xs:enumeration value="tls"/&gt;                &lt;/xs:restriction&gt;             &lt;/xs:simpleType&gt;          &lt;/xs:attribute&gt;          &lt;xs:attribute name="host" default="localhost"/&gt;          &lt;xs:attribute name="port" default="514"/&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-logType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging configuration coming from the model controller core.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;             &lt;xs:element name="appenders" type="audit-log-appenders-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;         &lt;xs:attribute name="log-read-only" type="xs:boolean" default="false"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether operations that do not modify the configuration or any runtime services should be logged.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="enabled" type="xs:boolean" default="true"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether audit logging is enabled.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appenders-refType"&gt;         &lt;xs:annotation&gt;           &lt;xs:documentation&gt;              References to audit-log-appenders defined in the audit-log-appenders section           &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1"&gt;             &lt;xs:element name="appender" type="audit-log-appender-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appender-refType"&gt;                 &lt;xs:annotation&gt;                   &lt;xs:documentation&gt;                      A reference to an audit-log-appender defined in the audit-log-appenders section                   &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;                 &lt;xs:attribute name="appender" type="xs:string" use="required"/&gt;     &lt;/xs:complexType&gt; +*jboss-as-jmx (jmx subsystem)*+ References the appenders set up in the audit-log-appenders section. This allows for both shared and separate audit logs for core management operations and jmx operations.     &lt;xs:complexType name="subsystem"&gt;       &lt;xs:sequence&gt;          &lt;xs:element name="expose-resolved-model" type="resolvedModelType" minOccurs="0" maxOccurs="1"/&gt;          &lt;xs:element name="expose-expression-model" type="expressionModelType" minOccurs="0" maxOccurs="1"/&gt;          &lt;xs:element name="remoting-connector" type="remotingConnectorRefType" minOccurs="0"/&gt;          &lt;xs:element name="audit-log" type="audit-logType" minOccurs="0"/&gt;       &lt;/xs:sequence&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-logType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging configuration.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;             &lt;xs:element name="appenders" type="audit-log-appenders-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;         &lt;xs:attribute name="log-read-only" type="xs:boolean" default="false"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether operations that do not modify the configuration or any runtime services should be logged.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="enabled" type="xs:boolean" default="true"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether audit logging is enabled.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appenders-refType"&gt;         &lt;xs:annotation&gt;           &lt;xs:documentation&gt;              References to audit-log-appenders defined in the audit-log-appenders section           &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1"&gt;             &lt;xs:element name="appender" type="audit-log-appender-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appender-refType"&gt;          &lt;xs:annotation&gt;            &lt;xs:documentation&gt;               A reference to an audit-log-appender defined in the audit-log-appenders section            &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:attribute name="appender" type="xs:string" use="required"/&gt;     &lt;/xs:complexType&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Audit Logging Design	Notes</header>
    <body>Design notes for work on https://issues.jboss.org/browse/WFLY-456 (formerly  https://issues.jboss.org/browse/AS7-444 https://issues.jboss.org/browse/AS7-444). My current development topic branch for this is  https://github.com/kabir/wildfly/tree/WFLY-456-audit-log https://github.com/kabir/wildfly/tree/WFLY-456-audit-log (More current than  https://github.com/bstansberry/jboss-as/tree/AS7-444 https://github.com/bstansberry/jboss-as/tree/AS7-444, note that these are personal branches; I make no guarantees not to change its commit history.)  This branch is based on work previously done by John Bailey. Design notes: 1) Processing location in OperationContext a) when done b) when decision to not proceed is made in OperationContext 2) Log record format: a) date b) read-only? c) boot? d) (if boot) version (as string???) e) rollback? f) userid (TODO get this somehow) g) uuid (for domain ops only, to track across processes) h) isServer? i) primary (domain or server) model hash j) if (!isServer) secondary (host) model hash k) overall hash l) num operations m) operations (one at a time) n) length of a-&gt;j (scan from end to last boot during validation; alternative is to write the length first and scan from beginning to last boot) 3) Index record format: a) overall hash 4) Mgmt operations a) truncate (back to last boot) i) don't discard previous; just write under a different file name b) read log (params -- from (default 0); batch-size (default 20; -1 means all)) c) validate log d) config changes 5) Validation: a) compare persisted model hash to current model b) scan back through log to last config-file-modified boot or version-change boot. We stop at version-change boot to avoid spurious validation problems resulting from changes in model construction across versions c) recreate by re-running ops -- validation problems a) need to verify model hash at each stage -- special controller that ignores all runtime ops   i) problem -- how to recreate domain ops involving remote slaves that don't exist?   ii) problem -- ops with attachments -- attachments won't exist   iii) this "special controller" could end up duplicating a lot of logic just for validation b) reads and runtime ops cannot be verified against model; it can only be confirmed that their hash is consistent with subsequent hashes in the log. Tamper resistant as modification would require modifying all subsequent log entries, but not tamper proof as this could be done. 6) Domain mode a) tracking requests from master to slaves apply a uuid to requests -- as a header include uuid in log record b) detecting host.xml config changes at boot problem -- can't detect host.xml config changes at boot, as model changes may be due to domain.xml stuff coming from the master so, independent domain and host logging but, what about non-model affecting ops? log twice? c) domain logging on slaves? only if --backup-dc is set? -- no simpler to just log d) remote-slave-only logging on master? yes, to maintain a complete record of what was done 7) Non-model-affecting ops a) re-calculating the model hash for all such ops is too expensive b) store the hash(es) in the ModelController along with the model c) provide the hash along with the model to OperationContext d) when model is updated recalc hashes 8) Config a) &lt;audit-log&gt; element b) part of &lt;management&gt; section c) resource is /core-service=audit-log d) attributes i) path (NO -- we need to know the location when first logging, before we have processed ops to set it) ii) relative-to (NO -- we need to know the location when first logging, before we have processed ops to set it) iii) log-read-only? iv) daily-rolling??? (hassle; tempting to defer to later release but it's probably necessary immediately) 9) Other issues a) disable logging overhead for dev scenarios   i) to disable it during initial boot (until whatever config element that turns it on/off is read) -- maintain log data in memory and only write on last boot op b) parallel boot handlers should not log c) fluctuating model hashes   i) if op took the controller lock, that lock ensures proper ordering of model hashes   ii) if op does not take controller lock (reads) earlier model hashes can intermix with later -- validation needs to account for this *Suggested configuration* Only relevant elements to audit logging have been included in the following examples. *+jboss-as-config (i.e. standlone.xml and host.xml)+ * This defines a set of audit-log-appenders which are referenced by the audit-log element. Currently encryption/tamper detection is not a requirement so all logs are done in clear text. If encryption/tamper detection later becomes a requirement this could be added by for example an audit-log-formatters section which configures whatever we would like to use for encryption/tamper detection and the file-audit-log-appender and syslog-audit-log-appender could individually be made to reference an audit-log-formatter.     &lt;xs:complexType name="domain-managementType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Domain-wide default configuration settings for the management of standalone servers and a Host Controller.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:sequence&gt;             &lt;xs:element name="security-realms" minOccurs="0"&gt;                 &lt;xs:complexType&gt;                     &lt;xs:sequence&gt;                         &lt;xs:element name="security-realm" type="security-realmType" minOccurs="1"                                     maxOccurs="unbounded"/&gt;                     &lt;/xs:sequence&gt;                 &lt;/xs:complexType&gt;             &lt;/xs:element&gt;             &lt;xs:element name="outbound-connections" minOccurs="0"&gt;                 &lt;xs:complexType&gt;                     &lt;xs:sequence&gt;                       &lt;xs:element name="ldap" type="ldapType" minOccurs="1" /&gt; &lt;!-- TODO minOccurs only while ldap is only supported connection. --&gt;                     &lt;/xs:sequence&gt;                 &lt;/xs:complexType&gt;             &lt;/xs:element&gt;             &lt;xs:sequence minOccurs="0"&gt;                &lt;xs:element name="audit-log-appenders" type="audit-log-appendersType"/&gt;                &lt;xs:element name="audit-log" type="audit-logType"/&gt;             &lt;/xs:sequence&gt;         &lt;/xs:sequence&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appendersType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging appenders.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1" maxOccurs="unbounded"&gt;             &lt;xs:element name="file-appender" type="file-audit-log-appenderType"/&gt;             &lt;xs:element name="syslog-appender" type="syslog-audit-log-appenderType"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="file-audit-log-appenderType"&gt;          &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                Configuration of a simple file appender for the audit log. This writes to a local file without any encryption or tamper detection applied to the file.             &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:attribute name="name" type="xs:string" use="required"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The name of the appender                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;          &lt;xs:attribute name="path" type="xs:string" use="required"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The path of the audit log.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="relative-to" use="optional" type="xs:string"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The name of another previously named path, or of one of the                     standard paths provided by the system. If 'relative-to' is                     provided, the value of the 'path' attribute is treated as                     relative to the path specified by this attribute.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="syslog-audit-log-appenderType"&gt;          &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                Configuration of a syslog file appender for the audit log. This writes to a local file without any encryption or tamper detection applied to the file.             &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:sequence&gt;                    &lt;xs:attribute name="name" type="xs:string" use="required"&gt;                       &lt;xs:annotation&gt;                           &lt;xs:documentation&gt;                               The name of the appender                           &lt;/xs:documentation&gt;                       &lt;/xs:annotation&gt;                     &lt;/xs:attribute&gt;             &lt;xs:element name="truststore" type="keyStoreType" minOccurs="0"&gt;                 &lt;xs:annotation&gt;                     &lt;xs:documentation&gt;                         TODO - can we define more than one truststore in java? The normal way seems to be to set -Djavax.net.ssl.trustStore, and there is                         already one in authenticationType. It looks like there might be a way, although we would need to extend syslog4j to be able to use SSLContext.                         Configuration of a keystore to use to create a trust manager to verify clients.                     &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;             &lt;/xs:element&gt;             &lt;xs:element name="client-certificate-authentication" type="keyStoreType" minOccurs="0"&gt;                 &lt;xs:annotation&gt;                     &lt;xs:documentation&gt;                         TODO - Look into if it is possible to extend syslog4j to use SSLContext.                          Configuration of a keystore containing a client certificate and private key, e.g. in PKCS12 format.                     &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;             &lt;/xs:element&gt;             &lt;!-- TODO other configuration, such as retries etc. --&gt;          &lt;/xs:sequence&gt;          &lt;xs:attribute name="protocol" use="required"&gt;             &lt;xs:simpleType&gt;                &lt;xs:restriction base="xs:string"&gt;                   &lt;xs:enumeration value="udp"/&gt;                   &lt;xs:enumeration value="tcp"/&gt;                   &lt;xs:enumeration value="tls"/&gt;                &lt;/xs:restriction&gt;             &lt;/xs:simpleType&gt;          &lt;/xs:attribute&gt;          &lt;xs:attribute name="host" default="localhost"/&gt;          &lt;xs:attribute name="port" default="514"/&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-logType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging configuration coming from the model controller core.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;             &lt;xs:element name="appenders" type="audit-log-appenders-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;         &lt;xs:attribute name="log-read-only" type="xs:boolean" default="false"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether operations that do not modify the configuration or any runtime services should be logged.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="enabled" type="xs:boolean" default="true"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether audit logging is enabled.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appenders-refType"&gt;         &lt;xs:annotation&gt;           &lt;xs:documentation&gt;              References to audit-log-appenders defined in the audit-log-appenders section           &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1"&gt;             &lt;xs:element name="appender" type="audit-log-appender-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appender-refType"&gt;                 &lt;xs:annotation&gt;                   &lt;xs:documentation&gt;                      A reference to an audit-log-appender defined in the audit-log-appenders section                   &lt;/xs:documentation&gt;                 &lt;/xs:annotation&gt;                 &lt;xs:attribute name="appender" type="xs:string" use="required"/&gt;     &lt;/xs:complexType&gt; +*jboss-as-jmx (jmx subsystem)*+ References the appenders set up in the audit-log-appenders section. This allows for both shared and separate audit logs for core management operations and jmx operations.     &lt;xs:complexType name="subsystem"&gt;       &lt;xs:sequence&gt;          &lt;xs:element name="expose-resolved-model" type="resolvedModelType" minOccurs="0" maxOccurs="1"/&gt;          &lt;xs:element name="expose-expression-model" type="expressionModelType" minOccurs="0" maxOccurs="1"/&gt;          &lt;xs:element name="remoting-connector" type="remotingConnectorRefType" minOccurs="0"/&gt;          &lt;xs:element name="audit-log" type="audit-logType" minOccurs="0"/&gt;       &lt;/xs:sequence&gt;     &lt;/xs:complexType&gt;         &lt;xs:complexType name="audit-logType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging configuration.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;!--          Don't allow separate appenders for jmx for now         &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;             &lt;xs:element name="appenders" type="audit-log-appenders-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;          --&gt;         &lt;xs:attribute name="log-read-only" type="xs:boolean" default="false"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether operations that do not modify the configuration or any runtime services should be logged.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="enabled" type="xs:boolean" default="true"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether audit logging is enabled.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;         &lt;!--     Don't allow separate appenders for jmx for now     &lt;xs:complexType name="audit-log-appenders-refType"&gt;         &lt;xs:annotation&gt;           &lt;xs:documentation&gt;              References to audit-log-appenders defined in the audit-log-appenders section           &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1"&gt;             &lt;xs:element name="appender" type="audit-log-appender-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;         &lt;xs:complexType name="audit-log-appender-refType"&gt;          &lt;xs:annotation&gt;            &lt;xs:documentation&gt;               A reference to an audit-log-appender defined in the audit-log-appenders section            &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:attribute name="appender" type="xs:string" use="required"/&gt;     &lt;/xs:complexType&gt;     --&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Error 403 instead of	login page</header>
    <body>Hi, I'm working on an app with resteasy. The client (HTML, CSS, Javascript) reach the server via rest/json. When the session expires on server I see a message on JBoss Console: Entering logout ... logged out Subject Until now everything is ok. But when the client try to access the server after that through PUT or DELETE method, it receives an error 403. If the method is POST or GET it receives the login page. My problem is: I need to show a login page when the session expires since there are links in the app that the user doesn't have access and in that case the ajax receives 403. So, in the ajax, when I receive 403, I don't know if the session have expired or the user have tried to acess an unauthorized resource. The problem only appears with PUT and DELETE methods. Is it a bug? My Jboss 7.1.1 My web.xml &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;web-app xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2001/XMLSchema-instance" xmlns=" http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee" xmlns:web=" http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemaLocation=" http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee  http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd" metadata-complete="false" version="3.0"&gt; &lt;security-constraint&gt;     &lt;display-name&gt;protected resources&lt;/display-name&gt;     &lt;web-resource-collection&gt;          &lt;web-resource-name&gt;all&lt;/web-resource-name&gt;               &lt;description&gt;&lt;/description&gt;               &lt;url-pattern&gt;/restrito/*&lt;/url-pattern&gt;               &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;          &lt;/web-resource-collection&gt;          &lt;auth-constraint&gt;            &lt;description&gt;&lt;/description&gt;            &lt;role-name&gt;pad_gestor&lt;/role-name&gt;          &lt;/auth-constraint&gt; &lt;/security-constraint&gt; &lt;security-role&gt;     &lt;description&gt;Gestor&lt;/description&gt;     &lt;role-name&gt;pad_gestor&lt;/role-name&gt; &lt;/security-role&gt; &lt;login-config&gt;    &lt;auth-method&gt;FORM&lt;/auth-method&gt;    &lt;realm-name&gt;JBoss&lt;/realm-name&gt;    &lt;form-login-config&gt;       &lt;form-login-page&gt;/publico/login.html&lt;/form-login-page&gt;     &lt;/form-login-config&gt; &lt;/login-config&gt;  &lt;/web-app&gt; Thanks in advance! Inacio</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - exclude XMLSEC and	XALAN</header>
    <body>AS 7.1.1. I'm experiencing a version incompatibility between the XMLSEC (Santuario) and XALAN libraries used by Jboss. The error comes at the point where XMLSEC attempts to instatiate an XpathContext object. The XpathContext, in urn, has a private DTMManager which is being created by newInstance(). The newInstance returns an instance of org.apache.xml.dtm.ref.DTMManagerDefault which canot be cast to org.apache.xml.dtm.DTMManager. The XMLSecurityRuntimeException forgets to mention the original cause of ClassCastException. So, I'd rather use my own versions of XMLSEC and XALAN. I saw how JBoss uses it's own version of XMLSEC. It even replaces the version incorporated into the JDK. Here is the snippet from definition of javaee.api |      | &lt;module name="org.apache.santuario.xmlsec" export="true"&gt; | |          | &lt;exports&gt; | |              | &lt;include-set&gt; | |                  | &lt;path name="javax/xml/crypto"/&gt; | |                  | &lt;path name="javax/xml/crypto/dom"/&gt; | |                  | &lt;path name="javax/xml/crypto/dsig"/&gt; | |                  | &lt;path name="javax/xml/crypto/dsig/dom"/&gt; | |                  | &lt;path name="javax/xml/crypto/dsig/keyinfo"/&gt; | |                  | &lt;path name="javax/xml/crypto/dsig/spec"/&gt; | |              | &lt;/include-set&gt; | |          | &lt;/exports&gt; | |      | &lt;/module&gt; | I read the advice given at  https://community.jboss.org/message/637818#637818 https://community.jboss.org/message/637818 So, I tried my hand. In jboss-deployment-structure.xml I excluded the XmlSec used by Jboss &lt;jboss-deployment-structure&gt;     &lt;deployment&gt;         &lt;exclusions&gt;                            &lt;module name="org.apache.xalan" /&gt;                        &lt;module name="org.apache.santuario.xmlsec"/&gt;         &lt;/exclusions&gt;         &lt;dependencies&gt;             &lt;module name="javaee.api" &gt;                 &lt;imports&gt;                     &lt;exclude-set&gt;                              &lt;path name="org.apache.santuario.xmlsec"/&gt;                     &lt;/exclude-set&gt;                 &lt;/imports&gt;             &lt;/module&gt;                                &lt;/dependencies&gt;     &lt;/deployment&gt; &lt;/jboss-deployment-structure&gt; For some reason, it did not work. I can still see in the stack trace xmlsec.1.5.1 which is the JBoss version Regards, Andrew</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Is there any tool to migrate jBPM 4.4 version to jBPM 5.4?</header>
    <body>Hi, I have an application which is using jBPM 4.4 version for the workflow. I would like to migrate it from 4.4 to the 5.4 final version. Is there any tool provided for migration or do i need to rewrite the code?. i didn't get the exact solution for this.pls help. Thanks Anne</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>As soon as WF moves to adopt EE7 for all of its constituent components then JTA 1.2 should be the default.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>Yes, the attachments are out of date.  The version I'm working on now does not package the jsf-injection jar in the *.cli file.   The jsf-injection jar actually does not need to be different for each slot.  It's the same bits.  The only difference is the JSF API slot that is listed as a dependency in the modules.xml for jsf-injection.  I can't really explain it well, but you should see a better version of the *.cli file soon and it will make sense. Long story short, this feature is considered a Tech Preview until at least the first version or two of WildFly comes out.  Stuff may break from version to version until we get things nailed down better.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Data Source jboss	7.1.1</header>
    <body>i want validate connection before borrow from pool , i config data source as mention below but no validation happen before borrow connection from pool although 'select 1 from dual ' exist . so how can i config it to validate each connection . *jboss version :*  7.1.1 *Data Base  :* Oracle 11* * thanks in advance ,</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - TransactionMonitoringAndVisualization</header>
    <body>h1. Transaction Monitoring and Visualization h3. Overview of the Tool The purpose of this project is to create a tool for monitoring the status of in-flight and complete transactions. The main aims of the tool are to help debug transaction related issues and also to provide insight into the running of the system. Essentially, the tool monitors a running system (or a log from a running system) and produces a detailed list of all transactions. A user may then select a particular transaction to see in more detail, including the participants involved in the transaction, the outcome of the transaction and the participants that influenced the outcome. The tool could be visual, showing a diagrammatic view of a transaction or may be command line based, producing a textual output (or maybe both). h3. What Problems does this solve? * Transaction Timeout detection. We frequently get support requests (via the forums or elsewhere) from users who are experiencing intermittent rollbacks of transactions due to timeout. It is not a simple matter for the user to figure out that this is what's happening. * Transaction Profiling. It may be relatively easy to detect transactions that are taking longer than desired to complete. However, diagnosing which party in the transaction is to blame is non-trivial. * Loops and Diamonds detection. In a distributed transaction it is possible to introduce a loop or a diamond without realizing. JTS may tolerate this, but distributed JTA and bridged WS-AT to JTA does not. Identifying this scenario is non-trivial and requires detailed internal knowledge of the TM. * Reasoning about the System Architecture. Producing an architectural diagram of a distributed transaction with many participants and servers is not an easy task.  Furthermore it can be error prone and could change based on the application inputs. The difficulty of this task is further compounded if multiple transaction types are involved (WS-AT, WS-BA, REST-AT, etc). This diagram is essential for reasoning about the current architecture and for considering improvements or changes. Also this diagram alone may not be enough without detailed profiling overlayed. * Analyzing Disk Syncs. One approach to improving the performance of a transaction is to reduce the number of disk syncs. The problem is that it is often difficult to calculate exactly how many you are performing and what delay each adds. h3. Who is the target audience? * End users, to diagnose their own issues * GSS, to diagnose customer issues * Architects, to analyze their system architecture * Those new to the field of transactions, learning what's going on. h3. How does it solve these problems? The tool analyses the server log and gathers data on every transaction ran. The tool could also support live updates for a server that is still running. The tool assumes that it can gather all its information from log statements. If it can't, we take the view that some logging is missing and then add it. We may also want the tool to support different log levels. For example, it may need a log level of TRACE to acquire full knowledge of the system. This may introduce too much of a performance overhead, so we may want to allow the tool to tollerate the reduced information provided by the less verbose log levels. In this case only basic information would be provided. h6. Querying feature The data can be queried to find out specific information. For example, show me all the transactions that rolled back. Given a rolledback transaction, the data should be available to diagnose exactly why it rolledback. Other things you may want to query by: * *Outcome*. Committed, Rolledback, heuristic, etc * *Type*. JTA, JTS, WS-AT, REST-AT, etc * *Duration*. Find all fast or slow transactions * *Inflight*. Show transactions currently inflight * *Stuck*. Inflight transactions that have been running for longer than Xms. * *Recovery*. All transactions that needed to be recovered. h6. Diagnostics The tool could also allow 'profiles' to be plugged in. A 'profile' is responsible for identifying common problems that we see users having. Hopefully these would allow issues to be identified earlier before they are passed further up the support chain. For example, we may create a 'profile' that searches over the data looking for loops or diamonds. Another could be responsible for identifying timeouts and maybe hinting at their cause. These 'profiles' would be created based on community demand. h6. Visualization In order to help architects reason about the system architecture, the tool could produce a visualization of a transaction of interest. A few diagrams should give you an idea of what the tooling could produce: https://community.jboss.org/servlet/JiveServlet/showImage/102-48255-8-20252/TXVisualCommitted%282%29.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-48255-8-20252/310-205/TXVisualCommitted%282%29.png Here we can see that a transaction was begun on Server1. It enlisted a DB and JMS queue locally and invoked a remote service on Server2. A second resource (DB2) was enlisted on Server2. https://community.jboss.org/servlet/JiveServlet/showImage/102-48255-8-20253/TXVisualRollback.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-48255-8-20253/310-211/TXVisualRollback.png In this example we can see that the transaction rolled back because DB2 voted rollback. Other possible features: * *Participant types*. Display if the participant is one or two phase aware for JTA/JTS. Display the completion type (Participant/Coordinator) for WS-BA. * *    Resource types*. Whether it's a database or message queue and maybe include the name and version. * *Multiple Transaction Types*. Somehow depict the type of transaction (JTS, WS-AT, REST-AT, etc). * *Display Bridges*. Display when a transaction is bridged from one type to another * *In flight Transactions*. More useful for long running transactions; display the current status of each participant and update the display in real-time as the status changes. * *Recovery Status*. Show which resources crashed and the status of those resources already committed or recovered. h3. Reducing the amount of data It's likely that enabling all the required TRACE logging will generate too large a log, and slow the system down. Therefore to optimize this we could do a number of things: 1. Use Byteman to do the TRACE logging anyway (despite being turned off), for just the items we require 2. Use Byteman to somehow buffer up detailed logging in memory, for all transactions. This  is discarded for committed transactions and dumped to the log for failed transactions. 3. Update Narayana to dump a lot of data when the transaction fails. Same as the Byteman approach, but will be useful for more users. We should also reduce the amount of data held for 'identical' transactions. For example, we may have 1,000's of transactions that follow the same paths, interacting with the same resources. We should simply store this data once along with aggregate data for all the associated transactions. h3. Research Things to look into: *  http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/index.jsp?topic=%2Fcom.ibm.websphere.samples.doc%2Fae%2Fsample_jta.html http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/index.jsp?topic=%2Fcom.ibm.websphere.samples.doc%2Fae%2Fsample_jta.html* IBM seem to have an API for being notified of all completed transactions. *  https://blog.heroku.com/archives/2013/3/19/log2viz https://blog.heroku.com/archives/2013/3/19/log2viz *  http://logstash.net/ http://logstash.net/ h3. Example - log grepping Edit the log levels in standalone.xml setting the "com.arjuna" level to TRACE and the CONSOLE logger to TRACE. You'll then see a lot of logging produced by the transaction manager. Here's some interesting messages for different scenarios: h5. Commit 09:20:38,554 TRACE [com.arjuna.ats.arjuna] (pool-1-thread-1) BasicAction::Begin() for action-id 0:ffffac118223:61d0e901:515016c7:13 [0m09:20:38,558 TRACE [com.arjuna.ats.jta] (pool-1-thread-1) TransactionImple.enlistResource ( org.jboss.narayana.txvis.simple.DummyXAResource at 47b24153 ) [0m09:20:38,563 TRACE [com.arjuna.ats.jta] (pool-1-thread-1) TransactionImple.enlistResource ( org.jboss.narayana.txvis.simple.DummyXAResource at 1bb557c8 ) 09:20:38,565 TRACE [com.arjuna.ats.arjuna] (pool-1-thread-1) BasicAction::prepare () for action-id 0:ffffac118223:61d0e901:515016c7:13 09:20:38,566 TRACE [com.arjuna.ats.jta] (pool-1-thread-1) XAResourceRecord.topLevelPrepare for XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 47b24153, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:61d0e901:515016c7:13, node_name=1, branch_uid=0:ffffac118223:61d0e901:515016c7:14, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 6e09388c &gt; 09:20:38,567 TRACE [com.arjuna.ats.jta] (pool-1-thread-1) XAResourceRecord.topLevelPrepare for XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 1bb557c8, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:61d0e901:515016c7:13, node_name=1, branch_uid=0:ffffac118223:61d0e901:515016c7:18, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 1f5fa7c4 &gt; 09:20:38,573 TRACE [com.arjuna.ats.arjuna] (pool-1-thread-1) BasicAction::doCommit (XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 47b24153, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:61d0e901:515016c7:13, node_name=1, branch_uid=0:ffffac118223:61d0e901:515016c7:14, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 6e09388c &gt;) 09:20:38,574 TRACE [com.arjuna.ats.jta] (pool-1-thread-1) XAResourceRecord.topLevelCommit for XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 47b24153, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:61d0e901:515016c7:13, node_name=1, branch_uid=0:ffffac118223:61d0e901:515016c7:14, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 6e09388c &gt; 09:20:38,574 TRACE [com.arjuna.ats.arjuna] (pool-1-thread-1) BasicAction::doCommit (XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 1bb557c8, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:61d0e901:515016c7:13, node_name=1, branch_uid=0:ffffac118223:61d0e901:515016c7:18, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 1f5fa7c4 &gt;) 09:20:38,574 TRACE [com.arjuna.ats.jta] (pool-1-thread-1) XAResourceRecord.topLevelCommit for XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 1bb557c8, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:61d0e901:515016c7:13, node_name=1, branch_uid=0:ffffac118223:61d0e901:515016c7:18, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 1f5fa7c4 &gt; 09:20:38,575 TRACE [com.arjuna.ats.arjuna] (pool-1-thread-1) FileSystemStore.remove_committed(0:ffffac118223:61d0e901:515016c7:13, /StateManager/BasicAction/TwoPhaseCoordinator/AtomicAction) h5. Client Driven Rollback [0m10:03:41,737 TRACE [com.arjuna.ats.arjuna] (pool-2-thread-1) BasicAction::Begin() for action-id 0:ffffac118223:-507ee916:515020eb:13 [0m10:03:41,741 TRACE [com.arjuna.ats.jta] (pool-2-thread-1) TransactionImple.enlistResource ( org.jboss.narayana.txvis.simple.DummyXAResource at 5cbf424a ) [0m10:03:41,747 TRACE [com.arjuna.ats.jta] (pool-2-thread-1) TransactionImple.enlistResource ( org.jboss.narayana.txvis.simple.DummyXAResource at 53adb4e5 ) [0m10:03:41,749 TRACE [com.arjuna.ats.arjuna] (pool-2-thread-1) BasicAction::Abort() for action-id 0:ffffac118223:-507ee916:515020eb:13 [0m10:03:41,750 TRACE [com.arjuna.ats.jta] (pool-2-thread-1) XAResourceRecord.topLevelAbort for XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 5cbf424a, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:-507ee916:515020eb:13, node_name=1, branch_uid=0:ffffac118223:-507ee916:515020eb:14, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 6c28e401 &gt; [0m10:03:41,751 TRACE [com.arjuna.ats.jta] (pool-2-thread-1) XAResourceRecord.topLevelAbort for XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 53adb4e5, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:-507ee916:515020eb:13, node_name=1, branch_uid=0:ffffac118223:-507ee916:515020eb:18, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 70913520 &gt; h5. Participant Driven Rollback [0m10:15:52,446 TRACE [com.arjuna.ats.arjuna] (pool-2-thread-1) BasicAction::Begin() for action-id 0:ffffac118223:-6fc6eada:515023cb:13 [0m10:15:52,450 TRACE [com.arjuna.ats.jta] (pool-2-thread-1) TransactionImple.enlistResource ( org.jboss.narayana.txvis.simple.DummyXAResource at 72e0b50 ) [0m10:15:52,455 TRACE [com.arjuna.ats.jta] (pool-2-thread-1) TransactionImple.enlistResource ( org.jboss.narayana.txvis.simple.DummyXAResource at 7aa354c9 ) [0m10:15:52,458 TRACE [com.arjuna.ats.jta] (pool-2-thread-1) XAResourceRecord.topLevelPrepare for XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 72e0b50, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:-6fc6eada:515023cb:13, node_name=1, branch_uid=0:ffffac118223:-6fc6eada:515023cb:14, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 50150c84 &gt; [0m10:15:52,459 TRACE [com.arjuna.ats.jta] (pool-2-thread-1) XAResourceRecord.topLevelPrepare for XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 7aa354c9, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:-6fc6eada:515023cb:13, node_name=1, branch_uid=0:ffffac118223:-6fc6eada:515023cb:18, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 15e8d72f &gt; [0m [33m10:15:52,460 WARN  [com.arjuna.ats.jta] (pool-2-thread-1) ARJUNA016041: prepare on &lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:-6fc6eada:515023cb:13, node_name=1, branch_uid=0:ffffac118223:-6fc6eada:515023cb:18, subordinatenodename=null, eis_name=unknown eis name &gt; (org.jboss.narayana.txvis.simple.DummyXAResource at 7aa354c9) failed with exception XAException.XAER_RMERR: javax.transaction.xa.XAException [0m [33m10:15:52,467 WARN  [com.arjuna.ats.arjuna] (pool-2-thread-1) ARJUNA012073: BasicAction.End() - prepare phase of action-id 0:ffffac118223:-6fc6eada:515023cb:13 failed. [0m [33m10:15:52,467 WARN  [com.arjuna.ats.arjuna] (pool-2-thread-1) ARJUNA012075: Action Aborting [0m10:15:52,467 TRACE [com.arjuna.ats.arjuna] (pool-2-thread-1) BasicAction::phase2Abort() for action-id 0:ffffac118223:-6fc6eada:515023cb:13 [0m10:15:52,468 TRACE [com.arjuna.ats.arjuna] (pool-2-thread-1) BasicAction::doAbort (XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 72e0b50, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:-6fc6eada:515023cb:13, node_name=1, branch_uid=0:ffffac118223:-6fc6eada:515023cb:14, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 50150c84 &gt;) [0m10:15:52,468 TRACE [com.arjuna.ats.jta] (pool-2-thread-1) XAResourceRecord.topLevelAbort for XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 72e0b50, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:-6fc6eada:515023cb:13, node_name=1, branch_uid=0:ffffac118223:-6fc6eada:515023cb:14, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 50150c84 &gt; [0m10:15:52,468 TRACE [com.arjuna.ats.arjuna] (pool-2-thread-1) BasicAction::doAbort (XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 7aa354c9, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:-6fc6eada:515023cb:13, node_name=1, branch_uid=0:ffffac118223:-6fc6eada:515023cb:18, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 15e8d72f &gt;) [0m10:15:52,469 TRACE [com.arjuna.ats.jta] (pool-2-thread-1) XAResourceRecord.topLevelAbort for XAResourceRecord &lt; resource:org.jboss.narayana.txvis.simple.DummyXAResource at 7aa354c9, txid:&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffffac118223:-6fc6eada:515023cb:13, node_name=1, branch_uid=0:ffffac118223:-6fc6eada:515023cb:18, subordinatenodename=null, eis_name=unknown eis name &gt;, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord at 15e8d72f &gt; h3. h3. Data Model The basic data model currently used in early iterations of the tool is described in the following ER diagram https://community.jboss.org/servlet/JiveServlet/showImage/102-48255-8-20766/txvis-entities.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-48255-8-20766/450-186/txvis-entities.png</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control notes</header>
    <body>h1. Objective By early September to implement a simplified domain management access control solution suitable for both AS 8 and EAP 6.x. The primary objective is to establish a simple set of roles with which users can be associated, with clear sets of operation execution permissions associated with each role. The second critical objective is to develop an architecture for authorization that will allow for a much more generic/flexible authorization scheme to be implemented in future releases without breaking the simple scheme we do now. Actually providing a generic scheme is out of scope for AS 8. h1. Team and Timeline Full time: Heiko Braun, Darran Lofthouse, Kabir Khan, Brian Stansberry Available to assist as needed: Jason Greene, Anil Saldhana, subsystem leads Design Phase I: + Lay out the fundamental architecture, identify the main requirements and intended approach for meeting each + 2 weeks + Completion allows some aspects of dev to begin (which, TBD) + Inability to get the stated time commitments from all participants delays completion by that amount of time Design Phase II: + Design in detail some of the fundamental areas where either coordinated design is required or a sub-team needs to flesh out details + 2 weeks Dev Phase: + 2.5 months + Achieve feature completion + See tasks below ++ need to assign resources and timelines to each task. Dev Test Phase: + hardening period + 1 month + ends Sept 6 QE Phase: + begins following September 6 end of Dev Test Phase h1. Tasks *General Tasks* - Provide a permission model, storage and API - Enable configuration of the permission model - Provide operations to retrieve permission meta data - Enforce permissions in core management compoments (mapping of permission model against resources) - Respect permissions  in web console (mapping of permission model against interaction units and use cases) - Respect permissions in CLI (mapping of permission model against command line syntax and use cases) *Component Breakdown* Core Management Compoments * * interface to decision point + information about resource access request + information about user + other information about request (time of day, interface, etc) misc op authorization + basic control over op execution write-attribute/undefine-attribute authorization add op authorization + trick here is cases where certain attributes can't be written ++ my instinct is to reject the add; no sophisticated rules read-attribute authorization read-resource authorization, output control to use response header to indicate content was filtered configuration of our default decision point user info configuration (what data to provide decision point, where to get it) read-resource-access op (an op to learn about user's ability to use API; based on read-resource-description) + uses ++ general information ++ allow caller to disable features that will be non-functional (e.g. buttons for misc ops that are not available) model-reference issues + general issue of resources in a tree being affected by other resources + server groups ++ user has rights to a resource that affects an SG, but not to the SG itself + hosts ++ similar issue ++ twist is host-specific config vs domain-wide config affecting server's on a host + others? + notion: enforce this at domain rollout time? ++ problem: what about an admin-only HC situation? -- no rollout Configuration propagation ++ master HC to slave JMX security + AS domains depend on core security, as they just delegate ++ provide some information about access mechanism + other mbeans ++ what policy? ++ what control point? Web Console + the interface structure doesn't necessarily refelct the model structure ++ i.e. some coarse grained interface compoments rely on a number of resources across the model + distinction between interface structure (interaction units) and DMR payload + suppression of interaction units can only be done if the screens properly bootstrap from the model ++ relates to "read-resource-access" ++ currently not the case and a major change (intended first prototype for AS8) + distinction between logical entities and resource tree structure ++ i.e. /subsystem=datasources is resource tree structure ++ datasource=ExampleDS is a logical entity within the tree structure ++ makes a diference for address pattern matching... + do we support security constraints for logical entities? (can see datasource "Foo" but not datasource "Bar") ++ relates to "model-reference issues". CLI + basic handling of low-level (should be ok) + disable high-level commands in advance? + ls -- high-level equivalent to read-resource Misc issues: sniffing for resources -- request a resource to learn it exists from the failure response h2. Permission Model + Should we aim for a mapping of resources onto a permission model? ++ Do we provide the permission model? ++ For a starting point see:  https://community.jboss.org/docs/DOC-47854 https://community.jboss.org/wiki/ManagementLayerAccessControl h1. Resource and Action Attributes The following describes attributes required as inputs to a authorization mechanism, which that mechanism would use to enforce some permission schemes we've heard of. The assumption was the authorization mechanism would be some form of Attribute Based Access Control, although the use of ABAC is not a requirement. The terms "Resource Attributes" and "Action Attributes" is derived from the XACML spec, which notes that "Information security policies operate upon attributes of subjects, the resource, the action and the environment in order to arrive at an authorization decision." This section is concerned with identifying relevant attributes of the management resources toward which an operations is targetted, as well as the relevant attributes of the operation itself. DMR API and Wireformat + separate static security meta data from dynamic runtime headers? ++ static: part of "read-resource-access" ++ dynamic: indication of enforced constraints as part of a DMR response (i.e suppressed elements) h4. Scheme 1: Monitor: -- read-only flag on the operation Configurator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Administrator -- resource address Deployer -- resource address Admin Security Manager -- I would consider the equivalent for us to be the ability to configure the access control policies -- resource address Auditor -- resource address h4. Scheme 2: Anonymous -- N/A Admin -- none; user is root Deployer seems equivalent to Scheme 3's read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator -- read-only flag on the operation -- resource-address -- operation name -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Monitor -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? h4. Scheme 3: Read-only -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Privileged -- none; user is root This is basically equivalent to Scheme 2, without Scheme 2's "Operator". h4. Scheme 4: Administrator view or modify anything; deploy apps, perform lifecycle functions -- none; user is root Deployer view anything, deploy apps, perform lifecycle functions -- read-only flag on the operation -- resource-address -- operation name Operator view anything, perform lifecycle -- read-only flag on the operation -- resource-address -- operation name Monitor view anything -- read-only flag on the operation</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control notes</header>
    <body>h1. Objective By early September to implement a simplified domain management access control solution (administrative security) suitable for both AS 8 and EAP 6.x. The primary objective is to establish a simple set of roles with which users can be associated, with clear sets of operation execution permissions associated with each role. The second critical objective is to develop an architecture for authorization that will allow for a much more generic/flexible authorization scheme to be implemented in future releases without breaking the simple scheme we do now. Actually providing a generic scheme is out of scope for AS 8. h1. Team and Timeline Full time: Heiko Braun, Darran Lofthouse, Kabir Khan, Brian Stansberry Available to assist as needed: Jason Greene, Anil Saldhana, subsystem leads Design Phase I: + Lay out the fundamental architecture, identify the main requirements and intended approach for meeting each + 2 weeks + Completion allows some aspects of dev to begin (which, TBD) + Inability to get the stated time commitments from all participants delays completion by that amount of time Design Phase II: + Design in detail some of the fundamental areas where either coordinated design is required or a sub-team needs to flesh out details + 2 weeks Dev Phase: + 2.5 months + Achieve feature completion + See tasks below ++ need to assign resources and timelines to each task. Dev Test Phase: + hardening period + 1 month + ends Sept 6 QE Phase: + begins following September 6 end of Dev Test Phase h1. Tasks *General Tasks* - Provide a security policy model, storage and API - Provide the integration of the security policy model with (external) user registries - Enable configuration of the security policy model and mapping to users - Provide operations to retrieve security meta data and/or todo pre-flight authorisation checks - Enforce permissions in core management compoments (mapping of policies against resources) - Respect permissions in web console (GUI should be aware and respect the policies: i.e. suppression of interaction units) - Respect permissions in CLI (CLI should be aware and respect the policies: i.e: restriction of command line syntax) - Provide methodologies and strategies to assure completeness of security policies and their enforcement *Component Breakdown* Core Management Components * * interface to decision point + information about resource access request + information about user + other information about request (time of day, interface, etc) misc op authorization + basic control over op execution write-attribute/undefine-attribute authorization add op authorization + trick here is cases where certain attributes can't be written ++ my instinct is to reject the add; no sophisticated rules read-attribute authorization read-resource authorization, output control to use response header to indicate content was filtered configuration of our default decision point user info configuration (what data to provide decision point, where to get it) read-resource-access op (an op to learn about user's ability to use API; based on read-resource-description) + uses ++ general information ++ allow caller to disable features that will be non-functional (e.g. buttons for misc ops that are not available) model-reference issues + general issue of resources in a tree being affected by other resources + server groups ++ user has rights to a resource that affects an SG, but not to the SG itself + hosts ++ similar issue ++ twist is host-specific config vs domain-wide config affecting server's on a host + others? + notion: enforce this at domain rollout time? ++ problem: what about an admin-only HC situation? -- no rollout Configuration propagation ++ master HC to slave JMX security + AS domains depend on core security, as they just delegate ++ provide some information about access mechanism + other mbeans ++ what policy? ++ what control point? Admin Console + the interface structure doesn't necessarily refelct the model structure ++ i.e. some coarse grained interface compoments rely on a number of resources across the model + distinction between interface structure (interaction units) and DMR payload + suppression of interaction units can only be done if the screens properly bootstrap from the model ++ relates to "read-resource-access" ++ currently not the case and a major change (intended first prototype for AS8) + distinction between logical entities and resource tree structure ++ i.e. /subsystem=datasources is resource tree structure ++ datasource=ExampleDS is a logical entity within the tree structure ++ makes a diference for address pattern matching... + do we support security constraints for logical entities? (can see datasource "Foo" but not datasource "Bar") ++ relates to "model-reference issues". CLI + basic handling of low-level (should be ok) + disable high-level commands in advance? + ls -- high-level equivalent to read-resource Misc issues: sniffing for resources -- request a resource to learn it exists from the failure response h1. Resource and Action Attributes The following describes attributes required as inputs to a authorization mechanism, which that mechanism would use to enforce some permission schemes we've heard of. The assumption was the authorization mechanism would be some form of Attribute Based Access Control, although the use of ABAC is not a requirement. The terms "Resource Attributes" and "Action Attributes" is derived from the XACML spec, which notes that "Information security policies operate upon attributes of subjects, the resource, the action and the environment in order to arrive at an authorization decision." This section is concerned with identifying relevant attributes of the management resources toward which an operations is targetted, as well as the relevant attributes of the operation itself. DMR API and Wireformat + separate static security meta data from dynamic runtime headers? ++ static: part of "read-resource-access" ++ dynamic: indication of enforced constraints as part of a DMR response (i.e suppressed elements) h4. Scheme 1: Monitor: -- read-only flag on the operation Configurator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Administrator -- resource address Deployer -- resource address Admin Security Manager -- I would consider the equivalent for us to be the ability to configure the access control policies -- resource address Auditor -- resource address h4. Scheme 2: Anonymous -- N/A Admin -- none; user is root Deployer seems equivalent to Scheme 3's read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator -- read-only flag on the operation -- resource-address -- operation name -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Monitor -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? h4. Scheme 3: Read-only -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Privileged -- none; user is root This is basically equivalent to Scheme 2, without Scheme 2's "Operator". h4. Scheme 4: Administrator view or modify anything; deploy apps, perform lifecycle functions -- none; user is root Deployer view anything, deploy apps, perform lifecycle functions -- read-only flag on the operation -- resource-address -- operation name Operator view anything, perform lifecycle -- read-only flag on the operation -- resource-address -- operation name Monitor view anything -- read-only flag on the operation h2. Gloassary of terms || *Term* || *Description* || |  Security Policy | A security policy is an association between a resource and one or more users, groups, or security roles.   | | | | | | | | | |</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - WildFly Web Container Security Use Cases</header>
    <body>Darran - I changed the wording.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>The audit logging work in progress lives in  https://github.com/kabir/jboss-as/tree/AS7-444-audit-log https://github.com/kabir/jboss-as/tree/AS7-444-audit-log. This is a personal branch so I will force push, at least initially while rebasing onto master</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Compensating Transactions: When ACID is too much</header>
    <body>Do a Google search for Activity Service and for History of Extended transactions on InfoQ. May save you some writing background context.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Licensed version for JBPM</header>
    <body>Hi Friends, We have licensed version of JBOSS called jboss-eap version 5.1 in production environment for our project. We are planning to use JBPM in our project for development and QA environment. We are planning to use BRMS in our production environment( as JBPM is not licensed one) once the development is completed in JBPM. My question here is if we want to use BRMS (licenced version) should we pay seperately for BRMS or  Is jboss-eap 5.1 license enough to use BRMS? Could you please clarify on the above questions?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Licensed version for	JBPM</header>
    <body>Please contact your local Red Hat representative, as the solution is to have a JBoss BRMS subscription which will give you the JBoss EAP support also. In your case you would need to sort out moving forward what the best option for your situation is. The Red Hat represenative is your starting point (where you bought your JBoss EAP subscription).</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Licensed version for	JBPM</header>
    <body>Hi Eric, Thanks for your valueable response.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Two more thoughts to add: - 1 - Operations that go on to other things i.e. if an operation updates other attributes or calls other operations does it automatically have access or still perform access control check as the user? i.e. May want to stop a user from modifying indivudal attributes but let them call an operation that updates multiple at once. 2 - Pre-flight checks will be good but still need to consider the request may still fail authorization. A users group membership may not be static. Permissions on the server could be updated.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control notes</header>
    <body>h1. h1. Objective By early September to implement a simplified domain management access control solution (administrative security) suitable for both AS 8 and EAP 6.x. The primary objective is to establish a simple set of roles with which users can be associated, with clear sets of operation execution permissions associated with each role. The second critical objective is to develop an architecture for authorization that will allow for a much more generic/flexible authorization scheme to be implemented in future releases without breaking the simple scheme we do now. Actually providing a generic scheme is out of scope for AS 8. h1. Team and Timeline Full time: Heiko Braun, Darran Lofthouse, Kabir Khan, Brian Stansberry Available to assist as needed: Jason Greene, Anil Saldhana, subsystem leads Design Phase I: + Lay out the fundamental architecture, identify the main requirements and intended approach for meeting each + 2 weeks + Completion allows some aspects of dev to begin (which, TBD) + Inability to get the stated time commitments from all participants delays completion by that amount of time Design Phase II: + Design in detail some of the fundamental areas where either coordinated design is required or a sub-team needs to flesh out details + 2 weeks Dev Phase: + 2.5 months + Achieve feature completion + See tasks below ++ need to assign resources and timelines to each task. Dev Test Phase: + hardening period + 1 month + ends Sept 6 QE Phase: + begins following September 6 end of Dev Test Phase h1. Tasks h3. *General Tasks* - Provide a security policy model, storage and API - Provide the integration of the security policy model with (external) user registries - Enable configuration of the security policy model and mapping to users - Provide operations to retrieve security meta data and/or todo pre-flight authorisation checks - Enforce permissions in core management compoments (mapping of policies against resources) - Respect permissions in web console (GUI should be aware and respect the policies: i.e. suppression of interaction units) - Respect permissions in CLI (CLI should be aware and respect the policies: i.e: restriction of command line syntax) - Provide methodologies and strategies to assure completeness of security policies and their enforcement h3. *Component Breakdown* h4. Core Management Components * * interface to decision point + information about resource access request + information about user + other information about request (time of day, interface, etc) misc op authorization + basic control over op execution write-attribute/undefine-attribute authorization add op authorization + trick here is cases where certain attributes can't be written ++ my instinct is to reject the add; no sophisticated rules read-attribute authorization read-resource authorization, output control to use response header to indicate content was filtered configuration of our default decision point user info configuration (what data to provide decision point, where to get it) read-resource-access op (an op to learn about user's ability to use API; based on read-resource-description) + uses ++ general information ++ allow caller to disable features that will be non-functional (e.g. buttons for misc ops that are not available) model-reference issues + general issue of resources in a tree being affected by other resources + server groups ++ user has rights to a resource that affects an SG, but not to the SG itself + hosts ++ similar issue ++ twist is host-specific config vs domain-wide config affecting server's on a host + others? + notion: enforce this at domain rollout time? ++ problem: what about an admin-only HC situation? -- no rollout Configuration propagation ++ master HC to slave JMX security + AS domains depend on core security, as they just delegate ++ provide some information about access mechanism + other mbeans ++ what policy? ++ what control point? h4. Admin Console + the interface structure doesn't necessarily refelct the model structure ++ i.e. some coarse grained interface compoments rely on a number of resources across the model + distinction between interface structure (interaction units) and DMR payload + suppression of interaction units can only be done if the screens properly bootstrap from the model ++ relates to "read-resource-access" ++ currently not the case and a major change (intended first prototype for AS8) + distinction between logical entities and resource tree structure ++ i.e. /subsystem=datasources is resource tree structure ++ datasource=ExampleDS is a logical entity within the tree structure ++ makes a diference for address pattern matching... + do we support security constraints for logical entities? (can see datasource "Foo" but not datasource "Bar") ++ relates to "model-reference issues". h4. CLI + basic handling of low-level (should be ok) + disable high-level commands in advance? + ls -- high-level equivalent to read-resource h4. Misc: sniffing for resources -- request a resource to learn it exists from the failure response h2. Separation of Duty || *Role* || *Description* || | Monitor | The monitor role has the fewest permissions and restricts the user to viewing the configuration and current state. | | Configurator | The configurator role has the same permissions as the monitor role, and can change the configuration. For example, the configurator can deploy an application. | | Operator | The operator role has monitor permissions and can change the runtime state. For example, the operator can start or stop services and servers | | Administrator | The administrator role has the combined permissions of the operator and the configurator. This role has permission to access sensitive data, including passwords. The administrator role is the superuser of the Application Server. A user in this role can perform all tasks, except (if revoked) those tasks that are associated with the auditor role. | | Deployer | The deployer role can perform both configuration actions and runtime operations on Applications. | | Admin Security Manager | The admin security manager role separates administrative security administration from other application administration. This role implies a monitor role. However, an administrator role does not imply the admin security manager role. Only users who are assigned to this role can assign users to administrator roles.  | | Auditor | The auditor role can view and modify the configuration settings for the security auditing subsystem. The auditor role includes the monitor role, allowing the auditor to view but not change the rest of the security configuration. | h2. Resource and Action Attributes The following describes attributes required as inputs to a authorization mechanism, which that mechanism would use to enforce some permission schemes we've heard of. The assumption was the authorization mechanism would be some form of Attribute Based Access Control, although the use of ABAC is not a requirement. The terms "Resource Attributes" and "Action Attributes" is derived from the XACML spec, which notes that "Information security policies operate upon attributes of subjects, the resource, the action and the environment in order to arrive at an authorization decision." This section is concerned with identifying relevant attributes of the management resources toward which an operations is targetted, as well as the relevant attributes of the operation itself. DMR API and Wireformat + separate static security meta data from dynamic runtime headers? ++ static: part of "read-resource-access" ++ dynamic: indication of enforced constraints as part of a DMR response (i.e suppressed elements) h3. Scheme 1: Monitor: -- read-only flag on the operation Configurator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Administrator -- resource address Deployer -- resource address Admin Security Manager -- I would consider the equivalent for us to be the ability to configure the access control policies -- resource address Auditor -- resource address h3. Scheme 2: Anonymous -- N/A Admin -- none; user is root Deployer seems equivalent to Scheme 3's read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator -- read-only flag on the operation -- resource-address -- operation name -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Monitor -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? h3. Scheme 3: Read-only -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Privileged -- none; user is root This is basically equivalent to Scheme 2, without Scheme 2's "Operator". h3. Scheme 4: Administrator view or modify anything; deploy apps, perform lifecycle functions -- none; user is root Deployer view anything, deploy apps, perform lifecycle functions -- read-only flag on the operation -- resource-address -- operation name Operator view anything, perform lifecycle -- read-only flag on the operation -- resource-address -- operation name Monitor view anything -- read-only flag on the operation h2. Gloassary of terms || *Term* || *Description* || | Security Policy | A security policy is an association between a resource and one or more users, groups, or security roles.   | | | | | | | | | |</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Problem to use JBPM on gwt	project</header>
    <body>Hi friends, I am new on jbpm with many problems!!! I want to use jbpm on my gwt project  and mysql. I get error when I want to create EntityManagerFactory: avax.persistence.PersistenceException: PersistenceUnit: org.jbpm.persistence.jpa Unable to build EntityManagerFactory     at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:677)     at org.hibernate.ejb.HibernatePersistence.createEntityManagerFactory(HibernatePersistence.java:126)     at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:51)     at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:33)     at com.ayriksoft.desktopapp.server.TaskServiceManager.getInstance(TaskServiceManager.java:319)     at com.ayriksoft.desktopapp.server.JBPMServiceImpl.setup(JBPMServiceImpl.java:116)     at com.ayriksoft.desktopapp.server.JBPMServiceImpl.initializeJbpmSession(JBPMServiceImpl.java:51)     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)     at java.lang.reflect.Method.invoke(Method.java:597)     at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:561)     at com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:208)     at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)     at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)     at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)     at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)     at org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)     at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)     at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)     at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)     at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)     at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)     at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)     at java.lang.Thread.run(Thread.java:619) Caused by: org.hibernate.HibernateException: Could not obtain BTM transaction manager instance     at org.hibernate.transaction.BTMTransactionManagerLookup.getTransactionManager(BTMTransactionManagerLookup.java:50)     at org.hibernate.impl.SessionFactoryImpl.(BitronixTransactionManager.java:62)     ... 45 more Its my gwt service class:     @Override                 @Override                 @Override and Its my TaskServiceManager.java:          client = new TaskClient(new MinaTaskClientConnector("client 1",                 throw new IllegalArgumentException(   public KnowledgeBase readKnowledgeBase(Map&lt;Resource, ResourceType&gt; resources)     public StatefulKnowledgeSession getSession()     public StatefulKnowledgeSession createSession() // and its my persistence.xml fil in META_INF:</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Thoughts on model-references. I'm going to outline different types of references, with suggestions for what rules could be enforced. What I'm getting at here is if we allow a more narrowly scoped variant of our standard roles (e.g. a person is an "Operator" but only for server-group "foo" or only for server host=x/server=y), how would those scoped permissions relate to other resources? Specifically for a given reference: Referrer to referent: a) does referrer need perms to validate existence of the referent? b) do rights to the referrer grant rights to the referent? For example, ability to write to referrer grants right to write referent Referent to referrer: a) does user require perms to referrer to change referent? b) do rights to the referent grant rights to the referrer? For example, ability to write to referent grants right to write referrer The types of references I considered and the answers I have have for the above questions: Misc references: Example: ejb to ispn cache Referrer to referent: a) no b) no Referent to referrer: a) no b) no References to secure resources: Example: remoting connector to security domain cache Referrer to referent: a) yes b) no Referent to referrer: a) no b) no Server group to profile: Referrer to referent: a) no b) configurable (config for a server-group-scoped role could have a flag) Referent to referrer: a) yes b) no Server group to socket-binding-group: Referrer to referent: a) no b) configurable Referent to referrer: a) yes b) no Server group to deployment: Referrer to referent: a) no b) configurable Referent to referrer: a) yes b) no Server group to deployment-override: Referrer to referent: a) no b) configurable Referent to referrer: a) yes b) no Server to server-group: Referrer to referent: a) no b) no (give user rights to server-group if this is desired) Referent to referrer: a) no b) no Server to socket-binding-group: Referrer to referent: a) no b) no Referent to referrer: a) no b) no I went through a bunch of different cases with the server-group and server ones, but for each type, the answers are the same.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Fire a single rule from JBPM</header>
    <body>Hi, When we use a BusinessRuleTask (BRT), we specify a Rule-FlowGroup, so when that BRT is executed, the rules under the specified Rule-FlowGroup are only executed. Similarly, When we call fireAllRules method, so that the rules in the DRL are executed. My question here is,  Is there a way to invoke specific rule Or set of rules insead of calling fireAllRules method of StatefulKnowledgeSession object. Can you help me on this?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Some thoughts on Isn't it always the case that you need the same rights for both? IMO the situation where you have other permissions on the referent then on the referrer is an illegal constraint, no?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Reading through your examples again, I think this one shouldn't be supported: If you don't have the same rights on both ends (which is what the sentence implies) it should be considered an illegal constraint and access to the the referent not be granted. Eventually we shoud veen take it further and consider the role as illegal (unusable) when it is associated with illegal secuty rules.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Some thoughts on the security subsystem:</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>talking to darran: it seems the secuirty subsystem is only used for application level security and clearly separated from the adminstrative secuirty. Can sombody confirm this?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Deploy and	undeploy with the CLI</header>
    <body>Hi Wallace, I am using Amazon's VM, fedora 18. Jboss application server is just another service in fedora. To check the jboss-as service status , use the command systemctl like this, # systemctl status jboss-as . I have tested stopping the service then attempting starting the cli. It would not work. To start the service, run the command systemctl like this, # systemctl start jboss-as .</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Portal Development] - UK based jBoss	developers wanted</header>
    <body>A global organisation are currently recruiting for an experienced Java/J2EE Developer with excellent JBoss skills for an important SSO portal development project. You will be responsible for the development of a single sign-on portal therefore you will have hands on experience within development/deployment/configuration in a Java/JBOSS environment as well as the following technical skills: JBoss Enterprise Portal Edition (5 and upwards), Maven, Groovy, Spring, MySQL and Agile development experience is preferred. Xpertise are acting as an employment and agency business. We have both contract and perm roles available... contact me directly.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Ideally it should be the location of all security configuration. I do encourage moving the configuration to the security subsystem.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Let's be concrete. If I have the right to *write* the "security-domain" attribute on a remoting subsystem connector resource, that does not require me as a user to have any rights to the security domain resource other than being able to be aware of its existence. It can be argued that I should also be required to have the ability to fully read the resource as well, although fundamentally it's the remoting subsystem code that needs that, not me as a user. In no way does it require that I be able to *write* to the security domain resource. So, I disagree that the same rights are required on both ends. I'm not so sure that even rights to a referent are black-and-white when it comes to rights to a referrer. Just because I can read a security domain config doesn't mean I can read the config of every resource that references it. Perhaps I should be able to see all references so I know what's affected by the resource. I'm going to think about this in terms of something more exact. That is, what exact permissions are we talking about on each side. For example "write" permission to a referent results in modifying the effective config of a referrer, and a permission to do that is necessary, but that's a different thing from a permission to write some other attribute of the referrer.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>A lot of the subtleties about this are more important for the future.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>For a standalone server, the security-subsystem leaks out to management security via this: https://github.com/wildfly/wildfly/blob/master/build/src/main/resources/docs/schema/jboss-as-config_2_0.xsd#L513 https://github.com/wildfly/wildfly/blob/master/build/src/main/resources/docs/schema/jboss-as-config_2_0.xsd#L513 Basically, the management security realm can delegate to a JAAS security domain configured in the subystem. To consolidate all security configuration in the security "subsystem" requires adding some sort of extension/subsystem notion to the Host Controller. But that's too big a change to make for EAP 6.2.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>we just need to be clear about the distinction between application level security and domain level security. lack of separation leads to the question how the access control for different roles (i.e. operator vs admin security manager) can be realized. an operator should be able to modify the application level security but prevented from accessing the domain level security. now if evething resides with the secuirty subsystem, we would either need very fine grained access control rules or a strict separation. My gut feeling tells the later is more comprehensible.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>I can understand your point if view. IMO it depends on the question which use cases have precendence. I.e. think about a blank server configuration. Taken your example of a security domain and a remoting connector, you wold need to configure both ends. In this scenario I think we would agree that same rights on both ends (write access) are probably required. The example that you used builds on the assumption that one end is already configured. Precendence of use cases would mean that the foremost example will used to guide the design, not the later. The question is not what are the minimum security requirements, but what are permission are required at maximum. With regard to this I still believe, that whenever a reference is used as part of the configuration you'd require the same permissions on both ends to enable the full set of use cases that we can think of. IMO for reference this includes creation and removal of the the refernt in all cases. Does that make sense?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Calling remote ESB	client error</header>
    <body>Hi, I am trying to send and esb message from remote client, but I am constantly getting this error: org.jboss.soa.esb.listeners.message.MessageDeliverException: Invocation exception. null     at org.jboss.soa.esb.client.ServiceInvoker.loadServiceClusterInfo(ServiceInvoker.java:545)     at org.jboss.soa.esb.client.ServiceInvoker.&lt;init&gt;(ServiceInvoker.java:174)     at org.jboss.soa.esb.client.ServiceInvoker.&lt;init&gt;(ServiceInvoker.java:155)     at org.jboss.soa.esb.client.ServiceInvoker.&lt;init&gt;(ServiceInvoker.java:197)     at cz.certicon.esb.test.SenderESB.sendAMessage(SenderESB.java:24)     at cz.certicon.esb.test.Manager.sendESBMessage(Manager.java:94)     at cz.certicon.esb.test.MyFrame.actionPerformed(MyFrame.java:120)     at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)     at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)     at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)     at javax.swing.DefaultButtonModel.setPressed(Unknown Source)......... I found many tutorials on setting up remote client, but none of them helped me. I am using JBoss AS 6 with ESB 4.11 and running my application from Eclipse (with JBoss Tools). Sending JMS messages work fine, but I cant make this work. This is my sample code for sending esb messages: |   System.setProperty("javax.xml.registry.ConnectionFactoryClass",|   "org.apache.ws.scout.registry.ConnectionFactoryImpl");  | |  |  |   Message esbMessage = MessageFactory.getInstance().getMessage(); | |  |  |   esbMessage.getBody().add(message); | |  |    | new ServiceInvoker("FirstServiceESB", "SimpleListener").deliverAsync(esbMessage); | 1) I have JBossESB runtime and JBoss 6.0 runtime imported (including all the libraries they provide). 2) I included jbossts-common.jar 3) I have jboss-esb.xml, uddi.xml and jbossesb-properties.xml in META-INF directory (I include these files as attachment, the last two are copied from helloworld quickstart...) I honestly dont know what else to do to make it work... any kind of help is appreciated!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>"Ideally it should be the location of all security configuration. I do encourage moving the configuration to the security subsystem." The security subsystem is not available within the host controller process - this is the reason we can not use the security subsystem for domain management.  Having some form of subsystem support in the host controller is part of the much longer term plan - at that point yes re-using the subsystem will be desirable to ensure a unified security configuration across the whole AS but as it stands today moving the items to it is just not practical. Once subsystem support is available it would also be desirable to re-use the web susbystem to take advantage of any additional config there as well. This is horrible for threaded discussions - any chance we could move this to a mail thread?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Another option could be. Split the JAAS configuration portion of the security subsystem into it's own schema.  Reference it from both the as config schema and the security subsystem schema and modify the portion of the security subsystem that operates on this to be able to parse these elements when defined in the security subsystem AND within a security realm.  That way instead of referencing the domain we could just define the login module stack directly in the realm. Using JAAS in the host controller has been problematic as well so would solve that problem for some users.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - hello, all ! How to integrate jbpm5 into my web application ?</header>
    <body>hello,all:        if anyone can help me ?  thank you in advance!        I want to use jbpm5 in my spring project. i don't know how to configrue my datasource with jbpm workflow . And how to use workflow disgner ? just put the designer.war into Tomcat 's directory of webapps?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How to start Human Task Process with Authentication</header>
    <body>I use to start JBPM Process using ksession.startProcess(processId, requestMap). My requirement is, I need to pass user id as parameter and need to validate before I start the JBPM Process (whether this user is having an access to start the process or not).  Is there any Knowledge API is there to take care of this scenario? Balaji</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Hacking on WildFly</header>
    <body>h4. h4. 1. Create a github account http://github.com http://github.com h4. 2. Fork wildfly repository into your account https://github.com/wildfly/wildfly https://github.com/wildfly/wildfly h4. 3. Clone your newly forked copy onto your local workspace $ git clone git at github.com:[your user]/wildfly.git Initialized empty Git repository in /devel/wildfly/.git/ remote: Counting objects: 2444, done. remote: Compressing objects: 100% (705/705), done. remote: Total 2444 (delta 938), reused 2444 (delta 938) Receiving objects: 100% (2444/2444), 1.71 MiB | 205 KiB/s, done. Resolving deltas: 100% (938/938), done. $ cd wildfly h4. 4. Add a remote ref to upstream, for pulling future updates git remote add upstream git://github.com/wildfly/wildfly.git h4. 5. As a precaution, disable merge commits to your master git config branch.master.mergeoptions --ff-only h4. 6. Use maven (via build.sh or build.bat) Building WildFly 8 requires Java 7 or newer, make sure you have JAVA_HOME set to point to the JDK7 installation. Build uses Maven 3. $ ./build.sh ..... [INFO] ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Logging Id's -	Clustering</header>
    <body>h1. Clustering range: 10200 - 10399 (199 message ids) h1. ClusteringApiLogger: 10200 (range = 10, used = 2) ClusteringApiMessages: 10210 (range = 10, used = 10) ClusteringImplLogger: 10220 (range = 20, used = 19) ClusteringImplMessages: 10240 (range = 20, used = 9) JGroupsLogger: 10260 (range = 10, used = 6) JGroupsMessages: 10270 (range = 10, used = 10); 10390 (range = 10, used = ?) InfinispanLogger: 10280 (range = 10, used = 7) InfinispanMessages: 10290 (range = 10, used = 10); 10380 (range = 10, used = 6) ClusteringWebLogger: 10300 (range = 10, used = 1) ClusteringWebMessages: 10310 (range = 10, used = 5) InfinispanWebLogger: 10320 (range = 10, used = 6) InfinispanWebMessages: 10330 (range = 10, used = 7) SingletonLogger: 10340 (range = 10, used = 7) SingletonMessages: 10350 (range = 10, used = 2) EJBLogger: 10370 (range = 10, used = 0) EJBMessages: 10360 (range = 10, used = 4)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Logging Id's</header>
    <body>Logging id ranges for JBoss AS7 i18n message interfaces. ||  %1,3% *Status* || | C | = | Complete | | I | = | In Progress | | P | = | Merged, but not complete | | W | = | Waiting Merge | || *Range* || *Subsystem * || *Status * || | *10100 - 10199* | *Transaction* | C | | *10200 - 10399 * | *Clustering (https://community.jboss.org/docs/DOC-48622)** * | C | | *10400 - 10499* | *Connector** * | C | | *10500 - 10599* | *CLI (not applicable) * | N/A | | *10600 - 10699* | *Controller Client* | C | | *10700 - 10799*, *18500 - 18699, 18800-18999* | *CMP* | C | | *10800 - 10899* | *Host Controller (domain packages)* | C | | *10900 - 10999, 16500 - 16599* | *Host Controller (host packages)* | C | | *11000 - 11099, 16700 - 16799* | *EE* | C | | *11100 - 11199* | *Embedded* | C | | *11200 - 11299* | *JAXRS* | C | | *11300 - 11399* | *JMX* | C | | *11400 - 11499* | *JPA* | C | | *11500 - 11599* | *Logging* | C | | *11600 - 11699* | *Messaging* | C | | *11700 - 11799* | *mod_cluster* | C | | *11800 - 11899* | *Naming* | C | | *11900 - 11999* | *OSGi* | C | | *12000 - 12099, 16600 - 16699* | *Process Controller* | C | | *12100 - 12199* | *Protocol* | C | | *12200 - 12299* | *Management Client Content* | C | | *12300 - 12399* | *Platform MBeans* | C | | *12400 - 12499* | *Threads* | C | | *12500 - 12599* | *PicketLink* | I | | *12600 - 12699* | *JSF (proposed)* | | | *12700 - 13100* | *IIOP Common (proposed)* | | |  *13100 - 13199* | *JDR* | C | | *13200 - 13299* | *AppClient* | C | | *13300 - 13399* | **Security* * | C | | *13400 - 13499, 14600 - 14899* | *Controller* | C | | available block(s) | | | | *14000 - 14099* | *JAXR* | W | | *14100 - 14599* | *Ejb3* | P | | **13400 - 13499, 14600 - 14899** | *Controller* | C | | *14900 - 14999* | *Deployment Repository* | C | | *15000 - 15099* | *Deployment Scanner* | C | | *15100 - 15199* | *Domain Management HTTP Interface* | C | | *15200 - 15299* | *Deployment Management* | C | | *15300 - 15399* | *Network* | C | | *15400 - 15499* | *Mail* | C | | *15500 - 15699* | *Web Services (AS subsystem)* | C | | *15700 - 15999*, *18700 - 18799* | *Server* | C | | *1**6000 - 16099* | *Weld* | C | | *16100 - 16199* | *EE Deployment* | C | | *16200 - 16299* | *Configadmin* | C | | *16300 - 16499* | *Jacorb* | C | | *10900 - 10999, 16500 - 16599* | *Host Controller (host packages)* | C | | *12000 - 12099, 16600 - 16699* | *Process Controller* | C | | *11000 - 11099, 16700 - 16799* | *EE* | C | | *16800 - 16899* | *Patching (Library)* | C | | *16900 - 16999* | *Patching (Server)* | | | *17000 - 17099* | *POJO* | C | | *17100 - 17199* | *Remoting* | W | | *17200 - 17299* | *SAR* | W | | *17300 - 17699* | *Web/Undertow (reserved)* | I | | available block(s) | | | | *18000 - 18399* | *Web* | C | | *18400 - 18499* | *Xts* | C | | *15700 - 15999, 18700 - 18799* | *Server* | C | | available block(s) | | | | *19000-19999* | *JSR-77* | I | | *20000-20199* | *Camel* | I |</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Logging Id's</header>
    <body>Logging id ranges for JBoss AS7 i18n message interfaces. ||  %1,3% *Status* || | C | = | Complete | | I | = | In Progress | | P | = | Merged, but not complete | | W | = | Waiting Merge | || *Range* || *Subsystem * || *Status * || | *10100 - 10199* | *Transaction* | C | | *10200 - 10399 * | *Clustering (https://community.jboss.org/docs/DOC-48622)** * | C | | *10400 - 10499* | *Connector** * | C | | *10500 - 10599* | *CLI (not applicable) * | N/A | | *10600 - 10699* | *Controller Client* | C | | *10700 - 10799*, *18500 - 18699, 18800-18999* | *CMP* | C | | *10800 - 10899* | *Host Controller (domain packages)* | C | | *10900 - 10999, 16500 - 16599* | *Host Controller (host packages)* | C | | *11000 - 11099, 16700 - 16799* | *EE* | C | | *11100 - 11199* | *Embedded* | C | | *11200 - 11299* | *JAXRS* | C | | *11300 - 11399* | *JMX* | C | | *11400 - 11499* | *JPA* | C | | *11500 - 11599* | *Logging* | C | | *11600 - 11699* | *Messaging* | C | | *11700 - 11799* | *mod_cluster* | C | | *11800 - 11899* | *Naming* | C | | *11900 - 11999* | *OSGi* | C | | *12000 - 12099, 16600 - 16699* | *Process Controller* | C | | *12100 - 12199* | *Protocol* | C | | *12200 - 12299* | *Management Client Content* | C | | *12300 - 12399* | *Platform MBeans* | C | | *12400 - 12499* | *Threads* | C | | *12500 - 12599* | *PicketLink* | I | | *12600 - 12699* | *JSF (proposed)* | | | *12700 - 13100* | *IIOP Common (proposed)* | | |  *13100 - 13199* | *JDR* | C | | *13200 - 13299* | *AppClient* | C | | *13300 - 13399* | **Security* * | C | | *13400 - 13499, 14600 - 14899* | *Controller* | C | | available block(s) | | | | *14000 - 14099* | *JAXR* | W | | *14100 - 14599* | *Ejb3* | P | | **13400 - 13499, 14600 - 14899** | *Controller* | C | | *14900 - 14999* | *Deployment Repository* | C | | *15000 - 15099* | *Deployment Scanner* | C | | *15100 - 15199* | *Domain Management HTTP Interface* | C | | *15200 - 15299* | *Deployment Management* | C | | *15300 - 15399* | *Network* | C | | *15400 - 15499* | *Mail* | C | | *15500 - 15699* | *Web Services (AS subsystem)* | C | | *15700 - 15999*, *18700 - 18799* | *Server* | C | | *1**6000 - 16099* | *Weld* | C | | *16100 - 16199* | *EE Deployment* | C | | *16200 - 16299* | *Configadmin* | C | | *16300 - 16499* | *Jacorb* | C | | *10900 - 10999, 16500 - 16599* | *Host Controller (host packages)* | C | | *12000 - 12099, 16600 - 16699* | *Process Controller* | C | | *11000 - 11099, 16700 - 16799* | *EE* | C | | *16800 - 16899* | *Patching (Library)* | C | | *16900 - 16999* | *Patching (Server)* | | | *17000 - 17099* | *POJO* | C | | *17100 - 17199* | *Remoting* | W | | *17200 - 17299* | *SAR* | W | | *17300 - 17699* | *Web/Undertow (reserved)* | I | | available block(s) | | | | *18000 - 18399* | *Web* | C | | *18400 - 18499* | *Xts* | C | | *15700 - 15999, 18700 - 18799* | *Server* | C | | available block(s) | | | | *19000-19999* | *JSR-77* | I | | *20000-20199* | *Camel* | I | | *20200-20299* | *JipiJapa* | I | | | | |</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Developed EJB3 based application that I have placed in JBOSS 7 modules is not being looked up.</header>
    <body>I have created an ejb application  (MyEJB.jar) and placed in JBOSS 7 modules "com.xxx.myejb". Everything is fine module is being loaded. Now there is a war in deployments has a servlet is accessing the jar. The jar is visible (I have made entry of the module in deployment structure file). The servlet calls a method of a class SystemStart.java. Within that method I am invoking ejb already in the jar. initial context is fine but when trying to lookup ejb, it gets failed and throwing NameNotFound exception. EJB is stateless name CSTimerBean Local interface name CSTimerLocal Here is the code-             // The EJB bean implementation class name             // Fully qualified remote interface name             // Create a look up string name             String name = "ejb:" + appName + "/" + moduleName + "/" +                 // 1. Obtaining Context                 // 3. Lookup and cast</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>If we require that to create a reference you have to have write access to the referent, we'll quickly find that everything devolves back to read-only or root-level. For example, if we consider socket-bindings to be privileged resources where you need special permissions to define the socket details, then most subsystems will become equivalently privileged resources.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Sure. Instead of writing up my notes from this morning's chat as a comment here, I'll start a thread.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>I lied, I'll post a comment instead.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>The fundamental difference between a couple of the role schemes we've looked at is how they deal with permissions for security privileged resources. Basically there are two variants: 1) An admininistrator role that effectively is root. 2) A split-responsibility setup, where there is an Administrator role that can deal with application level security, and an Admin Security Manager role that deals with administrative security. The rationale for the split-responsibility setup is different parts of an organization deal may deal with application level security versus administrative security; e.g. the application teams will deal with the former while core IT will deal with the latter. Some questions are: 1) Do we want to support separate roles for application level security vs administrative security? 2) If we do, can support for this be deferred to a subsequent iteration of this feature? 3) If we do, what changes are required to the underlying AS to allow a meaningful separation of the roles? The first question is open for discussion. I'll address the second in a later post. This post is focused on the 3rd. The way WildFly currently works, we cannot enforce a valid separation between application security management and core administrative security management. There are two basic issues: 1) Application-level security constructs (i.e. security domains in the security subsystem) leak into core administrative security via the ability to configure a core security-realm resource to delegate to a JAAS security domain configured in the subsystem. 2) Core security constructs leak into application security via a couple paths: a) Ability to reference core security realms from security subsystem security domains. b) Ability to reference a core security realm from a remoting subsystem connector. (There's also a twist where a managed domain server can be configured to use a remoting subsystem endpoint for it's management connection back to its Host Controller. I need to untangle the implications of that.) In a discussion with Darran and Heiko today, we discussed the following possible tasks for resolving these problems: A) Remove the need for referencing security subsystem security domains from the core security realm by adding support to security realms for the configuration elements currently only available via security domains (login modules etc). B) Remove the need for referencing core security realms from subsystem resources by adding the ability to configure security realms within the security subsystem. This would allow a clean separation between administrative security and application security. This direction would be contrary to a stated goal of doing everything in a security subsystem. However the intent would be the configuration elements would be consistent (with most code shared as well). Even with everything in a single security subsystem, if a clean separation of application security from administrative security is a valid long term requirement, the configuration of that single subsystem would have to have some construct to reflect that separation. Following this approach does not allow us to require incompatible changes in this first iteration of the feature. So, an existing config with references between core security realms and subsystem resources will have to still be supported. However, it is not required that we support configuring the new access control features with such a configuration. It is reasonable to require users who wish to enable access control to update their configs to use the new configuration options mentioned above. Enforcing this would lead to a 3rd task: C) Detect cases where access control is configured but the config uses legacy model reference that blur the lines between administrative security and application security. Reject such configurations. Thanks, Heiko, for driving the discussion that showed the need to clarify all this. Thoughts, everyone?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Now for the second question: If we want to have a god-like role, then any "split" can be deferred from this iteration. We add the god-like role for this first iteration, and then in a later iteration we add a new role with only application level security permissions. Possibly we could add a 3rd with only administrative security permissions, if that was a valid use case. A twist on this is the "Auditor" role notion. An Auditor role is someone with read-only access to everything, but is the only person with access to the administrative audit resources. This approach ensures that a god-like administrator still has someone to watch over him/her. I don't think having an Auditor role either now or in the future precludes having an otherwise god-like Administrator role in the first iteration.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Hacking on WildFly</header>
    <body>h4. h4. 1. Create a github account http://github.com http://github.com h4. 2. Fork wildfly repository into your account https://github.com/wildfly/wildfly https://github.com/wildfly/wildfly h4. 3. Clone your newly forked copy onto your local workspace $ git clone git at github.com:[your user]/wildfly.git Cloning into 'wildfly'... remote: Counting objects: 345847, done. remote: Compressing objects: 100% (100585/100585), done. remote: Total 345847 (delta 145130), reused 335339 (delta 136435) Receiving objects: 100% (345847/345847), 66.59 MiB | 312 KiB/s, done. Resolving deltas: 100% (145130/145130), done. $ cd wildfly h4. 4. Add a remote ref to upstream, for pulling future updates git remote add upstream git://github.com/wildfly/wildfly.git h4. 5. As a precaution, disable merge commits to your master git config branch.master.mergeoptions --ff-only h4. 6. Use maven (via build.sh or build.bat) Building WildFly 8 requires Java 7 or newer, make sure you have JAVA_HOME set to point to the JDK7 installation. Build uses Maven 3. $ ./build.sh ..... [INFO] ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - JBPM Deployment in Jboss eap</header>
    <body>Hi Friends, Could you please anyone help me to resolve the below issue/error? I am trying to deploy simple JBPM project into jboss-eap-5.1 server. Below are the stpes that i follwed. 1) Created Sample JBPM project and exported that project into jar file 2) Created Dynamic web project with sample Servlet and placed Sample JBPM jar into lib folder. a) Created object for ProcessMain class in Servlet class b) Calling the ProcessMain method to start the process. 3) Created a war file from the Dynamic web project and placed inside the Jboss RTRA instance 4) Placed required jars in Jboss ../jboss-eap-5.1.0\jboss-eap-5.1\jboss-as\server\RTRA\lib 4) Started the server once server starts servlet will be invoked and call the ProcessMain method to start the process but i am getting the below Error 2013/04/25_14:18.44.960 381091 ERROR [STDERR] (main:) java.lang.IllegalArgumentException: Unable to instantiate service for Class 'org.drools.compiler.BPMN2ProcessProvider' 2013/04/25_14:18.44.961 381092 ERROR [STDERR] (main:)     at org.drools.util.ServiceRegistryImpl.get(ServiceRegistryImpl.java:161) 2013/04/25_14:18.44.961 381092 ERROR [STDERR] (main:)     at org.drools.compiler.BPMN2ProcessFactory.loadProvider(BPMN2ProcessFactory.java:29) 2013/04/25_14:18.44.961 381092 ERROR [STDERR] (main:)     at org.drools.compiler.BPMN2ProcessFactory.getBPMN2ProcessProvider(BPMN2ProcessFactory.java:21) 2013/04/25_14:18.44.962 381093 ERROR [STDERR] (main:)     at org.drools.compiler.BPMN2ProcessFactory.configurePackageBuilder(BPMN2ProcessFactory.java:12) 2013/04/25_14:18.44.962 381093 ERROR [STDERR] (main:)     at org.drools.compiler.PackageBuilder.addKnowledgeResource(PackageBuilder.java:476) 2013/04/25_14:18.44.962 381093 ERROR [STDERR] (main:)     at org.drools.builder.impl.KnowledgeBuilderImpl.add(KnowledgeBuilderImpl.java:28) 2013/04/25_14:18.44.962 381093 ERROR [STDERR] (main:)     at com.test.ProcessMain.readKnowledgeBase(ProcessMain.java:28) 2013/04/25_14:18.44.962 381093 ERROR [STDERR] (main:)     at com.test.ProcessMain.processMain(ProcessMain.java:17) 2013/04/25_14:18.44.962 381093 ERROR [STDERR] (main:)     at com.test.TestServlet.init(TestServlet.java:17) 2013/04/25_14:18.44.962 381093 ERROR [STDERR] (main:)     at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1048) 2013/04/25_14:18.44.963 381094 ERROR [STDERR] (main:)     at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:950) 2013/04/25_14:18.44.963 381094 ERROR [STDERR] (main:)     at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4122) 2013/04/25_14:18.44.963 381094 ERROR [STDERR] (main:)     at org.apache.catalina.core.StandardContext.start(StandardContext.java:4417) In windows, through eclipse i am able to run the program as stanalone, but in jboss its not working. Because in eclipse, i will be having the jbpm installer and from there i will refer the Runtime. Do i miss any setup/jars/plugins for running in Jboss?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Designer characteristics</header>
    <body>[My config - jBPM 5.4.0.Final, Windows Server, 7 and 8. Eclipse Helios and Juno] Where possible I'd like to use Designer in preference to the Eclipse editor but it has a number of features which I'm finding are "spoiling my enjoyment"  :)  and I wondered if they are likely to change in the next release. Please be assured, these are not complaints and my aim is constructive. Here goes: * On my Windows set-up, Script tasks may start life as multi-line text, but always seem to end up being collapsed onto a single line which is awkward to work with.* The Eclipse tools seem to maintain multiline editing but for some reason this isn't the case in Designer. * Is this just a Windows/Unix file-ending issue? (related-  https://community.jboss.org/thread/223637 Problem with designer "losing" newline characters in Script Tasks) * I've not yet been able to import an existing BPMN process using the Designer Import BPMN feature. I can do so using the Eclipse-Drools-Guvnor toolchain but direct import fails, even for diagrams created for jBPM 5.3.* I can export a BPMN file created in Desinger and then reimport it back in, i.e. Designer is able understand it's own output. * (related -  https://community.jboss.org/thread/223567 Guvnor Designer Import BPMN error - "Could not find BPMNDI information") * After a few minutes of use I get a "Local history cleared" pop-up and after that point it appears very frequently and often intrusively. Although I can disable local history, it resets to "on" whenever I save my diagram which I tend to do quite frequently. Again this may be a quirk of my set-up but it quickly gets in the way. * On a more positive note, will we be able to define a template to be used by the automatic user task form generator? The current facility is very useful but it would be even better if I could include layouts specific to my project (company information, in-house styles etc.) My apologies if this feature already exists and I've just missed it! I wondered if these are likely to be addressed in the next release. I'm happy to raise Jira items if that's preferable. Best regards and thanks, Andy McC</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Undertow -	IdentityManager</header>
    <body>h1. Undertow - Identity Manager The purpose of this article is to describe the current IdentityManager interface used by Undertow and to become the base for discussions relating to additional capabilities required.         /**      * Verify a previously authenticated account.      *      * Typical checks could be along the lines of verifying that the account is not now locked or that the password has not been      * reset since last verified, also this provides an opportunity for roles to be re-loaded if membership information has      * changed.      *      */         // TODO Realm / Partitioning information could be specified.         /**      *      * @param id - The requested ID for the account.      */         /**      * Perform verification when all we have is the Credential, in this case the IdentityManager is also responsible for mapping the Credential to an account.      *      * The most common scenario for this would be mapping an X509Certificate to the user it is associated with.      *      * @param credential      * @return      */         /**      * A temporary method for the Digest mechanism.      *      * @param id      * @return      */         /**      * Return the password for an account. This is an optional method, as is only used for digest auth where the original      * password is needed to compute the digest.      *      * This is an optional method. It is recommended that passwords be stored in a hashed format, so for most identity managers      * it will not be possible nor desirable to implement this method.      *      * @param account the account      * @return The accounts password      */         /**      * Return the pre-prepared hash for the account.      * @param account - The account the hash is required for.      * @return The pre-prepared MD5 hash.      */    </body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Audit Logging	Design Notes</header>
    <body>Can we also capture: 1. The IP addess where the operation originated 2. The administrative interface through which the operation was received</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jbpm-5.4.0.Final-installer-full - Sample application throwing error</header>
    <body>Thank u very much! Though I dont not konw the reason of the problem,but your method has slove this matter. And could u tell me the reason?I am still confused with this.Thank u again.,</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Sending Java	serialized message</header>
    <body>Hi, I am trying to filter messages that are being sent through ESB according to several parameters. One of them is the type of the message. I know that there are two basic types in JBossESB - XML and JAVA_SERIALIZED. I can send xml messages but I havent found any basic example on how to send tje JAVA_SERIALIZED messages. Could you direct me to a tutorial or working example of these messages plz? Thanks for any help!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Audit Logging	Design Notes</header>
    <body>I would suggest a list like that could also be very useful for access control decisions - overall probably only a small task to ensure it is made available in a consistent way for both interfaces.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Compensating Transactions: When ACID is too much</header>
    <body>Thanks Mark, I assume this is the article you are refering to: http://www.infoq.com/articles/History-of-Extended-Transactions http://www.infoq.com/articles/History-of-Extended-Transactions I'll definitly refrence it, and also try to reduce the amount of background I'm providing.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - AS7: Utilising masked passwords via the vault</header>
    <body>As far as I understood the concept, it is safe if used correctly. The keystore should not be located on the server machine. It should only be available to the server on startup. You may place it on a USB-dongle which is removed after complete startup. But you are right in that most people won't do that. On the other hand most people won't need that too.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss Passwords - not secure, but recommended</header>
    <body>Nice article. Furthermore, man can easily "retrieve" the password from vault expression if he has access to encrypted files and and keystore. Using Vault is better than doing nothing.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>Note to self: The discussion of patching needs updating to reflect the possibility of changes associated solely with the identity, and not just with a layered distribution. An example of this would be product.conf or modules/layers.conf which belong to the identity. Unfortunately, it looks like the contents of the welcome-content dir will fit in this category as well. In AS 8 or later and EAP 7 hopefully we can move our default content into modules and reserve the welcome-content dir for user-provided content (or remove it altogether).</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - jbosssvc.exe -imwdc JBAS50SVC "C:\jboss-5.0.0.GA\bin" "JBo ss Application Server 5.0" "JBoss Application Server 5.0.0 GA/Platform: Windows x86" service.bat The system cannot execute the specified program.</header>
    <body>Hello All, I was trying to use jboss as a windows service but was unable to do this I encountered the following error. C:\jboss-5.0.0.GA\bin&gt;jbosssvc.exe -imwdc JBAS50SVC "C:\jboss-5.0.0.GA\bin" "JBo ss Application Server 5.0" "JBoss Application Server 5.0.0 GA/Platform: Windows x86" service.bat The system cannot execute the specified program. Full Details C:\jboss-5.0.0.GA\bin&gt;service.bat install C:\jboss-5.0.0.GA\bin&gt;REM JBoss, the OpenSource webOS C:\jboss-5.0.0.GA\bin&gt;REM C:\jboss-5.0.0.GA\bin&gt;REM Distributable under LGPL license. C:\jboss-5.0.0.GA\bin&gt;REM See terms of license at gnu.org. C:\jboss-5.0.0.GA\bin&gt;REM C:\jboss-5.0.0.GA\bin&gt;REM ------------------------------------------------------ ------------------- C:\jboss-5.0.0.GA\bin&gt;REM JBoss Service Script for Windows C:\jboss-5.0.0.GA\bin&gt;REM ------------------------------------------------------ ------------------- C:\jboss-5.0.0.GA\bin&gt;set DIRNAME=C:\jboss-5.0.0.GA\bin C:\jboss-5.0.0.GA\bin&gt;REM C:\jboss-5.0.0.GA\bin&gt;REM VERSION, VERSION_MAJOR and VERSION_MINOR are populated C:\jboss-5.0.0.GA\bin&gt;REM during the build with ant filter. C:\jboss-5.0.0.GA\bin&gt;REM C:\jboss-5.0.0.GA\bin&gt;set SVCNAME=JBAS50SVC C:\jboss-5.0.0.GA\bin&gt;set SVCDISP=JBoss Application Server 5.0 C:\jboss-5.0.0.GA\bin&gt;set SVCDESC=JBoss Application Server 5.0.0 GA/Platform: Wi ndows x86 C:\jboss-5.0.0.GA\bin&gt;set NOPAUSE=Y C:\jboss-5.0.0.GA\bin&gt;REM Suppress killing service on logoff event C:\jboss-5.0.0.GA\bin&gt;set JAVA_OPTS=-Xrs C:\jboss-5.0.0.GA\bin&gt;REM Figure out the running mode C:\jboss-5.0.0.GA\bin&gt;if /I "install" == "install" goto cmdInstall C:\jboss-5.0.0.GA\bin&gt;jbosssvc.exe -imwdc JBAS50SVC "C:\jboss-5.0.0.GA\bin" "JBo ss Application Server 5.0" "JBoss Application Server 5.0.0 GA/Platform: Windows x86" service.bat The system cannot execute the specified program. C:\jboss-5.0.0.GA\bin&gt;if not errorlevel 0 goto errExplain C:\jboss-5.0.0.GA\bin&gt;echo Service JBoss Application Server 5.0 installed Service JBoss Application Server 5.0 installed I have seen the same problem mentioned in this community.. but with no clear answers I have replaced the jbosssvc.exe file with the latest download of jboss 5 server, even this does not work!. Could someone let me know if this has been resolved or is there a workaround for this?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - JBPM5.4 Web Application Human Task server Integration</header>
    <body>I am new to JBPM. When I try to integrate simple jbpm5.4 web application with human task (seperate instance). I am getting below exception. I haven't get any exception on server startup. Help me on this. 14:49:13,112 ERROR [org.drools.persistence.SingleSessionCommandService] (http--127.0.0.1-8080-1) Could not commit session: org.jbpm.workflow.instance.WorkflowRuntimeException: [com.sample.bpmn.sampleHTformvariables:444 - Sample Order  Task:3] -- null         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:132) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerNodeInstance(NodeInstanceImpl.java:279) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerCompleted(NodeInstanceImpl.java:238) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.node.JoinInstance.triggerCompleted(JoinInstance.java:152) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.node.JoinInstance.internalTrigger(JoinInstance.java:52) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:126) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerNodeInstance(NodeInstanceImpl.java:279) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerCompleted(NodeInstanceImpl.java:238) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.node.ActionNodeInstance.triggerCompleted(ActionNodeInstance.java:55) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.node.ActionNodeInstance.internalTrigger(ActionNodeInstance.java:51) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:126) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerNodeInstance(NodeInstanceImpl.java:279) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerCompleted(NodeInstanceImpl.java:238) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.node.StartNodeInstance.triggerCompleted(StartNodeInstance.java:49) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.node.StartNodeInstance.internalTrigger(StartNodeInstance.java:41) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:126) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.ruleflow.instance.RuleFlowProcessInstance.internalStart(RuleFlowProcessInstance.java:35) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.process.instance.impl.ProcessInstanceImpl.start(ProcessInstanceImpl.java:194) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.impl.WorkflowProcessInstanceImpl.start(WorkflowProcessInstanceImpl.java:309) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.process.instance.ProcessRuntimeImpl.startProcessInstance(ProcessRuntimeImpl.java:170) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.process.instance.ProcessRuntimeImpl.startProcess(ProcessRuntimeImpl.java:140) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.drools.common.AbstractWorkingMemory.startProcess(AbstractWorkingMemory.java:1098) [drools-core-5.5.0.Final.jar:5.5.0.Final]         at org.drools.impl.StatefulKnowledgeSessionImpl.startProcess(StatefulKnowledgeSessionImpl.java:320) [drools-core-5.5.0.Final.jar:5.5.0.Final]         at org.drools.command.runtime.process.StartProcessCommand.execute(StartProcessCommand.java:120) [drools-core-5.5.0.Final.jar:5.5.0.Final]         at org.drools.command.runtime.process.StartProcessCommand.execute(StartProcessCommand.java:39) [drools-core-5.5.0.Final.jar:5.5.0.Final]         at org.drools.command.impl.DefaultCommandService.execute(DefaultCommandService.java:36) [drools-core-5.5.0.Final.jar:5.5.0.Final]         at org.drools.persistence.SingleSessionCommandService.execute(SingleSessionCommandService.java:373) [drools-persistence-jpa-5.5.0.Final.jar:5.5.0.Final]         at org.drools.command.impl.CommandBasedStatefulKnowledgeSession.startProcess(CommandBasedStatefulKnowledgeSession.java:223) [drools-core-5.5.0.Final.jar:5.5.0.Final]         at com.sample.processserver.TaskProcessServlet.processRequest(TaskProcessServlet.java:102) [classes:]         at com.sample.processserver.TaskProcessServlet.doGet(TaskProcessServlet.java:198) [classes:]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:734) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]         at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]         at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]         at org.jboss.as.jpa.interceptor.WebNonTxEmCloserValve.invoke(WebNonTxEmCloserValve.java:50) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]         at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]         at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]         at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]         at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]         at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]         at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]         at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]         at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]         at java.lang.Thread.run(Thread.java:619) [rt.jar:1.6.0_16] *Caused by: java.lang.NullPointerException*         at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler.registerTaskEvents(GenericHTWorkItemHandler.java:137) [jbpm-human-task-core-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.process.workitem.wsht.LocalHTWorkItemHandler.connect(LocalHTWorkItemHandler.java:64) [jbpm-human-task-core-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler.executeWorkItem(GenericHTWorkItemHandler.java:180) [jbpm-human-task-core-5.4.0.Final.jar:5.4.0.Final]         at org.drools.persistence.jpa.processinstance.JPAWorkItemManager.internalExecuteWorkItem(JPAWorkItemManager.java:55) [drools-persistence-jpa-5.5.0.Final.jar:5.5.0.Final]         at org.jbpm.workflow.instance.node.WorkItemNodeInstance.internalTrigger(WorkItemNodeInstance.java:107) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:126) [jbpm-flow-5.4.0.Final.jar:5.4.0.Final]         ... 45 more 14:49:13,268 ERROR [org.jboss.as.txn] (http--127.0.0.1-8080-1) JBAS010152: APPLICATION ERROR: transaction still active in request with status 1</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Intellipaat provides Drools &amp; JBPM online training</header>
    <body>*Intellipaat provides Drools &amp; JBPM online training* Hi, We will start Drools &amp; JBPM online training from 23rd march’13. Training will be 70-80 % hands on. Our institute is the market leader in providing online training at the lowest price with high quality from the last 4 yrs. Training is carried out on Webex or goto meeting where the trainer trains the candidates and answers their queries. The trainer has 16+ yrs of experience and has conducted multiple online trainings. JBPM and Drools training to get ahead middleware architects and application developers who are responsible for designing business processes, implementing business process management systems, and integrating BPM into their enterprise architecture with Business Rule Management System. The course teaches process modeling, task management, client APIs, integration and customization, etc. Interested candidates please drop an email for registration at  mailto:sales at intellipaat.com sales at intellipaat.com or give us a call. Grab your seats now! Regards, Sales Intellipaat Team Mob: 91-9019368913 Visit us at www.intellipaat.com.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - REST API sample--Need help for developing web application using JBPM5.4</header>
    <body>Hi I am new to JBPM , I have done lot of serch for sample application using JBPM5.4 but no one is providing proper information . I want to know more about Rest API in jbpm5.4 Can any one help in creating an appication using Rest APIs Or post a sample Application developed using Rest APIs</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Getting exception during refresh in Human Task View</header>
    <body>Hi,    In eclipse Human task view am getting error while refresh. Exception during refresh:Server-side Exception:command QueryTaskAssignedAsPotentialOwner failed due to operation failed. Please contact task server administrator . Please see the image for more information https://community.jboss.org/servlet/JiveServlet/showImage/2-803052-20456/error.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/2-803052-20456/450-233/error.png Thanks in advance!!!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7	Command-line public API</header>
    <body>Can somebody provide me the maven dependecies ??</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Is there a way to get the origin IP address from a Jboss message?</header>
    <body>Because there are many request from different sytems to the same queue, So I want to know exactly about the *sender info (Ip address)* of that message for logging &amp; tracing proposal later? Please help me if you know it. I'm using jboss esb latest ver Thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Narayana	Release Process</header>
    <body>This page provides a list of instructions that must be done *in order* when doing a release of Narayana. h2. Check JIRA 1. Check all issues resolved. 2. Create next point release version if not exists - this is so you can push issues in step 3 below. 3. Unresolved issues should be resolved or pushed. h2. Check Hudson Ensure no test failures in the group of hudson tests, for the branch you intend to release. h2. Raise AS7 component upgrade request in Jira Prepare for a PR to update AS7. 1.  https://issues.jboss.org/browse/AS7 https://issues.jboss.org/browse/AS7 2. create a new 'component update' issue.1. Ensure the module is set to 'transactions' 2. select an appropriate 'fix for'. 3. Assign it to yourself. h2. Do Release h3. Git Branches (4.17 and 5 only) Must be done first as the build-release-packages.xml relies on the tag being available cd $NARAYAN_SRC/scripts pre-release.sh &lt;next version, e.g: 5.0.0.M3&gt; h3. Create the AS7 pull request branch and roll the jbosstm/jboss-as branch to next SNAPSHOT (UN-TESTED COMMANDS!!) BRANCH=4_BRANCH AS_BRANCH=master JIRA=AS7-5815 CURRENT=4.17.2.Final NEXT=4.17.3.Final git clone git at github.com:jbosstm/jboss-as.git cd jboss-as git checkout $BRANCH git remote add upstream git://github.com/jbossas/jboss-as.git git pull --rebase --ff-only upstream $AS_BRANCH sed -i "s/$CURRENT-SNAPSHOT/$CURRENT/g" pom.xml git commit -am "Upgrade Narayana to $CURRENT" # should use git merge-base $BRANCH upstream/master # You will need to resolve som merge conflicts. Most likely around version numbers. git rebase -i HEAD~10 git checkout $BRANCH sed -i "s/$CURRENT/$NEXT-SNAPSHOT/g" pom.xml git commit -am "Upgrade Narayana to $NEXT-SNAPSHOT" git push origin $BRANCH h2. Build and release CURRENT=&lt;Version to release. e.g 5.0.0.M2&gt; mkdir -p ~/narayana/filemgmt.jboss.org/ On Linux: sshfs jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ On MacOS: sshfs -o defer_permissions jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ git clone git at github.com (mailto:git at github.com):jbosstm/narayana.git cd narayana git checkout $CURRENT On Linux: ant -f build-release-pkgs.xml dist downloads docs magnolia -Drsync=false On MacOS: ant -f build-release-pkgs.xml dist downloads docs magnolia h3. svn branches #Make sure your checkout has no local changes svn update svn status POINT_VERSION=5 NEXT_POINT_VERSION=6 #Update the version in text files svn commit -m "Updated to version 4.16.$POINT_VERSION.Final" #Tag the release: #Bump to next version using similar find to above #Update the maven version of jbossts in our fork of JBossAS:  https://github.com/jbosstm/jboss-as https://github.com/jbosstm/jboss-as git checkout 4_16_BRANCH git pull --rebase --ff-only #Check no local changes git status git push #Build and deploy the release to nexus staging: mkdir ~/filemgmt.jboss.org/ sshfs -o defer_permissions  mailto:jbosstm at filemgmt.jboss.org jbosstm at filemgmt.jboss.org: ~/filemgmt.jboss.org/ ant -f build-release-pkgs.xml dist mvn-repository downloads magnolia h3. h2. Release the artifact through Nexus 1.  https://repository.jboss.org/nexus/index.html#welcome https://repository.jboss.org/nexus/index.html#welcome 2. login 3. "Staging Repositories" 4. Click tickbox for your repo 5. Click "Close" 6. Don't worry about a description, just click "Close" 7. Click tickbox after it is closed 8. Click "Release" 9. Again a description doesn't matter h2. Push Upstream Check that the pull request will work. *If it doesn't and it requires Narayana changes you *have* to rev the version number - DON'T attempt to re-release with the same version number:* JIRA=AS7-5815 CURRENT=4.17.2.Final git clone  mailto:git at github.com git at github.com:jbosstm/jboss-as.git cd jboss-as rm -rf ~/.m2/repository/org/jboss/jbossts rm -rf ~/.m2/repository/org/jboss/narayana ./build.sh clean install 1. Raise the pull request using our branch 2. Once merged, resolve the AS7 Jira issue. h2. JIRA Release 1. Close all issues for the release 2. Mark as released (Need admin permissions) h2. Update Website Update the Narayana community site: * Fix the Magnolia files* Open the website.jbosstm.documentation.4.16.5.Final.xml and website.jbosstm.downloads.4.16.5.Final.xml files * Edit the first line to change '&lt;sv:node sv:name="5.0.0.M2"' to replace the '.' with '_'. Make it look like htis: '&lt;sv:node sv:name="5_0_0_M2"' * Save the files, ready for upload. * Login to Magnolia*  https://www.jboss.org/author/.magnolia/pages/adminCentral.html https://www.jboss.org/author/.magnolia/pages/adminCentral.html * Login with credentials: Tom and Paul know these, ask them. * Documentation* Browse to 'jbosstm/documentation' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.documentation.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the documentation list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Downloads* Browse to 'jbosstm/downloads' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.downloads.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the downloads list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Announcement* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'announcement' pane * Update the announcement for this release. * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. * Release notes* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'getting started' pane on the right-hand-side * Edit the release notes url to point to the release notes for this version * Click save * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. h2. Promote NOTE: It is worth waiting for the merge of the pull request before advertising, or at least wait for the merge build notification first  ;) Promote the release through the following channels: 1. Email jbossts-announce at lists.jboss.org (mailto:jbossts-announce at lists.jboss.org) 2. Forum 3. Blog: project in (jbtm, blacktie) AND fixversion = "5.0.0.M2" AND priority &gt;= major AND issuetype not in (Bug, task) AND resolution not in ("Duplicate Issue", Rejected, "Won't Fix", "Out of Date", "Cannot Reproduce Bug")</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Sharing jbpmContext with two different threads on jBPM3</header>
    <body>Hello everynone. My first post. I think I read every post about the jBpmContext and nothing gave me the solution... I'm using jBPM 3 with SEAM. I launch an asynchronous event which launches a ProcessInstance. I am using another asynchronous event to cancel the previously launched ProcessInstance. @Observer("builderObserver") .... @Observer("cancelBuilderObserver") ... But when I do jbpmConfig.getCurrentJbpmContext(); the value is null. It is probably due to different transactions. I just want to be able to end a processInstance using its id. Could you please help me? Thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Remote Web Service</header>
    <body>Hi,,, I maked a web service on computer A (192.186.150.121) with jboss server that have the following IP (127.0.0.1) (   http://localhost:8080/Hello/services/Testport?wsdl) and i want to consume this service remotly from computer B (*170.155.40.1*) so How can i access this web service? thx</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Remote Debugging for Eclipse Test Plug-in Running by Tycho</header>
    <body>When I report issue in bug tracking system about nightly build's JUnit test error I usually get simple answer that it is supposed to be working  because it is working on developer's workstation. After that routine conversation starts and it turns out that tests were running from development environment under Eclipse. Here I usually have to explain again and again that's not the same running tests from development environment and in build. The right way to make yourself sure your tests will work in most cases without errors in nightly build is to start tests the same way as nightly build does. It was not easy for JBoss Tools tests until we created experimental branch and switched to Maven Tycho project. That means it is fairly easy to run tests now. Basically you need to change current directory and execute maven install goal. If it runs in development environment and in maven your tests are good and in most cases it should be fine in nightly build. Problems begin if it runs in development environment but it doesn't in maven. In this scenario you need to debug tests running in Tycho somehow and fix it. Fortunately it can be done using Java remote debugging support. First of all you need to be sure you have built your sources you're going to debug and there is no differences between .java and  .class files. If you're going find problem from previous build just get right tagged version and build it before debugging session. There are two options to use remote debugger 1. Simple use of *-DdebugPort=8001* or what ever port you would like to use 2. Add full argLine for remote debugging configuration im pom.xml h1. Use debugPort system property (Recommended) To use this just add *-DdebugPort=&lt;portNumber&gt;* to your maven command line replacing &lt;portNumber&gt; for desired port and make sure you have the same port configured in your Remote Java Application configuration in Eclipse Debug Configuration dialog as it explained for second option below. h1. Or use Full argLine for Remote Debugging Configuration in pom.xml (Deprecated) Open pom.xml for your Eclipse Test Plug-in and add Java VM arguments like it shown below (actual port numbers, server names and  other parameters may be different, it depends from your environment) &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt;     &lt;groupid&gt;org.sonatype.tycho&lt;/groupid&gt;        &lt;artifactid&gt;maven-osgi-test-plugin&lt;/artifactid&gt;        &lt;configuration&gt;             &lt;argLine&gt;-Xdebug -Xrunjdwp:transport=dt_socket,address=8001,server=y,suspend=y&lt;/argLine&gt;        &lt;/configuration&gt;     &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; This snipped configured for remote debugging in OpenJDK 6, if your is different you might need to read  #r1 [1] and configure it right for your JVM version. Configure java projects with sources you're going to debug in Eclipse and create Remote Java Application configuration in Eclipse Debug Configuration dialog. Fill 'host' and 'port' fields with the same values from pom.xml argLine element. Press Apply button to save your changes and start your test plug-in from terminal like $mvn install It will go through build process and finally you ll see something like [INFO] Expected eclipse log file: /home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test/target/work/data/.metadata/.log [INFO] Command line: /bin/sh -c cd /home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test &amp;&amp; /usr/lib/jvm/java-6-openjdk/jre/bin/java -Dosgi.noShutdown=false -Dosgi.os=linux -Dosgi.ws=gtk -Dosgi.arch=x86 -agentlib:jdwp=transport=dt_socket,address=8001,server=y,suspend=y -jar /home/eskimo/.m2/repository/p2/osgi/bundle/org.eclipse.equinox.launcher/1.0.201.R35x_v20090715/org.eclipse.equinox.launcher-1.0.201.R35x_v20090715.jar -data /home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test/target/work/data -dev file:/home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test/target/dev.properties -install /home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test/target/work -configuration /home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test/target/work/configuration -application org.codehaus.tycho.surefire.osgibooter.uitest -testproperties /home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test/target/surefire.properties Listening for transport dt_socket at address: 8001 At this point build is waiting for you to attach remote debugger to the process because of using suspend=y in argLine element of your pom.xml file. So you need to return to eclipse and hit 'Debug' button in dialog opened before. Build will continue at this point and stop on your break points so you can find out what is wrong with tests during nightly build. [1]  http://java.sun.com/javase/technologies/core/toolsapis/jpda/#Invocation Java  Platform Debugger Architecture -  http://java.sun.com/javase/technologies/core/toolsapis/jpda/#Invocation</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Remote Debugging for Eclipse Test Plug-in Running by Tycho</header>
    <body>When I report issue in bug tracking system about nightly build's JUnit test error I usually get simple answer that it is supposed to be working  because it is working on developer's workstation. After that routine conversation starts and it turns out that tests were running from development environment under Eclipse. Here I usually have to explain again and again that's not the same running tests from development environment and in build. The right way to make yourself sure your tests will work in most cases without errors in nightly build is to start tests the same way as nightly build does. It was not easy for JBoss Tools tests until we created experimental branch and switched to Maven Tycho project. That means it is fairly easy to run tests now. Basically you need to change current directory and execute maven install goal. If it runs in development environment and in maven your tests are good and in most cases it should be fine in nightly build. Problems begin if it runs in development environment but it doesn't in maven. In this scenario you need to debug tests running in Tycho somehow and fix it. Fortunately it can be done using Java remote debugging support. First of all you need to be sure you have built your sources you're going to debug and there is no differences between .java and  .class files. If you're going find problem from previous build just get right tagged version and build it before debugging session. There are two options to use remote debugger 1. Simple use of *-DdebugPort=8001* or what ever port you would like to use 2. Add full argLine for remote debugging configuration im pom.xml h1. Use debugPort system property (Recommended) To use this just add *-DdebugPort=&lt;portNumber&gt;* to your maven command line replacing &lt;portNumber&gt; for desired port and make sure you have the same port configured in your Remote Java Application configuration in Eclipse Debug Configuration dialog as it explained for second option below. h1. Or use Full argLine for Remote Debugging Configuration in pom.xml (Deprecated) Open pom.xml for your Eclipse Test Plug-in and add Java VM arguments like it shown below (actual port numbers, server names and  other parameters may be different, it depends from your environment) &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt;     &lt;groupid&gt;org.sonatype.tycho&lt;/groupid&gt;        &lt;artifactid&gt;maven-osgi-test-plugin&lt;/artifactid&gt;        &lt;configuration&gt;             &lt;argLine&gt;-Xdebug -Xrunjdwp:transport=dt_socket,address=8001,server=y,suspend=y&lt;/argLine&gt;        &lt;/configuration&gt;     &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; This snipped configured for remote debugging in OpenJDK 6, if your is different you might need to read  #r1 [1] and configure it right for your JVM version. Configure java projects with sources you're going to debug in Eclipse and create Remote Java Application configuration in Eclipse Debug Configuration dialog. Fill 'host' and 'port' fields with the same values from pom.xml argLine element. Press Apply button to save your changes and start your test plug-in from terminal like $mvn install It will go through build process and finally you ll see something like [INFO] Expected eclipse log file: /home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test/target/work/data/.metadata/.log [INFO] Command line: /bin/sh -c cd /home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test &amp;&amp; /usr/lib/jvm/java-6-openjdk/jre/bin/java -Dosgi.noShutdown=false -Dosgi.os=linux -Dosgi.ws=gtk -Dosgi.arch=x86 -agentlib:jdwp=transport=dt_socket,address=8001,server=y,suspend=y -jar /home/eskimo/.m2/repository/p2/osgi/bundle/org.eclipse.equinox.launcher/1.0.201.R35x_v20090715/org.eclipse.equinox.launcher-1.0.201.R35x_v20090715.jar -data /home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test/target/work/data -dev file:/home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test/target/dev.properties -install /home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test/target/work -configuration /home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test/target/work/configuration -application org.codehaus.tycho.surefire.osgibooter.uitest -testproperties /home/eskimo/Projects/jbt-modular/jst/tests/org.jboss.tools.jst.web.kb.test/target/surefire.properties Listening for transport dt_socket at address: 8001 At this point build is waiting for you to attach remote debugger to the process because of using suspend=y in argLine element of your pom.xml file. So you need to return to eclipse and hit 'Debug' button in dialog opened before. Build will continue at this point and stop on your break points so you can find out what is wrong with tests during nightly build. [1]  http://java.sun.com/javase/technologies/core/toolsapis/jpda/#Invocation Java  Platform Debugger Architecture -  http://java.sun.com/javase/technologies/core/toolsapis/jpda/#Invocation h1. Words of Warning When building and debugging your code locally, be aware that your eclipse environment or target platform inside the running eclipse should match the environment used to launch your tests. When running locally via the *mvn clean verify* command, tycho will default to using a MINIMUM configuration for both building AND testing your code. To ensure the code is compiled, and tests are launched, against a SPECIFIC target platform, make sure to use the *-Pminimum or * *-Pmaximum* flags in your build command. When debugging from within eclipse, if your current environment does NOT match the environment tycho uses to launch your tests, you may experience many types of confusing behavior. The most obvious will be if the source code lines do not match up to what is being executed, but other problems such as inaccessible or unhit breakpoints, or illogical code flows, may confuse you for a very long time. If you are running your tests with a *-Pminimum* flag, ensure your eclipse is set up to use that configuration. Similarly, If you are running your tests with a *-Pmaximum* flag, make sure you are using an environment which matches that target platform. This will save you many hours  ;)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jBPM process and instance management Android Client</header>
    <body>Hi all! It was a long (very long) and difficult (I had to elarn everything from beginning) journey but finaly, I did it! My first android application is alive! And now it's your turn to test it and recommend what to improve (not just technical but also language mistakes!). I tried this app on 4 different emulators (tablet, big screen smartphone, 2 small screen smartphones) and with com.sample.evaluation. But I need real devices and real users. So if this app do something wrong, please tell me what were you doing (refreshing, starting instance, by which process). Here are some things I want to add later: 1. display flipping 2. diagram zoom in and out. 3. in list of instances show instance id as big text and proess id as small (I forgot about it and I don't want to export and sign .apk again with just this change) 4. optimize the s**t out of it. *Here is the .apk file* (and also in attachment) https://dl.dropbox.com/u/24366262/MainActivity.apk https://dl.dropbox.com/u/24366262/MainActivity.apk Just comment below if you want source code, I can post it on GitHub or somewhere. https://community.jboss.org/servlet/JiveServlet/showImage/2-803704-20465/login.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/2-803704-20465/310-428/login.png screen 1: log in. first, you have to set up server (menu-&gt;set up server), then, you can log in. https://community.jboss.org/servlet/JiveServlet/showImage/2-803704-20466/process.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/2-803704-20466/310-445/process.png screen 2: list of processes (well, process in this case), with opened Menu. Clicking on one cause screen 3. https://community.jboss.org/servlet/JiveServlet/showImage/2-803704-20467/ins3.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/2-803704-20467/450-215/ins3.png screen 3: list of instances. You see them. (3.1). By longclicking them, you can do things to them (3.2). By clicking Meny you can start new (3.3). Clicking on one cause screen 4. https://community.jboss.org/servlet/JiveServlet/showImage/2-803704-20468/pic.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/2-803704-20468/310-444/pic.png screen 4: diagram. With green things by active nodes. Don't let the -/+ thing on the bottom distract you. It doesn't work. Questions?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - IllegalStateException Using StatefulKnowledgeSession</header>
    <body>Hi i have created a workflow using humantask with database. But when i am deploying the process i am getting this error "*java.lang.IllegalStateException: java.lang.reflect.InvocationTargetException".* I debugged the java code and found the its not able to create "*StatefulKnowledgeSession". * This is the code which i am implementing. * * @Test         EntityManagerFactory emf = Persistence.createEntityManagerFactory("org.jbpm.task");                env.set(EnvironmentName.ENTITY_MANAGER_FACTORY, emf);                @SuppressWarnings("deprecation") and this is the error which i am getting on debugging the code.     java.lang.IllegalStateException: java.lang.reflect.InvocationTargetException     at org.drools.persistence.jpa.KnowledgeStoreServiceImpl.buildCommandService(KnowledgeStoreServiceImpl.java:142)     at org.drools.persistence.jpa.KnowledgeStoreServiceImpl.newStatefulKnowledgeSession(KnowledgeStoreServiceImpl.java:66)     at org.drools.persistence.jpa.JPAKnowledgeService.newStatefulKnowledgeSession(JPAKnowledgeService.java:122)     at com.sample.HelloProcesTest.processInstancePersistentTest(HelloProcesTest.java:58)     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)     at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)     at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)     at java.lang.reflect.Method.invoke(Unknown Source)     at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)     at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)     at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)     at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)     at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)     at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)     at org.jbpm.test.KnowledgeSessionCleanup$1.evaluate(KnowledgeSessionCleanup.java:28)     at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:48)     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)     at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)     at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)     at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)     at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)     at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)     at org.junit.runners.ParentRunner.run(ParentRunner.java:236)     at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49)     at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)     at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)     at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)     at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)     at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197) Caused by: java.lang.reflect.InvocationTargetException     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)     at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)     at java.lang.reflect.Constructor.newInstance(Unknown Source)     at org.drools.persistence.jpa.KnowledgeStoreServiceImpl.buildCommandService(KnowledgeStoreServiceImpl.java:128)     ... 29 more Caused by: java.lang.NullPointerException     at org.drools.persistence.SingleSessionCommandService.&lt;init&gt;(SingleSessionCommandService.java:168)     ... 34 more Let me know if i am missing out something. Thanks</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - JBPM5.4 Simple web application deployed on Tomcat with MYSQL</header>
    <body>I have ran the sample evaluation example of JBPM5.4 from the user guide but I am struggling on how to use processes within a web app. I am specifically trying to get this deployed in Tomcat and mysql for the persistance part. Does any one have an example war file I could take a look at, deploy locally? I could not get mysql working with the sample evaluation example working there was no start.demo.db task for eaxmple so I dont even have the tables installed in mydql.  I'm not sure how the persistnce stuff hangs toegther with task servers and process persistance. Any suggestions welcome I dont want people to write my app for me I just need some pointers regards Graeme</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM process and instance management Android Client</header>
    <body>GitHub code added https://github.com/samo42/jBPM-Client https://github.com/samo42/jBPM-Client</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM process and instance management Android Client</header>
    <body>Hi Samo, This looks really nice! Good work! Do you think that you will have time to migrate to use the jbpm services any time in the future? Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM process and instance management Android Client</header>
    <body>Hi. Yes, I think it is possible. Do you know where can I download more sample processes so I can test my app? Thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Getting Node Name from Node Instance in jBPM 5.4</header>
    <body>Hi, I'm trying to get the node name for a process that at a given moment has a gateway making two tasks active simultaneasly. The problem is that when I get the NodeInstance collection it seems that it is not iterating correctly, when I use a do/while with a hasNext I enter a infinite loop and only one NodeName is obtained. Then I changed it for using size, and although the size is correct (in my case size is 2) the getNameName method always returns the same node name as if the iterator was always in the same place. Can you help me on this? Here is the code: The result of this code is: Number of nodes - 2 Digitalize Document - 0 Digitalize Document - 1 Instead of: Number of nodes - 2 Digitalize Document - 0 Insert data - 1 Thank you</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>I've tried that method with  https://github.com/jbossas/jboss-as/tree/7.2.0.Final JBoss 7.2.0.final and MyFaces 2.1.10 and I had to modify the generated files a bit : for org/jboss/as/jsf-injection/myfaces-2.1.10/module.xml , I changed the "&lt;resource-root" to path "../../../../../system/layers/base/org/jboss/as/jsf-injection/main/jboss-as-jsf-injection-7.2.0.Final.jar". But now, when I try to start my JSF webapp, I have : 11:09:30,528 WARN  [org.jboss.as.jsf] (MSC service thread 1-13) JBAS012603: Unknown JSF version 'Mojarra-2.0'.  Default version 'main' will be used instead. 11:09:30,529 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-13) MSC00001: Failed to start service jboss.deployment.unit."sinistre-web.war".DEPENDENCIES: org.jboss.msc.service.StartException in service jboss.deployment.unit."sinistre-web.war".DEPENDENCIES: JBAS018733: Failed to process phase DEPENDENCIES of deployment "sinistre-web.war"           at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:127) [jboss-as-server-7.2.0.Final.jar:7.2.0.Final]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.4.GA.jar:1.0.4.GA]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.4.GA.jar:1.0.4.GA]           at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146) [rt.jar:1.6.0_27]           at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.6.0_27]           at java.lang.Thread.run(Thread.java:679) [rt.jar:1.6.0_27] Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS012656: Default JSF implementation slot 'main' is invalid           at org.jboss.as.jsf.deployment.JSFDependencyProcessor.deploy(JSFDependencyProcessor.java:79)           at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:120) [jboss-as-server-7.2.0.Final.jar:7.2.0.Final]           ... 5 more And here is the result for /subsystem=jsf/:list-active-jsf-impls :     "outcome" =&gt; "success",     "result" =&gt; ["myfaces-2.1.10"] ... any idea ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>Yes, the sample install scripts are out of date since we changed the module path.   Thanks for bringing that to my attention. You have a couple of options.   You can change the value of the web.xml context param to myfaces-2.1.10 or you can change the default impl in the jsf subsystem.  Since you've apparently removed the defaault "main" impl and you've only got myfaces installed, you should change the default impl anyway. /subsystem=jsf/:write-attribute(name=default-jsf-impl-slot,value=myfaces-2.1.10) Then you don't need to declare org.jboss.jbossfaces.JSF_CONFIG_NAME in your web.xml. Stan</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>OK the  https://github.com/jbossas/jboss-as/pull/3390/files multi-JSF feature doesn't handle the new module structure of JBoss 7.2.0.Final (someone should create a new Jira  :p ) I've copied all the "1.2" and "main" directory to the modules I've added in a separated modules directory (and added JBOSS_MODULEPATH="$JBOSS_HOME/modules:THE_PATH_TO_MY_OTHER_DIRECTORY" to standalone.conf). Now it seems to bootstrap correctly. But now I've got : 13:35:22,563 SEVERE [org.apache.myfaces.webapp.AbstractFacesInitializer] (ServerService Thread Pool -- 67) An error occured while initializing MyFaces: Class org.jboss.as.weld.webtier.jsf.WeldApplicationFactory is no javax.faces.application.ApplicationFactory: java.lang.IllegalArgumentException: Class org.jboss.as.weld.webtier.jsf.WeldApplicationFactory is no javax.faces.application.ApplicationFactory           at javax.faces.FactoryFinder.newFactoryInstance(FactoryFinder.java:354) [myfaces-api-2.1.10.jar:2.1.10] (...) I've tried the  https://community.jboss.org/docs/DOC-47689#comment-11484 workaround of Stan Silvert (by the way, modules/org/jboss/as/weld/main/modules.xml doesn't depend on javax.faces.api in JBoss 7.2.0.Final), but nothing changed, I still have got that stack... Any idea ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Portal Development] - JBoss : create	custom roles</header>
    <body>Hi, I am working on a JBoss portal containing several pages. These pages and the user having acces to these pages are define in the "...-object.xml" (using the &lt;portal&gt; =&gt; &lt;page&gt; =&gt; &lt;security-constraint&gt; =&gt; &lt;policy-permission&gt; =&gt; &lt;role-name&gt;) Now I would like to modify this, in order for an administrateur to create a custom role from the application, without modifying the code and its xml. So instead of defining which role has access to each page in the "....-object.xml", I would like to define it in my database. I saw that I can set the &lt;role-name&gt; to &lt;unchecked/&gt; so every role has access to the page, but how can I then write in the code the differences of interface between users right and view? Do you know if it is possible to hide/show different pages (so tabs, inside the application) depending on the database data of the user using JBoss? Thank you, Grinn</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Clustering Development] - mod_cluster SSL setup/implementation (JBoss AS --&gt; httpd)</header>
    <body>Hi, I have little problems with how the password attribute of the ssl element in the JBoss AS7 modcluster subsystem is used. Let's say we already have a truststore defined using system properties: &lt;system-properties&gt; &lt;property name="javax.net.ssl.trustStorePassword" value="mypasswd"/&gt; &lt;/system-properties&gt; In addition I have different keystores for the client certificates with different passwords. If the password is used in the subsystem config, ModClusterSubsystemAdd.java (as shown below) will overwrite my settings which will lead to exceptions b/c my truststore cannot be read anymore. This fact gives me two options: 1. I will set a password in the ssl element This means I have to duplicate my already existing CA truststore and use the same password I am using for my client certificate keystore. 2. I do not set a password. My truststore can be read w/o modification, BUT my keystore has to use the default "changeit" password which needs considering due to security implications. This is in ModClusterConfig.java What I'd like to discuss is: 1. Guard the truststore password set in ModClusterSubsystemAdd.java 2. use the javax.net.ssl.keyStore* system properties like it's done for the javax.net.ssl.trustStore* ones What do you think? Thx, Torben</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>I'm sorry, I modified modules/org/jboss/as/*web*/main/modules.xml and not modules/org/jboss/as/weld/main/modules.xml ! I finally modified the 2 modules.xml files as you describe in your workaround, and all gone OK (just that I was forced to copy the "main" and "1.2" directories from modules/system/layers/base to modules/ because the multi-JSF feature couldn't understand the new 7.2.0.Final modules structure.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Deploying an application from an external deployment location</header>
    <body>A deployment scanner is quite a complex beast, particularly if you support exploded deployments. The code for ours is in  https://github.com/jbossas/jboss-as/tree/master/deployment-scanner https://github.com/jbossas/jboss-as/tree/master/deployment-scanner particularly  https://github.com/jbossas/jboss-as/blob/master/deployment-scanner/src/main/java/org/jboss/as/server/deployment/scanner/FileSystemDeploymentService.java https://github.com/jbossas/jboss-as/blob/master/deployment-scanner/src/main/java/org/jboss/as/server/deployment/scanner/FileSystemDeploymentService.java. That's all heavily dependent on the java.io.File API though, so to borrow from that and use an HTTP store would be a significant change. It also has a lot of logic related to the marker files we use. That could be omitted if you don't deal with exploded deployments. The biggest thing you can get out of that code is how it uses the core management APIs to actually do the deployment actions. These are the same things the CLI does under the covers.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>Thanks for documenting the workaround, Anthony.  Indeed, this needs to be fixed.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Using LDAP in 5.4 - How to avoid creating users in organizationalentity table</header>
    <body>Partially answering to myself, it maybe help someone: The file jbpm.usergroup.callback.properties should be placed in the jbpm-human-task-core.jar that is inside the jbpm-human-task.war, that way callback will work. But the LDAP users are still not persisting in the organizationalentity table.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS 7.1.0 Beta1 - Security Enabled By Default</header>
    <body>How does the web management application authenticate users then? I'm building an web service that will enable users to add and remove JNDI datasources remotely and, if possible, would like to use that same mechanism to allow this only to the users that know their jboss credentials. Removing access from the auth folder works (i.e. only then ModelControllerClient.Factory.create actually throws an exception on wrong credentials), but mantaining that on 500+ JBoss instalations on various platforms would be a nightmare. Any help would be most appreciated  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS 7.1.0 Beta1 - Security Enabled By Default</header>
    <body>Please use the forums for your question - thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - How To Build JBoss	Tools 4.1 FAQ</header>
    <body>https://community.jboss.org/4.5.6/images/tiny_mce3/plugins/jiveemoticons/images/spacer.gif  https://community.jboss.org/4.5.6/images/tiny_mce3/plugins/jiveemoticons/images/spacer.gif *Frequently Asked Questions: How Do I Build JBoss Tools 4.1?* * * *+How do I configure my settings.xml?+* * Follow https://community.jboss.org/docs/DOC-15170  these instructions to add reference to JBoss Repositories into your settings.xml. You'll also probably need access to the SNAPSHOT repository. So here is what you should see in your ~/.m2/settings.xml &lt;settings xmlns="http://maven.apache.org/SETTINGS/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd"&gt;    ....     &lt;profiles&gt;         ....         &lt;profile&gt;             &lt;id&gt;jboss-default&lt;/id&gt;             &lt;repositories&gt;                 &lt;!-- To resolve parent artifact --&gt;                 &lt;repository&gt;                     &lt;id&gt;jboss-public-repository-group&lt;/id&gt;                     &lt;name&gt;JBoss Public Repository Group&lt;/name&gt;                     &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;                 &lt;/repository&gt;                 &lt;repository&gt;                     &lt;id&gt;jboss-snapshots-repository&lt;/id&gt;                     &lt;name&gt;JBoss Snapshots Repository&lt;/name&gt;                     &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/snapshots/&lt;/url&gt;                 &lt;/repository&gt;             &lt;/repositories&gt;             &lt;pluginRepositories&gt;                         &lt;!-- To resolve parent artifact --&gt;                         &lt;pluginRepository&gt;                                 &lt;id&gt;jboss-public-repository-group&lt;/id&gt;                                 &lt;name&gt;JBoss Public Repository Group&lt;/name&gt;                                 &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;                         &lt;/pluginRepository&gt;                         &lt;pluginRepository&gt;                                 &lt;id&gt;jboss-snapshots-repository&lt;/id&gt;                                 &lt;name&gt;JBoss Snapshots Repository&lt;/name&gt;                                 &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/snapshots/&lt;/url&gt;                         &lt;/pluginRepository&gt;                 &lt;/pluginRepositories&gt;         &lt;/profile&gt;     &lt;/profiles&gt;     &lt;activeProfiles&gt;         &lt;activeProfile&gt;jboss-default&lt;/activeProfile&gt;         ...     &lt;/activeProfiles&gt; &lt;/settings&gt; +*My build is failing due to OutOfMemory or PermGen issues! How do I give Maven more memory?*+ +* *+ * To configure the amount of memory used by Maven, you can define MVN_OPTS as follows, either in the mvn / mvn.bat script you use to run Maven, or set as global environment variables. Here's how to do so for  http://forums.fedoraforum.org/showthread.php?t=262465 Fedora,  https://help.ubuntu.com/community/EnvironmentVariables Ubuntu,  http://forums.techarena.in/windows-xp-support/1152405.htm Windows,  http://www.digitaledgesw.com/node/31 OSX. set MAVEN_OPTS=-Xms512m -Xmx1024m -XX:PermSize=128m -XX:MaxPermSize=256m +*How do I build via commandline?*+ 1. Fetch code from github 2. Run maven 3. Repeat for other projects cd ~/jbosstools git clone https://github.com/jbosstools/jbosstools-base cd ~/jbosstools/jbosstools-base mvn verify +*How do I build in Eclipse (with m2e)?*+ * With m2e installed, you can either do *CTRL-SHIFT-X,M (Run Maven Build),* or right-click the project and select *Run As &gt; Maven Build*. See  https://community.jboss.org/docs/DOC-47936#Building_Locally_In_Eclipse How To Build JBoss Tools 4 - Building Locally In Eclipse +*How do I build a single project?*+ * Generally, you need only fetch the sources, and run `mvn verify`. See 'How do I build via commandline?' or 'How do I build in Eclipse (with m2e)?' above. +* *+ +*How do I build a series of projects (eg., Base, Server, Webservices) ?*+ * Assuming your goal is to change sources in *multiple* projects, then build them all to verify everything still compiles, you will need to fetch sources, then build the projects in dependency order. * This workflow is useful when you're looking to change framework code in an upstream project like Base on which Webservices or Server depends, and verify that API changes don't break the downstream project's code. * Rather than using `mvn verify`, you must use `*mvn install*` so that the downstream build will use YOUR locally-built content in your ~/.m2, rather than looking to the internet for the last published upstream dependencies. cd ~/jbosstools git clone https://github.com/jbosstools/jbosstools-base git clone https://github.com/jbosstools/jbosstools-server git clone https://github.com/jbosstools/jbosstools-webservices cd ~/jbosstools/jbosstools-base; mvn install cd ~/jbosstools/jbosstools-server; mvn install cd ~/jbosstools/jbosstools-webservices; mvn verify +*Which is better - `mvn clean install` or `mvn verify` ?*+ * Use `*install*` to create artifacts in your ~/.m2 folder which will be checked when building anything which depends on those artifacts (in addition to checking the internet). Also useful for doing subsequent offline builds with the `*-o*` or `*--offline*` flag. * Use `*verify*` to build, but NOT install anything into your ~/.m2 folder. +*How do I clean out artifacts I might have installed to my ~/.m2/repo ?*+ +*What if I've already built something locally, but I want to build against the server version instead of my local repo?*+ * There are  http://wiki.eclipse.org/Tycho/Target_Platform#Locally_built_artifacts two approaches that work here: 0.1. override temporarily when building, using *-Dtycho.localArtifacts=ignore*, or 0.2. delete *~/.m2/repository/.meta/p2-local-metadata.properties* +*How do I build a target platform?*+ * Currently, you should not need to build a target platform locally if you're building w/ maven via commandline. But if you'd like to materialize a target platform for use in Eclipse, you can do so like this: 1. Fetch target platforms project from github 2. Switch to the correct branch 3. Run maven 4. Results will be in jbosstools/multiple/target/jbosstools-multiple.target.repo/ or jbdevstudio/multiple/target/jbdevstudio-multiple.target.repo/ cd ~/jbosstools git clone https://github.com/jbosstools/jbosstools-target-platforms cd ~/jbosstools/jbosstools-target-platforms git checkout 4.3.0 mvn install cd ~/jbosstools/jbosstools-target-platforms/jbosstools/multiple/target/jbosstools-multiple.target.repo/ +* *+ +*Why is there more than one target platform?*+ * Every time we make changes to the target platform, either to add/remove something, or to change the included version, we release a new version. * In order to verify we can build against the oldest version of a target platform (eg., one based on Eclipse 4.2.0, or "minimum" target platform) but also run tests against the latest for that stream (eg., based on Eclipse 4.2.2, or "maximum" target platform), we need to maintain multiple versions. * By default, your build will use the default "minimum" target platform specified in the JBoss Tools parent pom. To easily build against the default "maximum", use *-Pmaximum*. See also 'What profiles do I need to build? What Maven properties are useful when building?' +*How do I specify which target platform to use when building?*+ * See 'What profiles do I need to build? What Maven properties are useful when building?' +*How to I skip running  tests? How do I make tests not fail? Or only fail after ALL tests run? *+ +* *+ * To skip running tests, you can use these Maven flags:* *-Dmaven.test.skip=true* * *-DskipTests* * If your reason for skipping tests is to see if everything can run without being stuck on the first test failure, you might also like these flags:* *-fae*, *--fail-at-end* : Fail at end of build only * *-fn*, *--fail-never* : Never fail the build regardless of result * You can also cause test failures to result in JUnit output without failing the build using these flags:* *-Dmaven.test.error.ignore=true* * *-Dmaven.test.failure.ignore=true* +*How can I debug tests in Eclipse when run from Tycho (with Surefire)?*+ * See  http://www.jboss.org/tools/docs/testing.html http://www.jboss.org/tools/docs/testing.html +*How do I build docs?*+ * See  https://community.jboss.org/docs/DOC-13341 Building JBoss Tools Documentation. +*What profiles do I need to build? What Maven properties are useful when building? *+ * Most of the time, you don't need any profiles or -D properties. Here are some profiles and properties you might want to use in special cases. ** *-Pmaximum* : selects the default maximum target platform version instead of the default minimum one. Useful when running tests to verify that your code works against a newer target platform (eg., Eclipse 4.2.2 instead of 4.2.0) ** *-DTARGET_PLATFORM_VERSION* : allows you to pick a specific target platform version from those available in Nexus. * See also 'How to I skip running  tests? How do I make tests not fail? Or only fail after ALL tests run?' above for test-related properties. +*How do I see what's happening on a remote slave running Xvfb? *+ * View the screen w/ xwud:* xwud /tmp/Xvfb_screen0 +* *++*Anything else?*+ * See also this FAQ:  https://community.jboss.org/docs/DOC-10796 https://community.jboss.org/wiki/JBossToolsFAQ +* *+</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS 7 Internal	Architecture Overview</header>
    <body>h2. High Level Overview At a coarse level, AS 7 consists of two main elements: * A core manageable service container based on modular classloading * Extensions to that core that provide the kind of functionality most users associate with an application server, like handling HTTP requests and managing transactions The AS distribution also includes two clients for the management interfaces it exposes (a CLI tool and a web-based admin console). The AS codebase also produces implementations of the SPIs published by the Arquillian project, allowing AS7 servers to run Arquillian-based tests. h3. AS Core The core of the AS consists of the following primary elements: * A modular classloading system provided by the jboss-modules library * A fast, highly scalable service container framework provided by the jboss-msc library * An extensible management layer that is meant to mediate access to the service container by logic that wants to add, remove and modify services. The management layer also provides a consistent, persistent, configuration model for the AS. The management layer involves* core elements, via the jboss-dmr library and the AS codebase's own controller, controller-client, deployment-repository, domain-management and network modules as well as parts of the server module * remote management capability via the protocol and domain-http modules * multi-server managed domains via the process-controller and host-controller modules * miscellaneous elements provided via the managment-client-content and platform-mbean modules * A deployment framework for coordinating installation of deployment content into the runtime. This is one of the things provided by the server module. h3. AS Extensions Most of the functionality that end users associate with an application server is provided AS extensions. Most of the modules in the AS7 codebase are extension implementations, with each extension providing a coherent set of functionality. Many extensions provide support for some aspect of the Java EE specifications. Extensions implement an interface (org.jboss.as.controller.Extension) that allows integration with the core AS management layer. Via that mechanism, extensions are able to * participate in the parsing and marshalling of the AS's configuration documents * register resources and operations to be exposed via the AS's management API * install services into the AS's service container * register deployment unit processors with the AS's deployment framework See the " https://docs.jboss.org/author/display/AS72/Extending+JBoss+AS+7 Extending JBoss AS 7" document for more on extensions. See also  https://community.jboss.org/docs/DOC-25627 https://community.jboss.org/docs/DOC-25627 for more on how extending AS 7 differs from extending previous versions of JBoss AS. h2. AS7 Boot Process To better illustrate the AS 7 architecture, let's walk through the boot process for a standalone server. h3. Primordial Boot When you run bin/standalone.sh from the root of the AS 7 distribution, the final effect is to launch a JVM using the following essential command java -jar jboss-modules.jar -mp modules org.jboss.as.standalone If you start the AS and use the ps command to see the actual JVM launch command, you'll see a lot of JVM settings (-Xmx and the like) and a lot of system property settings, but the above bits are the key information. Let's break that down a bit: java -jar jboss-modules.jar We can see from this that the actual main class the VM will invoke isn't in a JBoss AS library at all; it's in jboss-modules.jar (specifically, the org.jboss.modules.Main class.) So, when you start the AS the first thing you are doing is setting up a modular classloading environment. -mp modules These are arguments passed to org.jboss.modules.Main.main(). The -mp is short for "module path" and the value is a path somewhat analogous to the value of an OS $PATH environment variable. Each item in the path is a location under which jboss-modules will look for a module when needed. If there is more than one item in the path, the items are searched in order, with the search ending as soon as the module is found. In this case there is only one item in the path -- the modules/ dir under the AS distribution root. org.jboss.as.standalone This is the name of a module located on the module path. This module will be loaded by jboss-modules. If you look in the modules/org/jboss/as/standalone/main/module.xml file in the AS distribution, you will see it includes this element: &lt;main-class name="org.jboss.as.server.Main"/&gt; When jboss-modules sees that element in the module.xml for the module passed to its main() method, it knows to load the specified class and to pass any remaining command line arguments into +its+ main() method. So, now we have a modular classloading enviroment set up, and the org.jboss.as.server.Main.main() method (found in the AS codebase's server module) has been invoked. The org.jboss.as.server.Main.main() method does a number of things, but two are most relevant for people who wish to understand how to develop the AS: * Any remaining command line arguments are processed and an instance of the ServerEnvironment is created. This object encapsulates environmental information available via the command line or system properties; things like where the root of the AS dist is; where the root of the server instance is; where the configuration file is, etc. Later this information is made available to all services in the system via the ServerEnvironmentService. * An object implementing the Bootstrap interface (specifically, the org.jboss.as.server.BootstrapImpl class) is created  and configured and its bootstrap() method is invoked. h3. Service-based Boot The most important thing BootstrapImpl does is create an instance of the JBoss MSC library's ServiceContainer interface. A service container manages a set of running services. A service is simply a thing that can be started and stopped, with start and stop performed via methods specified in the JBoss MSC Service interface. A service also exposes a value of some type T via the Service interface's public T getValue() method. The value type T specified by the service is used by default by consumers of the service, and should represent the public interface of the service. It may or may not be the same as the implementing type of the service. The ServiceContainer provides an API for managing services -- configuring and installing them, removing them, triggering start and stop, looking up already installed services, etc. Configuring a service can involve expressing the dependencies the service has on other services and asking that the service container inject the value of depended-upon services into the service before starting it. If a service depends upon another service, that other service must be successfully started before the service container will invoke the dependent service's start method. If for some reason the depended-upon service needs to be stopped, the service container will invoke the dependent service's stop method first. The ServiceContainer maintains an internal thread pool. In order to achieve highly performant management of large numbers of inter-related services, activities related to starting and stopping services are performed as a series of concisely scoped tasks, with the threads in the thread pool used to execute those tasks. For example, executing a service's start method would be a task performed by a thread in the ServiceContainer's thread pool. Because of this fact, +it is important to recognize that any activity related to starting and stopping services will be highly multi-threaded. For example, you can never assume that the thread that asks the service container to install a service will be the thread that calls its start method.+ So, at this point in our boot, we have in place two of the four main architectural elements discussed in the "AS Core" section of the "High Level Overview" above: a modular classloading environment provided by the jboss-modules library, and a service container framework provided by the jboss-msc library. Up to this point in the AS boot, all activity has been on a single thread, the JVM's main thread. In the BootstrapImpl.bootstrap() method, things get more interesting, since much of the remaining boot work involves installing services, with the ServiceContainer's thread pool threads doing the most of that work. BootstrapImpl.bootstrap() installs two services: * ControlledProcessStateService. This service provides access to a simple enum value showing the current running state of the server (STARTING, STOPPING, RUNNING, RESTART_REQUIRED, RELOAD_REQUIRED). This is the only service that once started should not be stopped until the VM is being shut down. * ApplicationServerService. This is the root service for the application server; all other services in one way or another depend upon it. When you use the CLI to perform the :reload operation, the server handles that request by telling the service container to stop this service, which has the effect of stopping all other services that depend upon it. Then once it is stopped, the service container is told to start the service again. The ApplicationServerService starts a number of other services in its start method. The most significant of these is the ServerService. h3. The ServerService and the Controller Boot Thread ServerService brings in the 3rd and 4th of the four primary components of the core AS listed in the "High Level Overview" above -- the extensible management layer and the deployment framework. For those of you familiar with the " https://docs.jboss.org/author/display/AS72/Extending+JBoss+AS+7 Extending JBoss AS 7" document, ServerService performs many of the same kinds of activities an Extension implementation performs in its initialize(ExtensionContext context) method, but for the core AS management model: * registers resource definitions, attribute definitions and OperationStepHandlers for the core AS managed resources * registers core DeploymentUnitProcessors ServerService implements Service&lt;ModelController&gt;. A ModelController is the central execution point for management operations in a managed AS process (i.e. a server or a HostController in a managed domain.) In its start method, ServerService spawns a separate thread, the "Controller Boot Thread", which is responsible for coordinating the remainder of the boot. It does the following primary tasks * Triggers the parsing of the server configuration file (e.g. standalone.xml) into a list of management operations that should be executed by the ModelController to bring the server's running configuration in line with the xml configuration * Passes those management operations into the ModelController's execute method. The ModelController uses the Controller Boot Thread to handle execution of many of the steps involved in handling those operations. * Blocks until all services added into the runtime as part of handling those management ops have either started or failed to start. * Logs the completion of boot. The tasks of the Controller Boot Thread are spelled out in further detail below. h4. XML Parsing, Extension Loading, Extension Parsing Initialization The task of an XML parser for an AS7 configuration document (e.g. standalone.xml, domain.xml, host.xml) is to populate a list of management operations that should be executed by the ModelController to bring the process' running configuration in line with the xml. Each of those management operations has the same format as would be read off the wire if the CLI had sent an operation request to the server to invoke an equivalent operation. The parser for the core AS xml namespace has some special behavior when it comes to parsing an &lt;extension&gt; element in the xml: * The name attribute of the element is the name of a JBoss Modules module that contains an implementation of the org.jboss.as.controller.Extension interface * Once the name is parsed, the parser asks JBoss Modules to load the module * Once the module is loaded, the java.lang.ServiceLoader mechanism is used to load the module's implementation of the Extension interface. * The initializeParsers(ExtensionParsingContext context) method on that Extension implementation is invoked. That allows the extension to register XML parsers for the XML namespaces supported by the subsystem(s) the extension provides. * When the core AS xml parser subsequently encounters a &lt;subsystem&gt; element in the configuration document, the xml namespace of the element is determined, and the appropriate parser registered by some Extension is used to parse that portion of the document. h4. Execution of Boot Management Operations, Extension Initialization Once xml parsing is complete, a list of management operations is ready for execution by the ModelController. Each operation has the same format (address, operation name, parameters) as would be read off the wire if the CLI had sent an operation request to the server to invoke an equivalent operation after boot. The Controller Boot Thread asks the ModelController to execute the operations as a unit, with each individual operation acting as a step in the overall unit of work. Execution proceeds in 3 stages, with all steps in the overall unit completing a stage before execution on the next stage begins. (This execution pattern applies whenever any operation or atomic list of operations is invoked, not just during boot.) * Stage MODEL -- the OperationStepHandler registered for each operation makes necessary updates to the server's internal configuration model, and, if necessary, registers a handler for the same operation for Stage RUNTIME. * Stage RUNTIME -- any OperationStepHandler registered in Stage MODEL for an operation accesses the JBoss MSC ServiceContainer and installs/removes/updates any relevant services. The ServiceContainer has its own thread pool and uses it to perform the necessary tasks to start and stop services. The thread executing the OperationStepHandler does not do this directly, and the handler implementation needs to recognize that service start/stop will be asynchronous. * Stage VERIFY -- A Stage.MODEL or Stage.RUNTIME handler can register a Stage.VERIFY handler that will only run once the ServiceContainer had completed all service modifications made in stage RUNTIME. A VERIFY handler can check that the runtime service changes completed successfully. Before the list of boot operations is passed into the ModelController, a check is done for operations that add extension resources (for example, using CLI syntax, /extension=org.foo.extension:add.) When one is found, the relevant Extension implementation's initialize(ExtensionContext context) method is invoked. This gives the Extension a chance to register its resource and attribute definitions and its OperationStepHandlers with the core AS management layer before the boot operations are executed. h4. Wait for Service Container Stability and Boot Completion The final steps in the AS 7 boot are to wait while the JBoss MSC ServiceContainer processes the installation and start of all the services added by the handlers for the boot operations. As discussed in the introduction to the ServiceContainer above, the start of services is performed by threads in the ServiceContainer's internal thread pool. Services are not started by the Controller Boot Thread. However, the ServerService attaches a listener to the controller object for each service; using this the ServerService is able to track when all services have reached a stable state. The Controller Boot Thread uses this facility to block until the ServiceContainer has stabilized. At that point, all services are either started or failed, and boot is nearly complete. The Controller Boot Thread switches the state of the ControlledProcessState service from STARTING to RUNNING, writes a log message reporting that the boot is complete, and boot is finished. h2. Deployment Processing When you trigger deployment of some content, one of the management operations supported by the core AS management layer is invoked. The logic responsible for handling that operation will extract relevant information from the operation request (e.g. the name of the deployment) and will then install services into the AS's service container: * A Service&lt;VirtualFile&gt; implementation that provides an org.jboss.vfs.VirtualFile that represents the deployment content. * A Service&lt;DeploymentUnit&gt; (in this case RootDeploymentUnitService) that provides a DeploymentUnit for the deployment. A DeploymentUnit retains data which is persistent for the life of the deployment, and will later be passed into the various DeploymentUnitProcessor implementations that perform various actions to install the runtime services needed by the deployment. The RootDeploymentUnitService has injected into it a reference to all the DeploymentUnitProcessor (DUP) implementations that were registered by the core ServerService at boot or that have been registered by subsystems. The DUP implementations are grouped by the Phase of the deployment process in which they execute, and are numerically ordered within that phase. DeploymentUnitProcessors are organized in a chain fashion, with each DUP performing a limited set of tasks to help take a deployment from being a bunch of bits to being a set of useful services. Deployment proceeds in phases. See the  https://github.com/jbossas/jboss-as/blob/master/server/src/main/java/org/jboss/as/server/deployment/Phase.java Phase enum for a listing of the phases. For each phase, a DeploymentUnitPhaseService representing that phase that is installed into the service container. Each phase service (save the first) depends on the phase service for the previous phase, and each phase service (save the last) in its start method installs the phase service for the next phase. The RootDeploymentUnitService in its start method installs the first phase service, which in turn depends on it the RootDeploymentUnitService. The effect of all this is if the RootDeploymentUnitService is stopped (e.g. by the undeploy management operation), this will trigger a requirement for the service container to first stop the first phase service, which will in turn trigger a requirement to first stop the next phase service, and so on all the way to the final phase service. The effect is the phase services will be stopped in reverse order from how they were started. The primary thing the phase services do in their start and stop methods is invoke the deploy and undeploy methods of each DeploymentUnitProcessor registered for their phase. The deploy method is invoked in phase service start and the undeploy method is invoked in stop. For each deploy/undeploy call the DUP is provided with a DeploymentPhaseContext that provides context to the call and gives the DUP access to the service container, allowing it to install or remove services. h3. Deployment Processing and Modules One of the tasks performed by the DeploymentUnitProcessors is to set up the modular classloading enviroment for the deployment. Each top-level deployment has its own dynamically generated module. For deployment types that include known subdeployments (e.g. an ear can include wars, ejb jars, etc) then in addition those subdeployments also get their own dynamically generated module. What other modules these deployment modules have visibility to depends on the requirements determined by the deployment framework when it analyzes the deployment content (e.g. by parsing deployment descriptors, reading manifests, or scanning annotations.) The key actor in this process is the org.jboss.as.server.deployment.module.ModuleSpecProcessor, which is a DeploymentUnitProcessor. The ModuleSpecProcessor configures and installs an MSC service that interacts with jboss-modules to dynamically generate the deployment's module. Other DeploymentUnitProcessors that execute prior to ModuleSpecProcessor analyze the content of the deployment and add contextual information to the DeploymentUnit that is used by ModuleSpecProcessor to establish what other modules the deployment's module can access. So, for example, a DUP registered by the JPA subsystem might recognize that the deployment requires JPA support (e.g. by detecting the presence of a persistence.xml file) and record that visibility to the modules that provide the JPA APIs should be added. The effect of all this is the deployment's classes have access to an appropriate set of classes located in the AS's own modules or in other deployments, but do not have access to classes located in other modules.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Jboss Web Service</header>
    <body>Hi everybody,,, iI create a web service to send a message, for local queue on local PC (127.0.0.1) it is correcte  but  for remote queue (192.168.20.35) as same queue name on remote PC return *&lt; D queue not bound&gt;* *Error* : i used jboss 4.2.3 + axis2 + with eclipse Same configuration for queue and username,password on local and remote machines. ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Re: Jboss Web Service</header>
    <body>By theway, If i run the same code AS normal JAVA Application with remote queue it is working *fine* and i got a response,so only if i run it as web service to remote queue i got an error</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - CLI Batch Mode</header>
    <body>The syntax for 7.1.1+: jboss-cli.sh file=file_path If your commands in the file need a connection, the first line in your file should be "connect". It wouldn't let me combine --connect and file as command-line parameters.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Use of newConsoleLogger</header>
    <body>Hello, its a simple newbie question. I thought that using it should output some log in the console. But if it doesn't display any log, what could be wrong?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How to resolve this issue "java.lang.String cannot be cast to org.jbpm.task.utils.MarshalledContentWrapper"</header>
    <body>Hi all, I am trying a human task example with variables , and i am using this link as a refrence  https://community.jboss.org/people/bpmn2user/blog/2011/02/21/jbpm5-example-for-forms-with-variables https://community.jboss.org/people/bpmn2user/blog/2011/02/21/jbpm5-example-for-forms-with-variables But now the thing is that when i am trying to run this i am getting following error. I am using JBPM5.4 . *Exception in thread "Thread-2" java.lang.ClassCastException: java.lang.String cannot be cast to org.jbpm.task.utils.MarshalledContentWrapper* at org.jbpm.task.utils.ContentMarshallerHelper.unmarshall(ContentMarshallerHelper.java:157)           at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler$TaskCompletedHandler.handleCompletedTask(GenericHTWorkItemHandler.java:208)           at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler$TaskCompletedHandler$1.run(GenericHTWorkItemHandler.java:187)           at java.lang.Thread.run(Thread.java:679)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: How to resolve this issue "java.lang.String cannot be cast to org.jbpm.task.utils.MarshalledContentWrapper"</header>
    <body>I have a similar issue, except when using Integer variables in the designer and the auto-generated task forms.  In the link  https://issues.jboss.org/browse/JBPM-3779 https://issues.jboss.org/browse/JBPM-3779 they mention a similar issue and say it was fixed for the JBPM 5.4 release, but I am currently using it an it is not working.  I wonder if the two problems are related.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - JBoss Tools	Development Environment</header>
    <body>* #Tools_and_technologies Tools and technologies ** #Java Java ** #Eclipse_PDERCP Eclipse PDE/RCP ** #Git_and_EGit Git and EGit ** #m2e m2e ** #Tips_for_productivity_and_quality Tips for productivity and quality *** #Install_Code_Recommanders Install Code Recommanders *** #Static_analysis Static analysis **** #Enable_all_JDT_warnings Enable all JDT warnings **** #Install_Findbugs_for_Eclipse Install Findbugs for Eclipse **** #Install_PMD_for_Eclipse Install PMD for Eclipse *** #Coverage Coverage * #Get_source Get source ** #To_work_on_a_specific_component To work on a specific component * #Set_up_a_target_platform Set up a target platform * #Run_JBoss_Tools_and_Tests_from_your_IDE Run JBoss Tools and Tests from your IDE This article explains the different steps to set up a 1st-class environment when you want to write code for JBoss Tools h1. Tools and technologies h2. Java JBoss Tools requires Java 6. Ensure your JRE and JDK are compatible with Java 6 h2. Eclipse PDE/RCP JBoss Tools are a set of plugins for Eclipse. Then get your favourite recent version of Eclipse from here:  http://eclipse.org/downloads/ http://eclipse.org/downloads/ We recommand you using +Eclipse for RCP and RAP Developers+. But you can also install PDE in any other installation of Eclipse: https://community.jboss.org/servlet/JiveServlet/showImage/102-18124-6-18511/installPDE.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-18124-6-18511/450-477/installPDE.png h2. Git and EGit Instlall Git CLI, and install EGit in Eclipse (EGit is already provided in most Eclipse installations). h2. m2e m2e (maven integation for Eclipse) is also required. It's recommended that you also install *m2e-tycho* and *m2e-eGit* connector from +Preferences &gt; Maven &gt; Discovery &gt; Open Catalog+. https://community.jboss.org/servlet/JiveServlet/showImage/102-18124-6-20251/m2e-tycho.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-18124-6-20251/450-341/m2e-tycho.png h2. Tips for productivity and quality Here are some highly recommanded plugins that will make your more efficient when inside the IDE h3. Install Code Recommanders Provides additional snippets, templates and smart completion. Not intrusive. You can find it on the "Juno" update-site or the current Eclipse release site. h3. Static analysis Static analysis will detect bug very early and will save you minutes of debug every day. Using it will make you and your colleagues happier. It tells you while typing code that you may have a bug. No need to wait for running test or CI reports to detect this. h4. Enable all JDT warnings JDT provides very good static analysis, and can prevent you from writing bugs. You simply have to turn all "ignored" advices to "warning" in Window &gt; Preference &gt; Java &gt; Compiler &gt; Errors/Warning. https://community.jboss.org/servlet/JiveServlet/showImage/102-18124-6-18512/jdtWarnings.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-18124-6-18512/450-431/jdtWarnings.png h4. Install Findbugs for Eclipse http://marketplace.eclipse.org/content/findbugs-eclipse-plugin http://marketplace.eclipse.org/content/findbugs-eclipse-plugin h4. Install PMD for Eclipse http://marketplace.eclipse.org/content/pmd-eclipse http://marketplace.eclipse.org/content/pmd-eclipse h3. Coverage Coverage answers to the question "What is tested or net?". JBoss Tools CI builds provide Jacoco reports for coverage by unit tests (file name is jacoco.exec). This file can easily be analyzed inside Eclipse on your Java editor using EclEmma plugin:  http://marketplace.eclipse.org/content/eclemma-java-code-coverage http://marketplace.eclipse.org/content/eclemma-java-code-coverage h1. Get source Each JBoss Tools component is now its own GitHub repo:  https://github.com/jbosstools/ https://github.com/jbosstools/ h2. To work on a specific component The easiest way to get started is to check out source for only the module you wish to work on, and import Java projects from this part of the source tree. Example: * I  want to fix a bug in CDI component of JBT: git clone git://github.com/jbosstools/jbosstools-server.git and import plugins and tests projects from plugns/* and tests/* h1. Set up a target platform *Target Platform = Allowed Dependencies* We provide several TP that have different purpose. We do set up some default TP for development, that you should use. You should use those Target Platforms instead of installing the dependencies in your IDE. Then you IDE becomes "The tools you need to develop" whereas the Target Platform provides the dependencies. Import into your Eclipse workspace JBoss Tools target platforms from GitHub: git clone git://github.com/jbosstools/jbosstools-target-platforms.git Then select the version you want for the target platform. Those versions are available as tags. You can see the list of tags with git tag -l. Let's say for this example we want the target platform 4.2.0.c. cd jbosstools-target-platforms git checkout 4.2.0.c Then, in Eclipse, +Import &gt; Existing Maven Project+, browse to the +jbosstools-target-platfroms/jbosstools/multiple.+ Double-click on +multiple.target+, and click +Set As Target Platform+ +https://community.jboss.org/servlet/JiveServlet/showImage/102-18124-6-20254/setTp.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-18124-6-20254/450-355/setTp.png + h1. Run JBoss Tools and Tests from your IDE Once Target Platform is configured, you can easily give a try to your plugins using +Run As &gt; Java Application.+ You can also run automated tests from your IDE using +Run As... &gt; JUnit Plugin Tests+.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - TransactionMonitoringAndVisualization</header>
    <body>h1. Transaction Monitoring and Visualization h3. Overview of the Tool The purpose of this project is to create a tool for monitoring the status of in-flight and complete transactions. The main aims of the tool are to help debug transaction related issues and also to provide insight into the running of the system. Essentially, the tool monitors a running system (or a log from a running system) and produces a detailed list of all transactions. A user may then select a particular transaction to see in more detail, including the participants involved in the transaction, the outcome of the transaction and the participants that influenced the outcome. The tool could be visual, showing a diagrammatic view of a transaction or may be command line based, producing a textual output (or maybe both). h3. What Problems does this solve? * Transaction Timeout detection. We frequently get support requests (via the forums or elsewhere) from users who are experiencing intermittent rollbacks of transactions due to timeout. It is not a simple matter for the user to figure out that this is what's happening. * Transaction Profiling. It may be relatively easy to detect transactions that are taking longer than desired to complete. However, diagnosing which party in the transaction is to blame is non-trivial. * Loops and Diamonds detection. In a distributed transaction it is possible to introduce a loop or a diamond without realizing. JTS may tolerate this, but distributed JTA and bridged WS-AT to JTA does not. Identifying this scenario is non-trivial and requires detailed internal knowledge of the TM. * Reasoning about the System Architecture. Producing an architectural diagram of a distributed transaction with many participants and servers is not an easy task.  Furthermore it can be error prone and could change based on the application inputs. The difficulty of this task is further compounded if multiple transaction types are involved (WS-AT, WS-BA, REST-AT, etc). This diagram is essential for reasoning about the current architecture and for considering improvements or changes. Also this diagram alone may not be enough without detailed profiling overlayed. * Analyzing Disk Syncs. One approach to improving the performance of a transaction is to reduce the number of disk syncs. The problem is that it is often difficult to calculate exactly how many you are performing and what delay each adds. h3. Who is the target audience? * End users, to diagnose their own issues * GSS, to diagnose customer issues * Architects, to analyze their system architecture * Those new to the field of transactions, learning what's going on. h3. How does it solve these problems? The tool analyses the server log and gathers data on every transaction ran. The tool could also support live updates for a server that is still running. The tool assumes that it can gather all its information from log statements. If it can't, we take the view that some logging is missing and then add it. We may also want the tool to support different log levels. For example, it may need a log level of TRACE to acquire full knowledge of the system. This may introduce too much of a performance overhead, so we may want to allow the tool to tollerate the reduced information provided by the less verbose log levels. In this case only basic information would be provided. h6. Querying feature The data can be queried to find out specific information. For example, show me all the transactions that rolled back. Given a rolledback transaction, the data should be available to diagnose exactly why it rolledback. Other things you may want to query by: * *Outcome*. Committed, Rolledback, heuristic, etc * *Type*. JTA, JTS, WS-AT, REST-AT, etc * *Duration*. Find all fast or slow transactions * *Inflight*. Show transactions currently inflight * *Stuck*. Inflight transactions that have been running for longer than Xms. * *Recovery*. All transactions that needed to be recovered. h6. Diagnostics The tool could also allow 'profiles' to be plugged in. A 'profile' is responsible for identifying common problems that we see users having. Hopefully these would allow issues to be identified earlier before they are passed further up the support chain. For example, we may create a 'profile' that searches over the data looking for loops or diamonds. Another could be responsible for identifying timeouts and maybe hinting at their cause. These 'profiles' would be created based on community demand. h6. Visualization In order to help architects reason about the system architecture, the tool could produce a visualization of a transaction of interest. A few diagrams should give you an idea of what the tooling could produce: https://community.jboss.org/servlet/JiveServlet/showImage/102-48255-2-20252/TXVisualCommitted%282%29.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-48255-2-20252/310-205/TXVisualCommitted%282%29.png Here we can see that a transaction was begun on Server1. It enlisted a DB and JMS queue locally and invoked a remote service on Server2. A second resource (DB2) was enlisted on Server2. https://community.jboss.org/servlet/JiveServlet/showImage/102-48255-2-20253/TXVisualRollback.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-48255-2-20253/310-211/TXVisualRollback.png In this example we can see that the transaction rolled back because DB2 voted rollback. Other possible features: * *Participant types*. Display if the participant is one or two phase aware for JTA/JTS. Display the completion type (Participant/Coordinator) for WS-BA. * *    Resource types*. Whether it's a database or message queue and maybe include the name and version. * *Multiple Transaction Types*. Somehow depict the type of transaction (JTS, WS-AT, REST-AT, etc). * *Display Bridges*. Display when a transaction is bridged from one type to another * *In flight Transactions*. More useful for long running transactions; display the current status of each participant and update the display in real-time as the status changes. * *Recovery Status*. Show which resources crashed and the status of those resources already committed or recovered.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jBPM console: tasks not	shown</header>
    <body>Hi all, I desperately need help on this. I created my own process definition bpmn2 file using drools guvnor/oryx designer and deployed it in jbpm console. The process is shown in process overview and process is succesfully started. However no task is listed on personal task list. my process definition consists of 1 user task which should be performed by krisv. processinstanceinfo table in database was also updated after starting the process but not the task table. Im using jbpm 5.2 on postgresql. Please please help me on this. Been trying to fix it already for weeks!  :(</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS Development Deployment Framework] - Class def not found in jboss as 7.X when using classloader for custom jar</header>
    <body>I have a project structure as eardirectory.Ear   lib/     my-custom-classes.jar     .....     .....   my-custom-ejb.jar   META-INF/   .... //Now I tried to load classes from classloader as Esper uses this way to load events type for pojo classes, but this will not work as current thread is of jboss and jboss has not any identification of my-custom-classes.jar. *So my question is how this can be done with jboss?* I have to have to load class definition at runtime. Is there any way in *"jboss-deployment-structure"* I can define how to load classes before deploying EAR? I also tried moving class definition from *my-custom-classes.jar* to *my-custom-ejb.jar* and loading class definition on to current thread, but this also didn't work.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - How to Build JBoss Tools 4.0 with Maven 3</header>
    <body>** #Environment_Setup Environment Setup *** #Prerequisistes Prerequisistes *** #Maven_and_Java Maven and Java *** #Maven_settings Maven settings *** #Building_Parent_Pom__Target_Platforms_Locally Building Parent Pom &amp; Target Platforms Locally *** #Maven__Java_Memory_Configuration Maven &amp; Java Memory Configuration ** #Verify_or_Install Verify or Install? ** #About_Target_Platform_and_related_profiles About Target Platform and related profiles *** #Using_published_Target_Platform_definition_Recommended Using published Target Platform definition (Recommended) *** #Or_getting_a_local_copy_of_the_Target_Platform Or, getting a local copy of the Target Platform **** #Get_it Get it ***** #_Download_TP_as_a_zip_and_install_it_by_yourself  Download TP as a zip and install it by yourself ***** #OR_use_Maven_to_build_it OR, use Maven to build it **** #Use_it_as_a_Maven_mirror Use it as a Maven mirror ** #Optional_Build_parent_and_target_platform (Optional) Build parent and target platform ** #Building_Individual_Components_Locally_Via_Commandline Building Individual Components Locally Via Commandline *** #Build_a_component_resolving_to_a_recent_aggregation_build_for_other_JBT_dependencies_Recommanded Build a component resolving to a recent aggregation build for other JBT dependencies (Recommanded) *** #Build_a_component_resolving_to_the_latest_CI_builds_for_other_JBT_dependencies Build a component resolving to the latest CI builds for other JBT dependencies *** #Build_a_component_along_with_all_its_dependencies_from_sources_bootstrap_build Build a component along with all its dependencies from sources ("bootstrap" build) ** #Building_Everything_In_One_Build_Locally_Via_Commandline Building Everything In One Build Locally Via Commandline ** #Building_Locally_In_Eclipse Building Locally In Eclipse ** #Installation_Testing__making_sure_your_stuff_can_be_installed_ Installation Testing - making sure your stuff can be installed ** #Adding_a_new_feature_or_plugin_to_an_existing_component Adding a new feature or plugin to an existing component ** #Dealing_with_timeouts_for_tests Dealing with timeouts for tests ** #Tips_and_tricks_for_making_BOTH_PDE_UI_and_headless_Maven_builds_happy Tips and tricks for making BOTH PDE UI and headless Maven builds happy *** #Check_your_buildproperties Check your build.properties *** #Check_your_manifestmf_dependencies Check your manifest.mf dependencies *This article is a replacement for its precursor,  https://community.jboss.org/docs/DOC-16604 How to Build JBoss Tools 3.3 with Maven 3.* *Note that this article only discusses building from trunk. To work with another branch, see  http://learn.github.com/p/branching.html Learn.GitHub - Branching and Merging.* *Looking for how to build our documentation? See  https://community.jboss.org/docs/DOC-13341 Building JBoss Tools Documentation.* h2. Environment Setup h3. Prerequisistes 1. Java 1.6 SDK 2. Maven 3.0.3 3. About 6 GB of free disk space if you want to run all integration tests for (JBoss AS, Seam and Web Services Tools) - *requires VPN access* 4. subversion client 1.6.X  (should work with lower version as well, but newer versions may not work as expected) h3. Maven and Java Make sure your maven 3 is available by default and Java 1.6 is used. mvn -version should  print out something like *Apache Maven 3.0.3* (r1075438; 2011-02-28 12:31:09-0500) *Java version: 1.6.0_25*, vendor: Sun Microsystems Inc. *Java home: /usr/java/jdk1.6.0_25/jre* Default locale: en_US, platform encoding: UTF-8 OS name: "linux", version: "2.6.42.3-2.fc15.x86_64", arch: "amd64", family: "unix" h3. Maven settings Follow https://community.jboss.org/docs/DOC-15170  these instructions to add reference to JBoss Repositories into your settings.xml. You'll also probably need access to the SNAPSHOT repository. So here is what you should see in your ~/.m2/settings.xml &lt;settings xmlns="http://maven.apache.org/SETTINGS/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd"&gt;    ....     &lt;profiles&gt;         ....         &lt;profile&gt;             &lt;id&gt;jboss-default&lt;/id&gt;             &lt;repositories&gt;                 &lt;!-- To resolve parent artifact --&gt;                 &lt;repository&gt;                     &lt;id&gt;jboss-public-repository-group&lt;/id&gt;                     &lt;name&gt;JBoss Public Repository Group&lt;/name&gt;                     &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;                 &lt;/repository&gt;                 &lt;repository&gt;                     &lt;id&gt;jboss-snapshots-repository&lt;/id&gt;                     &lt;name&gt;JBoss Snapshots Repository&lt;/name&gt;                     &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/snapshots/&lt;/url&gt;                 &lt;/repository&gt;             &lt;/repositories&gt;             &lt;pluginRepositories&gt;                         &lt;!-- To resolve parent artifact --&gt;                         &lt;pluginRepository&gt;                                 &lt;id&gt;jboss-public-repository-group&lt;/id&gt;                                 &lt;name&gt;JBoss Public Repository Group&lt;/name&gt;                                 &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;                         &lt;/pluginRepository&gt;                         &lt;pluginRepository&gt;                                 &lt;id&gt;jboss-snapshots-repository&lt;/id&gt;                                 &lt;name&gt;JBoss Snapshots Repository&lt;/name&gt;                                 &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/snapshots/&lt;/url&gt;                         &lt;/pluginRepository&gt;                 &lt;/pluginRepositories&gt;         &lt;/profile&gt;     &lt;/profiles&gt;     &lt;activeProfiles&gt;         &lt;activeProfile&gt;jboss-default&lt;/activeProfile&gt;         ...     &lt;/activeProfiles&gt; &lt;/settings&gt; # h3. Building Parent Pom &amp; Target Platforms Locally Or, "What if Maven can't find the upstream artifacts in Nexus?" Sometimes, Maven can't find the upstream artifacts - parent pom, tycho plugins, minimum (Juno SR0) or maximum (Juno SR1 or later) target platforms. Or maybe you want to build them locally in order to see how Tycho builds them, or contribute a fix. To work around resolution problems, just build locally: cd /tmp; git clone git clone git://github.com/jbosstools/jbosstools-maven-plugins.git cd /tmp; git clone git clone git://github.com/jbosstools/jbosstools-build.git cd jbosstools-maven-plugins/tycho-plugins; mvn install; cd - cd jbosstools-build/parent;  mvn install; cd - cd jbosstools-build/target-platforms; mvn install -Pjbosstools-minimum,jbosstools-maximum h3. Maven &amp; Java Memory Configuration To configure the amount of memory used by Maven, you can define MVN_OPTS as follows, either in the mvn / mvn.bat script you use to run Maven, or set as global environment variables. Here's how to do so for  http://forums.fedoraforum.org/showthread.php?t=262465 Fedora,  https://help.ubuntu.com/community/EnvironmentVariables Ubuntu,  http://forums.techarena.in/windows-xp-support/1152405.htm Windows,  http://www.digitaledgesw.com/node/31 OSX. set MAVEN_OPTS=-Xms512m -Xmx1024m -XX:PermSize=128m -XX:MaxPermSize=256m h2. Verify or Install? mvn verify will perform all build and test steps, but it won't install the bundles in your local repository. mvn install does install in you local repository. When an eclipse-plugin is installed in your repo, it is always used as default when resolving dependency. It is not possible to roll-back a local installation of a bundle, so in most cases, mvn verify is to be prefered to mvn install. However, if you want to build stuff sequentially through several maven invocations, and you want to resolve against just-built stuff, you'll need to use mvn install. In this page, we'll encourage people to use *mvn verify* as much as possible to ensure *isolation*; but you can mvn install the same way if your use-case requires it. +*What if I've already built something locally, but I want to build against the server version instead of my local repo?*+ There are  http://wiki.eclipse.org/Tycho/Target_Platform#Locally_built_artifacts two approaches that work here: a) override temporarily when building, using -Dtycho.localArtifacts=ignore b) delete ~/.m2/repository/.meta/p2-local-metadata.properties h2. About Target Platform and related profiles The target platform (TP) lists all dependencies (coming from Eclipse.or and other 3rd-party update sites) that are used by JBoss Tools. This target platform is materialized as an Eclipse p2 repository (formerly update-site) that is used during build to resolve dependencies. Target Platform is managed by JBoss Tools people, and only dependencies from this TP are allowed to be used in code. If you need a new dependency in the TP, feel free to  https://issues.jboss.org/secure/CreateIssueDetails!init.jspa?pid=10020&amp;summary=Add%20[YOUR%20REQ]%20to%20Target%20Platform&amp;components=12310540&amp;issuetype=13&amp;Create=Create open a ticket to request it. Here are several ways to build locally using this target platform. It's up to you to choose the one that match your needs: h3. Using published Target Platform definition (Recommended) unified.target refers to the dependency as published in the Target Platform repository. * Pros:* No additional thing to do than invoking Maven * Always up-to-date * Cons: Speed - (to evaluate) Consume it by adding *-Punified.target* to you Maven invocation command-line h3. Or, getting a local copy of the Target Platform * Pros: Speed +++ * Cons: Step to be repeated whenever  https://github.com/jbosstools/jbosstools-build/tree/master/target-platforms target platforms change h4. Get it h5.  Download TP as a zip and install it by yourself You can either download the TP as a zip and unpack it into some folder on your disk. Just remember to update your  #settings.xml settings.xml file to point at the location where you unpacked it. You can get it with a browser or a command line tool such as wget or curl at the following url: http://download.jboss.org/jbosstools/updates/juno/SR0c/ http://download.jboss.org/jbosstools/updates/juno/SR0c/ http://download.jboss.org/jbosstools/updates/juno/SR0c/e420-wtp340.target.zip e420-wtp340.target.zip (current minimum TP) http://download.jboss.org/jbosstools/updates/juno/SR1a/ http://download.jboss.org/jbosstools/updates/juno/SR1a/ http://download.jboss.org/jbosstools/updates/juno/SR1a/e421-wtp341.target.zip e421-wtp341.target.zip (current maximum TP) and then unzip it : unzip *.target.zip -d /path/to/jbosstools-build/target-platforms/jbosstools-JunoSR0c/multiple/target/multiple.target.repo/   or unzip *.target.zip -d /path/to/jbosstools-build/target-platforms/jbosstools-JunoSR1a/multiple/target/multiple.target.repo/ h5. OR, use Maven to build it See  #maven-nexus-resolution-problems Building Parent Pom &amp; Target Platforms Locally #maven-nexus-resolution-problems  # h4. Use it as a Maven mirror Once you get the target platform available locally, you can use it instead of the remote sites to save time. For this, we can simply use Tycho target-platform mirroring:  http://wiki.eclipse.org/Tycho/Target_Platform/Authentication_and_Mirrors#Mirrors http://wiki.eclipse.org/Tycho/Target_Platform/Authentication_and_Mirrors#Mirrors As example, you can simply edit to your ~/.m2/settings.xml the definition of the repositories to mirror: (replace /home/hudson/static_build_env/jbds/.... by a path where your local repository actuaaly stands) &lt;settings&gt;      &lt;mirrors&gt; &lt;!-- IMPORTANT: Sites in target platforms: must not have trailing slash! --&gt;         &lt;mirror&gt;             &lt;id&gt;jenkins.jbosstools-JunoSR0c&lt;/id&gt;             &lt;mirrorOf&gt;http://download.jboss.org/jbosstools/updates/juno/SR0c/REPO&lt;/mirrorOf&gt;             &lt;url&gt;file:///home/hudson/static_build_env/jbds/target-platform_4.0.juno.SR0c/e420-wtp340.target/&lt;/url&gt;             &lt;layout&gt;p2&lt;/layout&gt;             &lt;mirrorOfLayouts&gt;p2&lt;/mirrorOfLayouts&gt;         &lt;/mirror&gt;         &lt;mirror&gt;             &lt;id&gt;jenkins.jbosstools-JunoSR1a&lt;/id&gt;             &lt;mirrorOf&gt;http://download.jboss.org/jbosstools/updates/juno/SR1a/REPO&lt;/mirrorOf&gt;             &lt;url&gt;file:///home/hudson/static_build_env/jbds/target-platform_4.0.juno.SR1a/e421-wtp341.target/&lt;/url&gt;             &lt;layout&gt;p2&lt;/layout&gt;             &lt;mirrorOfLayouts&gt;p2&lt;/mirrorOfLayouts&gt;         &lt;/mirror&gt;         &lt;mirror&gt;             &lt;id&gt;jenkins.jbdevstudio-JunoSR0c&lt;/id&gt;             &lt;mirrorOf&gt;http://www.qa.jboss.com/binaries/RHDS/updates/jbds-target-platform_4.0.juno.SR0c/REPO&lt;/mirrorOf&gt;             &lt;url&gt;file:///home/hudson/static_build_env/jbds/jbds-target-platform_4.0.juno.SR0c/jbds600-e420-wtp340.target/&lt;/url&gt;             &lt;layout&gt;p2&lt;/layout&gt;             &lt;mirrorOfLayouts&gt;p2&lt;/mirrorOfLayouts&gt;         &lt;/mirror&gt;         &lt;mirror&gt;             &lt;id&gt;jenkins.jbdevstudio-JunoSR1a&lt;/id&gt;             &lt;mirrorOf&gt;http://www.qa.jboss.com/binaries/RHDS/updates/jbds-target-platform_4.0.juno.SR1a/REPO&lt;/mirrorOf&gt;             &lt;url&gt;file:///home/hudson/static_build_env/jbds/jbds-target-platform_4.0.juno.SR1a/jbds600-e421-wtp341.target/&lt;/url&gt;             &lt;layout&gt;p2&lt;/layout&gt;             &lt;mirrorOfLayouts&gt;p2&lt;/mirrorOfLayouts&gt;         &lt;/mirror&gt;     &lt;/mirrors&gt; &lt;/settings&gt; h2. (Optional) Build parent and target platform This step is only useful if you are actually working on the parent or the target platforms and want to test local changes. Otherwise, Maven will simply retrieve parent and TP definitions from  *https://repository.jboss.org/nexus/content/repositories/snapshots/org/jboss/tools/ JBoss Nexus* to perform your build. See  #maven-nexus-resolution-problems Building Parent Pom &amp; Target Platforms Locally h2. Building Individual Components Locally Via Commandline h3. Build a component resolving to a recent aggregation build for other JBT dependencies (Recommanded) * Pros:* You build only your component * You only need source for your component * Speed to resolve deps: + * You get generally the latest build for you component * Cons:* Takes some time to resolve dependencies on other component * Can sometimes be out of sync if no build occured recently for a component you rely on and had some important change. More risk to get out of sync than with the staging site. Tracked by  https://issues.jboss.org/browse/JBIDE-11516 https://issues.jboss.org/browse/JBIDE-11516 example: *cd jbosstools-server* mvn verify -P unified.target *-Pjbosstools-staging-aggregate* h3. Build a component resolving to the latest CI builds for other JBT dependencies * Pros:* You build only your component * You only need source for your component * You get generally the latest build for you component * Cons* Takes some time to resolve dependencies on other component * Can sometimes be out of sync if no build occured recently for a component you rely on and had some important change * Speed to resolve deps: - This profile is the one use for CI builds on Hudson. *cd jbosstools-server* mvn verify -P unified.target *-Pjbosstools-nightly-staging-composite* h3. Build a component along with all its dependencies from sources ("bootstrap" build) This will build exactly what you have locally * Pros:* You are sure of the version of sources that is used for your JBT dependencies * You don't loose time in resolving your JBT deps * Cons:* You need sources for your dependencies too * You often build more stuff that what you really want to test cd ~/trunk/jbosstools-server mvn verify  -P unified.target -*Pbootstrap* h2. Building Everything In One Build Locally Via Commandline *LINUX / MAC USERS* cd jbosstools-build mvn clean install -gs ~/.m2/settings.xml | tee build.all.log.txt (tee is a program that pipes console output to BOTH console and a file so you can watch the build AND keep a log.) *WINDOWS USERS* cd c:\trunk\jbosstools-build    or Remember to adjust your  #settings.xml settings.xml file to specify where you have your local target platform mirror built (or where you downloaded &amp; unpacked a target platform zip. Windows users, if you don't have a .m2 folder, see  http://stackoverflow.com/questions/6081617/missing-maven-m2-folder this article. h2. Building Locally In Eclipse First, you must have installed m2eclipse into your Eclipse (or JBDS). You can install the currently supported version from this update site: http://download.jboss.org/jbosstools/updates/juno/ http://download.jboss.org/jbosstools/updates/juno/ Next, start up Eclipse or JBDS and do *File &gt; Import* to import the project(s) you already checked out from SVN above into your workspace. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13876/Screenshot.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13876/Screenshot.png Browse to where you have the project(s) checked out, and select a folder to import pom projects. In this case, I'm importing the parent pom (which refers to the target platform pom). Optionally, you can add these new projects to a working set to collect them in your Package Explorer view. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13877/Screenshot-1.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13877/Screenshot-1.png Once the project(s) are imported, you'll want to build them. You can either do *CTRL-SHIFT-X,M (Run Maven Build),* or right-click the project and select *Run As &gt; Maven Build*. The following screenshots show how to configure a build job. First, on the *Main* tab, set a *Name*, *Goals*, *Profile*(s), and add a *Parameter*. Or, if you prefer, put everything in the *Goals* field for simplicity: clean install -B -fae -e Be sure to check *Resolve Workspace artifacts*, and, if you have a newer version of Maven installed, point your build at that *Maven Runtime* instead of the bundled one that ships with m2eclipse. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13878/Screenshot-2.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13878/Screenshot-2.png On the *JRE* tab, make sure you're using a 6.0 JDK. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13879/Screenshot-3.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13879/Screenshot-3.png On the *Refresh* tab, define which workspace resources you want to refresh when the build's done. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13880/Screenshot-4.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13880/Screenshot-4.png On the *Common* tab, you can store the output of the build in a log file in case it's particularly long and you need to refer back to it. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13881/Screenshot-5.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13881/Screenshot-5.png Click *Run* to run the build. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13882/Screenshot-6.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13882/Screenshot-6.png Now you can repeat the above step to build any other component or plugin or feature or update site from the JBoss Tools repo. Simply import the project(s) and build them as above. h2. Installation Testing - making sure your stuff can be installed Each component, when built, produces a update site zip and an unpacked update site which can be used to install your freshly-built features and plugins into a running Eclipse or JBDS instance. Simply point your Eclipse at that folder or zip, eg., jar:file:/home/rob/code/jbtools/jbosstools-server/site/target/server.site-*.zip! or file:///home/rob/code/jbtools/jbosstools-server/site/target/repository/, and browse the site. If your component requires other upstream components to install, eg., jbosstools-server depends on jbosstools-base, you will also need to provide a URL from which Eclipse can resolve these missing dependencies. In order of freshness, you can use: 1.  http://download.jboss.org/jbosstools/updates/nightly/core/trunk/ http://download.jboss.org/jbosstools/updates/nightly/core/trunk/ (Nightly Trunk Site - updated every few hours or at least daily - *bleeding edge*) 2.  http://download.jboss.org/jbosstools/builds/staging/_composite_/core/trunk/ http://download.jboss.org/jbosstools/builds/staging/_composite_/core/trunk/ (Composite Staging Site - updated every time a component respins - *bleedinger edge*) 3.  http://anonsvn.jboss.org/repos/jbosstools/trunk/build/aggregate/local-site/ http://anonsvn.jboss.org/repos/jbosstools/trunk/build/aggregate/local-site/ (see the README.txt for how to use this site to refer to things you built locally - *bleedingest edge*) h2. Adding a new feature or plugin to an existing component Need to tweak a component to add a new plugin or feature? See  https://community.jboss.org/docs/DOC-18373 https://community.jboss.org/wiki/AddingAPluginandorFeatureToAnExistingComponent. h2. Dealing with timeouts for tests (To be rewritten soon...)  http://lists.jboss.org/pipermail/jbosstools-dev/2012-September/005835.html http://lists.jboss.org/pipermail/jbosstools-dev/2012-September/005835.html h2. Tips and tricks for making BOTH PDE UI and headless Maven builds happy It's fairly common to have plugins compiling in eclipse while tycho would not work. Basically you could say that tycho is far more picky compared to Eclipse PDE. h3. Check your build.properties Check build.properties in your plugin. If it has warnings in Eclipse, you'll most likely end with tycho failing to compile your sources. You'll have to make sure that you correct all warnings. Especially check your build.properties to have entries for *source..* and *output..* -- these are needed to  *http://wiki.eclipse.org/Minerva#Source generate source plugins and features*. * * source.. = src/  output.. = bin/  src.includes = * src.excludes = src bin.includes = &lt;your own,\     list of,\     files for inclusion,\     in the jar&gt; h3. Check your manifest.mf dependencies A new issue when building against juno shows that all compilation dependencies MUST be EXPLICITLY mentioned in your manifest.mf list of dependencies. A recent example of how this can cause compilation errors is the archives module, which failed to build due to the org.eclipse.ui.views plugin, and its IPropertySheetPage interface, not being found during the build. After investigation, it was discovered that the archives.ui plugin did not explicitly declare a dependency on org.eclipse.ui.views. Inside eclipse and during Juno-based builds, however, the depencency was found and there were no compilation errors. This was because a plugin archives.ui explicitly dependend on (org.eclipse.ui.ide) had an explicit dependency on org.eclipse.ui.views.  The IDE was able to see that archives.ui dependended on org.eclipse.ui.ide, and org.eclipse.ui.ide depended on org.eclipse.ui.views.  Resolving nested dependencies no longer seems to be guaranteed, and so anything you have a compilation dependency on must now be explicitly declared in your manifest.mf</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Re: Enable allowCasualMultipartParsing in jboss as 7</header>
    <body>Yes you need a patch for that. you ask of  https://issues.apache.org/bugzilla/show_bug.cgi?id=49711 https://issues.apache.org/bugzilla/show_bug.cgi?id=49711 correct?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Design of Messaging on JBoss (Messaging/JBoss)]	- Re: Duplicated Messages during failover and NullPersistence</header>
    <body>| |     // Public ------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Design of JBoss jBPM] - running the test suite	on spring</header>
    <body>| [INFO] BUILD SUCCESSFUL | [INFO] ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Usage of ksession in Jbpm Spring Implementation</header>
    <body>Did you solved your problem?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - TransactionMonitoringAndVisualization</header>
    <body>h1. Transaction Monitoring and Visualization The purpose of this project is to create a tool for monitoring the status of in-flight and complete transactions. The main aims of the tool are to help debug transaction related issues and also to educate the developer of transactional applications. Essentially, the tool monitors a running system and produces a list of all transactions. A user may then select a particular transaction to see in more detail the participants involved in the transaction, the outcome of the transaction and the participants that influenced the outcome. Ideally the tool would be visual, showing a diagramatic view of a transaction. However, early versions may be tabular to allow more time to be spent improving functionality. A few diagrams should give you an idea of what the tooling could produce: https://community.jboss.org/servlet/JiveServlet/showImage/20113/TXVisualCommitted%282%29.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/20113/TXVisualCommitted%282%29.png Here we can see that a transaction was begun on Server1. It enlisted a DB and JMS queue locally and invoked a remote service on Server2. A second resource (DB2) was enlisted on Server2. https://community.jboss.org/servlet/JiveServlet/showImage/20114/TXVisualRollback.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/20114/TXVisualRollback.png In this example we can see that the transaction rolled back because DB2 voted rollback. Other possible features: * *List Transactions*. List all logged transactions with a summary of the outcome (Committed, rolled back, heuristic). * *Multiple Transaction Types.* Somehow depict the type of transaction (JTS, WS-AT, REST-AT, etc) * *Display Bridges*. Display when a transaction is bridged from one type to another * *In flight Transactions*. More useful for long running transactions; display the current status of each participant and update the display in real-time as the status changes. * *Heuristics*. Display any resources that made a heuristic decsion and what that decision was. * *Recovery Status*. Show which resources crashed and the status of those resources already committed or recovered. h4. Potential Solution Use Byteman rules to log the required information on each server. The log can then be parsed by the visualization tool. The benefit of this approach is that you should be able to hook into any code in the TM. Also it it easy to turn on and off the tool so that it doesn't add overhead in production.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Messaging Development] - LiVe at Tv++&gt;&gt;&gt;Louisville vs Connecticut Live</header>
    <body>http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout  http://1.1.1.2/bmi/1.bp.blogspot.com/-Eb2qC5gn5xE/UOT80QR3sRI/AAAAAAAAAn4/0kySmyqFlO0/s320/basketball.jpg h4.   Louisville vs Connecticut (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout) *Match schedules* *NCAA Basketball-season 2013* *Date:  Monday January 14, 2013* *Time: 7:00 pm EST* *Competition: NCAA Basketball 2013* http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout  http://1.1.1.1/bmi/2.bp.blogspot.com/-00LPPHAfgz8/UOT-iwvnOZI/AAAAAAAAAoM/nAdtYO77Xrk/s320/NCAALIVE.jpg *CLICK HERE TO WATCH NCAA (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)*</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Messaging Development] - LivE@!!!((Tv2Pc))@!!!@&gt;wATCh Louisville vs Connecticut Live</header>
    <body>*http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html* *http://sports-hungama.blogspot.com/2013/01/watch-louisville-vs-connecticut-live.html*</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Messaging Development] - QQ@&gt;wATCh Louisville vs Connecticut Live</header>
    <body>*CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* * * * *</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Messaging Development] - LivE@!!!((Tv2Pc))@!!!wATCh Baylor vs Kansas Live</header>
    <body>*CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)* *CLICK HERE TO WATCH NCAAB LIVE (http://tiffinclub.etvcorpsat2.click2sell.eu/?checkout)*</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Primordial Boot	Options</header>
    <body>On this page I want to lay out some alternative approaches to altering the AS 7.2 / EAP 6.1 boot to realize the objectives discussed in  https://community.jboss.org/docs/DOC-47927 https://community.jboss.org/docs/DOC-47927. h2. Primary goals: 1. To support the organization of modules as described on  https://community.jboss.org/docs/DOC-47927 https://community.jboss.org/docs/DOC-47927, such that the modules that ship with AS 7.2 comprise the "distribution base" discussed on that document. 2. To ensure that when other valid "layered distributions" or "add-on"s install on top of that AS 7.2 distribution base they can place their modules in appropriate locations as described in  https://community.jboss.org/docs/DOC-47927 https://community.jboss.org/docs/DOC-47927 and don't need to alter the startup scripts in order to have those modules become visible with the proper precedence. 3. To ensure the the $JBOSS_MODULE_PATH environment variable is left available for use by end users and isn't polluted with the various detailed paths discussed on  https://community.jboss.org/docs/DOC-47927 https://community.jboss.org/docs/DOC-47927. h2. Secondary goals: These are things to consider while working to achieve the primary goal: 1. To eliminate as much as possible standard configuration settings from the startup scripts. 2. To organize any remaining script-based standard configuration settings to make them easily usable by tooling. 3. To avoid altering the programmatic launch of the AS such that existing tooling that launches the AS will not need to handle AS 7.2 / EAP 6.1 separately from how previous AS 7.1 / EAP 6.0 was handled. Some of the secondary goals may prove contradictory. h2. Current Boot The critical aspects of our existing launch commands can be boiled down to the following for a standalone  server and a managed domain host respectively: java -jar jboss-modules.jar -mp modules org.jboss.as.standalone java -jar jboss-modules.jar -mp modules org.jboss.as.process-controller (The real command uses $JBOSS_HOME to create absolute paths. That is omitted in this document for brevity.) The main() class invoked by the JVM is a JBoss Modules class in jboss-modules.jar. It reads the -mp command line argument to learn that modules are available under filesystem path "modules". It then loads either the org.jboss.as.standalone or the org.jboss.as.process-controller module, finds the class described as the "main" class in that module's module.xml file, loads it and invokes its main() method. h2. Options: The following options for how to do the boot come to mind: h3. Specialized "Main" Modules This the one that's been focused on recently. The org.jboss.as.process-controller and org.jboss.as.standalone modules remain located as they currently are. They do not get placed in modules/layers/base as is described on the Layered Distributions wiki. As a result, a standard jboss-modules boot module loader can find them. The code in those modules, however, changes significantly. Essentially it no longer particular concerns itself with those modules do today. Instead, it's sole concern is to figure out the detailed module path as described on the Layered Distributions wiki. It will figure that out and create a ModuleLoader that follows those rules. Using that ModuleLoader it will then load a *different* module located in modules/layers/base, find its main class, load that class and invoke its main() method. That class will execute the logic found in the current main classes. An advantage to this is the existing programmatic launch command is completely unchanged. The disadvantage is we leave modules located directly under modules. These modules have to be handled different from other modules, however. You can't override them in a patch via a different module. Instead the patch tool has to treat them as a bunch miscellaneous files (like it treats jboss-modules.jar.) This is mildly annoying because they are a special case for the patch generation and application tools. Also RPMs for layered products will have to account for these modules separately; they can't just create a simple symlink to the EAP RPM's modules/layers/base to pick up all the base modules. With this approach there will likely be at least 3 of these specialized modules directly under modules/ -- org.jboss.as.standalone, org.jboss.as.process-controller and a 3rd, e.g org.jboss.as.boot, that contains the most of the code. The bulk of the code is common between the other two. h3. Single Specialized "Main" Modules This is a variant on the previous approach. The launch command becomes: java -jar jboss-modules.jar -mp modules org.jboss.as.boot org.jboss.as.standalone The goal here is to reduce the number of specialized "Main" modules to just one -- org.jboss.as.boot. It reads the next argument in the command (e.g. org.jboss.as.standalone) and uses it to decide what module to invoke. This makes things a bit less messy in the modules/ dir but at the cost of changing the launch command. h3. h3. Specialized JBoss AS Boot Module Loader This is the approach that was being followed on the initial work for the patching feature. The command becomes: java -cp jboss-modules.jar:jboss-as-loader.jar -Dboot.module.loader=org.jboss.as.boot.ModuleLoader -jar jboss-modules.jar -mp modules org.jboss.as.standalone The AS ships a jar "jboss-as-loader.jar" alongside jboss-modules.jar. The launch command places that jar on the classpath. JBoss Modules uses system property "boot.module.loader" to discover the classname of the ModuleLoader implementation it should use. The implementation the AS provides understands all the rules in the Layered Distributions wiki. The downsides are an extra file in the root of the AS distribution and a change in the launch command. h3. New Main Class The AS stops using JBoss Modules as its main class. Instead we create our own main class, which does preliminary setup work and then calls JBoss Modules' main() class. The launch command becomes: java -cp jboss-modules.jar:jboss-as-boot.jar -jar jboss-as-boot.jar -mp modules org.jboss.as.standalone Again, the downsides are an extra file in the root of the AS distribution and a change in the launch command. A positive to this is the new main class can take over some processing that's currently done in the scripts. For example, including org.jboss.byteman in system property jboss.modules.system.pkgs. Also the -P processing requested at https://issues.jboss.org/browse/MODULES-117 could be done without requiring it to be added into jboss-modules itself. h3. New Main Class with Shading This is the same as the "New Main Class" approach, except we shade jboss-modules.jar into jboss-as-boot.jar in order to eliminate a jar. Launch command becomes: java -jar jboss-as-boot.jar -mp modules org.jboss.as.standalone Still a change in launch command though. The only way to get around the change in the launch command would be to call this shaded jar "jboss-modules.jar" which would be very, very ugly.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Primordial Boot	Options</header>
    <body>I like the "New Main Class" idea.  I don't see the extra file in the root as a big problem.   And I don't think the complexity of the final command matters at all because it is hidden from 99.999% of users. But anything you can remove from the script means you can potentially remove it in several files: standalone.bat, standalone.sh, domain.bat, and domain.sh.  That seems like a big win. -1 on the shading though.  I'd rather keep the ability to update/replace the two jars independently. Stan</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using the CLI remote	client jar</header>
    <body>If you want to connect to a remote JBoss AS7 instance without installing AS7 on your local machine, you can use the CLI remote client jar.  It is called *jboss-cli-client.jar* and it is located in &lt;JBOSS_HOME&gt;/bin/client. The *jboss-cli-client jar* can be used to remotely manage a JBoss AS instance with CLI or jconsole.  Copy jboss-cli-client.jar to your client machine.  Even though the jboss-cli-client jar was added starting with AS7.2, it still works with older AS7 versions.  So it's a good way to get the benefit of the latest CLI code. h3. To Run CLI using jboss-cli-client.jar java -jar &lt;PATH TO jboss-cli-client.jar&gt; [--help] [--version] [--controller=host:port]                                          [--gui] [--connect] [--file=file_path]                                          [--commands=command_or_operation1,command_or_operation2...]                                          [--command=command_or_operation]                                          [--user=username --password=password] Use --help for an explanation of the CLI command line options.  h3. To Run jconsole using jboss-cli-client.jar jconsole -J-Djava.class.path=&lt;PATH TO jconsole.jar&gt;;&lt;PATH TO tools.jar&gt;;&lt;PATH TO jboss-cli-client.jar&gt; Path to jconsole.jar and tools.jar is typically &lt;JAVA_HOME&gt;/lib/jconsole.jar and &lt;JAVA_HOME&gt;/lib/tools.jar.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - A GUI for the Command	Line Interface</header>
    <body>If you start jboss-cli with the *--gui* option, it will bring up  a GUI instead of a command line.  Note that *--gui* also implies the *--connect* option because the gui doesn't work in a disconnected state.  You should use the *--controller* option if you need to use a host and port other than localhost:9999. jboss-as-7.1.0.Final/bin&gt; ./jboss-cli.sh --gui You will see a screen that looks like this where you can browse the domain model: https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-12-20139/cligui1.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-12-20139/450-337/cligui1.png To see the operations available for a node, right-click the node.  Context-sensitive help is available throughout the Command Builder: https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-12-20140/cligui2.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-12-20140/450-337/cligui2.png For operations that have parmeters, you will be prompted.  Help is available for each parameter by hovering over its label. https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-12-20141/cligui3.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-12-20141/450-336/cligui3.png The command line will be filled in automatically.  You can hit the "Enter" key or click submit to send your command to the server. https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-12-20142/cligui4.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-12-20142/450-337/cligui4.png You can also edit the command line manually and submit a command at any time: https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-12-20143/cligui5.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-12-20143/450-337/cligui5.png If you double-click on a previous command, it will be selected and copied to the command line.  You don't need to copy and paste by hand. https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-12-20144/cligui6.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-12-20144/450-337/cligui6.png The command is also copied to the system clipboard so you can paste into your favorite editor.  This is handy for creating scripts. https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-12-20145/cligui7.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-12-20145/450-389/cligui7.png</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - A GUI for the Command	Line Interface</header>
    <body>If you start jboss-cli with the *--gui* option, it will bring up  a GUI instead of a command line.  Note that *--gui* also implies the *--connect* option because the gui doesn't work in a disconnected state.  You should use the *--controller* option if you need to use a host and port other than localhost:9999. jboss-as-7.1.0.Final/bin&gt; ./jboss-cli.sh --gui You will see a screen that looks like this where you can browse the domain model: https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-13-20139/cligui1.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-13-20139/450-337/cligui1.png To see the operations available for a node, right-click the node.  Context-sensitive help is available throughout the Command Builder: https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-13-20140/cligui2.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-13-20140/450-337/cligui2.png For operations that have parmeters, you will be prompted.  Help is available for each parameter by hovering over its label. https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-13-20141/cligui3.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-13-20141/450-336/cligui3.png The command line will be filled in automatically.  You can hit the "Enter" key or click submit to send your command to the server. https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-13-20142/cligui4.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-13-20142/450-337/cligui4.png You can also edit the command line manually and submit a command at any time: https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-13-20143/cligui5.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-13-20143/450-337/cligui5.png If you double-click on a previous command, it will be selected and copied to the command line.  You don't need to copy and paste by hand. https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-13-20144/cligui6.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-13-20144/450-337/cligui6.png The command is also copied to the system clipboard so you can paste into your favorite editor.  This is handy for creating scripts. https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-13-20146/cligui7.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-13-20146/450-150/cligui7.png As of JBoss AS7.2, CLI GUI supports the *deploy* and *undeploy* commands via the "Deployments" menu.  The advantage of constructing your command with the GUI is that you can use the system's file browser to find your deployment. If you arent' using JBoss AS7.2, don't worry.  You can use the latest version of CLI on AS7.0 and AS7.1 by  https://community.jboss.org/docs/DOC-18795 Using the CLI remote client jar https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-13-20147/cligui8.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-13-20147/450-343/cligui8.png And for undeploy you are presented with a list of deployments that you might wich to remove. https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-13-20148/cligui9.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-13-20148/450-339/cligui9.png Also new in JBoss AS7.2 is the "Scripts" menu.  This allows you to execute CLI scripts from CLI GUI.  One of the nice features here is that it remembers the last 15 scripts executed.  So you don't have to go hunting and typing every time you want to run your script. https://community.jboss.org/servlet/JiveServlet/showImage/102-17457-13-20149/cligui010.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-17457-13-20149/450-338/cligui010.png</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Primordial Boot	Options</header>
    <body>The complexity of the command isn't really an issue. It's changing it at all that is more of a concern. Lots of tooling programatically launches an AS -- think IDEs, profilers, JON, etc. Some of those tools are sponsored by Red Hat and we can readily enough reach out to them to get them to support a different launch variation (after letting them pummel us a while.) But for many others we may have no idea they even exist.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16</header>
    <body>Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16 h3.  http://watchewsports.blogspot.com/2013/01/barcelona-vs-malaga-live-stream-spanish.html Barcelona vs Malaga Live h3.  http://watchewsports.blogspot.com/2013/01/barcelona-vs-malaga-live-stream-spanish.html Barcelona vs Malaga Live h3.  http://watchewsports.blogspot.com/2013/01/barcelona-vs-malaga-live-stream-spanish.html Barcelona vs Malaga Live Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16Amar@ Barcelona vs Malaga LiveSpanish Copa del Rey jan 16</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - FU@ Manchester United vs West Ham United Live English FA Cup</header>
    <body>FU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA Cup h3.  http://watchewsports.blogspot.com/2013/01/manchester-united-vs-west-ham-united.html Manchester United vs West Ham United Live h3.  http://watchewsports.blogspot.com/2013/01/manchester-united-vs-west-ham-united.html Manchester United vs West Ham United Live h3.  http://watchewsports.blogspot.com/2013/01/manchester-united-vs-west-ham-united.html Manchester United vs West Ham United Live h3.  http://watchewsports.blogspot.com/2013/01/manchester-united-vs-west-ham-united.html Manchester United vs West Ham United Live FU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA CupFU@ Manchester United vs West Ham United Live English FA Cup</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - ~3rdround~ Man Utd vs West Ham Utd Live FA Cup 16th January</header>
    <body>3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January h3.  http://watchewsports.blogspot.com/2013/01/man-utd-vs-west-ham-utd-live-stream.html Man Utd vs West Ham Utd Live h3.  http://watchewsports.blogspot.com/2013/01/man-utd-vs-west-ham-utd-live-stream.html Man Utd vs West Ham Utd Live h3.  http://watchewsports.blogspot.com/2013/01/man-utd-vs-west-ham-utd-live-stream.html Man Utd vs West Ham Utd Live h3.  http://watchewsports.blogspot.com/2013/01/man-utd-vs-west-ham-utd-live-stream.html Man Utd vs West Ham Utd Live h3.  http://watchewsports.blogspot.com/2013/01/man-utd-vs-west-ham-utd-live-stream.html Man Utd vs West Ham Utd Live h3.  http://watchewsports.blogspot.com/2013/01/man-utd-vs-west-ham-utd-live-stream.html Man Utd vs West Ham Utd Live 3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January3rd round Man Utd vs West Ham Utd Live  FA Cup 16th January</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - LIvE TV@@!!~UNLV vs	San Diego State Live</header>
    <body>http://indianapolis500live.com/live-basketball-link-4/  http://4.bp.blogspot.com/-93H5ga9pXuo/UNQE01MSp7I/AAAAAAAAAAM/4hjBXXcc_14/s1600/01.jpg MATCH DETAILS Date : Wednesday January 16, 2013 Competition: NCAA Basketball Team : UNLV vs San Diego State Kick Time Off : 10:00pm ET</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - ~Spanish Copa del Rey~ Barcelona vs Malaga Live</header>
    <body>~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live ~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live h3.  http://watchewsports.blogspot.com/2013/01/barcelona-vs-malaga-live-stream-spanish.html Barcelona vs Malaga Live h3.  http://watchewsports.blogspot.com/2013/01/barcelona-vs-malaga-live-stream-spanish.html Barcelona vs Malaga Live h3.  http://watchewsports.blogspot.com/2013/01/barcelona-vs-malaga-live-stream-spanish.html Barcelona vs Malaga Live ~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live~Spanish Copa del Rey~ Barcelona vs Malaga Live</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Cyclic import in the	inXSD</header>
    <body>I am new to web services and have a question. I have an xsd which imports other xsds and also it has some cyclic imports. I have this following configuration in my jboss-esb.xml &lt;service category="TEST" description="Validate" name="Validate"&gt;                        &lt;listeners&gt;                                   &lt;http-gateway busidref="httpChannel" name="httpValidate"                                    payloadAs="STRING" urlPattern="/validate"/&gt;                                   &lt;jms-listener busidref="Bus-Validate" is-gateway="false"                                    maxThreads="10" name="Bus-Validate"/&gt;                        &lt;/listeners&gt;                        &lt;actions mep="RequestResponse" webservice="true"                                            inXsd="/schemas/Validate/XMLschemas/constraint/XMLschemas/exchange/ExchangeModel.xsd"                                         outXsd="/schemas/Validate/XMLschemas/constraint/XMLschemas\exchange/ExchangeModel.xsd" validate="false"                                          &gt;                         &lt;!-- log request --&gt;                                   &lt;action class="org.jboss.soa.esb.actions.LogAction" name="logValidateSCIDID"&gt;                              ...      &lt;/action&gt;                        &lt;/actions&gt;             &lt;/service&gt; When deploying this application in the jboss server, it gives  out of memeory error Caused by: java.lang.OutOfMemoryError: GC overhead limit exceeded           at java.util.Arrays.copyOf(Arrays.java:2734)           at java.util.ArrayList.ensureCapacity(ArrayList.java:167)           at java.util.ArrayList.add(ArrayList.java:351)           at org.jboss.virtual.plugins.vfs.helpers.PathTokenizer.getTokens(PathTokenizer.java:123)           at org.jboss.virtual.plugins.vfs.helpers.PathTokenizer.applySpecialPathsToTokens(PathTokenizer.java:260)           at org.jboss.virtual.VFSUtils.stripProtocolToTokens(VFSUtils.java:1087)           at org.jboss.virtual.VFSUtils.stripProtocol(VFSUtils.java:1103)           at org.jboss.virtual.plugins.cache.IterableTimedVFSCache.findContext(IterableTimedVFSCache.java:63)           at org.jboss.virtual.plugins.cache.CombinedVFSCache.findContext(CombinedVFSCache.java:116)           at org.jboss.virtual.plugins.registry.DefaultVFSRegistry.getFile(DefaultVFSRegistry.java:148)           at org.jboss.virtual.spi.registry.VFSRegistry.getFile(VFSRegistry.java:124)           at org.jboss.virtual.protocol.AbstractVFSHandler.openConnection(AbstractVFSHandler.java:71)           at java.net.URL.openConnection(URL.java:945)           at java.net.URL.openStream(URL.java:1010)           at org.jboss.util.xml.JBossEntityResolver.resolveSystemIDasURL(JBossEntityResolver.java:493)           at org.jboss.util.xml.JBossEntityResolver.resolveEntity(JBossEntityResolver.java:339)           at org.jboss.ws.core.utils.JBossWSEntityResolver.resolveEntity(JBossWSEntityResolver.java:134)           at org.jboss.ws.tools.wsdl.WSDLLocatorImpl.getImportInputSource(WSDLLocatorImpl.java:132)           at org.jboss.ws.tools.wsdl.JBossWSDLReaderImpl.parseSchema(JBossWSDLReaderImpl.java:777)           at org.jboss.ws.tools.wsdl.JBossWSDLReaderImpl.parseSchema(JBossWSDLReaderImpl.java:867) I have no control to change the XSD. Any help is appreciated. Thanks Sang</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - HoT LIvE*** N.C. State	vs Maryland Live</header>
    <body>http://indianapolis500live.com/live-basketball-link-4/ ** ** ** http://indianapolis500live.com/live-basketball-link-4/  http://4.bp.blogspot.com/-93H5ga9pXuo/UNQE01MSp7I/AAAAAAAAAAM/4hjBXXcc_14/s1600/01.jpg MATCH DETAILS Date : Wednesday January 16, 2013 Competition: NCAA Basketball Team : N.C. State vs Maryland Kick Time Off : 7:00pm ET</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Hot LIvE^^^^Maryland	vs N.C. State Live</header>
    <body>http://indianapolis500live.com/live-basketball-link-4/  http://4.bp.blogspot.com/-93H5ga9pXuo/UNQE01MSp7I/AAAAAAAAAAM/4hjBXXcc_14/s1600/01.jpg MATCH DETAILS Date : Wednesday January 16, 2013 Competition: NCAA Basketball Team : Maryland vs N.C. State Kick Time Off : 7:00pm ET http://indianapolis500live.com/live-basketball-link-4/  http://4.bp.blogspot.com/-KTmTwoIyOUc/UNQFCpN7cfI/AAAAAAAAAAU/GAlKxN-XkPg/s320/02.jpg</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - HD???? Penn State vs	Michigan State Live</header>
    <body>http://indianapolis500live.com/live-basketball-link-4/ ** ** ** http://indianapolis500live.com/live-basketball-link-4/  http://4.bp.blogspot.com/-93H5ga9pXuo/UNQE01MSp7I/AAAAAAAAAAM/4hjBXXcc_14/s1600/01.jpg MATCH DETAILS Date : Wednesday January 16, 2013 Competition: NCAA Basketball Team : Penn State vs Michigan State Kick Time Off : 7:00pm ET http://indianapolis500live.com/live-basketball-link-4/  http://4.bp.blogspot.com/-KTmTwoIyOUc/UNQFCpN7cfI/AAAAAAAAAAU/GAlKxN-XkPg/s320/02.jpg</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Maryland vs North	Carolina State Live</header>
    <body>http://mannypacquiaovstimbradley.com/live-basketball-link-1/  http://blog.365livesports.com/wp-content/uploads/2013/01/253114472_2012_NCAA_Basketball_Tournament_March_Madness_xlarge4.jpeg</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Georgia vs Missouri	Live</header>
    <body>http://mannypacquiaovstimbradley.com/live-basketball-link-1/  http://blog.365livesports.com/wp-content/uploads/2013/01/253114472_2012_NCAA_Basketball_Tournament_March_Madness_xlarge4.jpeg</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - HOt LIvE^^^Richmond vs	Butler Live</header>
    <body>http://indianapolis500live.com/live-basketball-link-4/ ** ** ** http://indianapolis500live.com/live-basketball-link-4/  http://4.bp.blogspot.com/-93H5ga9pXuo/UNQE01MSp7I/AAAAAAAAAAM/4hjBXXcc_14/s1600/01.jpg MATCH DETAILS Date : Wednesday January 16, 2013 Competition: NCAA Basketball Team : Richmond vs Butler Kick Time Off : 7:00pm ET http://indianapolis500live.com/live-basketball-link-4/  http://4.bp.blogspot.com/-KTmTwoIyOUc/UNQFCpN7cfI/AAAAAAAAAAU/GAlKxN-XkPg/s320/02.jpg</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - ASA&gt;&gt;&gt;&gt;Missouri vs	Georgia Live</header>
    <body>http://mannypacquiaovstimbradley.com/live-basketball-link-1/  http://blog.365livesports.com/wp-content/uploads/2013/01/253114472_2012_NCAA_Basketball_Tournament_March_Madness_xlarge4.jpeg</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Exception in executing buildin action - ObjectToCSVString</header>
    <body>Hi, I’m newbie in the jboss esb. I am getting exception while processing message by buildin Action – ObjectToCSVString My jboss-esb.xml – &lt;?xml version=+"1.0"+?&gt; &lt;jbossesb parameterReloadSecs=+"5"+ xmlns=+" http://anonsvn.labs.jboss.com/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.0.1.xsd http://anonsvn.labs.jboss.com/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.0.1.xsd"+ xmlns:xsi=+" http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2001/XMLSchema-instance"+ xsi:schemaLocation=+"http://anonsvn.labs.jboss.com/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.0.1.xsd http://anonsvn.labs.jboss.com/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.0.1.xsd (http://anonsvn.labs.jboss.com/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.0.1.xsd%20http:/anonsvn.labs.jboss.com/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.0.1.xsd)"+&gt; &lt;providers&gt; &lt;fs-provider name=+"FSProv1"+&gt; &lt;fs-bus busid=+"FS001"+&gt; &lt;fs-message-filter directory=+"D:/test"+ error-delete=+"false"+      error-directory=+"D:\Error"+ error-suffix=+".IN_ERROR"+      input-suffix=+".xml"+ post-delete=+"false"+ post-directory=+"D:/Test2"+      post-suffix=+".java"+ work-suffix=+".esbWorking"+/&gt; &lt;/fs-bus&gt; &lt;/fs-provider&gt; &lt;/providers&gt; &lt;services&gt; &lt;service category=+"ACat"+ description=+"test servive1"+    invmScope=+"GLOBAL"+ name=+"testServ1"+&gt; &lt;listeners&gt; &lt;fs-listener busidref=+"FS001"+ is-gateway=+"true"+ name=+"AList1"+/&gt; &lt;/listeners&gt; &lt;actions mep=+"OneWay"+&gt; &lt;action class=+"org.jboss.soa.esb.actions.SystemPrintln"+ name=+"test print"+&gt; &lt;property name=+"message"+ value=+"%%%%%%%%%%%%% [transform_XML2POJO] Message before transformation"+/&gt; &lt;/action&gt; &lt;action class=+"org.jboss.soa.esb.smooks.SmooksAction"+ name=+"transform"+&gt; &lt;property name=+"smooksConfig"+ value=+"/smooks-res.xml"+/&gt; &lt;property name=+"resultType"+ value=+"JAVA"+/&gt; &lt;/action&gt; &lt;action class=+"org.jboss.soa.esb.actions.SystemPrintln"+ name=+"print-after"+&gt; &lt;property name=+"message"+ value=+"%%%%%%%%%%%% * [transform_XML2POJO] Message after transformation"+/&gt; &lt;/action&gt; &lt;action class=+"com.test.MyAction"+ name=+"action1"+ process=+"displayMessage"+/&gt; &lt;action      class=+"org.jboss.soa.esb.actions.converters.ObjectToCSVString"+ name=+"makecsvstr"+&gt; &lt;property name=+"bean-properties"+ value=+"userName,firstName,lastName,state"+/&gt; &lt;/action&gt; &lt;action class=+"org.jboss.soa.esb.actions.SystemPrintln"+ name=+"print-after-csv"+&gt; &lt;property name=+"message"+ value=+"%%%%%%%%%%%% ***** [transform_XML2POJO] Message after CSV transformation"+/&gt; &lt;/action&gt; &lt;/actions&gt; &lt;/service&gt; &lt;/services&gt; &lt;/jbossesb&gt; 17:55:32,570 INFO  [QuartzScheduler] Scheduler ESBScheduler:ANewProj.esb_$_NON_CLUSTERED started. 17:56:02,665 INFO  [STDOUT] %%%%%%%%%%%%% [transform_XML2POJO] Message before transformation: 17:56:02,665 INFO  [STDOUT] [&lt;Customer userName="Anuvab sonu" firstName="sonu babu" lastName="Maiti" state="WB"/&gt;]. 17:56:02,780 INFO  [STDOUT] %%%%%%%%%%%% * [transform_XML2POJO] Message after transformation: 17:56:02,780 ERROR [ObjectToCSVString] Bean method: getUserName not found/accessible on message object java.util.HashMap 1. java.lang.NoSuchMethodException: java.util.HashMap.getUserName()       at java.lang.Class.getMethod(Class.java:1622)       at org.jboss.soa.esb.actions.converters.ObjectToCSVString.process(ObjectToCSVString.java:143)       at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.processPipeline(ActionProcessingPipeline.java:633)       at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.processPipeline(ActionProcessingPipeline.java:585)       at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.process(ActionProcessingPipeline.java:419)       at org.jboss.soa.esb.listeners.message.MessageAwareListener$TransactionalRunner.run(MessageAwareListener.java:548)       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)       at java.lang.Thread.run(Thread.java:722) 17:56:02,780 ERROR [ObjectToCSVString] Bean method: getFirstName not found/accessible on message object java.util.HashMap 1. java.lang.NoSuchMethodException: java.util.HashMap.getFirstName()       at java.lang.Class.getMethod(Class.java:1622)       at org.jboss.soa.esb.actions.converters.ObjectToCSVString.process(ObjectToCSVString.java:143)       at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.processPipeline(ActionProcessingPipeline.java:633)       at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.processPipeline(ActionProcessingPipeline.java:585)       at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.process(ActionProcessingPipeline.java:419)       at org.jboss.soa.esb.listeners.message.MessageAwareListener$TransactionalRunner.run(MessageAwareListener.java:548)       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)       at java.lang.Thread.run(Thread.java:722) 17:56:02,780 ERROR [ObjectToCSVString] Bean method: getLastName not found/accessible on message object java.util.HashMap 1. java.lang.NoSuchMethodException: java.util.HashMap.getLastName()       at java.lang.Class.getMethod(Class.java:1622)       at org.jboss.soa.esb.actions.converters.ObjectToCSVString.process(ObjectToCSVString.java:143)       at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.processPipeline(ActionProcessingPipeline.java:633)       at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.processPipeline(ActionProcessingPipeline.java:585)       at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.process(ActionProcessingPipeline.java:419)       at org.jboss.soa.esb.listeners.message.MessageAwareListener$TransactionalRunner.run(MessageAwareListener.java:548)       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)       at java.lang.Thread.run(Thread.java:722) 17:56:02,780 ERROR [ObjectToCSVString] Bean method: getState not found/accessible on message object java.util.HashMap 1. java.lang.NoSuchMethodException: java.util.HashMap.getState()       at java.lang.Class.getMethod(Class.java:1622)       at org.jboss.soa.esb.actions.converters.ObjectToCSVString.process(ObjectToCSVString.java:143)       at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.processPipeline(ActionProcessingPipeline.java:633)       at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.processPipeline(ActionProcessingPipeline.java:585)       at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.process(ActionProcessingPipeline.java:419)       at org.jboss.soa.esb.listeners.message.MessageAwareListener$TransactionalRunner.run(MessageAwareListener.java:548)       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)       at java.lang.Thread.run(Thread.java:722) 17:56:02,780 INFO  [STDOUT] %%%%%%%%%%%% ***** [transform_XML2POJO] Message after CSV transformation: 17:56:02,780 INFO  [STDOUT] [&lt;no-such-property&gt;,&lt;no-such-property&gt;,&lt;no-such-property&gt;,&lt;no-such-property&gt;]. Please suggest how to resolve this. Please let me know if you need any more information. Thanks and Regards,</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jBPM5 Compatibility with	JBoss AS 7</header>
    <body>Hi, I have a jBPM5 (5.2.0) application running on jboss-as-7.0.2.Final which came with the jBPM-5.2.0 installer. I want to deploy this application on JBoss AS 7 (GateIn-3.5.0.Final-jbossas7). But AS 7.1.1 doesnt come with jBPM. Is there any way i can configure jBPM5 with JBoss AS 7.1.1? Appreciate any pointers/ suggestions on how I can go about this. Thanks!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Primordial Boot	Options</header>
    <body>I see your point now.   It's hard to know if the trade-off is worth the pummeling.  I think I'd be willing to take a few lumps if we think "New Main Class" is a better solution.  We took a much bigger hit when we got rid of run.bat.  But we survived and thrived.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Does JBPM require a specific Database? How to maintain database in jbpm, how to archieve data in JBPM....</header>
    <body>Does Jbpm  require a specific database. How to maintain a database in jbpm, How to archieve data in jbpm?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How to restart a failed activity/task in JBPM?</header>
    <body>How to restart a failed activity or task in JBPM? Public and process type example.....</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need for database compatibility between jBPM versions</header>
    <body>I have trying to integrate jbpm with different databases ,so i wanted to ask is it something like that .... means ... Does JBPM require any specific Database ? How to maintain database in JBPM ? also For Example we need execute delete statement, where do we set it? In JBPM or in Hibernate?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Primordial Boot	Options</header>
    <body>On this page I want to lay out some alternative approaches to altering the AS 7.2 / EAP 6.1 boot to realize the objectives discussed in  https://community.jboss.org/docs/DOC-47927 https://community.jboss.org/docs/DOC-47927. h2. Primary goals: 1. To support the organization of modules as described on  https://community.jboss.org/docs/DOC-47927 https://community.jboss.org/docs/DOC-47927, such that the modules that ship with AS 7.2 comprise the "distribution base" discussed on that document. 2. To ensure that when other valid "layered distributions" or "add-on"s install on top of that AS 7.2 distribution base they can place their modules in appropriate locations as described in  https://community.jboss.org/docs/DOC-47927 https://community.jboss.org/docs/DOC-47927 and don't need to alter the startup scripts in order to have those modules become visible with the proper precedence. 3. To ensure the the $JBOSS_MODULE_PATH environment variable is left available for use by end users and isn't polluted with the various detailed paths discussed on  https://community.jboss.org/docs/DOC-47927 https://community.jboss.org/docs/DOC-47927. h2. Secondary goals: These are things to consider while working to achieve the primary goal: 1. To eliminate as much as possible standard configuration settings from the startup scripts. 2. To organize any remaining script-based standard configuration settings to make them easily usable by tooling. 3. To avoid altering the programmatic launch of the AS such that existing tooling that launches the AS will not need to handle AS 7.2 / EAP 6.1 separately from how previous AS 7.1 / EAP 6.0 was handled. Some of the secondary goals may prove contradictory. h2. Current Boot The critical aspects of our existing launch commands can be boiled down to the following for a standalone  server and a managed domain host respectively: java -jar jboss-modules.jar -mp modules org.jboss.as.standalone java -jar jboss-modules.jar -mp modules org.jboss.as.process-controller (The real command uses $JBOSS_HOME to create absolute paths. That is omitted in this document for brevity.) The main() class invoked by the JVM is a JBoss Modules class in jboss-modules.jar. It reads the -mp command line argument to learn that modules are available under filesystem path "modules". It then loads either the org.jboss.as.standalone or the org.jboss.as.process-controller module, finds the class described as the "main" class in that module's module.xml file, loads it and invokes its main() method. h2. Options: The following options for how to do the boot come to mind: h3. Include the layering logic within JBoss Modules If JBoss Modules natively supported the layering rules, this would be simplest. The AS could simply reorganize its module directory layout and it would just work. This is the current plan (Jan 18, 2013). The layering rules and patching mechanism we propose for the AS are a valid general set of behavior that any complex application built on jboss-modules might want to take advantage of, so David will build it in. h3. Specialized "Main" Modules This one was the initial focus but has proved impractical. It involves having most AS modules no longer loaded by the JBoss Modules "boot module loader"; the boot module loader simply loads 1 module which creates a different ModuleLoader to load everything else. But I count 59 spots in the AS code base where the code is accessing Module.getBootModuleLoader(), most, perhaps all of which would break with this approach. This the one that's been focused on recently. The org.jboss.as.process-controller and org.jboss.as.standalone modules remain located as they currently are. They do not get placed in modules/layers/base as is described on the Layered Distributions wiki. As a result, a standard jboss-modules boot module loader can find them. The code in those modules, however, changes significantly. Essentially it no longer particular concerns itself with those modules do today. Instead, it's sole concern is to figure out the detailed module path as described on the Layered Distributions wiki. It will figure that out and create a ModuleLoader that follows those rules. Using that ModuleLoader it will then load a *different* module located in modules/layers/base, find its main class, load that class and invoke its main() method. That class will execute the logic found in the current main classes. An advantage to this is the existing programmatic launch command is completely unchanged. The disadvantage is we leave modules located directly under modules. These modules have to be handled different from other modules, however. You can't override them in a patch via a different module. Instead the patch tool has to treat them as a bunch miscellaneous files (like it treats jboss-modules.jar.) This is mildly annoying because they are a special case for the patch generation and application tools. Also RPMs for layered products will have to account for these modules separately; they can't just create a simple symlink to the EAP RPM's modules/layers/base to pick up all the base modules. With this approach there will likely be at least 3 of these specialized modules directly under modules/ -- org.jboss.as.standalone, org.jboss.as.process-controller and a 3rd, e.g org.jboss.as.boot, that contains the most of the code. The bulk of the code is common between the other two. h3. Single Specialized "Main" Module No longer under consideration for the same reason as the previous option. This is a variant on the previous approach. The launch command becomes: java -jar jboss-modules.jar -mp modules org.jboss.as.boot org.jboss.as.standalone The goal here is to reduce the number of specialized "Main" modules to just one -- org.jboss.as.boot. It reads the next argument in the command (e.g. org.jboss.as.standalone) and uses it to decide what module to invoke. This makes things a bit less messy in the modules/ dir but at the cost of changing the launch command. h3. h3. Specialized JBoss AS Boot Module Loader This is the approach that was being followed on the initial work for the patching feature. The command becomes: java -cp jboss-modules.jar:jboss-as-loader.jar -Dboot.module.loader=org.jboss.as.boot.ModuleLoader -jar jboss-modules.jar -mp modules org.jboss.as.standalone The AS ships a jar "jboss-as-loader.jar" alongside jboss-modules.jar. The launch command places that jar on the classpath. JBoss Modules uses system property "boot.module.loader" to discover the classname of the ModuleLoader implementation it should use. The implementation the AS provides understands all the rules in the Layered Distributions wiki. The downsides are an extra file in the root of the AS distribution and a change in the launch command. h3. New Main Class The AS stops using JBoss Modules as its main class. Instead we create our own main class, which does preliminary setup work and then calls JBoss Modules' main() class. The launch command becomes: java -cp jboss-modules.jar:jboss-as-boot.jar -jar jboss-as-boot.jar -mp modules org.jboss.as.standalone Again, the downsides are an extra file in the root of the AS distribution and a change in the launch command. A positive to this is the new main class can take over some processing that's currently done in the scripts. For example, including org.jboss.byteman in system property jboss.modules.system.pkgs. Also the -P processing requested at  https://issues.jboss.org/browse/MODULES-117 https://issues.jboss.org/browse/MODULES-117 could be done without requiring it to be added into jboss-modules itself. h3. New Main Class with Shading This is the same as the "New Main Class" approach, except we shade jboss-modules.jar into jboss-as-boot.jar in order to eliminate a jar. Launch command becomes: java -jar jboss-as-boot.jar -mp modules org.jboss.as.standalone Still a change in launch command though. The only way to get around the change in the launch command would be to call this shaded jar "jboss-modules.jar" which would be very, very ugly.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Idea about clustered environment in jboss esb</header>
    <body>Hi,      I referred the AdministrationGuide.pdf for clustered environment, but i didn't get clear idea about configuring clustered environment.     Actually i need to put my application in a clustered enviroment for load balancing purpose, so that if i get large request to my jboss esb means i need to redirect the request to another jboss server that mapped with in the clustered environment.     Can anyone give a sample configuration files or a proper guide for configuring the clustered environment in jboss esb service(I am using jbossesb-server-4.10). Thanks</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: Idea about clustered environment in jboss esb</header>
    <body>Is no one tried with jboss clustered environment.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: Idea about clustered environment in jboss esb</header>
    <body>Clustering and Load balancing support is supported in the application server/database/jms/registry layer. There are certain tips that have been outlined in the Programmer's Guide. Have you looked at it? http://docs.jboss.org/jbossesb/docs/4.10/manuals/html/Programmers_Guide/index.html#d0e1630 http://docs.jboss.org/jbossesb/docs/4.10/manuals/html/Programmers_Guide/index.html#d0e1630</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: Idea about clustered environment in jboss esb</header>
    <body>Thanks Magash.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - ~@tv@~ VfL Wolfsburg vs VfB Stuttgart Live German Bundesliga</header>
    <body>h3.  http://watchewsports.blogspot.com/2013/01/vfl-wolfsburg-vs-vfb-stuttgart-live.html VfL Wolfsburg vs VfB Stuttgart Live h3.  http://watchewsports.blogspot.com/2013/01/vfl-wolfsburg-vs-vfb-stuttgart-live.html VfL Wolfsburg vs VfB Stuttgart Live h3.  http://watchewsports.blogspot.com/2013/01/vfl-wolfsburg-vs-vfb-stuttgart-live.html VfL Wolfsburg vs VfB Stuttgart Live h3.  http://watchewsports.blogspot.com/2013/01/vfl-wolfsburg-vs-vfb-stuttgart-live.html VfL Wolfsburg vs VfB Stuttgart Live h3.  http://watchewsports.blogspot.com/2013/01/vfl-wolfsburg-vs-vfb-stuttgart-live.html VfL Wolfsburg vs VfB Stuttgart Live h3.  http://watchewsports.blogspot.com/2013/01/vfl-wolfsburg-vs-vfb-stuttgart-live.html VfL Wolfsburg vs VfB Stuttgart Live h3.  http://watchewsports.blogspot.com/2013/01/vfl-wolfsburg-vs-vfb-stuttgart-live.html VfL Wolfsburg vs VfB Stuttgart Live h3.  http://watchewsports.blogspot.com/2013/01/vfl-wolfsburg-vs-vfb-stuttgart-live.html VfL Wolfsburg vs VfB Stuttgart Live h3.  http://watchewsports.blogspot.com/2013/01/vfl-wolfsburg-vs-vfb-stuttgart-live.html VfL Wolfsburg vs VfB Stuttgart Live h3.  http://watchewsports.blogspot.com/2013/01/vfl-wolfsburg-vs-vfb-stuttgart-live.html VfL Wolfsburg vs VfB Stuttgart Live</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - ~dinapke~ South Africa vs Cape Verde Islands Live African Nations Cup</header>
    <body>h3.  http://watchewsports.blogspot.com/2013/01/south-africa-vs-cape-verde-islands-live.html South Africa vs Cape Verde Islands Live h3.  http://watchewsports.blogspot.com/2013/01/south-africa-vs-cape-verde-islands-live.html South Africa vs Cape Verde Islands Live h3.  http://watchewsports.blogspot.com/2013/01/south-africa-vs-cape-verde-islands-live.html South Africa vs Cape Verde Islands Live h3.  http://watchewsports.blogspot.com/2013/01/south-africa-vs-cape-verde-islands-live.html South Africa vs Cape Verde Islands Live h3.  http://watchewsports.blogspot.com/2013/01/south-africa-vs-cape-verde-islands-live.html South Africa vs Cape Verde Islands Live h3.  http://watchewsports.blogspot.com/2013/01/south-africa-vs-cape-verde-islands-live.html South Africa vs Cape Verde Islands Live h3.  http://watchewsports.blogspot.com/2013/01/south-africa-vs-cape-verde-islands-live.html South Africa vs Cape Verde Islands Live h3.  http://watchewsports.blogspot.com/2013/01/south-africa-vs-cape-verde-islands-live.html South Africa vs Cape Verde Islands Live h3.  http://watchewsports.blogspot.com/2013/01/south-africa-vs-cape-verde-islands-live.html South Africa vs Cape Verde Islands Live h3.  http://watchewsports.blogspot.com/2013/01/south-africa-vs-cape-verde-islands-live.html South Africa vs Cape Verde Islands Live</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - ~@jindegi@~ Liverpool vs Norwich City Live Barclays Premier League</header>
    <body>h3.  http://watchewsports.blogspot.com/2013/01/liverpool-vs-norwich-city-live-stream.html Liverpool vs Norwich City Live h3.  http://watchewsports.blogspot.com/2013/01/liverpool-vs-norwich-city-live-stream.html Liverpool vs Norwich City Live h3.  http://watchewsports.blogspot.com/2013/01/liverpool-vs-norwich-city-live-stream.html Liverpool vs Norwich City Live h3.  http://watchewsports.blogspot.com/2013/01/liverpool-vs-norwich-city-live-stream.html Liverpool vs Norwich City Live h3.  http://watchewsports.blogspot.com/2013/01/liverpool-vs-norwich-city-live-stream.html Liverpool vs Norwich City Live h3.  http://watchewsports.blogspot.com/2013/01/liverpool-vs-norwich-city-live-stream.html Liverpool vs Norwich City Live h3.  http://watchewsports.blogspot.com/2013/01/liverpool-vs-norwich-city-live-stream.html Liverpool vs Norwich City Live h3.  http://watchewsports.blogspot.com/2013/01/liverpool-vs-norwich-city-live-stream.html Liverpool vs Norwich City Live</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - ~yes boss~ Sunderland vs Wigan Athletic Live EPL TV</header>
    <body>~yes boss~ Sunderland vs Wigan Athletic Live EPL TV ~yes boss~ Sunderland vs Wigan Athletic Live EPL TV ~yes boss~ Sunderland vs Wigan Athletic Live EPL TV ~yes boss~ Sunderland vs Wigan Athletic Live EPL TV ~yes boss~ Sunderland vs Wigan Athletic Live EPL TV ~yes boss~ Sunderland vs Wigan Athletic Live EPL TV ~yes boss~ Sunderland vs Wigan Athletic Live EPL TV ~yes boss~ Sunderland vs Wigan Athletic Live EPL TV ~yes boss~ Sunderland vs Wigan Athletic Live EPL TV~yes boss~ Sunderland vs Wigan Athletic Live EPL TV ~yes boss~ Sunderland vs Wigan Athletic Live EPL TV ~yes boss~ Sunderland vs Wigan Athletic Live EPL TV</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Gu@ Newcastle United vs Reading Live EPL 19th Jan 2013</header>
    <body>Gu@ Newcastle United vs Reading Live EPL 19th Jan 2013 Gu@ Newcastle United vs Reading Live EPL 19th Jan 2013 Gu@ Newcastle United vs Reading Live EPL 19th Jan 2013 Gu@ Newcastle United vs Reading Live EPL 19th Jan 2013 Gu@ Newcastle United vs Reading Live EPL 19th Jan 2013 Gu@ Newcastle United vs Reading Live EPL 19th Jan 2013 Gu@ Newcastle United vs Reading Live EPL 19th Jan 2013 Gu@ Newcastle United vs Reading Live EPL 19th Jan 2013</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - EPL@ Man City vs Fulham Live On PC Jan 19th</header>
    <body>EPL@ Man City vs Fulham Live On PC Jan 19th EPL@ Man City vs Fulham Live On PC Jan 19th EPL@ Man City vs Fulham Live On PC Jan 19th EPL@ Man City vs Fulham Live On PC Jan 19th EPL@ Man City vs Fulham Live On PC Jan 19th EPL@ Man City vs Fulham Live On PC Jan 19th EPL@ Man City vs Fulham Live On PC Jan 19th EPL@ Man City vs Fulham Live On PC Jan 19th EPL@ Man City vs Fulham Live On PC Jan 19th EPL@ Man City vs Fulham Live On PC Jan 19th</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan</header>
    <body>FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan FUTI@ Aston Villa vs West Bromwich Albion Live EPL 19th Jan</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Integration of JBPM into a web application</header>
    <body>Hi Cyrine How did you get on? I'm also looking at doing the same.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Detyped Description of the AS 7 Management Model</header>
    <body>h3. Deprecated, see https://docs.jboss.org/author/display/AS71/Description+of+the+Management+Mode (https://docs.jboss.org/author/display/AS71/Description+of+the+Management+Model)l instead AS 7's management API will naturally include the ability for clients to query the management system to discover meta-information about the management model; i.e. what resources are available and what attributes and operations they expose. These details will be returned in a detyped form, either using the  https://github.com/jbossas/jboss-dmr jboss-dmr library or JSON. (A JMX interface based on open mbeans will also be provided; most concepts in this article map naturally to JMX.) The purpose of this article is to describe the detyped representation of the API. Readers are encouraged to look at the example detyped descriptions of parts of the management API at the bottom before reading the details. Before getting into the details of the meta-information, first a couple quick examples on how to access it. h5. Reading Management Model Descriptions via the raw Management API The client must have maven artifact org.jboss.as:jboss-as-controller-client and its dependencies on the classpath. 1) Create a management client that can connect to your target process's native management socket (which can be an individual standalone mode server, or, in a domain mode environment, the Domain Controller or any Host Controller: The address and port are what is configured in the target process' &lt;management-apis&gt;&lt;native-api.../&gt; element. 2) Create an operation request object using the org.jboss.dmr.ModelNode class: See   https://community.jboss.org/docs/DOC-16336 http://community.jboss.org/docs/DOC-16336 for basic background on the format of an operation request. The key thing here is we are executing the "read-resource-description" operation. That operation can be targetted at any address in the management model; here we are targetting it at the resource for the web subsystem's http connector. The request includes two optional parameters: * recursive -- true means you want the description of child resources under this resource. Default is false * operations -- true means you want the description of operations exposed by the resource to be included. Default is false. 3) Execute the operation and manipulate the result: See  https://community.jboss.org/docs/DOC-16354 http://community.jboss.org/docs/DOC-16354 for general details on the structure of the "returnVal" ModelNode. h5. Reading Management Model Descriptions via the CLI See  https://community.jboss.org/docs/DOC-16581 http://community.jboss.org/docs/DOC-16581 for basics on using the CLI. Once you've launched the CLI the syntax for the command shown above would be: [localhost:9999 /] /subsystem=web/connector=http:read-resource-description(recursive=true,operations=true) h3. h3. Description of addressable portions of the management model All portions of the management model exposed by AS 7 are addressable via an ordered list of key/value pairs. For each addressable portion of the model, the following descriptive information will be available: * description -- String -- text description of this portion of the model * head-comment-allowed -- boolean -- indicates whether this portion of the model can store an XML comment that would be written in the persistent form of the model (e.g. domain.xml) before the start of the XML element that represents this portion of the model. This item is optional, and if not present defaults to true. +*(Note: storing XML comments in the in-memory model is not currently supported and likely will not be supported in AS 7.1. This description key is for future use.)*+ * tail-comment-allowed -- boolean -- similar to head-comment-allowed, but indicates whether a comment just before the close of the XML element is supported. A tail comment can only be supported if the element has child elements, in which case a comment can be inserted between the final child element and the element's closing tag. This item is optional, and if not present defaults to true. +*(Note: storing XML comments in the in-memory model is not currently supported and likely will not be supported in AS 7.1. This description key is for future use.)*+ * attributes -- Map of String (the attribute name) to complex structure -- the configuration attributes available in this portion of the model. See below for the representation of each attribute. * operations -- Map of String (the operation name) to complex structure -- the operations that can be targetted at this address. See below for the representation of each operation. * children -- Map of String (the type of child) to complex structure -- the relationship of this portion of the model to other addressable portions of the model. See below for the representation of each child relationship.      "description =&gt; "A managable resource",      "tail-comment-allowed" =&gt; false,                .... details of attribute foo                .... details of the start operation                .... details of the relationship with children of type "bar" h4. Description of an Attribute An attribute is a portion of the management model that is not directly addressable. Instead, it is conceptually a property of an addressable part of the model. For each attribute portion of the model, the following descriptive information will be available: * description -- String -- text description of the attribute * type -- org.jboss.dmr.ModelType -- the type of the attribute value. One of the enum values BIG_DECIMAL, BIG_INTEGER, BOOLEAN, BYTES, DOUBLE, INT, LIST, LONG, OBJECT, PROPERTY, STRING. Most of these are self-explanatory. An OBJECT will be represented in the detyped model as a map of string keys to values of some other legal type, conceptually similar to a javax.management.openmbean.CompositeData. A PROPERTY is a single key/value pair, where the key is a string, and the value is of some other legal type. * value-type -- ModelType or complex structure -- Only present if type is LIST or OBJECT. If type is LIST or all the values of the OBJECT type are of the same type, this will be one of the ModelType enums  BIG_DECIMAL, BIG_INTEGER, BOOLEAN, BYTES, DOUBLE, INT,  LONG, STRING. Otherwise, value-type will detail the structure of the attribute value, enumerating the value's fields and the type of their value. * required -- boolean -- true if the attribute will always exist in a representation of its portion of the model; false if it may not (implying a null value.) If not present, true is the default. * storage -- String -- Either "configuration" or "runtime". If "configuration" it means the attribute's value is stored as part of the persistent configuration (e.g. in domain.xml, host.xml or standalone.xml.) If "runtime" the attribute's value is not stored in the persistent configuration; the value only exists as long as the resource is running. * access-type -- String -- One of "read-only", "read-write" or "metric". Whether an attribute value can be written, or can only read. A "metric" is a read-only attribute whose value is not stored in the persistent configuration, and whose value may change due to activity on the server. If an attribute is "read-write", the resource will expose an operation named "write-attribute" whose "name" parameter will accept this attribute's name and whose "value" parameter will accept a valid value for this attribute. That operation will be the standard means of updating this attribute's value. * restart-required -- String -- One of "no-services", "all-services", "resource-services" or "jvm". Only relevant to attributes whose access-type is read-write. Indicates whether execution of a write-attribute operation whose name parameter specifies this attribute requires a restart of services (or an entire JVM) in order for the change to take effect in the runtime . See discussion of "Applying Updates to Runtime Services" below.  Default value is "no-services". * alternatives -- List of string -- Indicates an exclusive relationship between attributes. If this attribute is defined, the other attributes listed in this descriptor's value should be undefined (even if their required descriptor says true; i.e. the presence of this attribute satisfies the requirement.) Default is undefined; i.e. this does not apply to most attributes. * requires -- List of string -- Indicates that if this attribute has a value (other than undefined), the other attributes listed in this descriptor's value must also have a value, even if their required descriptor says false. This would typically be used in conjunction with alternatives. For example, attributes "a" and "b" are required, but are alternatives to each other; "c" and "d" are optional. But "b" requires "c" and "d", so if "b" is used, "c" and "d" must also be defined. Default is undefined; i.e. this does not apply to most attributes. * head-comment-allowed -- boolean -- indicates whether the model can store an XML comment that would be written in the persistent form of the model (e.g. domain.xml) before the start of the XML element that represents this attribute. This item is optional, and if not present defaults to *false*. (This is a different default from is used for an addressable portion of the model, since model attributes often map to XML attributes, which don't allow comments.) +*(Note: storing XML comments in the in-memory model is not currently supported and likely will not be supported in AS 7.1. This description key is for future use.)*+ * tail-comment-allowed -- boolean -- similar to head-comment-allowed, but indicates whether a comment just before the close of the XML element is supported. A tail comment can only be supported if the element has child elements, in which case a comment can be inserted between the final child element and the element's closing tag. This item is optional, and if not present defaults to *false*. (This is a different default from is used for an addressable portion of the model, since model attributes often map to XML attributes, which don't allow comments.) +*(Note: storing XML comments in the in-memory model is not currently supported and likely will not be supported in AS 7.1. This description key is for future use.)*+ * arbitrary key/value pairs that further describe the attribute value, e.g. "max" =&gt; 2. See "Arbitrary Descriptors" below.      "description" =&gt; "The foo",      "type" =&gt; INT,      "max" =&gt; 2      "description" =&gt; "The bar",      "type" =&gt; OBJECT,           "size" =&gt; INT,           "color" =&gt; STRING h3. Description of an Operation An addressable portion of the model may have operations associated with it. The description of an operation will include the following information: * operation-name -- String -- the name of the operation * description -- String -- text description of the operation * request-properties -- Map of String to complex structure -- description of the parameters of the operation. Keys are the names of the parameters, values are descriptions of the parameter value types. See below for details on the description of parameter value types. * reply-properties -- complex structure, or empty -- description of the return value of the operation, with an empty node meaning void. * restart-required -- String -- One of "no-services", "all-services", "resource-services" or "jvm". Indicates whether the operation makes a configuration change that requires a restart of services (or an entire JVM) in order for the change to take effect in the runtime. See discussion of "Applying Updates to Runtime Services" below.  Default value is "no-services". h4. Description of an Operation Parameter or Return Value * description -- String -- text description of the parameter or return value * type -- org.jboss.dmr.ModelType -- the type of the parameter or return value. One of the enum values BIG_DECIMAL, BIG_INTEGER, BOOLEAN, BYTES, DOUBLE, INT, LIST, LONG, OBJECT, PROPERTY, STRING. * value-type -- ModelType or complex structure -- Only present if type is LIST or OBJECT. If type is LIST or all the values of the OBJECT type are of the same type, this will be one of the ModelType enums  BIG_DECIMAL, BIG_INTEGER, BOOLEAN, BYTES, DOUBLE, INT, LIST, LONG, PROPERTY, STRING. Otherwise, value-type will detail the structure of the attribute value, enumerating the value's fields and the type of their value. * value-type -- ModelType or complex structure -- Only present if type is LIST or OBJECT. If type is LIST or all the values of the OBJECT type are of the same type, this will be one of the ModelType enums  BIG_DECIMAL, BIG_INTEGER, BOOLEAN, BYTES, DOUBLE, INT,  LONG, STRING. Otherwise, value-type will detail the structure of the attribute value, enumerating the value's fields and the type of their value. * required -- boolean -- Only relevant to parameters. true if the parameter must be present in the request object used to invoke the operation; false if it can omitted. If not present, true is the default. * nillable -- boolean -- true if null is a valid value.  If not present, false is the default. * restart-required -- String -- One of "no-services", "all-services", "resource-services" or "jvm". Only relevant to attributes whose access-type is read-write. Indicates whether execution of a write-attribute operation whose name parameter specifies this attribute requires a restart of services (or an entire JVM) in order for the change to take effect in the runtime . See discussion of "Applying Updates to Runtime Services" below.  Default value is "no-services". * alternatives -- List of string -- Indicates an exclusive relationship between parameters. If this attribute is defined, the other parameters listed in this descriptor's value should be undefined (even if their required descriptor says true; i.e. the presence of this parameter satisfies the requirement.) Default is undefined; i.e. this does not apply to most parameters. * requires -- List of string -- Indicates that if this parameter has a value (other than undefined), the other parameters listed in this descriptor's value must also have a value, even if their required descriptor says false. This would typically be used in conjunction with alternatives. For example, parameters "a" and "b" are required, but are alternatives to each other; "c" and "d" are optional. But "b" requires "c" and "d", so if "b" is used, "c" and "d" must also be defined. Default is undefined; i.e. this does not apply to most parameters. * arbitrary key/value pairs that further describe the attribute value, e.g. "max" =&gt;2. See "Arbitrary Descriptors" below.      "operation-name" =&gt; "incrementFoo",      "description" =&gt; "Increase the value of the 'foo' attribute by the given amount",                "type" =&gt; INT,                "description" =&gt; "The amount to increment",                "required" =&gt; true                "type" =&gt; INT,                "description" =&gt; "The new value",      "operation-name" =&gt; "start",      "description" =&gt; "Starts the thing", h2. Arbitrary Descriptors The description of an attribute, operation parameter or operation return value type can include arbitrary key/value pairs that provide extra information. Whether a particular key/value pair is present depends on the context, e.g. a pair with key "max" would probably only occur as part of the description of some numeric type. Following are standard keys and their expected value type. If descriptor authors want to add an arbitrary key/value pair to some descriptor and the semantic matches the meaning of one of the following items, the standard key/value type must be used. * min -- int -- the minimum value of some numeric type. The absence of this item implies there is no minimum value. * max -- int -- the maximum value of some numeric type. The absence of this item implies there is no maximum value. * min-length -- int -- the minimum length of some string, list or byte[] type. The absence of this item implies a minimum length of zero. * max-length -- int -- the maximum length of some string, list or byte[]. The absence of this item implies there is no maximum value. * nillable -- boolean -- whether null is a legal value. The absence of this item implies false; i.e. null is not a legal value. * allowed -- List -- a list of legal values. The type of the elements in the list should match the type of the attribute. * default -- the default value for the attribute if not present in the model * unit - The unit of the value - e.g. ns, ms, s, m, h, KB, MB, TB. See *Measurement Units* below. h4. Measurement Units Wherever possible, the description of an attribute, operation parameter or operation return value should include the unit arbitrary descriptor. Valid values for this descriptor are: // Simple Unit Types NONE PERCENTAGE // Absolute Sizes in Bytes (utilization) BYTES KILOBYTES MEGABYTES GIGABYTES TERABYTES PETABYTES // Absolute Sizes in Bits (throughput) BITS KILOBITS MEGABITS GIGABITS TERABITS PETABITS // Absolute Time - no display, only hints to the UI how to display EPOCH_MILLISECONDS EPOCH_SECONDS // Relative Time JIFFYS NANOSECONDS MICROSECONDS MILLISECONDS SECONDS MINUTES HOURS DAYS // Rate PER_JIFFY PER_NANOSECOND PER_MICROSECOND PER_MILLISECOND PER_SECOND PER_MINUTE PER_HOUR PER_DAY // Temperature CELSIUS KELVIN FAHRENHEIGHT Legal values are listed in the  https://github.com/jbossas/jboss-as/blob/master/controller-client/src/main/java/org/jboss/as/controller/client/helpers/MeasurementUnit.java MeasurementUnit enum. This enum is in the controller-client package, and is thus usable by java-based management clients. h2. Description of Parent/Child Relationships The address used to target an addressable portion of the model must be an ordered list of key value pairs. The effect of this requirement is the addressable portions of the model naturally form a tree structure, with parent nodes in the tree defining what the valid keys are and the children defining what the valid values are. The parent node also defines the cardinality of the relationship. The description of the parent node includes a children element that describes these relationships:      ....                .... description of the relationship with children of type "connector"                .... description of the relationship with children of type "virtual-host" The description of each relationship will include the following elements: * description -- String -- text description of the relationship * min-occurs -- int, either 0 or 1 -- Minimum number of children of this type that must exist in a valid model. If not present, the default value is 0. * max-occurs -- int -- Maximum number of children of this type that may exist in a valid model. If not present, the default value is Integer.MAX_VALUE, i.e. there is no limit. * allowed -- List of strings -- legal values for children names. If not present, there is no restriction on children names. * model-description -- either "undefined" or a complex structure -- This is the full description of the child resource (its text description, attributes, operations, children) as detailed above. This may also be "undefined", i.e. a null value, if the query that asked for the parent node's description did not include the "recursive" param set to true. Example with if the recursive flag was set to true:      "description" =&gt; "The connectors used to handle client connections",      "min-occurs" &gt; 1,           "description" =&gt; "Handles client connections",                ... details of children as documented above                .... details of operations as documented above                .... details of the children's children If the recursive flag was false:      "description" =&gt; "The connectors used to handle client connections",      "min-occurs" &gt; 1,      "model-description" =&gt; undefined h2. Applying Updates to Runtime Services An attribute or operation description may include a "restart-required" descriptor; this section is an explanation of the meaning of that descriptor. An operation that changes a management resource's persistent configuration usually can also also affect a runtime service associated with the resource. For example, there is a runtime service associated with any host.xml or standalone.xml &lt;interface&gt; element; other services in the runtime depend on that service to provide the InetAddress associated with the interface. In many cases, an update to a resource's persistent configuration can be immediately applied to the associated runtime service. The runtime service's state is updated to reflect the new value(s). However, in many cases the runtime service's state cannot be updated without restarting the service. Restarting a service can have broad effects. A restart of a service A will trigger a restart of other services B, C and D that depend A, triggering a restart of services that depend on B, C and D, etc. Those service restarts may very well disrupt handling of end-user requests. Because restarting a service can be disruptive to end-user request handling, the handlers for management operations will not restart any service without some form of explicit instruction from the end user indicating a service restart is desired. In a few cases, simply executing the operation is an indication the user wants services to restart (e.g. a /host=master/server-config=server-one:restart operation in a managed domain, or a /:reload operation on a standalone server.) For al other cases, if an operation (or attribute write) cannot be performed without restarting a service, the metadata describing the operation or attribute will include a "restart-required" descriptor whose value indicates what is necessary for the operation to affect the runtime: * no-services -- Applying the operation to the runtime does not require the restart of any services. This value is the default if the restart-required descriptor is not present. * all-services -- The operation can only immediately update the persistent configuration; applying the operation to the runtime will require a subsequent restart of all services in the affected VM. Executing the operation will put the server into a "reload-required" state. Until a restart of all services is performed the response to this operation and to any subsequent operation will include a response header "process-state" =&gt; "reload-required". For a standalone server, a restart of all services can be accomplished by executing the /:reload CLI command. For a server in a managed domain, restarting all services currently requires a full restart of the affected server VM (e.g. /host=master/server-config=server-one:restart). * jvm --The operation can only immediately update the persistent configuration; applying the operation to the runtime will require a full process restart (i.e. stop the JVM and launch a new JVM). Executing the operation will put the server into a "restart-required" state. Until a restart is performed the response to this operation and to any subsequent operation will include a response header "process-state" =&gt; "restart-required". For a standalone server, a full process restart requires first stopping the server via OS-level operations (Ctrl-C, kill) or via the /:shutdown CLI command, and then starting the server again from the command line. For a server in a managed domain, restarting a server requires executing the /host=&lt;host&gt;/server-config=&lt;server&gt;:restart operation. * resource-services -- The operation can only immediately update the persistent configuration; applying the operation to the runtime will require a subsequent restart of some services associated with the resource. If the operation includes the request header "allow-resource-service-restart" =&gt; true, the handler for the operation will go ahead and restart the runtime service. Otherwise executing the operation will put the server into a "reload-required" state. (See the discussion of "all-services" above for more on the "reload-required" state.) h2. Example Representation of a Portion of the Domain Controller API     "description" =&gt; "The root node of the domain-level management model.",             "type" =&gt; OBJECT,             "value-type" =&gt; STRING,             "description" =&gt; "Map of namespaces used in the configuration XML document, where keys are namespace prefixes and values are schema URIs.",             "required" =&gt; false             "type" =&gt; OBJECT,             "value-type" =&gt; STRING,             "description" =&gt; "Map of locations of XML schemas used in the configuration XML document, where keys are schema URIs and values are locations where the schema can be found.",             "required" =&gt; false     "operations" =&gt; "TODO",             "description" =&gt; "A list of extension modules.",             "model-description" =&gt; "TODO"             "description" =&gt; "A list of named filesystem paths. The paths may or may not be fully specified (i.e. include the actual paths.)",                 "description" =&gt; "A named filesystem path, but without a requirement to specify the actual path. If no actual path is specified, acts as a placeholder in the model (e.g. at the domain level) until a fully specified path definition is applied at a lower level (e.g. at the host level, where available addresses are known.)",                 "tail-comment-allowed" =&gt; false,                         "type" =&gt; STRING,                         "description" =&gt; "The name of the path. Cannot be one of the standard fixed paths provided by the system: &lt;ul&gt;&lt;li&gt;jboss.home - the root directory of the JBoss AS distribution&lt;/li&gt;&lt;li&gt;user.home - user's home directory&lt;/li&gt;&lt;li&gt;user.dir - user's current working directory&lt;/li&gt;&lt;li&gt;java.home - java installation directory&lt;/li&gt;&lt;li&gt;jboss.server.base.dir - root directory for an individual server instance&lt;/li&gt;&lt;/ul&gt; Note that the system provides other standard paths that can be overridden by declaring them in the configuration file. See the 'relative-to' attribute documentation for a complete list of standard paths.",                         "required" =&gt; true                         "type" =&gt; STRING,                         "description" =&gt; "The actual filesystem path. Treated as an absolute path, unless the 'relative-to' attribute is specified, in which case the value is treated as relative to that path. &lt;p&gt;If treated as an absolute path, the actual runtime pathname specified by the value of this attribute will be determined as follows: &lt;/p&gt;If this value is already absolute, then the value is directly used.  Otherwise the runtime pathname is resolved in a system-dependent way.  On UNIX systems, a relative pathname is made absolute by resolving it against the current user directory. On Microsoft Windows systems, a relative pathname is made absolute by resolving it against the current directory of the drive named by the pathname, if any; if not, it is resolved against the current user directory.",                         "required" =&gt; false,                         "min-length" =&gt; 1                         "type" =&gt; STRING,                         "description" =&gt; "The name of another previously named path, or of one of the standard paths provided by the system. If 'relative-to' is provided, the value of the 'path' attribute is treated as relative to the path specified by this attribute. The standard paths provided by the system include:&lt;ul&gt;&lt;li&gt;jboss.home - the root directory of the JBoss AS distribution&lt;/li&gt;&lt;li&gt;user.home - user's home directory&lt;/li&gt;&lt;li&gt;user.dir - user's current working directory&lt;/li&gt;&lt;li&gt;java.home - java installation directory&lt;/li&gt;&lt;li&gt;jboss.server.base.dir - root directory for an individual server instance&lt;/li&gt;&lt;li&gt;jboss.server.data.dir - directory the server will use for persistent data file storage&lt;/li&gt;&lt;li&gt;jboss.server.log.dir - directory the server will use for log file storage&lt;/li&gt;&lt;li&gt;jboss.server.tmp.dir - directory the server will use for temporary file storage&lt;/li&gt;&lt;li&gt;jboss.domain.servers.dir - directory under which a host controller will create the working area for individual server instances&lt;/li&gt;&lt;/ul&gt;",                         "required" =&gt; false                         "operation-name" =&gt; "add",                         "description" =&gt; "Add a new 'path' child",                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'name' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1,                                 "nillable" =&gt; false                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'path' attribute",                                 "required" =&gt; false,                                 "min-length" =&gt; 1,                                 "nillable" =&gt; true                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'relative-to' attribute",                                 "required" =&gt; false,                                 "min-length" =&gt; 1,                                 "nillable" =&gt; true                         "operation-name" =&gt; "remove",                         "description" =&gt; "Remove a 'path' child",                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'name' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1,                                 "nillable" =&gt; false                         "operation-name" =&gt; "setPath",                         "description" =&gt; "Set the value of the 'path' attribute",                                 "type" =&gt; STRING,                                 "description" =&gt; "The new value of the 'path' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1,                                 "nillable" =&gt; true                         "operation-name" =&gt; "setRelativeTo",                         "description" =&gt; "Set the value of the 'relative-to' attribute",                                 "type" =&gt; STRING,                                 "description" =&gt; "The new value of the 'relative-to' attribute",                                 "required" =&gt; true,                                 "nillable" =&gt; true             "description" =&gt; "A list of profiles available for use in the domain",             "min-occurs" =&gt; 1,                 "description" =&gt; "A named set of subsystem configurations.",                         "type" =&gt; STRING,                         "description" =&gt; "The name of the profile",                         "required" =&gt; true,                         "min-length" =&gt; 1                         "description" =&gt; "The subsystems that make up the profile.",                         "min-occurs" =&gt; 1,                             "description" =&gt; "Specifies that a contents of a named profile are to be included in the profile whose definition includes this item.",                             "head-comment-allowed" =&gt; true,                             "tail-comment-allowed" =&gt; false,                                     "type" =&gt; LIST,                                     "description" =&gt; "The name of the included profile",                                     "required" =&gt; true,                                     "value-type" =&gt; STRING                             "operations" =&gt; "TODO"             "description" =&gt; "A list of named network interfaces available for use in the domain. The interfaces may or may not be fully specified (i.e. include criteria on how to determine their IP address.",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO"             "description" =&gt; "A list of socket binding groups available for use in the domain",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO"             "description" =&gt; "A list of system properties to set on all servers in the domain.",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO"             "description" =&gt; "A list of deployments available for use in the domain",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO"             "description" =&gt; "A list of server groups available for use in the domain",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO"             "description" =&gt; "Host controllers currently running in the domain",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO" h2. Example Representation of a Portion of the Host Controller API     "description" =&gt; "The root node of the host-level management model.",             "type" =&gt; OBJECT,             "value-type" =&gt; STRING,             "description" =&gt; "Map of namespaces used in the configuration XML document, where keys are namespace prefixes and values are schema URIs.",             "required" =&gt; false             "type" =&gt; OBJECT,             "value-type" =&gt; STRING,             "description" =&gt; "Map of locations of XML schemas used in the configuration XML document, where keys are schema URIs and values are locations where the schema can be found.",             "required" =&gt; false             "description" =&gt; "Configuration of the host's management system.",             "type" =&gt; OBJECT,                     "type" =&gt; STRING,                     "description" =&gt; "Interface on which the host's socket for intra-domain management communication should be opened.",                     "required" =&gt; false                     "type" =&gt; STRING,                     "description" =&gt; "Port on which the host's socket for intra-domain management communication should be opened.",                     "required" =&gt; false             "required" =&gt; true,             "head-comment-allowed" =&gt; true             "description" =&gt; "Configuration of how the host should interact with the Domain Controller",             "type" =&gt; OBJECT,             "value-type" =&gt; "TODO",             "required" =&gt; true,             "head-comment-allowed" =&gt; true,             "tail-comment-allowed" =&gt; true             "operation-name" =&gt; "start-server",             "description" =&gt; "Start a server.",                     "type" =&gt; STRING,                     "description" =&gt; "The name of the server.",                     "required" =&gt; true,                     "min-length" =&gt; 1                 "type" =&gt; STRING,                 "description" =&gt; "The status of the server following execution of this operation."             "operation-name" =&gt; "restart-server",             "description" =&gt; "Restart a currently running server.",                     "type" =&gt; STRING,                     "description" =&gt; "The name of the server.",                     "required" =&gt; true,                     "min-length" =&gt; 1                 "type" =&gt; STRING,                 "description" =&gt; "The status of the server following execution of this operation."             "operation-name" =&gt; "stop-server",             "description" =&gt; "Stop a currently running server.",                     "type" =&gt; STRING,                     "description" =&gt; "The name of the server.",                     "required" =&gt; true,                     "min-length" =&gt; 1                 "type" =&gt; STRING,                 "description" =&gt; "The status of the server following execution of this operation."             "description" =&gt; "A list of extension modules.",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO"             "description" =&gt; "A list of named filesystem paths.",             "min-occurs" =&gt; 0,                 "description" =&gt; "A named filesystem path, but without a requirement to specify the actual path. If no actual path is specified, acts as a placeholder in the model (e.g. at the domain level) until a fully specified path definition is applied at a lower level (e.g. at the host level, where available addresses are known.)",                 "tail-comment-allowed" =&gt; false,                         "type" =&gt; STRING,                         "description" =&gt; "The name of the path. Cannot be one of the standard fixed paths provided by the system: &lt;ul&gt;&lt;li&gt;jboss.home - the root directory of the JBoss AS distribution&lt;/li&gt;&lt;li&gt;user.home - user's home directory&lt;/li&gt;&lt;li&gt;user.dir - user's current working directory&lt;/li&gt;&lt;li&gt;java.home - java installation directory&lt;/li&gt;&lt;li&gt;jboss.server.base.dir - root directory for an individual server instance&lt;/li&gt;&lt;/ul&gt; Note that the system provides other standard paths that can be overridden by declaring them in the configuration file. See the 'relative-to' attribute documentation for a complete list of standard paths.",                         "required" =&gt; true                         "type" =&gt; STRING,                         "description" =&gt; "The actual filesystem path. Treated as an absolute path, unless the 'relative-to' attribute is specified, in which case the value is treated as relative to that path. &lt;p&gt;If treated as an absolute path, the actual runtime pathname specified by the value of this attribute will be determined as follows: &lt;/p&gt;If this value is already absolute, then the value is directly used.  Otherwise the runtime pathname is resolved in a system-dependent way.  On UNIX systems, a relative pathname is made absolute by resolving it against the current user directory. On Microsoft Windows systems, a relative pathname is made absolute by resolving it against the current directory of the drive named by the pathname, if any; if not, it is resolved against the current user directory.",                         "required" =&gt; true,                         "min-length" =&gt; 1                         "type" =&gt; STRING,                         "description" =&gt; "The name of another previously named path, or of one of the standard paths provided by the system. If 'relative-to' is provided, the value of the 'path' attribute is treated as relative to the path specified by this attribute. The standard paths provided by the system include:&lt;ul&gt;&lt;li&gt;jboss.home - the root directory of the JBoss AS distribution&lt;/li&gt;&lt;li&gt;user.home - user's home directory&lt;/li&gt;&lt;li&gt;user.dir - user's current working directory&lt;/li&gt;&lt;li&gt;java.home - java installation directory&lt;/li&gt;&lt;li&gt;jboss.server.base.dir - root directory for an individual server instance&lt;/li&gt;&lt;li&gt;jboss.server.data.dir - directory the server will use for persistent data file storage&lt;/li&gt;&lt;li&gt;jboss.server.log.dir - directory the server will use for log file storage&lt;/li&gt;&lt;li&gt;jboss.server.tmp.dir - directory the server will use for temporary file storage&lt;/li&gt;&lt;li&gt;jboss.domain.servers.dir - directory under which a host controller will create the working area for individual server instances&lt;/li&gt;&lt;/ul&gt;",                         "required" =&gt; false                         "operation-name" =&gt; "add",                         "description" =&gt; "Add a new 'path' child",                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'name' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'path' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'relative-to' attribute",                                 "required" =&gt; false,                                 "min-length" =&gt; 1,                                 "nillable" =&gt; true                         "operation-name" =&gt; "remove",                         "description" =&gt; "Remove a 'path' child",                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'name' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1                         "operation-name" =&gt; "setPath",                         "description" =&gt; "Set the value of the 'path' attribute",                                 "type" =&gt; STRING,                                 "description" =&gt; "The new value of the 'path' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1                         "operation-name" =&gt; "setRelativeTo",                         "description" =&gt; "Set the value of the 'relative-to' attribute",                                 "type" =&gt; STRING,                                 "description" =&gt; "The new value of the 'relative-to' attribute",                                 "required" =&gt; true,                                 "nillable" =&gt; true             "description" =&gt; "A list of system properties to set on all servers on the host.",             "min-occurs" =&gt; 0             "model-description" =&gt; "TODO"             "description" =&gt; "A list of fully specified named network interfaces available for use on the host.",             "min-occurs" =&gt; 0             "model-description" =&gt; "TODO"             "description" =&gt; "A list of Java Virtual Machine configurations that can be applied ot servers on the host.",             "min-occurs" =&gt; 0             "model-description" =&gt; "TODO"             "description" =&gt; "Host-level configurations for the servers that can run on this host.",             "min-occurs" =&gt; 0             "description" =&gt; "Servers currently running on the host",             "min-occurs" =&gt; 0             "model-description" =&gt; "TODO"</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Detyped Description of the AS 7 Management Model</header>
    <body>h3. Deprecated, instead see https://docs.jboss.org/author/display/AS71/Description+of+the+Management+Model for 7.1 or, for 7.2, https://docs.jboss.org/author/display/AS72/Description+of+the+Management+Model. AS 7's management API will naturally include the ability for clients to query the management system to discover meta-information about the management model; i.e. what resources are available and what attributes and operations they expose. These details will be returned in a detyped form, either using the  https://github.com/jbossas/jboss-dmr jboss-dmr library or JSON. (A JMX interface based on open mbeans will also be provided; most concepts in this article map naturally to JMX.) The purpose of this article is to describe the detyped representation of the API. Readers are encouraged to look at the example detyped descriptions of parts of the management API at the bottom before reading the details. Before getting into the details of the meta-information, first a couple quick examples on how to access it. h5. Reading Management Model Descriptions via the raw Management API The client must have maven artifact org.jboss.as:jboss-as-controller-client and its dependencies on the classpath. 1) Create a management client that can connect to your target process's native management socket (which can be an individual standalone mode server, or, in a domain mode environment, the Domain Controller or any Host Controller: The address and port are what is configured in the target process' &lt;management-apis&gt;&lt;native-api.../&gt; element. 2) Create an operation request object using the org.jboss.dmr.ModelNode class: See   https://community.jboss.org/docs/DOC-16336 http://community.jboss.org/docs/DOC-16336 for basic background on the format of an operation request. The key thing here is we are executing the "read-resource-description" operation. That operation can be targetted at any address in the management model; here we are targetting it at the resource for the web subsystem's http connector. The request includes two optional parameters: * recursive -- true means you want the description of child resources under this resource. Default is false * operations -- true means you want the description of operations exposed by the resource to be included. Default is false. 3) Execute the operation and manipulate the result: See  https://community.jboss.org/docs/DOC-16354 http://community.jboss.org/docs/DOC-16354 for general details on the structure of the "returnVal" ModelNode. h5. Reading Management Model Descriptions via the CLI See  https://community.jboss.org/docs/DOC-16581 http://community.jboss.org/docs/DOC-16581 for basics on using the CLI. Once you've launched the CLI the syntax for the command shown above would be: [localhost:9999 /] /subsystem=web/connector=http:read-resource-description(recursive=true,operations=true) h3. h3. Description of addressable portions of the management model All portions of the management model exposed by AS 7 are addressable via an ordered list of key/value pairs. For each addressable portion of the model, the following descriptive information will be available: * description -- String -- text description of this portion of the model * head-comment-allowed -- boolean -- indicates whether this portion of the model can store an XML comment that would be written in the persistent form of the model (e.g. domain.xml) before the start of the XML element that represents this portion of the model. This item is optional, and if not present defaults to true. +*(Note: storing XML comments in the in-memory model is not currently supported and likely will not be supported in AS 7.1. This description key is for future use.)*+ * tail-comment-allowed -- boolean -- similar to head-comment-allowed, but indicates whether a comment just before the close of the XML element is supported. A tail comment can only be supported if the element has child elements, in which case a comment can be inserted between the final child element and the element's closing tag. This item is optional, and if not present defaults to true. +*(Note: storing XML comments in the in-memory model is not currently supported and likely will not be supported in AS 7.1. This description key is for future use.)*+ * attributes -- Map of String (the attribute name) to complex structure -- the configuration attributes available in this portion of the model. See below for the representation of each attribute. * operations -- Map of String (the operation name) to complex structure -- the operations that can be targetted at this address. See below for the representation of each operation. * children -- Map of String (the type of child) to complex structure -- the relationship of this portion of the model to other addressable portions of the model. See below for the representation of each child relationship.      "description =&gt; "A managable resource",      "tail-comment-allowed" =&gt; false,                .... details of attribute foo                .... details of the start operation                .... details of the relationship with children of type "bar" h4. Description of an Attribute An attribute is a portion of the management model that is not directly addressable. Instead, it is conceptually a property of an addressable part of the model. For each attribute portion of the model, the following descriptive information will be available: * description -- String -- text description of the attribute * type -- org.jboss.dmr.ModelType -- the type of the attribute value. One of the enum values BIG_DECIMAL, BIG_INTEGER, BOOLEAN, BYTES, DOUBLE, INT, LIST, LONG, OBJECT, PROPERTY, STRING. Most of these are self-explanatory. An OBJECT will be represented in the detyped model as a map of string keys to values of some other legal type, conceptually similar to a javax.management.openmbean.CompositeData. A PROPERTY is a single key/value pair, where the key is a string, and the value is of some other legal type. * value-type -- ModelType or complex structure -- Only present if type is LIST or OBJECT. If type is LIST or all the values of the OBJECT type are of the same type, this will be one of the ModelType enums  BIG_DECIMAL, BIG_INTEGER, BOOLEAN, BYTES, DOUBLE, INT,  LONG, STRING. Otherwise, value-type will detail the structure of the attribute value, enumerating the value's fields and the type of their value. * required -- boolean -- true if the attribute will always exist in a representation of its portion of the model; false if it may not (implying a null value.) If not present, true is the default. * storage -- String -- Either "configuration" or "runtime". If "configuration" it means the attribute's value is stored as part of the persistent configuration (e.g. in domain.xml, host.xml or standalone.xml.) If "runtime" the attribute's value is not stored in the persistent configuration; the value only exists as long as the resource is running. * access-type -- String -- One of "read-only", "read-write" or "metric". Whether an attribute value can be written, or can only read. A "metric" is a read-only attribute whose value is not stored in the persistent configuration, and whose value may change due to activity on the server. If an attribute is "read-write", the resource will expose an operation named "write-attribute" whose "name" parameter will accept this attribute's name and whose "value" parameter will accept a valid value for this attribute. That operation will be the standard means of updating this attribute's value. * restart-required -- String -- One of "no-services", "all-services", "resource-services" or "jvm". Only relevant to attributes whose access-type is read-write. Indicates whether execution of a write-attribute operation whose name parameter specifies this attribute requires a restart of services (or an entire JVM) in order for the change to take effect in the runtime . See discussion of "Applying Updates to Runtime Services" below.  Default value is "no-services". * alternatives -- List of string -- Indicates an exclusive relationship between attributes. If this attribute is defined, the other attributes listed in this descriptor's value should be undefined (even if their required descriptor says true; i.e. the presence of this attribute satisfies the requirement.) Default is undefined; i.e. this does not apply to most attributes. * requires -- List of string -- Indicates that if this attribute has a value (other than undefined), the other attributes listed in this descriptor's value must also have a value, even if their required descriptor says false. This would typically be used in conjunction with alternatives. For example, attributes "a" and "b" are required, but are alternatives to each other; "c" and "d" are optional. But "b" requires "c" and "d", so if "b" is used, "c" and "d" must also be defined. Default is undefined; i.e. this does not apply to most attributes. * head-comment-allowed -- boolean -- indicates whether the model can store an XML comment that would be written in the persistent form of the model (e.g. domain.xml) before the start of the XML element that represents this attribute. This item is optional, and if not present defaults to *false*. (This is a different default from is used for an addressable portion of the model, since model attributes often map to XML attributes, which don't allow comments.) +*(Note: storing XML comments in the in-memory model is not currently supported and likely will not be supported in AS 7.1. This description key is for future use.)*+ * tail-comment-allowed -- boolean -- similar to head-comment-allowed, but indicates whether a comment just before the close of the XML element is supported. A tail comment can only be supported if the element has child elements, in which case a comment can be inserted between the final child element and the element's closing tag. This item is optional, and if not present defaults to *false*. (This is a different default from is used for an addressable portion of the model, since model attributes often map to XML attributes, which don't allow comments.) +*(Note: storing XML comments in the in-memory model is not currently supported and likely will not be supported in AS 7.1. This description key is for future use.)*+ * arbitrary key/value pairs that further describe the attribute value, e.g. "max" =&gt; 2. See "Arbitrary Descriptors" below.      "description" =&gt; "The foo",      "type" =&gt; INT,      "max" =&gt; 2      "description" =&gt; "The bar",      "type" =&gt; OBJECT,           "size" =&gt; INT,           "color" =&gt; STRING h3. Description of an Operation An addressable portion of the model may have operations associated with it. The description of an operation will include the following information: * operation-name -- String -- the name of the operation * description -- String -- text description of the operation * request-properties -- Map of String to complex structure -- description of the parameters of the operation. Keys are the names of the parameters, values are descriptions of the parameter value types. See below for details on the description of parameter value types. * reply-properties -- complex structure, or empty -- description of the return value of the operation, with an empty node meaning void. * restart-required -- String -- One of "no-services", "all-services", "resource-services" or "jvm". Indicates whether the operation makes a configuration change that requires a restart of services (or an entire JVM) in order for the change to take effect in the runtime. See discussion of "Applying Updates to Runtime Services" below.  Default value is "no-services". h4. Description of an Operation Parameter or Return Value * description -- String -- text description of the parameter or return value * type -- org.jboss.dmr.ModelType -- the type of the parameter or return value. One of the enum values BIG_DECIMAL, BIG_INTEGER, BOOLEAN, BYTES, DOUBLE, INT, LIST, LONG, OBJECT, PROPERTY, STRING. * value-type -- ModelType or complex structure -- Only present if type is LIST or OBJECT. If type is LIST or all the values of the OBJECT type are of the same type, this will be one of the ModelType enums  BIG_DECIMAL, BIG_INTEGER, BOOLEAN, BYTES, DOUBLE, INT, LIST, LONG, PROPERTY, STRING. Otherwise, value-type will detail the structure of the attribute value, enumerating the value's fields and the type of their value. * value-type -- ModelType or complex structure -- Only present if type is LIST or OBJECT. If type is LIST or all the values of the OBJECT type are of the same type, this will be one of the ModelType enums  BIG_DECIMAL, BIG_INTEGER, BOOLEAN, BYTES, DOUBLE, INT,  LONG, STRING. Otherwise, value-type will detail the structure of the attribute value, enumerating the value's fields and the type of their value. * required -- boolean -- Only relevant to parameters. true if the parameter must be present in the request object used to invoke the operation; false if it can omitted. If not present, true is the default. * nillable -- boolean -- true if null is a valid value.  If not present, false is the default. * restart-required -- String -- One of "no-services", "all-services", "resource-services" or "jvm". Only relevant to attributes whose access-type is read-write. Indicates whether execution of a write-attribute operation whose name parameter specifies this attribute requires a restart of services (or an entire JVM) in order for the change to take effect in the runtime . See discussion of "Applying Updates to Runtime Services" below.  Default value is "no-services". * alternatives -- List of string -- Indicates an exclusive relationship between parameters. If this attribute is defined, the other parameters listed in this descriptor's value should be undefined (even if their required descriptor says true; i.e. the presence of this parameter satisfies the requirement.) Default is undefined; i.e. this does not apply to most parameters. * requires -- List of string -- Indicates that if this parameter has a value (other than undefined), the other parameters listed in this descriptor's value must also have a value, even if their required descriptor says false. This would typically be used in conjunction with alternatives. For example, parameters "a" and "b" are required, but are alternatives to each other; "c" and "d" are optional. But "b" requires "c" and "d", so if "b" is used, "c" and "d" must also be defined. Default is undefined; i.e. this does not apply to most parameters. * arbitrary key/value pairs that further describe the attribute value, e.g. "max" =&gt;2. See "Arbitrary Descriptors" below.      "operation-name" =&gt; "incrementFoo",      "description" =&gt; "Increase the value of the 'foo' attribute by the given amount",                "type" =&gt; INT,                "description" =&gt; "The amount to increment",                "required" =&gt; true                "type" =&gt; INT,                "description" =&gt; "The new value",      "operation-name" =&gt; "start",      "description" =&gt; "Starts the thing", h2. Arbitrary Descriptors The description of an attribute, operation parameter or operation return value type can include arbitrary key/value pairs that provide extra information. Whether a particular key/value pair is present depends on the context, e.g. a pair with key "max" would probably only occur as part of the description of some numeric type. Following are standard keys and their expected value type. If descriptor authors want to add an arbitrary key/value pair to some descriptor and the semantic matches the meaning of one of the following items, the standard key/value type must be used. * min -- int -- the minimum value of some numeric type. The absence of this item implies there is no minimum value. * max -- int -- the maximum value of some numeric type. The absence of this item implies there is no maximum value. * min-length -- int -- the minimum length of some string, list or byte[] type. The absence of this item implies a minimum length of zero. * max-length -- int -- the maximum length of some string, list or byte[]. The absence of this item implies there is no maximum value. * nillable -- boolean -- whether null is a legal value. The absence of this item implies false; i.e. null is not a legal value. * allowed -- List -- a list of legal values. The type of the elements in the list should match the type of the attribute. * default -- the default value for the attribute if not present in the model * unit - The unit of the value - e.g. ns, ms, s, m, h, KB, MB, TB. See *Measurement Units* below. h4. Measurement Units Wherever possible, the description of an attribute, operation parameter or operation return value should include the unit arbitrary descriptor. Valid values for this descriptor are: // Simple Unit Types NONE PERCENTAGE // Absolute Sizes in Bytes (utilization) BYTES KILOBYTES MEGABYTES GIGABYTES TERABYTES PETABYTES // Absolute Sizes in Bits (throughput) BITS KILOBITS MEGABITS GIGABITS TERABITS PETABITS // Absolute Time - no display, only hints to the UI how to display EPOCH_MILLISECONDS EPOCH_SECONDS // Relative Time JIFFYS NANOSECONDS MICROSECONDS MILLISECONDS SECONDS MINUTES HOURS DAYS // Rate PER_JIFFY PER_NANOSECOND PER_MICROSECOND PER_MILLISECOND PER_SECOND PER_MINUTE PER_HOUR PER_DAY // Temperature CELSIUS KELVIN FAHRENHEIGHT Legal values are listed in the  https://github.com/jbossas/jboss-as/blob/master/controller-client/src/main/java/org/jboss/as/controller/client/helpers/MeasurementUnit.java MeasurementUnit enum. This enum is in the controller-client package, and is thus usable by java-based management clients. h2. Description of Parent/Child Relationships The address used to target an addressable portion of the model must be an ordered list of key value pairs. The effect of this requirement is the addressable portions of the model naturally form a tree structure, with parent nodes in the tree defining what the valid keys are and the children defining what the valid values are. The parent node also defines the cardinality of the relationship. The description of the parent node includes a children element that describes these relationships:      ....                .... description of the relationship with children of type "connector"                .... description of the relationship with children of type "virtual-host" The description of each relationship will include the following elements: * description -- String -- text description of the relationship * min-occurs -- int, either 0 or 1 -- Minimum number of children of this type that must exist in a valid model. If not present, the default value is 0. * max-occurs -- int -- Maximum number of children of this type that may exist in a valid model. If not present, the default value is Integer.MAX_VALUE, i.e. there is no limit. * allowed -- List of strings -- legal values for children names. If not present, there is no restriction on children names. * model-description -- either "undefined" or a complex structure -- This is the full description of the child resource (its text description, attributes, operations, children) as detailed above. This may also be "undefined", i.e. a null value, if the query that asked for the parent node's description did not include the "recursive" param set to true. Example with if the recursive flag was set to true:      "description" =&gt; "The connectors used to handle client connections",      "min-occurs" &gt; 1,           "description" =&gt; "Handles client connections",                ... details of children as documented above                .... details of operations as documented above                .... details of the children's children If the recursive flag was false:      "description" =&gt; "The connectors used to handle client connections",      "min-occurs" &gt; 1,      "model-description" =&gt; undefined h2. Applying Updates to Runtime Services An attribute or operation description may include a "restart-required" descriptor; this section is an explanation of the meaning of that descriptor. An operation that changes a management resource's persistent configuration usually can also also affect a runtime service associated with the resource. For example, there is a runtime service associated with any host.xml or standalone.xml &lt;interface&gt; element; other services in the runtime depend on that service to provide the InetAddress associated with the interface. In many cases, an update to a resource's persistent configuration can be immediately applied to the associated runtime service. The runtime service's state is updated to reflect the new value(s). However, in many cases the runtime service's state cannot be updated without restarting the service. Restarting a service can have broad effects. A restart of a service A will trigger a restart of other services B, C and D that depend A, triggering a restart of services that depend on B, C and D, etc. Those service restarts may very well disrupt handling of end-user requests. Because restarting a service can be disruptive to end-user request handling, the handlers for management operations will not restart any service without some form of explicit instruction from the end user indicating a service restart is desired. In a few cases, simply executing the operation is an indication the user wants services to restart (e.g. a /host=master/server-config=server-one:restart operation in a managed domain, or a /:reload operation on a standalone server.) For al other cases, if an operation (or attribute write) cannot be performed without restarting a service, the metadata describing the operation or attribute will include a "restart-required" descriptor whose value indicates what is necessary for the operation to affect the runtime: * no-services -- Applying the operation to the runtime does not require the restart of any services. This value is the default if the restart-required descriptor is not present. * all-services -- The operation can only immediately update the persistent configuration; applying the operation to the runtime will require a subsequent restart of all services in the affected VM. Executing the operation will put the server into a "reload-required" state. Until a restart of all services is performed the response to this operation and to any subsequent operation will include a response header "process-state" =&gt; "reload-required". For a standalone server, a restart of all services can be accomplished by executing the /:reload CLI command. For a server in a managed domain, restarting all services currently requires a full restart of the affected server VM (e.g. /host=master/server-config=server-one:restart). * jvm --The operation can only immediately update the persistent configuration; applying the operation to the runtime will require a full process restart (i.e. stop the JVM and launch a new JVM). Executing the operation will put the server into a "restart-required" state. Until a restart is performed the response to this operation and to any subsequent operation will include a response header "process-state" =&gt; "restart-required". For a standalone server, a full process restart requires first stopping the server via OS-level operations (Ctrl-C, kill) or via the /:shutdown CLI command, and then starting the server again from the command line. For a server in a managed domain, restarting a server requires executing the /host=&lt;host&gt;/server-config=&lt;server&gt;:restart operation. * resource-services -- The operation can only immediately update the persistent configuration; applying the operation to the runtime will require a subsequent restart of some services associated with the resource. If the operation includes the request header "allow-resource-service-restart" =&gt; true, the handler for the operation will go ahead and restart the runtime service. Otherwise executing the operation will put the server into a "reload-required" state. (See the discussion of "all-services" above for more on the "reload-required" state.) h2. Example Representation of a Portion of the Domain Controller API     "description" =&gt; "The root node of the domain-level management model.",             "type" =&gt; OBJECT,             "value-type" =&gt; STRING,             "description" =&gt; "Map of namespaces used in the configuration XML document, where keys are namespace prefixes and values are schema URIs.",             "required" =&gt; false             "type" =&gt; OBJECT,             "value-type" =&gt; STRING,             "description" =&gt; "Map of locations of XML schemas used in the configuration XML document, where keys are schema URIs and values are locations where the schema can be found.",             "required" =&gt; false     "operations" =&gt; "TODO",             "description" =&gt; "A list of extension modules.",             "model-description" =&gt; "TODO"             "description" =&gt; "A list of named filesystem paths. The paths may or may not be fully specified (i.e. include the actual paths.)",                 "description" =&gt; "A named filesystem path, but without a requirement to specify the actual path. If no actual path is specified, acts as a placeholder in the model (e.g. at the domain level) until a fully specified path definition is applied at a lower level (e.g. at the host level, where available addresses are known.)",                 "tail-comment-allowed" =&gt; false,                         "type" =&gt; STRING,                         "description" =&gt; "The name of the path. Cannot be one of the standard fixed paths provided by the system: &lt;ul&gt;&lt;li&gt;jboss.home - the root directory of the JBoss AS distribution&lt;/li&gt;&lt;li&gt;user.home - user's home directory&lt;/li&gt;&lt;li&gt;user.dir - user's current working directory&lt;/li&gt;&lt;li&gt;java.home - java installation directory&lt;/li&gt;&lt;li&gt;jboss.server.base.dir - root directory for an individual server instance&lt;/li&gt;&lt;/ul&gt; Note that the system provides other standard paths that can be overridden by declaring them in the configuration file. See the 'relative-to' attribute documentation for a complete list of standard paths.",                         "required" =&gt; true                         "type" =&gt; STRING,                         "description" =&gt; "The actual filesystem path. Treated as an absolute path, unless the 'relative-to' attribute is specified, in which case the value is treated as relative to that path. &lt;p&gt;If treated as an absolute path, the actual runtime pathname specified by the value of this attribute will be determined as follows: &lt;/p&gt;If this value is already absolute, then the value is directly used.  Otherwise the runtime pathname is resolved in a system-dependent way.  On UNIX systems, a relative pathname is made absolute by resolving it against the current user directory. On Microsoft Windows systems, a relative pathname is made absolute by resolving it against the current directory of the drive named by the pathname, if any; if not, it is resolved against the current user directory.",                         "required" =&gt; false,                         "min-length" =&gt; 1                         "type" =&gt; STRING,                         "description" =&gt; "The name of another previously named path, or of one of the standard paths provided by the system. If 'relative-to' is provided, the value of the 'path' attribute is treated as relative to the path specified by this attribute. The standard paths provided by the system include:&lt;ul&gt;&lt;li&gt;jboss.home - the root directory of the JBoss AS distribution&lt;/li&gt;&lt;li&gt;user.home - user's home directory&lt;/li&gt;&lt;li&gt;user.dir - user's current working directory&lt;/li&gt;&lt;li&gt;java.home - java installation directory&lt;/li&gt;&lt;li&gt;jboss.server.base.dir - root directory for an individual server instance&lt;/li&gt;&lt;li&gt;jboss.server.data.dir - directory the server will use for persistent data file storage&lt;/li&gt;&lt;li&gt;jboss.server.log.dir - directory the server will use for log file storage&lt;/li&gt;&lt;li&gt;jboss.server.tmp.dir - directory the server will use for temporary file storage&lt;/li&gt;&lt;li&gt;jboss.domain.servers.dir - directory under which a host controller will create the working area for individual server instances&lt;/li&gt;&lt;/ul&gt;",                         "required" =&gt; false                         "operation-name" =&gt; "add",                         "description" =&gt; "Add a new 'path' child",                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'name' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1,                                 "nillable" =&gt; false                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'path' attribute",                                 "required" =&gt; false,                                 "min-length" =&gt; 1,                                 "nillable" =&gt; true                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'relative-to' attribute",                                 "required" =&gt; false,                                 "min-length" =&gt; 1,                                 "nillable" =&gt; true                         "operation-name" =&gt; "remove",                         "description" =&gt; "Remove a 'path' child",                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'name' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1,                                 "nillable" =&gt; false                         "operation-name" =&gt; "setPath",                         "description" =&gt; "Set the value of the 'path' attribute",                                 "type" =&gt; STRING,                                 "description" =&gt; "The new value of the 'path' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1,                                 "nillable" =&gt; true                         "operation-name" =&gt; "setRelativeTo",                         "description" =&gt; "Set the value of the 'relative-to' attribute",                                 "type" =&gt; STRING,                                 "description" =&gt; "The new value of the 'relative-to' attribute",                                 "required" =&gt; true,                                 "nillable" =&gt; true             "description" =&gt; "A list of profiles available for use in the domain",             "min-occurs" =&gt; 1,                 "description" =&gt; "A named set of subsystem configurations.",                         "type" =&gt; STRING,                         "description" =&gt; "The name of the profile",                         "required" =&gt; true,                         "min-length" =&gt; 1                         "description" =&gt; "The subsystems that make up the profile.",                         "min-occurs" =&gt; 1,                             "description" =&gt; "Specifies that a contents of a named profile are to be included in the profile whose definition includes this item.",                             "head-comment-allowed" =&gt; true,                             "tail-comment-allowed" =&gt; false,                                     "type" =&gt; LIST,                                     "description" =&gt; "The name of the included profile",                                     "required" =&gt; true,                                     "value-type" =&gt; STRING                             "operations" =&gt; "TODO"             "description" =&gt; "A list of named network interfaces available for use in the domain. The interfaces may or may not be fully specified (i.e. include criteria on how to determine their IP address.",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO"             "description" =&gt; "A list of socket binding groups available for use in the domain",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO"             "description" =&gt; "A list of system properties to set on all servers in the domain.",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO"             "description" =&gt; "A list of deployments available for use in the domain",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO"             "description" =&gt; "A list of server groups available for use in the domain",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO"             "description" =&gt; "Host controllers currently running in the domain",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO" h2. Example Representation of a Portion of the Host Controller API     "description" =&gt; "The root node of the host-level management model.",             "type" =&gt; OBJECT,             "value-type" =&gt; STRING,             "description" =&gt; "Map of namespaces used in the configuration XML document, where keys are namespace prefixes and values are schema URIs.",             "required" =&gt; false             "type" =&gt; OBJECT,             "value-type" =&gt; STRING,             "description" =&gt; "Map of locations of XML schemas used in the configuration XML document, where keys are schema URIs and values are locations where the schema can be found.",             "required" =&gt; false             "description" =&gt; "Configuration of the host's management system.",             "type" =&gt; OBJECT,                     "type" =&gt; STRING,                     "description" =&gt; "Interface on which the host's socket for intra-domain management communication should be opened.",                     "required" =&gt; false                     "type" =&gt; STRING,                     "description" =&gt; "Port on which the host's socket for intra-domain management communication should be opened.",                     "required" =&gt; false             "required" =&gt; true,             "head-comment-allowed" =&gt; true             "description" =&gt; "Configuration of how the host should interact with the Domain Controller",             "type" =&gt; OBJECT,             "value-type" =&gt; "TODO",             "required" =&gt; true,             "head-comment-allowed" =&gt; true,             "tail-comment-allowed" =&gt; true             "operation-name" =&gt; "start-server",             "description" =&gt; "Start a server.",                     "type" =&gt; STRING,                     "description" =&gt; "The name of the server.",                     "required" =&gt; true,                     "min-length" =&gt; 1                 "type" =&gt; STRING,                 "description" =&gt; "The status of the server following execution of this operation."             "operation-name" =&gt; "restart-server",             "description" =&gt; "Restart a currently running server.",                     "type" =&gt; STRING,                     "description" =&gt; "The name of the server.",                     "required" =&gt; true,                     "min-length" =&gt; 1                 "type" =&gt; STRING,                 "description" =&gt; "The status of the server following execution of this operation."             "operation-name" =&gt; "stop-server",             "description" =&gt; "Stop a currently running server.",                     "type" =&gt; STRING,                     "description" =&gt; "The name of the server.",                     "required" =&gt; true,                     "min-length" =&gt; 1                 "type" =&gt; STRING,                 "description" =&gt; "The status of the server following execution of this operation."             "description" =&gt; "A list of extension modules.",             "min-occurs" =&gt; 0,             "model-description" =&gt; "TODO"             "description" =&gt; "A list of named filesystem paths.",             "min-occurs" =&gt; 0,                 "description" =&gt; "A named filesystem path, but without a requirement to specify the actual path. If no actual path is specified, acts as a placeholder in the model (e.g. at the domain level) until a fully specified path definition is applied at a lower level (e.g. at the host level, where available addresses are known.)",                 "tail-comment-allowed" =&gt; false,                         "type" =&gt; STRING,                         "description" =&gt; "The name of the path. Cannot be one of the standard fixed paths provided by the system: &lt;ul&gt;&lt;li&gt;jboss.home - the root directory of the JBoss AS distribution&lt;/li&gt;&lt;li&gt;user.home - user's home directory&lt;/li&gt;&lt;li&gt;user.dir - user's current working directory&lt;/li&gt;&lt;li&gt;java.home - java installation directory&lt;/li&gt;&lt;li&gt;jboss.server.base.dir - root directory for an individual server instance&lt;/li&gt;&lt;/ul&gt; Note that the system provides other standard paths that can be overridden by declaring them in the configuration file. See the 'relative-to' attribute documentation for a complete list of standard paths.",                         "required" =&gt; true                         "type" =&gt; STRING,                         "description" =&gt; "The actual filesystem path. Treated as an absolute path, unless the 'relative-to' attribute is specified, in which case the value is treated as relative to that path. &lt;p&gt;If treated as an absolute path, the actual runtime pathname specified by the value of this attribute will be determined as follows: &lt;/p&gt;If this value is already absolute, then the value is directly used.  Otherwise the runtime pathname is resolved in a system-dependent way.  On UNIX systems, a relative pathname is made absolute by resolving it against the current user directory. On Microsoft Windows systems, a relative pathname is made absolute by resolving it against the current directory of the drive named by the pathname, if any; if not, it is resolved against the current user directory.",                         "required" =&gt; true,                         "min-length" =&gt; 1                         "type" =&gt; STRING,                         "description" =&gt; "The name of another previously named path, or of one of the standard paths provided by the system. If 'relative-to' is provided, the value of the 'path' attribute is treated as relative to the path specified by this attribute. The standard paths provided by the system include:&lt;ul&gt;&lt;li&gt;jboss.home - the root directory of the JBoss AS distribution&lt;/li&gt;&lt;li&gt;user.home - user's home directory&lt;/li&gt;&lt;li&gt;user.dir - user's current working directory&lt;/li&gt;&lt;li&gt;java.home - java installation directory&lt;/li&gt;&lt;li&gt;jboss.server.base.dir - root directory for an individual server instance&lt;/li&gt;&lt;li&gt;jboss.server.data.dir - directory the server will use for persistent data file storage&lt;/li&gt;&lt;li&gt;jboss.server.log.dir - directory the server will use for log file storage&lt;/li&gt;&lt;li&gt;jboss.server.tmp.dir - directory the server will use for temporary file storage&lt;/li&gt;&lt;li&gt;jboss.domain.servers.dir - directory under which a host controller will create the working area for individual server instances&lt;/li&gt;&lt;/ul&gt;",                         "required" =&gt; false                         "operation-name" =&gt; "add",                         "description" =&gt; "Add a new 'path' child",                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'name' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'path' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'relative-to' attribute",                                 "required" =&gt; false,                                 "min-length" =&gt; 1,                                 "nillable" =&gt; true                         "operation-name" =&gt; "remove",                         "description" =&gt; "Remove a 'path' child",                                 "type" =&gt; STRING,                                 "description" =&gt; "The value of the path's 'name' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1                         "operation-name" =&gt; "setPath",                         "description" =&gt; "Set the value of the 'path' attribute",                                 "type" =&gt; STRING,                                 "description" =&gt; "The new value of the 'path' attribute",                                 "required" =&gt; true,                                 "min-length" =&gt; 1                         "operation-name" =&gt; "setRelativeTo",                         "description" =&gt; "Set the value of the 'relative-to' attribute",                                 "type" =&gt; STRING,                                 "description" =&gt; "The new value of the 'relative-to' attribute",                                 "required" =&gt; true,                                 "nillable" =&gt; true             "description" =&gt; "A list of system properties to set on all servers on the host.",             "min-occurs" =&gt; 0             "model-description" =&gt; "TODO"             "description" =&gt; "A list of fully specified named network interfaces available for use on the host.",             "min-occurs" =&gt; 0             "model-description" =&gt; "TODO"             "description" =&gt; "A list of Java Virtual Machine configurations that can be applied ot servers on the host.",             "min-occurs" =&gt; 0             "model-description" =&gt; "TODO"             "description" =&gt; "Host-level configurations for the servers that can run on this host.",             "min-occurs" =&gt; 0             "description" =&gt; "Servers currently running on the host",             "min-occurs" =&gt; 0             "model-description" =&gt; "TODO"</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>thank u!! you are the only person who's responded with some information!!  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - getHandle() equivalant in	EJB3</header>
    <body>Hello All, I am trying to migrate an ejb 1.1 app from weblogic to ejb 3.1 JBoss 7.1, and I am currently trying to find the equivalant of the getHandle() call for EJB3 spec. In the 1.1 app the handle is serialized to file, in the event that the client lost their connection to the server, the handle is deserialized and used to connect to the same session bean which will be in the same state it was last left at instead of starting from scratch. The getHandle() is not available in the EJB3 spec, is there another equivalant of this? I have tried serializing the remote proxy, but it didn't help. Is there a work around for this issue. ta.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Design of JBoss Web Services] - Jboss	SOAPElementSerializer error</header>
    <body>ERROR [RequestHandlerImpl] Error processing web service request org.jboss.ws.WSException: org.jboss.xb.binding.JBossXBRuntimeException: Failed to find read method or field for property 'resultList' in class org.jboss.ws.core .soap.SOAPBodyElementDoc lerImpl.java:325) .java:201) HandlerImpl.java:134) :84) ....... Caused by: org.jboss.xb.binding.JBossXBRuntimeException: Failed to find read method or field for property 'resultList' in class org.jboss.ws.core.soap.SOAPBodyElementDoc ava:82) ava:155) arshallerImpl.java:1267) rshallerImpl.java:1257)..... ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Design of POJO Server] - Removal of</header>
    <body>| r82675 | dimitris at jboss.org | 2009-01-07 13:31:28 -0500 (Wed, 07 Jan 2009) | 1 line | | create branch 5_x | ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: possible bad side effects from change to AbstractConnectionManager</header>
    <body>Thanks for looking into this. When you say the requests, are you referring to the requests for a connection? When mysql shows the connection as sleeping, but we still get the error, unable to retrieve managed connection, does that mean something is holding on to the connection?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: possible bad side effects from change to AbstractConnectionManager</header>
    <body>You have &lt;max-pool-size&gt; at 1 - it doesn't matter how many the connections the database is configured for. Your log shows that the app gives up after 30 seconds to get a connection, which is default. Your prefill at true doesn't do anything, since your &lt;min-pool-size&gt; is 0. http://docs.jboss.org/ironjacamar/userguide/1.0/en-US/html/deployment.html#deployingds_descriptor http://docs.jboss.org/ironjacamar/userguide/1.0/en-US/html/deployment.html#deployingds_descriptor</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: possible bad side effects from change to AbstractConnectionManager</header>
    <body>Very true, the prefill is left over from other configs -- useless in this test. I did try increasing the blocking-timeout (default 30), but it just waits longer to timeout. It seems stable and working with the increased number of connections.  I am curious about that one connection, but it's ok for now. Thanks for your help.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS7 getting slower</header>
    <body>Hello, we have a real strange behavoir, which can´t be profiled with JProfiler cause it looks like a blocking inside JBoss before passing by any requests to our app. We are using a .WAR with Seam 2, JSF 1.2 (JSF 2.0 excluded in AS7), Richfaces 3.3.3 and Hibernate and C3P0, so a classic combination. In the past we were using Tomcat with embedded JBoss as our Application server without any problems. Now we tried to switch to AS7 and we have the strange the behavoir that with about 30 users and 2sec. think time our webapp is getting really slow and we have minutes of response time but also after stopping our stress test jboss as7 is still really slow, also returning back static resources like images is quite slow but CPU / memory is fine. Same .war on Glassfish or Tomcat with embedded Jboss is running without any problems. Are the any known issues cause of JSF 1.2 downgrade? or any other suggestions? Thanks alot for any help and if you need further informations just ask. Thnx René</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>Hi, what is exact version of AS you are using and also what is exact version of jsf impl you have?. also can you post out put of jar tf &lt;name-of-your-deployment&gt; so we can see what you have in your app. -- tomaz</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>Hi, okay I will try my best to give as much infos as possible. So Java 1.7 64bit with these options ===============================================================================   JBoss Bootstrap Environment   JBOSS_HOME: D:\Jboss\FiposGliLast   JAVA: C:\Program Files\Java\jdk7\bin\java   JAVA_OPTS: -XX:+TieredCompilation -Dprogram.name=standalone.bat -Xmx8g -XX:MaxPermSize=512M -server -XX:+UseG1GC -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc. k=true -Dorg.jboss.resolver.warning=false -Djboss.modules.system.pkgs=org.jboss.byteman -Djboss.server.default.config=standalone.xml   =============================================================================== 21:46:55,576 INFO  [org.jboss.modules] JBoss Modules version 1.1.1.GA 21:46:55,960 INFO  [org.jboss.msc] JBoss MSC version 1.0.2.GA 21:46:56,042 INFO  [org.jboss.as] JBAS015899: JBoss AS 7.1.1.Final "Brontes" starting 21:46:56,844 INFO  [org.xnio] XNIO Version 3.0.3.GA 21:46:56,864 INFO  [org.xnio.nio] XNIO NIO Implementation Version 3.0.3.GA 21:47:24,631 SEVERE [javax.enterprise.resource.webcontainer.jsf.application] (MSC service thread 1-24) JSF1051: Service entry 'org.jboss.as.web.deployment.jsf.JsfInjecti ovider.  Entry will be ignored. Richfaces 3.3.3 final with included JSF (I thinks it´s 1.2.12) and Seam 2.2.2 final too Here is the full .jar list, our own jars have been removed 20.12.2010  10:46            62.983 activation-1.1.jar 31.05.2012  16:18            18.432 ant-launcher.jar 31.05.2012  16:18         1.938.849 ant.jar 20.12.2010  10:45           116.205 antlr-runtime.jar 18.10.2011  15:56           281.694 bsh-2.0b4.jar 19.12.2011  13:06           610.790 c3p0-0.9.1.2.jar 12.06.2012  15:05           188.509 com.ibm.icu.base_4.4.2.v20110831.jar 09.10.2012  18:00           324.871 com.ibm.mq.jar 20.12.2010  10:45           188.671 commons-beanutils.jar 01.03.2012  18:50           232.771 commons-codec-1.6.jar 07.09.2012  16:47            24.242 commons-daemon-1.0.10.jar 20.12.2010  10:45           146.108 commons-digester.jar 04.10.2011  16:19           279.383 commons-httpclient-3.0.jar 21.06.2012  17:07           185.140 commons-io-2.4.jar 20.12.2010  10:46           261.809 commons-lang-2.4.jar 18.02.2011  14:27           284.220 commons-lang-2.6.jar 26.05.2011  17:51            60.841 commons-logging-1.1.1.jar 17.05.2011  18:48            62.103 commons-pool-1.3.jar 20.12.2010  10:45         4.366.956 core.jar 28.06.2012  13:29         3.796.846 db2jcc4.jar 20.12.2010  10:45           127.170 drools-api.jar 20.12.2010  10:45         1.158.010 drools-compiler.jar 20.12.2010  10:45         1.790.798 drools-core.jar 20.12.2010  10:45            47.197 drools-decisiontables.jar 20.12.2010  10:45            46.140 drools-templates.jar 20.12.2010  10:45           208.048 ehcache.jar 19.10.2012  16:18         1.795.936 guava-12.0.jar 18.02.2011  14:27           384.337 hessian-4.0.7.jar 20.12.2010  10:39         3.654.591 hibernate-all.jar 21.02.2011  15:47           349.959 httpclient-4.1.jar 21.02.2011  15:47           105.970 httpclient-cache-4.1.jar 21.02.2011  15:47           181.041 httpcore-4.1.jar 21.02.2011  15:47            26.813 httpmime-4.1.jar 12.09.2011  13:51            65.261 jakarta-oro-2.0.8.jar 20.12.2010  10:45           463.412 janino.jar 13.12.2012  22:01                 0 jars.txt 20.12.2010  10:45           134.652 jboss-el.jar 20.12.2010  10:45            16.160 jboss-seam-debug.jar 20.12.2010  10:45           121.171 jboss-seam-excel.jar 20.12.2010  10:45            55.097 jboss-seam-ioc.jar 20.12.2010  10:45            28.530 jboss-seam-mail.jar 20.12.2010  10:45            87.891 jboss-seam-pdf.jar 20.12.2010  10:46           101.561 jboss-seam-remoting.jar 20.12.2010  10:45           297.101 jboss-seam-ui.jar 20.12.2010  10:39         1.171.234 jboss-seam.jar 19.10.2012  17:48           109.121 jboss-vfs-3.1.0.Final.jar 20.12.2010  10:45           668.249 jbpm-jpdl.jar 13.08.2012  10:22            29.487 jcommander-1.5.jar 20.12.2010  10:45         2.005.783 jgroups.jar 19.01.2012  17:33         1.006.639 jna-3.4.0.jar 21.09.2012  20:44           157.771 jni4net.j-0.8.6.0.jar 09.10.2012  18:00         1.122.370 js-rhino-1.7R3.jar 20.12.2010  10:39           358.295 jsf-api.jar 20.12.2010  10:46           302.352 jsf-facelets.jar 20.12.2010  10:39           835.478 jsf-impl.jar 20.12.2010  10:39            15.071 jta.jar 28.08.2012  20:29           188.121 jtidy-r938.jar 20.12.2010  10:39           237.344 junit-4.8.2.jar 20.12.2010  10:45           772.495 jxl.jar 09.10.2012  18:00             8.708 keypoint.jar 26.05.2011  17:51           481.534 log4j-1.2.16.jar 20.12.2010  10:45           608.039 mvel2.jar 11.07.2012  14:08           827.942 mysql-connector-java-5.1.21-bin.jar 16.12.2011  14:09         1.989.430 Notes.jar 12.06.2012  15:05           107.304 org.eclipse.core.commands_3.6.0.I20110111-0800.jar 12.06.2012  15:05            75.422 org.eclipse.core.databinding.beans_1.2.100.I20100824-0800.jar 12.06.2012  15:05           296.142 org.eclipse.core.databinding.observable_1.4.0.I20110222-0800.jar 12.06.2012  15:05           167.962 org.eclipse.core.databinding.property_1.4.0.I20110222-0800.jar 12.06.2012  15:05           200.966 org.eclipse.core.databinding_1.4.0.I20110111-0800.jar 12.06.2012  15:05           105.540 org.eclipse.equinox.common_3.6.0.v20110110.jar 12.06.2012  15:05           272.602 org.eclipse.rap.jface.databinding_1.5.0.20110926-1702.jar 12.06.2012  15:05           936.837 org.eclipse.rap.jface_1.4.0.20110201-1534.jar 12.06.2012  15:05         1.283.199 org.eclipse.rap.rwt.q07_1.4.0.20110201-1534.jar 12.06.2012  15:05         1.287.861 org.eclipse.rap.rwt_1.4.0.20110201-1534.jar 04.10.2011  14:19           525.947 ostermillerutils_1_07_00.jar 20.12.2010  10:45           266.872 picocontainer-2.6.jar 19.01.2012  17:33           913.435 platform-3.4.0.jar 14.05.2012  14:24         1.820.323 poi-3.8-20120326.jar 14.05.2012  14:24         1.186.887 poi-scratchpad-3.8-20120326.jar 29.07.2011  12:48           539.510 postgresql-8.4-702.jdbc4.jar 09.10.2012  09:51            93.212 reflections-0.9.5.jar 20.12.2010  10:45           175.747 richfaces-api-3.3.3.Final.jar 20.12.2010  10:45         1.566.108 richfaces-impl-3.3.3.Final.jar 20.12.2010  10:45         4.443.333 richfaces-ui-3.3.3.Final.jar 17.05.2011  18:48           508.651 standard-1.0.6.jar 22.05.2012  11:31         1.891.572 swt.jar 08.08.2012  12:21           753.341 testng-6.7.jar 20.12.2010  10:39         7.526.292 thirdparty-all.jar 14.05.2012  14:24        25.706.895 tika-app-1.1.jar 22.09.2011  18:16            58.471 yjp-controller-api-redist.jar</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>Can you build from upstream and see if you still have the problem? There have been quite a few JSF and other performance fixes since 7.1.1.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>I am really sorry, but what do you mean to build from upstream?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>See: https://community.jboss.org/docs/DOC-15596 Hacking on AS7 To get the latest upstream build, go to  https://ci.jboss.org/jenkins/job/JBoss-AS-7.x-latest/ https://ci.jboss.org/jenkins/job/JBoss-AS-7.x-latest/ Stan</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>You should also be able to download a nightly build from  http://hudson.jboss.org/hudson/view/AS7/job/as7-master-build/ http://hudson.jboss.org/hudson/view/AS7/job/as7-master-build/</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>Okay thanks, I will try both tomorrow and give it a try. But could JSF 1.2 really be the problem? Do you know any similar performance issues?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>Yes, JSF mojarra impl has known performance issues. btw, i would cleanup your deployment a bit. get rid of: 20.12.2010  10:46            62.983 activation-1.1.jar &lt;-- part of jdk 31.05.2012  16:18            18.432 ant-launcher.jar &lt;-- build tool? 31.05.2012  16:18         1.938.849 ant.jar &lt;-- build tool? probably mistake 19.12.2011  13:06           610.790 c3p0-0.9.1.2.jar &lt;-- you probably dont need that as you use app server's pooling 20.12.2010  10:46           261.809 commons-lang-2.4.jar -- two commons lang? 18.02.2011  14:27           284.220 commons-lang-2.6.jar -- two commons lang? 26.05.2011  17:51            60.841 commons-logging-1.1.1.jar &lt;-- not needed 28.06.2012  13:29         3.796.846 db2jcc4.jar &lt;-- jdbc driver should be installed into server directly not as part of deployment 20.12.2010  10:45           134.652 jboss-el.jar &lt;-- afaik not needed anymore, i would try and remove it 19.10.2012  17:48           109.121 jboss-vfs-3.1.0.Final.jar &lt;-- this should never be part of deployment 20.12.2010  10:45         2.005.783 jgroups.jar &lt;-- this is for clustering, and should not be part of deployment unless your app manualy constructs clusters 20.12.2010  10:39            15.071 jta.jar &lt;-- EE api, part of app server, remove it 28.08.2012  20:29           188.121 jtidy-r938.jar &lt;-- not needed as runtime 20.12.2010  10:39           237.344 junit-4.8.2.jar &lt;-- not needed as runtime 26.05.2011  17:51           481.534 log4j-1.2.16.jar &lt;-- you could probably remove it as server will provide it for your 11.07.2012  14:08           827.942 mysql-connector-java-5.1.21-bin.jar &lt;-- jdbc driver should not be part of deployment 20.12.2010  10:45           266.872 picocontainer-2.6.jar &lt;-- you really use pico container and seam? 29.07.2011  12:48           539.510 postgresql-8.4-702.jdbc4.jar &lt;-- jdbc driver should not be part of deployment 17.05.2011  18:48           508.651 standard-1.0.6.jar &lt;-- standard API, should not be part of deployment 08.08.2012  12:21           753.341 testng-6.7.jar &lt;-- remove it as probably deployment does not do testing  ;) 20.12.2010  10:39         7.526.292 thirdparty-all.jar &lt;-- this looks fishy, i would remove this and include only deps you really need 14.05.2012  14:24        25.706.895 tika-app-1.1.jar &lt;-- I asume this is your app? -- tomaz</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>Some issues might include http://java.net/jira/browse/JAVASERVERFACES-2176 http://java.net/jira/browse/JAVASERVERFACES-2176 and http://java.net/jira/browse/JAVASERVERFACES-2334 http://java.net/jira/browse/JAVASERVERFACES-2334</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>HI, I´ve tried Stan´s hints but no difference. Next I will try latest JBoss AS7 and afterwards clearing our .jar mess.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>Update to latest JBoss made no difference too :-/ I will try to clear our .jar mess now a bit.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>Still no luck with a much smaller set of .jars ... removed most of the list from above, only jboss el was necessary. Is there a possibilty to get a payed help? I am really out of any ideas, cause we have this problems quiet since the beginng with JBoss AS7 and I really don´t know what to try else.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>There's always the  http://www.redhat.com/products/jbossenterprisemiddleware/application-platform/ http://www.redhat.com/products/jbossenterprisemiddleware/application-platform/</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>Okay thanks! But any other suggestions before I try to download the seam 2 app with the richfaces and hibernate demo? Would someone help me with that if I post a JProfiler CPU dump, while this problem occurs ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: AS7 getting slower</header>
    <body>You have JSF bundled in your WAR?  If you want to do that then you need to use the WAR_BUNDLES_JSF_IMPL context param.  But that's not the best way to do this.  Take JSF jars out of your deployment. You are also trying to use the "1.2" slot for JSF by specifying it in jboss-deployment-structure.xml.  Don't do that. To use the built-in version of JSF 1.2, just put this in your web.xml:    &lt;context-param&gt;       &lt;param-name&gt;org.jboss.jbossfaces.JSF_CONFIG_NAME&lt;/param-name&gt;       &lt;param-value&gt;Mojarra-1.2&lt;/param-value&gt;     &lt;/context-param&gt; Stan</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Multiple instances of JBoss AS7 on the same machine</header>
    <body>Yes, and it's well explained here :  http://stackoverflow.com/a/10134087/535203 http://stackoverflow.com/a/10134087/535203</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Data Source	Configuration in AS 7</header>
    <body>Note that the steps in the article only allow creation of non-xa datasources with mysql. If you need xa-datasources, you need to have something like this in your module.xml (note the dependency to transaction api): &lt;module xmlns="urn:jboss:module:1.0" name="com.mysql"&gt;   &lt;resources&gt;     &lt;resource-root path="mysql-connector-java-5.1.22-bin.jar"/&gt;   &lt;/resources&gt;   &lt;dependencies&gt;     &lt;module name="javax.api"/&gt;     &lt;module name="javax.transaction.api" /&gt;   &lt;/dependencies&gt; &lt;/module&gt; As explained in this irc log:  http://echelog.com/logs/browse/jboss-as7/1327618800 http://echelog.com/logs/browse/jboss-as7/1327618800 Note also that at the time of this writing (14.12.2012) current mysql connector (5.1.22) already contains the file mentioned for type 4 drivers, java.sql.Driver. Here's a working configuration that defines a non-xa and an xa datasource for mysql: &lt;datasource jndi-name="java:jboss/datasources/MySqlDS" pool-name="MySqlDS" enabled="true"&gt;     &lt;connection-url&gt;jdbc:mysql://localhost:3306/test&lt;/connection-url&gt;     &lt;driver&gt;com.mysql&lt;/driver&gt;     &lt;transaction-isolation&gt;TRANSACTION_READ_COMMITTED&lt;/transaction-isolation&gt;     &lt;pool&gt;         &lt;min-pool-size&gt;10&lt;/min-pool-size&gt;         &lt;max-pool-size&gt;100&lt;/max-pool-size&gt;         &lt;prefill&gt;true&lt;/prefill&gt;     &lt;/pool&gt;     &lt;security&gt;         &lt;user-name&gt;root&lt;/user-name&gt;         &lt;password&gt;mysqlpass&lt;/password&gt;     &lt;/security&gt;     &lt;statement&gt;         &lt;prepared-statement-cache-size&gt;32&lt;/prepared-statement-cache-size&gt;         &lt;share-prepared-statements&gt;true&lt;/share-prepared-statements&gt;     &lt;/statement&gt; &lt;/datasource&gt; &lt;xa-datasource jndi-name="java:jboss/datasources/MySqlXADS" pool-name="MySqlXADS" enabled="true" use-ccm="false"&gt;     &lt;xa-datasource-class&gt;com.mysql.jdbc.jdbc2.optional.MysqlXADataSource&lt;/xa-datasource-class&gt;         &lt;xa-datasource-property name="ServerName"&gt;             localhost         &lt;/xa-datasource-property&gt;         &lt;xa-datasource-property name="DatabaseName"&gt;             test         &lt;/xa-datasource-property&gt;         &lt;xa-datasource-property name="User"&gt;             root         &lt;/xa-datasource-property&gt;         &lt;xa-datasource-property name="Password"&gt;             mysqlpass         &lt;/xa-datasource-property&gt;     &lt;driver&gt;com.mysql&lt;/driver&gt;     &lt;xa-pool&gt;         &lt;is-same-rm-override&gt;false&lt;/is-same-rm-override&gt;         &lt;interleaving&gt;false&lt;/interleaving&gt;         &lt;pad-xid&gt;false&lt;/pad-xid&gt;         &lt;wrap-xa-resource&gt;false&lt;/wrap-xa-resource&gt;     &lt;/xa-pool&gt;     &lt;security&gt;         &lt;user-name&gt;root&lt;/user-name&gt;         &lt;password&gt;mysqlpass&lt;/password&gt;     &lt;/security&gt;     &lt;validation&gt;         &lt;validate-on-match&gt;false&lt;/validate-on-match&gt;         &lt;background-validation&gt;false&lt;/background-validation&gt;     &lt;/validation&gt;     &lt;statement&gt;         &lt;share-prepared-statements&gt;false&lt;/share-prepared-statements&gt;     &lt;/statement&gt; &lt;/xa-datasource&gt; &lt;drivers&gt;     &lt;driver name="com.mysql" module="com.mysql"&gt;         &lt;xa-datasource-class&gt;com.mysql.jdbc.jdbc2.optional.MysqlXADataSource&lt;/xa-datasource-class&gt;     &lt;/driver&gt; &lt;/drivers&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JMX Development] - Making an apps log available to JMX-Console as notification</header>
    <body>Hi, I'm new to this technology and community, I've tried to read about this on the web, but couldn't find something that would work for me. I've an application which is using log4j logging which has a file appender. On deploying this into JBOSS, I wanted to be able to have JBOSS pick the logging information and be able to display them as Alerts or something. For JBOSS's own log4j setting, I uncommented the JMXNotification appender etc and also modified the service.xml to allow for alerttables but all I get there is JBOSS specific alerts. Nothing related to the application, it continues to log stuff to it's file though. Another thing that I wanted to be able to do was to be able to view the logs as notification in say jconsole but when I connect my jboss instance, I am able to access the MBEANS and the logging within it but the notification tab is disabled, it only allows me some operations like getting log level etc. My app EAR doesn't contain with it the app log4j and my JBOSS version is 5.1, JDK is 1.5 Thanks in advance for your time and help. Regards.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: call ejb from war	via JNDI problem</header>
    <body>Looks like a classloading issue. You should have a look into the documentation  https://docs.jboss.org/author/display/AS72/Class+Loading+in+AS7 here. If you have still questions you should attach the structure of your deployment</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: call ejb from war	via JNDI problem</header>
    <body>Thanks Wolf-Dieter. I had resolved it lastnight. The method is copy the EJB interface class into the Web App's class path. and then the Web App can find the EJB class. And I also test the other method, I add the EJB remote interface (UsersDaoRemote.java) into the Web App's project, it work fine too! *I had confused about the Web Container and the EJB container, since the Web Container have more and more functions about EJB(likes WebBean). Does it have possible that the Web Container replace the EJB Container, or the two Container combine to one Container in the future?*</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>Can you add more information about the content of bin/product.conf - what is its syntax/schema? what is all the data that should be included and where does that data come from?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>The product.conf file is currently a properties file. It currently supports a single property: slot=eap (or whatever) That "slot" property is currently used to determine what module to use when loading the admin-console. What I describe in the "Establishing Identity" section above could accomplished by simply adding two more properties identity=Foo layers=xyz,vuw This example assumes we have an identity named "Foo" that uses two layers on top of the base, xyz and vuw, with xyz taking precedence over vuw.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Can't find stateless ejb from web project in Jboss AS 7.1</header>
    <body>I am new to ejb and Jboss world and i am facing a problem when trying to execute a stateless bean by its remote interface, *I am doing this:*             env.put(Context.INITIAL_CONTEXT_FACTORY,                     org.jboss.naming.remote.client.InitialContextFactory.class             servicecandidat = (CandidatSessionRemote) remoteContext             if (servicecandidat.inscrireCandidat(c))             else The console gives the folowing naming exeption 15:01:45,474 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) ########## Initial Context OK ########## 15:01:45,680 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) ########## LookUp Exchec ########## 15:01:45,682 ERROR [stderr] (http-localhost-127.0.0.1-8080-1) javax.naming.NameNotFoundException: global/EtestEAProject/EtestMetier/CandidatSession!sessions.candidat.CandidatSessionRemote -- service jboss.naming.context.java.jboss.exported.global.EtestEAProject.EtestMetier."CandidatSession!sessions.candidat.CandidatSessionRemote" 15:01:45,685 ERROR [stderr] (http-localhost-127.0.0.1-8080-1)     at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:97) 15:01:45,687 ERROR [stderr] (http-localhost-127.0.0.1-8080-1)     at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:178) 15:01:45,689 ERROR [stderr] (http-localhost-127.0.0.1-8080-1)     at org.jboss.naming.remote.protocol.v1.Protocol$1.handleServerMessage(Protocol.java:127) 15:01:45,690 ERROR [stderr] (http-localhost-127.0.0.1-8080-1)     at org.jboss.naming.remote.protocol.v1.RemoteNamingServerV1$MessageReciever$1.run(RemoteNamingServerV1.java:73) 15:01:45,692 ERROR [stderr] (http-localhost-127.0.0.1-8080-1)     at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) 15:01:45,693 ERROR [stderr] (http-localhost-127.0.0.1-8080-1)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) 15:01:45,695 ERROR [stderr] (http-localhost-127.0.0.1-8080-1)     at java.lang.Thread.run(Unknown Source) *And the ejb jar deployments says:* java:global/EtestEAProject/EtestMetier/CandidatSession!sessions.candidat.CandidatSessionRemote     java:app/EtestMetier/CandidatSession!sessions.candidat.CandidatSessionRemote     java:module/CandidatSession!sessions.candidat.CandidatSessionRemote     java:jboss/exported/EtestEAProject/EtestMetier/CandidatSession!sessions.candidat.CandidatSessionRemote     java:global/EtestEAProject/EtestMetier/CandidatSession!sessions.candidat.CandidatSessionLocal     java:app/EtestMetier/CandidatSession!sessions.candidat.CandidatSessionLocal     java:module/CandidatSession!sessions.candidat.CandidatSessionLocal PLEASE help I have been stucked for more than 2 days.....</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Can't find stateless ejb from web project in Jboss AS 7.1</header>
    <body>Hi,Ali   The jndi context and lookup source code are below: +  jndiProps = new Hashtable&lt;String, Object&gt;();+ +  jndiProps.put(Context.URL_PKG_PREFIXES, "org.jboss.ejb.client.naming");+ +  InitialContext  ctx = new InitialContext(jndiProps);+ +  String ejbname = "ejb:" + appName + "/" + moduleName + "/" + distinctName + "UsersDao!com.hxchn.sms.UsersDaoRemote";+ +  UsersDaoRemote usersDaoRemote=(UsersDaoRemote)ctx.lookup(ejbname);+   do you put your Web Project and Ejb Project into one Project?It's very import!   Kola</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Can't find stateless ejb from web project in Jboss AS 7.1</header>
    <body>hi thanks kola for you help i had already solved the problem, and yes you're right i had the naming wrong i also managed to create a class with a static function witch gives the names of the EJB for lookup it took me a while to understand the documentation of AS 7!!!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Can't find stateless ejb from web project in Jboss AS 7.1</header>
    <body>That's good!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>h1. +*This proposal is slightly WIP*+ h1. Overview This document describes notions for how different software distributions based on the JBoss AS 7 project can integrate with the base AS and with each other in a controlled manner. +* *+ h1. Fundamental Concepts h2. Distribution A coherent set of software produced by a "project" or a "product". JBoss AS 7 is a project. JBoss EAP is such a product. Both play similar technical roles in the JBoss ecosystem, but there are significant differences in how the two are made available to end users. This article uses "distribution" as a replacement for constantly saying "project/product" everywhere. It's not a great term; if someone has a better one, please suggest it. h2. Distribution Base The "distribution base" is the core set of modules, bundles and miscellaneous files that is common to all layered distributions. It may itself be usable standalone project or product. Currently the software produced by the JBoss AS 7 project and the JBoss EAP product are the distribution bases relevant to this discussion. In the future a more limited subset of functionality may become the distribution base, with the full set of functionality currently provided in community AS and EAP coming as layered distributions or add-ons. h2. Layered Distribution A distribution that builds on top of the distribution base, potentially superceding some of the distribution base's functionality. A layered distribution is allowed to supercede any aspect of the distribution base's functionality. The less the layered distribution does this, the easier it will be for the layered distribution to manage things like patching, but, if necessary, a layered distribution can supercede anything in the distribution base. A layered distribution build on top of another layered distribution, provided it has worked out the necessary procedures to ensure compatibility. h2. Identity An identity is a named set of distribution base + layered distribution(s) that is certified as a valid combination. The distribution base by itself may or may not be a valid identity. Currently it is; in the future it may not be. The software produced by a given layered distribution may be associated with more than one identity. h3. Patching and Identities Patches are applicable to an identity. A given patch can apply to more than one identity, if there are no conflicts between the identities in terms of how they use the items modified by a patch. The metadata associated with a patch will indicate the identities to which it is applicable. Patches are comprised of one or more discrete +patch elements+ each of which is produced by the distribution base or by one of the layered distributions associated with the identity. A patch element includes metadata describing the element along with any added or modified files. The patch element metadata will identify the provider of the patch component. A given patch element can be used in multiple different patches. For example, a patch element upgrading the distribution base can be included in several patches produced by different identities, with each patch also including a patch element upgrading a layered distribution used in that identity. For example, let's say an identity named A consists of the distribution base and a layered distribution named A. Version 1.0 of identity A is based on version 2.0 of the distribution base and version 1.0 of layered distribution A. The distribution base produces a patch element that will move it to version 2.1. The producers of the A identity could then produce a patch that will result in version 1.1 of identity A. This would include a patch element upgrading layered distribution A to its version 1.1, as well as the separate element that provides the distribution base upgrade to its 2.1. There are two main benefits of this sharing approach: * The modules and bundles provided by the distribution base upgrade are associated with the original 2.1 patch provided by the distribution base, not just with the enclosing patch provided by A. This will make possible the sharing of modules/bundles provided by patches across installations. * Incorporating one patch within another as a simple discrete unit helps avoid errors during patch production. For modules and bundles within a patch, once the patch is applied the association of the module or bundle with the distribution base or layer that provided it is retained within the installation. The association is encoded within the filesystem path that points to the patch version of the module or bundle. Miscellaneous files within a patch are not associated with the distribution base or any particular layered distribution once they are installed. For example bin/standalone.sh is bin/standalone.sh no matter what patch component added or modified it. Each identity produces a patch stream. Because a given patch can apply to more than one identity, the same patch can appear in multiple patch streams. The distribution base and layered distributions can produces +patch elements+ but they cannot themselves produce +patches+ or a patch stream. Since a patch must be associated with an an identity, only an identity (or a group of cooperating identities) can produce a patch. If there is an identity that consists of nothing but the distribution base, that identity can produce a patch. But this is logically not the same thing as saying the distribution base itself produced the patch, even though the practical effect is similar. h2. Installation An installation is a single filesystem location containing the distribution base plus zero or more layered distributions. It includes the bin/ dir from which processes are launched. The root of the installation is the path indicated by the $JBOSS_HOME environment variable referred to in the scripts and indicated by the jboss.home.dir system property used in the java code. h3. Installation Identity Each installation has a *+single identity+*. Because an installation only has a single identity, there is no confusion as to which layered distribution "owns" a particular filesystem location in that installation. Further, because the identity of an installation can be easily determined (see "Establishing Identity" below), external tools can quickly understand the functionality provided by a given installation, even if no process is currently running from the installation. +TODO further spell out the importance of single identity.+ h3. Sharing Files Across Installations+ + The files that comprise modules and bundles are potentially sharable across installations. Making it easy for users to do this should be a key goal. Miscellaneous files are not sharable across installations. An end user could potentially share them using symlinks, but doing so is not a supported feature nor is it a recommended practice. Patches are not sharable across installations. The +modules and bundles that the patch provides+ are potentially sharable, but the miscellaneous files provided by a patch are not sharable. The patching history metadata that the patching tool records in the installation is also not sharable -- the metadata is associated with the given installation. However, making it easy to share the the modules and bundles provide by a patch across installations should be a key goal. h2. Add-On Distribution An add-on distribution is a set of software that extends the capabilities of a given "identity". An add-on can only extend capabilities. It is not allowed to supercede capabilities of the identity it extends. For modules and OSGi bundles, the module and bundle loading logic provided by the distribution base will enforce this behavior. For miscellaneous files, it is up to the people providing an add-on to ensure that the add-on does not overwrite any file provided by the distribution base, any layered distribution associated with the identity or any other add-ons associated with the identity. Conversely, once the providers of an identity have accepted an add-on into their ecosystem, it is their responsibility to ensure that they do not add any files to their distributions that will conflict with files already provided by the add-on. In practice, the most likely sources of conflict will be the xml files in the configuration directories and the .conf files in the bin directory. Conflicts over xml files are solvable by having add-on providers ship their own xml file variants rather than attempting to modify the standard ones that ship with the identity. A given add-on is allowed to extend the capabilities of more than one identity. An add-on may require the presence of other add-ons. h3. Patching and Add-ons Add-on distributions produce their own patch stream. The patches produced by an add-on indicate the versions of the identity that must be present for the patch to apply. More than one identity can be listed, since add-ons may be applicable to multiple identities. The patches produced by an add-on also indicate the existing version of the add-on that must be present, as well as the version of any other required add-ons. Add-ons cannot use patches in their own stream to fix problems in the identity on which they depend. Add-ons depend on the patch stream provided by their dependent identity to provide such fixes. Modules and bundles provided by an add-on or its patches will have lower precedence in the module loading order than those that come from the distribution base or layered distributions, so any fix to such a module/bundle provided by an add-on patch will have no effect. h1. Installers +TODO discussion of RPM+ h2. Distribution Base Installers The distribution base can be installed via a simple unzip. If the distribution base is itself an identity, see also "Identity Installers" h2. Identity Installers An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions. * An unzip onto a filesystem location that already contains a depended upon identity or the installation base of a zip that only includes the layered distribution(s) to be added. * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an identity is installed into a given filesystem location, the identity of that installation is irrevocably changed.+* When an identity is installed it has the right to modify any miscellaneous files in the installation filesystem, so once an identity is installed, the identity of the installation is changed. In many (hopefully nearly all) cases it may be possible for a user to remove files added by an identity install and get the installation back to its previous identity, but doing this is not a supported feature of the software and is not a recommended practice. *+However, once support for installing patches via the patching tool is available, reverting an identity installation will be possible.+* The patching tool maintains backup copies of any miscellaneous files modified by a patch, making it possible to restore those files. h2. Add-on Installer An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions along with the add-on itself. * An unzip onto a filesystem location that contains the depended upon identity of a zip that only includes the add-on. * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an add-on is installed into a given filesystem location, the identity of that installation is not changed, and it must be possible to reverse the installation.+* An add-on is merely additive, so removing it is a matter of deleting what was added. This could be done via a script provided by the add-on, via an installer program, or manually by a user following a set of instructions. h1. Establishing Identity It +must+ be possible for external tools to determine the identity of a given installation without requiring the software based on that installation to be running. It's also necessary for the software based on an installation to determine its own identity. This will be done via the bin/product.conf file located in the distribution. This file will include: * The name of the identity * The name of any layered distributions used by the identity, in order of the precedence to be used when loading their modules. If no bin/product.conf file exists, the installation is assumed to be the community version of the distribution base. If no layered distributions are named in the file, only the base and any add-ons will be used. h1. Module Loading JBoss AS currently loads modules based on a "module path" which is a list of filesystem locations which JBoss Modules searches for modules. In our standard launch scripts, users are able to manipulate this module path by setting the $JBOSS_MODULEPATH environment variable. If not set, $JBOSS_MODULEPATH is set to $JBOSS_HOME/modules. This mechanism creates a single default location under which modules can be located. This is problematic when layered distributions and add-ons wish to install their own modules, since there are no clear rules as to how those modules should be installed or how they relate to one another. h2. Goals * To make it easy for layered distributions or add-ons to add their modules to the set of available modules or remove their modules from the set of available modules, without fear of physically overwriting modules provided by others. * To establish clear rights and responsibilities for providers of the distribution base, layered distributions and add-ons with respect to how their modules should be managed. * To establish clear rules for how distributions that add modules that must take precedence over other modules provided by other distributions with the same name and slot should:* locate those modules * indicate at launch time to the modular classloading system the precedence order * To make it easy for end users to alter the module path for their own purposes by setting $JBOSS_MODULEPATH without needing to concern themselves with details of how the modules provided by the distribtuion base, layered distributions, or add-ons relate to one another. Reserve the use of $JBOSS_MODULEPATH and the value of the -mp command line argument passed to jboss-modules for end use uses. h2. Rights and Responsibilities of Module Providers All modules provided as part of the distribution base can be depended upon by any add-on associated with an identity. If the distribution base by itself is an identity (i.e. with no additional layered distribution required), the providers of the distribution base accept the following with respect to that identity: * The version of the module the distribution base provides will take precedence over a module with the same name and slot provided by any add-on. * As a consequence of this, any modification of that module in a patch will need to be tested for compatibility with add-ons based on the version of the identity being patched. * As a subset of the previous point, within a major version family the distribution base cannot remove a module that is depended upon by an add-on, even if the distribution base itself no longer needs that module. If the distribution base is part of an identity along with one or more layered distributions, the providers of the distribution base accept the following with respect to that identity: * The distribution base has the same responsibilities with respect to add-ons that it has in the case of add-ons without any layered distribution. * However, if a layered distribution in an identity provides a module with the same name and slot as the one provided by the distribution base, the distribution base no longer has responsibility to provide the module. The layered distribution's version of the module takes precedence. * The distribution base can modify a module that is depended upon by a layered distribution in a way that breaks functionality of the layered distribution. Providers of identities that include layered distributions are responsible for testing patch elements produced by the distribution base before making them available for use with the identity. If the distribution base patch element in some way breaks the functionality of an identity, either the patch element should not be provided for the identity, or the patch that incorporates the distribution base patch element should also include a layered distribution patch element that fixes the problem.* However, the distribution base should take great care not to break layered distributions with which it is associated when it produces patch elements. Distribution base patch element production should involve reasonable testing of all relevant identities such that problems can be found and resolved before the distribution base patch element ships. * The distribution base can remove a module that is not depended upon by any add-on but which is depended upon by a layered distribution. Providers of identities that include layered distributions are responsible for testing patch elements produced by the distribution base before making them available for use with the identity. If the distribution base removes a module depended upon by a layered distribution, the patch that incorporates the distribution base patch element should also include a layered distribution patch element that adds the module as part of the layered distribution. * If an identity add-on depends on a module provided by the distribution base and the distribution base wishes to remove the module, that is allowed provided some layered distribution is willing to begin providing the same module in an overall patch. All modules provided as part of a layered distribution can be depended upon by any add-on associated with an identity. They cannot be depended upon by the distribution base. When a layered distribution includes a module it accepts the following: * The version of the module it provides will take precedence over a module with the same name and slot provided by the distribution base or by any add-on. * As a consequence of this, any modification of that module in a patch element will need to be tested for compatibility with add-ons based on that version of the identity. Any functionality provided by the distribution base and supported by the identity will also have to be tested. * As a subset of the previous point, within a major version family the layered distribution cannot remove a module that is depended upon by an add-on, even if the layered distribution itself no longer needs that module. * A layered distribution can remove a module that is not depended upon by any add-on. If a layered distribution participates in an identity with another layered distribution that depends on it, the depended-on layer accepts the following: * If the dependent layered distribution provides a module with the same name and slot as the one provided by the depended-on layer, the depended-on layer no longer has responsibility to provide the module to the dependent or to any add-ons. The dependent layered distribution's version of the module takes precedence. * The depended-on layer can modify a module that is depended upon by another layer in a way that breaks functionality of the dependent. Providers of identities that include layered distributions are responsible for testing patch elements produced by the component layers before making them available for use with the identity. If the depended-on layer's patch element in some way breaks the functionality of an identity, either the patch should not be provided for the identity, or the patch element that incorporates the depended-on layer's patch component should also include a patch element to a dependent layer that fixes the problem.* However, a depended-on layer should take great care not to break dependent layers when it produces patch elements. Layered distribution patch production should involve reasonable testing of all relevant identities such that problems can be found and resolved before the depended-on layer's patch ships. * A depended-on layer can remove a module that is not depended upon by any add-on but which is depended upon by another layer. Providers of identities that include layered distributions are responsible for testing patch elements produced by a depended-upon layered distribution before making them available for use with the identity. If the depended-upon layer removes a module that is depended upon by another layer, the patch that incorporates the depended-upon layer's patch element should also include a patch element from the dependent layer distribution that adds the module as part of that layered distribution. * If an add-on depends on a module provided by the layered distribution and the layered distribution wishes to remove the module, that is allowed provided some other layered distribution in the identity is willing to begin providing the same module in an overall patch. When an add-on includes a module, it accepts the following with respect to any identity with which the add-on is associated: * The distribution base or a layered distribution may ship a module with the same name and slot, and that module +*will*+ take precedence over the module provided by the add-on. * Another add-on may ship a module with the same name and slot, and that module +*may*+ take precedence over the module provided by this layered distribution or add-on. * Another add-on may ship a module with the same name and slot, and the version provided by this layered distribution or add-on +*may*+ take precedence over the module provided by the other add-on. * As a consequence of this, any modification of the depended-upon module in a patch element will need to be tested for compatibility with any add-on based on the same major version of the identity.* The providers of the add-on are responsible for providing an adequate set of tests to the providers of the identity. * The distribution base or a layered distribution cannot depend upon a module provided by an add-on. * As a consequence of the previous point, an add-on can remove a module in a patch, without fear of breaking the core functionality of an identity. * An add-on can depend up a shareable module provided by another add-on upon which it depends, but +only with the express consent of the providers of that add-on+. Such dependencies are strongly discouraged. * If an add-on allows another add-on to depend upon its modules, it takes on the following responsibilities:* Any modification of that module in a patch or version upgrade will need to be tested for compatibility with any dependent add-ons. Testing procedures must be created to ensure that any patches produced by the depended-upon add-on do not break the dependent add-on. * As a subset of the previous point, within a major version family the add-on cannot remove a module that is depended upon by another add-on, even if the add-on itself no longer needs that module. h2. Module Organization on the Filesystem This section will describe how the above points are reflected in the actual organization of modules on the filesystem. h4. Requirement for Standardized Module Loading JBoss Modules can support other mechanisms for finding module content and loading it besides the filesystem-based module path mechanism. Theoretically a custom boot module loader implementation could be specified at process launch, with that module loader using some other means for locating module content. This article proposes that this capability be declared as unsupported for JBoss AS and products based upon it. Rather, the AS will have a specified boot module loader implementation. Users of the AS community project are free to use a non-standard boot module loader implementation, but if they do so and certain features provided by the AS don't work, that is their problem. h3. Filesystem Layout Modules would be organized on the filesystem as follows: modules + internal ++ add-ons +++ abc +++ def ++ layers +++ base +++ vuw +++ xyz The internal level exists to separate modules associated with the distribution base, layered distribution or add-ons from those the end user may store in the modules directory. +TODO Some better name for internal would be nice.+ h3. Translation of Filesystem Layout into Module Loading Precedence For any location provided by the user via the -mp switch, the module loader will look for the internal structure. If it is found in more than one location, an exception will be thrown. The module loader will understand the structure above and will apply module loading precedence rules as follows. Assume the above structure exists under $JBOSS_HOME and that the user sets $JBOSS_MODULEPATH as follows JBOSS_MODULESPATH=/user/me/my-modules;$JBOSS_HOME/modules In addition, the bin/product.conf file declares that the identity of the install is xyz, the xyz layered distribution should be loaded and the xyz layered distribution depends on the vuw layered distribution. Assume also that patches named base-1, abc-1, def-1, vuw-1, xyz-1 and xyz-2 have been applied. The module loader would look for modules on the filesystem in following locations, starting with first and terminating as soon as the module is found: /user/me/my-modules /modules (in case the user placed modules directly in under this directory) /modules/layers/xyz/patches/xyz-2 /modules/layers/xyz/patches/xyz-1 /modules/layers/xyz /modules/layers/vuw/patches/vuw-1 /modules/layers/vuw /modules/layers/base/patches/base-1 /modules/layers/base /modules/add-ons/abc/patches/abc-1 /modules/add-ons/abc /modules/add-ons/def/patches/def-1 /modules/add-ons/def The precedence order between /modules/add-ons/abc and /modules/add-ons/def is arbitrary. An add-on should never assume its modules will take precedence over those of any other add-on's modules. The fact that the various patches locations are included in the path is entirely due to +metadata+ that the patching tool will store in the $JBOSS_HOME/patches directory. The mere presence of a directory like /modules/layers/xyz/patches/xyz-2 is insufficient to trigger inclusion of that directory in the module search path. However, when the patching tool installs the patch, the actual location of the +module contents+ will be in /modules/layers/xyz/patches/xyz-2 -- only patching related metadata will be stored in $JBOSS_HOME/patches. This behavior is important for allowing sharing of modules across installations. h2. Sharing Modules Across Installations The above behavior makes it relatively straightforward for a user to share modules across installations. For example, the user could set up a shared module repo in /user/me with the following structure jboss-module-repo + add-ons ++ abc ++ def + layers ++ base ++ vuw ++ xyz The $JBOSS_HOME/modules/internal location in each installation on the filesystem could then be replaced with a symlink to /user/me/jboss-module-repo. The downside to this very simple sharing is the abc and def add-ons will be visible and used by all installations, whether or not they are relevant to the installation's identity. A solution to this problem would be to do more symlinks: $JBOSS_HOME/modules/internal/layers -&gt; /user/me/jboss-module-repo/layers $JBOSS_HOME/modules/internal/add-ons/abc -&gt; /user/me/jboss-module-repo/add-ons/abc $JBOSS_HOME/modules/internal/add-ons/def -&gt; /user/me/jboss-module-repo/add-ons/def As an improvement at some point we could define some sort of file format (say xml) and allow a file with that format to be placed in $JBOSS_HOME/modules/internal in lieu of the subdirectories. The file would include all of the mapping information for the external repo. The boot module loader, patching tool and any programmatic installers would know how to read and update that file. The file would only include information for the add-ons relevant to the installation. h3. Implications for the Patching Tool The possibility of module sharing doesn't remove the requirement to apply a patch to each installation on a given filesystem. Applying the patch to each installation is required in order to: *  update any miscellaneous files * record the patching metadata for the particular installation * allow the patching tool to understand what combinations of layered distributions and add-ons are relevant to the given installation However, the patching tool should recognize the possibility of this kind of module sharing. When it applies a patch it should recognize that the modules may already exist on the filesystem and should not apply them again if not necessary. It should however record some information in, e.g. /modules/layers/xyz/patches/xyz-2 indicating that the installation being patched is using that set of patch modules. This information will prevent deletion of patch modules used by multiple installations if one of the installations uses the patching feature's cleanup functions. h1. OSGi Bundle Loading This needs discussion, but the basic concept is the precedence rules for OSGi bundle loading would following the same rules as for module loading.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - When does Jbpm triger to	update workiteminfo?</header>
    <body>When does Jbpm triger to update workiteminfo? I need see resource code to how  workiteminfo update its column  *workItemByteArray!* *Any one help me? *</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Profiler Development] - Not able to generate snapshot with profiler 2.0</header>
    <body>Hello,     I have configured required jars in Jboss\bin and property file and also copied sar file into deploy folder.    configured "save=file" and required packages to profile     1. I have started the server (profiler started)     2. in browser I have accessed my application to reach the packges configured in propertied file.           As a result I get the some binay dump files       3. new cmd --&gt; tried to take snapshot         No file is being generated. I am kind of confused how exactly it works. In documentation only commands given but the result of command is not known. Dont know what to expect. Please sombody with kind heart write me back.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Profiler Development] - Re: Not able to generate snapshot with profiler 2.0</header>
    <body>Sorry when I am accssing the snapshot command from client it generates data file in another folder. Dont know how read those binary files. Any idea please let me know. Thank you.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Storing Process Events in a	Database</header>
    <body>I would like to store all my process instances and their events in a database. To enable this, I was looking into the userguide http://docs.jboss.org/jbpm/v5.4/userguide/ch.core-persistence.html#d0e4086 http://docs.jboss.org/jbpm/v5.4/userguide/ch.core-persistence.html#d0e4086 First it says that I need to configure my own session, attach a logger to it and modify the persistence .xml How do I persist this information if I use the REST URL?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Searching process instances based on business data</header>
    <body>I would like to search all the processes started for a particular customer. Whats the best way to do it? Is there a means in JBPM to expose this business data, so that the data can be extracted from an active process via the REST API so that it can be used in a custom user interface?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>BTW, slot in product.conf is already used by JON to recognized a platform</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - How to test web project from eclipse to jboss as7 without mvn jboss-as:deploy</header>
    <body>My firm is change the development environment, looking for some tricks and tips on how to work in the new environment. The current environment is Eclipse and Tomcat. We are developing web applications with Spring, Web Flow, and MySQL.. The new environment is going to be Eclipse, Jboss AS7 and Maven. Question 1: Now for the questions as the current time we run tomcat on the local workstations and I can use eclipse to write my code and then just click on “Run On Server” and eclipse will build the war file and start tomcat. With the new environment it does not look like Eclipse can start and stop and depoy right to Jboss AS so we are running a command line: mvn jboss-as:deploy does anyone know a better way? Question 2: Debugging.. Does anyone know how to get debugging working with eclipse and jboss as7. I would like to hear from other programmers that moved to jboss from tomcat</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: How to test web project from eclipse to jboss as7 without mvn jboss-as:deploy</header>
    <body>You might want to try over at the main JBoss AS forums (this is the dev section) or the JBoss Tools forum</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>the term distribution is fine. stick to it.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Data Source	Configuration in AS 7</header>
    <body>I have been trying to migrate a standalone JBoss AS 7.1.1 server to a 2-host cluster, but am running into a problem. Before adding any code deployment, I have been trying to get the two hosts started in clustering mode. Before adding the datasource definitions to domain.xml, everything is fine. When I add the datasources, the master host starts, but when the slave starts, it seems to be connecting to the mysql server a large number of times, until it gets a Too many Connections error. This happens even if I set the prefill=no and min-pool-size=0</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - CLI deployment	archive</header>
    <body>I love this future!!! Could you add in next version an option, where I can pass a properties file, where the cli scripts get replaced bevor execution? !!!!!!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Usage of ksession in Jbpm Spring Implementation</header>
    <body>Hi, I am developing a web application which I will invoke a jbpm workflow. I am following a *spring-jbpm* integeration pattern to create a *kbase,ksession* etc.My question is how we have to use the *ksession*? Means for each request I have to create a seperate session(every process instance has unique session id ) or multiple process instances sharing the same *ksession.* Currently I am following a spring approach in which one session id shared between multiple process instances. How to change this behaviour to make it one session per process instance.Is there any way to do this in spring. I tried bean scope"prototype" which will not workout. and jbpm session tag not having the attribute scope. My XML is: &lt;jbpm:kbase id="kbase"&gt;     &lt;jbpm:resources&gt;       &lt;jbpm:resource type="BPMN2" source="classpath:Hello.bpmn" /&gt;     &lt;/jbpm:resources&gt;   &lt;/jbpm:kbase&gt; &lt;jbpm:ksession id="ksession" type="stateful" kbase="kbase"&gt; &lt;jbpm:configuration&gt;       &lt;jbpm:jpa-persistence&gt;         &lt;jbpm:entity-manager-factory ref="entityManagerFactory"/&gt;         &lt;jbpm:transaction-manager ref="transactionManager"/&gt;       &lt;/jbpm:jpa-persistence&gt;     &lt;/jbpm:configuration&gt; &lt;/jbpm:ksession&gt; &lt;bean id="ds" class="org.springframework.jdbc.datasource.DriverManagerDataSource"&gt; &lt;property name="driverClassName" value="com.mysql.jdbc.Driver"&gt;&lt;/property&gt; &lt;property name="url" value="jdbc:mysql://localhost:3306/jbpmworkflow?autoReconnect=true"/&gt; &lt;property name="username" value="root"/&gt; &lt;property name="password" value="root"/&gt; &lt;/bean&gt; &lt;bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"                   p:dataSource-ref="ds"&gt; &lt;property name="persistenceXmlLocation" value="classpath:META-INF/persistence.xml" /&gt; &lt;property name="persistenceUnitName" value="org.jbpm.persistence.jpa" /&gt; &lt;property name="jpaVendorAdapter"&gt; &lt;bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter"&gt; &lt;property name="database" value="MYSQL"/&gt; &lt;property name="showSql" value="true"/&gt;   &lt;property name="databasePlatform" value="org.hibernate.dialect.MySQL5Dialect" /&gt; &lt;/bean&gt;          &lt;/property&gt; &lt;/bean&gt; &lt;bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager" p:entityManagerFactory-ref="entityManagerFactory"&gt; &lt;property name="dataSource" ref="ds"/&gt; &lt;/bean&gt; Waiting eagerly for your replies. --Abuthahir</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - System properties in operation parameter values and command arguments</header>
    <body>Is this already working in AS 7.1.3 (or EAP 6.0.1) or will it be only avalable for 7.2 onwards?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - How to use a JBoss AS7 JNDI Datasource, from a Spring hibernate project running outside server?</header>
    <body>How to use a JBoss AS7 JNDI Datasource, from a Spring hibernate project running outside server? I am trying to find a way to access my JBoss AS7 JNDI Data Sources out side a web application. Can someone please tell me if this can be done?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: How to use a JBoss AS7 JNDI Datasource, from a Spring hibernate project running outside server?</header>
    <body>It is not supported to use an AS7 Datasource from a different JVM.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: LoginModule defined with cached=true, but called between web and ejb container</header>
    <body>Correct me if I'm wrong but it was a bug or at least bad programming practice on my part to invoke HttpServletRequest#logout and HttpSession#invalidate prior to LoginHistory#create.  I didn't notice the bug until I implemented Change Password workflow, which was when the FailedLoginException was thrown.  The problem was resolved by simply reversing the order e.g. invoking LoginHistory#create before logout.  However, it was troubling to learn that the EJB container was re-authenticating the user every time during the logout process after I explicitly invoked HttpServletRequest#logout and HttpSession.invalidate. So, if I understand you correctly, the security context remains established and userA (I'm assuming this means the principal) remains intact?  Wow.  Until now, I assumed that immediately upon invocation of logout and/or invalidate the security context was removed.  Perhaps it's not removed until the thread returns because of some requirement in the EJB spec, such as being able to pass principals across a chain of EJB calls?  Well... it was certainly confusing to receive a FailedLoginException when logging out   :)   and it was troubling that the application didn't receive an error except during logout under the unique circumstance when the user's password was changed during the session -- all because the EJB container was re-authenticating behind the scenes after logout was invoked. Just when I thought I was catching on, I'm confused again   ;)   I don't understand when you say that the EJB spec requires all EJB calls to be 'authenticated.'  It is my understanding that principals are authenticated -- not EJB calls -- and that EJB calls require access authorization -- not authentication.  If this is the case then referring back to my web application, since the security context (I'm assuming this means the principal) remains intact after invoking HttpServletRequest#logout and HttpSession#invalidate and until the thread returns there should be no reason to re-authenticate the principal before the thread returns.  In other words, if the principal is authenticated at login and logout is invoked but does not remove the security context, and during logout (e.g. before the thread returns) a secure EJB method is invoked, the EJB container should perform +access authorization+, checking that the user has the proper role, and not +authentication+, and, hence, the FailedLoginException should never be thrown after invoking logout before the thread returns.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Authentication failed using DatabaseServerLoginModule</header>
    <body>Hi all. I'm trying to use the DatabaseServerLoginModule, but isn't working. I found many examples like this. What is wrong? I've in my standalone.xml:                 ...                 &lt;security-domain name="TestSecurityDomain" cache-type="default"&gt;                     &lt;authentication&gt;                         &lt;login-module code="Remoting" flag="optional"&gt;                             &lt;module-option name="password-stacking" value="useFirstPass"/&gt;                         &lt;/login-module&gt;                         &lt;login-module code="org.jboss.security.auth.spi.DatabaseServerLoginModule" flag="required"&gt;                             &lt;module-option name="dsJndiName" value="java:jboss/datasources/MysqlDS"/&gt;                             &lt;module-option name="principalsQuery" value="select u_password from users where u_name=?"/&gt;                             &lt;module-option name="rolesQuery" value="select u_profile_name, 'Roles' from user_profile where u_name=?"/&gt;                             &lt;module-option name="password-stacking" value="useFirstPass"/&gt;                         &lt;/login-module&gt;                     &lt;/authentication&gt;                 &lt;/security-domain&gt;                 ...                 &lt;datasource jndi-name="java:jboss/datasources/MysqlDS" pool-name="MysqlDS" enabled="true" use-java-context="true"&gt;                     &lt;connection-url&gt;jdbc:mysql://localhost:3306/teste&lt;/connection-url&gt;                     &lt;driver&gt;mysql&lt;/driver&gt;                     &lt;security&gt;                         &lt;user-name&gt;user_db&lt;/user-name&gt;                         &lt;password&gt;pass_db&lt;/password&gt;                     &lt;/security&gt;                     &lt;statement&gt;                         &lt;prepared-statement-cache-size&gt;100&lt;/prepared-statement-cache-size&gt;                         &lt;share-prepared-statements&gt;true&lt;/share-prepared-statements&gt;                     &lt;/statement&gt;                 &lt;/datasource&gt;                 ...             &lt;security-realm name="TestApplicationRealm"&gt;                 &lt;authentication&gt;                      &lt;jaas name="TestSecurityDomain"/&gt;                 &lt;/authentication&gt;             &lt;/security-realm&gt;         ...         &lt;subsystem xmlns="urn:jboss:domain:remoting:1.1"&gt;             &lt;connector name="remoting-connector" socket-binding="remoting" security-realm="TestApplicationRealm"/&gt;         &lt;/subsystem&gt; In the jboss-app.xml: &lt;security-domain&gt;TestSecurityDomain&lt;/security-domain&gt; In the client side: jboss-ejb-client.properties: endpoint.name=client-endpoint remote.connections=default remote.connection.default.host=localhost remote.connection.default.port=4447 remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=true remote.connection.default.connect.options.org.xnio.Options.SASL_DISALLOWED_MECHANISMS=JBOSS-LOCAL-USER remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT=false remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=false lookup class:    envTable.put(Context.URL_PKG_PREFIXES,    envTable.put(Context.INITIAL_CONTEXT_FACTORY, When I run the client, returns this exception: INFO: JBoss Remoting version 3.2.3.GA 21/12/2012 10:57:57 org.jboss.remoting3.remote.RemoteConnection handleException ERROR: JBREM000200: Remote connection failed: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed javax.naming.NamingException: Failed to create remoting connection [Root exception is java.lang.RuntimeException: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed] at org.jboss.naming.remote.client.ClientUtil.namingException(ClientUtil.java:36) at org.jboss.naming.remote.client.InitialContextFactory.getInitialContext(InitialContextFactory.java:121) at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:667) at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288) at javax.naming.InitialContext.init(InitialContext.java:223) at javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:197)     ... Caused by: java.lang.RuntimeException: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed at org.jboss.naming.remote.protocol.IoFutureHelper.get(IoFutureHelper.java:87) at org.jboss.naming.remote.client.NamingStoreCache.getRemoteNamingStore(NamingStoreCache.java:56) at org.jboss.naming.remote.client.InitialContextFactory.getOrCreateCachedNamingStore(InitialContextFactory.java:166) at org.jboss.naming.remote.client.InitialContextFactory.getOrCreateNamingStore(InitialContextFactory.java:139) at org.jboss.naming.remote.client.InitialContextFactory.getInitialContext(InitialContextFactory.java:104) ... 5 more Caused by: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:365) at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:214) at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:72) at org.xnio.channels.TranslatingSuspendableChannel.handleReadable(TranslatingSuspendableChannel.java:189) at org.xnio.channels.TranslatingSuspendableChannel$1.handleEvent(TranslatingSuspendableChannel.java:103) at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:72) at org.xnio.nio.NioHandle.run(NioHandle.java:90) at org.xnio.nio.WorkerThread.run(WorkerThread.java:184) at ...asynchronous invocation...(Unknown Source) at org.jboss.remoting3.EndpointImpl.doConnect(EndpointImpl.java:270) at org.jboss.remoting3.EndpointImpl.doConnect(EndpointImpl.java:251) at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:349) at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:333) at org.jboss.naming.remote.client.EndpointCache$EndpointWrapper.connect(EndpointCache.java:105) at org.jboss.naming.remote.client.NamingStoreCache.getRemoteNamingStore(NamingStoreCache.java:55) ... 8 more In the server, no exception is displayed, even set org.jboss.security to TRACE. I tried with Jboss 7.1 (picketbox-4.0.7.Final) and Jboss 7.2 Alpha (picketbox-4.0.14.Final). I found AS7-1370 related with this topic. there is a form to work around this? Thanks, Ricardo.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: Authentication failed using DatabaseServerLoginModule</header>
    <body>You can try two simple tests, to better localize where the problem could be: * put a jboss-ejb3.xml deployment descriptor with security domain configured to your bundle, which contains EJBs* META-INF/jboss-ejb3.xml if you use JAR * WEB-INF/jboss-ejb3.xml in case of WAR * replace the DatabaseServerLoginModules with UsersRolesLoginModule and put following line to users.properties: rmarini=rmarini1 and the one with your requested role to the roles.properties:rmarini=rmarini1</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Signal doesn't triggers</header>
    <body>Hi, I am using JBPM 5.4. My problem is that Intemediate Signal are not getting triggered all the time. Sometimes the signal get triggered and sometimes the signal is never triggered. I have checked that some rows get empty in EventTypes table for my processInstanceId. Screenshot attached. What makes JBPM to empty the event value in eventtypes table?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - JBPM 5.4 Why EventType is rmeoved from EventTypes Table</header>
    <body>Hi, I am using JBPM 5.4. My problem is that Intemediate Signal are not getting triggered all the time. Sometimes the signal get triggered and sometimes the signal is never triggered. I have checked that some rows get *empty* in *EventTypes* table for my processInstanceId. Screenshot attached. What makes JBPM to empty the event value in eventtypes table?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: JBPM 5.4 Why EventType is rmeoved from EventTypes Table</header>
    <body>Attaching the image of the *eventTypes table* with empty *eventType* https://community.jboss.org/servlet/JiveServlet/showImage/2-805797-20533/EventTypes.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/2-805797-20533/310-127/EventTypes.png</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Hacking on AS7</header>
    <body>I tried all the steps upto build. But when i tried to build the project it gives ann error What is the reason for this? I have installed jdk7.previously i tried using jdk6.then it said need to install jdk 1.7 or higher.But it also doesn't works</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Hacking on AS7</header>
    <body>current master is AS8, this document was replaced with  https://community.jboss.org/docs/DOC-48381 https://community.jboss.org/wiki/HackingOnAS8 that describes how to work on AS8</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Getting Node Name from Node Instance in jBPM 5.4</header>
    <body>You could code this: iterator() method will give you a new iterator instance when you invoke it every time.So you get the first Nodeinstance every time.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Re: Jboss Eclipse	and JSP</header>
    <body>Hi Jean-Pol,                   I am also interested in taking this tutorial. I would really appreciate that if it is a combination of Maven3.*, JBoss 7.* and JSP Thanks in advance.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Re: Jboss Eclipse	and JSP</header>
    <body>Just an FYI, you replied to a 9 year old post from 2004. I don't think it will include Maven3 nor JBoss 7  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Disable wsdl	publication</header>
    <body>Hi, Is it possible to disable the automatic wsdl publication for a web service? In other words, I don't want clients to be able to fetch it using " http://server.com/services/someservice?wsdl http://server.com/services/someservice?wsdl". I'm using JBoss EAP 6.0. Thanks, Martin</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Logging Id's</header>
    <body>Logging id ranges for JBoss AS7 i18n message interfaces. ||  %1,3% *Status* || | C | = | Complete | | I | = | In Progress | | P | = | Merged, but not complete | | W | = | Waiting Merge | || *Range* || *Subsystem * || *Status * || | *10100 - 10199* | *Transaction* | C | | *10200 - 10399 * | *Clustering** * | C | | *10400 - 10499* | *Connector** * | C | | *10500 - 10599* | *CLI (not applicable) * | N/A | | *10600 - 10699* | *Controller Client* | C | | *10700 - 10799*, *18500 - 18699, 18800-18999* | *CMP* | C | | *10800 - 10899* | *Host Controller (domain packages)* | C | | *10900 - 10999, 16500 - 16599* | *Host Controller (host packages)* | C | | *11000 - 11099, 16700 - 16799* | *EE* | C | | *11100 - 11199* | *Embedded* | C | | *11200 - 11299* | *JAXRS* | C | | *11300 - 11399* | *JMX* | C | | *11400 - 11499* | *JPA* | C | | *11500 - 11599* | *Logging* | C | | *11600 - 11699* | *Messaging* | C | | *11700 - 11799* | *mod_cluster* | C | | *11800 - 11899* | *Naming* | C | | *11900 - 11999* | *OSGi* | C | | *12000 - 12099, 16600 - 16699* | *Process Controller* | C | | *12100 - 12199* | *Protocol* | C | | *12200 - 12299* | *Management Client Content* | C | | *12300 - 12399* | *Platform MBeans* | C | | *12400 - 12499* | *Threads* | C | | *12500 - 12599* | *PicketLink* | I | | *12600 - 12699* | *JSF (proposed)* | | | *12700 - 13100* | *IIOP Common (proposed)* | | |  *13100 - 13199* | *JDR* | C | | *13200 - 13299* | *AppClient* | C | | *13300 - 13399* | **Security* * | C | | *13400 - 13499, 14600 - 14899* | *Controller* | C | | available block(s) | | | | *14000 - 14099* | *JAXR* | W | | *14100 - 14599* | *Ejb3* | P | | **13400 - 13499, 14600 - 14899** | *Controller* | C | | *14900 - 14999* | *Deployment Repository* | C | | *15000 - 15099* | *Deployment Scanner* | C | | *15100 - 15199* | *Domain Management HTTP Interface* | C | | *15200 - 15299* | *Deployment Management* | C | | *15300 - 15399* | *Network* | C | | *15400 - 15499* | *Mail* | C | | *15500 - 15699* | *Web Services (AS subsystem)* | C | | *15700 - 15999*, *18700 - 18799* | *Server* | C | | *1**6000 - 16099* | *Weld* | C | | *16100 - 16199* | *EE Deployment* | C | | *16200 - 16299* | *Configadmin* | C | | *16300 - 16499* | *Jacorb* | C | | *10900 - 10999, 16500 - 16599* | *Host Controller (host packages)* | C | | *12000 - 12099, 16600 - 16699* | *Process Controller* | C | | *11000 - 11099, 16700 - 16799* | *EE* | C | | *16800 - 16899* | *Patching (Library)* | C | | *16900 - 16999* | *Patching (Server)* | | | *17000 - 17099* | *POJO* | C | | *17100 - 17199* | *Remoting* | W | | *17200 - 17299* | *SAR* | W | | *17300 - 17699* | *Web/Undertow (reserved)* | I | | available block(s) | | | | *18000 - 18399* | *Web* | C | | *18400 - 18499* | *Xts* | C | | *15700 - 15999, 18700 - 18799* | *Server* | C | | available block(s) | | | | *19000-19999* | *JSR-77* | I |</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - AS7: Utilising masked passwords via the vault</header>
    <body>I need an example of putting two passwords into the vault and then referencing them in standalone.xml. I have referenced the keystore file and password via the vault in the ssl connector line in standalone.xml, and have put the following reference to the trsutstore and password in as system properties. If I hardcode the unmasked truststore password all works, but even when using teo interactive sessions (so that I get a separate handle for the second password, see bug 901125), I cannot put two passwords into the vault and get the truststore reference to work. I get IOException: keystore was tampered with of password is incorrect. In standalone.xml: &lt;system-property&gt;   &lt;property name="javax.net.ssl.trustStore" value="Path /to/truststore/file" /&gt;   &lt;property name="javax.net.ssl.trustStorePassword" value="VAULT::truststore_pass::password::YjdkMDU10TMzTdmy........." /&gt; &lt;/system-property&gt; Do I need more lines in the &lt;vault&gt; &lt;vault-option&gt; section to reference the second password? Two vault tags will not parse. Any suggestions or two password example would be most welcome. I have tried referencing the keystore password with the same vault handle since it is the same--does not work. And I have generated vault dat files using  a reference to the keystore alone or with a separate reference to the truststore. Neither approach works. Thanks   Geoffrey Bays</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Jbpm 5.4 spring configuration : Human Task is not created</header>
    <body>hi all , i am trying to use jbpm 5.4 with spring. i have created a simple business process definition with one HumanTask and rule Task. Running UnitTest case (by extending JbpmJUnitTestCase) Process flow works fine and process completes successfully  BUT when i use spring configuration to deploy and run Business Process then  HumanTask is never created  in database , hence querying it using LocalTaskService results in Nothing. i am using single persistence unit (process+task) and running a localTaskService to assign/complete workitem. can somone please take a look and help. There are two zip files : 1) (test-success) that contains persistence.xml used by test case , respective passing junit test case and console logs. 2) (process-spring) that contains spring config file , jbpm utility class (used to create session and taskservice), failing test case(uses this spring config) and console logs. from two logs i can clearly see that in Testcase (uses spring config) process goes fine and inserts entry in workitemInfo table but the does not create an Entry in Task table. i checked everything but unable to find a clue. thanks Mayank</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Jbpm 5.4 spring configuration : Human Task is not created</header>
    <body>this issue is identical to :  https://community.jboss.org/thread/195386?start=0&amp;tstart=0 https://community.jboss.org/thread/195386?start=0&amp;tstart=0 looks like issue is caused by : TaskSessionSpringFactoryImpl.java , initialization of TaskPersistenceManager is determined by: |      | TaskPersistenceManager tpm; | |      | TaskSpringTransactionManager ttxm = new TaskSpringTransactionManager(springTransactionManager, useJTA); | |          | tpm = new TaskPersistenceManager(emf.createEntityManager(), ttxm);   *-------------------- this is initialized is it correct ????????* | |          | tpm = new TaskPersistenceManager(springEM, ttxm); | |          | tpm.setUseSharedEntityManager(true); ---------------------------------- *shouldnt this be initialized ???? if yes then how to configure* springEM*  *  | |      | return tpm; |</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - JBPM: Could not connect task client: on ip: 127.0.0.1 - port: 5153</header>
    <body>Hi All, I have installed jbpm-installer while executing evaluation example example First time I am able to login to portal and track and complete  the process. but next time onwords I am getting error: 04/04 13:55:34,383[main] ERROR service.hornetq.HornetQTaskClientConnector.connect - Unable to connect to server using configuration org-hornetq-core-remoting-impl-netty-NettyConnectorFactory?port=5153&amp;host=127-0-0-1 [com.sample.evaluation:1 - Self Evaluation:2] -- Could not connect task client: on ip: 127.0.0.1 - port: 5153 can you guide me on same. Thanks, Tushar.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: JBPM: Could not connect task client: on ip: 127.0.0.1 - port: 5153</header>
    <body>I am getting a similar problem after the first time: 1    10/04 08:56:50,191[main] ERROR workitem.wsht.GenericHTWorkItemHandler.executeWorkItem  - Wed Apr 10 08:56:50 BRT 2013: Error when creating task on task server for work item id 1. Error reported by task server: Task operation request timed out I'm a bit curious... At the first time, can you see the evolution of the process by looking in the test.log? When the process finishes its execution, the program terminates normally?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Possible Bug: querying nodeInstanceLog by processId and nodeId does not work</header>
    <body>i am trying to query nodeinstance log table to find current "state"of process. as required i have configured JpaProcessInstanceDbLog and all node transitions entries are properly logged in nodeinstance Table i am using code: log.findNodeInstances(instance.getId(), String.valueOf(node.getId())); ---------------------------- does not return anything though there are entires in database tables and it generates correct sql query. BUT if i try: List&lt;NodeInstanceLog&gt; stored= log.findNodeInstances(instance.getId()); ----------------------------- returns all rows correctly. can someone help ?.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>Hi, i've got a warning when using Myfaces: WARNING [org.apache.myfaces.renderkit.html.HtmlScriptRenderer] (http-localhost/127.0.0.1:8080-2) Resource referenced by resourceName jsf.js and libraryName javax.faces not found in call to ResourceHandler.createResource. It will be silenty ignored. war app / JBoss EAP6.1 / MyFaces 2.1.11 / RichFaces 4.3.1-Final Any idea ? tia</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Tomcat context.xml	for AS7 howto?</header>
    <body>Hi folks, I have an webapp (spring etc.) which loads all properties (debug on/off, feature foobar on/off, ...) from jndi. I have different environments (dev, qa, live). I can deploy the same war to each of them, the war doesn't contains any property. The container delivers the properties to the war. I'm using tomcat for that. How can do this with AS7? I want use auto deployment (put the war into standalone/deployment and thats it *g*). Any hints? Regards Andreas</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Not able to get the Node	Name</header>
    <body>I have simple Human Task Process,  Using JBPM API, I am trying to get the Node Name and I am getting Null Pointer Exception.  But I am able to get the Node Id. https://community.jboss.org/servlet/JiveServlet/showImage/2-806955-20583/HumanTask.jpg  https://community.jboss.org/servlet/JiveServlet/downloadImage/2-806955-20583/437-600/HumanTask.jpg Exception Message: Exception in getNodeName Method java.lang.NullPointerException     at org.jbpm.process.instance.impl.ProcessInstanceImpl.getProcess(ProcessInstanceImpl.java:68)     at org.jbpm.workflow.instance.impl.WorkflowProcessInstanceImpl.getWorkflowProcess(WorkflowProcessInstanceImpl.java:181)     at org.jbpm.workflow.instance.impl.WorkflowProcessInstanceImpl.getNodeContainer(WorkflowProcessInstanceImpl.java:69)     at org.jbpm.workflow.instance.impl.NodeInstanceImpl.getNode(NodeInstanceImpl.java:103)     at org.jbpm.workflow.instance.node.WorkItemNodeInstance.getNodeName(WorkItemNodeInstance.java:314)     at com.jpmorgan.jbpm.process.SpringProcessManagement.getNodeName(SpringProcessManagement.java:206)     at com.jpmorgan.jbpm.controllers.StartProcess.actionOnTask(StartProcess.java:106)     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)     at java.lang.reflect.Method.invoke(Method.java:597)     at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)     at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)     at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)     at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)     at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)     at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)     at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)     at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)     at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:920)     at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:816)     at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)     at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:801)     at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)     at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)     at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)     at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)     at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)     at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)     at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)     at java.lang.Thread.run(Thread.java:662) Could you please help me to resolve this issue? Balaji</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Not able to get the	Node Name</header>
    <body>You can use the following code : Process process = kbase.getProcess(processDefId); // use kbase loaded with the process definition name. for (Node node : ((WorkflowProcessImpl) process).getNodes())</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7 System	Properties</header>
    <body>Hi, when I use the above commands I can create a property called "*foo.bar*" with value "bar". I can successfully read this: ... and it shows up in the overview of properties: But when I want to read the existing property "java.version" (or any other) it gives an error: So, how can I read/modify existing properties? Using: Jboss 7.1 Standalone! Thanks</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7 System	Properties</header>
    <body>Good, but If you explain how to read/modify/create new properties, why don't explain working with existing properties, because it is obviously a difference (seeing my comment).</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Ideas for speeding up resource recovery</header>
    <body>*h2. Problem:* For various reasons the recovery system cannot be migrated to a different host meaning that in failure scenarios transactions cannot always be recovered in a timely manner. Initial discussion of the problem is captured in the following JIRAs: https://issues.jboss.org/browse/JBTM-312 https://issues.jboss.org/browse/JBTM-312 https://issues.jboss.org/browse/JBTM-1359 https://issues.jboss.org/browse/JBTM-1359 *h2. Background:* The Narayana project is logically comprised of a transaction manager (TM) and a recovery manager (RcMgr). When the TM decides to commit a transaction it indelibly records details of each participant involved in the transaction in an Object Store (ObjStore) (we have many object store implementations but this is not particularly relevant to the problem at hand). If the TM cannot complete the transaction, due to failures in the system, responsibility for completing the transaction passes to the RcMgr which takes its input from the contents of the ObjStore. In a JTA environment we record representations of participants in the ObjStore as "XA records" identified by XIDs which in turn embed a node id. This node id corresponds to the TM instance that enlisted the participant into the transaction. In this way the indelible record of the participant can be traced back to the initiating TM (but more importantly it provides a way to pass responsibility for progressing the participant to a particular RcMgr). Now conventionally we run the TM and RcMgr within a JEE app server in which the default configuration is to operate on the same ObjStore. In this configuration the RcMgr will only recover ObjStore records whose node id matches the co located TM. Generally this scheme works fine (although separating them would increase availability) since the recovery system has access to the same set of XA resources that TM does so recovery will proceed as soon as the relevant XA resources become available. Problems may arise if: 5. the underlying object store becomes inaccessible. In the following we primarily discuss JTS but REST-AT is similar. We also briefly alude to XTS and largely ignore JTA since JTA should "just work" with the proposed solution. But the real question will be: will this approach work, does it contain any show stoppers and are there any issues, XTS aside, which have not been addressed? *h2. Solution:* This post proposes a solution that will overcome each of these problems by grouping a set of transaction managers into an HA cluster with each TM configured to use the same set of datasources and a single shared object store. The recovery system runs on a single node in the cluster and operates on the shared object store. Participants recover on the same node as the recovery system (which in general will be a different node from the one where the participant last failed). This approach resolves the above mentioned problems in the following manner: 5. use high availability storage (such as a database or a Storage Area Network) for the ObjStore or use data replication (if customers really want this we should defer to a future PRD since it is non trivial). *h2. Problems:* [Note that the default algorithm for constructing UIDs embeds the IP address of the host on which the TM is running but this is fine since we only do so in order to construct unique ids] In JTS the recovery system and resources communicate via IORs which embed endpoint information that refer to the IP address of where the objects can be contacted. This feature creates the two difficulties: 2. If the RcMgr migrates to a new host then participants will no longer be able to call back to the recovery coordinator (as occurs during bottom up recovery) since the IOR of the RcMgr will change. The first difficulty is resolved by bottom up recovery:- when the participant is recreated on the RcMgr node by the recovery system (note that the record that was logged at prepare time contains the information needed to do this) it will inform the RcMgr hat it has moved to a new location (using the replay_completion call on the recovery coordinator). There is a window where this scheme will fail since the RcMgr may migrate after the participant has migrated but before the participant has contacted the RcMgr. In note 2 below we mention that since the ObjStore is globally accessible and since the RcMgr IOR is written to the ObjStore, participants will always be able discover the RcMgr so it should be a straight forward modification to the RcMgr to close this window. The second difficulty becomes an issue if the RcMgr does not have a record of the participant (can happen if the TM fails before writing its prepare log but after some of the participants recorded their prepare decision). In this case top down recovery cannot proceed, nor can bottom up recovery since the IOR of the RcMgr is no longer valid. Since the participant and RcMgr are now running on the same node it should be a fairly non invasive modification to the RcMgr to close this window. *h2. Notes:* 4. Analysis of the effect of the solution on XTS needs to be discussed certainly participant and coordinator endpoints will no longer be valid. If the solution fails for XTS we may need to fallback on demanding IP failover to support the XTS case. *h2. Restrictions:* * only works in an HA cluster (not a problem since this is an EAP feature) * JNDI names of XA resources must be duplicated on all nodes in the cluster * the ObjStore must use storage that is accessible to all nodes and be highly available * databases cannot be shared by Application Servers not in the cluster (see next section for details) *h2. Problems:* 1. An HA singleton is a bean marked with the @Singleton annotation. This bean will be responsible for starting the recovery system. Since beans are started after AS subsystems we have the problem that recovery will start much later than it does at present. 2. Databases/XA Resources are typically used by more than one application server and when asked for in doubt transactions they will return all of them. This will be a problem if the returned list contains transactions created by a server that is not part of the cluster since it is then possible for two different recovery systems to recover the same transaction branch. We can resolve this problem by either demanding that resources are a dedicated to the cluster or we configure the RcMgr to only recover a given set of node ids. To implement the latter option requires that we implement a cluster membership monitor which tells the RcMgr when nodes come and go (which adds complexity to the solution).</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: Ideas for speeding up resource recovery</header>
    <body>Can we take a step back please and determine what the problem is that we're trying to solve before outlining proposed solutions? Also, has the fact that we also allow non-XA participants in a transaction been considered?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: Ideas for speeding up resource recovery</header>
    <body>I also think that the title of this article "Ideas for speeding up resource recovery" doesn't convey the problem. If speed is really the only issue then there are a lot simpler approaches  ;)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: Ideas for speeding up resource recovery</header>
    <body>Have we also looked at GlusterFS as an object store implementation? Also take a look at the Student Registration System paper ( http://books.google.co.uk/books?id=oBQy54o-qK4C&amp;pg=PA455&amp;lpg=PA455&amp;dq=Student+Registration+Arjuna&amp;source=bl&amp;ots=FeJx_IYn67&amp;sig=LmupG1i_zuHgm3FLzK3MbExFTkA&amp;hl=en&amp;sa=X&amp;ei=Bs1jUcT0C6jA0QWOyIGQCg&amp;ved=0CEMQ6AEwAg#v=onepage&amp;q=Student%20Registration%20Arjuna&amp;f=false http://books.google.co.uk/books?id=oBQy54o-qK4C&amp;pg=PA455&amp;lpg=PA455&amp;dq=Student+Registration+Arjuna&amp;source=bl&amp;ots=FeJx_IYn67&amp;sig=LmupG1i_zuHgm3FLzK3MbExFTkA&amp;hl=en&amp;sa=X&amp;ei=Bs1jUcT0C6jA0QWOyIGQCg&amp;ved=0CEMQ6AEwAg#v=onepage&amp;q=Student%20Registration%20Arjuna&amp;f=false) because we did have a high availability (replicated) object store and HA recovery manager implementation.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Deploy and	undeploy with the CLI</header>
    <body>I'm new to JBoss. How do I "make sure there is a standalone AS7 instance is running and the CLI is connected to its controller"? Actually, I"m pretty sure the AS7 instance is running, the real question is what does it mean connect CLI to the controller. When I try to run the deploy command, I get: command not found. I am running JBoss 7.1 inside a VM Player that has se linux OS, trying to use putty to deploy a war. Thanks</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using the CLI	remote client jar</header>
    <body>jboss-cli-client.jar works fine in Fedora. However, when I try to run it in Win7 I get a "connection timeout" error: Microsoft Windows [Version 6.1.7600] Copyright (c) 2009 Microsoft Corporation.  All rights reserved. C:\Users\myuser\Desktop\Test&gt;*java -jar jboss-cli-client.jar --controller=10.11.12.13:9999 --connect --user=admin --password=admin --file=test.cli* WARN: can't find jboss-cli.xml. Using default configuration values. apr 09, 2013 10:35:21 FM org.xnio.Xnio &lt;clinit&gt; INFO: XNIO Version 3.0.7.GA apr 09, 2013 10:35:21 FM org.xnio.nio.NioXnio &lt;clinit&gt; INFO: XNIO NIO Implementation Version 3.0.7.GA apr 09, 2013 10:35:21 FM org.jboss.remoting3.EndpointImpl &lt;clinit&gt; INFO: JBoss Remoting version 3.2.14.GA org.jboss.as.cli.CliInitializationException: Failed to connect to the controller         at org.jboss.as.cli.impl.CliLauncher.initCommandContext(CliLauncher.java:280)         at org.jboss.as.cli.impl.CliLauncher.main(CliLauncher.java:240)         at org.jboss.as.cli.CommandLineMain.main(CommandLineMain.java:34) Caused by: org.jboss.as.cli.CommandLineException: The controller is not available at 10.11.12.13:9999         at org.jboss.as.cli.impl.CommandContextImpl.tryConnection(CommandContextImpl.java:950)         at org.jboss.as.cli.impl.CommandContextImpl.connectController(CommandContextImpl.java:789)         at org.jboss.as.cli.impl.CommandContextImpl.connectController(CommandContextImpl.java:765)         at org.jboss.as.cli.impl.CliLauncher.initCommandContext(CliLauncher.java:278)         ... 2 more Caused by: java.io.IOException: java.net.ConnectException: JBAS012144: Could notconnect to remote://10.11.12.13:9999. The connection timed out         at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:129)         at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:71)         at org.jboss.as.cli.impl.CommandContextImpl.tryConnection(CommandContextImpl.java:928)         ... 5 more Caused by: java.net.ConnectException: JBAS012144: Could not connect to remote://10.11.12.13:9999. The connection timed out         at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:130)         at org.jboss.as.protocol.ProtocolConnectionManager$EstablishingConnection.connect(ProtocolConnectionManager.java:256)         at org.jboss.as.protocol.ProtocolConnectionManager.connect(ProtocolConnectionManager.java:70)         at org.jboss.as.protocol.mgmt.FutureManagementChannel$Establishing.getChannel(FutureManagementChannel.java:176)         at org.jboss.as.cli.impl.CLIModelControllerClient.getOrCreateChannel(CLIModelControllerClient.java:153)         at org.jboss.as.cli.impl.CLIModelControllerClient$2.getChannel(CLIModelControllerClient.java:114)         at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:115)         at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:98)         at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:236)         at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:141)         at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:127)         ... 7 more My workaround right now is to pass the +connect+ command in my test.cli (connect 10.11.12.13) and instead run: C:\Users\myuser\Desktop\Test&gt;*java -jar jboss-cli-client.jar --user=admin --password=admin --file=test.cli* Still, I would like to be able to pass the server IP as part of the execution line so that I can run the same test.cli file against several servers... Using the jboss-cli-client.jar from EAP6.1.ALPHA</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using the CLI	remote client jar</header>
    <body>Hi Miguel, Have you tried running CLI without the client jar?  Please install AS7 on your windows box and try it out via jboss-cli.bat.  That will tell if it's a CLI issue or an issue with the jar.  Then please open a jira at  https://issues.jboss.org/browse/AS7 https://issues.jboss.org/browse/AS7. Thanks. Stan</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using the CLI	remote client jar</header>
    <body>Hi Stan, jboss-cli.bat works fine. I think the problem is when I pass *--controller* and *--connect* with the remote client jar, since creating a CLI script where the +connect+ statement is part of the script works fine... I've created this issue: https://issues.jboss.org/browse/AS7-6856 https://issues.jboss.org/browse/AS7-6856 Regards,</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Remoting Development] - SASL and Kerberos</header>
    <body>Working on how Kerberos can be supported with Remoting for  https://issues.jboss.org/browse/REM3-29 REM3-29, the first stage is understanding the unederlying mechanism.  *Please Note, this article is not a user guide, it is a reference guide to hold the information needed so that the issue REM3-129 can be implemented.* Whilst there is some JDK documentation this does not go into the finer details, the implementation makes quite a few assumptions so this article is to capture the additional detail. h1. Client OS local Kerberos configuration can be used to specify the Ream and KDC, alternatively JVM wide system properties can be used: - On the client side unless you fallback to default JAAS configurations the SASL negotiation needs to be within a PrivilegedAction where a Subject for the local clients identity is passed in: -             @Override To obtain the subject a JAAS LoginContext is used with the 'com.sun.security.auth.module.Krb5LoginModule' LoginModule, although JAAS is used we don't need the configuration within a descriptor - we can provide a simplified configuration for the client and dynamically configure the LoginContext. No special configuration of the LoginModule is required on the client side.  There are three configuration options for the client: - 1. Use a supplied CallbackHandler to prompt the client for the username and password, the LoginModule will then obtain their Kerberos tickets. 2. Configure to use a keytab without prompting - useful for unattended processes e.g. server instances. 3. Configure to use local OS cache i.e. if user obtained Kerberos ticket on OS log on use this identity. The client side does not require the 'storeKey' option being set to true although if a process is both a client and a server this can be set to true. Inside the PriviledgedAction the SaslClient can be obtained as: - Sasl.createSaslClient(MECHS, null, "remoting", "test2", Collections.EMPTY_MAP, The parameters are: - 1. Array of mechanisms, in this case just "GSSAPI" 2. The authorization ID, if not supplied it will default to the username at REALM of the user. 3. Protocol 4. Server host name 5. Configuration options 6. Callback Handler *The values for protocol and server host name are criticial to the negotiation process.* In this example before the communication with the server commences the client side will automatically send a TGS-REQ to the KDC for the server name 'remoting/test2' - this is an integral part of the process an if this server is not known by the KDC the process will terminate. Do also note that the host name may undergo the following conversion, the comment in the code openly admints that this is against the RFC but goes ahead and does it anyway.  The end result is that the name could end up being the fully qualified host name of the remote service.  If the server name does not match then the original supplied name is used. // RFC4120 does not recommend canonicalizing a hostname. // However, for compatibility reason, we will try // canonicalize it and see if the output looks better.   String canonicalized = (InetAddress.getByName(hostName)). For this TGS-REQ a service principal mapping on the KDC is sufficient, however there are also issues on the server side of this to consider. There are a couple of options which could be passed in, one is to enable server_auth, this setting means that in addition to the server verifying the identity of the client the client will also verify the identity of the server. At the stage of the SASL message exchange the CallbackHandler on the client is not required to handle any callbacks, the client side idenity has already been established when the Subject was obtained. If this was SPNEGO the web browser would be verifying the DNS name of the server it is connecting to, we should consider if our client should allow any flexibility in the setting of server host name or should we mandate that it does match the host name we are connecting to - at the same point also consider banning connection to IP addresses as DNS is also fundamental to this. h1. Server As for the client side the Realm / KDC configuration is required, again this can either be configured using OS specific configuration or the same system properties can be set. On the server a Subject needs to be obtained similar to how one was obtained for the client, this time the Subject is for the identity of the server - all the Sasl calls will then be within a PriviledgedAction. When the Subject for the server is obtained here it is essential that 'storeKey' is set to true for the LoginModule, this will store the KerberosKeys for the server in the PrivateCredentials of the Subject. On the server side the SaslServer can be obtained with: - SaslServer saslServer = Sasl.createSaslServer(GSSAPI, "remoting", "test2", Collections.EMPTY_MAP, Here the parameters are: - 1. Chosen mechanism "GSSAPI" 2. Protocol 3. Server Host Name 4. Configuration options 5. Callback Handler On the server side the protocol and server host name are again critical to the process but this time they affect how the PrivateCredentials of the Subject are searched. In this example the protocol is 'remoting', the server host name is 'test2' and from the system properties the realm is 'DARRANL.JBOSS.ORG', the private credentials of the Subject will be searched for KerberosKeys with the prinicipal name " mailto:remoting/test2 at DARRANL.JBOSS.ORG remoting/test2 at DARRANL.JBOSS.ORG" On the server side an error indicating "Mechanism level: Failed to find any Kerberos Key" most likely translates to mean that no key has been found with the expected principal name. The server identity does need to match the identity the client received in the TGS-REP from the TGS-REQ that the client sent in, however I need to verify if the names within the Subject also need to match or if we can just allign the createSaslServer identity with what is provided in the Subject.  The reason this needs to be considered is that it may be desirable to just have a single Kerberos identity on the server for both Remoting and HTTP, however for HTTP the identity may already be mapped to HTTP/test2 The only Callback that needs to be supported is the AuthorizeCallback, by default the authentication ID will be in the form username at REALM - there may be some desire to drop the @REALM part. In the exchange between the client and the server we do need to be able to support 0 length SASL messages. There is also an option that may be possible to set on the server side if the identity is only being used for incomming requests and that is to set isInitiator to false, this removes one round trip with the KDC.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the community aggregate:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/pom.xml pom.xml. 2. For changes to your component within the production aggregate:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/pom.xml pom.xml. 3. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/integration-stack-base.target integration-stack-base.target,  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/core-base.target core-base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target 2. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. JBoss Central Discovery Updates *Goal:* Modify the JBoss Central mylyn discovery install/update mechanism. JBoss Central, based on  http://wiki.eclipse.org/Mylyn/Discovery Mylyn Discovery, is in part a UI for installing new features into Eclipse or JBDS. It provides a richer, yet simpler UI than what Eclipse's p2 Install Manager provides out of the box. For detailed information see  https://community.jboss.org/docs/DOC-48297 https://community.jboss.org/wiki/JBossCentralsSoftwareUpdateTab-HowDoesItWork 1. For changes to the discovery update:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/discovery 2. Follow the same git process as defined in the Components Updates section. 3. Modify the discovery connector descriptors and installation units as needed within the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/discovery/plugins/org.jboss.tools.central.discovery.soa-tooling/plugin.xml discovery plugin. 4. Add any icons that may be required. h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *discovery* - provides JBoss Central discovery support * *Jenkins* - * *target platform* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform * *aggregate* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate * *aggregate publish/promote* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish * *discovery* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery * *install tests* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform.  For more information and an example on how to refer to the target platform definition, see:  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/README.md https://github.com/jbosstools/jbosstools-integration-stack/blob/master/README.md h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 4.1).  This should serve as an early warning system to identify platform incompatibilities early in the process.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Missing	user.properties</header>
    <body>We have a web application that uses com.sun.security.auth.callback.TextCallbackHandler, javax.security.auth.login.LoginContext and com.sun.security.auth.module.NTLoginModule to do Windows NT security. I've been using it successfully in Tomcat without having to configure Tomcat in any way.  Our app handles the authentication.  When I copy my app over to JBoss 7 I get the error "*PB00015: Null Value:Missing users.properties file."* when invoking loginContext.login.  How do I suppress this and allow the login to occur? I've tried messing around with jboss-web.xml, jboss.xml, standalone.xml, login-config.xml and my web.xml to no avail.  I bundle my own copy of jaas.jar.  I include the following in web.xml to avoid conflicts.   &lt;context-param&gt;     &lt;param-name&gt;org.jboss.jbossfaces.WAR_BUNDLES_JSF_IMPL&lt;/param-name&gt;     &lt;param-value&gt;true&lt;/param-value&gt; I did the following things. jboss-web.xml &lt;?xml version="1.0"?&gt; &lt;jboss-web&gt;   &lt;jboss-web&gt;   &lt;context-root&gt;rdWeb&lt;/context-root&gt;   &lt;/jboss-web&gt;  jboss.xml &lt;?xml version="1.0"?&gt; &lt;jboss-web&gt;   &lt;jboss&gt;   &lt;security-domain&gt;rdWeb&lt;/security-domain&gt;   &lt;/jboss&gt;   Thanks in advance,                                    Clifton Sothoron</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss Jaas Jersey Rest Authentication and forwarding</header>
    <body>Hi, I have the following Rest service which bypasses the form login and instead authenticates via the Rest service. This is working fine EXCEPT......I need to call the rest URL twice before I am forwarded to the home.xhtml page. The first time I get the login screen. Now, what I don't understand (and can't get to work) is that I am presented with the login screen ALTHOUGH there is a session AND the JAAS login worked already during the first call. Why does the Server not recognize there is already an authenticated session in the browser. How can this be fixed ? Or is there another mechanism I need to implement ? Maybe I am missing some fundamental understanding here ? @GET     public void login(@PathParam(value = "username") String username,             @PathParam(value = "password") String password,             @Context HttpServletRequest request,             @Context HttpServletResponse response) throws NamingException,         // all is well         String passwordhash = Util.createPasswordHash("MD5",         userService = (UserService) new InitialContext()         User user = userService.getUserByUsernameAndPassword(username,             // Response.             // TODO Auto-generated catch block             // TODO Auto-generated catch block I tried both Response.temporaryRedirect and the response.sendRedirect. Both have the same effect. Do I need to implement a filter or something? Thanks for your help! Coenos</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Jboss5.1 Migration to JBoss7.1 Custom-JNDI-Handling</header>
    <body>|   | |   Hello together, in our applications we used to define jndi-mappings in jboss.xml: &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;jboss (http://www.coderanch.com/forums/f-63/JBoss)&gt;    &lt;enterprise-beans&gt;      &lt;session&gt;        &lt;ejb-name&gt;ContractPortfolioProcessServiceBean&lt;/ejb-name&gt;        &lt;jndi-name&gt;com/fja/ipl/customer/ilis/contractportfolio/ContractPortfolioProcessService&lt;/jndi-name&gt;      &lt;/session&gt;    &lt;/enterprise-beans&gt; &lt;/jboss&gt; ithis jboss.xml was placed then in META-INF of that ejb-jar So it was easy to lookup for that bean like: public static ContractPortfolioProcessService lookupContractPortfolioProcessService() #JBoss java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory java.naming.provider.url=jnp://localhost:1099 java.naming.factory.url.pkgs=org.jboss.naming http://cache-www.coderanch.com/images/smilies/jr-redface.gif  (http://cache-www.coderanch.com/images/smilies/jr-redface.gif)rg.jnp.interfaces How can it be made on JBOSS7? Due ejb3-spec  in JBOSS7 they can also define jboss-ejb3.xml like this: &lt;jboss:ejb-jar xmlns:jboss="http://www.jboss.com/xml/ns/javaee"                 xmlns="http://java.sun.com/xml/ns/javaee"                 xmlns:iiop="urn:iiop"                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"                 xsi:schemaLocation="http://www.jboss.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-ejb3-2_0.xsd                    http://java.sun.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-ejb3-spec-2_0.xsd                    urn:iiop jboss-ejb-iiop_1_0.xsd"                 version="3.1"                 impl-version="2.0"&gt;      &lt;enterprise-beans&gt;           &lt;session&gt;              &lt;ejb-name&gt;CounterBean&lt;/ejb-name&gt;              &lt;mapped-name&gt;org/jboss/as/quickstarts/ejb/remote/stateful/CounterBean&lt;/mapped-name&gt;                &lt;/session&gt;      &lt;/enterprise-beans&gt;      &lt;assembly-descriptor&gt;          &lt;iiop:iiop&gt;              &lt;ejb-name&gt;CounterBean&lt;/ejb-name&gt;              &lt;iiop:binding-name&gt;org/jboss/as/quickstarts/ejb/remote/stateful/CounterBean&lt;/iiop:binding-name&gt;          &lt;/iiop:iiop&gt;      &lt;/assembly-descriptor&gt; &lt;/jboss:ejb-jar&gt; It deploys also errorless. But i did not find any dokumentation to lookup my ejb like in example above. Who can help me giving a hint in this case? How is the jndi.properties-Configuration would be in this case? |</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Servlet 3 login fails with javax.servlet.ServletException: No authenticator available for programmatic login</header>
    <body>Hi I have been tring to get Jboss As7.1.1 working with opanAm and all seems to be going ok up to now (I have altered the openamAgent to use servlet login as the prior impl raised a classnotfoundexception). I have built a global module that contains the classes used and my application is redirected to the openAm servers login page as expected. but when the agent call to request.login is doen the above exception is thrown. I have the following in my standalone.xml &lt;security-domain name="AMRealm" cache-type="default"&gt;                     &lt;authentication&gt;                         &lt;login-module code="com.sun.identity.agents.jboss.v40.AmJBossLoginModule" flag="required"&gt;                             &lt;module-option name="unauthenticatedIdentity" value="anonymous"/&gt;                         &lt;/login-module&gt;                     &lt;/authentication&gt;                 &lt;/security-domain&gt; And the following in Jboss-web.xml &lt;jboss-web&gt;     &lt;security-domain&gt;AMRealm&lt;/security-domain&gt; &lt;/jboss-web&gt; Do I have to do anything else to get this to work ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: Servlet 3 login fails with javax.servlet.ServletException: No authenticator available for programmatic login</header>
    <body>The answer is yes you do you need an entry in web.xml to prevent the above exception |  | &lt;security-constraint&gt; | |      | &lt;web-resource-collection&gt; | |          | &lt;web-resource-name&gt;All resources&lt;/web-resource-name&gt; | |          | &lt;description&gt;Protects all resources&lt;/description&gt; | |          | &lt;url-pattern&gt;*.do&lt;/url-pattern&gt; | |      | &lt;/web-resource-collection&gt; | |  | &lt;/security-constraint&gt; | I also found that you now need a jboss-web.xml file aswell as a jboss-app.xml, in the old versions of AS 4.2.3 the jboss-app.xml was all that was needed in an ear file.. I have now ported openam 3.0.3 agent to work using a module in as7 via servlet3 login and the changes above</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>h1. Overview This document describes notions for how different software distributions based on the JBoss AS 7 project can integrate with the base AS and with each other in a controlled manner. +* *+ h1. Fundamental Concepts h2. Distribution A coherent set of software produced by a "project" or a "product". JBoss AS 7 is a project. JBoss EAP is such a product. Both play similar technical roles in the JBoss ecosystem, but there are significant differences in how the two are made available to end users. This article uses "distribution" as a replacement for constantly saying "project/product" everywhere. It's not a great term; if someone has a better one, please suggest it. h2. Distribution Base The "distribution base" is the core set of modules, bundles and miscellaneous files that is common to all layered distributions. It may itself be usable standalone project or product. Currently the software produced by the JBoss AS 7 project and the JBoss EAP product are the distribution bases relevant to this discussion. In the future a more limited subset of functionality may become the distribution base, with the full set of functionality currently provided in community AS and EAP coming as layered distributions or add-ons. h2. Layered Distribution A distribution that builds on top of the distribution base, potentially superceding some of the distribution base's functionality. A layered distribution is allowed to supercede any aspect of the distribution base's functionality. The less the layered distribution does this, the easier it will be for the layered distribution to manage things like patching, but, if necessary, a layered distribution can supercede anything in the distribution base. A layered distribution may build on top of another layered distribution, provided it has worked out the necessary procedures to ensure compatibility. h2. Identity An identity is a named set of distribution base + layered distribution(s) that is certified as a valid combination. The distribution base by itself may or may not be a valid identity. Currently it is; in the future it may not be. The software produced by a given layered distribution may be associated with more than one identity. h3. Patching and Identities Patches are applicable to an identity. A given patch can apply to more than one identity, if there are no conflicts between the identities in terms of how they use the items modified by a patch. The metadata associated with a patch will indicate the identities to which it is applicable. Patches are comprised of one or more discrete +patch elements+ each of which is produced by the distribution base or by one of the layered distributions associated with the identity. A patch element includes metadata describing the element along with any added or modified files. The patch element metadata will identify the provider of the patch component. A given patch element can be used in multiple different patches. For example, a patch element upgrading the distribution base can be included in several patches produced by different identities, with each patch also including a patch element upgrading a layered distribution used in that identity. For example, let's say an identity named I consists of the distribution base and a layered distribution named A. Version 1.0 of identity I is based on version 2.0 of the distribution base and version 1.0 of layered distribution A. The distribution base produces a patch element that will move it to version 2.1. The producers of the I identity could then produce a patch that will result in version 1.1 of identity A. This would include a patch element upgrading layered distribution A to its version 1.1, as well as the separate element that provides the distribution base upgrade to its 2.1. There are two main benefits of this sharing approach: * The modules and bundles provided by the distribution base upgrade are associated with the original 2.1 patch provided by the distribution base, not just with the enclosing patch provided by A. This will make possible the sharing of modules/bundles provided by patches across installations. * Incorporating one patch within another as a simple discrete unit helps avoid errors during patch production. For modules and bundles within a patch, once the patch is applied the association of the module or bundle with the distribution base or layer that provided it is retained within the installation. The association is encoded within the filesystem path that points to the patch version of the module or bundle. Miscellaneous files within a patch are not associated with the distribution base or any particular layered distribution once they are installed. For example bin/standalone.sh is bin/standalone.sh no matter what patch component added or modified it. Each identity produces a patch stream. Because a given patch can apply to more than one identity, the same patch can appear in multiple patch streams. The distribution base and layered distributions can produces +patch elements+ but they cannot themselves produce +patches+ or a patch stream. Since a patch must be associated with an an identity, only an identity (or a group of cooperating identities) can produce a patch. If there is an identity that consists of nothing but the distribution base, that identity can produce a patch. But this is logically not the same thing as saying the distribution base itself produced the patch, even though the practical effect is similar. h2. Installation An installation is a single filesystem location containing the distribution base plus zero or more layered distributions. It includes the bin/ dir from which processes are launched. The root of the installation is the path indicated by the $JBOSS_HOME environment variable referred to in the scripts and indicated by the jboss.home.dir system property used in the java code. h3. Installation Identity Each installation has a *+single identity+*. Because an installation only has a single identity, there is no confusion as to which layered distribution "owns" a particular filesystem location in that installation. Further, because the identity of an installation can be easily determined (see "Establishing Identity" below), external tools can quickly understand the functionality provided by a given installation, even if no process is currently running from the installation. +TODO further spell out the importance of single identity.+ h3. Sharing Files Across Installations+ + The files that comprise modules and bundles are potentially sharable across installations. Making it easy for users to do this should be a key goal. Miscellaneous files are not sharable across installations. An end user could potentially share them using symlinks, but doing so is not a supported feature nor is it a recommended practice. Patches are not sharable across installations. The +modules and bundles that the patch provides+ are potentially sharable, but the miscellaneous files provided by a patch are not sharable. The patching history metadata that the patching tool records in the installation is also not sharable -- the metadata is associated with the given installation. However, making it easy to share the the modules and bundles provide by a patch across installations should be a key goal. h2. Add-On Distribution An add-on distribution is a set of software that extends the capabilities of a given "identity". An add-on can only extend capabilities. It is not allowed to supercede capabilities of the identity it extends. For modules and OSGi bundles, the module and bundle loading logic provided by the distribution base will enforce this behavior. For miscellaneous files, it is up to the people providing an add-on to ensure that the add-on does not overwrite any file provided by the distribution base, any layered distribution associated with the identity or any other add-ons associated with the identity. Conversely, once the providers of an identity have accepted an add-on into their ecosystem, it is their responsibility to ensure that they do not add any files to their distributions that will conflict with files already provided by the add-on. In practice, the most likely sources of conflict will be the xml files in the configuration directories and the .conf files in the bin directory. Conflicts over xml files are solvable by having add-on providers ship their own xml file variants rather than attempting to modify the standard ones that ship with the identity. A given add-on is allowed to extend the capabilities of more than one identity. An add-on may require the presence of other add-ons. h3. Patching and Add-ons Add-on distributions produce their own patch stream. The patches produced by an add-on indicate the versions of the identity that must be present for the patch to apply. More than one identity can be listed, since add-ons may be applicable to multiple identities. The patches produced by an add-on also indicate the existing version of the add-on that must be present, as well as the version of any other required add-ons. Add-ons cannot use patches in their own stream to fix problems in the identity on which they depend. Add-ons depend on the patch stream provided by their dependent identity to provide such fixes. Modules and bundles provided by an add-on or its patches will have lower precedence in the module loading order than those that come from the distribution base or layered distributions, so any fix to such a module/bundle provided by an add-on patch will have no effect. h1. Installers +TODO discussion of RPM+ h2. Distribution Base Installers The distribution base can be installed via a simple unzip. If the distribution base is itself an identity, see also "Identity Installers" h2. Identity Installers An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions. * An unzip onto a filesystem location that already contains a depended upon identity or the installation base of a zip that only includes the layered distribution(s) to be added. * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an identity is installed into a given filesystem location, the identity of that installation is irrevocably changed.+* When an identity is installed it has the right to modify any miscellaneous files in the installation filesystem, so once an identity is installed, the identity of the installation is changed. In many (hopefully nearly all) cases it may be possible for a user to remove files added by an identity install and get the installation back to its previous identity, but doing this is not a supported feature of the software and is not a recommended practice. *+However, once support for installing patches via the patching tool is available, reverting an identity installation will be possible.+* The patching tool maintains backup copies of any miscellaneous files modified by a patch, making it possible to restore those files. h2. Add-on Installer An add-on can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions along with the add-on itself. * An unzip onto a filesystem location that contains the depended upon identity of a zip that only includes the add-on. * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an add-on is installed into a given filesystem location, the identity of that installation is not changed, and it must be possible to reverse the installation.+* An add-on is merely additive, so removing it is a matter of deleting what was added. This could be done via a script provided by the add-on, via an installer program, or manually by a user following a set of instructions. h1. Establishing Identity It +must+ be possible for external tools to determine the identity of a given installation without requiring the software based on that installation to be running. It's also necessary for the software based on an installation to determine its own identity. The identity of an installation is provided via the bin/product.conf file located in the distribution. The product.conf file is a simple properties file that contains the following property: slot=&lt;simple string name for identity&gt; For example: slot=eap The value of "slot" is used by the running software to identify the "slot" portion of the identifier of a jboss-modules module. The software uses the slot to load a module named org.jboss.as.product:&lt;value of slot property&gt;, e.g. org.jboss.as.product:eap. The software will then read manifest properties included in the META-INF/MANIFEST.MF file located in that module to find out other identifying information for the identity. Currently supported manfiest properties include: * JBoss-Product-Release-Name -- Provides the name of the identity for use in the management API and in places like the startup and shutdown log messages. * JBoss-Product-Release-Version -- Provides the version of the identity for use in the management API and in places like the startup and shutdown log messages. * JBoss-Product-Console-Slot -- Used to drive what variant of the management console should be loaded. The notion here is there are different streams of consoles being produced, one for community AS releases and one for product releases, differentiated primarily by cosmetic differences. This property drives which of the two streams of console releases should be used when the console module is loaded. +The use of "Slot" in this property name is a bit unfortunate since it implies an implementation detail that may very well change. The name of the property may change in a future minor release of the AS or EAP and will very likely change in the next major release. The values we used for this attribute in AS 7 and EAP 6.0 and 6.1 are "main" to indicate the community console stream and "eap" to indicate the product console stream. These values are also unfortunate in that "main" implies an implementation detail and "eap" implies the console is not appropriate for other products based on EAP. Better values would be "community" and "product" or something like that. These values may also change in a future minor release of the AS or EAP and will very likely change in the next major release.+ If no bin/product.conf file exists, the installation is assumed to be the community version of the distribution base. If the product.conf file contains other properties besides slot, the software will use those properties to set system properties in the runtime. However, the properties in the file will not take precedence over other mechanisms for setting system properties (i.e. the command line, the standard scripts or the xml configuration files.) Note also that the reading of product.conf occurs after primordial boot, so this mechanism should not be used for setting properties needed immediately on launch. The values are unknown to the JVM launcher, will be unknown to jboss-modules when it sets up the modular classloading environment, and will be unknown to the logging system until any logging subsystem in the xml configuration file is processed. The software based on the installation will also need to know the name of any layered distributions used by the identity, in order of the precedence to be used when loading their modules and/or bundles. This information will be done via a modules/layers.conf file located in the distribution. This file will be a simple properties file that includes a single property: layers=&lt;comma delimited list of layered distribution names with earlier names taking precedence&gt; For example, assuming we have layered distribution named "soa" and "brms" with "brms" taking precedence over "soa": layers=brms,soa There is no need to include "base" in the list of layers; if not present "base" will be appended to the list of layers as the lowest precedence layer. It is legal to include "base" in the list, though. If the modules/layers.conf file does not exist or no layered distributions are named in it, only the base and any add-ons will be used. h1. Module Loading JBoss AS currently loads modules based on a "module path" which is a list of filesystem locations which JBoss Modules searches for modules. In our standard launch scripts, users are able to manipulate this module path by setting the $JBOSS_MODULEPATH environment variable. If not set, $JBOSS_MODULEPATH is set to $JBOSS_HOME/modules. The module path is provided to the running process via the -mp command line argument that is set in our standard scripts. This mechanism creates a single default location under which modules can be located. This is problematic when layered distributions and add-ons wish to install their own modules, since there are no clear rules as to how those modules should be installed or how they relate to one another. h2. Goals * To make it easy for layered distributions or add-ons to add their modules to the set of available modules or remove their modules from the set of available modules, without fear of physically overwriting modules provided by others. * To establish clear rights and responsibilities for providers of the distribution base, layered distributions and add-ons with respect to how their modules should be managed. * To establish clear rules for how distributions that add modules that must take precedence over other modules provided by other distributions with the same name and slot should:* locate those modules * indicate at launch time to the modular classloading system the precedence order * To make it easy for end users to alter the module path for their own purposes by setting $JBOSS_MODULEPATH without needing to concern themselves with details of how the modules provided by the distribtuion base, layered distributions, or add-ons relate to one another. Reserve the use of $JBOSS_MODULEPATH and the value of the -mp command line argument passed to jboss-modules for end use uses. h2. Rights and Responsibilities of Module Providers All modules provided as part of the distribution base can be depended upon by any add-on associated with an identity. If the distribution base by itself is an identity (i.e. with no additional layered distribution required), the providers of the distribution base accept the following with respect to that identity: * The version of the module the distribution base provides will take precedence over a module with the same name and slot provided by any add-on. * As a consequence of this, any modification of that module in a patch will need to be tested for compatibility with add-ons based on the version of the identity being patched. * As a subset of the previous point, within a major version family the distribution base cannot remove a module that is depended upon by an add-on, even if the distribution base itself no longer needs that module. If the distribution base is part of an identity along with one or more layered distributions, the providers of the distribution base accept the following with respect to that identity: * The distribution base has the same responsibilities with respect to add-ons that it has in the case of add-ons without any layered distribution. * However, if a layered distribution in an identity provides a module with the same name and slot as the one provided by the distribution base, the distribution base no longer has responsibility to provide the module. The layered distribution's version of the module takes precedence. * The distribution base can modify a module that is depended upon by a layered distribution in a way that breaks functionality of the layered distribution. Providers of identities that include layered distributions are responsible for testing patch elements produced by the distribution base before making them available for use with the identity. If the distribution base patch element in some way breaks the functionality of an identity, either the patch element should not be provided for the identity, or the patch that incorporates the distribution base patch element should also include a layered distribution patch element that fixes the problem.* However, the distribution base should take great care not to break layered distributions with which it is associated when it produces patch elements. Distribution base patch element production should involve reasonable testing of all relevant identities such that problems can be found and resolved before the distribution base patch element ships. * The distribution base can remove a module that is not depended upon by any add-on but which is depended upon by a layered distribution. Providers of identities that include layered distributions are responsible for testing patch elements produced by the distribution base before making them available for use with the identity. If the distribution base removes a module depended upon by a layered distribution, the patch that incorporates the distribution base patch element should also include a layered distribution patch element that adds the module as part of the layered distribution. * If an identity add-on depends on a module provided by the distribution base and the distribution base wishes to remove the module, that is allowed provided some layered distribution is willing to begin providing the same module in an overall patch. All modules provided as part of a layered distribution can be depended upon by any add-on associated with an identity. They cannot be depended upon by the distribution base. When a layered distribution includes a module it accepts the following: * The version of the module it provides will take precedence over a module with the same name and slot provided by the distribution base or by any add-on. * As a consequence of this, any modification of that module in a patch element will need to be tested for compatibility with add-ons based on that version of the identity. Any functionality provided by the distribution base and supported by the identity will also have to be tested. * As a subset of the previous point, within a major version family the layered distribution cannot remove a module that is depended upon by an add-on, even if the layered distribution itself no longer needs that module. * A layered distribution can remove a module that is not depended upon by any add-on. If a layered distribution participates in an identity with another layered distribution that depends on it, the depended-on layer accepts the following: * If the dependent layered distribution provides a module with the same name and slot as the one provided by the depended-on layer, the depended-on layer no longer has responsibility to provide the module to the dependent or to any add-ons. The dependent layered distribution's version of the module takes precedence. * The depended-on layer can modify a module that is depended upon by another layer in a way that breaks functionality of the dependent. Providers of identities that include layered distributions are responsible for testing patch elements produced by the component layers before making them available for use with the identity. If the depended-on layer's patch element in some way breaks the functionality of an identity, either the patch should not be provided for the identity, or the patch element that incorporates the depended-on layer's patch component should also include a patch element to a dependent layer that fixes the problem.* However, a depended-on layer should take great care not to break dependent layers when it produces patch elements. Layered distribution patch production should involve reasonable testing of all relevant identities such that problems can be found and resolved before the depended-on layer's patch ships. * A depended-on layer can remove a module that is not depended upon by any add-on but which is depended upon by another layer. Providers of identities that include layered distributions are responsible for testing patch elements produced by a depended-upon layered distribution before making them available for use with the identity. If the depended-upon layer removes a module that is depended upon by another layer, the patch that incorporates the depended-upon layer's patch element should also include a patch element from the dependent layer distribution that adds the module as part of that layered distribution. * If an add-on depends on a module provided by the layered distribution and the layered distribution wishes to remove the module, that is allowed provided some other layered distribution in the identity is willing to begin providing the same module in an overall patch. When an add-on includes a module, it accepts the following with respect to any identity with which the add-on is associated: * The distribution base or a layered distribution may ship a module with the same name and slot, and that module +*will*+ take precedence over the module provided by the add-on. * Another add-on may ship a module with the same name and slot, and that module +*may*+ take precedence over the module provided by this layered distribution or add-on. * Another add-on may ship a module with the same name and slot, and the version provided by this layered distribution or add-on +*may*+ take precedence over the module provided by the other add-on. * As a consequence of this, any modification of the depended-upon module in a patch element will need to be tested for compatibility with any add-on based on the same major version of the identity.* The providers of the add-on are responsible for providing an adequate set of tests to the providers of the identity. * The distribution base or a layered distribution cannot depend upon a module provided by an add-on. * As a consequence of the previous point, an add-on can remove a module in a patch, without fear of breaking the core functionality of an identity. * An add-on can depend up a shareable module provided by another add-on upon which it depends, but +only with the express consent of the providers of that add-on+. Such dependencies are strongly discouraged. * If an add-on allows another add-on to depend upon its modules, it takes on the following responsibilities:* Any modification of that module in a patch or version upgrade will need to be tested for compatibility with any dependent add-ons. Testing procedures must be created to ensure that any patches produced by the depended-upon add-on do not break the dependent add-on. * As a subset of the previous point, within a major version family the add-on cannot remove a module that is depended upon by another add-on, even if the add-on itself no longer needs that module. h2. Module Organization on the Filesystem This section will describe how the above points are reflected in the actual organization of modules on the filesystem. h4. Requirement for Standardized Module Loading JBoss Modules can support other mechanisms for finding module content and loading it besides the filesystem-based module path mechanism. Theoretically a custom boot module loader implementation could be specified at process launch, with that module loader using some other means for locating module content. This article proposes that this capability be declared as unsupported for JBoss AS and products based upon it. Rather, the AS will have a specified boot module loader implementation. Users of the AS community project are free to use a non-standard boot module loader implementation, but if they do so and certain features provided by the AS don't work, that is their problem. h3. Filesystem Layout Modules would be organized on the filesystem as follows: modules + system ++ add-ons +++ abc +++ def ++ layers +++ base +++ vuw +++ xyz The system level exists to separate modules associated with the distribution base, layered distribution or add-ons from those the end user may store in the modules directory. +(Note: in earlier versions of this document, "internal" was used instead of "system" with a request for suggestions of something better.)+ h3. Translation of Filesystem Layout into Module Loading Precedence For any location provided by the user via the -mp switch, the module loader will look for the system structure. The module loader will understand the structure above and will apply module loading precedence rules as follows. Assume the above structure exists under $JBOSS_HOME and that the user sets $JBOSS_MODULEPATH as follows JBOSS_MODULESPATH=/user/me/my-modules;$JBOSS_HOME/modules In addition, the bin/product.conf file declares that the identity of the install is xyz, the xyz layered distribution should be loaded and the xyz layered distribution depends on the vuw layered distribution. Assume also that patches named base-1, abc-1, def-1, vuw-1, xyz-1 and xyz-2 have been applied. The module loader would look for modules on the filesystem in following locations, starting with first and terminating as soon as the module is found: /user/me/my-modules /modules (in case the user placed modules directly in under this directory) /modules/system/layers/xyz/patches/xyz-2 /modules/system/layers/xyz/patches/xyz-1 /modules/system/layers/xyz /modules/system/layers/vuw/patches/vuw-1 /modules/system/layers/vuw /modules/system/layers/base/patches/base-1 /modules/system/layers/base /modules/system/add-ons/abc/patches/abc-1 /modules/system/add-ons/abc /modules/system/add-ons/def/patches/def-1 /modules/system/add-ons/def The precedence order between /modules/system/add-ons/abc and /modules/system/add-ons/def is arbitrary. An add-on should never assume its modules will take precedence over those of any other add-on's modules. The fact that the various patches locations are included in the path is entirely due to +metadata+ that the patching tool will store in the $JBOSS_HOME/patches directory. The mere presence of a directory like /modules/system/layers/xyz/patches/xyz-2 is insufficient to trigger inclusion of that directory in the module search path. However, when the patching tool installs the patch, the actual location of the +module contents+ will be in /modules/system/layers/xyz/patches/xyz-2 -- only patching related metadata will be stored in $JBOSS_HOME/patches. This behavior is important for allowing sharing of modules across installations. h2. Sharing Modules Across Installations The above behavior makes it relatively straightforward for a user to share modules across installations. For example, the user could set up a shared module repo in /user/me with the following structure jboss-module-repo + add-ons ++ abc ++ def + layers ++ base ++ vuw ++ xyz The $JBOSS_HOME/modules/system location in each installation on the filesystem could then be replaced with a symlink to /user/me/jboss-module-repo. The downside to this very simple sharing is the abc and def add-ons will be visible and used by all installations, whether or not they are relevant to the installation's identity. A solution to this problem would be to do more symlinks: $JBOSS_HOME/modules/system/layers -&gt; /user/me/jboss-module-repo/layers $JBOSS_HOME/modules/system/add-ons/abc -&gt; /user/me/jboss-module-repo/add-ons/abc $JBOSS_HOME/modules/system/add-ons/def -&gt; /user/me/jboss-module-repo/add-ons/def As an improvement at some point we could define some sort of file format (say xml) and allow a file with that format to be placed in $JBOSS_HOME/modules/system in lieu of the subdirectories. The file would include all of the mapping information for the external repo. The boot module loader, patching tool and any programmatic installers would know how to read and update that file. The file would only include information for the add-ons relevant to the installation. h3. Implications for the Patching Tool The possibility of module sharing doesn't remove the requirement to apply a patch to each installation on a given filesystem. Applying the patch to each installation is required in order to: *  update any miscellaneous files * record the patching metadata for the particular installation * allow the patching tool to understand what combinations of layered distributions and add-ons are relevant to the given installation However, the patching tool should recognize the possibility of this kind of module sharing. When it applies a patch it should recognize that the modules may already exist on the filesystem and should not apply them again if not necessary. It should however record some information in, e.g. /modules/system/layers/xyz/patches/xyz-2 indicating that the installation being patched is using that set of patch modules. This information will prevent deletion of patch modules used by multiple installations if one of the installations uses the patching feature's cleanup functions. h1. OSGi Bundle Loading OSGi bundle loading will follow the same rules as for module loading. The file used to specify what layers should be used will be a layers.conf file found in each directory in the bundle path (i.e. $JBOSS_HOME/bundles/layers.conf.) +The bundle loading mechanism will not use+ +$JBOSS_HOME/modules/layers.conf for identifying layers. Identities that wish to include bundles in layers other than the base will need to provide a $JBOSS_HOME/bundles/layers.conf.+</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Advice on adding issues to	Jira</header>
    <body>As I continue to learn my way around jBPM I think I've found a couple of issues that the developers might need to be aware of. These are either bugs, features or potential updates. Can anyone offer guidance on how to raise these on Jira? (Is there a guidance not on what should be raised via Jira and what should be left on the user forum?) For example, as I am using 5.4.0.Final do I enter raise everything against that version even though it may be a suggested update for later versions? Thanks Andy McC</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Advice on adding issues	to Jira</header>
    <body>This is a really good question, I appreciate you asking this. I usually suggest to report the issue, in Jira you can select the affected version and the developers will choose the version in which the bug or the feature request will be included. In order to create an Issue you should have a jira account and inside it you can select the project, in this case jBPM. Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Advice on adding issues	to Jira</header>
    <body>Thank you Mauricio, I'll do as you suggest. I've been working my way through your book and blogs - it's nice to be able to say hello! Best regards Andy McC</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Advice on adding issues	to Jira</header>
    <body>Hey Andy, I appreciate your comments on the book and blog! I'm looking forward to start writing again about the new stuff that we are creating now. Let's stay in touch, if you have more issues or suggestion please let us know. Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Embeddable EJBContainer and JBoss 7.1.1.Final</header>
    <body>I have the same problem here. May someone clarify this problem? I am using Concordion, so, I cannot use Arquillian for now.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7 System	Properties</header>
    <body>The system-property=* resources represent user-provided configuration that was +read from and will be persisted to the standalone/domain/host.xml config files+. It's not the complete set of system properties. So when you do the :add operation you adding persistent configuration, not just changing the value of the property in the running VM. If you want to modify a property that already exists in the VM but wasn't part of the persistent configuration, use the :add operation as described above. I recognize this isn't exactly intuitive.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Trouble with postgres and	jbpm-console</header>
    <body>I have some existing jbpm processes. processinstancebytearray field (in processinstanceinfo table) is configured to be a type of  bytea, instead of oid. But when I try to create an instance of process in jbpm-console, I get an exception "... is of +type bytea but expression+ is  of +type of oid ... ". + I wonder, how can I configure jbpm-console to use  same mappings, as my existing processes</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - DeliverAsynch loosing data on the Message.</header>
    <body>Hi guys, I noticed that when I invoke a service using Invoker.deliverAsync method, I see that any data I have on the Body of the message except the data against the default entry is lost in the invoked service. So if have - *message.getBody.add("default") and* *message.getBody.add("test", "testData");* *In the invoked service I cannot get to testData*. I can get to the default value, which is stored against the jboss default key. Any ideas on why the message data is lost ? May be the implementation only copies the default value over. What are my alternate options to pass some data. I am playing with settng this data against the Properties and it seems to be working. Thanks</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: DeliverAsynch loosing data on the Message.</header>
    <body>Turns out this has nothing to do DeliverAsynch call but rather we had an action in called Service which was doing a JMS routing with unwrap='true' flag. When this flag is used only the message body at default (if no location is specified) location is copied over - hence we were loosing all other body location other than default one. Regards Soltar</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7 System	Properties</header>
    <body>Ok, but is there a way to get the value of the system property "java.version" out of the jboss.cli? This would be nice in scripts to get values from other servers you have deployed to - maybe for generating log output.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Compensating Transactions: When ACID is too much</header>
    <body>I'm using this article as a place for people to review a blog post I'm preparing. The plan is to base my JUDCon:Boston talk roughly on this blog post. In addition to this theory, my presentation will include plenty of code examples for each of the scenarios. These code examples will demonstrate the current design of the compensations API. I'll also be adding sections at the end to explain what we have implemented so far and our future roadmap. My current thoughts are that this text is too long for a blog post. h1. Compensating Transactions: When ACID is too much. h1. Part 1: Introduction ACID transactions are a useful tool for application developers and can provide very strong guarantees, even in the presence of failures. However, ACID transactions are not always appropriate for every situation. ACID transactions are achieved by holding locks on resources and require the ability to rollback changes. In some situations, the blocking nature of the protocol can be too limiting to performance, especially if the transaction is distributed. Also, some actions can’t simply be rolled back; for example, sending an email. A common strategy for applications that can’t use ACID, is to throw out transactions altogether. However, with this approach you are missing out on many of the benefits that transactions can provide. There are alternative transaction models that relax some of the ACID properties, while still retaining many of the strong guarantees essential for building robust enterprise applications. These should be considered before deciding not to use transactions at all. In a recent post I talked about the work we are doing, in the Narayana project, to improve support for compensation-based transactions. In this post I’ll show the recent improvements we've made and how this technology can be applied to scenarios in which ACID transactions are frequently seen as inappropriate. What is a ‘Compensation-based transaction’? In an ACID transaction, changes are not visible outside of the transaction until it completes. An atomic outcome is guaranteed using a two-phase protocol in which locks are obtained prior to the first phase and released in the second phase. The transaction manager guarantees an atomic outcome, even in the presence of failures. [TODO: show sequence diagram with locks] In a compensation-based transaction, changes are visible outside of the transaction as soon as they are made. If any of the participants are unsuccessful, the transaction compensates those participants that have already completed their work. This compensation action is application specific and is required to ‘undo’ the changes made by the transaction. Similarly to the ACID transaction, the transaction manager guarantees an atomic outcome, even in the presence of failures. [TODO: show sequence diagram with locks] h4. When are Compensation-based Transactions a good fit? h6. Non-transactional work ACID transactions rely on the work supporting rollback. This is fine for work that interacts with transactional resources, such as databases or message queues. However actions like sending an email cannot be rolled back. Here a compensation-based transaction can be used as an alternative. In this case the compensation action is to send another email notifying the recipient of the final outcome. Alternatively, you may have multiple XA (two-phase) aware resources, but due to performance reasons you need to run them in one-phase mode. Maybe you have a combination of transactional and non-transactional work. In this case the transactional work can be rolled back, if required, whilst the non-transactional resources are compensated. Also, you may have transactional resources or services, but, for whatever reason, they will not participate in an existing transaction. This can occur when you try to compose multiple services outside of your control. For example, a travel agent application may compose a transaction of calls to third party services. Providing these services offer an interface for cancelling (compensating) a booking, you should be able to use a compensation-based transaction to coordinate them. If you find yourself needing to coordinate multiple non-transactional tasks, you should consider using compensations. h6. Cross-Domain Distributed Transactions When your application becomes distributed, you greatly increase the chances of failure. Many of these failures can be tolerated by using a distributed ACID transaction. However, this approach is often dismissed as impractical for a number of reasons. The first is that distributed transactions tend to take longer to run, due to the increased communication latency. This can cause big problems for your throughput as the duration of held locks greatly increases. The second issue is that all the servers in the distributed transaction become tightly-coupled. Furthermore, the server that begun the transaction has full control over when the transaction should complete (ignoring the option of making a heuristic decision, which is really bad!). This may be acceptable if all the servers reside in the same business domain, but it’s rarely acceptable for cross-business domain applications. Compensation-based transactions can be used to solve both of these problems. The latency imposed by the distributed transaction does not result in holding of locks for extended periods as the work is completed immediately, rather than waiting until the end of the transaction. If this work was a database update, it would be committed immediately. A second database update would be made to undo the change, should compensation be required. Compensation-based transactions also encourage a loosely-coupled architecture as each participant offers a more natural interface to the coordinator. For example, in a flight booking example, the service interface would consist of ‘bookFlight’ and ‘cancelFlight’ operations (‘cancel’ being the compensating action). h6. Long Lived Transactions (LLT) ACID transactions are not particularly well suited for transactions that take a long time to run. This is because they acquire locks on resources as they progress and don’t release them until the transaction completes. In the meantime, other transactions, requiring that data, are blocked. Furthermore, a failure of a long running transaction results in the loss of all work completed so far. A compensation-based transaction can be composed of multiple short-lived ACID transactions. When each transaction completes, it releases the locks on the data it held, allowing other transactions, requiring that data, to proceed. A compensation action is registered for each ACID transaction. These actions are invoked, in reverse order, for all completed transactions, should the LLT need to be aborted. Furthermore, should one of these short-lived transactions fail, it could be possible to find an alternative, preventing the entire transaction from failing, and allowing forward progress to be achieved. Also, in some situations, as the transaction progresses, you may decide to abort just part of the transaction. For example, take a travel booking example. We begin by booking a flight. We then try to book a taxi, but that fails. At this point we don’t want to compensate the flight as it may be fully-booked next time we try. Therefore we try to find an alternative Taxi, which in this example succeeds. Later, in the LLT, we may find a cheaper flight, in which case we want to cancel the original flight whilst keeping the taxi and booking the cheaper flight. In this case we notify our intentions to the transaction manager who ensures that the more expensive flight is compensated when the LLT completes. h6. Conclusion In this blog post I’ve introduced the concept of a compensation-based transaction and showed how it could be used to provide strong guarantees in situations that are not applicable for ACID transactions. Most of what is discussed here is already supported through our WS-BA implementation. We are currently in the process of decoupling this technology from Web Services and improving the developer API.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Compensating Transactions: When ACID is too much</header>
    <body>Also the Activity Service, which was the basis for the Web Services transactions work:  http://www.theserverside.com/news/1365143/ACID-is-Good-Take-it-in-Short-Doses http://www.theserverside.com/news/1365143/ACID-is-Good-Take-it-in-Short-Doses</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Compensating Transactions: When ACID is too much</header>
    <body>I don't think it's too long for a blog post, but if you do then why not break it up into a series? ACID does not require locks. You can use timestamps, for instance. It's also wrong to say that locking "achieves" ACID transactions, since locks (or some form of concurrency control) is only applicable to the I in ACID. You mention the blocking nature of transactions, but don't say why it exists. It's not to do with locking, but that is the inference. Unfortunately whilst the strict 2PC protocol guarantees atomicity, no transaction manager actually implement that otherwise we'd have transactions that don't (can't) complete. Hence heuristics. In general I think there are too many generalities in the text so far, such as "In a compensation-based transaction, changes are visible outside of the transaction as soon as they are made." That's only true for certain compensation transaction models, not all. And they don't guarantee an atomic outcome any more than ACID transaction managers do.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Compensating Transactions: When ACID is too much</header>
    <body>Thanks for taking a look... I'm kind of using this as a way of preparing the content for my JUDCon talk, so it will get longer when I add the code examples. I've split it into 4 parts now, so this should solve the problem. Agreed, I'll update the text. I agree. I think this has come as a side-effect of me trying to reduce the amount of text (I'm concerned that people won't read it if it's too long; but clearly accuracy is paramount). Hopefully turning this into a four-part series will give me the space to explain things more accurately.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Compensating Transactions: When ACID is too much</header>
    <body>I'm using this article as a place for people to review a blog post I'm preparing. The plan is to base my JUDCon:Boston talk roughly on this blog post. In addition to this theory, my presentation will include plenty of code examples for each of the scenarios. These code examples will demonstrate the current design of the compensations API. I'll also be adding sections at the end to explain what we have implemented so far and our future roadmap. h1. Compensating Transactions: When ACID is too much. h1. Part 1: Introduction ACID transactions are a useful tool for application developers and can provide very strong guarantees, even in the presence of failures. However, ACID transactions are not always appropriate for every situation. ACID transactions are achieved by holding locks on resources and require the ability to rollback changes. In some situations, the blocking nature of the protocol can be too limiting to performance, especially if the transaction is distributed. Also, some actions can’t simply be rolled back; for example, sending an email. A common strategy for applications that can’t use ACID, is to throw out transactions altogether. However, with this approach you are missing out on many of the benefits that transactions can provide. There are alternative transaction models that relax some of the ACID properties, while still retaining many of the strong guarantees essential for building robust enterprise applications. These should be considered before deciding not to use transactions at all. In a recent post I talked about the work we are doing, in the Narayana project, to improve support for compensation-based transactions. In this post I’ll show the recent improvements we've made and how this technology can be applied to scenarios in which ACID transactions are frequently seen as inappropriate. What is a ‘Compensation-based transaction’? In an ACID transaction, changes are not visible outside of the transaction until it completes. An atomic outcome is guaranteed using a two-phase protocol in which locks are obtained prior to the first phase and released in the second phase. The transaction manager guarantees an atomic outcome, even in the presence of failures. [TODO: show sequence diagram with locks] In a compensation-based transaction, changes are visible outside of the transaction as soon as they are made. If any of the participants are unsuccessful, the transaction compensates those participants that have already completed their work. This compensation action is application specific and is required to ‘undo’ the changes made by the transaction. Similarly to the ACID transaction, the transaction manager guarantees an atomic outcome, even in the presence of failures. [TODO: show sequence diagram with locks] h1. Compensating Transactions: When ACID is too much. Part 2: Non-Transactional Work h4. Introduction [TODO] h6. Non-transactional work ACID transactions rely on the work supporting rollback. This is fine for work that interacts with transactional resources, such as databases or message queues. However actions like sending an email cannot be rolled back. Here a compensation-based transaction can be used as an alternative. In this case the compensation action is to send another email notifying the recipient of the final outcome. Alternatively, you may have multiple XA (two-phase) aware resources, but due to performance reasons you need to run them in one-phase mode. Maybe you have a combination of transactional and non-transactional work. In this case the transactional work can be rolled back, if required, whilst the non-transactional resources are compensated. Also, you may have transactional resources or services, but, for whatever reason, they will not participate in an existing transaction. This can occur when you try to compose multiple services outside of your control. For example, a travel agent application may compose a transaction of calls to third party services. Providing these services offer an interface for cancelling (compensating) a booking, you should be able to use a compensation-based transaction to coordinate them. If you find yourself needing to coordinate multiple non-transactional tasks, you should consider using compensations. h1. Compensating Transactions: When ACID is too much Part 3: Cross-Domain Distributed Transactions h3. Introduction [TODO] When your application becomes distributed, you greatly increase the chances of failure. Many of these failures can be tolerated by using a distributed ACID transaction. However, this approach is often dismissed as impractical for a number of reasons. The first is that distributed transactions tend to take longer to run, due to the increased communication latency. This can cause big problems for your throughput as the duration of held locks greatly increases. The second issue is that all the servers in the distributed transaction become tightly-coupled. Furthermore, the server that begun the transaction has full control over when the transaction should complete (ignoring the option of making a heuristic decision, which is really bad!). This may be acceptable if all the servers reside in the same business domain, but it’s rarely acceptable for cross-business domain applications. Compensation-based transactions can be used to solve both of these problems. The latency imposed by the distributed transaction does not result in holding of locks for extended periods as the work is completed immediately, rather than waiting until the end of the transaction. If this work was a database update, it would be committed immediately. A second database update would be made to undo the change, should compensation be required. Compensation-based transactions also encourage a loosely-coupled architecture as each participant offers a more natural interface to the coordinator. For example, in a flight booking example, the service interface would consist of ‘bookFlight’ and ‘cancelFlight’ operations (‘cancel’ being the compensating action). h1. Compensating Transactions: When ACID is too much Part 4: Long Lived Transactions (LLT) h3. Introduction [TODO] h6. ACID transactions are not particularly well suited for transactions that take a long time to run. This is because they acquire locks on resources as they progress and don’t release them until the transaction completes. In the meantime, other transactions, requiring that data, are blocked. Furthermore, a failure of a long running transaction results in the loss of all work completed so far. A compensation-based transaction can be composed of multiple short-lived ACID transactions. When each transaction completes, it releases the locks on the data it held, allowing other transactions, requiring that data, to proceed. A compensation action is registered for each ACID transaction. These actions are invoked, in reverse order, for all completed transactions, should the LLT need to be aborted. Furthermore, should one of these short-lived transactions fail, it could be possible to find an alternative, preventing the entire transaction from failing, and allowing forward progress to be achieved. Also, in some situations, as the transaction progresses, you may decide to abort just part of the transaction. For example, take a travel booking example. We begin by booking a flight. We then try to book a taxi, but that fails. At this point we don’t want to compensate the flight as it may be fully-booked next time we try. Therefore we try to find an alternative Taxi, which in this example succeeds. Later, in the LLT, we may find a cheaper flight, in which case we want to cancel the original flight whilst keeping the taxi and booking the cheaper flight. In this case we notify our intentions to the transaction manager who ensures that the more expensive flight is compensated when the LLT completes. h6. Conclusion In this blog post I’ve introduced the concept of a compensation-based transaction and showed how it could be used to provide strong guarantees in situations that are not applicable for ACID transactions. Most of what is discussed here is already supported through our WS-BA implementation. We are currently in the process of decoupling this technology from Web Services and improving the developer API.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Session was not initialized error while running jBPM on Tomcat 7</header>
    <body>Hi, I am trying to install jBPM 5.4 on Tomcat 7 by following the guide mentioned in  https://community.jboss.org/people/bpmn2user/blog/2011/01/21/test https://community.jboss.org/people/bpmn2user/blog/2011/01/21/test link. I am able to see the login page. I have given the login credentials as krisv/krisv I am getting below exception when click on the login button. please help me on this. I am new to jBPM * URL: ' http://localhost:8080/gwt-console-server/rs/tasks/krisv http://localhost:8080/gwt-console-server/rs/tasks/krisv' * Action: 'org.jboss.bpm.console.client.task.LoadTasksAction' * Exception: 'class com.google.gwt.http.client.RequestException' HTTP 500:  h1. HTTP Status 500 - java.lang.RuntimeException: Session was not initialized, check previous errors in log ---- *type* Exception report *message* java.lang.RuntimeException: Session was not initialized, check previous errors in log *description* The server encountered an internal error that prevented it from fulfilling this request. *exception* org.jboss.resteasy.spi.UnhandledException: java.lang.RuntimeException: Session was not initialized, check previous errors in log  org.jboss.resteasy.core.SynchronousDispatcher.unwrapException(SynchronousDispatcher.java:345)  org.jboss.resteasy.core.SynchronousDispatcher.handleApplicationException(SynchronousDispatcher.java:321)  org.jboss.resteasy.core.SynchronousDispatcher.handleException(SynchronousDispatcher.java:214)  org.jboss.resteasy.core.SynchronousDispatcher.handleInvokerException(SynchronousDispatcher.java:190)  org.jboss.resteasy.core.SynchronousDispatcher.getResponse(SynchronousDispatcher.java:534)  org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:496)  org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:119)  org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:208)  org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55)  org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:50)  javax.servlet.http.HttpServlet.service(HttpServlet.java:728)  org.jboss.bpm.console.server.util.GWTJsonFilter.doFilter(GWTJsonFilter.java:59)  *root cause* java.lang.RuntimeException: Session was not initialized, check previous errors in log  org.jbpm.integration.console.StatefulKnowledgeSessionUtil.getStatefulKnowledgeSession(StatefulKnowledgeSessionUtil.java:89)  org.jbpm.integration.console.SessionInitializer.&lt;init&gt;(SessionInitializer.java:25)  org.jbpm.integration.console.TaskManagement.&lt;init&gt;(TaskManagement.java:52)  org.jbpm.integration.console.ManagementFactory.createTaskManagement(ManagementFactory.java:26)  org.jbpm.integration.console.ManagementFactory.createTaskManagement(ManagementFactory.java:19)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Compensating Transactions: When ACID is too much</header>
    <body>I'm using this article as a place for the community to review a series of blog posts I'm preparing. The plan is to base my JUDCon:Boston talk roughly on this series of blog posts. The code examples will demonstrate the current design of the compensations API. I'll also be adding sections at the end of the talk, to explain what we have implemented so far and our future roadmap; I'm not sure how much of this I will cover in the blog posts. Maybe I'll have a part 5, that covers this. h1. Compensating Transactions: When ACID is too much. h1. Part 1: Introduction ACID transactions are a useful tool for application developers and can provide very strong guarantees, even in the presence of failures. However, ACID transactions are not always appropriate for every situation. In this series of blog posts. I'll present several such scenarios and show how an alternative  non-ACID transaction model can be used. The isolation property of an ACID transaction is typically acheived through optimistc [REF] or pessimistic [REF] concurrency control. Neither approach works well if the duration of the transaction exceeds a few seconds [REF]. This can frequently be the case for transactions involving slow participants (humans, for example) or those distributed over high latency networks. Also, some actions can’t simply be rolled back; such as, the sending of an email or the invocation of some third-party service. A common strategy for applications that can’t use ACID, is to throw out transactions altogether. However, with this approach you are missing out on many of the benefits that transactions can provide. There are many alternative transaction models that relax some of the ACID properties, while still retaining many of the strong guarantees essential for building robust enterprise applications. These models are often refered to as "Extended Transaction models" and should be considered before deciding not to use transactions at all. In the Narayana project, we have support for two Extended Transaction models; "Nested Transactions" and a compensation-based model based on "Sagas" [REF]. In this series of blog posts I'll be focusing on the compensation-based approach. The following three posts will each focus on a particular area where compensation-based transations could prove to be a better fit than ACID transactions. I'll also present the latest iteration of our new API, that was first introduced in [REF]. In the final part i'll cover the current status of this API and present the current roadmap for the outstanding features. What is a ‘Compensation-based transaction’? In an ACID transaction, changes are not visible outside of the transaction until it completes. An atomic outcome is guaranteed using a two-phase protocol in which locks are obtained prior to the first phase and released in the second phase. The transaction manager guarantees an atomic outcome, even in the presence of failures. [TODO: show sequence diagram with locks] In a compensation-based transaction, changes are visible outside of the transaction as soon as they are made. If any of the participants are unsuccessful, the transaction compensates those participants that have already completed their work. This compensation action is application specific and is required to ‘undo’ the changes made by the transaction. Similarly to the ACID transaction, the transaction manager guarantees an atomic outcome, even in the presence of failures. [TODO: show sequence diagram with locks] h1. Compensating Transactions: When ACID is too much. Part 2: Non-Transactional Work h4. Introduction [TODO] h6. Non-transactional work ACID transactions rely on the work supporting rollback. This is fine for work that interacts with transactional resources, such as databases or message queues. However actions like sending an email cannot be rolled back. Here a compensation-based transaction can be used as an alternative. In this case the compensation action is to send another email notifying the recipient of the final outcome. Alternatively, you may have multiple XA (two-phase) aware resources, but due to performance reasons you need to run them in one-phase mode. Maybe you have a combination of transactional and non-transactional work. In this case the transactional work can be rolled back, if required, whilst the non-transactional resources are compensated. Also, you may have transactional resources or services, but, for whatever reason, they will not participate in an existing transaction. This can occur when you try to compose multiple services outside of your control. For example, a travel agent application may compose a transaction of calls to third party services. Providing these services offer an interface for cancelling (compensating) a booking, you should be able to use a compensation-based transaction to coordinate them. If you find yourself needing to coordinate multiple non-transactional tasks, you should consider using compensations. h1. Compensating Transactions: When ACID is too much Part 3: Cross-Domain Distributed Transactions h3. Introduction [TODO] When your application becomes distributed, you greatly increase the chances of failure. Many of these failures can be tolerated by using a distributed ACID transaction. However, this approach is often dismissed as impractical for a number of reasons. The first is that distributed transactions tend to take longer to run, due to the increased communication latency. This can cause big problems for your throughput as the duration of held locks greatly increases. The second issue is that all the servers in the distributed transaction become tightly-coupled. Furthermore, the server that begun the transaction has full control over when the transaction should complete (ignoring the option of making a heuristic decision, which is really bad!). This may be acceptable if all the servers reside in the same business domain, but it’s rarely acceptable for cross-business domain applications. Compensation-based transactions can be used to solve both of these problems. The latency imposed by the distributed transaction does not result in holding of locks for extended periods as the work is completed immediately, rather than waiting until the end of the transaction. If this work was a database update, it would be committed immediately. A second database update would be made to undo the change, should compensation be required. Compensation-based transactions also encourage a loosely-coupled architecture as each participant offers a more natural interface to the coordinator. For example, in a flight booking example, the service interface would consist of ‘bookFlight’ and ‘cancelFlight’ operations (‘cancel’ being the compensating action). h1. Compensating Transactions: When ACID is too much Part 4: Long Lived Transactions (LLT) h3. Introduction [TODO] h6. ACID transactions are not particularly well suited for transactions that take a long time to run. This is because they acquire locks on resources as they progress and don’t release them until the transaction completes. In the meantime, other transactions, requiring that data, are blocked. Furthermore, a failure of a long running transaction results in the loss of all work completed so far. A compensation-based transaction can be composed of multiple short-lived ACID transactions. When each transaction completes, it releases the locks on the data it held, allowing other transactions, requiring that data, to proceed. A compensation action is registered for each ACID transaction. These actions are invoked, in reverse order, for all completed transactions, should the LLT need to be aborted. Furthermore, should one of these short-lived transactions fail, it could be possible to find an alternative, preventing the entire transaction from failing, and allowing forward progress to be achieved. Also, in some situations, as the transaction progresses, you may decide to abort just part of the transaction. For example, take a travel booking example. We begin by booking a flight. We then try to book a taxi, but that fails. At this point we don’t want to compensate the flight as it may be fully-booked next time we try. Therefore we try to find an alternative Taxi, which in this example succeeds. Later, in the LLT, we may find a cheaper flight, in which case we want to cancel the original flight whilst keeping the taxi and booking the cheaper flight. In this case we notify our intentions to the transaction manager who ensures that the more expensive flight is compensated when the LLT completes. h6. Conclusion In this blog post I’ve introduced the concept of a compensation-based transaction and showed how it could be used to provide strong guarantees in situations that are not applicable for ACID transactions. Most of what is discussed here is already supported through our WS-BA implementation. We are currently in the process of decoupling this technology from Web Services and improving the developer API.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Can I show my apps' knowledge session in the jBPM Console?</header>
    <body>In case anyone is trying to do the same thing, I've got this largely going now.  The big piece I was missing is that the console is just using the logs, so as long as I log to the same DB the console is using (with JPAWorkingMemoryDbLogger) everything pretty much automagically works.  I use either JBPMHelper.newStatefulKnowledgeSession(kbase) (if I start from my app) or JBPMHelper.loadStatefulKnowledgeSession(kbase, sessionId) if I want to use the knowledge session started from the Console.  Also, I don't dispose of the session of course if I am borowing the Console's.  I read somewhere that you can give the session a business id (and soon do the same from your own code so that they automatically use the same session), but currently I have a kludge that just assume the highest session is the one from the Console (if I want to borrow that one). Hope that helps someone. -J</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - org.xnio.SingalOption can not cast to org.xnio.Option comes at call ejb remote</header>
    <body>hey guys, I am unable to call remote ejb by run time cahnage the configuration of the EJBConfiguration properties. Please help me!!!!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How to get the task	workItemId</header>
    <body>Hi, I have List of TaskSummary . I want to know how to get the workItemId using taskId or is there any other options to get the task workItemId?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Compensating Transactions: When ACID is too much</header>
    <body>I can't track changes in this  ;)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Compensating Transactions: When ACID is too much</header>
    <body>What do you mean? Is the diff tool, accessible via the magnifying-glass link at the top right, not sufficient?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - How to download a file from esb service ?</header>
    <body>Hi All, I have a service to export data to csv/ excel file. I want when invoke this service browser will automatic download this file. It looks simple with *HttpServletResponse* at here  http://www.mkyong.com/java/how-to-download-file-from-website-java-jsp/ http://www.mkyong.com/java/how-to-download-file-from-website-java-jsp/ But it too difficult with JBOSS ESB. Someone know this please help me. Thanks,</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: How to download a file from esb service ?</header>
    <body>Are you looking to create an output file from a message? There is a quickstart example that shows this: http://anonsvn.jboss.org/repos/labs/labs/jbossesb/trunk/product/samples/quickstarts/helloworld_file_notifier http://anonsvn.jboss.org/repos/labs/labs/jbossesb/trunk/product/samples/quickstarts/helloworld_file_notifier</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: How to download a file from esb service ?</header>
    <body>Hmm,,, It's ok but the file output is located at the server side not at client side !!. I want to get this file when access the link of esb service</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - What implementation of Queue does JBOSS SOA use?</header>
    <body>Is it the javax.jms.Queue ? If not then the Sun version then ??</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: How to read a process definition in jbpm 5.4?</header>
    <body>That's it ! i was looking for this : Thank U.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - SSLImplementation</header>
    <body>Hi, Currently (jbossweb-7.0.13.Final) one needs to extend Http11Protocol and set a SSLImplementation (not null) in order to use a custom SSLImplementation (e.g. for a customized handling of failed handshakes). It would be nice if the SSLImplementation could be set as part of the connector declaration, e.g. by introducing a new variable in WebConnectorService and calling the setter from the appropriate protocoll class. Regards</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: getHandle() equivalant	in EJB3</header>
    <body>Hello, I am also looking for a solution for the same problem, have you found any solution yet?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: getHandle() equivalant	in EJB3</header>
    <body>Yes I did find the solution, my apologies for not updating the this thread. Basically there is no need to do anything special, in EJB3 you can simply serialize the remote object directly, i.e. ObjectOutputStream out = **new** ObjectOutputStream(*new* ﻿</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS8 Security	Dashboard</header>
    <body>This article will act as the central dashboard for all security related discussions and articles for JBoss AS8. h2. Security UseCases/Discussions (Please place appropriate links in this section) 1. JBoss Modules Security Use Cases/Discussions 2. Java Security Manager Use Cases/Discussions 3. Web Container Security Use Cases/Discussions 4. EJB Container Security Use Cases/Discussions 5. JCA Container Security Use Cases/Discussions 6. Messaging Container Security Use Cases/Discussions 7. JACC Use Cases/Discussions 8. CSIV2 Use Cases/Discussions</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jBPM Developer in Folsom CA</header>
    <body>*Duration: 3-6 months* *Rate: $75 per hour on a W2 All inclusive or $87.50 per hour on a 1099 All inclusive* *Location: Folsom CA* *US Citizens, Canadian Citizens and Green Card Holders  Encouraged to apply!* *Exp : Java 10 yrs with solid jbpm 5.0* ** *Requirement:* Looking for a solid candidate with JBOSS jbpm 5.0.  With possible additional skills. IT applications Experience in IT applications development, design, and analysis and data modeling.  Expert level knowledge of Java/J2EE - Experience in implementing SOA solutions including SOAP - Using Source Control Systems - jBPM - Automated Builds - Continuous Integration - Automated Acceptance Testing - Code reviews - Experience with design techniques such as Domain-Driven Design, Design by Contract, and Domain Specific Languages. - Familiarity with Agile methodologies - Development technologies: - Java frameworks (Hibernate, spring, EJB3, JSF, Tapestry, Groovy/Grails a plus) - Application Servers (JBoss) - RBDMS (Oracle, PL/SQL) - Testing Tools - Some experience with dynamic languages (Groovy, Ruby, Python, JavaScript) *Thanks,* *Pranav DamleTalent Acquisition ManagerAgile Global Solutions, Inc ....."Empowering Enterprises"Offices in CA, CT, NC, OH and PA* http://www.linkedin.com/in/pranavadamle +http://www.linkedin.com/in/pranavadamle+*916-293-3433 Direct |* *pranav at agileglobal.com* (mailto:pranav at agileglobal.com) *|* *www.agileglobal.com* (http://www.agileglobal.com/)**</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - StaleObjectStateException	error occurring.</header>
    <body>I am having trouble with a JBPM workflow where the StaleObjectStateException is being thrown while processing the "end" of a workflow process. In this instance we are running JBPM 3.2.7 We have gone round and round with this problem, trying to see what is causing the issue.  The worst thind that happens when this occurs to us, is that the workflow process starts itself over again at the start task.  This looping is causing a major headache. Does anyone have any thoughts about what may be causing the looping or the error in the first place. Let me know if there are more relevant details that you may need for this. Also of note, this occurs when I process a single transaction at a time in the system.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Historical queries in Jbpm5</header>
    <body>Hi All, i am evaluating jbpm5 for our project purpose. i am building a test workflow solution that involves "processInstance per process definition" approach. for each new ProcessInstance , a Pojo model is stored as process variable and persistence is enabled . deployment mechanism is "web-application" deployed in tomcat. There is an admin page , where i want to provide a search functionality based on attributes of  "Pojo model" stored as process variable. for example "Job Pojo" stored as process variable has tow attributes "creation date" and "finished date" , and "status (current state it is in)" and  i want to perform a query: "get all process instances with creationDate &gt; 'date1' and  finishedDate' &lt;  'date2' and  status == "confirmEmployee (which is aprocess defn task node)" . admin can perform any search query based on attributes of  "process varaible pojo". how to achieve this in Jbpm5 ?. thanks Mayank Sahai</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Narayana	Release Process</header>
    <body>This page provides a list of instructions that must be done *in order* when doing a release of Narayana. h2. Check JIRA 1. Check all issues resolved. 2. Create next point release version if not exists - this is so you can push issues in step 3 below. 3. Unresolved issues should be resolved or pushed. h2. Check Hudson Ensure no test failures in the following group of hudson tests (for the branch you intend to release): * 4.16 Branch : jbossts-branch416-* * 4.17 Branch : jbossts-branch417-* * 5 Branch: jbossts-narayana-* h2. Do Release h3. Git Branches (4.17 and 5 only) Must be done first as the build-release-packages.xml relies on the tag being available for  REPO in documentation quickstart narayana do BRANCH=&lt;4.17|master&gt; CURRENT=&lt;Point version to release&gt; NEXT=&lt;point version of next release, likely to be $CURRENT+1&gt; git clone  mailto:git at github.com git at github.com:jbosstm/$REPO.git cd $REPOgit checkout $BRANCH find . -name \*.java -o -name \*.xml -o -name \*.properties -o -name \*.ent -o -name \INSTALL -o -name \README | grep -v ".svn" | grep -v ".git" | grep -v target | grep -v .idea | xargs sed -i "s/4\([._]\)17\([._]\)$CURRENT\([._]\)Final-SNAPSHOT/4\117\2$CURRENT\3Final/" git commit -am "Updated to 4.17.$CURRENT.Final" git tag 4.17.$CURRENT.Final find . -name \*.java -o -name \*.xml -o -name \*.properties -o -name \*.ent -o -name \INSTALL -o -name \README | grep -v ".svn" | grep -v ".git" | grep -v target | grep -v .idea | xargs sed -i "s/4\([._]\)17\([._]\)$CURRENT\([._]\)Final/4\117\2$NEXT\3Final-SNAPSHOT/" git commit -am "Updated to 4.17.$NEXT.Final-SNAPSHOT" git push origin $BRANCH --tags cd .. done h3. Update our AS7 fork BRANCH=4_BRANCH CURRENT=&lt;Point version to release&gt; NEXT=&lt;point version of next release, likely to be $CURRENT+1&gt; git clone git at github.com:jbosstm/jboss-as.git cd jboss-as git checkout $BRANCH sed -i "s/4.17.$CURRENT.Final-SNAPSHOT/4.17.$NEXT.Final-SNAPSHOT/g" pom.xml git commit -am "Updated to 4.17.$NEXT.Final-SNAPSHOT" git push origin $BRANCH h2. Build and release CURRENT=&lt;Point version to release&gt; mkdir -p ~/narayana/filemgmt.jboss.org/ On Linux: sshfs jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ On MacOS: sshfs -o defer_permissions jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ git clone git at github.com (mailto:git at github.com):jbosstm/narayana.git cd narayana git checkout 4.17.$CURRENT.Final On Linux: ant -f build-release-pkgs.xml dist downloads docs magnolia -Drsync=false On MacOS: ant -f build-release-pkgs.xml dist downloads docs magnolia h3. svn branches #Make sure your checkout has no local changes svn update svn status POINT_VERSION=5 NEXT_POINT_VERSION=6 #Update the version in text files svn commit -m "Updated to version 4.16.$POINT_VERSION.Final" #Tag the release: #Bump to next version using similar find to above #Update the maven version of jbossts in our fork of JBossAS:  https://github.com/jbosstm/jboss-as https://github.com/jbosstm/jboss-as git checkout 4_16_BRANCH git pull --rebase --ff-only #Check no local changes git status git push #Build and deploy the release to nexus staging: mkdir ~/filemgmt.jboss.org/ sshfs -o defer_permissions  mailto:jbosstm at filemgmt.jboss.org jbosstm at filemgmt.jboss.org: ~/filemgmt.jboss.org/ ant -f build-release-pkgs.xml dist mvn-repository downloads magnolia h3. h2. Release the artifact through Nexus 1.  https://repository.jboss.org/nexus/index.html#welcome https://repository.jboss.org/nexus/index.html#welcome 2. login 3. "Staging Repositories" 4. Click tickbox for your repo 5. Click "Close" 6. Don't worry about a description, just click "Close" 7. Click tickbox after it is closed 8. Click "Release" 9. Again a description doesn't matter h2. JIRA Release 1. Close all issues for the release 2. Mark as released (Need admin permissions) h2. Update Website Update the Narayana community site: * Login to Magnolia*  https://www.jboss.org/author/.magnolia/pages/adminCentral.html https://www.jboss.org/author/.magnolia/pages/adminCentral.html * Login with credentials: Tom and Paul know these, ask them. * Documentation* Browse to 'jbosstm/documentation' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.documentation.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the documentation list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Downloads* Browse to 'jbosstm/downloads' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.downloads.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the downloads list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Announcement* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'announcement' pane * Update the announcement for this release. * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. * Release notes* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'getting started' pane on the right-hand-side * Edit the release notes url to point to the release notes for this version * Click save * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. h2. Push Upstream If appropriate for this release, update AS7. 1.  https://issues.jboss.org/browse/AS7 https://issues.jboss.org/browse/AS7 2. create a new 'component update' issue. 1. Ensure the module is set to 'transactions' 2. select an appropriate 'fix for'. 3. Assign it to yourself. Now update the code in your fork: #cd to *your* fork of AS7 BRANCH=master  # master for JBossTS-4.17.x and 7.1 for JBossTS-4.16.x JIRA=AS7-5815 PREVIOUS=4.17.1.Final CURRENT=4.17.2.Final git checkout $BRANCH git pull --rebase --ff-only upstream $BRANCH sed -i "s/$PREVIOUS/$CURRENT/g" pom.xml git add pom.xml rm -rf ~/.m2/repository/org/jboss/jbossts rm -rf ~/.m2/repository/org/jboss/narayana ./build.sh clean install 1. Raise a pull request 2. Once merged, resolve the Jira issue. h2. Promote NOTE: It is worth waiting for the merge of the pull request before advertising, or at least wait for the merge build notification first  ;) Promote the release through the following channels: 1. Email jbossts-announce at lists.jboss.org (mailto:jbossts-announce at lists.jboss.org) 2. Forum 3. Blog: project in (jbtm, blacktie) AND fixversion = "5.0.0.M2" AND priority &gt;= major AND issuetype not in (Bug, task) AND resolution not in ("Duplicate Issue", Rejected, "Won't Fix", "Out of Date", "Cannot Reproduce Bug")</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ManagementLayer	RBAC</header>
    <body>Without objection, I'll rename this page to Management Layer Access Control. RBAC was a kind of shorthand but pretty quickly discussions led into including contextual information beyond "roles".</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Internal and External Human	Task Service</header>
    <body>I'm new to jBPM and trying to understanding the implementation options of the Human Task Service. From my understanding I can expose the Human Task Service via a web service for external applications. I'm wondering if I can do the following:      - Deploy/package the Human Task Service with my core jBPM project so both the Human Task Service and Process Engine run in the same JVM.      - Use the LocalHTWorkItemHandler from within my core jBPM project to interact with the Human Task Service.      - Invoke the same Human Task Service via a web service from additional external applications. Any feedback is greatly appreciated.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Internal and External	Human Task Service</header>
    <body>Hi, In that case you need two things, 1) You can have your local task service running with LocalHTWorkItemHandler that will work fine 2) Then you need to have a task service exposed via a transport (Web Services for example) and make sure that the server is also associated with the session that is running the processes, so they can be notified if a task is completed via the Task Service that is exposed via web services. Notice that you have 2 task services, but they share the database, so they share the state. Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Internal and External	Human Task Service</header>
    <body>Thanks for the feedback Mauricio. Regarding point 2, this is the KnowledgeSession correct?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Internal and External	Human Task Service</header>
    <body>Yeah, Session == Ksession == StatefulKnowledgeSession -&gt; in 6.x KieSession</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Management Layer	Access Control</header>
    <body>Role based access control to the AS7 management layer. *Core Concepts* * * When defining an RBAC model, the following conventions are useful: * Subject = A person or automated agent * Role = Job function or title which defines an authority level * Permissions = An approval of a mode of access to a resource * Action = An operation to execute on a resource * Constraint: Predicate that makes the permission valid in the context of the system state * Session = A mapping involving Subject, Role and/or Permissions https://community.jboss.org/servlet/JiveServlet/showImage/102-47854-31-19855/PermissonModel2.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-47854-31-19855/450-235/PermissonModel2.png *Generic Requirements* * Provide a usable (in terms of complexity), yet comprehensive base model * Provide a set of out-of-the-box roles &amp; permissons that reflect common authorization requirements * Enable customizations/extension of the default scheme (i.e custom permissions, permission granularity) * Provide management operations to retrieve session information (i.e. roles assigned, permissions granted, etc) * Clearly distinguish security exceptions from other operation errors (i.e. custom response headers) * Mappability with existing authorisation schemes (i.e. JON) *Specific Requirements* * +Support permission enforcement that restricts visibility of model elements: +Control visibility of resources (i.e. restrict visibility of server groups) * +Support permission enforcement that restricts execution on model elements+: Control execution on resources (i.e. lock down certain operations, distinguish read &amp; read/write access) * +The management layer needs to enforce permission regardless of the client type and availability: +I.e. enformenent can not be delegated to the client only+ + * +Clients (CLI, Web) should indicate permissions prior to execution of management operations:+ I.e. grey out interface elements to emphasis lack of permissions * JMX access that isn't delegated to the ModelController needs to be covered by the permission scheme as well *Use cases* See  https://community.jboss.org/docs/DOC-47856 RBACUsecases* * *Advanced Topics* - Context based access control: i.e. Taking the connection into consideration - Support for role hierarchies: i.e. structuring roles to reflect an organizations lines of authority and responsibility - Role constraints: i.e. mutual exclusive roles - RBAC to manage RBAC itself - Ability to hide the existence of a resource altogether, vs the ability to show its existence but hide its content.    The issue here is in some cases the address of the resource itself may provide sensitive information,    e.g. security-realm=ManagementRealm structuring roles to re  ect an organiza   tion  s lines of authority and resp onsibility</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Management Layer	Access Control</header>
    <body>Can a user not have more than one role?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Jbpm 5.4: testing user group assignment using JbpmJunitTestCase</header>
    <body>Looks like your H2 server is not running.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Process instance execution do not continue to the next task after completing a previous task.</header>
    <body>Check the assignee of the next task. Is it the same as you must have put in your bpmn file. If it is blank then you would need to check out your usergroupcallback implementation..</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: getHandle() equivalant	in EJB3</header>
    <body>Hi Mukhtar, Thanks for your reply. For serialization the remote interface need to implement the Serializable interface or not? Also I wonder whether the remote object can be stored in HttpSession as an attribute. Thanks Ashok</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Narayana	Release Process</header>
    <body>This page provides a list of instructions that must be done *in order* when doing a release of Narayana. h2. Check JIRA 1. Check all issues resolved. 2. Create next point release version if not exists - this is so you can push issues in step 3 below. 3. Unresolved issues should be resolved or pushed. h2. Check Hudson Ensure no test failures in the group of hudson tests, for the branch you intend to release. h2. Do Release h3. Git Branches (4.17 and 5 only) Must be done first as the build-release-packages.xml relies on the tag being available for  REPO in documentation quickstart narayana do BRANCH=&lt;4.17|master&gt; CURRENT=&lt;Point version to release&gt; NEXT=&lt;point version of next release, likely to be $CURRENT+1&gt; git clone  mailto:git at github.com git at github.com:jbosstm/$REPO.git cd $REPOgit checkout $BRANCH find . -name \*.java -o -name \*.xml -o -name \*.properties -o -name \*.ent -o -name \INSTALL -o -name \README | grep -v ".svn" | grep -v ".git" | grep -v target | grep -v .idea | xargs sed -i "s/4\([._]\)17\([._]\)$CURRENT\([._]\)Final-SNAPSHOT/4\117\2$CURRENT\3Final/" git commit -am "Updated to 4.17.$CURRENT.Final" git tag 4.17.$CURRENT.Final find . -name \*.java -o -name \*.xml -o -name \*.properties -o -name \*.ent -o -name \INSTALL -o -name \README | grep -v ".svn" | grep -v ".git" | grep -v target | grep -v .idea | xargs sed -i "s/4\([._]\)17\([._]\)$CURRENT\([._]\)Final/4\117\2$NEXT\3Final-SNAPSHOT/" git commit -am "Updated to 4.17.$NEXT.Final-SNAPSHOT" git push origin $BRANCH --tags cd .. done h3. Prepare for an upstream Pull Request (UN-TESTED COMMANDS!!) If appropriate for this release, prepare for a PR to update AS7. 1.  https://issues.jboss.org/browse/AS7 https://issues.jboss.org/browse/AS7 2. create a new 'component update' issue.1. Ensure the module is set to 'transactions' 2. select an appropriate 'fix for'. 3. Assign it to yourself. BRANCH=4_BRANCH JIRA=AS7-5815 CURRENT=4.17.2.Final git clone git at github.com:jbosstm/jboss-as.git cd jboss-as git checkout $BRANCH h3. h3. Update our AS7 fork BRANCH=4_BRANCH CURRENT=&lt;Point version to release&gt; NEXT=&lt;point version of next release, likely to be $CURRENT+1&gt; git clone git at github.com:jbosstm/jboss-as.git cd jboss-as git checkout $BRANCH sed -i "s/4.17.$CURRENT.Final-SNAPSHOT/4.17.$NEXT.Final-SNAPSHOT/g" pom.xml git commit -am "Updated to 4.17.$NEXT.Final-SNAPSHOT" git push origin $BRANCH h2. Build and release CURRENT=&lt;Point version to release&gt; mkdir -p ~/narayana/filemgmt.jboss.org/ On Linux: sshfs jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ On MacOS: sshfs -o defer_permissions jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ git clone git at github.com (mailto:git at github.com):jbosstm/narayana.git cd narayana git checkout 4.17.$CURRENT.Final On Linux: ant -f build-release-pkgs.xml dist downloads docs magnolia -Drsync=false On MacOS: ant -f build-release-pkgs.xml dist downloads docs magnolia h3. svn branches #Make sure your checkout has no local changes svn update svn status POINT_VERSION=5 NEXT_POINT_VERSION=6 #Update the version in text files svn commit -m "Updated to version 4.16.$POINT_VERSION.Final" #Tag the release: #Bump to next version using similar find to above #Update the maven version of jbossts in our fork of JBossAS:  https://github.com/jbosstm/jboss-as https://github.com/jbosstm/jboss-as git checkout 4_16_BRANCH git pull --rebase --ff-only #Check no local changes git status git push #Build and deploy the release to nexus staging: mkdir ~/filemgmt.jboss.org/ sshfs -o defer_permissions  mailto:jbosstm at filemgmt.jboss.org jbosstm at filemgmt.jboss.org: ~/filemgmt.jboss.org/ ant -f build-release-pkgs.xml dist mvn-repository downloads magnolia h3. h2. Release the artifact through Nexus 1.  https://repository.jboss.org/nexus/index.html#welcome https://repository.jboss.org/nexus/index.html#welcome 2. login 3. "Staging Repositories" 4. Click tickbox for your repo 5. Click "Close" 6. Don't worry about a description, just click "Close" 7. Click tickbox after it is closed 8. Click "Release" 9. Again a description doesn't matter h2. JIRA Release 1. Close all issues for the release 2. Mark as released (Need admin permissions) h2. Update Website Update the Narayana community site: * Login to Magnolia*  https://www.jboss.org/author/.magnolia/pages/adminCentral.html https://www.jboss.org/author/.magnolia/pages/adminCentral.html * Login with credentials: Tom and Paul know these, ask them. * Documentation* Browse to 'jbosstm/documentation' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.documentation.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the documentation list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Downloads* Browse to 'jbosstm/downloads' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.downloads.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the downloads list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Announcement* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'announcement' pane * Update the announcement for this release. * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. * Release notes* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'getting started' pane on the right-hand-side * Edit the release notes url to point to the release notes for this version * Click save * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. h2. Push Upstream If appropriate for this release, update AS7. 1.  https://issues.jboss.org/browse/AS7 https://issues.jboss.org/browse/AS7 2. create a new 'component update' issue. 1. Ensure the module is set to 'transactions' 2. select an appropriate 'fix for'. 3. Assign it to yourself. Now update the code in your fork: AS_BRANCH=master  # master for JBossTS-4.17.x and 7.1 for JBossTS-4.16.x JIRA=AS7-5815 PREVIOUS=4.17.1.Final CURRENT=4.17.2.Final git clone git at github.com:jbosstm/jboss-as.git cd jboss-as git remote add upstream git://github.com/jbossas/jboss-as.git git pull --rebase --ff-only upstream $BRANCH rm -rf ~/.m2/repository/org/jboss/jbossts rm -rf ~/.m2/repository/org/jboss/narayana ./build.sh clean install sed -i "s/$PREVIOUS/$CURRENT/g" pom.xml git add pom.xml 1. Raise a pull request 2. Once merged, resolve the Jira issue. h2. Promote NOTE: It is worth waiting for the merge of the pull request before advertising, or at least wait for the merge build notification first  ;) Promote the release through the following channels: 1. Email jbossts-announce at lists.jboss.org (mailto:jbossts-announce at lists.jboss.org) 2. Forum 3. Blog: project in (jbtm, blacktie) AND fixversion = "5.0.0.M2" AND priority &gt;= major AND issuetype not in (Bug, task) AND resolution not in ("Duplicate Issue", Rejected, "Won't Fix", "Out of Date", "Cannot Reproduce Bug")</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Narayana	Release Process</header>
    <body>Added commands to raise a PR based on the jbosstm fork of AS. This allows us to include other commits such as those required for our subsystems.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Narayana	Release Process</header>
    <body>This page provides a list of instructions that must be done *in order* when doing a release of Narayana. h2. Check JIRA 1. Check all issues resolved. 2. Create next point release version if not exists - this is so you can push issues in step 3 below. 3. Unresolved issues should be resolved or pushed. h2. Check Hudson Ensure no test failures in the group of hudson tests, for the branch you intend to release. h2. Do Release h3. Git Branches (4.17 and 5 only) Must be done first as the build-release-packages.xml relies on the tag being available for  REPO in documentation quickstart narayana do BRANCH=&lt;4.17|master&gt; CURRENT=&lt;Point version to release&gt; NEXT=&lt;point version of next release, likely to be $CURRENT+1&gt; git clone  mailto:git at github.com git at github.com:jbosstm/$REPO.git cd $REPOgit checkout $BRANCH find . -name \*.java -o -name \*.xml -o -name \*.properties -o -name \*.ent -o -name \INSTALL -o -name \README | grep -v ".svn" | grep -v ".git" | grep -v target | grep -v .idea | xargs sed -i "s/4\([._]\)17\([._]\)$CURRENT\([._]\)Final-SNAPSHOT/4\117\2$CURRENT\3Final/" git commit -am "Updated to 4.17.$CURRENT.Final" git tag 4.17.$CURRENT.Final find . -name \*.java -o -name \*.xml -o -name \*.properties -o -name \*.ent -o -name \INSTALL -o -name \README | grep -v ".svn" | grep -v ".git" | grep -v target | grep -v .idea | xargs sed -i "s/4\([._]\)17\([._]\)$CURRENT\([._]\)Final/4\117\2$NEXT\3Final-SNAPSHOT/" git commit -am "Updated to 4.17.$NEXT.Final-SNAPSHOT" git push origin $BRANCH --tags cd .. done h3. Prepare for an upstream Pull Request (UN-TESTED COMMANDS!!) If appropriate for this release, prepare for a PR to update AS7. 1.  https://issues.jboss.org/browse/AS7 https://issues.jboss.org/browse/AS7 2. create a new 'component update' issue.1. Ensure the module is set to 'transactions' 2. select an appropriate 'fix for'. 3. Assign it to yourself. BRANCH=4_BRANCH AS_BRANCH=master JIRA=AS7-5815 CURRENT=4.17.2.Final NEXT=4.17.3.Final git clone git at github.com:jbosstm/jboss-as.git cd jboss-asgit checkout $BRANCH git remote add upstream git://github.com/jbossas/jboss-as.git git pull --rebase --ff-only upstream $AS_BRANCH sed -i "s/$CURRENT-SNAPSHOT/$CURRENT/g" pom.xml git commit -am "Updated to $CURRENT" # should use git merge-base $BRANCH upstream/master git rebase -i HEAD~10 git checkout $BRANCH sed -i "s/$CURRENT/$NEXT-SNAPSHOT/g" pom.xml git commit -am "Updated to $NEXT-SNAPSHOT" git push origin $BRANCH h2. Build and release CURRENT=&lt;Point version to release&gt; mkdir -p ~/narayana/filemgmt.jboss.org/ On Linux: sshfs jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ On MacOS: sshfs -o defer_permissions jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ git clone git at github.com (mailto:git at github.com):jbosstm/narayana.git cd narayana git checkout 4.17.$CURRENT.Final On Linux: ant -f build-release-pkgs.xml dist downloads docs magnolia -Drsync=false On MacOS: ant -f build-release-pkgs.xml dist downloads docs magnolia h3. svn branches #Make sure your checkout has no local changes svn update svn status POINT_VERSION=5 NEXT_POINT_VERSION=6 #Update the version in text files svn commit -m "Updated to version 4.16.$POINT_VERSION.Final" #Tag the release: #Bump to next version using similar find to above #Update the maven version of jbossts in our fork of JBossAS:  https://github.com/jbosstm/jboss-as https://github.com/jbosstm/jboss-as git checkout 4_16_BRANCH git pull --rebase --ff-only #Check no local changes git status git push #Build and deploy the release to nexus staging: mkdir ~/filemgmt.jboss.org/ sshfs -o defer_permissions  mailto:jbosstm at filemgmt.jboss.org jbosstm at filemgmt.jboss.org: ~/filemgmt.jboss.org/ ant -f build-release-pkgs.xml dist mvn-repository downloads magnolia h3. h2. Release the artifact through Nexus 1.  https://repository.jboss.org/nexus/index.html#welcome https://repository.jboss.org/nexus/index.html#welcome 2. login 3. "Staging Repositories" 4. Click tickbox for your repo 5. Click "Close" 6. Don't worry about a description, just click "Close" 7. Click tickbox after it is closed 8. Click "Release" 9. Again a description doesn't matter h2. JIRA Release 1. Close all issues for the release 2. Mark as released (Need admin permissions) h2. Update Website Update the Narayana community site: * Login to Magnolia*  https://www.jboss.org/author/.magnolia/pages/adminCentral.html https://www.jboss.org/author/.magnolia/pages/adminCentral.html * Login with credentials: Tom and Paul know these, ask them. * Documentation* Browse to 'jbosstm/documentation' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.documentation.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the documentation list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Downloads* Browse to 'jbosstm/downloads' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.downloads.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the downloads list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Announcement* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'announcement' pane * Update the announcement for this release. * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. * Release notes* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'getting started' pane on the right-hand-side * Edit the release notes url to point to the release notes for this version * Click save * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. h2. Push Upstream If appropriate for this release, update AS7. 1.  https://issues.jboss.org/browse/AS7 https://issues.jboss.org/browse/AS7 2. create a new 'component update' issue. 1. Ensure the module is set to 'transactions' 2. select an appropriate 'fix for'. 3. Assign it to yourself. Now update the code in your fork: AS_BRANCH=master  # master for JBossTS-4.17.x and 7.1 for JBossTS-4.16.x JIRA=AS7-5815 PREVIOUS=4.17.1.Final CURRENT=4.17.2.Final git clone git at github.com:jbosstm/jboss-as.git cd jboss-as rm -rf ~/.m2/repository/org/jboss/jbossts rm -rf ~/.m2/repository/org/jboss/narayana ./build.sh clean install 1. Raise a pull request 2. Once merged, resolve the Jira issue. h2. Promote NOTE: It is worth waiting for the merge of the pull request before advertising, or at least wait for the merge build notification first  ;) Promote the release through the following channels: 1. Email jbossts-announce at lists.jboss.org (mailto:jbossts-announce at lists.jboss.org) 2. Forum 3. Blog: project in (jbtm, blacktie) AND fixversion = "5.0.0.M2" AND priority &gt;= major AND issuetype not in (Bug, task) AND resolution not in ("Duplicate Issue", Rejected, "Won't Fix", "Out of Date", "Cannot Reproduce Bug")</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Narayana	Release Process</header>
    <body>This page provides a list of instructions that must be done *in order* when doing a release of Narayana. h2. Check JIRA 1. Check all issues resolved. 2. Create next point release version if not exists - this is so you can push issues in step 3 below. 3. Unresolved issues should be resolved or pushed. h2. Check Hudson Ensure no test failures in the group of hudson tests, for the branch you intend to release. h2. Raise AS7 component upgrade request in Jira Prepare for a PR to update AS7. 1.  https://issues.jboss.org/browse/AS7 https://issues.jboss.org/browse/AS7 2. create a new 'component update' issue.1. Ensure the module is set to 'transactions' 2. select an appropriate 'fix for'. 3. Assign it to yourself. h2. Do Release h3. Git Branches (4.17 and 5 only) Must be done first as the build-release-packages.xml relies on the tag being available for  REPO in documentation quickstart narayana do BRANCH=&lt;4.17|master&gt; CURRENT=&lt;Point version to release&gt; NEXT=&lt;point version of next release, likely to be $CURRENT+1&gt; git clone  mailto:git at github.com git at github.com:jbosstm/$REPO.git cd $REPOgit checkout $BRANCH find . -name \*.java -o -name \*.xml -o -name \*.properties -o -name \*.ent -o -name \INSTALL -o -name \README | grep -v ".svn" | grep -v ".git" | grep -v target | grep -v .idea | xargs sed -i "s/4\([._]\)17\([._]\)$CURRENT\([._]\)Final-SNAPSHOT/4\117\2$CURRENT\3Final/" git commit -am "Updated to 4.17.$CURRENT.Final" git tag 4.17.$CURRENT.Final find . -name \*.java -o -name \*.xml -o -name \*.properties -o -name \*.ent -o -name \INSTALL -o -name \README | grep -v ".svn" | grep -v ".git" | grep -v target | grep -v .idea | xargs sed -i "s/4\([._]\)17\([._]\)$CURRENT\([._]\)Final/4\117\2$NEXT\3Final-SNAPSHOT/" git commit -am "Updated to 4.17.$NEXT.Final-SNAPSHOT" git push origin $BRANCH --tags cd .. done h3. Prepare for an upstream Pull Request (UN-TESTED COMMANDS!!) BRANCH=4_BRANCH AS_BRANCH=master JIRA=AS7-5815 CURRENT=4.17.2.Final NEXT=4.17.3.Final git clone git at github.com:jbosstm/jboss-as.git cd jboss-asgit checkout $BRANCH git remote add upstream git://github.com/jbossas/jboss-as.git git pull --rebase --ff-only upstream $AS_BRANCH sed -i "s/$CURRENT-SNAPSHOT/$CURRENT/g" pom.xml git commit -am "Updated to $CURRENT" # should use git merge-base $BRANCH upstream/master git rebase -i HEAD~10 git checkout $BRANCH sed -i "s/$CURRENT/$NEXT-SNAPSHOT/g" pom.xml git commit -am "Updated to $NEXT-SNAPSHOT" git push origin $BRANCH h2. Build and release CURRENT=&lt;Point version to release&gt; mkdir -p ~/narayana/filemgmt.jboss.org/ On Linux: sshfs jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ On MacOS: sshfs -o defer_permissions jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ git clone git at github.com (mailto:git at github.com):jbosstm/narayana.git cd narayana git checkout 4.17.$CURRENT.Final On Linux: ant -f build-release-pkgs.xml dist downloads docs magnolia -Drsync=false On MacOS: ant -f build-release-pkgs.xml dist downloads docs magnolia h3. svn branches #Make sure your checkout has no local changes svn update svn status POINT_VERSION=5 NEXT_POINT_VERSION=6 #Update the version in text files svn commit -m "Updated to version 4.16.$POINT_VERSION.Final" #Tag the release: #Bump to next version using similar find to above #Update the maven version of jbossts in our fork of JBossAS:  https://github.com/jbosstm/jboss-as https://github.com/jbosstm/jboss-as git checkout 4_16_BRANCH git pull --rebase --ff-only #Check no local changes git status git push #Build and deploy the release to nexus staging: mkdir ~/filemgmt.jboss.org/ sshfs -o defer_permissions  mailto:jbosstm at filemgmt.jboss.org jbosstm at filemgmt.jboss.org: ~/filemgmt.jboss.org/ ant -f build-release-pkgs.xml dist mvn-repository downloads magnolia h3. h2. Release the artifact through Nexus 1.  https://repository.jboss.org/nexus/index.html#welcome https://repository.jboss.org/nexus/index.html#welcome 2. login 3. "Staging Repositories" 4. Click tickbox for your repo 5. Click "Close" 6. Don't worry about a description, just click "Close" 7. Click tickbox after it is closed 8. Click "Release" 9. Again a description doesn't matter h2. Push Upstream Check that the pull request will work. *If it doesn't and it requires Narayana changes you *have* to rev the version number - DON'T attempt to re-release with the same version number:* JIRA=AS7-5815 CURRENT=4.17.2.Final git clone  mailto:git at github.com git at github.com:jbosstm/jboss-as.git cd jboss-as rm -rf ~/.m2/repository/org/jboss/jbossts rm -rf ~/.m2/repository/org/jboss/narayana ./build.sh clean install 1. Raise the pull request using our branch 2. Once merged, resolve the AS7 Jira issue. h2. JIRA Release 1. Close all issues for the release 2. Mark as released (Need admin permissions) h2. Update Website Update the Narayana community site: * Login to Magnolia*  https://www.jboss.org/author/.magnolia/pages/adminCentral.html https://www.jboss.org/author/.magnolia/pages/adminCentral.html * Login with credentials: Tom and Paul know these, ask them. * Documentation* Browse to 'jbosstm/documentation' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.documentation.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the documentation list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Downloads* Browse to 'jbosstm/downloads' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.downloads.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the downloads list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Announcement* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'announcement' pane * Update the announcement for this release. * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. * Release notes* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'getting started' pane on the right-hand-side * Edit the release notes url to point to the release notes for this version * Click save * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. h2. Promote NOTE: It is worth waiting for the merge of the pull request before advertising, or at least wait for the merge build notification first  ;) Promote the release through the following channels: 1. Email jbossts-announce at lists.jboss.org (mailto:jbossts-announce at lists.jboss.org) 2. Forum 3. Blog: project in (jbtm, blacktie) AND fixversion = "5.0.0.M2" AND priority &gt;= major AND issuetype not in (Bug, task) AND resolution not in ("Duplicate Issue", Rejected, "Won't Fix", "Out of Date", "Cannot Reproduce Bug")</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jbpm 5.4.0 - NullPointerException completing workItem. is this bug not resolved yet ?</header>
    <body>How do you load the knowledge base for creating the session??</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jbpm 5.4.0 - NullPointerException completing workItem. is this bug not resolved yet ?</header>
    <body>You are pointing to the right place ! i resolved this problem and i remember that i had to instanciate a new kbuilder, a new  kbase ,a new  env , a new  emf for the session to reload as it is a new created session and even a new client for dealing with tasks. here is the code :                // Let's reload the session                   // All the listeners and WorkItemHandlers are volatile, so we need to register them each time that we reload the session                   //  from the DB.                                         // TODO Auto-generated catch block</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: What is the best way to work with sessions and processes while using persistance</header>
    <body>To stop a process instance, you need to stop the included human tasks as well. The session information is stored by jbpm in the table SESSIONINFO. You can load the session using JPAKnowledgeService.loadSess......... ﻿But creating a new session each time is not a costly process. So you can do that instead but keep the knowledge base alive.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: .ftl form display in my web application with jbpm 5.4</header>
    <body>This will be your logic to pop the ftl screen on your custom web app interface. You will need to redirect to the task form.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: API function for user	authentication</header>
    <body>If by authenticate user, you mean to check if the user is a valid bpm user then that can be achieved. A valid bpm user is one which has been added as part of the User Group Call Back. But the login authentication I believe is something not done by jBPM.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Getting activity	coordinates</header>
    <body>Got the coordinates using    for (Node node : (Node[])((WorkflowProcessImpl) process).getNodes())     if(nodeInstanceLogList.size() == 1) Thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Couldn't retrieve the node name for the process instance</header>
    <body>Your instance object looks null. How do you retrieve it? What I do is : kbase.getProcess(id)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Searching process instances based on business data</header>
    <body>Just updating my case. There is an open bugzilla case  https://bugzilla.redhat.com/show_bug.cgi?id=908812 https://bugzilla.redhat.com/show_bug.cgi?id=908812﻿. Please watch this for resolution. This feature would allow us to do a search like this  -- all pending process for a given customer id</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Clustering Development] - Re: getting [emerg] create_mem_node /etc/httpd/logs/manager.node failed: Permission denied Configuration Failed when starting apache on rhel 6 after mod_cluster is added</header>
    <body>Your fixed did not work out for me, will try with: h2. Using mod_cluster and SELinux. https://community.jboss.org/thread/213865 http://docs.jboss.org/mod_cluster/1.2.0/html/faq.html#d0e5409</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - StaticWireTap and	invmScope</header>
    <body>Hi guys, First post. I am trying to invoke a service using a StaticWireTap and I have noticed that the wiretap only happens if the calling service's scope is invmScope=Global set. If I remove the 'invmScope=Global' the wiretapped Service does not get called. Reading the documentation there is no indication that a WireTap service has to be called from a in-vm service. Can anyone shed some light on this? Thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: StaticWireTap and	invmScope</header>
    <body>Could you attach your esb configuration highlighting that section? When you say it does not work, have you setup some debug to see what is happening? Could you attach the server log for identifying the issue furtehr. You can have a look at the security_jbpm quickstart, where it is used without the 'invmScope=Global'.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: EnityManager.close() before or after JTA afterCompletion()?</header>
    <body>Hi Seyvet, I wouldn't want to comment on whether afterCompletion is the right place to call close for JPA, the thread you reference is probably the best place to discuss that. We are more concerned with raw transactions in this forum. Tx::enlistResource(RM rm) Tx::registerSynchronization(S s) foreach Synchronization foreach ResourceManager    Tx::prepare() foreach ResourceManager    Tx::commit() foreach Synchronization Tx::afterCompletion Tom</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: EnityManager.close() before or after JTA afterCompletion()?</header>
    <body>Thanks Tom, Yes please! The question is about the following sequence where after the transaction is committed: 1) The container will first invoke the JPA persistence provider as indicated by this first callback: 2) Which is then followed by a second callback (JTA related this time) from the container: The questions: - Is this order defined by JBoss? - Can this order be modified?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: EnityManager.close() before or after JTA afterCompletion()?</header>
    <body>Hi Seyvet, If you look at those two stack traces you can see a common line: at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:402) The only ordering that can be guaranteed is for interposed synchronizations (registered by the TransactionSynchronizationRegistry): http://docs.oracle.com/javaee/5/api/javax/transaction/TransactionSynchronizationRegistry.html#registerInterposedSynchronization%28javax.transaction.Synchronization%29 http://docs.oracle.com/javaee/5/api/javax/transaction/TransactionSynchronizationRegistry.html#registerInterposedSynchronization%28javax.transaction.Synchronization%29 There was a little mistype in my original response which I will now refactor in the original to say: ... foreach ResourceManager    rm::commit() foreach InterposedSynchronization foreach Synchronization i.e. When it comes to afterCompletion, interposed synchronizations will be called *first* which is one way (if you only have two synchronizations  ;)  ) to guarentee order.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: EnityManager.close() before or after JTA afterCompletion()?</header>
    <body>In DataNucleus, the JTA transaction is registered as an interposed transaction, does that mean the JPA one is also interposed? Should not that be specified in some spec?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: EnityManager.close() before or after JTA afterCompletion()?</header>
    <body>Hi, The ordering of interposed vs none-interposed is speced in JTA, in terms of whether JPA should be interposed or not I am not sure, perhaps it is? Tom</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7 vs AS6</header>
    <body>h1. Distribution Changes || *AS7* || *AS6* || *Comments* || | | | | | ./modules | ./common/lib | AS6 common/lib directory contained system and user jar files shared among different configurations. There is no shared dir in AS7 in which to simply drop in jars files that will be globally accessible by all deployments. The top level ./modules directory can be used instead to explicitly define modules that are referenced by deployments. See related discussion here (https://community.jboss.org/message/604576#604576). | h1. Features missing from AS7 relative to AS6 h2. Clustering * No CMP2 clustering * server.xml * Farming (replaced by domain deployments) h2. JCA * no-tx-datasource * HSQLDB * No -ds.xml deployments within archives (.ear) h2. ClassLoading * org.jboss.web.WebService - dynamic loading classes remotely h2. Varia *</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - RESTEasy</header>
    <body>h2. Purpose Purpose of the article is to show how to handle exception in RESTEasy. h2. Solution RESTEasy provides such a exception handling mechanism which simplifies the exception handling process. RESTEasy ExceptionMappers are custom, application provided, components that can catch thrown application exceptions and write specific HTTP responses. The are classes annotated with @Provider and that implement this interface. When an application exception is thrown it will be caught by the JAX-RS runtime. JAX-RS will then scan registered ExceptionMappers to see which one support marshalling the exception type thrown. h2. How to Do? h4. High-Level Steps * Implements ExceptionMapper * Register ExceptionMapper in the web.xml * Create a exception handler/mapper to marshal the exception. /** * User: Nuwan.N.Bandara */ @Provider     @Override Register the DefaultExceptionHandler in your web.xml &lt;context-param&gt;         &lt;param-name&gt;resteasy.providers&lt;/param-name&gt;         &lt;param-value&gt;com.nuwan.poc.wsmodule.exception.DefaultExceptionHandler&lt;/param-value&gt; &lt;/context-param&gt; Create JAXB model class for marshalling POJO to XML to produce the response. (This is optional) /** * User: Nuwan.N.Bandara */ @XmlRootElement     @XmlAttribute     @XmlElement     @XmlElement . Here's the RESTEasy web service method implementation. When the "value" is 0, code hit the catch block and throw an ArithmeticException. Which is a type of an Exception that we have already handled in DefaultExceptionHandler class.     @GET     @Path("testWebService") * Result of this exception will produce an out put the following xml response &lt;response&gt;   &lt;status&gt;ERROR&lt;/status&gt;   &lt;message&gt;Division by zero!&lt;/message&gt; &lt;/response&gt; h2. Reference *  http://docs.jboss.org/resteasy/docs/1.1.GA/userguide/html/ExceptionHandling.html#builtinException Chapter 25. Exception Handling</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - RESTEasy</header>
    <body>h2. Purpose Purpose of the article is to show how to handle exception in RESTEasy. h2. Solution RESTEasy provides such a exception handling mechanism which simplifies the exception handling process. RESTEasy ExceptionMappers are custom, application provided, components that can catch thrown application exceptions and write specific HTTP responses. The are classes annotated with @Provider and that implement this interface. When an application exception is thrown it will be caught by the JAX-RS runtime. JAX-RS will then scan registered ExceptionMappers to see which one support marshalling the exception type thrown. h2. How to Do? h4. High-Level Steps * Implements ExceptionMapper * Register ExceptionMapper in the web.xml * Create JAXB model class for the response (Optional) * Create RESTEasy method * WebService Output h3. Implementation Create a exception handler/mapper to marshal the exception. /** * User: Nuwan.N.Bandara */ @Provider     @Override         // For simplicity I am preparing error xml by hand.         // Ideally we should create an ErrorResponse class to hold the error info. Register the DefaultExceptionHandler in your web.xml &lt;context-param&gt;         &lt;param-name&gt;resteasy.providers&lt;/param-name&gt;         &lt;param-value&gt;com.nuwan.poc.wsmodule.exception.DefaultExceptionHandler&lt;/param-value&gt; &lt;/context-param&gt; Create JAXB model class for marshalling POJO to XML to produce the response. (This is optional) /** * User: Nuwan.N.Bandara */ @XmlRootElement     @XmlAttribute     @XmlElement     @XmlElement Here's the RESTEasy web service method implementation. When method receives value 0, code hit the catch block and throws an ArithmeticException. Which is a type of an Exception that we have already handled in DefaultExceptionHandler class.     @GET     @Path("testWebService") Successful response output. Response class generates this XML. &lt;response&gt;   &lt;status&gt;SUCCESSFUL&lt;/status&gt;   &lt;message&gt;Greater Than Zero&lt;/message&gt; &lt;/response&gt; Error response output. DefaultExceptionHandler toResponse() generates this XML. &lt;response&gt;   &lt;status&gt;ERROR&lt;/status&gt;   &lt;message&gt;Division by zero!&lt;/message&gt; &lt;/response&gt; h2. Reference *  http://docs.jboss.org/resteasy/docs/1.1.GA/userguide/html/ExceptionHandling.html#builtinException Chapter 25. Exception Handling</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - How to package EJB	interface for JBoss AS 7</header>
    <body>I'm migrating to JBoss AS 7 from JBoss AS 5.  I've read JBoss AS 7 Class Loading mechanism and although I feel I understood it, I have a hard time packaging my jar and war for JBoss AS 7.  Here is the scenario: 1. I have an EJB interface named IRepository 2. And an EJB class that implements that interface, named Repository 3. This EJB will be looked up, using JNDI, as a local bean by a web application which is packaged as a separate .war file. 4. I'm also using Maven for building and packaging my .jar and .war files The questions I have are: 1. Should I package IRepository in a .jar (say irepository.jar) separate from the jar that contains Repository EJB class? - If I do this I believe I can reference irepository.jar as a dependency in my .war file's MANIFEST.  This is fine, except that it increases the number of Maven projects I have by 1 to build irepository.jar 2. Should I package IRepository and Repository EJB in the same jar (say repositoryejb.jar) AND NOT including this jar in my .war (using Maven 'provided' scope)? - If I do this and I put repositoryejb.jar in modules/.../main JBoss 7 doesn't display JNDI information about this EJB, which makes me believe that my web app may not be able to look up this EJB - If I just deploy repositoryejb.jar in the standalone/deployments directory, JBoss 7 displays JNDI information about this EJB.  But how do I specify that my .war depends on repositoryejb.jar?  Basically, my .war does not know what IRepository is to cast a looked up EJB to a variable within my web app 3. Should I package IRepository and Repository EJB in the same jar AND including this jar in my .war (using Maven 'compiled' scope)? - This would ensure that my web app can cast a looked up EJB to IRepository.  But when I deploy my .war to JBoss AS 7 it discovers a different EJB (in war scope) and provides different JNDI information. This is just not clean. It seems that the answer is straight forward, but maybe my head is stuck in the sand that I can see a good answer.  Thanks in advance for the help.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: How to package EJB interface for JBoss AS 7</header>
    <body>If I packaged both IRepository and Repository in a single jar (say repositoryejb.jar), I could declare it a dependency for my .war by: 1. Add a MANIFEST.MF file in my .war 2. and the MANIFEST.MF contains Dependencies: deployment.repositoryejb.jar</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Microcontainer Development] - Re: MC	deadlock</header>
    <body>Hi Adrian, I am trying to find a fix for the same defect but unable to find the patch suggested by you. I am using JBoss 5.1.0.GA and facing the same issue of BaseClassLoader. Could you please point me in right direction? regards, Sandeep</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - How to access webservice deployed to jboss 5.1.0 GA</header>
    <body>Hello All, Sorry for this Newbie question, but it's my first time deploying webservices on jboss. I have successfully deployed my webservice to jboss (No webservice deployment errors when I start jboss), but I can't seem to figure out how to access the service from the browser. I've tried going to localhost:8080/jbossws under registered webservices, but did not see anything there. I see in the jmx console under the web.deployment the .war file for my webservice is listed there. I've also tried browsing to the url for my webservice listed in the wsdl, but got a page not found error. I'm not sure what else I should check. Any help is appreciated!! Thanks in Advance!!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - Re: How to access webservice deployed to jboss 5.1.0 GA</header>
    <body>I wanted to post an update since no one responded to my question. Even though I entered a url in my webservice wsdl, it was not the url used when I run the webservice in the eclipse IDE. I found that there's a file, org.eclipse.wst.common.component, that has the wb-module listing the deploy-name. I used this name in my url "localhost:8080/deploy-name/webservicename" and I was able to access it. This still doesn't explain why I am unable to see the service under the registered services in jboss. Anyone reading this post, if you have a link to instructions on how to setup the registered services in jboss, please post the link. Thanks in advance!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>Would it be possible for a patch to add new module or just override an existing module of the identity being patched?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>Yes, patches will have the ability to add and remove modules as well.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Alternative to deprecated class in 5.4 - CommandBasedHornetQWSHumanTaskHandler</header>
    <body>Hi, I'm new to jBPM and I'm developing a ESB service to allow a web application to manage processes and tasks. I'm using jBPM 5.4 deployed in my own JBOSS AS 7.1.1 and persisting in postgres. The process is deployed in Guvnor and it all works fine, persistance is working and I can do all the required operations via my ESB. The problem is that I was using AsyncHornetQHTWorkItemHandler as work item handler and the tasks would'nt move forward when the previous was completed. Then I changed the handler to CommandBasedHornetQWSHumanTaskHandler and it works fine, the problem is that class is deprecated so I should'nt use it and I can't find an alternative for that. I have a workflow of this type: Start ---&gt; Human Task ---&gt; Script Task ---&gt; Human Task ---&gt; Human Task ---&gt; Human Task ---&gt; End This is the code I'm using, note that this is working fine but using the deprecated class:      ksession = JPAKnowledgeService.newStatefulKnowledgeSession(kbase, null, env);    *CommandBasedHornetQWSHumanTaskHandler* humanTaskHandler = new *CommandBasedHornetQWSHumanTaskHandler*(ksession);        As this is a big project I should'nt use a deprecated class, can you help me on this?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Alternative to deprecated class in 5.4 - CommandBasedHornetQWSHumanTaskHandler</header>
    <body>Instead of last 2 lines of your code, u can use this :</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Using LDAP in 5.4 - How to avoid creating users in organizationalentity table</header>
    <body>Hi, I'm new to jBPM and I hope you can help me on this. I have jBPM 5.4 deployed in my own JBOSS AS 7.1.1 and persisting in postgres. I also have connected to LDAP and I can use the console logging with a LDAP and manage processes. I have a workflow with Human Tasks deployed in Guvnor. The problem is that I'm developing an ESB for a web application to manage the processes and tasks and I can't do anything without creating the users in the organizationalentity table. I don't understand why the console works well with LDAP and my ESB doesn't work. I have made the following to connect to LDAP: - In standalone.xml:     &lt;security-domain name="jbpm-console" cache-type="default"&gt;         &lt;authentication&gt;             &lt;login-module code="org.jboss.security.auth.spi.LdapExtLoginModule" flag="required"&gt;                 &lt;module-option name="bindDN" value="cn=Manager,dc=develop,dc=com"/&gt;                 &lt;module-option name="bindCredential" value="ldapadmin"/&gt;                 &lt;module-option name="java.naming.provider.url" value="ldap://192.168.1.2"/&gt;                 &lt;module-option name="baseCtxDN" value="ou=Person,dc=develop,dc=com"/&gt;                 &lt;module-option name="rolesCtxDN" value="ou=Groups,dc=develop,dc=com"/&gt;                 &lt;module-option name="roleAttributeID" value="member"/&gt;                 &lt;module-option name="roleAttributeIsDN" value="true"/&gt;                 &lt;module-option name="roleNameAttributeID" value="CN"/&gt;                 &lt;module-option name="searchScope" value="SUBTREE_SCOPE"/&gt;                 &lt;module-option name="allowEmptyPasswords" value="true"/&gt;             &lt;/login-module&gt;             &lt;login-module code="org.jboss.security.auth.spi.RoleMappingLoginModule" flag="optional"&gt;             &lt;/login-module&gt;         &lt;/authentication&gt;     &lt;/security-domain&gt; - File called rolemapping.properties in jboss standalone/configuration folder to map users group to the corresponding role:         Group1=user - File called jbpm.usergroup.callback.properties in WEB-INF/lib of jbpm-human-task.war with:         ldap.bind.user=cn\=Manager,dc\=develop,dc\=com         ldap.bind.pwd=ldapadmin         ldap.user.ctx=ou\=Person,dc\=develop,dc\=com         ldap.role.ctx=ou\=Group1,dc\=develop,dc\=com         #ldap.user.roles.ctx=ou\=Group1,dc\=develop,dc\=com - web.xml in jbpm-human-task.war replacing with:       &lt;init-param&gt;         &lt;param-name&gt;user.group.callback.class&lt;/param-name&gt;         &lt;param-value&gt;org.jbpm.task.identity.LDAPUserGroupCallbackImpl&lt;/param-value&gt;         &lt;/init-param&gt; Thank you for any help you can give me.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Deploying weblogic 8.1 application to Jboss 7.1</header>
    <body>hi all, I am new to jboss application  servers. i have a requirement to migrate weblogic 8.1 application to jboss 7.1. I am trying to deploy the war and facing below. can someone help me on this. 16:23:12,131 INFO  [org.acegisecurity.intercept.AbstractSecurityInterceptor] (MSC service thread 1-2) Validated configuration attributes 16:23:12,147 INFO  [org.springframework.web.context.ContextLoader] (MSC service thread 1-2) Root WebApplicationContext: initialization completed in 390 ms 16:23:12,162 INFO  [stdout] (MSC service thread 1-2) ERROR: APPLICATION REGISTRY.  NO CONFIGURATION FILE SPECIFIED 16:23:12,162 INFO  [stdout] (MSC service thread 1-2) ApplicationRegistry configuration complete. 16:23:12,334 INFO  [org.hibernate.cfg.Environment] (MSC service thread 1-2) Hibernate 3.2.3 16:23:12,334 INFO  [org.hibernate.cfg.Environment] (MSC service thread 1-2) hibernate.properties not found 16:23:12,334 INFO  [org.hibernate.cfg.Environment] (MSC service thread 1-2) Bytecode provider name : cglib 16:23:12,334 INFO  [org.hibernate.cfg.Environment] (MSC service thread 1-2) using JDK 1.4 java.sql.Timestamp handling 16:23:12,365 INFO  [org.hibernate.cfg.Configuration] (MSC service thread 1-2) configuring from file: hibernate.cfg.xml 16:23:12,365 ERROR [com.fareis.wingspan.claims.hibernate.utils.HibernateUtil] (MSC service thread 1-2) Building SessionFactory failed.: org.hibernate.HibernateException: could not find file: null\hibernate.cfg.xml at org.hibernate.cfg.Configuration.configure(Configuration.java:1465) [hibernate-3.2.3.ga.jar:] at com.fareis.wingspan.claims.hibernate.utils.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:33) [wingspan.jar:] at com.fareis.wingspan.claims.dao.hibernate.HibernateDAOFactory.getCurrentSession(HibernateDAOFactory.java:58) [wingspan.jar:] at com.fareis.wingspan.claims.dao.hibernate.HibernateDAOFactory.getLookupDAO(HibernateDAOFactory.java:42) [wingspan.jar:] at com.fareis.wingspan.claims.dao.LookupData.loadLookupData(LookupData.java:53) [wingspan.jar:] at com.fareis.wingspan.claims.dao.LookupData.&lt;init&gt;(LookupData.java:49) [wingspan.jar:] at com.fareis.wingspan.claims.dao.LookupData.&lt;clinit&gt;(LookupData.java:42) [wingspan.jar:] at com.fareis.wingspan.control.LookupDataCacheServlet.init(LookupDataCacheServlet.java:17) [wingspanActions.jar:] at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1202) [jbossweb-7.0.13.Final.jar:] at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1102) [jbossweb-7.0.13.Final.jar:] at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:3655) [jbossweb-7.0.13.Final.jar:] at org.apache.catalina.core.StandardContext.start(StandardContext.java:3873) [jbossweb-7.0.13.Final.jar:] at org.jboss.as.web.deployment.WebDeploymentService.start(WebDeploymentService.java:90) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final] at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_24] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_24] at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_24] Caused by: java.io.FileNotFoundException: null\hibernate.cfg.xml (The system cannot find the path specified) at java.io.FileInputStream.open(Native Method) [rt.jar:1.6.0_24] at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:106) [rt.jar:1.6.0_24] at org.hibernate.cfg.Configuration.configure(Configuration.java:1462) [hibernate-3.2.3.ga.jar:] ... 17 more 16:23:12,459 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/wingspan]] (MSC service thread 1-2) StandardWrapper.Throwable: java.lang.ExceptionInInitializerError at com.fareis.wingspan.claims.hibernate.utils.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:42) [wingspan.jar:] at com.fareis.wingspan.claims.dao.hibernate.HibernateDAOFactory.getCurrentSession(HibernateDAOFactory.java:58) [wingspan.jar:] at com.fareis.wingspan.claims.dao.hibernate.HibernateDAOFactory.getLookupDAO(HibernateDAOFactory.java:42) [wingspan.jar:] at com.fareis.wingspan.claims.dao.LookupData.loadLookupData(LookupData.java:53) [wingspan.jar:] at com.fareis.wingspan.claims.dao.LookupData.&lt;init&gt;(LookupData.java:49) [wingspan.jar:] at com.fareis.wingspan.claims.dao.LookupData.&lt;clinit&gt;(LookupData.java:42) [wingspan.jar:] at com.fareis.wingspan.control.LookupDataCacheServlet.init(LookupDataCacheServlet.java:17) [wingspanActions.jar:] at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1202) [jbossweb-7.0.13.Final.jar:] at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1102) [jbossweb-7.0.13.Final.jar:] at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:3655) [jbossweb-7.0.13.Final.jar:] at org.apache.catalina.core.StandardContext.start(StandardContext.java:3873) [jbossweb-7.0.13.Final.jar:] at org.jboss.as.web.deployment.WebDeploymentService.start(WebDeploymentService.java:90) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final] at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_24] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_24] at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_24] Caused by: org.hibernate.HibernateException: could not find file: null\hibernate.cfg.xml at org.hibernate.cfg.Configuration.configure(Configuration.java:1465) [hibernate-3.2.3.ga.jar:] at com.fareis.wingspan.claims.hibernate.utils.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:33) [wingspan.jar:] ... 16 more Caused by: java.io.FileNotFoundException: null\hibernate.cfg.xml (The system cannot find the path specified) at java.io.FileInputStream.open(Native Method) [rt.jar:1.6.0_24] at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:106) [rt.jar:1.6.0_24] at org.hibernate.cfg.Configuration.configure(Configuration.java:1462) [hibernate-3.2.3.ga.jar:] ... 17 more 16:23:12,552 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/wingspan]] (MSC service thread 1-2) Servlet /wingspan threw load() exception: java.io.FileNotFoundException: null\hibernate.cfg.xml (The system cannot find the path specified) at java.io.FileInputStream.open(Native Method) [rt.jar:1.6.0_24] at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:106) [rt.jar:1.6.0_24] at org.hibernate.cfg.Configuration.configure(Configuration.java:1462) [hibernate-3.2.3.ga.jar:] at com.fareis.wingspan.claims.hibernate.utils.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:33) [wingspan.jar:] at com.fareis.wingspan.claims.dao.hibernate.HibernateDAOFactory.getCurrentSession(HibernateDAOFactory.java:58) [wingspan.jar:] at com.fareis.wingspan.claims.dao.hibernate.HibernateDAOFactory.getLookupDAO(HibernateDAOFactory.java:42) [wingspan.jar:] at com.fareis.wingspan.claims.dao.LookupData.loadLookupData(LookupData.java:53) [wingspan.jar:] at com.fareis.wingspan.claims.dao.LookupData.&lt;init&gt;(LookupData.java:49) [wingspan.jar:] at com.fareis.wingspan.claims.dao.LookupData.&lt;clinit&gt;(LookupData.java:42) [wingspan.jar:] at com.fareis.wingspan.control.LookupDataCacheServlet.init(LookupDataCacheServlet.java:17) [wingspanActions.jar:] at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1202) [jbossweb-7.0.13.Final.jar:] at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1102) [jbossweb-7.0.13.Final.jar:] at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:3655) [jbossweb-7.0.13.Final.jar:] at org.apache.catalina.core.StandardContext.start(StandardContext.java:3873) [jbossweb-7.0.13.Final.jar:] at org.jboss.as.web.deployment.WebDeploymentService.start(WebDeploymentService.java:90) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final] at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_24] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_24] at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_24] Hoe to test the application after deploymnet.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Re: Deploying weblogic 8.1 application to Jboss 7.1</header>
    <body>Can you provide the directory structure the contents of your WAR using 'jar tf &lt;your-app-name&gt;.war'?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Re: Deploying weblogic 8.1 application to Jboss 7.1</header>
    <body>The stacktrace shows that you are attempting to use Hibernate 3.x version. By default AS 7.1 supports Hibernate 4 but it can be configured to support Hibernate 3.x.  Take a look here  http://relation.to/21601.lace http://relation.to/21601.lace, topic "Drop in a Hibernate 3.6.6.Final module".  This should get you started.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h1. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create branch in user repository for IS configuration changes. 2. Update IS configuration for updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. Modify the compositeArtifacts.xml and compositeContent.xml files (in aggregate-site) to point to the new update site. 2. Modify the category.xml file (in aggregate-site) as necessary for any feature changes (e.g. adding a feature). 3. Modify project version (pom.xml in aggregate-site). 4. For changes to dependencies:1. Modify base.target or community.target (in target-platform) 2. Modify project version (pom.xml in target-platform) 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS  within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *Jenkins* -</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Google Support for EJB</header>
    <body>Hello. I have been testing for the first time enterprise java beans and I have to say I like it mainly because of the simplicity in implementating the logic layer, apart of the model and the view. But any away... EJB works on google app engine partially becouse methods on the facelts get invoked but the attributes get lost between page refresh for instances. I already launch a thread on stack overflow that explains the issue. http://stackoverflow.com/questions/14740847/session-bean-gets-lost-in-gae-using-jsf-and-primefaces http://stackoverflow.com/questions/14740847/session-bean-gets-lost-in-gae-using-jsf-and-primefaces But the real reason for google app engine to claim oficial that doesn't handle EJB is becouse it can not store java objects in session. For instances: this would not save the attribute into session. I suspect that EJB does something that reseambles this. Ok... So I was thinking if it is possible to serialize the class attributes using for instance JSON as I did in the previous mentioned StackOverflow thread (but in other context), and store the string in session. And retrive the string, parsing and building the Bean when it is necessary... I don't know if such a think is possible... Thanks in advance and thank you for your time.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jbpm-5.4.0.Final-installer-full - Sample application throwing error</header>
    <body>Thank You. that solved the matter.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - How to get the id of entity with auto_increment value?</header>
    <body>Hi there, I've an entity Order with @GeneratedValue(strategy = GenerationType.IDENTITY) annotation. I've a MySql database --------------------------------------------------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - API function for user	authentication</header>
    <body>Hi, i'm looking for a function that allow me to validate username and password that my application give in order to login a user. I'm trying to write my own Bpm Workspace. I have implement tasklist, processlist and some operation on task and process but now i don't know how to authenticate the user! Thanks, Antonio</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Getting the exception in INFO log level instead as ERROR</header>
    <body>In the jboss server log, am getting the org.drools.WorkItemHandlerNotFoundException in the INFO level. In production, log level will be only in ERROR. How to change the log level to ERROR for exception thrown in jbpm..</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - JBoss 6.0 :	Deployment in error</header>
    <body>Hello, I don't understand why my deployment failed because all times when I run the server this error message occurs: 02:59:16,071 INFO  [AbstractJBossASServerBase] Server Configuration:           JBOSS_HOME URL: file:/C:/Eclipse/jboss-6.0.0.Final/           Bootstrap: $JBOSS_HOME\server/default/conf/bootstrap.xml           Common Base: $JBOSS_HOME\common/           Common Library: $JBOSS_HOME\common/lib/           Server Name: default           Server Base: $JBOSS_HOME\server/           Server Library: $JBOSS_HOME\server/default/lib/           Server Config: $JBOSS_HOME\server/default/conf/           Server Home: $JBOSS_HOME\server/default/           Server Data: $JBOSS_HOME\server/default/data/           Server Log: $JBOSS_HOME\server/default/log/           Server Temp: $JBOSS_HOME\server/default/tmp/ 02:59:16,075 INFO  [AbstractServer] Starting: JBossAS [6.0.0.Final "Neo"] 02:59:17,797 INFO  [ServerInfo] Java version: 1.6.0_31,Sun Microsystems Inc. 02:59:17,797 INFO  [ServerInfo] Java Runtime: Java(TM) SE Runtime Environment (build 1.6.0_31-b05) 02:59:17,797 INFO  [ServerInfo] Java VM: Java HotSpot(TM) Client VM 20.6-b01,Sun Microsystems Inc. 02:59:17,798 INFO  [ServerInfo] OS-System: Windows 7 6.1,x86 02:59:17,798 INFO  [ServerInfo] VM arguments: -Dprogram.name=JBossTools: JBoss 6.0 Runtime -Xms256m -Xmx768m -XX:MaxPermSize=256m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Djava.endorsed.dirs=C:\Eclipse\jboss-6.0.0.Final\lib\endorsed -Djava.library.path=C:/Eclipse/jboss-6.0.0.Final/bin/native -Dfile.encoding=Cp1252 02:59:17,842 INFO  [JMXKernel] Legacy JMX core initialized 02:59:24,527 INFO  [AbstractServerConfig] JBoss Web Services - Stack CXF Server 3.4.1.GA 02:59:25,351 INFO  [JSFImplManagementDeployer] Initialized 3 JSF configurations: [Mojarra-1.2, MyFaces-2.0, Mojarra-2.0] 02:59:29,460 ATTENTION [FileConfigurationParser] AIO wasn't located on this platform, it will fall back to using pure Java NIO. If your platform is Linux, install LibAIO to enable the AIO journal 02:59:32,881 ATTENTION [FileConfigurationParser] AIO wasn't located on this platform, it will fall back to using pure Java NIO. If your platform is Linux, install LibAIO to enable the AIO journal 02:59:33,119 INFO  [JMXConnector] starting JMXConnector on host localhost:1090 02:59:33,315 INFO  [MailService] Mail Service bound to java:/Mail 02:59:34,661 INFO  [HornetQServerImpl] live server is starting.. 02:59:34,753 INFO  [JournalStorageManager] Using NIO Journal 02:59:34,785 ATTENTION [HornetQServerImpl] Security risk! It has been detected that the cluster admin user and password have not been changed from the installation default. Please see the HornetQ user guide, cluster chapter, for instructions on how to do this. 02:59:35,612 INFO  [NettyAcceptor] Started Netty Acceptor version 3.2.1.Final-r2319 localhost:5455 for CORE protocol 02:59:35,618 INFO  [NettyAcceptor] Started Netty Acceptor version 3.2.1.Final-r2319 localhost:5445 for CORE protocol 02:59:35,623 INFO  [HornetQServerImpl] HornetQ Server version 2.1.2.Final (Colmeia, 120) started 02:59:35,689 INFO  [WebService] Using RMI server codebase:  http://localhost:8083/ http://localhost:8083/ 02:59:35,919 INFO  [jbossatx] ARJUNA-32010 JBossTS Recovery Service (tag: JBOSSTS_4_14_0_Final) - JBoss Inc. 02:59:35,929 INFO  [arjuna] ARJUNA-12324 Start RecoveryActivators 02:59:35,975 INFO  [arjuna] ARJUNA-12296 ExpiredEntryMonitor running at sam., 9 févr. 2013 02:59:35 02:59:36,103 INFO  [arjuna] ARJUNA-12310 Recovery manager listening on endpoint 127.0.0.1:4712 02:59:36,104 INFO  [arjuna] ARJUNA-12344 RecoveryManagerImple is ready on port 4712 02:59:36,104 INFO  [jbossatx] ARJUNA-32013 Starting transaction recovery manager 02:59:36,129 INFO  [arjuna] ARJUNA-12163 Starting service com.arjuna.ats.arjuna.recovery.ActionStatusService on port 4713 02:59:36,134 INFO  [arjuna] ARJUNA-12337 TransactionStatusManagerItem host: 127.0.0.1 port: 4713 02:59:36,218 INFO  [arjuna] ARJUNA-12170 TransactionStatusManager started on port 4713 and host 127.0.0.1 with service com.arjuna.ats.arjuna.recovery.ActionStatusService 02:59:36,278 INFO  [jbossatx] ARJUNA-32017 JBossTS Transaction Service (JTA version - tag: JBOSSTS_4_14_0_Final) - JBoss Inc. 02:59:36,316 INFO  [arjuna] ARJUNA-12202 registering bean jboss.jta:type=ObjectStore. 02:59:37,071 INFO  [AprLifecycleListener] The Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:/Eclipse/jboss-6.0.0.Final/bin/native 02:59:37,238 INFO  [TomcatDeployment] deploy, ctxPath=/invoker 02:59:37,642 INFO  [ModClusterService] Initializing mod_cluster 1.1.0.Final 02:59:37,703 INFO  [RARDeployment] Required license terms exist, view vfs:/C:/Eclipse/jboss-6.0.0.Final/server/default/deploy/jboss-local-jdbc.rar/META-INF/ra.xml 02:59:37,717 INFO  [RARDeployment] Required license terms exist, view vfs:/C:/Eclipse/jboss-6.0.0.Final/server/default/deploy/jboss-xa-jdbc.rar/META-INF/ra.xml 02:59:37,726 INFO  [RARDeployment] Required license terms exist, view vfs:/C:/Eclipse/jboss-6.0.0.Final/server/default/deploy/jms-ra.rar/META-INF/ra.xml 02:59:37,748 INFO  [HornetQResourceAdapter] HornetQ resource adaptor started 02:59:37,756 INFO  [RARDeployment] Required license terms exist, view vfs:/C:/Eclipse/jboss-6.0.0.Final/server/default/deploy/mail-ra.rar/META-INF/ra.xml 02:59:37,771 INFO  [RARDeployment] Required license terms exist, view vfs:/C:/Eclipse/jboss-6.0.0.Final/server/default/deploy/quartz-ra.rar/META-INF/ra.xml 02:59:37,901 INFO  [SimpleThreadPool] Job execution threads will use class loader of thread: Thread-2 02:59:37,950 INFO  [SchedulerSignalerImpl] Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl 02:59:37,950 INFO  [QuartzScheduler] Quartz Scheduler v.1.8.3 created. 02:59:37,954 INFO  [RAMJobStore] RAMJobStore initialized. 02:59:37,958 INFO  [QuartzScheduler] Scheduler meta-data: Quartz Scheduler (v1.8.3) 'JBossQuartzScheduler' with instanceId 'NON_CLUSTERED'   Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.   NOT STARTED.   Currently in standby mode.   Number of jobs executed: 0   Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.   Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered. 02:59:37,961 INFO  [StdSchedulerFactory] Quartz scheduler 'JBossQuartzScheduler' initialized from an externally opened InputStream. 02:59:37,962 INFO  [StdSchedulerFactory] Quartz scheduler version: 1.8.3 02:59:37,962 INFO  [QuartzScheduler] Scheduler JBossQuartzScheduler_$_NON_CLUSTERED started. 02:59:38,531 INFO  [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=DataSourceBinding,name=DefaultDS' to JNDI name 'java:DefaultDS' 02:59:39,391 INFO  [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=ConnectionFactoryBinding,name=JmsXA' to JNDI name 'java:JmsXA' 02:59:39,603 INFO  [xnio] XNIO Version 2.1.0.CR2 02:59:39,618 INFO  [nio] XNIO NIO Implementation Version 2.1.0.CR2 02:59:39,891 INFO  [remoting] JBoss Remoting version 3.1.0.Beta2 02:59:40,047 INFO  [TomcatDeployment] deploy, ctxPath=/ 02:59:40,098 INFO  [service] Removing bootstrap log handlers 02:59:40,199 INFO  [org.apache.coyote.http11.Http11Protocol] Démarrage de Coyote HTTP/1.1 sur http-localhost%2F127.0.0.1-8282 02:59:40,203 INFO  [org.apache.coyote.ajp.AjpProtocol] Starting Coyote AJP/1.3 on ajp-localhost%2F127.0.0.1-8009 02:59:40,204 INFO  [org.jboss.bootstrap.impl.base.server.AbstractServer] JBossAS [6.0.0.Final "Neo"] Started in 24s:124ms 02:59:40,811 INFO  [org.jboss.web.tomcat.service.deployers.TomcatDeployment] deploy, ctxPath=/Ecommerce 02:59:40,815 ERROR [org.jboss.kernel.plugins.dependency.AbstractKernelController] Error installing to Start: name=jboss.web.deployment:war=/Ecommerce state=Create mode=Manual requiredState=Installed: java.net.URISyntaxException: Illegal character in path at index 21: file:/C:/Users/MFOUKA MOKONO/workspace2/.metadata/.plugins/org.jboss.ide.eclipse.as.core/JBoss_6.0_Runtime_Server1354807548842/deploy/Ecommerce.war/           at java.net.URI$Parser.fail(URI.java:2810) [:1.6.0_31]           at java.net.URI$Parser.checkChars(URI.java:2983) [:1.6.0_31]           at java.net.URI$Parser.parseHierarchical(URI.java:3067) [:1.6.0_31]           at java.net.URI$Parser.parse(URI.java:3015) [:1.6.0_31]           at java.net.URI.&lt;init&gt;(URI.java:577) [:1.6.0_31]           at java.net.URL.toURI(URL.java:918) [:1.6.0_31]           at org.jboss.vfs.VFS.getChild(VFS.java:174) [jboss-vfs.jar:3.0.0.GA]           at org.jboss.web.tomcat.service.deployers.TomcatDeployment.performDeployInternal(TomcatDeployment.java:223) [:6.0.0.Final]           at org.jboss.web.tomcat.service.deployers.TomcatDeployment.performDeploy(TomcatDeployment.java:146) [:6.0.0.Final]           at org.jboss.web.deployers.AbstractWarDeployment.start(AbstractWarDeployment.java:477) [:6.0.0.Final]           at org.jboss.web.deployers.WebModule.startModule(WebModule.java:118) [:6.0.0.Final]           at org.jboss.web.deployers.WebModule.start(WebModule.java:95) [:6.0.0.Final]           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [:1.6.0_31]           at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [:1.6.0_31]           at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [:1.6.0_31]           at java.lang.reflect.Method.invoke(Method.java:597) [:1.6.0_31]           at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:157) [:6.0.0.GA]           at org.jboss.mx.server.Invocation.dispatch(Invocation.java:96) [:6.0.0.GA]           at org.jboss.mx.server.Invocation.invoke(Invocation.java:88) [:6.0.0.GA]           at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:271) [:6.0.0.GA]           at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:670) [:6.0.0.GA]           at org.jboss.system.microcontainer.ServiceProxy.invoke(ServiceProxy.java:206) [:2.2.0.GA]           at $Proxy41.start(Unknown Source)          at org.jboss.system.microcontainer.StartStopLifecycleAction.installAction(StartStopLifecycleAction.java:53) [:2.2.0.GA]           at org.jboss.system.microcontainer.StartStopLifecycleAction.installAction(StartStopLifecycleAction.java:41) [:2.2.0.GA]           at org.jboss.dependency.plugins.action.SimpleControllerContextAction.simpleInstallAction(SimpleControllerContextAction.java:62) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.action.AccessControllerContextAction.install(AccessControllerContextAction.java:71) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractControllerContextActions.install(AbstractControllerContextActions.java:51) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractControllerContext.install(AbstractControllerContext.java:379) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.system.microcontainer.ServiceControllerContext.install(ServiceControllerContext.java:301) [:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.install(AbstractController.java:2044) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.incrementState(AbstractController.java:1083) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.executeOrIncrementStateDirectly(AbstractController.java:1322) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.resolveContexts(AbstractController.java:1246) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.resolveContexts(AbstractController.java:1139) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.install(AbstractController.java:894) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.install(AbstractController.java:641) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.deployers.vfs.deployer.kernel.BeanMetaDataDeployer.deploy(BeanMetaDataDeployer.java:182) [:2.2.0.GA]           at org.jboss.deployers.vfs.deployer.kernel.BeanMetaDataDeployer.deploy(BeanMetaDataDeployer.java:58) [:2.2.0.GA]           at org.jboss.deployers.spi.deployer.helpers.AbstractSimpleRealDeployer.internalDeploy(AbstractSimpleRealDeployer.java:62) [:2.2.0.GA]           at org.jboss.deployers.spi.deployer.helpers.AbstractRealDeployer.deploy(AbstractRealDeployer.java:55) [:2.2.0.GA]           at org.jboss.deployers.plugins.deployers.DeployerWrapper.deploy(DeployerWrapper.java:179) [:2.2.0.GA]           at org.jboss.deployers.plugins.deployers.DeployersImpl.doDeploy(DeployersImpl.java:1832) [:2.2.0.GA]           at org.jboss.deployers.plugins.deployers.DeployersImpl.doInstallParentFirst(DeployersImpl.java:1550) [:2.2.0.GA]           at org.jboss.deployers.plugins.deployers.DeployersImpl.doInstallParentFirst(DeployersImpl.java:1571) [:2.2.0.GA]           at org.jboss.deployers.plugins.deployers.DeployersImpl.install(DeployersImpl.java:1491) [:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractControllerContext.install(AbstractControllerContext.java:379) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.install(AbstractController.java:2044) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.incrementState(AbstractController.java:1083) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.executeOrIncrementStateDirectly(AbstractController.java:1322) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.resolveContexts(AbstractController.java:1246) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.resolveContexts(AbstractController.java:1139) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.change(AbstractController.java:939) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.change(AbstractController.java:654) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.deployers.plugins.deployers.DeployersImpl.change(DeployersImpl.java:1983) [:2.2.0.GA]           at org.jboss.deployers.plugins.deployers.DeployersImpl.process(DeployersImpl.java:1076) [:2.2.0.GA]           at org.jboss.deployers.plugins.main.MainDeployerImpl.process(MainDeployerImpl.java:679) [:2.2.0.GA]           at org.jboss.system.server.profileservice.deployers.MainDeployerPlugin.process(MainDeployerPlugin.java:106) [:6.0.0.Final]           at org.jboss.profileservice.dependency.ProfileControllerContext$DelegateDeployer.process(ProfileControllerContext.java:143) [:0.2.2]           at org.jboss.profileservice.dependency.ProfileDeployAction.deploy(ProfileDeployAction.java:151) [:0.2.2]           at org.jboss.profileservice.dependency.ProfileDeployAction.installActionInternal(ProfileDeployAction.java:94) [:0.2.2]           at org.jboss.kernel.plugins.dependency.InstallsAwareAction.installAction(InstallsAwareAction.java:54) [jboss-kernel.jar:2.2.0.GA]           at org.jboss.kernel.plugins.dependency.InstallsAwareAction.installAction(InstallsAwareAction.java:42) [jboss-kernel.jar:2.2.0.GA]           at org.jboss.dependency.plugins.action.SimpleControllerContextAction.simpleInstallAction(SimpleControllerContextAction.java:62) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.action.AccessControllerContextAction.install(AccessControllerContextAction.java:71) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractControllerContextActions.install(AbstractControllerContextActions.java:51) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractControllerContext.install(AbstractControllerContext.java:379) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.install(AbstractController.java:2044) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.incrementState(AbstractController.java:1083) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.executeOrIncrementStateDirectly(AbstractController.java:1322) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.resolveContexts(AbstractController.java:1246) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.resolveContexts(AbstractController.java:1139) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.change(AbstractController.java:939) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.dependency.plugins.AbstractController.change(AbstractController.java:654) [jboss-dependency.jar:2.2.0.GA]           at org.jboss.profileservice.dependency.ProfileActivationWrapper$BasicProfileActivation.start(ProfileActivationWrapper.java:190) [:0.2.2]           at org.jboss.profileservice.dependency.ProfileActivationWrapper.start(ProfileActivationWrapper.java:87) [:0.2.2]           at org.jboss.profileservice.dependency.ProfileActivationService.activateProfile(ProfileActivationService.java:215) [:0.2.2]           at org.jboss.profileservice.dependency.ProfileActivationService.activate(ProfileActivationService.java:159) [:0.2.2]           at org.jboss.profileservice.AbstractProfileService.activateProfile(AbstractProfileService.java:154) [:0.2.2]           at org.jboss.system.tools.ProfileServiceToolsFacade.addURI(ProfileServiceToolsFacade.java:233) [:6.0.0.Final]           at org.jboss.system.tools.LegacyDeploymentScannerAdapter.addURL(LegacyDeploymentScannerAdapter.java:140) [:6.0.0.Final]           at org.jboss.system.tools.DeploymentScanner.addURL(DeploymentScanner.java:91) [:6.0.0.Final]           at org.jboss.system.tools.DeploymentScanner.addURL(DeploymentScanner.java:83) [:6.0.0.Final]           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [:1.6.0_31]           at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [:1.6.0_31]           at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [:1.6.0_31]           at java.lang.reflect.Method.invoke(Method.java:597) [:1.6.0_31]           at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:157) [:6.0.0.GA]           at org.jboss.mx.server.Invocation.dispatch(Invocation.java:96) [:6.0.0.GA]           at org.jboss.mx.server.Invocation.invoke(Invocation.java:88) [:6.0.0.GA]           at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:271) [:6.0.0.GA]           at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:670) [:6.0.0.GA]           at org.jboss.system.server.jmx.MBeanServerWrapper.invoke(MBeanServerWrapper.java:138) [:6.0.0.Final (Build SVNTag:JBoss_6.0.0.Final date: 20101228)]           at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1427) [:1.6.0_31]           at javax.management.remote.rmi.RMIConnectionImpl.access$200(RMIConnectionImpl.java:72) [:1.6.0_31]           at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1265) [:1.6.0_31]           at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1360) [:1.6.0_31]           at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:788) [:1.6.0_31]           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [:1.6.0_31]           at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [:1.6.0_31]           at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [:1.6.0_31]           at java.lang.reflect.Method.invoke(Method.java:597) [:1.6.0_31]           at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:303) [:1.6.0_31]           at sun.rmi.transport.Transport$1.run(Transport.java:159) [:1.6.0_31]           at java.security.AccessController.doPrivileged(Native Method) [:1.6.0_31]           at sun.rmi.transport.Transport.serviceCall(Transport.java:155) [:1.6.0_31]           at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:535) [:1.6.0_31]           at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:790) [:1.6.0_31]           at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:649) [:1.6.0_31]           at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [:1.6.0_31]           at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [:1.6.0_31]           at java.lang.Thread.run(Thread.java:662) [:1.6.0_31] Besides I try to remove the war but the same defect occurs. I want solve this defect in order to continue. Thanks for your help!!!!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>h1. +*This proposal is slightly WIP*+ h1. Overview This document describes notions for how different software distributions based on the JBoss AS 7 project can integrate with the base AS and with each other in a controlled manner. +* *+ h1. Fundamental Concepts h2. Distribution A coherent set of software produced by a "project" or a "product". JBoss AS 7 is a project. JBoss EAP is such a product. Both play similar technical roles in the JBoss ecosystem, but there are significant differences in how the two are made available to end users. This article uses "distribution" as a replacement for constantly saying "project/product" everywhere. It's not a great term; if someone has a better one, please suggest it. h2. Distribution Base The "distribution base" is the core set of modules, bundles and miscellaneous files that is common to all layered distributions. It may itself be usable standalone project or product. Currently the software produced by the JBoss AS 7 project and the JBoss EAP product are the distribution bases relevant to this discussion. In the future a more limited subset of functionality may become the distribution base, with the full set of functionality currently provided in community AS and EAP coming as layered distributions or add-ons. h2. Layered Distribution A distribution that builds on top of the distribution base, potentially superceding some of the distribution base's functionality. A layered distribution is allowed to supercede any aspect of the distribution base's functionality. The less the layered distribution does this, the easier it will be for the layered distribution to manage things like patching, but, if necessary, a layered distribution can supercede anything in the distribution base. A layered distribution build on top of another layered distribution, provided it has worked out the necessary procedures to ensure compatibility. h2. Identity An identity is a named set of distribution base + layered distribution(s) that is certified as a valid combination. The distribution base by itself may or may not be a valid identity. Currently it is; in the future it may not be. The software produced by a given layered distribution may be associated with more than one identity. h3. Patching and Identities Patches are applicable to an identity. A given patch can apply to more than one identity, if there are no conflicts between the identities in terms of how they use the items modified by a patch. The metadata associated with a patch will indicate the identities to which it is applicable. Patches are comprised of one or more discrete +patch elements+ each of which is produced by the distribution base or by one of the layered distributions associated with the identity. A patch element includes metadata describing the element along with any added or modified files. The patch element metadata will identify the provider of the patch component. A given patch element can be used in multiple different patches. For example, a patch element upgrading the distribution base can be included in several patches produced by different identities, with each patch also including a patch element upgrading a layered distribution used in that identity. For example, let's say an identity named I consists of the distribution base and a layered distribution named A. Version 1.0 of identity I is based on version 2.0 of the distribution base and version 1.0 of layered distribution A. The distribution base produces a patch element that will move it to version 2.1. The producers of the I identity could then produce a patch that will result in version 1.1 of identity A. This would include a patch element upgrading layered distribution A to its version 1.1, as well as the separate element that provides the distribution base upgrade to its 2.1. There are two main benefits of this sharing approach: * The modules and bundles provided by the distribution base upgrade are associated with the original 2.1 patch provided by the distribution base, not just with the enclosing patch provided by A. This will make possible the sharing of modules/bundles provided by patches across installations. * Incorporating one patch within another as a simple discrete unit helps avoid errors during patch production. For modules and bundles within a patch, once the patch is applied the association of the module or bundle with the distribution base or layer that provided it is retained within the installation. The association is encoded within the filesystem path that points to the patch version of the module or bundle. Miscellaneous files within a patch are not associated with the distribution base or any particular layered distribution once they are installed. For example bin/standalone.sh is bin/standalone.sh no matter what patch component added or modified it. Each identity produces a patch stream. Because a given patch can apply to more than one identity, the same patch can appear in multiple patch streams. The distribution base and layered distributions can produces +patch elements+ but they cannot themselves produce +patches+ or a patch stream. Since a patch must be associated with an an identity, only an identity (or a group of cooperating identities) can produce a patch. If there is an identity that consists of nothing but the distribution base, that identity can produce a patch. But this is logically not the same thing as saying the distribution base itself produced the patch, even though the practical effect is similar. h2. Installation An installation is a single filesystem location containing the distribution base plus zero or more layered distributions. It includes the bin/ dir from which processes are launched. The root of the installation is the path indicated by the $JBOSS_HOME environment variable referred to in the scripts and indicated by the jboss.home.dir system property used in the java code. h3. Installation Identity Each installation has a *+single identity+*. Because an installation only has a single identity, there is no confusion as to which layered distribution "owns" a particular filesystem location in that installation. Further, because the identity of an installation can be easily determined (see "Establishing Identity" below), external tools can quickly understand the functionality provided by a given installation, even if no process is currently running from the installation. +TODO further spell out the importance of single identity.+ h3. Sharing Files Across Installations+ + The files that comprise modules and bundles are potentially sharable across installations. Making it easy for users to do this should be a key goal. Miscellaneous files are not sharable across installations. An end user could potentially share them using symlinks, but doing so is not a supported feature nor is it a recommended practice. Patches are not sharable across installations. The +modules and bundles that the patch provides+ are potentially sharable, but the miscellaneous files provided by a patch are not sharable. The patching history metadata that the patching tool records in the installation is also not sharable -- the metadata is associated with the given installation. However, making it easy to share the the modules and bundles provide by a patch across installations should be a key goal. h2. Add-On Distribution An add-on distribution is a set of software that extends the capabilities of a given "identity". An add-on can only extend capabilities. It is not allowed to supercede capabilities of the identity it extends. For modules and OSGi bundles, the module and bundle loading logic provided by the distribution base will enforce this behavior. For miscellaneous files, it is up to the people providing an add-on to ensure that the add-on does not overwrite any file provided by the distribution base, any layered distribution associated with the identity or any other add-ons associated with the identity. Conversely, once the providers of an identity have accepted an add-on into their ecosystem, it is their responsibility to ensure that they do not add any files to their distributions that will conflict with files already provided by the add-on. In practice, the most likely sources of conflict will be the xml files in the configuration directories and the .conf files in the bin directory. Conflicts over xml files are solvable by having add-on providers ship their own xml file variants rather than attempting to modify the standard ones that ship with the identity. A given add-on is allowed to extend the capabilities of more than one identity. An add-on may require the presence of other add-ons. h3. Patching and Add-ons Add-on distributions produce their own patch stream. The patches produced by an add-on indicate the versions of the identity that must be present for the patch to apply. More than one identity can be listed, since add-ons may be applicable to multiple identities. The patches produced by an add-on also indicate the existing version of the add-on that must be present, as well as the version of any other required add-ons. Add-ons cannot use patches in their own stream to fix problems in the identity on which they depend. Add-ons depend on the patch stream provided by their dependent identity to provide such fixes. Modules and bundles provided by an add-on or its patches will have lower precedence in the module loading order than those that come from the distribution base or layered distributions, so any fix to such a module/bundle provided by an add-on patch will have no effect. h1. Installers +TODO discussion of RPM+ h2. Distribution Base Installers The distribution base can be installed via a simple unzip. If the distribution base is itself an identity, see also "Identity Installers" h2. Identity Installers An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions. * An unzip onto a filesystem location that already contains a depended upon identity or the installation base of a zip that only includes the layered distribution(s) to be added. * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an identity is installed into a given filesystem location, the identity of that installation is irrevocably changed.+* When an identity is installed it has the right to modify any miscellaneous files in the installation filesystem, so once an identity is installed, the identity of the installation is changed. In many (hopefully nearly all) cases it may be possible for a user to remove files added by an identity install and get the installation back to its previous identity, but doing this is not a supported feature of the software and is not a recommended practice. *+However, once support for installing patches via the patching tool is available, reverting an identity installation will be possible.+* The patching tool maintains backup copies of any miscellaneous files modified by a patch, making it possible to restore those files. h2. Add-on Installer An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions along with the add-on itself. * An unzip onto a filesystem location that contains the depended upon identity of a zip that only includes the add-on. * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an add-on is installed into a given filesystem location, the identity of that installation is not changed, and it must be possible to reverse the installation.+* An add-on is merely additive, so removing it is a matter of deleting what was added. This could be done via a script provided by the add-on, via an installer program, or manually by a user following a set of instructions. h1. Establishing Identity It +must+ be possible for external tools to determine the identity of a given installation without requiring the software based on that installation to be running. It's also necessary for the software based on an installation to determine its own identity. The identity of an installation is provided via the bin/product.conf file located in the distribution. The product.conf file is a simple properties file that contains the following property: slot=&lt;simple string name for identity&gt; For example: slot=eap The value of "slot" is used by the running software to identify the "slot" portion of the identifier of a jboss-modules module. The software uses the slot to load a module named org.jboss.as.product:&lt;value of slot property&gt;, e.g. org.jboss.as.product:eap. The software will then read manifest properties included in the META-INF/MANIFEST.MF file located in that module to find out other identifying information for the identity. Currently supported manfiest properties include: * JBoss-Product-Release-Name -- Provides the name of the identity for use in the management API and in places like the startup and shutdown log messages. * JBoss-Product-Release-Version -- Provides the version of the identity for use in the management API and in places like the startup and shutdown log messages. * JBoss-Product-Console-Slot -- Used to drive what variant of the management console should be loaded. The notion here is there are different streams of consoles being produced, one for community AS releases and one for product releases, differentiated primarily by cosmetic differences. This property drives which of the two streams of console releases should be used when the console module is loaded. The use of "Slot" in this property name is a bit unfortunate since it implies an implementation detail that may very well change. The name of the property may change in a future minor release of the AS or EAP and will very likely change in the next major release. If no bin/product.conf file exists, the installation is assumed to be the community version of the distribution base. If the product.conf file contains other properties besides slot, the software will use those properties to set system properties in the runtime. However, the properties in the file will not take precedence over other mechanisms for setting system properties (i.e. the command line, the standard scripts or the xml configuration files.) Note also that the reading of product.conf occurs after primordial boot, so this mechanism should not be used for setting properties needed immediately on launch. The values are unknown to the JVM launcher, will be unknown to jboss-modules when it sets up the modular classloading environment, and will be unknown to the logging system until any logging subsystem in the xml configuration file is processed. The software based on the installation will also need to know the name of any layered distributions used by the identity, in order of the precedence to be used when loading their modules and/or bundles. This information will be done via a modules/layers.conf file located in the distribution. This file will be a simple properties file that includes a single property: layers=&lt;comma delimited list of layered distribution names with earlier names taking precedence&gt; For example, assuming we have layered distribution named "soa" and "brms" with "brms" taking precedence over "soa": layers=brms,soa There is no need to include "base" in the list of layers; if not present "base" will be appended to the list of layers as the lowest precedence layer. It is legal to include "base" in the list, though. If the modules/layers.conf file does not exist or no layered distributions are named in it, only the base and any add-ons will be used. h1. Module Loading JBoss AS currently loads modules based on a "module path" which is a list of filesystem locations which JBoss Modules searches for modules. In our standard launch scripts, users are able to manipulate this module path by setting the $JBOSS_MODULEPATH environment variable. If not set, $JBOSS_MODULEPATH is set to $JBOSS_HOME/modules. This mechanism creates a single default location under which modules can be located. This is problematic when layered distributions and add-ons wish to install their own modules, since there are no clear rules as to how those modules should be installed or how they relate to one another. h2. Goals * To make it easy for layered distributions or add-ons to add their modules to the set of available modules or remove their modules from the set of available modules, without fear of physically overwriting modules provided by others. * To establish clear rights and responsibilities for providers of the distribution base, layered distributions and add-ons with respect to how their modules should be managed. * To establish clear rules for how distributions that add modules that must take precedence over other modules provided by other distributions with the same name and slot should:* locate those modules * indicate at launch time to the modular classloading system the precedence order * To make it easy for end users to alter the module path for their own purposes by setting $JBOSS_MODULEPATH without needing to concern themselves with details of how the modules provided by the distribtuion base, layered distributions, or add-ons relate to one another. Reserve the use of $JBOSS_MODULEPATH and the value of the -mp command line argument passed to jboss-modules for end use uses. h2. Rights and Responsibilities of Module Providers All modules provided as part of the distribution base can be depended upon by any add-on associated with an identity. If the distribution base by itself is an identity (i.e. with no additional layered distribution required), the providers of the distribution base accept the following with respect to that identity: * The version of the module the distribution base provides will take precedence over a module with the same name and slot provided by any add-on. * As a consequence of this, any modification of that module in a patch will need to be tested for compatibility with add-ons based on the version of the identity being patched. * As a subset of the previous point, within a major version family the distribution base cannot remove a module that is depended upon by an add-on, even if the distribution base itself no longer needs that module. If the distribution base is part of an identity along with one or more layered distributions, the providers of the distribution base accept the following with respect to that identity: * The distribution base has the same responsibilities with respect to add-ons that it has in the case of add-ons without any layered distribution. * However, if a layered distribution in an identity provides a module with the same name and slot as the one provided by the distribution base, the distribution base no longer has responsibility to provide the module. The layered distribution's version of the module takes precedence. * The distribution base can modify a module that is depended upon by a layered distribution in a way that breaks functionality of the layered distribution. Providers of identities that include layered distributions are responsible for testing patch elements produced by the distribution base before making them available for use with the identity. If the distribution base patch element in some way breaks the functionality of an identity, either the patch element should not be provided for the identity, or the patch that incorporates the distribution base patch element should also include a layered distribution patch element that fixes the problem.* However, the distribution base should take great care not to break layered distributions with which it is associated when it produces patch elements. Distribution base patch element production should involve reasonable testing of all relevant identities such that problems can be found and resolved before the distribution base patch element ships. * The distribution base can remove a module that is not depended upon by any add-on but which is depended upon by a layered distribution. Providers of identities that include layered distributions are responsible for testing patch elements produced by the distribution base before making them available for use with the identity. If the distribution base removes a module depended upon by a layered distribution, the patch that incorporates the distribution base patch element should also include a layered distribution patch element that adds the module as part of the layered distribution. * If an identity add-on depends on a module provided by the distribution base and the distribution base wishes to remove the module, that is allowed provided some layered distribution is willing to begin providing the same module in an overall patch. All modules provided as part of a layered distribution can be depended upon by any add-on associated with an identity. They cannot be depended upon by the distribution base. When a layered distribution includes a module it accepts the following: * The version of the module it provides will take precedence over a module with the same name and slot provided by the distribution base or by any add-on. * As a consequence of this, any modification of that module in a patch element will need to be tested for compatibility with add-ons based on that version of the identity. Any functionality provided by the distribution base and supported by the identity will also have to be tested. * As a subset of the previous point, within a major version family the layered distribution cannot remove a module that is depended upon by an add-on, even if the layered distribution itself no longer needs that module. * A layered distribution can remove a module that is not depended upon by any add-on. If a layered distribution participates in an identity with another layered distribution that depends on it, the depended-on layer accepts the following: * If the dependent layered distribution provides a module with the same name and slot as the one provided by the depended-on layer, the depended-on layer no longer has responsibility to provide the module to the dependent or to any add-ons. The dependent layered distribution's version of the module takes precedence. * The depended-on layer can modify a module that is depended upon by another layer in a way that breaks functionality of the dependent. Providers of identities that include layered distributions are responsible for testing patch elements produced by the component layers before making them available for use with the identity. If the depended-on layer's patch element in some way breaks the functionality of an identity, either the patch should not be provided for the identity, or the patch element that incorporates the depended-on layer's patch component should also include a patch element to a dependent layer that fixes the problem.* However, a depended-on layer should take great care not to break dependent layers when it produces patch elements. Layered distribution patch production should involve reasonable testing of all relevant identities such that problems can be found and resolved before the depended-on layer's patch ships. * A depended-on layer can remove a module that is not depended upon by any add-on but which is depended upon by another layer. Providers of identities that include layered distributions are responsible for testing patch elements produced by a depended-upon layered distribution before making them available for use with the identity. If the depended-upon layer removes a module that is depended upon by another layer, the patch that incorporates the depended-upon layer's patch element should also include a patch element from the dependent layer distribution that adds the module as part of that layered distribution. * If an add-on depends on a module provided by the layered distribution and the layered distribution wishes to remove the module, that is allowed provided some other layered distribution in the identity is willing to begin providing the same module in an overall patch. When an add-on includes a module, it accepts the following with respect to any identity with which the add-on is associated: * The distribution base or a layered distribution may ship a module with the same name and slot, and that module +*will*+ take precedence over the module provided by the add-on. * Another add-on may ship a module with the same name and slot, and that module +*may*+ take precedence over the module provided by this layered distribution or add-on. * Another add-on may ship a module with the same name and slot, and the version provided by this layered distribution or add-on +*may*+ take precedence over the module provided by the other add-on. * As a consequence of this, any modification of the depended-upon module in a patch element will need to be tested for compatibility with any add-on based on the same major version of the identity.* The providers of the add-on are responsible for providing an adequate set of tests to the providers of the identity. * The distribution base or a layered distribution cannot depend upon a module provided by an add-on. * As a consequence of the previous point, an add-on can remove a module in a patch, without fear of breaking the core functionality of an identity. * An add-on can depend up a shareable module provided by another add-on upon which it depends, but +only with the express consent of the providers of that add-on+. Such dependencies are strongly discouraged. * If an add-on allows another add-on to depend upon its modules, it takes on the following responsibilities:* Any modification of that module in a patch or version upgrade will need to be tested for compatibility with any dependent add-ons. Testing procedures must be created to ensure that any patches produced by the depended-upon add-on do not break the dependent add-on. * As a subset of the previous point, within a major version family the add-on cannot remove a module that is depended upon by another add-on, even if the add-on itself no longer needs that module. h2. Module Organization on the Filesystem This section will describe how the above points are reflected in the actual organization of modules on the filesystem. h4. Requirement for Standardized Module Loading JBoss Modules can support other mechanisms for finding module content and loading it besides the filesystem-based module path mechanism. Theoretically a custom boot module loader implementation could be specified at process launch, with that module loader using some other means for locating module content. This article proposes that this capability be declared as unsupported for JBoss AS and products based upon it. Rather, the AS will have a specified boot module loader implementation. Users of the AS community project are free to use a non-standard boot module loader implementation, but if they do so and certain features provided by the AS don't work, that is their problem. h3. Filesystem Layout Modules would be organized on the filesystem as follows: modules + system ++ add-ons +++ abc +++ def ++ layers +++ base +++ vuw +++ xyz The system level exists to separate modules associated with the distribution base, layered distribution or add-ons from those the end user may store in the modules directory. +(Note: in earlier versions of this document, "internal" was used instead of "system" with a request for suggestions of something better.)+ h3. Translation of Filesystem Layout into Module Loading Precedence For any location provided by the user via the -mp switch, the module loader will look for the system structure. The module loader will understand the structure above and will apply module loading precedence rules as follows. Assume the above structure exists under $JBOSS_HOME and that the user sets $JBOSS_MODULEPATH as follows JBOSS_MODULESPATH=/user/me/my-modules;$JBOSS_HOME/modules In addition, the bin/product.conf file declares that the identity of the install is xyz, the xyz layered distribution should be loaded and the xyz layered distribution depends on the vuw layered distribution. Assume also that patches named base-1, abc-1, def-1, vuw-1, xyz-1 and xyz-2 have been applied. The module loader would look for modules on the filesystem in following locations, starting with first and terminating as soon as the module is found: /user/me/my-modules /modules (in case the user placed modules directly in under this directory) /modules/system/layers/xyz/patches/xyz-2 /modules/system/layers/xyz/patches/xyz-1 /modules/system/layers/xyz /modules/system/layers/vuw/patches/vuw-1 /modules/system/layers/vuw /modules/system/layers/base/patches/base-1 /modules/system/layers/base /modules/system/add-ons/abc/patches/abc-1 /modules/system/add-ons/abc /modules/system/add-ons/def/patches/def-1 /modules/system/add-ons/def The precedence order between /modules/system/add-ons/abc and /modules/system/add-ons/def is arbitrary. An add-on should never assume its modules will take precedence over those of any other add-on's modules. The fact that the various patches locations are included in the path is entirely due to +metadata+ that the patching tool will store in the $JBOSS_HOME/patches directory. The mere presence of a directory like /modules/system/layers/xyz/patches/xyz-2 is insufficient to trigger inclusion of that directory in the module search path. However, when the patching tool installs the patch, the actual location of the +module contents+ will be in /modules/system/layers/xyz/patches/xyz-2 -- only patching related metadata will be stored in $JBOSS_HOME/patches. This behavior is important for allowing sharing of modules across installations. h2. Sharing Modules Across Installations The above behavior makes it relatively straightforward for a user to share modules across installations. For example, the user could set up a shared module repo in /user/me with the following structure jboss-module-repo + add-ons ++ abc ++ def + layers ++ base ++ vuw ++ xyz The $JBOSS_HOME/modules/system location in each installation on the filesystem could then be replaced with a symlink to /user/me/jboss-module-repo. The downside to this very simple sharing is the abc and def add-ons will be visible and used by all installations, whether or not they are relevant to the installation's identity. A solution to this problem would be to do more symlinks: $JBOSS_HOME/modules/system/layers -&gt; /user/me/jboss-module-repo/layers $JBOSS_HOME/modules/system/add-ons/abc -&gt; /user/me/jboss-module-repo/add-ons/abc $JBOSS_HOME/modules/system/add-ons/def -&gt; /user/me/jboss-module-repo/add-ons/def As an improvement at some point we could define some sort of file format (say xml) and allow a file with that format to be placed in $JBOSS_HOME/modules/system in lieu of the subdirectories. The file would include all of the mapping information for the external repo. The boot module loader, patching tool and any programmatic installers would know how to read and update that file. The file would only include information for the add-ons relevant to the installation. h3. Implications for the Patching Tool The possibility of module sharing doesn't remove the requirement to apply a patch to each installation on a given filesystem. Applying the patch to each installation is required in order to: *  update any miscellaneous files * record the patching metadata for the particular installation * allow the patching tool to understand what combinations of layered distributions and add-ons are relevant to the given installation However, the patching tool should recognize the possibility of this kind of module sharing. When it applies a patch it should recognize that the modules may already exist on the filesystem and should not apply them again if not necessary. It should however record some information in, e.g. /modules/system/layers/xyz/patches/xyz-2 indicating that the installation being patched is using that set of patch modules. This information will prevent deletion of patch modules used by multiple installations if one of the installations uses the patching feature's cleanup functions. h1. OSGi Bundle Loading OSGi bundle loading will follow the same rules as for module loading. The file used to specify what layers should be used will be a layers.conf file found in each directory in the bundle path (i.e. $JBOSS_HOME/bundles/layers.conf.) +The bundle loading mechanism will not use+ +$JBOSS_HOME/modules/layers.conf for identifying layers. Identities that wish to include bundles in layers other than the base will need to provide a $JBOSS_HOME/bundles/layers.conf.+</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>Updated with the following: 1) More details on how product.conf is used. 2) Separation of the specification of what layers should be used by jboss-modules into a modules/layers.conf file. 3) Use of modules/system instead of modules/internal 4) Fixed various path descriptions that omitted the "system" (fka "internal") level.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Couldn't retrieve the node name for the process instance in JBPM 5.0.0</header>
    <body>Hi, i tried to get the node Instance Id's using this method :                     if(getRfpi()!=null)                     if(getRfpi().getNodeInstances().iterator().hasNext()) WHERE getRfpi()  is defined by :                     if(processInstance!=null)                     this worked fine BUT when i tried to get the node name by almost the same way :                     if(getRfpi()!=null)                               if(getRfpi().getNodeInstances().iterator().hasNext()) i got a NullPointerException pointing to this method.. Any Help please ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Couldn't retrieve the node name for the process instance in JBPM 5.0.0</header>
    <body>the exception is : Caused by: java.lang.NullPointerException         at org.jbpm.process.instance.impl.ProcessInstanceImpl.getProcess(ProcessInstanceImpl.java:67 )         at org.jbpm.workflow.instance.impl.WorkflowProcessInstanceImpl.getWorkflowProcess(WorkflowPr ocessInstanceImpl.java:180)         at org.jbpm.workflow.instance.impl.WorkflowProcessInstanceImpl.getNodeContainer(WorkflowProc essInstanceImpl.java:68)         at org.jbpm.workflow.instance.impl.NodeInstanceImpl.getNode(NodeInstanceImpl.java:100)         at org.jbpm.workflow.instance.node.WorkItemNodeInstance.getNodeName(WorkItemNodeInstance.jav a:273)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Couldn't retrieve the node name for the process instance in JBPM 5.0.0</header>
    <body>I dont understand which node of the process you are looking for. You can probably use the following code :   try      for (Node node : (Node[])((WorkflowProcessImpl) process).getNodes())           // You have the node object. DO whatever you want with it. catch(Exception e)      </body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - .ftl form display in my web application with jbpm 5.4</header>
    <body>Hi All, I have developed an web application which can start process from .jsp page.But  i am not able to display .ftl form associated with process.I dont know how to invoke after starting process..Is there anything i need to do in my jsp page.right i just have one submit button which when i click start the process.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Per http-provider security for EBWS - possible?</header>
    <body>I am attempting to use an HTTPGateway together with a SOAPProxy action to proxy a webservice. I need to be able to provide multiple endpoints, each with a different security contract, for the proxied web service (the point of the multiple endpoints is to have different security configurations.) After reading this post, where a discussion took place about adding the war-security tag to the ESB, it seems that being able to specify different security configurations for each endpoint (configured here using separate http-bus tags) is not possible:  https://community.jboss.org/message/349913#349913 https://community.jboss.org/message/349913 What would be nice, is to be able to configure separate security configurations for each http-bus reference. So my question is: Is what I want to do actually possible (JBoss ESB 4.11) and I am just missing it? If not, should it be a feature? It would make what I am trying to do a whole lot easier. If not, it seems I have to deploy multiple war files to handle each end point with differing security contracts and then get the requests to the ESB to be passed onto the proxied web service. Being able to specify it all here in a single ESB deployment file would be great - makes managing it a whole lot easier. Here is what my jboss-esb.xml looks like thus far: &lt;?xml version = "1.0" encoding = "UTF-8"?&gt; &lt;jbossesb     xmlns=" http://anonsvn.labs.jboss.com/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.3.0.xsd http://anonsvn.labs.jboss.com/labs/jbossesb/trunk/product/etc/schemas/xml/jbossesb-1.3.0.xsd"     parameterReloadSecs="5"&gt;     &lt;globals&gt;     &lt;!-- Security setting for all http-providers and all EBWSs in this jboss-esb.xml file.--&gt;         &lt;war-security method="BASIC" domain="JBossWS" /&gt;     &lt;/globals&gt;    &lt;providers&gt;        &lt;http-provider name="http"&gt;            &lt;http-bus busid="noaSecurity"/&gt;            &lt;http-bus busid="pkiSecurity"/&gt;            &lt;http-bus busid="wcfSecurity"/&gt;        &lt;/http-provider&gt;    &lt;/providers&gt;     &lt;services&gt;         &lt;service category="Stock" name="Quote" description="Stock Quote" invmScope="GLOBAL"&gt;             &lt;listeners&gt;                 &lt;http-gateway name="GW-NOA" busidref="noaSecurity" urlPattern="noa/*" /&gt;                 &lt;http-gateway name="GW-PKI" busidref="pkiSecurity" urlPattern="pki/*"/&gt;                 &lt;http-gateway name="GW-WCF" busidref="wcfSecurity" urlPattern="wcf/*"/&gt;             &lt;/listeners&gt;             &lt;actions mep="RequestResponse"&gt;                 &lt;action name="proxy" class="org.jboss.soa.esb.actions.soap.proxy.SOAPProxy"&gt;                     &lt;property name="wsdl" value=" http://www.webservicex.net/stockquote.asmx?WSDL http://www.webservicex.net/stockquote.asmx?WSDL"/&gt;                     &lt;/action&gt;             &lt;/actions&gt;         &lt;/service&gt;     &lt;/services&gt; &lt;/jbossesb&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: Per http-provider security for EBWS - possible?</header>
    <body>It is not possible to do what you are asking for. Each esb deployment configuration is mapped onto one gateway war file. Please create a feature request and will consider the feasibility for a later version.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: Per http-provider security for EBWS - possible?</header>
    <body>Per your request, a feature request has been submitted:  https://issues.jboss.org/browse/JBESB-3903 https://issues.jboss.org/browse/JBESB-3903 Thanks</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - WebJASPIOptionalAuthenticator, spec compliant?</header>
    <body>I "discovered" the valve WebJASPIOptionalAuthenticator in the JBoss AS (7.1.1, 7.1.3) source code. It doesn't seem to be documented anywhere, but judging from the code and from trying out it appears to do authentication for unprotected resources. The comment above the class says that authentication of unprotected resources is optional, but I couldn't find a reference to this in the source code. Regardless, all other JASPIC/JASPI/JSR 196 implementations that I tested (GlassFish, Geronimo, WebSphere) always call the SAM for unprotected resources. See: /** * &lt;p&gt; * This class implements a JASPI authenticator for unprotected resources. In the JASPI Servlet profile, authentication * for unprotected resources is optional but it is still allowed. When performed, the JASPI authentication modules must * grant access to the unprotected resources irrespective of the caller, which may be anonymous (i.e, no security info * supplied). * &lt;/p&gt; * * @author &lt;a href="mailto:sguilhen at redhat.com"&gt;Stefan Guilhen&lt;/a&gt; */ @SuppressWarnings("unused")   Additionally, while the class is called when configured in jboss-web.xml for unprotected resources, it doesn't seem to actually work. From the source code, it's clear that the callbackhandler isn't being processed:   Compare this to the corresponding fragment in WebJASPIAuthenticator, which does process the callbackhandler:           // the authentication process has been a success. We need to register the principal, username, password and roles         // with the container               // get the client principal from the callback.               // if the client principal is not a jboss generic principal, we need to build one before registering.             if (!(clientPrincipal instanceof JBossGenericPrincipal))               this.register(request, response, clientPrincipal, authMethod, pvc.getUsername(),               if (this.secureResponse)  </body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Google App Engine	Support for EJB</header>
    <body>Ah, OK. :-) Well, in CapeDwarf EJBs will work, as you can mix-n-match GAE and JEE stuff. But that of course doesn't make it portable.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Google App Engine	Support for EJB</header>
    <body>Thanks for the quick reply. I will definitly check CapeDwarf then! I was thinking in using spring to as it seams their beans work on GAE. PS: I will be abroad for day so I'm not be able to add new info to this thread</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - JBoss AS7: Enabling JASPI Authentication for Web Applications</header>
    <body>I created a java.net project for maintenance of the jaspic/jsr-196 spec. the project includes an issue tracker, and an email list for those interested in participating in the mainteneance of the spi. http://java.net/projects/jaspic-spec http://java.net/projects/jaspic-spec</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - How To Build JBoss	Tools 4.1 FAQ</header>
    <body>*Frequently Asked Questions: How Do I Build JBoss Tools 4.1?* * * *+How do I configure my settings.xml?+* * Follow https://community.jboss.org/docs/DOC-15170  these instructions to add reference to JBoss Repositories into your settings.xml. You'll also probably need access to the SNAPSHOT repository. So here is what you should see in your ~/.m2/settings.xml &lt;settings xmlns="http://maven.apache.org/SETTINGS/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd"&gt;    ....     &lt;profiles&gt;         ....         &lt;profile&gt;             &lt;id&gt;jboss-default&lt;/id&gt;             &lt;repositories&gt;                 &lt;!-- To resolve parent artifact --&gt;                 &lt;repository&gt;                     &lt;id&gt;jboss-public-repository-group&lt;/id&gt;                     &lt;name&gt;JBoss Public Repository Group&lt;/name&gt;                     &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;                 &lt;/repository&gt;                 &lt;repository&gt;                     &lt;id&gt;jboss-snapshots-repository&lt;/id&gt;                     &lt;name&gt;JBoss Snapshots Repository&lt;/name&gt;                     &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/snapshots/&lt;/url&gt;                 &lt;/repository&gt;             &lt;/repositories&gt;             &lt;pluginRepositories&gt;                         &lt;!-- To resolve parent artifact --&gt;                         &lt;pluginRepository&gt;                                 &lt;id&gt;jboss-public-repository-group&lt;/id&gt;                                 &lt;name&gt;JBoss Public Repository Group&lt;/name&gt;                                 &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;                         &lt;/pluginRepository&gt;                         &lt;pluginRepository&gt;                                 &lt;id&gt;jboss-snapshots-repository&lt;/id&gt;                                 &lt;name&gt;JBoss Snapshots Repository&lt;/name&gt;                                 &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/snapshots/&lt;/url&gt;                         &lt;/pluginRepository&gt;                 &lt;/pluginRepositories&gt;         &lt;/profile&gt;     &lt;/profiles&gt;     &lt;activeProfiles&gt;         &lt;activeProfile&gt;jboss-default&lt;/activeProfile&gt;         ...     &lt;/activeProfiles&gt; &lt;/settings&gt; +*My build is failing due to OutOfMemory or PermGen issues! How do I give Maven more memory?*+ +* *+ * To configure the amount of memory used by Maven, you can define MVN_OPTS as follows, either in the mvn / mvn.bat script you use to run Maven, or set as global environment variables. Here's how to do so for  http://forums.fedoraforum.org/showthread.php?t=262465 Fedora,  https://help.ubuntu.com/community/EnvironmentVariables Ubuntu,  http://forums.techarena.in/windows-xp-support/1152405.htm Windows,  http://www.digitaledgesw.com/node/31 OSX. set MAVEN_OPTS=-Xms512m -Xmx1024m -XX:PermSize=128m -XX:MaxPermSize=256m +*How do I build via commandline?*+ 1. Fetch code from github 2. Run maven 3. Repeat for other projects cd ~/jbosstools git clone https://github.com/jbosstools/jbosstools-base cd ~/jbosstools/jbosstools-base mvn verify +*How do I build in Eclipse (with m2e)?*+ * To be written+* *+ +*How do I build a single project?*+ * Generally, you need only fetch the sources, and run `mvn verify`. See 'How do I build via commandline?' or 'How do I build in Eclipse (with m2e)?' above. +* *+ +*How do I build a series of projects (eg., Base, Server, Webservices) ?*+ * Assuming your goal is to change sources in *multiple* projects, then build them all to verify everything still compiles, you will need to fetch sources, then build the projects in dependency order. * This workflow is useful when you're looking to change framework code in an upstream project like Base on which Webservices or Server depends, and verify that API changes don't break the downstream project's code. * Rather than using `mvn verify`, you must use `*mvn install*` so that the downstream build will use YOUR locally-built content in your ~/.m2, rather than looking to the internet for the last published upstream dependencies. cd ~/jbosstools git clone https://github.com/jbosstools/jbosstools-base git clone https://github.com/jbosstools/jbosstools-server git clone https://github.com/jbosstools/jbosstools-webservices cd ~/jbosstools/jbosstools-base; mvn install cd ~/jbosstools/jbosstools-server; mvn install cd ~/jbosstools/jbosstools-webservices; mvn verify +*Which is better - `mvn clean install` or `mvn verify` ?*+ * Use `*install*` to create artifacts in your ~/.m2 folder which will be checked when building anything which depends on those artifacts (in addition to checking the internet). Also useful for doing subsequent offline builds with the `*-o*` or `*--offline*` flag. * Use `*verify*` to build, but NOT install anything into your ~/.m2 folder. +*How do I clean out artifacts I might have installed to my ~/.m2/repo ?*+ +*What if I've already built something locally, but I want to build against the server version instead of my local repo?*+ * There are  http://wiki.eclipse.org/Tycho/Target_Platform#Locally_built_artifacts two approaches that work here: 0.1. override temporarily when building, using *-Dtycho.localArtifacts=ignore*, or 0.2. delete *~/.m2/repository/.meta/p2-local-metadata.properties* +*How do I build a target platform?*+ * Currently, you should not need to build a target platform locally if you're building w/ maven via commandline. But if you'd like to materialize a target platform for use in Eclipse, you can do so like this: 1. Fetch target platforms project from github 2. Switch to the correct branch 3. Run maven 4. Results will be in jbosstools/multiple/target/jbosstools-multiple.target.repo/ or jbdevstudio/multiple/target/jbdevstudio-multiple.target.repo/ cd ~/jbosstools git clone https://github.com/jbosstools/jbosstools-target-platforms cd ~/jbosstools/jbosstools-target-platforms git checkout 4.3.0 mvn install cd ~/jbosstools/jbosstools-target-platforms/jbosstools/multiple/target/jbosstools-multiple.target.repo/ +* *+ +*Why is there more than one target platform?*+ * Every time we make changes to the target platform, either to add/remove something, or to change the included version, we release a new version. * In order to verify we can build against the oldest version of a target platform (eg., one based on Eclipse 4.2.0, or "minimum" target platform) but also run tests against the latest for that stream (eg., based on Eclipse 4.2.2, or "maximum" target platform), we need to maintain multiple versions. * By default, your build will use the default "minimum" target platform specified in the JBoss Tools parent pom. To easily build against the default "maximum", use *-Pmaximum*. See also 'What profiles do I need to build? What Maven properties are useful when building?' +*How do I specify which target platform to use when building?*+ * See 'What profiles do I need to build? What Maven properties are useful when building?' +*How to I skip running  tests? How do I make tests not fail? Or only fail after ALL tests run? *+ +* *+ * To skip running tests, you can use these Maven flags:* *-Dmaven.test.skip=true* * *-DskipTests* * If your reason for skipping tests is to see if everything can run without being stuck on the first test failure, you might also like these flags:* *-fae*, *--fail-at-end* : Fail at end of build only * *-fn*, *--fail-never* : Never fail the build regardless of result * You can also cause test failures to result in JUnit output without failing the build using these flags:* *-Dmaven.test.error.ignore=true* * *-Dmaven.test.failure.ignore=true* +*How can I debug tests in Eclipse when run from Tycho (with Surefire)?*+ * See  http://www.jboss.org/tools/docs/testing.html http://www.jboss.org/tools/docs/testing.html +*How do I build docs?*+ * See  https://community.jboss.org/docs/DOC-13341 Building JBoss Tools Documentation. +*What profiles do I need to build? What Maven properties are useful when building? *+ * Most of the time, you don't need any profiles or -D properties. Here are some profiles and properties you might want to use in special cases. ** *-Pmaximum* : selects the default maximum target platform version instead of the default minimum one. Useful when running tests to verify that your code works against a newer target platform (eg., Eclipse 4.2.2 instead of 4.2.0) ** *-DTARGET_PLATFORM_VERSION* : allows you to pick a specific target platform version from those available in Nexus. * See also 'How to I skip running  tests? How do I make tests not fail? Or only fail after ALL tests run?' above for test-related properties. +* *++*Anything else?*+ * See also this FAQ:  https://community.jboss.org/docs/DOC-10796 https://community.jboss.org/wiki/JBossToolsFAQ +* *+</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: Webservice call SOAP Client Action doesnt work</header>
    <body>You should enable debug logging and see if there is any Fault that is thrown. Start from here: https://community.jboss.org/docs/DOC-11280 https://community.jboss.org/wiki/Logging</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create branch in user repository for IS configuration changes. 2. Update IS configuration for updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeArtifacts.xml compositeArtifacts.xml and compositeContent.xml files (in aggregate-site) to point to the new update site. 2. Modify the category.xml file (in aggregate-site) as necessary for any feature changes (e.g. adding a feature). 3. Modify project version (pom.xml in aggregate-site). 4. For changes to dependencies:1. Modify base.target or community.target (in target-platform) 2. Modify project version (pom.xml in target-platform) 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS  within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *Jenkins* - h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform. h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 5).  This should serve as an early warning system to identify platform incompatibilities early in the process. 3.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the aggregate:  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/pom.xml pom.xml. 2. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/base.target base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target 2. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *Jenkins* - h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform. h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 5).  This should serve as an early warning system to identify platform incompatibilities early in the process. 3.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the aggregate:  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/aggregate-site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/aggregate-site/pom.xml pom.xml. 2. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/base.target base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target 2. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *discovery* - provides JBoss Central discovery support * *Jenkins* - * target platform -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform * aggregate -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate * aggregate publish/promote -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish * discovery -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery * install tests -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform. h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 5).  This should serve as an early warning system to identify platform incompatibilities early in the process.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7 Securing	Passwords</header>
    <body>This article will describe the capabilities available in JBoss AS7.1 with regard to securing sensitive attributes such as passwords. h2. Disclaimer: The default implementation described in this article only solves the problem of masking clear text passwords. There is always a weak link (in this case, the keystore password). For windows platform, refer to  https://community.jboss.org/docs/DOC-17763 https://community.jboss.org/wiki/AS7PasswordVaultOnWindows ** #Disclaimer Disclaimer: ** #What_is_needed What is needed? ** #Process Process *** #Step_1_Create_a_Java_KeyStore Step 1:  Create a Java KeyStore *** #Step_2_Use_the_Vault_Tool_scripts_to_store_a_password_in_the_vault Step 2: Use the Vault Tool scripts to store a password in the vault *** #Step_3_Configure_the_attributes_in_your_xml_such_as_standalonexml_and_hostxml Step 3:   Configure the attributes in your xml such as standalone.xml and host.xml ** #Guidance_for_subsystems_seeking_passwords_in_AS7 Guidance for subsystems seeking passwords in AS7 ** #Frequently_Asked_Questions Frequently Asked Questions: ***** #How_secure_is_this How secure is this? ***** #Can_I_really_secure_the_keystore Can I really secure the keystore? ***** #How_do_I_get_foolproof_security_for_passwords How do I get foolproof security for passwords? ***** #I_lost_the_vault_formatted_string_for_my_attribute I lost the vault formatted string for my attribute? ***** #Can_I_do_all_this_from_the_UI Can I do all this from the UI? ***** #Show_me_how_to_do_this_on_Windows Show me how to do this on Windows. ***** #Please_give_me_an_example Please give me an example. h2. What is needed? 1. Java KeyStore. 2. Scripts provided in the bin directory of JBoss AS 7 .1 (vault.sh etc) h2. h2. Process h3. h3. Step 1:  Create a Java KeyStore $ keytool -genkey -alias vault -keyalg RSA -keysize 1024  -keystore vault.keystore Enter keystore password: vault22 Re-enter new password:vault22 What is your first and last name?   [Unknown]:  Picketbox vault What is the name of your organizational unit?   [Unknown]:  picketbox What is the name of your organization?   [Unknown]:  JBoss What is the name of your City or Locality?   [Unknown]:  chicago What is the name of your State or Province?   [Unknown]:  il What is the two-letter country code for this unit?   [Unknown]:  us Is CN=Picketbox vault, OU=picketbox, O=JBoss, L=chicago, ST=il, C=us correct?   [no]:  yes Enter key password for &lt;vault&gt;         (RETURN if same as keystore password):  It is important to keep track of the keystore password and the alias.  In this example, the keystore password is "vault22" and the alias is "vault". If one preferes just one command here is equivalent: keytool -genkey -alias vault -keystore vault.keystore -keyalg RSA -keysize 1024 -storepass vault22 -keypass vault22 -dname "CN=Picketbox vault,OU=picketbox,O=JBoss,L=chicago,ST=il,C=us" h3. Step 2: Use the Vault Tool scripts to store a password in the vault /bin/util$ ./vault.sh =========================================================================   JBoss Vault   JBOSS_HOME: /home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT   JAVA: /opt/java/jdk1.6.0_23/bin/java   VAULT Classpath: /home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT/modules/org/picketbox/main/*:/home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT/modules/org/jboss/logging/main/*:/home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT/modules/org/jboss/common-core/main/*:/home/anil/as7/jboss-as/build/target/jboss-as-7.1.0.Alpha2-SNAPSHOT/modules/org/jboss/as/security/main/* ========================================================================= ********************************** ****  JBoss Vault ******** ********************************** Please enter a Digit::   0: Start Interactive Session  1: Remove Interactive Session  2: Exit 0 Starting an interactive session Enter directory to store encrypted files (end with either / or \ based on Unix or Windows:/home/anil/vault/ Enter Keystore URL:/home/anil/vault/vault.keystore Enter Keystore password: Enter Keystore password again: Values match Enter 8 character salt:12345678 Enter iteration count as a number (Eg: 44):50 Please make note of the following: ******************************************** Masked Password:MASK-5WNXs8oEbrs salt:12345678 Iteration Count:50 ******************************************** Enter Keystore Alias:vault Sep 28, 2011 11:48:39 AM org.jboss.security.vault.SecurityVaultFactory get INFO: Getting Security Vault with implementation of org.picketbox.plugins.vault.PicketBoxSecurityVault Obtained Vault Intializing Vault Vault is initialized and ready for use Handshake with Vault complete Please enter a Digit::   0: Store a password  1: Check whether password exists  2: Exit 0 Task:  Store a password Please enter attribute value: Please enter attribute value again: Values match Enter Vault Block:ds_ExampleDS Enter Attribute Name:password Attribute Value for (ds_ExampleDS, password) saved Please make note of the following: ******************************************** Vault Block:ds_ExampleDS Attribute Name:password Shared Key:N2NhZDYzOTMtNWE0OS00ZGQ0LWE4MmEtMWNlMDMyNDdmNmI2TElORV9CUkVBS3ZhdWx0 Configuration should be done as follows: VAULT::ds_ExampleDS::password::N2NhZDYzOTMtNWE0OS00ZGQ0LWE4MmEtMWNlMDMyNDdmNmI2TElORV9CUkVBS3ZhdWx0 ******************************************** Please enter a Digit::   0: Store a password  1: Check whether password exists  2: Exit 2 Scriptable (non-interactive) command to create vault (available from AS 7.2 on): ./vault.sh -k vault.keystore -p vault22 -e /home/anil/vault -i 50 -s 12345678 -v vault -b ds_ExampleDS -a password -x sa for more information use ./vault.sh --help h3. Step 3:   Configure the attributes in your xml such as standalone.xml and host.xml h3. &lt;server xmlns="urn:jboss:domain:1.1"&gt;   &lt;extensions&gt;      ...   &lt;/extensions&gt;   &lt;vault&gt;       &lt;vault-option name="KEYSTORE_URL" value="/home/anil/vault/vault.keystore"/&gt;       &lt;vault-option name="KEYSTORE_PASSWORD" value="MASK-3y28rCZlcKR"/&gt;       &lt;vault-option name="KEYSTORE_ALIAS" value="vault"/&gt;       &lt;vault-option name="SALT" value="12438567"/&gt;       &lt;vault-option name="ITERATION_COUNT" value="50"/&gt;     &lt;/vault&gt;    ...   &lt;subsystem xmlns="urn:jboss:domain:datasources:1.0"&gt;             &lt;datasources&gt;                 &lt;datasource jndi-name="java:jboss/datasources/ExampleDS" enabled="true" use-java-context="true" pool-name="H2DS"&gt;                     &lt;connection-url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1&lt;/connection-url&gt;                     &lt;driver&gt;h2&lt;/driver&gt;                     &lt;pool&gt;&lt;/pool&gt;                     &lt;security&gt;                         &lt;user-name&gt;sa&lt;/user-name&gt;                     &lt;/security&gt;                 &lt;/datasource&gt;                 &lt;drivers&gt;                     &lt;driver name="h2" module="com.h2database.h2"&gt;                         &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;                     &lt;/driver&gt;                 &lt;/drivers&gt;             &lt;/datasources&gt;         &lt;/subsystem&gt; Note previously, the datasource password would have been: &lt;security&gt;      &lt;user-name&gt;sa&lt;/user-name&gt;     &lt;password&gt;sa&lt;/password&gt; &lt;/security&gt; h2. h2. Guidance for subsystems seeking passwords in AS7 The server module in JBoss AS7 workspace has a class called as VaultUtil which has methods for you to seamlessly pass the vault formatted string to get the password from the vault. I am posting the integration done in org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService Note that do not seek the password from the vault during the xml parsing phase because the vault has not been initialized and ready. It has to be done in the services phase when you actually do something with the configured elements of your subsystem. In the case of JCA datasource integration, we do it in AbstractDataSourceService                               throw new RuntimeException(e); // TODO: use bundle from IJ   We do not want to make the configuration of the vault formatted string to be very difficult. As long as the formatted string is prefixed with VAULT::,  the vault will be invoked.  Custom implementations of the vault should consider the last token for any configuration. If you are using the AttributeDefinition classes the vaulted expression will be automatically resolved when calling AttributeDefiniton.resolveModelAttribute(). If you are not using AttributeDefinition you need to call OperationContext.resolveExpression() yourself as this example from DataSourceModelNodeUtil h2. h2. Frequently Asked Questions: * h5. How secure is this? * The default implementation of the vault utlizes a Java KeyStore. Its configuration uses Password Based Encryption, which is security by obscurity.  This is not 100% security. It only gets away from the problem of clear text passwords in configuration files.  There is always a weak link. (+*As mentallurg suggests in the comments, the keystore password is the weakest link*+). * Ideally, 3rd party ISV robust implementations of Vaults should provide the necessary security. * h5. Can I really secure the keystore? * You can store the keystore on an USB or an encrypted secure usb or such. * When the server starts, insert the USB. On successful start, you can remove the USB. * Ideally, use a FIPS 140-2 certified keystore from a keystore vendor if you want foolproof security. * h5. How do I get foolproof security for passwords? * The default implementation of Vault in JBossAS7 is not 100% secure. * You can increase level of security by adopting a FIPS 140-2 certified keystore. * You can use 3rd party implementations of the Vault (this is something we are pushing for ISVs to do). * h5. I lost the vault formatted string for my attribute? * Just reinsert the attribute value in the vault to overrwrite what was previously stored. You will get a new formatted string to insert in the xml. * h5. Can I do all this from the UI? * Hopefully with time, we can get this integrated into the console. * h5. *Show me how to do this on Windows.* *  https://community.jboss.org/docs/DOC-17763 https://community.jboss.org/wiki/AS7PasswordVaultOnWindows * h5. Please give me an example. *  https://community.jboss.org/docs/DOC-17472 https://community.jboss.org/wiki/AS7UtilisingMaskedPasswordsViaTheVault *  https://community.jboss.org/docs/DOC-17503 https://community.jboss.org/docs/DOC-17503 * *What if my vault expression in AS7 configuration file (e.g. standalone.xml) didn't get resolved?** Vault expressions cannot be used everywhere. Only in attributes or elements marked as "allowedExpressions".</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Multiple instances of JBoss AS7 on the same machine</header>
    <body>You might want to look at our solution:  https://community.jboss.org/docs/DOC-48321 https://community.jboss.org/wiki/HowToDefineMultipleJboss7ServerInstancesBasedOnTheStandaloneFolderUsingEclipseJunoAndJbossTools40</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Design of Security on JBoss] - Jboss 4.2.3GA	Production error java.io.StreamCorruptedExcept</header>
    <body>| rem JBoss Bootstrap Script for Win32 | rem -----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Managing passwords	with the vault</header>
    <body>I followed the setup steps provided by Anil. Using JBoss7.1.1.Final , urn:jboss:domain:1.2,  standalone mode.  Windows7 x64, jdk 1.7. I get a *'Failed to parse configuration'* error when inserting the &lt;vault&gt;....&lt;/vault&gt; node, into a valid standalone.xml.  *WstxIOException: Invalid UTF-8 start byte 0xa0* &lt;vault&gt;         &lt;vault-option name="KEYSTORE_URL" value="c:/jboss-7.1.1/standalone/configuration/vault.keystore"/&gt;        &lt;vault-option name="KEYSTORE_PASSWORD" value="MASK-5WNXs8oEbrs"/&gt;        &lt;vault-option name="KEYSTORE_ALIAS" value="vault"/&gt;        &lt;vault-option name="SALT" value="124385678"/&gt;        &lt;vault-option name="ITERATION_COUNT" value="50"/&gt;        &lt;vault-option name="ENC_FILE_DIR" value="c:/jboss-7.1.1/standalone/vault/"/&gt; &lt;/vault&gt; Any suggestions?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Managing	passwords with the vault</header>
    <body>Hi bruce, I'd suppose it is cause by Editor. What Editor dou you use? Check what encoding you set for this file. Better: attach the file (remove sensitive info first). By the way: JBoss vault is *not safe*. It only gives you false feeling of safety. You *disclose the password* to access the vault via KEYSTORE_PASSWORD. Everyone can easily decrypt all the passwords you have encrypted. Be aware that you don't get more safety with JBoss vault. Regards, mentallurg</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Two-phase commit	using an XA-datasource</header>
    <body>Howdy! I'd like to ask a question about using an xa-datasource defined within my AS7 instance. *What I did:* I defined two different xa-datasources pointing to two databases *What I need:* I need to implement a two phase commit using those two xa-datasources mentioned above. Is there any Java sample/example how to use the JBoss transactional mechanism to do what I need? As I understood, I can (I have to) use an ordinary DataSource instead of XADataSource in my code, right? How does it work? What is the right way to do following: 1. Create two connections to 2 different DBs (using xa-datasources defined within my AS7) 2. Do some operations over both of them 3. Do a final commit (or rollback if any error) Last question - what's the role of the JBoss's TransactionManager? How does it work? Is it hidden for the developers or do we need to instantiate it explicitly? Since I didn't found any sufficient answer I appreciate any explanation and help! Thanks a lot, Bobo</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Two-phase commit using an XA-datasource</header>
    <body>The AS7 quickstarts ( https://github.com/jboss-jdf/jboss-as-quickstart https://github.com/jboss-jdf/jboss-as-quickstart) have some transactions examples including how to update two datasources within a single transaction (look for CMT, BMT, jts and the crash-rec examples). It is possible to enlist a single non-XA aware datasource (search for LRCO for details) but we don't support it since it is not a recommended configuration. The transaction manager is initialised by the AS so you don't create it yourself. Normally you would use the EJB mechanisms for controlling transactions - the quickstarts cover both bean managed and container managed transactions. If you really want to get hold of the transaction manager you can look it up via JNDI (but the name is not standardised by the specifications, I believe AS7 uses java:jboss/TransactionManager).</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Two-phase commit using an XA-datasource</header>
    <body>Hey, Michael Great, thanks for the very quick reply. So the right way is to implement a SessionBean encapsulating let say both of my SQL inserts (for instance), right? Thanks again for your answer. Cheers, Bobo</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Two-phase commit using an XA-datasource</header>
    <body>It indeed isn't standardized. I've created a spec issue some time ago to standardize this. If you, or anyone else thinks this is important too, please vote for it at:  http://java.net/jira/browse/JAVAEE_SPEC-8 http://java.net/jira/browse/JAVAEE_SPEC-8 The issue with those names being not standardized is not even so much that they differ between application servers of different vendors, but that they differ between versions of the same AS (e.g. JBoss AS 6 vs JBoss AS 7).</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Hibernate4.1 + Custom dialect on JBoss AS7 classloading issues</header>
    <body>I use spring 3.1.2 and hibernate 4.1. We have a legacy database which does not contain a industry standard dialect. So we have our own dialect. I am trying to migrate from jboss 5 to jboss 7. We used to include hibernat 3 jars along with our application jars and the dialect in the war file. With jboss 7 i am using the hibernate from jboss. When my app initializes it is able to call hibernate classes but hibernate is not able to see the dialect class loaded from within the web-inf/lib. This is the exception Caused by: org.hibernate.HibernateException: Dialect class not found: com.myorg.dao.hibernate.DBDialect at org.hibernate.service.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:76) at org.hibernate.service.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:64) at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:176) at org.hibernate.service.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:75) at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:159) at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:131) at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:71) at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2270) at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2266) at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1735) at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1775) at org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:242) at org.springframework.orm.hibernate4.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:372) at org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:357) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452) ... 28 more Caused by: org.hibernate.service.classloading.spi.ClassLoadingException: Unable to load class [com.myorg.dao.hibernate.DBDialect] at org.hibernate.service.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:141) at org.hibernate.service.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:73) ... 43 more Caused by: java.lang.ClassNotFoundException: Could not load requested class : com.myorg.dao.hibernate.DBDialect at org.hibernate.service.classloading.internal.ClassLoaderServiceImpl$1.findClass(ClassLoaderServiceImpl.java:99) at java.lang.ClassLoader.loadClass(ClassLoader.java:306) at java.lang.ClassLoader.loadClass(ClassLoader.java:247) at org.hibernate.service.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:138) ... 44 more This is the jboss-deployment-structure.xml   &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;jboss-deployment-structure&gt;     &lt;deployment&gt;      &lt;dependencies&gt;             &lt;module name="org.hibernate" /&gt;             &lt;module name="org.apache.xerces" /&gt;             &lt;module name="javax.servlet.api" /&gt;             &lt;module name="javax.jms.api" /&gt;             &lt;module name="org.jboss.ironjacamar.jdbcadapters" /&gt;         &lt;/dependencies&gt;         &lt;exclusions&gt;             &lt;module name="org.apache.log4j" /&gt;         &lt;/exclusions&gt;     &lt;/deployment&gt; &lt;/jboss-deployment-structure&gt; It all worked well in jboss 5.1.0. Trying to find a solution for it on JBoss 7.1.1. Anybody have any suggestions?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Hibernate4.1 + Custom dialect on JBoss AS7 classloading issues</header>
    <body>Hi. you have to options how to solve this 1) go to modules\org\hibernate\main\ and add your jar with custom dialect there and add it into module.xml in that same folder 2) create new module  https://docs.jboss.org/author/display/MODULES/Defining+a+module https://docs.jboss.org/author/display/MODULES/Defining+a+module and then add dependancy to it from org.hibernate module -- tomaz</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Hibernate4.1 + Custom dialect on JBoss AS7 classloading issues</header>
    <body>Thanks, i used option 1. That got rid of the error.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - possible bad side effects from change to AbstractConnectionManager</header>
    <body>After migrating from jboss4 to jboss7 (currently jboss-as-7.1.1Final), we started seeing the error 'Unable to get managed connection' during certain high load periods using the same size pool that we were using in jboss4.  I put more details in this discussion:  https://community.jboss.org/thread/214179 https://community.jboss.org/thread/214179 It seemed that there should still have been available connections while we got this error because MySQL showed the connections as sleeping.  I was looking at the code where the error is being thrown org.jboss.jca.core.connectionmanager.AbstractConnectionManager (ironjacamar-core-impl-1.0.9.Final.jar) at line 329.   I added one call that seems to help a little with our application, but I'm unsure if the benefits outweigh any negative side effects. After line 333, failure = e; I added a pool flush.  Here is the diff: 334a335,336 The flush seems to release the connection that wasn't sleeping so it can be used again. Is there a better way to accomplish this?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: possible bad side effects from change to AbstractConnectionManager</header>
    <body>First of all - you should be using a nightly snapshot. Then look into the &lt;validation&gt; element and provide the plugins needed (MySQL), and do &lt;flush-strategy&gt;IdleConnections&lt;/flush-strategy&gt; If you still have errors after that I would need to see TRACE log from org.jboss.jca and your full configuration.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: possible bad side effects from change to AbstractConnectionManager</header>
    <body>I will test it with the nightly snapshot, but I have been using the validation plugins and the flush strategy.  I'll let you know what happens with the snapshot.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: possible bad side effects from change to AbstractConnectionManager</header>
    <body>I am going to test with 1.0.13.Final, 1.1.0.Beta3, and then if those don't work, I can try the head version (is there a repository with nightly builds or should I just build it myself).  My question is which version of jboss are those built against.  When I used 1.0.13.Final, I am getting this error: Caused by: java.lang.ClassNotFoundException: org.jboss.jca.common.api.metadata.ds.DataSource$Tag from [Module "org.jboss.as.connector:main" from local module loader @538d7ace (roots: /usr/java/jboss/modules)] so I will update the org.jboss.as.connector module, but I want to make sure I am using the correct version. Thanks for your help.  I really appreciate it.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: possible bad side effects from change to AbstractConnectionManager</header>
    <body>IronJacamar 1.1 is for EE 7. AS7/master already contains IJ 1.0.13... so you just need the latest nightly snapshot</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: possible bad side effects from change to AbstractConnectionManager</header>
    <body>I had the same issue with the latest jboss snapshot: jboss-as-7.2.0.Alpha1-SNAPSHOT The  http://66.249.126.188/tmp/ironjacamar-trace.txt trace is here. My datasource config:                 &lt;datasource jta="true" jndi-name="java:jboss/datasources/atDS" pool-name="MySqlDS" enabled="true" spy="true" use-ccm="true"&gt;                     &lt;connection-url&gt;jdbc:mysql://dbserv:3306/db&lt;/connection-url&gt;                     &lt;driver-class&gt;com.mysql.jdbc.Driver&lt;/driver-class&gt;                     &lt;driver&gt;mysql-connector-java-5.1.22-bin.jar&lt;/driver&gt;                     &lt;transaction-isolation&gt;TRANSACTION_READ_COMMITTED&lt;/transaction-isolation&gt;                     &lt;pool&gt;                         &lt;min-pool-size&gt;0&lt;/min-pool-size&gt;                         &lt;max-pool-size&gt;1&lt;/max-pool-size&gt;                         &lt;prefill&gt;true&lt;/prefill&gt;                         &lt;use-strict-min&gt;true&lt;/use-strict-min&gt;                         &lt;flush-strategy&gt;IdleConnections&lt;/flush-strategy&gt;                     &lt;/pool&gt;                     &lt;security&gt;                         &lt;user-name&gt;user&lt;/user-name&gt;                         &lt;password&gt;passwd&lt;/password&gt;                     &lt;/security&gt;                     &lt;validation&gt;                         &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker"/&gt;                         &lt;stale-connection-checker class-name="org.jboss.jca.adatpers.jdbc.extensions.mysql.MySQLStaleConnectionChecker"/&gt;                         &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter"/&gt;                     &lt;/validation&gt;                     &lt;timeout&gt;                         &lt;allocation-retry&gt;3&lt;/allocation-retry&gt;                     &lt;/timeout&gt;                 &lt;/datasource&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB Development] - Re: ejbRemove on stateful	session bean?</header>
    <body>no wonder in my case, having no instances in the cache, and the create count is &gt; 0, and the ejbRemove counter is 0</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AOP Development] - JBoss aop not working with Sun-Jax-Ws classes</header>
    <body>I have implemented a Sun-Jax-Ws webservice. The problem is when i deploy JBoss aop, it is not intercepting the classes like below.  Is there any thing extra i need configure in JBoss when i have these kind of classes which already using Spring. @WebService(targetNamespace = " http://www.in.com/CHS http://www.in.com/CHS",                     portName = "CHSPort", serviceName = "CHSService",                     endpointInterface = "com.in.chs.ws.CHSPortType") @HandlerChain(file = "WEB-INF/handlers.xml")           @Autowired           @Autowired           @Autowired &lt;bind pointcut="execution(* com.chs.CHSServiceImpl-&gt;*(..))"&gt;                      &lt;interceptor-ref name="LoggerAspect"/&gt;           &lt;/bind&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>h1. Fundamental Concepts h2. Distribution A coherent set of software produced by a "project" or a "product". JBoss AS 7 is a project. JBoss EAP is such a product. Both play similar technical roles in the JBoss ecosystem, but there are significant differences in how the two are made available to end users. This article uses "distribution" as a replacement for constantly saying "project/product" everywhere. It's not a great term; if someone has a better one, please suggest it. h2. Distribution Base The "distribution base" is the core set of modules, bundles and miscellaneous files that is common to all layered distributions. It may itself be usable standalone project or product. Currently the JBoss AS 7 project and the JBoss EAP product are the distribution bases relevant to this discussion. In the future a more limited subset of functionality may become the distribution base, with the full set of functionality currently provided in community AS and EAP coming as layered distributions or add-ons. h2. Layered Distribution A distribution that builds on top of the distribution base, potentially superceding some of the distribution base's functionality. A layered distribution is allowed to supercede any aspect of the distribution base's functionality. The less the layered distribution does this, the easier it will be for the layered distribution to manage things like patching, but, if necessary, a layered distribution can supercede anything in the distribution base. +TODO can a layered distribution build on top of another layered distribution?+ h2. Identity An identity is a named set of distribution base + layered distribution(s) that is certified as a valid combination. The distribution base by itself may or may not be a valid identity. Currently it is; in the future it may not be. h3. Patching and Identities Patches are applicable to an identity. A given patch can apply to more than one identity, if there are no conflicts between the identities in terms of how they use the items modified by a patch. The metadata associated with a patch will indicate the identities to which it is applicable. For modules and bundles within a patch, the patch metadata will provide the name of the provider of the module or bundle -- that is, either the distribution base or the name of a layered distribution that is part of the identity. Once the patch is applied, that association is retained. Miscellaneous files within a patch are not associated with the distribution base or any particular layered distribution once they are installed. Each identity produces a patch stream. Because a given patch can apply to more than one identity, the same patch can appear in multiple patch streams. A patch for a given identity may incorporate as a separately identifiable component a patch produced by another identity or the distribution base. For example, let's an identity named A consists of the distribution base and a layered distribution named A. Version 1.0 of identity A is based on version 2.0 of the distribution base and version 1.0 of layered distribution A. The distribution base produces a patch that will move it to version 2.1. The producers of the A identity could then produce a patch that will result in version 1.1 of identity A. This would include an upgrade of layered distribution A to its version 1.1, as well as the a separate component that provides the distribution base upgrade to its 2.1. There are two main benefits of this sharing approach: * The modules and bundles provided by the distribution base upgrade are associated with the original 2.1 patch provided by the distribution base, not just with the enclosing patch provided by A. This will make possible the sharing of modules/bundles provided by patches across installations. * Incorporating one patch within another as a simple discrete unit helps avoid errors during patch production. h2. Installation An installation is a single filesystem location containing the distribution base plus zero or more layered distributions. It includes the bin/ dir from which processes are launched. The root of the installation is the path indicated by the $JBOSS_HOME environment variable referred to in the scripts and indicated by the jboss.home.dir system property used in the java code. h3. Installation Identity Each installation has a single identity. Because an installation only has a single identity, there is no confusion as to which layered distribution "owns" a particular filesystem location in that installation. +TODO further spell out the importance of single identity.+ h3. Sharing Files Across Installations+ + Modules and bundles are potentially sharable across installations. Making it easy for users to do this should be a key goal. Miscellaneous files are not sharable across installations. (An end user could potentially share them using symlinks, but doing so is not a supported feature nor is it a recommended practice.) Patches are not sharable across installations. The +modules and bundles that the patch provides+ are potentially sharable, but the miscellaneous files provided by a patch are not sharable. The patching history metadata that the patching tool records in the installation is also not sharable -- the metadata is associated with the given installation. However, making it easy to share the the modules and bundles provide by a patch across installations should be a key goal. h2. Add-On Distribution An add-on distribution is a set of software that extends the capabilities of a given "identity". An add-on can only extend capabilities. It is not allowed to supercede capabilities of the identity it extends. For modules and OSGi bundles, the module and bundle loading logic provided by the distribution base will enforce this behavior. For miscellaneous files, it is up to the people providing an add-on to ensure that the add-on does not overwrite any file provided by the distribution base, any layered distribution associated with the identity or any other add-ons associated with the identity. Conversely, once the providers of an identity have accepted an add-on into their ecosystem, it is their responsibility to ensure that they do not add any files to their distributions that will conflict with files already provided by the add-on. In practice, the most likely sources of conflict will be the xml files in the configuration directories and the .conf files in the bin directory. Conflicts over xml files are solvable by having add-on providers ship their own xml file variants rather than attempting to modify the standard ones that ship with the identity. A given add-on is allowed to extend the capabilities of more than one identity. An add-on may require the presence of other add-ons. h3. Patching and Add-ons Add-on distributions produce their own patch stream. The patches produced by an add-on indicate the versions of the identity that must be present for the patch to apply. More than one identity can be listed, since add-ons may be applicable to multiple identities. The patches produced by an add-on also indicate the existing version of the add-on that must be present, as well as the version of any other required add-ons. Add-ons cannot use patches in their own stream to fix problems in the identity on which they depend. Add-ons depend on the patch stream provided by their dependent identity to provide such fixes. Modules and bundles provided by an add-on or its patches will have lower precedence in the module loading order than those that come from the distribution base or layered distributions, so any fix to such a module/bundle provided by an add-on patch will have no effect. h1. Installers +TODO discussion of RPM+ h2. Distribution Base Installers The distribution base can be installed via a simple unzip. If the distribution base is itself an identity, see also "Identity Installers" h2. Identity Installers An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions. * An unzip onto a filesystem location that contains any depended upon identity or the installation base of a zip that only includes * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an identity is installed into a given filesystem location, the identity of that installation is irrevocably changed.+* When an identity is installed it has the right to modify any miscellaneous files in the installation filesystem, so once an identity is installed, the identity of the installation is changed. In many (hopefully nearly all) cases it may be possible for a user to remove files added by an identity install and get the installation back to its previous identity, but doing this is not a supported feature of the software and is not a recommended practice. *+However, once support for installing patches via the patching tool is available, reverting an identity installation will be possible.+* The patching tool maintains backup copies of any miscellaneous files modified by a patch, making it possible to restore those files. h2. Add-on Installer An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions. * An unzip onto a filesystem location that contains any depended upon identity or the installation base of a zip that only includes * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an add-on is installed into a given filesystem location, the identity of that installation is not changed, and it must be possible to reverse the installation.+* An add-on is merely additive, so removing it is a matter of deleting what was added. This could be done via a script provided by the add-on, via an installer program, or manually by a user following a set of instructions. h1. Establishing Identity It +must+ be possible for external tools to determine the identity of a given installation without requiring the software based on that installation to be running. It's also necessary for the software based on an installation to determine its own identity. This will be done via the bin/product.conf file located in the distribution. This file will include: * The name of the identity * The name of any layered distributions used by the identity, in order of the precedence to be used when loading their modules. If no bin/product.conf file exists, the installation is assumed to be the community version of the distribution base. If no layered distributions are named in the file, only the base and any add-ons will be used. h1. Module Path Organization JBoss AS currently loads modules based on a "module path" which is a list of filesystem locations which JBoss Modules searches for modules. In our standard launch scripts, users are able to manipulate this module path by setting the $JBOSS_MODULEPATH environment variable. If not set, $JBOSS_MODULEPATH is set to $JBOSS_HOME/modules. This mechanism creates a single default location under which modules can be located. This is problematic when layered distributions and add-ons wish to install their own modules, since there are no clear rules as to how those modules should be installed or how they relate to one another. h3. Goals * To make it easy for other layered distributions or add-ons to add their modules to the set of available modules or remove their modules from the set of available modules, without fear of physically overwriting modules provided with the distribution base or by other layered distributions. * To make it easy for distributions that add modules to declare that a set of modules is sharable (as defined below) with the modules provided by any other Red Hat product that runs on the major version of the core AS (including the modules provided by the core AS) * To establish clear rules for how distributions that add modules that must take precedence over sharable modules with the same name and slot provided by other distributions should:* locate those modules * indicate at launch time to the modular classloading system which set of distribution specific non-sharable modules should be used * To make it easy for end users to alter the module path for their own purposes by setting $JBOSS_MODULEPATH without needing to concern themselves with details of how the modules provided by the distribtuion base, layered distributions, or add-ons relate to one another. Reserve the use of $JBOSS_MODULEPATH and the value of the -mp command line argument passed to jboss-modules for end use uses. h3. Sharability Rules All modules provided as part of the distribution base are shareable. When the distribution base includes a module it accepts the following: * The version of the module it provides will take precedence over the +shareable+ version provided by any layered distribution or any module provide by an add-on. * As a consequence of this, any modification of that module in a patch or version upgrade will need to be tested for compatibility with any layered distribution or add-on based that version of the distribution base. * As a subset of the previous point, within a major version family the distribution base cannot remove a module that is depended upon by another layered distribution or add-on, even if the distribution base itself no longer needs that module. A layered distribution can provide both shareable and non-shareable modules. If a layered distribution declares that a given module is "shareable", it accepts the following with respect to any identity with which the layered distribution is associated: * The distribution base may ship a module with the same name and slot, and that module +*will*+ take precedence over the sharable module provided by the layered distribution. * Another layered distribution or add-on may ship a module with the same name and slot, and that module +*may*+ take precedence over the module provided by this layered distribution or add-on. * Another layered distribution or add-on may ship a module with the same name and slot, and the version provided by this layered distribution or add-on +*may*+ take precedence over the module provided by the other layered distribution or add-on. * As a consequence of this, any modification of that module in a patch or version upgrade will need to be tested for compatibility with any layered distribution or add-on based on the same major version of the identity. * The distribution base cannot depend upon a sharable module provided by a layered distribution. * An add-on associated with an identity can depend upon shareable modules provided by any layered distribution associated with the identity. Further, other layered distributions within the same identity can also can depend up a shareable module provided by the layered distribution. As a result, if a layered distribution provides shareable shareable modules, it takes on the following responsibilities:* Any modification of that module in a patch or version upgrade will need to be tested for compatibility with any dependent add-ons or layered distribution. * As a subset of the previous point, within a major version family the layered distribution cannot remove a shareable module that is depended upon by an add-on or another layered-distribution, even if the add-on itself no longer needs that module. All modules provided as part of an add-on are "shareable". When an add-on includes a module, it accepts the following with respect to any identity with which the add-on is associated: * The distribution base or a layered distribution may ship a non-sharable module with the same name and slot, and that module +*will*+ take precedence over the sharable module provided by the add-on. * A layered distribution or another add-on may ship a module with the same name and slot, and that module +*may*+ take precedence over the module provided by this layered distribution or add-on. * A layered distribution or add-on may ship a module with the same name and slot, and the version provided by this layered distribution or add-on +*may*+ take precedence over the module provided by the other layered distribution or add-on. * As a consequence of this, any modification of that module in a patch or version upgrade will need to be tested for compatibility with any layered distribution or add-on based on the same major version of the identity. * The distribution base or a layered distribution cannot depend upon a sharable module provided by an add-on. * As a consequence of the previous point, an add-on can remove a sharable module in a patch, without fear of breaking a core identity. * An add-on can depend up a shareable module provided by another add-on upon which it depends, but only with the express consent of that add-on. Such dependencies are strongly discouraged. * If an add-on allows another add-on to depend upon its shareable modules, it takes on the following responsibilities:* Any modification of that module in a patch or version upgrade will need to be tested for compatibility with any dependent add-ons based that version of the add-on. * As a subset of the previous point, within a major version family the add-on cannot remove a module that is depended upon by another add-on, even if the add-on itself no longer needs that module.+ + * Testing procedures must be created to ensure that any patches produced by the depended-upon add-on do not break the dependent add-on. h4. Requirement for Standardized Module Loading JBoss Modules can support other mechanisms for finding module content and loading it besides the filesystem-based module path mechanism. Theoretically a custom boot module loader implementation could be specified at process launch, with that module loader using some other means for locating module content. This article proposes that this capability be declared as unsupported for JBoss AS and products based upon it. Rather, the AS will have a specified boot module loader implementation. Users of the AS community project are free to use a non-standard boot module loader implementation, but if they do so and certain features provided by the AS don't work, that is their problem.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: AS7: Web Security	- JBossWebRealm</header>
    <body>Hi friends, How could I extend JBossWebRealm and where to put the correct configuration in AS7? I have here implementation in jboss 6 org and all confs are in server.xml. thanks Luciano.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>h1. +*This is an article outlining some thoughts by the author*+ +(Brian Stansberry)++*. It is not an official design of the JBoss AS 7 project.*+ h1. Overview This document describes notions for how different software distributions based on the JBoss AS 7 project can integrate with the base AS and with each other in a controlled manner. +* *+ h1. Fundamental Concepts h2. Distribution A coherent set of software produced by a "project" or a "product". JBoss AS 7 is a project. JBoss EAP is such a product. Both play similar technical roles in the JBoss ecosystem, but there are significant differences in how the two are made available to end users. This article uses "distribution" as a replacement for constantly saying "project/product" everywhere. It's not a great term; if someone has a better one, please suggest it. h2. Distribution Base The "distribution base" is the core set of modules, bundles and miscellaneous files that is common to all layered distributions. It may itself be usable standalone project or product. Currently the JBoss AS 7 project and the JBoss EAP product are the distribution bases relevant to this discussion. In the future a more limited subset of functionality may become the distribution base, with the full set of functionality currently provided in community AS and EAP coming as layered distributions or add-ons. h2. Layered Distribution A distribution that builds on top of the distribution base, potentially superceding some of the distribution base's functionality. A layered distribution is allowed to supercede any aspect of the distribution base's functionality. The less the layered distribution does this, the easier it will be for the layered distribution to manage things like patching, but, if necessary, a layered distribution can supercede anything in the distribution base. +TODO can a layered distribution build on top of another layered distribution?+ h2. Identity An identity is a named set of distribution base + layered distribution(s) that is certified as a valid combination. The distribution base by itself may or may not be a valid identity. Currently it is; in the future it may not be. A given layered distribution may be associated with more than one identity. h3. Patching and Identities Patches are applicable to an identity. A given patch can apply to more than one identity, if there are no conflicts between the identities in terms of how they use the items modified by a patch. The metadata associated with a patch will indicate the identities to which it is applicable. For modules and bundles within a patch, the patch metadata will provide the name of the provider of the module or bundle -- that is, either the distribution base or the name of a layered distribution that is part of the identity. Once the patch is applied, that association is retained. Miscellaneous files within a patch are not associated with the distribution base or any particular layered distribution once they are installed. Each identity produces a patch stream. Because a given patch can apply to more than one identity, the same patch can appear in multiple patch streams. A patch for a given identity may incorporate as a separately identifiable component a patch produced by another identity or the distribution base. For example, let's an identity named A consists of the distribution base and a layered distribution named A. Version 1.0 of identity A is based on version 2.0 of the distribution base and version 1.0 of layered distribution A. The distribution base produces a patch that will move it to version 2.1. The producers of the A identity could then produce a patch that will result in version 1.1 of identity A. This would include an upgrade of layered distribution A to its version 1.1, as well as the a separate component that provides the distribution base upgrade to its 2.1. There are two main benefits of this sharing approach: * The modules and bundles provided by the distribution base upgrade are associated with the original 2.1 patch provided by the distribution base, not just with the enclosing patch provided by A. This will make possible the sharing of modules/bundles provided by patches across installations. * Incorporating one patch within another as a simple discrete unit helps avoid errors during patch production. h2. Installation An installation is a single filesystem location containing the distribution base plus zero or more layered distributions. It includes the bin/ dir from which processes are launched. The root of the installation is the path indicated by the $JBOSS_HOME environment variable referred to in the scripts and indicated by the jboss.home.dir system property used in the java code. h3. Installation Identity Each installation has a single identity. Because an installation only has a single identity, there is no confusion as to which layered distribution "owns" a particular filesystem location in that installation. Further, because the identity of an installation can be easily determined (see "Establishing Identity" below), external tools can quickly understand the functionality provided by a given installation, even if no process is currently running from the installation. +TODO further spell out the importance of single identity.+ h3. Sharing Files Across Installations+ + Modules and bundles are potentially sharable across installations. Making it easy for users to do this should be a key goal. Miscellaneous files are not sharable across installations. (An end user could potentially share them using symlinks, but doing so is not a supported feature nor is it a recommended practice.) Patches are not sharable across installations. The +modules and bundles that the patch provides+ are potentially sharable, but the miscellaneous files provided by a patch are not sharable. The patching history metadata that the patching tool records in the installation is also not sharable -- the metadata is associated with the given installation. However, making it easy to share the the modules and bundles provide by a patch across installations should be a key goal. h2. Add-On Distribution An add-on distribution is a set of software that extends the capabilities of a given "identity". An add-on can only extend capabilities. It is not allowed to supercede capabilities of the identity it extends. For modules and OSGi bundles, the module and bundle loading logic provided by the distribution base will enforce this behavior. For miscellaneous files, it is up to the people providing an add-on to ensure that the add-on does not overwrite any file provided by the distribution base, any layered distribution associated with the identity or any other add-ons associated with the identity. Conversely, once the providers of an identity have accepted an add-on into their ecosystem, it is their responsibility to ensure that they do not add any files to their distributions that will conflict with files already provided by the add-on. In practice, the most likely sources of conflict will be the xml files in the configuration directories and the .conf files in the bin directory. Conflicts over xml files are solvable by having add-on providers ship their own xml file variants rather than attempting to modify the standard ones that ship with the identity. A given add-on is allowed to extend the capabilities of more than one identity. An add-on may require the presence of other add-ons. h3. Patching and Add-ons Add-on distributions produce their own patch stream. The patches produced by an add-on indicate the versions of the identity that must be present for the patch to apply. More than one identity can be listed, since add-ons may be applicable to multiple identities. The patches produced by an add-on also indicate the existing version of the add-on that must be present, as well as the version of any other required add-ons. Add-ons cannot use patches in their own stream to fix problems in the identity on which they depend. Add-ons depend on the patch stream provided by their dependent identity to provide such fixes. Modules and bundles provided by an add-on or its patches will have lower precedence in the module loading order than those that come from the distribution base or layered distributions, so any fix to such a module/bundle provided by an add-on patch will have no effect. h1. Installers +TODO discussion of RPM+ h2. Distribution Base Installers The distribution base can be installed via a simple unzip. If the distribution base is itself an identity, see also "Identity Installers" h2. Identity Installers An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions. * An unzip onto a filesystem location that contains any depended upon identity or the installation base of a zip that only includes * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an identity is installed into a given filesystem location, the identity of that installation is irrevocably changed.+* When an identity is installed it has the right to modify any miscellaneous files in the installation filesystem, so once an identity is installed, the identity of the installation is changed. In many (hopefully nearly all) cases it may be possible for a user to remove files added by an identity install and get the installation back to its previous identity, but doing this is not a supported feature of the software and is not a recommended practice. *+However, once support for installing patches via the patching tool is available, reverting an identity installation will be possible.+* The patching tool maintains backup copies of any miscellaneous files modified by a patch, making it possible to restore those files. h2. Add-on Installer An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions. * An unzip onto a filesystem location that contains any depended upon identity or the installation base of a zip that only includes * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an add-on is installed into a given filesystem location, the identity of that installation is not changed, and it must be possible to reverse the installation.+* An add-on is merely additive, so removing it is a matter of deleting what was added. This could be done via a script provided by the add-on, via an installer program, or manually by a user following a set of instructions. h1. Establishing Identity It +must+ be possible for external tools to determine the identity of a given installation without requiring the software based on that installation to be running. It's also necessary for the software based on an installation to determine its own identity. This will be done via the bin/product.conf file located in the distribution. This file will include: * The name of the identity * The name of any layered distributions used by the identity, in order of the precedence to be used when loading their modules. If no bin/product.conf file exists, the installation is assumed to be the community version of the distribution base. If no layered distributions are named in the file, only the base and any add-ons will be used. h1. Module Loading JBoss AS currently loads modules based on a "module path" which is a list of filesystem locations which JBoss Modules searches for modules. In our standard launch scripts, users are able to manipulate this module path by setting the $JBOSS_MODULEPATH environment variable. If not set, $JBOSS_MODULEPATH is set to $JBOSS_HOME/modules. This mechanism creates a single default location under which modules can be located. This is problematic when layered distributions and add-ons wish to install their own modules, since there are no clear rules as to how those modules should be installed or how they relate to one another. h2. Goals * To make it easy for other layered distributions or add-ons to add their modules to the set of available modules or remove their modules from the set of available modules, without fear of physically overwriting modules provided with the distribution base or by other layered distributions. * To make it easy for distributions that add modules to declare that a set of modules is sharable (as defined below) with the modules provided by any distribution associated with a given identity (including the modules provided by the distribution base) * To establish clear rules for how distributions that add modules that must take precedence over sharable modules with the same name and slot provided by other distributions should:* locate those modules * indicate at launch time to the modular classloading system which set of distribution specific non-sharable modules should be used * To make it easy for end users to alter the module path for their own purposes by setting $JBOSS_MODULEPATH without needing to concern themselves with details of how the modules provided by the distribtuion base, layered distributions, or add-ons relate to one another. Reserve the use of $JBOSS_MODULEPATH and the value of the -mp command line argument passed to jboss-modules for end use uses. h2. Sharability Rules All modules provided as part of the distribution base are shareable. When the distribution base includes a module it accepts the following: * The version of the module it provides will take precedence over the +shareable+ version provided by any layered distribution or any module provide by an add-on. * As a consequence of this, any modification of that module in a patch or version upgrade will need to be tested for compatibility with any layered distribution or add-on based that version of the distribution base. * As a subset of the previous point, within a major version family the distribution base cannot remove a module that is depended upon by another layered distribution or add-on, even if the distribution base itself no longer needs that module. A layered distribution can provide both shareable and non-shareable modules. If a layered distribution declares that a given module is "shareable", it accepts the following with respect to any identity with which the layered distribution is associated: * The distribution base may ship a module with the same name and slot, and that module +*will*+ take precedence over the sharable module provided by the layered distribution. * Another layered distribution or add-on may ship a module with the same name and slot, and that module +*may*+ take precedence over the module provided by this layered distribution or add-on. * Another layered distribution or add-on may ship a module with the same name and slot, and the version provided by this layered distribution or add-on +*may*+ take precedence over the module provided by the other layered distribution or add-on. * As a consequence of this, any modification of that module in a patch or version upgrade will need to be tested for compatibility with any layered distribution or add-on based on the same major version of the identity. * The distribution base cannot depend upon a sharable module provided by a layered distribution. * An add-on associated with an identity can depend upon shareable modules provided by any layered distribution associated with the identity. Further, other layered distributions within the same identity can also can depend up a shareable module provided by the layered distribution. As a result, if a layered distribution provides shareable shareable modules, it takes on the following responsibilities:* Any modification of that module in a patch or version upgrade will need to be tested for compatibility with any dependent add-ons or layered distribution. * As a subset of the previous point, within a major version family the layered distribution cannot remove a shareable module that is depended upon by an add-on or another layered-distribution, even if the add-on itself no longer needs that module. If a layered distribution declares that a given module is non-shareable, it accepts the following with respect to any identity with which the layered distribution is associated: * The version of the module it provides will take precedence over:* The module provided by the distribution base. * The module provided by any other layered distribution that this layered distribution depends upon. * The shareable version of any add-on or layered distribution. * As a consequence of this, any modification of that module in a patch or version upgrade will need to be tested for compatibility with any add-on or other depended-upon layered distribution associated with the identity. * As a subset of the previous point, within a major version family the layered distribution cannot remove a module that is depended upon by an add-on, even if the layered distribution itself no longer needs that module. * The layered distribution may allow add-ons or other layered distributions to depend upon it. If it does so, +with respect to those other layered distributions or add-ons, even non-shareable modules are treated as shareable, and the rules give above for layered distribution shareable modules apply+. The only exception is if the distribution base ships a module with the same name and slot, the distribution base version does not take precedence. All modules provided as part of an add-on are "shareable". When an add-on includes a module, it accepts the following with respect to any identity with which the add-on is associated: * The distribution base or a layered distribution may ship a non-sharable module with the same name and slot, and that module +*will*+ take precedence over the sharable module provided by the add-on. * A layered distribution or another add-on may ship a module with the same name and slot, and that module +*may*+ take precedence over the module provided by this layered distribution or add-on. * A layered distribution or add-on may ship a module with the same name and slot, and the version provided by this layered distribution or add-on +*may*+ take precedence over the module provided by the other layered distribution or add-on. * As a consequence of this, any modification of that module in a patch or version upgrade will need to be tested for compatibility with any layered distribution or add-on based on the same major version of the identity. * The distribution base or a layered distribution cannot depend upon a sharable module provided by an add-on. * As a consequence of the previous point, an add-on can remove a sharable module in a patch, without fear of breaking a core identity. * An add-on can depend up a shareable module provided by another add-on upon which it depends, but only with the express consent of that add-on. Such dependencies are strongly discouraged. * If an add-on allows another add-on to depend upon its shareable modules, it takes on the following responsibilities:* Any modification of that module in a patch or version upgrade will need to be tested for compatibility with any dependent add-ons based that version of the add-on. * As a subset of the previous point, within a major version family the add-on cannot remove a module that is depended upon by another add-on, even if the add-on itself no longer needs that module.+ + * Testing procedures must be created to ensure that any patches produced by the depended-upon add-on do not break the dependent add-on. h2. Module Organization on the Filesystem This section will describe how the above points are reflected in the actual organization of modules on the filesystem. h4. Requirement for Standardized Module Loading JBoss Modules can support other mechanisms for finding module content and loading it besides the filesystem-based module path mechanism. Theoretically a custom boot module loader implementation could be specified at process launch, with that module loader using some other means for locating module content. This article proposes that this capability be declared as unsupported for JBoss AS and products based upon it. Rather, the AS will have a specified boot module loader implementation. Users of the AS community project are free to use a non-standard boot module loader implementation, but if they do so and certain features provided by the AS don't work, that is their problem. h3. Filesystem Layout Modules would be organized on the filesystem as follows: modules + internal ++ add-ons +++ abc +++ def ++ layers +++ base +++ vuw +++ xyz The internal level exists to separate modules associated with the distribution base, layered distribution or add-ons from those the end user may store in the modules directory. +TODO Some better name for internal would be nice.+ h3. Translation of Filesystem Layout into Module Loading Precedence For any location provided by the user via the -mp switch, the module loader will look for the internal structure. If it is found in more than one location, an exception will be thrown. The module loader will understand the structure above and will apply module loading precedence rules as follows. Assume the above structure exists under $JBOSS_HOME and that the user sets $JBOSS_MODULEPATH as follows JBOSS_MODULESPATH=/user/me/my-modules;$JBOSS_HOME/modules In addition, the bin/product.conf file declares that the identity of the install is xyz, the xyz layered distribution should be loaded and the xyz layered distribution depends on the vuw layered distribution. Assume also that patches named base-1, abc-1, def-1, vuw-1, xyz-1 and xyz-2 have been applied. The module loader would look for modules on the filesystem in following locations, starting with first and terminating as soon as the module is found: /user/me/my-modules /modules (in case the user placed modules directly in under this directory) /modules/layers/xyz/patches/xyz-2 /modules/layers/xyz/patches/xyz-1 /modules/layers/xyz /modules/layers/vuw/patches/vuw-1 /modules/layers/vuw /modules/layers/base/patches/base-1 /modules/layers/base /modules/add-ons/abc/patches/abc-1 /modules/add-ons/abc /modules/add-ons/def/patches/def-1 /modules/add-ons/def The precedence order between /modules/add-ons/abc and /modules/add-ons/def is arbitrary. An add-on should never assume its modules will take precedence over those of any other add-on's modules. The fact that the various patches locations are included in the path is entirely due to +metadata+ that the patching tool will store in the $JBOSS_HOME/patches directory. The mere presence of a directory like /modules/layers/xyz/patches/xyz-2 is insufficient to trigger inclusion of that directory in the module search path. However, when the patching tool installs the patch, the actual location of the +module contents+ will be in /modules/layers/xyz/patches/xyz-2 -- only patching related metadata will be stored in $JBOSS_HOME/patches. This behavior is important for allowing sharing of modules across installations. h2. Sharing Modules Across Installations The above behavior makes it relatively straightforward for a user to share modules across installations. For example, the user could set up a shared module repo in /user/me with the following structure jboss-module-repo + add-ons ++ abc ++ def + layers ++ base ++ vuw ++ xyz The $JBOSS_HOME/modules/internal location in each installation on the filesystem could then be replaced with a symlink to /user/me/jboss-module-repo. The downside to this very simple sharing is the abc and def add-ons will be visible and used by all installations, whether or not they are relevant to the installation's identity. A solution to this problem would be to do more symlinks: $JBOSS_HOME/modules/internal/layers -&gt; /user/me/jboss-module-repo/layers $JBOSS_HOME/modules/internal/add-ons/abc -&gt; /user/me/jboss-module-repo/add-ons/abc $JBOSS_HOME/modules/internal/add-ons/def -&gt; /user/me/jboss-module-repo/add-ons/def As an improvement at some point we could define some sort of file format (say xml) and allow a file with that format to be placed in $JBOSS_HOME/modules/internal in lieu of the subdirectories. The file would include all of the mapping information for the external repo. The patching tool or any programmatic installers would know how to read and update that file. The file would only include information for the add-ons relevant to the installation. h3. Implications for the Patching Tool The possibility of module sharing doesn't remove the requirement to apply a patch to each installation on a given filesystem. Applying the patch to each installation is required in order to: *  update any miscellaneous files * record the patching metadata for the particular installation * allow the patching tool to understand what combinations of layered distributions and add-ons are relevant to the given installation However, the patching tool should recognize the possibility of this kind of module sharing. When it applies a patch it should recognize that the modules may already exist on the filesystem and should not apply them again if not necessary. It should however record some information in, e.g. /modules/layers/xyz/patches/xyz-2 indicating that the installation being patched is using that set of patch modules. This information will prevent deletion of patch modules used by multiple installations if one of the installations uses the patching feature's cleanup functions. h1. OSGi Bundle Loading This needs discussion, but the basic concept is the precedence rules for OSGi bundle loading would following the same rules as for module loading.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>h1. +*This is an article outlining some thoughts by the author*+ +(Brian Stansberry)++*. It is not an official design of the JBoss AS 7 project.*+ h1. Overview This document describes notions for how different software distributions based on the JBoss AS 7 project can integrate with the base AS and with each other in a controlled manner. +* *+ h1. Fundamental Concepts h2. Distribution A coherent set of software produced by a "project" or a "product". JBoss AS 7 is a project. JBoss EAP is such a product. Both play similar technical roles in the JBoss ecosystem, but there are significant differences in how the two are made available to end users. This article uses "distribution" as a replacement for constantly saying "project/product" everywhere. It's not a great term; if someone has a better one, please suggest it. h2. Distribution Base The "distribution base" is the core set of modules, bundles and miscellaneous files that is common to all layered distributions. It may itself be usable standalone project or product. Currently the JBoss AS 7 project and the JBoss EAP product are the distribution bases relevant to this discussion. In the future a more limited subset of functionality may become the distribution base, with the full set of functionality currently provided in community AS and EAP coming as layered distributions or add-ons. h2. Layered Distribution A distribution that builds on top of the distribution base, potentially superceding some of the distribution base's functionality. A layered distribution is allowed to supercede any aspect of the distribution base's functionality. The less the layered distribution does this, the easier it will be for the layered distribution to manage things like patching, but, if necessary, a layered distribution can supercede anything in the distribution base. A layered distribution build on top of another layered distribution, provided it has worked out the necessary procedures to ensure compatibility. h2. Identity An identity is a named set of distribution base + layered distribution(s) that is certified as a valid combination. The distribution base by itself may or may not be a valid identity. Currently it is; in the future it may not be. A given layered distribution may be associated with more than one identity. h3. Patching and Identities Patches are applicable to an identity. A given patch can apply to more than one identity, if there are no conflicts between the identities in terms of how they use the items modified by a patch. The metadata associated with a patch will indicate the identities to which it is applicable. For modules and bundles within a patch, the patch metadata will provide the name of the provider of the module or bundle -- that is, either the distribution base or the name of a layered distribution that is part of the identity. Once the patch is applied, that association is retained. Miscellaneous files within a patch are not associated with the distribution base or any particular layered distribution once they are installed. Each identity produces a patch stream. Because a given patch can apply to more than one identity, the same patch can appear in multiple patch streams. A patch for a given identity may incorporate as a separately identifiable component a patch produced by another identity or the distribution base. For example, let's an identity named A consists of the distribution base and a layered distribution named A. Version 1.0 of identity A is based on version 2.0 of the distribution base and version 1.0 of layered distribution A. The distribution base produces a patch that will move it to version 2.1. The producers of the A identity could then produce a patch that will result in version 1.1 of identity A. This would include an upgrade of layered distribution A to its version 1.1, as well as the a separate component that provides the distribution base upgrade to its 2.1. There are two main benefits of this sharing approach: * The modules and bundles provided by the distribution base upgrade are associated with the original 2.1 patch provided by the distribution base, not just with the enclosing patch provided by A. This will make possible the sharing of modules/bundles provided by patches across installations. * Incorporating one patch within another as a simple discrete unit helps avoid errors during patch production. h2. Installation An installation is a single filesystem location containing the distribution base plus zero or more layered distributions. It includes the bin/ dir from which processes are launched. The root of the installation is the path indicated by the $JBOSS_HOME environment variable referred to in the scripts and indicated by the jboss.home.dir system property used in the java code. h3. Installation Identity Each installation has a single identity. Because an installation only has a single identity, there is no confusion as to which layered distribution "owns" a particular filesystem location in that installation. Further, because the identity of an installation can be easily determined (see "Establishing Identity" below), external tools can quickly understand the functionality provided by a given installation, even if no process is currently running from the installation. +TODO further spell out the importance of single identity.+ h3. Sharing Files Across Installations+ + Modules and bundles are potentially sharable across installations. Making it easy for users to do this should be a key goal. Miscellaneous files are not sharable across installations. (An end user could potentially share them using symlinks, but doing so is not a supported feature nor is it a recommended practice.) Patches are not sharable across installations. The +modules and bundles that the patch provides+ are potentially sharable, but the miscellaneous files provided by a patch are not sharable. The patching history metadata that the patching tool records in the installation is also not sharable -- the metadata is associated with the given installation. However, making it easy to share the the modules and bundles provide by a patch across installations should be a key goal. h2. Add-On Distribution An add-on distribution is a set of software that extends the capabilities of a given "identity". An add-on can only extend capabilities. It is not allowed to supercede capabilities of the identity it extends. For modules and OSGi bundles, the module and bundle loading logic provided by the distribution base will enforce this behavior. For miscellaneous files, it is up to the people providing an add-on to ensure that the add-on does not overwrite any file provided by the distribution base, any layered distribution associated with the identity or any other add-ons associated with the identity. Conversely, once the providers of an identity have accepted an add-on into their ecosystem, it is their responsibility to ensure that they do not add any files to their distributions that will conflict with files already provided by the add-on. In practice, the most likely sources of conflict will be the xml files in the configuration directories and the .conf files in the bin directory. Conflicts over xml files are solvable by having add-on providers ship their own xml file variants rather than attempting to modify the standard ones that ship with the identity. A given add-on is allowed to extend the capabilities of more than one identity. An add-on may require the presence of other add-ons. h3. Patching and Add-ons Add-on distributions produce their own patch stream. The patches produced by an add-on indicate the versions of the identity that must be present for the patch to apply. More than one identity can be listed, since add-ons may be applicable to multiple identities. The patches produced by an add-on also indicate the existing version of the add-on that must be present, as well as the version of any other required add-ons. Add-ons cannot use patches in their own stream to fix problems in the identity on which they depend. Add-ons depend on the patch stream provided by their dependent identity to provide such fixes. Modules and bundles provided by an add-on or its patches will have lower precedence in the module loading order than those that come from the distribution base or layered distributions, so any fix to such a module/bundle provided by an add-on patch will have no effect. h1. Installers +TODO discussion of RPM+ h2. Distribution Base Installers The distribution base can be installed via a simple unzip. If the distribution base is itself an identity, see also "Identity Installers" h2. Identity Installers An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions. * An unzip onto a filesystem location that already contains a depended upon identity or the installation base of a zip that only includes the layered distribution(s) to be added. * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an identity is installed into a given filesystem location, the identity of that installation is irrevocably changed.+* When an identity is installed it has the right to modify any miscellaneous files in the installation filesystem, so once an identity is installed, the identity of the installation is changed. In many (hopefully nearly all) cases it may be possible for a user to remove files added by an identity install and get the installation back to its previous identity, but doing this is not a supported feature of the software and is not a recommended practice. *+However, once support for installing patches via the patching tool is available, reverting an identity installation will be possible.+* The patching tool maintains backup copies of any miscellaneous files modified by a patch, making it possible to restore those files. h2. Add-on Installer An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions along with the add-on itself. * An unzip onto a filesystem location that contains any depended upon identity of a zip that only includes the add-on. * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an add-on is installed into a given filesystem location, the identity of that installation is not changed, and it must be possible to reverse the installation.+* An add-on is merely additive, so removing it is a matter of deleting what was added. This could be done via a script provided by the add-on, via an installer program, or manually by a user following a set of instructions. h1. Establishing Identity It +must+ be possible for external tools to determine the identity of a given installation without requiring the software based on that installation to be running. It's also necessary for the software based on an installation to determine its own identity. This will be done via the bin/product.conf file located in the distribution. This file will include: * The name of the identity * The name of any layered distributions used by the identity, in order of the precedence to be used when loading their modules. If no bin/product.conf file exists, the installation is assumed to be the community version of the distribution base. If no layered distributions are named in the file, only the base and any add-ons will be used. h1. Module Loading JBoss AS currently loads modules based on a "module path" which is a list of filesystem locations which JBoss Modules searches for modules. In our standard launch scripts, users are able to manipulate this module path by setting the $JBOSS_MODULEPATH environment variable. If not set, $JBOSS_MODULEPATH is set to $JBOSS_HOME/modules. This mechanism creates a single default location under which modules can be located. This is problematic when layered distributions and add-ons wish to install their own modules, since there are no clear rules as to how those modules should be installed or how they relate to one another. h2. Goals * To make it easy for other layered distributions or add-ons to add their modules to the set of available modules or remove their modules from the set of available modules, without fear of physically overwriting modules provided with the distribution base or by other layered distributions. * To make it easy for distributions that add modules to declare that a set of modules is sharable (as defined below) with the modules provided by any distribution associated with a given identity (including the modules provided by the distribution base) * To establish clear rules for how distributions that add modules that must take precedence over sharable modules with the same name and slot provided by other distributions should:* locate those modules * indicate at launch time to the modular classloading system which set of distribution specific non-sharable modules should be used * To make it easy for end users to alter the module path for their own purposes by setting $JBOSS_MODULEPATH without needing to concern themselves with details of how the modules provided by the distribtuion base, layered distributions, or add-ons relate to one another. Reserve the use of $JBOSS_MODULEPATH and the value of the -mp command line argument passed to jboss-modules for end use uses. h2. Sharability Rules All modules provided as part of the distribution base are shareable. When the distribution base includes a module it accepts the following: * The version of the module it provides will take precedence over the +shareable+ version provided by any layered distribution or any module provide by an add-on. * As a consequence of this, any modification of that module in a patch or version upgrade will need to be tested for compatibility with any layered distribution or add-on based that version of the distribution base. * As a subset of the previous point, within a major version family the distribution base cannot remove a module that is depended upon by another layered distribution or add-on, even if the distribution base itself no longer needs that module. A layered distribution can provide both shareable and non-shareable modules. +TODO the next two sections are wrong -- a layered dist's modules are all shareable with respect to and valid add-ons or any other layered dist *allowed* to depend upon it. There is no sharable/non-sharable distinction.+ If a layered distribution declares that a given module is "shareable", it accepts the following with respect to any identity with which the layered distribution is associated: * The distribution base may ship a module with the same name and slot, and that module +*will*+ take precedence over the sharable module provided by the layered distribution. * Another layered distribution or add-on may ship a module with the same name and slot, and that module +*may*+ take precedence over the module provided by this layered distribution or add-on. * Another layered distribution or add-on may ship a module with the same name and slot, and the version provided by this layered distribution or add-on +*may*+ take precedence over the module provided by the other layered distribution or add-on. * As a consequence of this, any modification of that module in a patch or version upgrade will need to be tested for compatibility with any layered distribution or add-on based on the same major version of the identity. * The distribution base cannot depend upon a sharable module provided by a layered distribution. * An add-on associated with an identity can depend upon shareable modules provided by any layered distribution associated with the identity. Further, other layered distributions within the same identity can also can depend up a shareable module provided by the layered distribution. As a result, if a layered distribution provides shareable shareable modules, it takes on the following responsibilities:* Any modification of that module in a patch or version upgrade will need to be tested for compatibility with any dependent add-ons or layered distribution. * As a subset of the previous point, within a major version family the layered distribution cannot remove a shareable module that is depended upon by an add-on or another layered-distribution, even if the add-on itself no longer needs that module. If a layered distribution declares that a given module is non-shareable, it accepts the following with respect to any identity with which the layered distribution is associated: * The version of the module it provides will take precedence over:* The module provided by the distribution base. * The module provided by any other layered distribution that this layered distribution depends upon. * The shareable version of any add-on or layered distribution. * As a consequence of this, any modification of that module in a patch or version upgrade will need to be tested for compatibility with any add-on or other depended-upon layered distribution associated with the identity. * As a subset of the previous point, within a major version family the layered distribution cannot remove a module that is depended upon by an add-on, even if the layered distribution itself no longer needs that module. * The layered distribution may allow add-ons or other layered distributions to depend upon it. If it does so, +with respect to those other layered distributions or add-ons, even non-shareable modules are treated as shareable, and the rules give above for layered distribution shareable modules apply+. The only exception is if the distribution base ships a module with the same name and slot, the distribution base version does not take precedence. All modules provided as part of an add-on are "shareable". When an add-on includes a module, it accepts the following with respect to any identity with which the add-on is associated: * The distribution base or a layered distribution may ship a non-sharable module with the same name and slot, and that module +*will*+ take precedence over the sharable module provided by the add-on. * A layered distribution or another add-on may ship a module with the same name and slot, and that module +*may*+ take precedence over the module provided by this layered distribution or add-on. * A layered distribution or add-on may ship a module with the same name and slot, and the version provided by this layered distribution or add-on +*may*+ take precedence over the module provided by the other layered distribution or add-on. * As a consequence of this, any modification of that module in a patch or version upgrade will need to be tested for compatibility with any layered distribution or add-on based on the same major version of the identity. * The distribution base or a layered distribution cannot depend upon a sharable module provided by an add-on. * As a consequence of the previous point, an add-on can remove a sharable module in a patch, without fear of breaking a core identity. * An add-on can depend up a shareable module provided by another add-on upon which it depends, but only with the express consent of that add-on. Such dependencies are strongly discouraged. * If an add-on allows another add-on to depend upon its shareable modules, it takes on the following responsibilities:* Any modification of that module in a patch or version upgrade will need to be tested for compatibility with any dependent add-ons based that version of the add-on. * As a subset of the previous point, within a major version family the add-on cannot remove a module that is depended upon by another add-on, even if the add-on itself no longer needs that module.+ + * Testing procedures must be created to ensure that any patches produced by the depended-upon add-on do not break the dependent add-on. h2. Module Organization on the Filesystem This section will describe how the above points are reflected in the actual organization of modules on the filesystem. h4. Requirement for Standardized Module Loading JBoss Modules can support other mechanisms for finding module content and loading it besides the filesystem-based module path mechanism. Theoretically a custom boot module loader implementation could be specified at process launch, with that module loader using some other means for locating module content. This article proposes that this capability be declared as unsupported for JBoss AS and products based upon it. Rather, the AS will have a specified boot module loader implementation. Users of the AS community project are free to use a non-standard boot module loader implementation, but if they do so and certain features provided by the AS don't work, that is their problem. h3. Filesystem Layout Modules would be organized on the filesystem as follows: modules + internal ++ add-ons +++ abc +++ def ++ layers +++ base +++ vuw +++ xyz The internal level exists to separate modules associated with the distribution base, layered distribution or add-ons from those the end user may store in the modules directory. +TODO Some better name for internal would be nice.+ h3. Translation of Filesystem Layout into Module Loading Precedence For any location provided by the user via the -mp switch, the module loader will look for the internal structure. If it is found in more than one location, an exception will be thrown. The module loader will understand the structure above and will apply module loading precedence rules as follows. Assume the above structure exists under $JBOSS_HOME and that the user sets $JBOSS_MODULEPATH as follows JBOSS_MODULESPATH=/user/me/my-modules;$JBOSS_HOME/modules In addition, the bin/product.conf file declares that the identity of the install is xyz, the xyz layered distribution should be loaded and the xyz layered distribution depends on the vuw layered distribution. Assume also that patches named base-1, abc-1, def-1, vuw-1, xyz-1 and xyz-2 have been applied. The module loader would look for modules on the filesystem in following locations, starting with first and terminating as soon as the module is found: /user/me/my-modules /modules (in case the user placed modules directly in under this directory) /modules/layers/xyz/patches/xyz-2 /modules/layers/xyz/patches/xyz-1 /modules/layers/xyz /modules/layers/vuw/patches/vuw-1 /modules/layers/vuw /modules/layers/base/patches/base-1 /modules/layers/base /modules/add-ons/abc/patches/abc-1 /modules/add-ons/abc /modules/add-ons/def/patches/def-1 /modules/add-ons/def The precedence order between /modules/add-ons/abc and /modules/add-ons/def is arbitrary. An add-on should never assume its modules will take precedence over those of any other add-on's modules. The fact that the various patches locations are included in the path is entirely due to +metadata+ that the patching tool will store in the $JBOSS_HOME/patches directory. The mere presence of a directory like /modules/layers/xyz/patches/xyz-2 is insufficient to trigger inclusion of that directory in the module search path. However, when the patching tool installs the patch, the actual location of the +module contents+ will be in /modules/layers/xyz/patches/xyz-2 -- only patching related metadata will be stored in $JBOSS_HOME/patches. This behavior is important for allowing sharing of modules across installations. h2. Sharing Modules Across Installations The above behavior makes it relatively straightforward for a user to share modules across installations. For example, the user could set up a shared module repo in /user/me with the following structure jboss-module-repo + add-ons ++ abc ++ def + layers ++ base ++ vuw ++ xyz The $JBOSS_HOME/modules/internal location in each installation on the filesystem could then be replaced with a symlink to /user/me/jboss-module-repo. The downside to this very simple sharing is the abc and def add-ons will be visible and used by all installations, whether or not they are relevant to the installation's identity. A solution to this problem would be to do more symlinks: $JBOSS_HOME/modules/internal/layers -&gt; /user/me/jboss-module-repo/layers $JBOSS_HOME/modules/internal/add-ons/abc -&gt; /user/me/jboss-module-repo/add-ons/abc $JBOSS_HOME/modules/internal/add-ons/def -&gt; /user/me/jboss-module-repo/add-ons/def As an improvement at some point we could define some sort of file format (say xml) and allow a file with that format to be placed in $JBOSS_HOME/modules/internal in lieu of the subdirectories. The file would include all of the mapping information for the external repo. The patching tool or any programmatic installers would know how to read and update that file. The file would only include information for the add-ons relevant to the installation. h3. Implications for the Patching Tool The possibility of module sharing doesn't remove the requirement to apply a patch to each installation on a given filesystem. Applying the patch to each installation is required in order to: *  update any miscellaneous files * record the patching metadata for the particular installation * allow the patching tool to understand what combinations of layered distributions and add-ons are relevant to the given installation However, the patching tool should recognize the possibility of this kind of module sharing. When it applies a patch it should recognize that the modules may already exist on the filesystem and should not apply them again if not necessary. It should however record some information in, e.g. /modules/layers/xyz/patches/xyz-2 indicating that the installation being patched is using that set of patch modules. This information will prevent deletion of patch modules used by multiple installations if one of the installations uses the patching feature's cleanup functions. h1. OSGi Bundle Loading This needs discussion, but the basic concept is the precedence rules for OSGi bundle loading would following the same rules as for module loading.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>h1. +*This is an article outlining some thoughts by the author*+ +(Brian Stansberry)++*. It is not an official design of the JBoss AS 7 project.*+ h1. Overview This document describes notions for how different software distributions based on the JBoss AS 7 project can integrate with the base AS and with each other in a controlled manner. +* *+ h1. Fundamental Concepts h2. Distribution A coherent set of software produced by a "project" or a "product". JBoss AS 7 is a project. JBoss EAP is such a product. Both play similar technical roles in the JBoss ecosystem, but there are significant differences in how the two are made available to end users. This article uses "distribution" as a replacement for constantly saying "project/product" everywhere. It's not a great term; if someone has a better one, please suggest it. h2. Distribution Base The "distribution base" is the core set of modules, bundles and miscellaneous files that is common to all layered distributions. It may itself be usable standalone project or product. Currently the software produced by the JBoss AS 7 project and the JBoss EAP product are the distribution bases relevant to this discussion. In the future a more limited subset of functionality may become the distribution base, with the full set of functionality currently provided in community AS and EAP coming as layered distributions or add-ons. h2. Layered Distribution A distribution that builds on top of the distribution base, potentially superceding some of the distribution base's functionality. A layered distribution is allowed to supercede any aspect of the distribution base's functionality. The less the layered distribution does this, the easier it will be for the layered distribution to manage things like patching, but, if necessary, a layered distribution can supercede anything in the distribution base. A layered distribution build on top of another layered distribution, provided it has worked out the necessary procedures to ensure compatibility. h2. Identity An identity is a named set of distribution base + layered distribution(s) that is certified as a valid combination. The distribution base by itself may or may not be a valid identity. Currently it is; in the future it may not be. The software produced by a given layered distribution may be associated with more than one identity. h3. Patching and Identities Patches are applicable to an identity. A given patch can apply to more than one identity, if there are no conflicts between the identities in terms of how they use the items modified by a patch. The metadata associated with a patch will indicate the identities to which it is applicable. Patches are comprised of one or more discrete +patch elements+ each of which is produced by the distribution base or by one of the layered distributions associated with the identity. A patch element includes metadata describing the element along with any added or modified files. The patch element metadata will identify the provider of the patch component. A given patch element can be used in multiple different patches. For example, a patch element upgrading the distribution base can be included in several patches produced by different identities, with each patch also including a patch element upgrading a layered distribution used in that identity. For example, let's say an identity named A consists of the distribution base and a layered distribution named A. Version 1.0 of identity A is based on version 2.0 of the distribution base and version 1.0 of layered distribution A. The distribution base produces a patch element that will move it to version 2.1. The producers of the A identity could then produce a patch that will result in version 1.1 of identity A. This would include a patch element upgrading layered distribution A to its version 1.1, as well as the separate element that provides the distribution base upgrade to its 2.1. There are two main benefits of this sharing approach: * The modules and bundles provided by the distribution base upgrade are associated with the original 2.1 patch provided by the distribution base, not just with the enclosing patch provided by A. This will make possible the sharing of modules/bundles provided by patches across installations. * Incorporating one patch within another as a simple discrete unit helps avoid errors during patch production. For modules and bundles within a patch, once the patch is applied the association of the module or bundle with the distribution base or layer that provided it is retained within the installation. The association is encoded within the filesystem path that points to the patch version of the module or bundle. Miscellaneous files within a patch are not associated with the distribution base or any particular layered distribution once they are installed. For example bin/standalone.sh is bin/standalone.sh no matter what patch component added or modified it. Each identity produces a patch stream. Because a given patch can apply to more than one identity, the same patch can appear in multiple patch streams. The distribution base and layered distributions can produces +patch elements+ but they cannot themselves produce +patches+ or a patch stream. Since a patch must be associated with an an identity, only an identity (or a group of cooperating identities) can produce a patch. If there is an identity that consists of nothing but the distribution base, that identity can produce a patch. But this is logically not the same thing as saying the distribution base itself produced the patch, even though the practical effect is similar. h2. Installation An installation is a single filesystem location containing the distribution base plus zero or more layered distributions. It includes the bin/ dir from which processes are launched. The root of the installation is the path indicated by the $JBOSS_HOME environment variable referred to in the scripts and indicated by the jboss.home.dir system property used in the java code. h3. Installation Identity Each installation has a *+single identity+*. Because an installation only has a single identity, there is no confusion as to which layered distribution "owns" a particular filesystem location in that installation. Further, because the identity of an installation can be easily determined (see "Establishing Identity" below), external tools can quickly understand the functionality provided by a given installation, even if no process is currently running from the installation. +TODO further spell out the importance of single identity.+ h3. Sharing Files Across Installations+ + The files that comprise modules and bundles are potentially sharable across installations. Making it easy for users to do this should be a key goal. Miscellaneous files are not sharable across installations. An end user could potentially share them using symlinks, but doing so is not a supported feature nor is it a recommended practice. Patches are not sharable across installations. The +modules and bundles that the patch provides+ are potentially sharable, but the miscellaneous files provided by a patch are not sharable. The patching history metadata that the patching tool records in the installation is also not sharable -- the metadata is associated with the given installation. However, making it easy to share the the modules and bundles provide by a patch across installations should be a key goal. h2. Add-On Distribution An add-on distribution is a set of software that extends the capabilities of a given "identity". An add-on can only extend capabilities. It is not allowed to supercede capabilities of the identity it extends. For modules and OSGi bundles, the module and bundle loading logic provided by the distribution base will enforce this behavior. For miscellaneous files, it is up to the people providing an add-on to ensure that the add-on does not overwrite any file provided by the distribution base, any layered distribution associated with the identity or any other add-ons associated with the identity. Conversely, once the providers of an identity have accepted an add-on into their ecosystem, it is their responsibility to ensure that they do not add any files to their distributions that will conflict with files already provided by the add-on. In practice, the most likely sources of conflict will be the xml files in the configuration directories and the .conf files in the bin directory. Conflicts over xml files are solvable by having add-on providers ship their own xml file variants rather than attempting to modify the standard ones that ship with the identity. A given add-on is allowed to extend the capabilities of more than one identity. An add-on may require the presence of other add-ons. h3. Patching and Add-ons Add-on distributions produce their own patch stream. The patches produced by an add-on indicate the versions of the identity that must be present for the patch to apply. More than one identity can be listed, since add-ons may be applicable to multiple identities. The patches produced by an add-on also indicate the existing version of the add-on that must be present, as well as the version of any other required add-ons. Add-ons cannot use patches in their own stream to fix problems in the identity on which they depend. Add-ons depend on the patch stream provided by their dependent identity to provide such fixes. Modules and bundles provided by an add-on or its patches will have lower precedence in the module loading order than those that come from the distribution base or layered distributions, so any fix to such a module/bundle provided by an add-on patch will have no effect. h1. Installers +TODO discussion of RPM+ h2. Distribution Base Installers The distribution base can be installed via a simple unzip. If the distribution base is itself an identity, see also "Identity Installers" h2. Identity Installers An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions. * An unzip onto a filesystem location that already contains a depended upon identity or the installation base of a zip that only includes the layered distribution(s) to be added. * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an identity is installed into a given filesystem location, the identity of that installation is irrevocably changed.+* When an identity is installed it has the right to modify any miscellaneous files in the installation filesystem, so once an identity is installed, the identity of the installation is changed. In many (hopefully nearly all) cases it may be possible for a user to remove files added by an identity install and get the installation back to its previous identity, but doing this is not a supported feature of the software and is not a recommended practice. *+However, once support for installing patches via the patching tool is available, reverting an identity installation will be possible.+* The patching tool maintains backup copies of any miscellaneous files modified by a patch, making it possible to restore those files. h2. Add-on Installer An identity can be installed via: * An unzip onto an empty filesystem location of a zip file that includes the distribution base and all layered distributions along with the add-on itself. * An unzip onto a filesystem location that contains the depended upon identity of a zip that only includes the add-on. * An installer program that does one or the other or both of the above and also provides a user interface that allows the user to customize the installation. It is a goal but not an initial requirement to allow installation to be performed via the patching tool. The benefit of this is the patching tool incorporates a number of compatibility checks that can help a user avoid invalid combinations. A further goal is to make the logic contained in the patching tool available to installer programs via a library. *+Once an add-on is installed into a given filesystem location, the identity of that installation is not changed, and it must be possible to reverse the installation.+* An add-on is merely additive, so removing it is a matter of deleting what was added. This could be done via a script provided by the add-on, via an installer program, or manually by a user following a set of instructions. h1. Establishing Identity It +must+ be possible for external tools to determine the identity of a given installation without requiring the software based on that installation to be running. It's also necessary for the software based on an installation to determine its own identity. This will be done via the bin/product.conf file located in the distribution. This file will include: * The name of the identity * The name of any layered distributions used by the identity, in order of the precedence to be used when loading their modules. If no bin/product.conf file exists, the installation is assumed to be the community version of the distribution base. If no layered distributions are named in the file, only the base and any add-ons will be used. h1. Module Loading JBoss AS currently loads modules based on a "module path" which is a list of filesystem locations which JBoss Modules searches for modules. In our standard launch scripts, users are able to manipulate this module path by setting the $JBOSS_MODULEPATH environment variable. If not set, $JBOSS_MODULEPATH is set to $JBOSS_HOME/modules. This mechanism creates a single default location under which modules can be located. This is problematic when layered distributions and add-ons wish to install their own modules, since there are no clear rules as to how those modules should be installed or how they relate to one another. h2. Goals * To make it easy for layered distributions or add-ons to add their modules to the set of available modules or remove their modules from the set of available modules, without fear of physically overwriting modules provided by others. * To establish clear rights and responsibilities for providers of the distribution base, layered distributions and add-ons with respect to how their modules should be managed. * To establish clear rules for how distributions that add modules that must take precedence over other modules provided by other distributions with the same name and slot should:* locate those modules * indicate at launch time to the modular classloading system the precedence order * To make it easy for end users to alter the module path for their own purposes by setting $JBOSS_MODULEPATH without needing to concern themselves with details of how the modules provided by the distribtuion base, layered distributions, or add-ons relate to one another. Reserve the use of $JBOSS_MODULEPATH and the value of the -mp command line argument passed to jboss-modules for end use uses. h2. Rights and Responsibilities of Module Providers All modules provided as part of the distribution base can be depended upon by any add-on associated with an identity. If the distribution base by itself is an identity (i.e. with no additional layered distribution required), the providers of the distribution base accept the following with respect to that identity: * The version of the module the distribution base provides will take precedence over a module with the same name and slot provided by any add-on. * As a consequence of this, any modification of that module in a patch will need to be tested for compatibility with add-ons based on the version of the identity being patched. * As a subset of the previous point, within a major version family the distribution base cannot remove a module that is depended upon by an add-on, even if the distribution base itself no longer needs that module. If the distribution base is part of an identity along with one or more layered distributions, the providers of the distribution base accept the following with respect to that identity: * The distribution base has the same responsibilities with respect to add-ons that it has in the case of add-ons without any layered distribution. * However, if a layered distribution in an identity provides a module with the same name and slot as the one provided by the distribution base, the distribution base no longer has responsibility to provide the module. The layered distribution's version of the module takes precedence. * The distribution base can modify a module that is depended upon by a layered distribution in a way that breaks functionality of the layered distribution. Providers of identities that include layered distributions are responsible for testing patch elements produced by the distribution base before making them available for use with the identity. If the distribution base patch element in some way breaks the functionality of an identity, either the patch element should not be provided for the identity, or the patch that incorporates the distribution base patch element should also include a layered distribution patch element that fixes the problem.* However, the distribution base should take great care not to break layered distributions with which it is associated when it produces patch elements. Distribution base patch element production should involve reasonable testing of all relevant identities such that problems can be found and resolved before the distribution base patch element ships. * The distribution base can remove a module that is not depended upon by any add-on but which is depended upon by a layered distribution. Providers of identities that include layered distributions are responsible for testing patch elements produced by the distribution base before making them available for use with the identity. If the distribution base removes a module depended upon by a layered distribution, the patch that incorporates the distribution base patch element should also include a layered distribution patch element that adds the module as part of the layered distribution. * If an identity add-on depends on a module provided by the distribution base and the distribution base wishes to remove the module, that is allowed provided some layered distribution is willing to begin providing the same module in an overall patch. All modules provided as part of a layered distribution can be depended upon by any add-on associated with an identity. They cannot be depended upon by the distribution base. When a layered distribution includes a module it accepts the following: * The version of the module it provides will take precedence over a module with the same name and slot provided by the distribution base or by any add-on. * As a consequence of this, any modification of that module in a patch element will need to be tested for compatibility with add-ons based on that version of the identity. Any functionality provided by the distribution base and supported by the identity will also have to be tested. * As a subset of the previous point, within a major version family the layered distribution cannot remove a module that is depended upon by an add-on, even if the layered distribution itself no longer needs that module. * A layered distribution can remove a module that is not depended upon by any add-on. If a layered distribution participates in an identity with another layered distribution that depends on it, the depended-on layer accepts the following: * If the dependent layered distribution provides a module with the same name and slot as the one provided by the depended-on layer, the depended-on layer no longer has responsibility to provide the module to the dependent or to any add-ons. The dependent layered distribution's version of the module takes precedence. * The depended-on layer can modify a module that is depended upon by another layer in a way that breaks functionality of the dependent. Providers of identities that include layered distributions are responsible for testing patch elements produced by the component layers before making them available for use with the identity. If the depended-on layer's patch element in some way breaks the functionality of an identity, either the patch should not be provided for the identity, or the patch element that incorporates the depended-on layer's patch component should also include a patch element to a dependent layer that fixes the problem.* However, a depended-on layer should take great care not to break dependent layers when it produces patch elements. Layered distribution patch production should involve reasonable testing of all relevant identities such that problems can be found and resolved before the depended-on layer's patch ships. * A depended-on layer can remove a module that is not depended upon by any add-on but which is depended upon by another layer. Providers of identities that include layered distributions are responsible for testing patch elements produced by a depended-upon layered distribution before making them available for use with the identity. If the depended-upon layer removes a module that is depended upon by another layer, the patch that incorporates the depended-upon layer's patch element should also include a patch element from the dependent layer distribution that adds the module as part of that layered distribution. * If an add-on depends on a module provided by the layered distribution and the layered distribution wishes to remove the module, that is allowed provided some other layered distribution in the identity is willing to begin providing the same module in an overall patch. When an add-on includes a module, it accepts the following with respect to any identity with which the add-on is associated: * The distribution base or a layered distribution may ship a module with the same name and slot, and that module +*will*+ take precedence over the module provided by the add-on. * Another add-on may ship a module with the same name and slot, and that module +*may*+ take precedence over the module provided by this layered distribution or add-on. * Another add-on may ship a module with the same name and slot, and the version provided by this layered distribution or add-on +*may*+ take precedence over the module provided by the other add-on. * As a consequence of this, any modification of the depended-upon module in a patch element will need to be tested for compatibility with any add-on based on the same major version of the identity.* The providers of the add-on are responsible for providing an adequate set of tests to the providers of the identity. * The distribution base or a layered distribution cannot depend upon a module provided by an add-on. * As a consequence of the previous point, an add-on can remove a module in a patch, without fear of breaking the core functionality of an identity. * An add-on can depend up a shareable module provided by another add-on upon which it depends, but +only with the express consent of the providers of that add-on+. Such dependencies are strongly discouraged. * If an add-on allows another add-on to depend upon its modules, it takes on the following responsibilities:* Any modification of that module in a patch or version upgrade will need to be tested for compatibility with any dependent add-ons. Testing procedures must be created to ensure that any patches produced by the depended-upon add-on do not break the dependent add-on. * As a subset of the previous point, within a major version family the add-on cannot remove a module that is depended upon by another add-on, even if the add-on itself no longer needs that module. h2. Module Organization on the Filesystem This section will describe how the above points are reflected in the actual organization of modules on the filesystem. h4. Requirement for Standardized Module Loading JBoss Modules can support other mechanisms for finding module content and loading it besides the filesystem-based module path mechanism. Theoretically a custom boot module loader implementation could be specified at process launch, with that module loader using some other means for locating module content. This article proposes that this capability be declared as unsupported for JBoss AS and products based upon it. Rather, the AS will have a specified boot module loader implementation. Users of the AS community project are free to use a non-standard boot module loader implementation, but if they do so and certain features provided by the AS don't work, that is their problem. h3. Filesystem Layout Modules would be organized on the filesystem as follows: modules + internal ++ add-ons +++ abc +++ def ++ layers +++ base +++ vuw +++ xyz The internal level exists to separate modules associated with the distribution base, layered distribution or add-ons from those the end user may store in the modules directory. +TODO Some better name for internal would be nice.+ h3. Translation of Filesystem Layout into Module Loading Precedence For any location provided by the user via the -mp switch, the module loader will look for the internal structure. If it is found in more than one location, an exception will be thrown. The module loader will understand the structure above and will apply module loading precedence rules as follows. Assume the above structure exists under $JBOSS_HOME and that the user sets $JBOSS_MODULEPATH as follows JBOSS_MODULESPATH=/user/me/my-modules;$JBOSS_HOME/modules In addition, the bin/product.conf file declares that the identity of the install is xyz, the xyz layered distribution should be loaded and the xyz layered distribution depends on the vuw layered distribution. Assume also that patches named base-1, abc-1, def-1, vuw-1, xyz-1 and xyz-2 have been applied. The module loader would look for modules on the filesystem in following locations, starting with first and terminating as soon as the module is found: /user/me/my-modules /modules (in case the user placed modules directly in under this directory) /modules/layers/xyz/patches/xyz-2 /modules/layers/xyz/patches/xyz-1 /modules/layers/xyz /modules/layers/vuw/patches/vuw-1 /modules/layers/vuw /modules/layers/base/patches/base-1 /modules/layers/base /modules/add-ons/abc/patches/abc-1 /modules/add-ons/abc /modules/add-ons/def/patches/def-1 /modules/add-ons/def The precedence order between /modules/add-ons/abc and /modules/add-ons/def is arbitrary. An add-on should never assume its modules will take precedence over those of any other add-on's modules. The fact that the various patches locations are included in the path is entirely due to +metadata+ that the patching tool will store in the $JBOSS_HOME/patches directory. The mere presence of a directory like /modules/layers/xyz/patches/xyz-2 is insufficient to trigger inclusion of that directory in the module search path. However, when the patching tool installs the patch, the actual location of the +module contents+ will be in /modules/layers/xyz/patches/xyz-2 -- only patching related metadata will be stored in $JBOSS_HOME/patches. This behavior is important for allowing sharing of modules across installations. h2. Sharing Modules Across Installations The above behavior makes it relatively straightforward for a user to share modules across installations. For example, the user could set up a shared module repo in /user/me with the following structure jboss-module-repo + add-ons ++ abc ++ def + layers ++ base ++ vuw ++ xyz The $JBOSS_HOME/modules/internal location in each installation on the filesystem could then be replaced with a symlink to /user/me/jboss-module-repo. The downside to this very simple sharing is the abc and def add-ons will be visible and used by all installations, whether or not they are relevant to the installation's identity. A solution to this problem would be to do more symlinks: $JBOSS_HOME/modules/internal/layers -&gt; /user/me/jboss-module-repo/layers $JBOSS_HOME/modules/internal/add-ons/abc -&gt; /user/me/jboss-module-repo/add-ons/abc $JBOSS_HOME/modules/internal/add-ons/def -&gt; /user/me/jboss-module-repo/add-ons/def As an improvement at some point we could define some sort of file format (say xml) and allow a file with that format to be placed in $JBOSS_HOME/modules/internal in lieu of the subdirectories. The file would include all of the mapping information for the external repo. The boot module loader, patching tool and any programmatic installers would know how to read and update that file. The file would only include information for the add-ons relevant to the installation. h3. Implications for the Patching Tool The possibility of module sharing doesn't remove the requirement to apply a patch to each installation on a given filesystem. Applying the patch to each installation is required in order to: *  update any miscellaneous files * record the patching metadata for the particular installation * allow the patching tool to understand what combinations of layered distributions and add-ons are relevant to the given installation However, the patching tool should recognize the possibility of this kind of module sharing. When it applies a patch it should recognize that the modules may already exist on the filesystem and should not apply them again if not necessary. It should however record some information in, e.g. /modules/layers/xyz/patches/xyz-2 indicating that the installation being patched is using that set of patch modules. This information will prevent deletion of patch modules used by multiple installations if one of the installations uses the patching feature's cleanup functions. h1. OSGi Bundle Loading This needs discussion, but the basic concept is the precedence rules for OSGi bundle loading would following the same rules as for module loading.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - integrating service</header>
    <body>How to create web services for android client?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Authentication Service</header>
    <body>h1. Authentication Service This article is do describe the new authentication service being added to AS7 to support security context proagation and connection re-authentication.  Until the component is complete this article should be considered work in progress. Due to the dependencies involved this service is developed as a stand alone project that will be subsequently integrated into the application server, most likely the security subsystem. h3. Project Structure The project (will) provide(s) the following: - h4. Authentication Service This is the core service running within the application server, this service is associated with all supported security realms and handles the authentication requests and the providing of the authenticated identities internally. h4. Server API Fer secured services looking to use the identities an API will be provided for direct access to the service.  A permissions check on the SecurityManager (if any) will be performed to verify the call should be allowed, user code must not be able to interact with the service unless that permission is granted. The server API may also provide an API that can be mapped to domain management operations to allow the state of the authentication service and the connection to be managed. h4. Internal Client API On the client side calls will be made to the remote authentication service using the defined protocol over Remoting - to simplify the use of the protocol this will be wrapped by an API - however this is most likely not the API that the clients will use to manage the associated identities. h4. Public Client API This is the API that will be used by client applications to manipulate the identities associated with the current connection, use cases are being identified and the resulting API will be to solve those use cases. The current discussions are along the lines that this will re-introduce the concept of a SecurityContext on the client side - this SecurityContext will allow the association of many identities that can then be selected for the actual invocations. h4. Versioned Remoting Protocol The protocol itself will live in it's own module, client and server side of the protocol will be written in parallel to ensure they remain in synch.  h3. Remoting Protocol The protocol is a versioned protocol, this means that the client and server will negotiate to use the most up to date protocol that both sides understand.  The only exception to this is that both sides will also allow for versions to be excluded either through configuration, their APIs or by system properties - the reason for this is that if a vulnerability or bug is found in a version of the protocol it can be excluded - this is applicable even for older versions as you may not want a client to force the use of an older version with a known issue. The versioning will also indicate if the protocol version is from a Final release or an intermediate release, backwards compatibility is only maintained within a protocol once it has reached the final state. h3. Security Permissions and Policies The ability to both manipulate the client side SecurityContexts and the ability to access the service AND any associations with the Remoting Connection will be strictly protected using Permissions and the Java SecurityManager. The development must output documented sample security policies that demonatrate how to grant the required permissions, the AS integration will also build on this to demonstrate the policy required server side. As a stand alone project the testsuite of the project should also include full testing with a security manager and the sample policies. h3. Application Server Integration h4. Configuration Items to be configured within the application server: - The service itself is a generic service, initially this is being used for EJB invocations however this can potentially be used for all services so the configuration of the service needs to be central - I would suggest within the security subsystem. The service will only be installed if the configuration is present. * Available Realms * Advertise Realms?  Should clients be able to request a list of available realms. * SASL Configuration - the capabilities of the realms guide this but additional overrides may be needed. * Caching configuration - validity periods? limit per connection? h4. EJB Container The EJB container will need to be modified so that if a request is received with a token ID then the Server API should be used to obtain that identity and run the request as that identity. Where a call is being made to a remote server there needs to be some form of switch to enable propagating the identity to the remote server, this most likely needs an API option and a configuration option to enable it. h4. EJB Clients The EJB client side in conjunction with the public client API will need to support the client side management and switching of identities and the passing of the selected token with the method invocation. h4. Security Realms The security realms now need to be updated as to support this feature a user authenticating to the server needs to be able request an alternative id for the authorization decisions.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Authentication Service</header>
    <body>h1. Authentication Service This article is do describe the new authentication service being added to AS7 to support security context proagation and connection re-authentication.  Until the component is complete this article should be considered work in progress. Due to the dependencies involved this service is developed as a stand alone project that will be subsequently integrated into the application server, most likely the security subsystem. h3. Project Structure The project (will) provide(s) the following: - h4. Authentication Service This is the core service running within the application server, this service is associated with all supported security realms and handles the authentication requests and the providing of the authenticated identities internally. h4. Server API Fer secured services looking to use the identities an API will be provided for direct access to the service.  A permissions check on the SecurityManager (if any) will be performed to verify the call should be allowed, user code must not be able to interact with the service unless that permission is granted. The server API may also provide an API that can be mapped to domain management operations to allow the state of the authentication service and the connection to be managed. h4. Internal Client API On the client side calls will be made to the remote authentication service using the defined protocol over Remoting - to simplify the use of the protocol this will be wrapped by an API - however this is most likely not the API that the clients will use to manage the associated identities. Reporting the internal reasons for authentication failure to a client is generally bad - however despite this there are a lot of users asking that error messages can be sent to client.  By default we should keep the errors server side only but do allow propagation to be switched on. h4. Public Client API This is the API that will be used by client applications to manipulate the identities associated with the current connection, use cases are being identified and the resulting API will be to solve those use cases. The current discussions are along the lines that this will re-introduce the concept of a SecurityContext on the client side - this SecurityContext will allow the association of many identities that can then be selected for the actual invocations. h4. Versioned Remoting Protocol The protocol itself will live in it's own module, client and server side of the protocol will be written in parallel to ensure they remain in synch.  h3. Remoting Protocol The protocol is a versioned protocol, this means that the client and server will negotiate to use the most up to date protocol that both sides understand.  The only exception to this is that both sides will also allow for versions to be excluded either through configuration, their APIs or by system properties - the reason for this is that if a vulnerability or bug is found in a version of the protocol it can be excluded - this is applicable even for older versions as you may not want a client to force the use of an older version with a known issue. The versioning will also indicate if the protocol version is from a Final release or an intermediate release, backwards compatibility is only maintained within a protocol once it has reached the final state. h3. Security Permissions and Policies The ability to both manipulate the client side SecurityContexts and the ability to access the service AND any associations with the Remoting Connection will be strictly protected using Permissions and the Java SecurityManager. The development must output documented sample security policies that demonatrate how to grant the required permissions, the AS integration will also build on this to demonstrate the policy required server side. As a stand alone project the testsuite of the project should also include full testing with a security manager and the sample policies. h3. Application Server Integration h4. Configuration Items to be configured within the application server: - The service itself is a generic service, initially this is being used for EJB invocations however this can potentially be used for all services so the configuration of the service needs to be central - I would suggest within the security subsystem. The service will only be installed if the configuration is present. * Available Realms * Advertise Realms?  Should clients be able to request a list of available realms. * SASL Configuration - the capabilities of the realms guide this but additional overrides may be needed. * Caching configuration - validity periods? limit per connection? * Error propagation. h4. EJB Container The EJB container will need to be modified so that if a request is received with a token ID then the Server API should be used to obtain that identity and run the request as that identity. Where a call is being made to a remote server there needs to be some form of switch to enable propagating the identity to the remote server, this most likely needs an API option and a configuration option to enable it. h4. EJB Clients The EJB client side in conjunction with the public client API will need to support the client side management and switching of identities and the passing of the selected token with the method invocation. h4. Security Realms The security realms now need to be updated as to support this feature a user authenticating to the server needs to be able request an alternative id for the authorization decisions.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - jbossesb-server-4.7\samples\quickstarts\webservice_producer</header>
    <body>h5.  public class SendMessage public static void main(String args[]) throws Throwable h5. got the  exception 23:37:16,424 INFO  [JBossRemotingGatewayListener] JBoss Remoting Gateway listener 'listener' started. 23:37:16,474 INFO  [JBossRemotingGatewayListener] JBoss Remoting Gateway listener 'listener' started. 23:38:08,653 INFO  [ServiceInvoker] Badly formed EPR [EPR: PortReference &lt; &lt;wsa:Address  http://localhost:8765/ http://localhost:8765/&gt; &gt;] for Service [MyServiceCategory:MyWSProducerService] and Message [header: [  ]].Courier for EPR not supported: ESB-unaware EPR used! 23:38:08,890 INFO  [STDOUT] [Quickstart_webservice_producer] BEFORE invoking jbossws endpoint: 23:38:08,890 INFO  [STDOUT] [&lt;soapenv:Envelope xmlns:soapenv=" http://schemas.xmlsoap.org/soap/envelope/ http://schemas.xmlsoap.org/soap/envelope/" xmlns:good=" http://webservice_producer/goodbyeworld http://webservice_producer/goodbyeworld"&gt;    &lt;soapenv:Header/&gt;    &lt;soapenv:Body&gt;       &lt;good:sayGoodbye&gt;          &lt;message&gt;Goodbye!!&lt;/message&gt;       &lt;/good:sayGoodbye&gt;    &lt;/soapenv:Body&gt; &lt;/soapenv:Envelope&gt;]. 23:38:08,946 ERROR [SOAPFaultHelperJAXWS] SOAP request exception java.lang.ClassCastException: org.jboss.ws.core.soap.EnvelopeBuilderDOM cannot be cast to org.jboss.ws.core.soap.EnvelopeBuilder at org.jboss.ws.core.soap.MessageFactoryImpl.createMessage(MessageFactoryImpl.java:275) at org.jboss.ws.core.soap.MessageFactoryImpl.createMessage(MessageFactoryImpl.java:195) at org.jboss.wsf.stack.jbws.RequestHandlerImpl.processRequest(RequestHandlerImpl.java:447) at org.jboss.wsf.stack.jbws.RequestHandlerImpl.handleRequest(RequestHandlerImpl.java:284) at org.jboss.wsf.stack.jbws.RequestHandlerImpl.doPost(RequestHandlerImpl.java:201) at org.jboss.wsf.stack.jbws.RequestHandlerImpl.handleHttpRequest(RequestHandlerImpl.java:134) at org.jboss.soa.esb.actions.soap.SOAPProcessor.process(SOAPProcessor.java:187) at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.processPipeline(ActionProcessingPipeline.java:634) at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.processPipeline(ActionProcessingPipeline.java:586) at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.process(ActionProcessingPipeline.java:420) at org.jboss.soa.esb.listeners.message.MessageAwareListener$TransactionalRunner.run(MessageAwareListener.java:540) at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source) 23:38:08,972 ERROR [RequestHandlerImpl] Error processing web service request org.jboss.ws.WSException: java.lang.ClassCastException: org.jboss.ws.core.soap.SOAPMessageImpl cannot be cast to org.jboss.ws.core.soap.SOAPMessageImpl at org.jboss.ws.WSException.rethrow(WSException.java:68) at org.jboss.wsf.stack.jbws.RequestHandlerImpl.handleRequest(RequestHandlerImpl.java:325) at org.jboss.wsf.stack.jbws.RequestHandlerImpl.doPost(RequestHandlerImpl.java:201) at org.jboss.wsf.stack.jbws.RequestHandlerImpl.handleHttpRequest(RequestHandlerImpl.java:134) at org.jboss.soa.esb.actions.soap.SOAPProcessor.process(SOAPProcessor.java:187) at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.processPipeline(ActionProcessingPipeline.java:634) at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.processPipeline(ActionProcessingPipeline.java:586) at org.jboss.soa.esb.listeners.message.ActionProcessingPipeline.process(ActionProcessingPipeline.java:420) at org.jboss.soa.esb.listeners.message.MessageAwareListener$TransactionalRunner.run(MessageAwareListener.java:540) at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: Embeddable EJBContainer and JBoss 7.1.1.Final</header>
    <body>I have the same problem. Have you find a solution ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Possible ThymeLeaf	Integration</header>
    <body>ThymeLeaf is a templating engine. http://www.thymeleaf.org/documentation.html http://www.thymeleaf.org/documentation.html Possible integration points: IResourceResolver - to load resources from deployments. ThymeLeaf's ClassLoaderResourceResolver uses just http://127.0.0.1:8082/resource/jar%3Afile%3A/home/ondra/.m2/repository/org/thymeleaf/thymeleaf/2.0.14/thymeleaf-2.0.14-javadoc.jar%21/org/thymeleaf/messageresolver/IMessageResolver.html IMessageResolver - use CDI for loading messages. http://127.0.0.1:8082/resource/jar%3Afile%3A/home/ondra/.m2/repository/org/thymeleaf/thymeleaf/2.0.14/thymeleaf-2.0.14-javadoc.jar%21/org/thymeleaf/cache/ICacheManager.html ICacheManager - use InfiniSpan as cache.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Possible ThymeLeaf	Integration</header>
    <body>ThymeLeaf is a templating engine. http://www.thymeleaf.org/documentation.html http://www.thymeleaf.org/documentation.html h2. Possible integration points h4. In CDI, even standalone: *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/context/IContext.html IContext - the map of values available for the template. Those could be resolved from CDI. *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/messageresolver/IMessageResolver.html IMessageResolver - use CDI for loading messages. h4. Additionally, in Application Server: *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/resourceresolver/IResourceResolver.html IResourceResolver - to load resources from deployments. ThymeLeaf's ClassLoaderResourceResolver uses just *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/cache/ICacheManager.html ICacheManager - use InfiniSpan as cache.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Possible ThymeLeaf	Integration</header>
    <body>ThymeLeaf is a templating engine. http://www.thymeleaf.org/documentation.html http://www.thymeleaf.org/documentation.html h2. Possible integration points h4. In CDI, even standalone: *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/messageresolver/IMessageResolver.html IMessageResolver - use CDI for loading messages. * Also, we could make the template names type-safe, by introducing one qualifier per page.             // Additional variable           This would h4. Additionally, in Application Server: *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/resourceresolver/IResourceResolver.html IResourceResolver - to load resources from deployments. ThymeLeaf's ClassLoaderResourceResolver uses just *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/cache/ICacheManager.html ICacheManager - use InfiniSpan as cache. * @Resource TemplateEngine templateEngine;   - inject template engine configured as module.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Possible ThymeLeaf	Integration</header>
    <body>ThymeLeaf is a templating engine. http://www.thymeleaf.org/documentation.html http://www.thymeleaf.org/documentation.html h2. Possible integration points h4. In CDI, even standalone: *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/context/IContext.html IContext - the map of values available for the template. Those could be filled from CDI.           The interface IContext has only  *http://127.0.0.1:8082/resource/jar%3Afile%3A/home/ondra/.m2/repository/org/thymeleaf/thymeleaf/2.0.14/thymeleaf-2.0.14-javadoc.jar%21/org/thymeleaf/context/IContext.html#getVariables%28%29 getVariables*(), so the values are not resolved per case - whole map needs to be given at the time of this call. * Also, we could make the template names type-safe, by introducing one qualifier per page.           // Inject object with the template "Home", the template engine, and CDIThymeContext.             // Additional variable             // Process h4. Additionally, in Application Server: *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/resourceresolver/IResourceResolver.html IResourceResolver - to load resources from deployments. ThymeLeaf's ClassLoaderResourceResolver uses just *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/cache/ICacheManager.html ICacheManager - use InfiniSpan as cache. * @Resource TemplateEngine templateEngine;   - inject template engine configured as module. (Probably not much useful, ThymeLeaf is pretty simple, almost no config.) *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/messageresolver/IMessageResolver.html IMessageResolver - anything useful to get the strings from?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Clustering Development] - Question on HASingleton service in JBoss 5</header>
    <body>Hi, I am writing a clusterwise singleton service to one of our applications.  It is working fine and singleton service change it's master node when there is a server shut down. The problem I am facing is when the master node shut down happens singleton service doesn't copy it's state (current values in it's variables) in to new master node.  Is there any way we can copy state of a singleton service when the node ?  Attached is configuration and service files for your reference. Any help would be appriated. Cheers, Lasantha</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Possible ThymeLeaf	Integration</header>
    <body>ThymeLeaf is a templating engine. http://www.thymeleaf.org/documentation.html http://www.thymeleaf.org/documentation.html h2. Possible integration points h4. In CDI, even standalone: *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/context/IContext.html IContext - the map of values available for the template. Those could be filled from CDI.           By default, ThymeLeaf uses OGNL against the map of variables to resolve the expressions.           The interface IContext has only  *http://127.0.0.1:8082/resource/jar%3Afile%3A/home/ondra/.m2/repository/org/thymeleaf/thymeleaf/2.0.14/thymeleaf-2.0.14-javadoc.jar%21/org/thymeleaf/context/IContext.html#getVariables%28%29 getVariables*(), so the values are not resolved per case - whole map needs to be given at the time of this call.           Therefore, the map provided by CDIThymeContext would probably have to ** list all beans CDI could deliver, limited to those marked as beans somehow (i.e. not "any class"), ** override the methods of VariablesMap which ThymeLeaf actually uses, and look up the beans lazily. * Also, we could make the template names type-safe, by introducing one qualifier per page.           // Inject object with the template "Home", the template engine, and CDIThymeContext.             // Additional variables.             // Process. h4. Additionally, in Application Server: *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/resourceresolver/IResourceResolver.html IResourceResolver - to load resources from deployments. ThymeLeaf's ClassLoaderResourceResolver uses just *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/cache/ICacheManager.html ICacheManager - use InfiniSpan as cache. * @Resource TemplateEngine templateEngine;   - inject template engine configured as module. (Probably not much useful, ThymeLeaf is pretty simple, almost no config.) *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/messageresolver/IMessageResolver.html IMessageResolver - anything useful to get the strings from?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Possible ThymeLeaf	Integration</header>
    <body>ThymeLeaf is a templating engine. http://www.thymeleaf.org/documentation.html http://www.thymeleaf.org/documentation.html h2. Possible integration points h4. In CDI, even standalone: *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/context/IContext.html IContext - the map of values available for the template. Those could be filled from CDI.           By default, ThymeLeaf uses OGNL against the map of variables to resolve the expressions.           The interface IContext has only  *http://127.0.0.1:8082/resource/jar%3Afile%3A/home/ondra/.m2/repository/org/thymeleaf/thymeleaf/2.0.14/thymeleaf-2.0.14-javadoc.jar%21/org/thymeleaf/context/IContext.html#getVariables%28%29 getVariables*(), so the values are not resolved per case - whole map needs to be given at the time of this call.  https://github.com/thymeleaf/thymeleaf/issues/101 RFE           Therefore, the map provided by CDIThymeContext would probably have to ** list all beans CDI could deliver, limited to those marked as beans somehow (i.e. not "any class"), ** override the methods of VariablesMap which ThymeLeaf actually uses, and look up the beans lazily.* Unfortunatelly, this wouldn't work: *** java.lang.UnsupportedOperationException     at cz.oz.thymeleaftry.cdi.LazyVariablesMap.size(LazyVariablesMap.java:27)     at java.util.HashMap.putAll(HashMap.java:597)     at org.thymeleaf.context.AbstractProcessingContext.createEvaluationRoot(AbstractProcessingContext.java:95) * Also, we could make the template names type-safe, by introducing one qualifier per page.           // Inject object with the template "Home", the template engine, and CDIThymeContext.             // Additional variables.             // Process. h4. Additionally, in Application Server: *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/resourceresolver/IResourceResolver.html IResourceResolver - to load resources from deployments. ThymeLeaf's ClassLoaderResourceResolver uses just *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/cache/ICacheManager.html ICacheManager - use InfiniSpan as cache. * @Resource TemplateEngine templateEngine;   - inject template engine configured as module. (Probably not much useful, ThymeLeaf is pretty simple, almost no config.) *  http://www.thymeleaf.org/apidocs/thymeleaf/2.0.14/org/thymeleaf/messageresolver/IMessageResolver.html IMessageResolver - anything useful to get the strings from?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - SOAP WebService ClassCastException: org.jboss.ws.core.soap.TextImpl cannot be cast to org.w3c.dom.Comment</header>
    <body>Hello, I have this problem after migrating to JBOSS 4.2.3 from Apache Tomcat, after submitting SOAP request i can't parse it properly and here it is what i have got: [code]java.lang.ClassCastException: org.jboss.ws.core.soap.TextImpl cannot be cast to org.w3c.dom.Comment           at org.apache.xml.serializer.TreeWalker.startNode(TreeWalker.java:287) ~[na:2.7.0]           at org.apache.xml.serializer.TreeWalker.traverse(TreeWalker.java:143) ~[na:2.7.0]           at org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:389) ~[na:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.springframework.ws.server.endpoint.AbstractLoggingInterceptor.logMessageSource(AbstractLoggingInterceptor.java:149) ~[spring-ws-core-2.1.1.RELEASE.jar:na]           at org.springframework.ws.server.endpoint.AbstractLoggingInterceptor.handleRequest(AbstractLoggingInterceptor.java:89) ~[spring-ws-core-2.1.1.RELEASE.jar:na]           at org.springframework.ws.server.endpoint.interceptor.DelegatingSmartEndpointInterceptor.handleRequest(DelegatingSmartEndpointInterceptor.java:78) ~[spring-ws-core-2.1.1.RELEASE.jar:na]           at org.springframework.ws.server.MessageDispatcher.dispatch(MessageDispatcher.java:224) [spring-ws-core-2.1.1.RELEASE.jar:na]           at org.springframework.ws.server.MessageDispatcher.receive(MessageDispatcher.java:173) [spring-ws-core-2.1.1.RELEASE.jar:na]           at org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:88) [spring-ws-core-2.1.1.RELEASE.jar:na]           at org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:59) [spring-ws-core-2.1.1.RELEASE.jar:na]           at org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:221) [spring-ws-core-2.1.1.RELEASE.jar:na]           at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882) [spring-webmvc-3.1.2.RELEASE.jar:3.1.2.RELEASE]           at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:789) [spring-webmvc-3.1.2.RELEASE.jar:3.1.2.RELEASE]           at javax.servlet.http.HttpServlet.service(HttpServlet.java:710) [servlet-api.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at javax.servlet.http.HttpServlet.service(HttpServlet.java:803) [servlet-api.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96) [tmp8382621026727147370jbossweb-service.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:182) [tmp8382621026727147370jbossweb-service.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:84) [tmp8382621026727147370jbossweb-service.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:157) [tmp8382621026727147370jbossweb-service.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:262) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:446) [tmp6642786118731031121jbossweb.jar:4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181439)]           at java.lang.Thread.run(Thread.java:722) [na:1.7.0_09][/code]</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - Re: SOAP WebService ClassCastException: org.jboss.ws.core.soap.TextImpl cannot be cast to org.w3c.dom.Comment</header>
    <body>Hi, I had the same errormessage. It turned out that Jboss did not like having comments (&lt;!-- --&gt;) inside the soap request. After removing those, the errrormessage did not appear, and the webservice executed successfully. br // björn</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - JBPM6 and its Jira</header>
    <body>Hello, recently I updated my JBPM clone and saw big changes. Unfortunately I couldn't find any Jira ticket related to such changes. at least, there are only a few tickets with state "Coding in Progress". I have an osgi product that is based on JBPM. periodicaly I create a branch that I use to  test against to new JBPM versions, just to ensure that everything will stay fine. my surprise was that the JBPM master branch couldn't be build, there are lot of maven and compile errors. could someone explain me what is going on and why jira is not being used to track such changes ? regards, Cristiano</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jBPM 5 Support</header>
    <body>Hi, Can anyone please tell whether jBPM 5.4 is supported(production support) by jBoss? We are currently investigating jBPM5.4 and want to take a support contract for it. Please revert back if anybody knows about it. Links or posts related to it would be very helpful. Thanks mk</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - JBoss AS7 Security	Auditing</header>
    <body>h2. h2. Configure the Domain Model Logging Subsystem         &lt;subsystem xmlns="urn:jboss:domain:logging:1.1"&gt;             &lt;console-handler name="CONSOLE" autoflush="true"&gt;                 &lt;level name="INFO"/&gt;                 &lt;formatter&gt;                 &lt;/formatter&gt;             &lt;/console-handler&gt;             &lt;periodic-rotating-file-handler name="FILE" autoflush="true"&gt;                 &lt;level name="INFO"/&gt;                 &lt;formatter&gt;                 &lt;/formatter&gt;                 &lt;file relative-to="jboss.server.log.dir" path="server.log"/&gt;                 &lt;suffix value=".yyyy-MM-dd"/&gt;                 &lt;append value="true"/&gt;             &lt;/periodic-rotating-file-handler&gt;             &lt;periodic-rotating-file-handler name="AUDIT" autoflush="true"&gt;                 &lt;level name="TRACE"/&gt;                 &lt;formatter&gt;                 &lt;/formatter&gt;                 &lt;file relative-to="jboss.server.log.dir" path="audit.log"/&gt;                 &lt;suffix value=".yyyy-MM-dd"/&gt;                 &lt;append value="true"/&gt;             &lt;/periodic-rotating-file-handler&gt;            &lt;logger category="org.jboss.security.audit"&gt;                 &lt;level name="TRACE"/&gt;                 &lt;handlers&gt;                     &lt;handler name="AUDIT"/&gt;                 &lt;/handlers&gt;             &lt;/logger&gt;            &lt;logger category="com.arjuna"&gt;                 &lt;level name="WARN"/&gt;             &lt;/logger&gt;             &lt;logger category="org.apache.tomcat.util.modeler"&gt;                 &lt;level name="WARN"/&gt;             &lt;/logger&gt;             &lt;logger category="sun.rmi"&gt;                 &lt;level name="WARN"/&gt;             &lt;/logger&gt;             &lt;root-logger&gt;                 &lt;level name="INFO"/&gt;                 &lt;handlers&gt;                     &lt;handler name="CONSOLE"/&gt;                     &lt;handler name="FILE"/&gt;                 &lt;/handlers&gt;             &lt;/root-logger&gt;         &lt;/subsystem&gt; The key changes to the logging subsystem are: * A new logger category for "org.jboss.security.audit"  is defined. * A periodic rotating file handler called "AUDIT" is defined. To crate audit.log one can you following CLI commands: /subsystem=logging/logger=org.jboss.security.audit/:add(level=TRACE,category=org.jboss.security.audit,handlers=["AUDIT"]) h2. Web Applications To enable auditing in your web applications, please configure your jboss-web.xml for your web archive. The &lt;disable-audit&gt; flag should be set to false. &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;jboss-web&gt;    &lt;security-domain&gt;form-auth&lt;/security-domain&gt;    &lt;disable-audit&gt;false&lt;/disable-audit&gt; &lt;/jboss-web&gt; h2. h2. Quick Testing 1. Attached is the form-auth.war.  Deploy it in standalone/deployments 2. Make the standalone/configuration/standalone.xml changes to the logging subsystem as defined above. 3. Start JBoss AS7 4. Access  http://localhost:8080/form-auth/ http://localhost:8080/form-auth/                 (User:  anil           Password:  anil) 5. If things are working, you should see audit.log  under standalone/log Note:  You will need the following security domain added to standalone.xml                 &lt;security-domain name="form-auth" cache-type="default"&gt;                     &lt;authentication&gt;                         &lt;login-module code="UsersRoles" flag="required"&gt;                             &lt;module-option name="usersProperties" value="users.properties"/&gt;                             &lt;module-option name="rolesProperties" value="roles.properties"/&gt;                         &lt;/login-module&gt;                     &lt;/authentication&gt;                 &lt;/security-domain&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - JBoss AS7 Security	Auditing</header>
    <body>See re-enabled testcase in AS7 integration test suite: testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/security/auditing/SecurityAuditingTestCase.java</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Cached Web Service Client sends wrong SoapAction in HTTP header</header>
    <body>Hi all, I have a problem with an application which I have migrated from JBoss AS5 to AS7. Parts of the application contain a JaxWS webservice client which makes calls to a remote web service. The former implementation was based on the +jboss-ws native+ stack. For performance reasons the web service client instance was cached and reused. When migrating to AS7 I have not changed the webservice client code so far, at least at first glance it looked like everything is working fine. But, whenever a JaxWS client is reused - taken from the pool - it sends a wrong *SoapAction* in the HTTP Headers. For Example server.log: --------------------------- ID: 3 Address: http://server:8080/....ServiceInterface Encoding: UTF-8 Content-Type: text/xml Payload: &lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"&gt; &lt;soap:Header&gt;    &lt;nsh:AuthenticationHeader xmlns:nsh="http:...."&gt;...&lt;/nsh:AuthenticationHeader&gt; &lt;/soap:Header&gt; &lt;soap:Body&gt;    &lt;*GetTemplates* xmlns="....."&gt; ... &lt;/*GetTemplates*&gt; &lt;/soap:Body&gt;&lt;/soap:Envelope&gt; -------------------------------------- So as one sees, the actual call is '*GetTemplates*' but the SoapAction in the header is '*GetConfigurations*', which causes an Error-500 on the remote server. For the moment - as a hack - I remove the SoapAction from the HttpHeaders, before putting back the client stup into the pool: But I do not feal very comfortable with this hack. Does any ody know about this issue, or have I missed something during migration?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - Re: Basic Authentication with SOAPProxy or SOAPClient or HTTPRouter</header>
    <body>Juan, no cuentas con acceso a RH Network? Te recomiendo levantar un ticket por ahí y no hacerlo en un foro comunitario. Menos cuando publicas cosas como " *+https://test.pisee.cl/SIIDireccionContribuyenteProxy https://test.pisee.cl/SIIDireccionContribuyenteProxy+*". saludos.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - Re: Basic Authentication with SOAPProxy or SOAPClient or HTTPRouter</header>
    <body>OK!!..Gracias por tu aporte!..</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - Re: Basic Authentication with SOAPProxy or SOAPClient or HTTPRouter</header>
    <body>jaja, ok, pero podria haber sido de menos ayuda aún  ;) .</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Logging Id's</header>
    <body>Best practice is to document the message ids used within the java classes. We've been using class javadoc like this in a lot of places: /** * This module is using message IDs in the ranges 14600-14899 and 13400-13499. * * This file is using the subsets 14630-14899 and 13450-13499 for non-logger messages. * * See &lt;a href="http://community.jboss.org/docs/DOC-16810"&gt;http://community.jboss.org/docs/DOC-16810&lt;/a&gt; for the full * list of currently reserved JBAS message id blocks. * */ I've found it's helpful to also leave a comment at the end of the file indicating the last valid number for the file so people are less likely to overflow when they add a message. This is particularly useful if the valid range for the file is small and ends on an unusual number.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: JBAS-1836 - contentious transaction enlistment and pooli</header>
    <body>Hi Adrian, i am using *jboss 3.2.6* [i am using *only one local-tx-datasource*] *rarely* i am getting the following exception: org.jboss.util.NestedSQLException: Could not enlist in transaction on entering meta-aware object!javax.transaction.SystemException: enlistResource failed; - nested throwable: (javax.resource.ResourceException: Could not enlist in transaction on entering meta-aware object!javax.transaction.SystemException: enlistResource failed) is the above race condition you mentioned is the reason i am getting this exception? [i dont think this exception is coming for me because of transaction being marked as rollback or timed out transaction, if thats the case log would have contained some info regarding that.] waiting for your reply, thank you....</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Session replication using AS7 clustering, S3 PING, Amazon EC2</header>
    <body>Hello all, I am trying to setup session replication using AS7 clustering, S3 PING and Amazon EC2 for the Seam booking EAR app. So far, I have managed to get session replication working with two different local servers running on the same network using S3 ping and AS7: 1. The S3 bucket is created with two files. 2. I can restart one server and continue my browser session. I am running into a problem when trying to get this same setup running on Amazon EC2. Here's how far I could get on the Amazon cloud: 2. The S3 bucket is created with two files. Relevant part of standalone-ha.xml:                &lt;protocol type="S3_PING"&gt;                     &lt;property name="access_key"&gt;                         xxx                     &lt;/property&gt;                     &lt;property name="secret_access_key"&gt;                         xxx                     &lt;/property&gt;                     &lt;property name="prefix"&gt;                         jbossas7-s3ping                     &lt;/property&gt;                     &lt;property name="timeout"&gt;                         60000                     &lt;/property&gt;                 &lt;/protocol&gt; 3. JGroups logs says:09:59:23,254 INFO   org.jboss.as.clustering.jgroups org.jboss.as.clustering.jgroups (ServerService Thread Pool -- 37) JBAS010260: Activating JGroups subsystem.10:00:08,631 INFO   org.infinispan.remoting.transport.jgroups.JGroupsTransport org.infinispan.remoting.transport.jgroups.JGroupsTransport (pool-15-thread-1) ISPN000078: Starting JGroups Channel 10:00:08,636 DEBUG  org.infinispan.remoting.transport.jgroups.JGroupsTransport org.infinispan.remoting.transport.jgroups.JGroupsTransport (pool-15-thread-1) New view accepted:  https://community.jboss.org/message/783143#783143#783143/0 node1/web  https://community.jboss.org/message/783143#783143#783143/node1/web Session replication using AS7 clustering, S3 PING, Amazon EC2 10:00:08,636 INFO   org.infinispan.remoting.transport.jgroups.JGroupsTransport org.infinispan.remoting.transport.jgroups.JGroupsTransport (pool-15-thread-1) ISPN000094: Received new cluster view:  https://community.jboss.org/message/783143#783143#783143/0 node1/web  https://community.jboss.org/message/783143#783143#783143/node1/web Session replication using AS7 clustering, S3 PING, Amazon EC2 10:00:08,637 INFO   org.infinispan.remoting.transport.jgroups.JGroupsTransport org.infinispan.remoting.transport.jgroups.JGroupsTransport (pool-15-thread-1) ISPN000079: Cache local address is node1/web, physical addresses are  https://community.jboss.org/message/783143#783143#783143/10.194.93.149:7600 Session replication using AS7 clustering, S3 PING, Amazon EC2 10:00:08,638 DEBUG  org.infinispan.remoting.transport.jgroups.JGroupsTransport org.infinispan.remoting.transport.jgroups.JGroupsTransport (pool-15-thread-1) Waiting on view being accepted Note: 1. I have opened ICMP,TCP ports for EC2 Security Groups on both EC2 instances 2. I have disabled firewall on both instances 3. I can telnet from instance to the other on port 7600. 4. I have attached my AS7 config. Can anyone help?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - JBoss AS7: Enabling JASPI Authentication for Web Applications</header>
    <body>Sorry to get back to this topic once again, but in your opinion, what do you feel is missing or could be improved in the current JASPIC specification?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [IronJacamar Development] - Re: possible bad side effects from change to AbstractConnectionManager</header>
    <body>I'm not seeing anything here. If you only have 1 connection available, then requests will timeout.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7	Securing Passwords</header>
    <body>h2. Frequently Asked Questions - now with correct answers: * h5. How secure is this? *It is NOT secure at all!* You *disclose the password* via KEYSTORE_PASSWORD. No matter how complex the implementation is. No matter if it uses Java KeyStore, RSA, DES, other algorithms. No matter how long RSA key is. No matter if any 3rd party vault implementation is used. You *disclose the password* to access the vault. Everyone who has access to the config can easily decrypt all the passowrds you have encrypted. This approach in JBoss is highly *vulneruble*! Unfortunately the Red Hat architect misleads all the users. Compare it to following. You have a sofisticated locker in your house door. But you leave the key hanging on the door. Will you expect any safety? Or you have highly secure alarm system in your car. But you leave a key on the hood of your car. What will you expect? Everyone can open your home door and use your car. The same is here with JBoss vault. * h5. Can I really secure the keystore? * You can store the keystore on an USB or an encrypted secure usb or such. * When the server starts, insert the USB. On successful start, you can remove the USB. *Wrong.* You can use USB of your developer's computer only. But you cannot use USB of your production servers. Because normally there is no physical access to it: it may be in a secured room you have no access to, or at your customer hundreads miles away, or it may be at your hoster, or in a cloud at Amazon, Rackspace, you name it. The JBoss server must start automatically each time the system starts. For instance the system was upgraded, or a patch was applied, or hardware was replaced, or system was restored from a back up. The whole system is restarted. The JBoss server must automatically start, too. If the vault is missing, your application on JBoss will NOT start. One might suggest to put the vault on another disk, mount it temporary during system start up, then unmount automatically after JBoss started. But this only reduces the probability. It does not solve the problem. As long as a disk is mounted, it is available to all system processes. A hacker or a process started by a hacker can access the mounted disk, too. The worst thing is that a Red Hat architect who designed and implemented it does not warn the users. Users have *false feeling of safety*. Wake up! You are in a big trouble if you use JBoss vault.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ==Tv link==New Orleans Saints vs Carolina Panthers Live 2012 Week17</header>
    <body>. http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ==Tv link==Panthers vs Saints Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ==Tv link==Philadelphia Eagles vs New York Giants Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ==Tv link==Eagles vs Giants Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS7 Password	Vault on Windows</header>
    <body>Hi merlin, JBoss vault  is *not safe*. Please keep it in mind. The vault gives you false feeling of safety. You *disclose the password* to access the vault via KEYSTORE_PASSWORD. Everyone can easily decrypt all the passwords you have encrypted.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ==Tv link==Cleveland Browns vs Pittsburgh Steelers Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ==Tv link==Pittsburgh Steelers vs Cleveland Browns Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://4.bp.blogspot.com/-DIlXUZjE7yg/UB1Kzq5qxsI/AAAAAAAAAJQ/fkqz3536HT4/s320/nfl.jpg http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ==Tv link==Steelers vs Browns Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ==Tv link==Jacksonville Jaguars vs Tennessee Titans Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ==Tv link==Tennessee Titans vs Jacksonville Jaguars Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - AS7: Utilising masked passwords via the vault</header>
    <body>JBoss vault is *not safe*. It gives you false feeling of safety. You *disclose the password* to access the vault via KEYSTORE_PASSWORD. Everyone can easily decrypt all the passwords you have encrypted. Unfortunately JBoss does not help users to understand it and to be aware of security problems.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7	Securing Passwords</header>
    <body>Can you stop spreading FUD around? Read,  it says it uses "Password based Encryption" which is security by obscurity.  It is not 100% security. To really get foolproof security of passwords, you either: a) use FIPS 140-2 certified keystore or b) use a 3rd party ISV implementation of the vault. The default implementation provided allows masking of passwords and not ENCRYPTION of passwords.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] Announcement: Help us	rename JBoss AS!</header>
    <body>http://www.businesswire.com/news/home/20121001005276/en/Red-Hat-Enters-Phase-Application-Server-Technology As recently announced, we will be renaming the JBoss AS community project and are soliciting your suggestions and your vote on the new name that will best communicate our new direction. As Mark eloquently puts it  https://community.jboss.org/blogs/mark.little/2012/10/01/announcing-the-renaming-of-jbossas in his blog, we have come a long way from the original meaning of the name, and we want the new name to emphasize the trail blazing role of the community project. http://jboss.org/vote See our vote now page for more information and how to submite your ideas.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jbpm engine is generating 4 tasks instead of just one !!</header>
    <body>Hi, i'm using jbpm 5.0. i ve a simple process with 2 human-tasks for 2 different users, when i try to get each user tasks with this method : i got 4 tasks instead of just one : tasks list : [org.jbpm.task.query.TaskSummary at cf54f3e6, org.jbpm.task.query.TaskSummary at cf54f3e7, org.jbpm. task.query.TaskSummary at 639962e7, org.jbpm.task.query.TaskSummary at 639962e8] Sometimes i get just one task but when i complete it i get 4 tasks with status "completed". This seems as a bug in the jbpm engine but it doesn't happen with all processes ,i ve 2 processes and this problem only happens in one of them : this one : &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;definitions id="Definition"              targetNamespace=" http://www.jboss.org/drools http://www.jboss.org/drools"              typeLanguage=" http://www.java.com/javaTypes http://www.java.com/javaTypes"              expressionLanguage=" http://www.mvel.org/2.0 http://www.mvel.org/2.0"              xmlns=" http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/20100524/MODEL"              xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2001/XMLSchema-instance"              xsi:schemaLocation=" http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd"              xmlns:g=" http://www.jboss.org/drools/flow/gpd http://www.jboss.org/drools/flow/gpd"              xmlns:bpmndi=" http://www.omg.org/spec/BPMN/20100524/DI http://www.omg.org/spec/BPMN/20100524/DI"              xmlns:dc=" http://www.omg.org/spec/DD/20100524/DC http://www.omg.org/spec/DD/20100524/DC"              xmlns:di=" http://www.omg.org/spec/DD/20100524/DI http://www.omg.org/spec/DD/20100524/DI"              xmlns:tns=" http://www.jboss.org/drools http://www.jboss.org/drools"&gt;   &lt;itemDefinition id="_var1Item" structureRef="String" /&gt;   &lt;itemDefinition id="_var2Item" structureRef="String" /&gt;   &lt;itemDefinition id="_var3Item" structureRef="Object" /&gt;   &lt;itemDefinition id="_var4Item" structureRef="String" /&gt;   &lt;itemDefinition id="_2-var1Item" structureRef="String" /&gt;   &lt;itemDefinition id="_2-var2Item" structureRef="String" /&gt;   &lt;itemDefinition id="_2-var3Item" structureRef="Object" /&gt;   &lt;itemDefinition id="_2-var4Item" structureRef="String" /&gt;   &lt;itemDefinition id="_3-var1Item" structureRef="String" /&gt;   &lt;itemDefinition id="_3-var2Item" structureRef="String" /&gt;   &lt;itemDefinition id="_3-var3Item" structureRef="Object" /&gt;   &lt;itemDefinition id="_3-var4Item" structureRef="String" /&gt;   &lt;process processType="Private" isExecutable="true" id="themasterbossexpl" name="Sample Process" tns:packageName="defaultPackage" &gt;     &lt;!-- process variables --&gt;     &lt;property id="var1" itemSubjectRef="_var1Item"/&gt;     &lt;property id="var2" itemSubjectRef="_var2Item"/&gt;     &lt;property id="var3" itemSubjectRef="_var3Item"/&gt;     &lt;property id="var4" itemSubjectRef="_var4Item"/&gt;     &lt;!-- nodes --&gt;     &lt;startEvent id="_1" name="StartProcess" /&gt;     &lt;userTask id="_2" name="User Task1" &gt;       &lt;ioSpecification&gt;         &lt;dataInput id="_2_param1Input" name="param1" /&gt;         &lt;dataInput id="_2_param2Input" name="param2" /&gt;         &lt;dataInput id="_2_TaskNameInput" name="TaskName" /&gt;         &lt;inputSet&gt;           &lt;dataInputRefs&gt;_2_param1Input&lt;/dataInputRefs&gt;           &lt;dataInputRefs&gt;_2_param2Input&lt;/dataInputRefs&gt;           &lt;dataInputRefs&gt;_2_TaskNameInput&lt;/dataInputRefs&gt;         &lt;/inputSet&gt;         &lt;outputSet&gt;         &lt;/outputSet&gt;       &lt;/ioSpecification&gt;       &lt;dataInputAssociation&gt;         &lt;sourceRef&gt;var1&lt;/sourceRef&gt;         &lt;targetRef&gt;_2_param1Input&lt;/targetRef&gt;       &lt;/dataInputAssociation&gt;       &lt;dataInputAssociation&gt;         &lt;sourceRef&gt;var2&lt;/sourceRef&gt;         &lt;targetRef&gt;_2_param2Input&lt;/targetRef&gt;       &lt;/dataInputAssociation&gt;       &lt;dataInputAssociation&gt;         &lt;targetRef&gt;_2_TaskNameInput&lt;/targetRef&gt;         &lt;assignment&gt;           &lt;from xsi:type="tFormalExpression"&gt;usertask1&lt;/from&gt;           &lt;to xsi:type="tFormalExpression"&gt;_2_TaskNameInput&lt;/to&gt;         &lt;/assignment&gt;       &lt;/dataInputAssociation&gt;       &lt;potentialOwner&gt;         &lt;resourceAssignmentExpression&gt;           &lt;formalExpression&gt;jalel&lt;/formalExpression&gt;         &lt;/resourceAssignmentExpression&gt;       &lt;/potentialOwner&gt;     &lt;/userTask&gt;     &lt;userTask id="_3" name="User Task2" &gt;       &lt;ioSpecification&gt;         &lt;dataInput id="_3_param3Input" name="param3" /&gt;         &lt;dataInput id="_3_param4Input" name="param4" /&gt;         &lt;dataInput id="_3_TaskNameInput" name="TaskName" /&gt;         &lt;inputSet&gt;           &lt;dataInputRefs&gt;_3_param3Input&lt;/dataInputRefs&gt;           &lt;dataInputRefs&gt;_3_param4Input&lt;/dataInputRefs&gt;           &lt;dataInputRefs&gt;_3_TaskNameInput&lt;/dataInputRefs&gt;         &lt;/inputSet&gt;         &lt;outputSet&gt;         &lt;/outputSet&gt;       &lt;/ioSpecification&gt;       &lt;dataInputAssociation&gt;         &lt;sourceRef&gt;var3&lt;/sourceRef&gt;         &lt;targetRef&gt;_3_param3Input&lt;/targetRef&gt;       &lt;/dataInputAssociation&gt;       &lt;dataInputAssociation&gt;         &lt;sourceRef&gt;var4&lt;/sourceRef&gt;         &lt;targetRef&gt;_3_param4Input&lt;/targetRef&gt;       &lt;/dataInputAssociation&gt;       &lt;dataInputAssociation&gt;         &lt;targetRef&gt;_3_TaskNameInput&lt;/targetRef&gt;         &lt;assignment&gt;           &lt;from xsi:type="tFormalExpression"&gt;usertask2&lt;/from&gt;           &lt;to xsi:type="tFormalExpression"&gt;_3_TaskNameInput&lt;/to&gt;         &lt;/assignment&gt;       &lt;/dataInputAssociation&gt;       &lt;potentialOwner&gt;         &lt;resourceAssignmentExpression&gt;           &lt;formalExpression&gt;karim&lt;/formalExpression&gt;         &lt;/resourceAssignmentExpression&gt;       &lt;/potentialOwner&gt;     &lt;/userTask&gt;     &lt;endEvent id="_4" name="End" &gt;         &lt;terminateEventDefinition/&gt;     &lt;/endEvent&gt;     &lt;!-- connections --&gt;     &lt;sequenceFlow id="_1-_2" sourceRef="_1" targetRef="_2" /&gt;     &lt;sequenceFlow id="_2-_3" sourceRef="_2" targetRef="_3" /&gt;     &lt;sequenceFlow id="_3-_4" sourceRef="_3" targetRef="_4" /&gt;   &lt;/process&gt;   &lt;bpmndi:BPMNDiagram&gt;     &lt;bpmndi:BPMNPlane bpmnElement="themasterbossexpl" &gt;       &lt;bpmndi:BPMNShape bpmnElement="_1" &gt;         &lt;dc:Bounds x="45" y="45" width="48" height="48" /&gt;       &lt;/bpmndi:BPMNShape&gt;       &lt;bpmndi:BPMNShape bpmnElement="_2" &gt;         &lt;dc:Bounds x="253" y="69" width="100" height="48" /&gt;       &lt;/bpmndi:BPMNShape&gt;       &lt;bpmndi:BPMNShape bpmnElement="_3" &gt;         &lt;dc:Bounds x="500" y="115" width="100" height="48" /&gt;       &lt;/bpmndi:BPMNShape&gt;       &lt;bpmndi:BPMNShape bpmnElement="_4" &gt;         &lt;dc:Bounds x="725" y="177" width="48" height="48" /&gt;       &lt;/bpmndi:BPMNShape&gt;       &lt;bpmndi:BPMNEdge bpmnElement="_1-_2" &gt;         &lt;di:waypoint x="69" y="69" /&gt;         &lt;di:waypoint x="303" y="93" /&gt;       &lt;/bpmndi:BPMNEdge&gt;       &lt;bpmndi:BPMNEdge bpmnElement="_2-_3" &gt;         &lt;di:waypoint x="303" y="93" /&gt;         &lt;di:waypoint x="550" y="139" /&gt;       &lt;/bpmndi:BPMNEdge&gt;       &lt;bpmndi:BPMNEdge bpmnElement="_3-_4" &gt;         &lt;di:waypoint x="550" y="139" /&gt;         &lt;di:waypoint x="749" y="201" /&gt;       &lt;/bpmndi:BPMNEdge&gt;     &lt;/bpmndi:BPMNPlane&gt;   &lt;/bpmndi:BPMNDiagram&gt; &lt;/definitions&gt; Thanx for help !</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>Stan, do you plan to include one specific version of MyFaces 2.x in JBoss AS? This would help adoption of Multi-JSF feature and simplify MyFaces integration testing heavily. Do you plan to allow switch default JSF module using VM args for AS? e.g. -Djsf.default=myfaces-xyz</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: LoginModule defined with cached=true, but called between web and ejb container</header>
    <body>Immediately after updating an application user's password in the database, JBoss throws javax.ejb.EJBAccessException: JBAS013323: Invalid User.  It appears that JBoss security attempts to reauthenticate the principal with every method invocation between web and ejb container, which fails because the principal's password has become stale.  I was surprised to see the UsernamePasswordLoginModule trying to login again, with the resulting "Password invalid/Password required" error.  I'm using 7.2.0.Alpha-1-SNAPSHOT.  Shouldn't this problem have been resolved ( https://issues.jboss.org/browse/AS7-3498 AS7-3498)?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: LoginModule defined with cached=true, but called between web and ejb container</header>
    <body>This shouldn't be happening. I'll setup a sample app here to see if I can reproduce what you're seeing.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: LoginModule defined with cached=true, but called between web and ejb container</header>
    <body>I think the problem is that SessionManager#logout (which programmatically logs out the user e.g. HttpServletRequest#logout)) is invoked before invoking LoginHistoryService#create.  SessionManager is a CDI bean and LoginHistoryService is SLSB.  I think the "Invalid User" is a result of logout removing the principal prior to invoking create on the SLSB. I'm looking into it, but want to let you know now what I think the problem is before you waste time on this.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: LoginModule defined with cached=true, but called between web and ejb container</header>
    <body>Sure enough, invoking LoginHistoryService#create before HttpServletRequest#logout solved the problem.  Sorry!  I should have caught that!  My fault for looking at code through blurry eyes at 4 AM.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: LoginModule defined with cached=true, but called between web and ejb container</header>
    <body>Heh, that's fine!  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: LoginModule defined with cached=true, but called between web and ejb container</header>
    <body>Hey Patrick.  :) Glad things worked out. You had us worried. Patrick, you should atone by helping the community by creating some kind of a quickstarter app (web,ejb) etc and show that this problem does not exist. Maybe a wiki article?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: LoginModule defined with cached=true, but called between web and ejb container</header>
    <body>Where should the wiki article go?  Community &gt;  Picketbox?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: LoginModule defined with cached=true, but called between web and ejb container</header>
    <body>You can put it anywhere you want.  Like AS7 or PicketBox user areas. We can link from other places. I absolutely love the community participation. We (users, JBoss devs) b$tch and complain when things don't work. Then we solve it. Then we create wiki articles or quickstarts. And the world is a better place. (Anil shuts up his philosophy now).  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: LoginModule defined with cached=true, but called between web and ejb container</header>
    <body>Okay I've put together a quickstart app, but I'm still confused about something.  If a method of a managed bean invokes HttpServletRequest#logout and HttpSession#invalidate and attempts to invoke a method on a secure EJB, this should be forbidden by JBoss security.  Is this true?  Because what I'm observing is that JBoss security only forbids such method invocation if the user's password has been changed in the underlying data source during the user's session.  As long as the user's password has not been changed the secure method can be invoked after the principal has been removed and after the session has been destroyed. Check out the attached application. 1.  Make a browser request against localhost/Foobar.  You will be redirected to index.xhtml. 2.  Login 3.  If login is successful, you will be served loggedIn.xhtml, a facelet that allows you to change the password or log out.  If you change the password loggedIn.xhtml is reloaded. 4.  Re-enter the password that you logged in with and click +Submit New Password+. 5.  Click +Logout Failure+, which programmatically logs you out and ends the session prior to looking up LoginHistoryService and invoking LoginHistoryService#create. 6.  Notice that no error occurred.  LoginHistoryService EJB, which is protected by @RolesAllowed("SYSTEM_ADMINISTRATOR"), was looked up and LoginHistoryService#create was invoked +after+ programmatic logout. 7.  Repeat steps 2 - 5 except on step 4 enter a different password.  Notice that in step 6 an error occurs, EJBAccessException: JBAS013323: Invalid User.  In the stack trace note the following: PBOX000206: Login failure: javax.security.auth.login.FailedLoginException: PBOX000070: Password invalid/Password required In both scenarios, above, the password was changed in the underlying database during the user's session.  Only difference being that in one case the password was identical to the login password and in the other case the password was changed to a different password.  In both cases HttpServletRequest#logout and HttpSession#invalidate were invoked +prior+ to invoking LoginHistoryService#create. 8.  Repeat steps 2 - 7 except on step 5 click +Logout Success+ instead of +Logout Failure+.  The only difference between +Logout Failure+ and +Logout Success+ is that LoginHistory#create is invoked prior to HttpServletRequest#logout and HttpSession#invalidate.  What step 8 demonstrates is that JBoss Security behaves as expected when LoginHistoryService#create is invoked prior to removing the principal and destroying the session. It seems that in the above scenarios JBoss Security should not attempt to authenticate the user after HttpServletRequest#logout is invoked.  Instead of attempting to authenticate it should be attempting to authorize, and if the principal has been removed the error should come back as follows: javax.ejb.EJBAccessException: JBAS014502: Invocation on method: public void com.foobar.service.LoginHistoryService.create(com.foobar.model.LoginHistory) of bean: LoginHistoryService is not allowed instead of the FailedLoginException. I will finish my wiki article and post it with the quickstart after this confusion is resolved.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: LoginModule defined with cached=true, but called between web and ejb container</header>
    <body>I believe the problem here is that you need to programmatically login with the new credentials so that the underlying security context can be updated. When you login (step 2) a security context is established in the web layer. This context contains the authenticated principal/password and is propagated to the EJB container when calling EJBs. It is established once the call is served by a thread and is cleaned up after the thread returns. In your example, you are invalidating the session and calling the EJB as part of the same method, so this is what happens: 1- context is established using the principal/password associated with the session, lets say userA/passA. 2- session.invalidate() is called, causing the security cache to purge the entry that corresponds to userA. 3- you call the LoginHistoryService EJB. The WEB layer will use the established security context to propagate the identity/password to the EJB container. As there is no cache entry for userA, a new authentication will take place and the DBLoginModule will be called.   3a - if you changed the DB password to the same password (passA), then the authentication will succeed as the exisiting context will propagate the userA/passA pair and this will match the values found in the DB.   3b - if you changed the password to a different password, then the authentication will fail because the existing context will propagate the userA/passA pair and the DB will have a different value for the password. This is why you see no error in the first case and a login failure in the second. When you call loginSuccess, you successfully invoke the EJB because the security cache is still active and the security context that was established in the web layer still reflect the correct username and password pair that exists in the DB. So when the invocation reaches the EJB container, the security cache is hit and the user is authenticated. Note that there's no way to escape authentication in the EJB container as all EJB calls are required to be authenticated by the EJB specification. Finally, you invalidate the session and return, so the existing security context is removed and when the client (browser) attempts to call a protected resource he should be redirected to the login page as the session has been terminated. I believe you can get around the error in the first scenario by calling request.login(username, newPass) after invoking logout (and before invoking the EJB) so that the web container updates the existing security context. This would cause the new username/password pair to be propagated to the EJB container in subsequent calls and you should get no errors from the EJB security layer.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>I don't know yet.  I agree that it would be nice.  Besides increasing the size of the AS7 download, there are lots of non-technical considerations as well. Definitely.  But I don't think it will be a system property.  My plan is to add a management option to the JSF subsystem.  So you will be able to set this in XML and/or via CLI.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: &lt;error-page&gt; not working for javax.ejb.NoSuchEJBException: JBAS016055</header>
    <body>Ok, thanks. In the meantime ill make a Errorpage directive in apache that returns a html page that includes a javascript callback to a logout.jsp in jboss.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: JBPM Designer Beta -	Simulator</header>
    <body>I found some bugs in source and made a fix to siumlator work</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - not getting the messages driven from java.util.logging logger</header>
    <body>Sir, We had project on ERP.In that we are using the CLogger class which is extended from java.util.logging.Logger.I am getting the log details driven from CLogger in jboss4.2.x. But when I migrate it from jaboss4 to jboss7 the log details are not showing...but when error comes its showing</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: not getting the messages driven from java.util.logging logger</header>
    <body>You might add  '-Dorg.jboss.as.logging.per-deployment=false' to the commandline if you start 'standalone.sh'. This disable scanning of logging configuration in your app.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: not getting the messages driven from java.util.logging logger</header>
    <body>Sir, I already tried the way you said by writing the statement in standalone.conf.But I didnt get the log details</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: not getting the messages driven from java.util.logging logger</header>
    <body>How does your packaging look like? Can you provide a bit more information.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - javax.ejb.EJBAccessException: Invalid User Jboss 5.1</header>
    <body>Hi This might be the routine question I am posting here, but I dont know what where else to post. My configuration Jboss 5.1.0 GA app server, EJB3 And I am trying to call a secured method on a SLSB. And I am constantly getting this exception javax.ejb.EJBAccessException: Invalid User     at org.jboss.ejb3.security.Ejb3AuthenticationInterceptorv2.invoke(Ejb3AuthenticationInterceptorv2.java:165)     at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)     at org.jboss.ejb3.ENCPropagationInterceptor.invoke(ENCPropagationInterceptor.java:41)     at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)     at org.jboss.ejb3.BlockContainerShutdownInterceptor.invoke(BlockContainerShutdownInterceptor.java:67)     at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)     at org.jboss.aspects.currentinvocation.CurrentInvocationInterceptor.invoke(CurrentInvocationInterceptor.java:67)     at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)     at org.jboss.ejb3.stateless.StatelessContainer.dynamicInvoke(StatelessContainer.java:421)     at org.jboss.ejb3.session.InvokableContextClassProxyHack._dynamicInvoke(InvokableContextClassProxyHack.java:53)     at org.jboss.aop.Dispatcher.invoke(Dispatcher.java:91)     at org.jboss.aspects.remoting.AOPRemotingInvocationHandler.invoke(AOPRemotingInvocationHandler.java:82)     at org.jboss.remoting.ServerInvoker.invoke(ServerInvoker.java:891)     at org.jboss.remoting.transport.socket.ServerThread.completeInvocation(ServerThread.java:744)     at org.jboss.remoting.transport.socket.ServerThread.processInvocation(ServerThread.java:697)     at org.jboss.remoting.transport.socket.ServerThread.dorun(ServerThread.java:524)     at org.jboss.remoting.transport.socket.ServerThread.run(ServerThread.java:232)     at org.jboss.remoting.MicroRemoteClientInvoker.invoke(MicroRemoteClientInvoker.java:211)     at org.jboss.remoting.Client.invoke(Client.java:1724)     at org.jboss.remoting.Client.invoke(Client.java:629)     at org.jboss.aspects.remoting.InvokeRemoteInterceptor.invoke(InvokeRemoteInterceptor.java:60)     at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)     at org.jboss.aspects.tx.ClientTxPropagationInterceptor.invoke(ClientTxPropagationInterceptor.java:61)     at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)     at org.jboss.ejb3.security.client.SecurityClientInterceptor.invoke(SecurityClientInterceptor.java:65)     at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)     at org.jboss.ejb3.remoting.IsLocalInterceptor.invoke(IsLocalInterceptor.java:74)     at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)     at org.jboss.aspects.remoting.PojiProxy.invoke(PojiProxy.java:62)     at $Proxy3.invoke(Unknown Source)     at org.jboss.ejb3.proxy.impl.handler.session.SessionProxyInvocationHandlerBase.invoke(SessionProxyInvocationHandlerBase.java:207)     at org.jboss.ejb3.proxy.impl.handler.session.SessionProxyInvocationHandlerBase.invoke(SessionProxyInvocationHandlerBase.java:164)     at $Proxy2.getAllNetworkElements(Unknown Source)     at tryouts.ejb3.Client.start(Client.java:49)     at tryouts.ejb3.Client.main(Client.java:33)     at org.jboss.aspects.remoting.InvokeRemoteInterceptor.invoke(InvokeRemoteInterceptor.java:72)     at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)     at org.jboss.aspects.tx.ClientTxPropagationInterceptor.invoke(ClientTxPropagationInterceptor.java:61)     at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)     at org.jboss.ejb3.security.client.SecurityClientInterceptor.invoke(SecurityClientInterceptor.java:65)     at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)     at org.jboss.ejb3.remoting.IsLocalInterceptor.invoke(IsLocalInterceptor.java:74)     at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)     at org.jboss.aspects.remoting.PojiProxy.invoke(PojiProxy.java:62)     at $Proxy3.invoke(Unknown Source)     at org.jboss.ejb3.proxy.impl.handler.session.SessionProxyInvocationHandlerBase.invoke(SessionProxyInvocationHandlerBase.java:207)     at org.jboss.ejb3.proxy.impl.handler.session.SessionProxyInvocationHandlerBase.invoke(SessionProxyInvocationHandlerBase.java:164)     at $Proxy2.getAllNetworkElements(Unknown Source)     at tryouts.ejb3.Client.start(Client.java:49)     at tryouts.ejb3.Client.main(Client.java:33) I have gone through the security FAQ " https://community.jboss.org/docs/DOC-12198 https://community.jboss.org/wiki/SecurityFAQ" and did the same thing in my client code. Client.java public class Client     public static void main(String[] args)     private void start()         try         catch ( Exception ex )     class MyCallbackHandler implements CallbackHandler         public MyCallbackHandler(String uid, String pid )         @Override         public void handle( Callback[] callbacks ) throws IOException, UnsupportedCallbackException             for ( Callback cb : callbacks )                 if ( cb instanceof NameCallback )                 else if ( cb instanceof PasswordCallback )                 else auth.conf in META-INF directory: Can someone please help or point me to a working example in this forum or elsewhere in internet.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - Re: javax.ejb.EJBAccessException: Invalid User Jboss 5.1</header>
    <body>Hi folks Sorry for spaming this blog, the method explained in FAQ works absolutely fine, in my case the server side component was protected with the encrypted password. And i had to provide that encrypted password instead of a plain one. I got this by enabling the security TRACE logs  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Integration of JBPM into a	web application</header>
    <body>Hello everybody, I started creating a JBPM5 project, witch includes some functions to call in a main class. It runs perfectly. I created also a web application, witch contains 2 web pages  (a web page A with a button to go to the web page B). It works too. Now i wanna use a function from the JBPM project, and call it via the button action (I used a managed bean) of my web page. I tryed to call my JBPM project as Jar file, it generated an error saying : " GRAVE: Exception lors de l'envoi de l'évènement contexte initialisé (context initialized) à l'instance de classe d'écoute (listener) com.sun.faces.config.ConfigureListener java.lang.LinkageError: loader constraint violation: when resolving interface method "javax.servlet.jsp.JspApplicationContext.getExpressionFactory()Ljavax/el/ExpressionFactory;" the class loader (instance of org/apache/catalina/loader/WebappClassLoader) of the current class, com/sun/faces/config/ConfigureListener, and the class loader (instance of org/apache/catalina/loader/StandardClassLoader) for resolved class, javax/servlet/jsp/JspApplicationContext, have different Class objects for the type javax/el/ExpressionFactory used in the signature     at com.sun.faces.config.ConfigureListener.registerELResolverAndListenerWithJsp(ConfigureListener.java:1595)     at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:419)     at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3972)     at org.apache.catalina.core.StandardContext.start(StandardContext.java:4467)     at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)     at org.apache.catalina.core.StandardHost.start(StandardHost.java:785)     at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)     at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)     at org.apache.catalina.core.StandardService.start(StandardService.java:519)     at org.apache.catalina.core.StandardServer.start(StandardServer.java:710)     at org.apache.catalina.startup.Catalina.start(Catalina.java:581)     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)     at java.lang.reflect.Method.invoke(Method.java:597)     at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)     at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414) org.apache.catalina.core.StandardContext start " I thought to use web services, I'm not sure if it will help. The idea is to use functions, from my JBPM project, into a web application. Any help please !</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Integration of JBPM into a web application</header>
    <body>In another way, I wanna my Web Application to communicate with my JBPM</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Is it possible to include a WHERE type clause in CLI ?</header>
    <body>Where would I be using tab completion ? Did you mean the CLI UI ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Is it possible to include a WHERE type clause in CLI ?</header>
    <body>If you start interactive mode with 'bin/jboss-cli.sh --connect'' you can use the TAB to complete key's, attributes, attribute-values, commands etc.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Is it possible to include a WHERE type clause in CLI ?</header>
    <body>Thanks for the help guys!  Much appreciated. Looks like the only applicable options for me would be to use the APIs at runtime and try a two stage lookup, or have the value available elsewhere on the premise that the cache container is not removed. It cannot be renamed in any case.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Is it possible to include a WHERE type clause in CLI ?</header>
    <body>Ahh, I think I understand...tab completion in the CLI command line shows me which commands are available. Thanks</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Is it possible to include a WHERE type clause in CLI ?</header>
    <body>yep thats it, for Linux shell users (bash) it is very normal  ;)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBOSS EAP 6.0	Deployment of war failure</header>
    <body>Hi, My application war works fine in Weblogic and Tomcat but same war I am uanble to deploy in Jboss EAP 6.0. My application server is going to migrate on Jboss EAP. Please help me why its failing. 14:18:46,145 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015876: Starting deployment of "fiveseries.war" 14:18:53,665 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015960: Class Path entry xml-apis.jar in /C:/Program Files/jboss-eap-6.0.0/jboss-eap-6.0/standalone/deployments/fiveseries.war/WEB-INF/lib/ant-1.5.jar  does not point to a valid jar for a Class-Path reference. 14:18:53,665 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015960: Class Path entry xercesImpl.jar in /C:/Program Files/jboss-eap-6.0.0/jboss-eap-6.0/standalone/deployments/fiveseries.war/WEB-INF/lib/ant-1.5.jar  does not point to a valid jar for a Class-Path reference. 14:18:53,665 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015960: Class Path entry optional.jar in /C:/Program Files/jboss-eap-6.0.0/jboss-eap-6.0/standalone/deployments/fiveseries.war/WEB-INF/lib/ant-1.5.jar  does not point to a valid jar for a Class-Path reference. 14:18:53,665 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015960: Class Path entry xalan.jar in /C:/Program Files/jboss-eap-6.0.0/jboss-eap-6.0/standalone/deployments/fiveseries.war/WEB-INF/lib/ant-1.5.jar  does not point to a valid jar for a Class-Path reference. 14:18:53,675 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015960: Class Path entry activation.jar in /C:/Program Files/jboss-eap-6.0.0/jboss-eap-6.0/standalone/deployments/fiveseries.war/WEB-INF/lib/mail-1.4.jar  does not point to a valid jar for a Class-Path reference. 14:19:02,058 INFO  [org.jboss.as.osgi] (MSC service thread 1-3) JBAS011908: Unregister module: Module "deployment.fiveseries.war:main" from Service Module Loader 14:19:05,228 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015877: Stopped deployment fiveseries.war in 3303ms Thanks, Amit</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBOSS EAP 6.0 Deployment of war failure</header>
    <body>Hi and welcome to forums. can you post output of it will give us the structure of your war, especialy all the jars you have in web-inf/lib. -- tomaz</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBOSS EAP 6.0 Deployment of war failure</header>
    <body>I'm not sure but often ' ' in path names are a problem. You should move out of 'Program Files' and test again, maybe it works. Also you check the Java path as well.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBOSS EAP 6.0 Deployment of war failure</header>
    <body>Hi Tomaz, While using jar tf command I am unable to capture all the details in console. However I am uploading the screen shot of my jar structure. Also I am using Eclips to deploy my War to Jboss so Path should not be problem for this. Let me know if you find anything from the structure. Thanks, Amit</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBOSS EAP 6.0 Deployment of war failure</header>
    <body>Check if the struts-el jar contains a META-INF MANIFEST with some strange Class-path entries</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBOSS EAP 6.0 Deployment of war failure</header>
    <body>Hi Nicklas, I checked and found no issue there. Manifest-Version: 1.0 Archiver-Version: Plexus Archiver Created-By: Apache Maven Built-By: Paul Build-Jdk: 1.6.0_01 Specification-Title: Struts EL Specification-Version: 1.3.9 Specification-Vendor: Apache Software Foundation Implementation-Title: Struts EL Implementation-Version: 1.3.9 Implementation-Vendor-Id: org.apache.struts Implementation-Vendor: Apache Software Foundation Thanks, Amit ﻿</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBOSS EAP 6.0 Deployment of war failure</header>
    <body>I got the issue and resolved it. Its working fine in my local now. it was starange issue related to resourse-ref. When I commented out all the resource ref entry of my web.xml its deployed without any issue. thanks all for your help. Amit</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - TransactionMonitoringAndVisualization</header>
    <body>RE: Data Model To capture some extra information we discussed, it will be useful to maintain a separate table of participants that each participant record links to. We discussed the naming of the "ParticipantRecord" entity, initially we discounted "Branch" as this was determined as possibly too XA specific (tbd). To extend on this, there would be expected to be few "ResourceManager" rows, but many "ParticipantRecord" rows. We also discussed that we should maintain timestamps for everything, for example when the Transaction is created, prepared, suspended. This also implies we would probably want to keep a list of the state changes that the transaction has gone through rather than a single status field. I am not so sure about this, do we want to be able to replay the transaction state changes or give a view of the current transaction state (tbd). Also, the ParticipantRecord is only maintaining the "vote" field. It is possible that the record can be suspended/resumed, so I think maybe that needs a status field instead of vote field (perhaps a list if we are supporting replay). You are going to need to consider what a subordinate coordinator (JTS) is in the data model. In JTS it sits behind a participant style interface functionally but in this model I don't think you would want to record it as such. You can either use the Transaction table (add a nullable list of subordinate transactions and a nullable parent) or create a new table for it. Most properties would remain the same so tbd what the best course of action is. Related to this, we discussed how it would be possible when different nodes are processing their logs in parallel and submitting to the database, it would be possible that the subordinate coordinator was added before the parent so we need to consider how that would work. When a parent is added it will know the subordinates so you will know when you have the full picture.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - TransactionMonitoringAndVisualization</header>
    <body>As you point out in the article, we should consider the performance implications of this. Perhaps we can provide a logger that doesn't write to file system but maybe sends the message off node for processing using a lightweight networking framework. We should consider the implication of lost log statements or out of order log statements as I guess log4j does not guarantee statements are written to disk. (It will be a background thread and won't be synced at a guess).</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - TransactionMonitoringAndVisualization</header>
    <body>Why not just turn on those log messages that are pertinent to the status and outcome of the transaction? Also, remember that we do have statistical gathering classes within JBossTS that already maintain some of this information.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - TransactionMonitoringAndVisualization</header>
    <body>"JTS may tolerate this, but distributed JTA and bridged WS-AT to JTA does not." If true then sounds more like a bug that needs to be fixed.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - TransactionMonitoringAndVisualization</header>
    <body>"*Inflight*. Show transactions currently inflight" At least for JTS this is available at runtime by calling the right method on the TransactionFactory. Much better to investigate similar approaches for other transaction implementations than rely on logging, since the runtime impact on performance is much less.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - TransactionMonitoringAndVisualization</header>
    <body>"IBM seem to have an API for being notified of all completed transactions." We have APIs too, but you can always register a Synchronisation.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - TransactionMonitoringAndVisualization</header>
    <body>"Update Narayana to dump a lot of data when the transaction fails. Same as the Byteman approach, but will be useful for more users." Yes, but what about the performance impact on the rest of the system and users when this happens? Furthermore, define "fails" because if the application has told the transaction to rollback then the information needed is different to if the reaper forces it to rollback, for instance. Plus, maintaining data for all transactions throughout their life just so that it can be dumped out in the small case that the transaction rolls back seems of dubious benefit to the 99.99% of users who don't have failing transactions.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - How To Build JBoss	Tools 4.1 FAQ</header>
    <body>https://community.jboss.org/4.5.6/images/tiny_mce3/plugins/jiveemoticons/images/spacer.gif  https://community.jboss.org/4.5.6/images/tiny_mce3/plugins/jiveemoticons/images/spacer.gif *Frequently Asked Questions: How Do I Build JBoss Tools 4.1?* * * *+How do I configure my settings.xml?+* * Follow https://community.jboss.org/docs/DOC-15170  these instructions to add reference to JBoss Repositories into your settings.xml. You'll also probably need access to the SNAPSHOT repository. So here is what you should see in your ~/.m2/settings.xml &lt;settings xmlns="http://maven.apache.org/SETTINGS/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd"&gt;    ....     &lt;profiles&gt;         ....         &lt;profile&gt;             &lt;id&gt;jboss-default&lt;/id&gt;             &lt;repositories&gt;                 &lt;!-- To resolve parent artifact --&gt;                 &lt;repository&gt;                     &lt;id&gt;jboss-public-repository-group&lt;/id&gt;                     &lt;name&gt;JBoss Public Repository Group&lt;/name&gt;                     &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;                 &lt;/repository&gt;                 &lt;repository&gt;                     &lt;id&gt;jboss-snapshots-repository&lt;/id&gt;                     &lt;name&gt;JBoss Snapshots Repository&lt;/name&gt;                     &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/snapshots/&lt;/url&gt;                 &lt;/repository&gt;             &lt;/repositories&gt;             &lt;pluginRepositories&gt;                         &lt;!-- To resolve parent artifact --&gt;                         &lt;pluginRepository&gt;                                 &lt;id&gt;jboss-public-repository-group&lt;/id&gt;                                 &lt;name&gt;JBoss Public Repository Group&lt;/name&gt;                                 &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;                         &lt;/pluginRepository&gt;                         &lt;pluginRepository&gt;                                 &lt;id&gt;jboss-snapshots-repository&lt;/id&gt;                                 &lt;name&gt;JBoss Snapshots Repository&lt;/name&gt;                                 &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/snapshots/&lt;/url&gt;                         &lt;/pluginRepository&gt;                 &lt;/pluginRepositories&gt;         &lt;/profile&gt;     &lt;/profiles&gt;     &lt;activeProfiles&gt;         &lt;activeProfile&gt;jboss-default&lt;/activeProfile&gt;         ...     &lt;/activeProfiles&gt; &lt;/settings&gt; +*My build is failing due to OutOfMemory or PermGen issues! How do I give Maven more memory?*+ +* *+ * To configure the amount of memory used by Maven, you can define MVN_OPTS as follows, either in the mvn / mvn.bat script you use to run Maven, or set as global environment variables. Here's how to do so for  http://forums.fedoraforum.org/showthread.php?t=262465 Fedora,  https://help.ubuntu.com/community/EnvironmentVariables Ubuntu,  http://forums.techarena.in/windows-xp-support/1152405.htm Windows,  http://www.digitaledgesw.com/node/31 OSX. set MAVEN_OPTS=-Xms512m -Xmx1024m -XX:PermSize=128m -XX:MaxPermSize=256m +*How do I build via commandline?*+ 1. Fetch code from github 2. Run maven 3. Repeat for other projects cd ~/jbosstools git clone https://github.com/jbosstools/jbosstools-base cd ~/jbosstools/jbosstools-base mvn verify +*How do I build in Eclipse (with m2e)?*+ * With m2e installed, you can either do *CTRL-SHIFT-X,M (Run Maven Build),* or right-click the project and select *Run As &gt; Maven Build*. See  https://community.jboss.org/docs/DOC-47936#Building_Locally_In_Eclipse How To Build JBoss Tools 4 - Building Locally In Eclipse +*How do I build a single project?*+ * Generally, you need only fetch the sources, and run `mvn verify`. See 'How do I build via commandline?' or 'How do I build in Eclipse (with m2e)?' above. +* *+ +*How do I build a series of projects (eg., Base, Server, Webservices) ?*+ * Assuming your goal is to change sources in *multiple* projects, then build them all to verify everything still compiles, you will need to fetch sources, then build the projects in dependency order. * This workflow is useful when you're looking to change framework code in an upstream project like Base on which Webservices or Server depends, and verify that API changes don't break the downstream project's code. * Rather than using `mvn verify`, you must use `*mvn install*` so that the downstream build will use YOUR locally-built content in your ~/.m2, rather than looking to the internet for the last published upstream dependencies. cd ~/jbosstools git clone https://github.com/jbosstools/jbosstools-base git clone https://github.com/jbosstools/jbosstools-server git clone https://github.com/jbosstools/jbosstools-webservices cd ~/jbosstools/jbosstools-base; mvn install cd ~/jbosstools/jbosstools-server; mvn install cd ~/jbosstools/jbosstools-webservices; mvn verify +*Which is better - `mvn clean install` or `mvn verify` ?*+ * Use `*install*` to create artifacts in your ~/.m2 folder which will be checked when building anything which depends on those artifacts (in addition to checking the internet). Also useful for doing subsequent offline builds with the `*-o*` or `*--offline*` flag. * Use `*verify*` to build, but NOT install anything into your ~/.m2 folder. +*How do I clean out artifacts I might have installed to my ~/.m2/repo ?*+ +*What if I've already built something locally, but I want to build against the server version instead of my local repo?*+ * There are  http://wiki.eclipse.org/Tycho/Target_Platform#Locally_built_artifacts two approaches that work here: 0.1. override temporarily when building, using *-Dtycho.localArtifacts=ignore*, or 0.2. delete *~/.m2/repository/.meta/p2-local-metadata.properties* +*How do I build a target platform?*+ * Currently, you should not need to build a target platform locally if you're building w/ maven via commandline. But if you'd like to materialize a target platform for use in Eclipse, you can do so like this: 1. Fetch target platforms project from github 2. Switch to the correct branch 3. Run maven 4. Results will be in jbosstools/multiple/target/jbosstools-multiple.target.repo/ or jbdevstudio/multiple/target/jbdevstudio-multiple.target.repo/ cd ~/jbosstools git clone https://github.com/jbosstools/jbosstools-target-platforms cd ~/jbosstools/jbosstools-target-platforms git checkout 4.30.x mvn install cd ~/jbosstools/jbosstools-target-platforms/jbosstools/multiple/target/jbosstools-multiple.target.repo/ +*How do I ignore MD5sum checks when resolving dependencies or building?*+ * If for some reason the site against which you're buidling has invalid metadata (perhaps because the site's IUs were pack200'd AFTER the artifacts.xml / content.xml metadata was created) you may get errors like "MD5 hash is not as expected". To ignore these errors, simply build like this: mvn install -Declipse.p2.MD5ArtifactCheck=false -Declipse.p2.MD5Check=false +* *+ +*Why is there more than one target platform?*+ * Every time we make changes to the target platform, either to add/remove something, or to change the included version, we release a new version. * In order to verify we can build against the oldest version of a target platform (eg., one based on Eclipse 4.2.0, or "minimum" target platform) but also run tests against the latest for that stream (eg., based on Eclipse 4.2.2, or "maximum" target platform), we need to maintain multiple versions. * By default, your build will use the default "minimum" target platform specified in the JBoss Tools parent pom. To easily build against the default "maximum", use *-Pmaximum*. See also 'What profiles do I need to build? What Maven properties are useful when building?' +*How do I specify which target platform to use when building?*+ +* *+ * See 'What profiles do I need to build? What Maven properties are useful when building?' +*How to I skip running  tests? How do I make tests not fail? Or only fail after ALL tests run? *+ +* *+ * To skip running tests, you can use these Maven flags:* *-Dmaven.test.skip=true* * *-DskipTests* * If your reason for skipping tests is to see if everything can run without being stuck on the first test failure, you might also like these flags:* *-fae*, *--fail-at-end* : Fail at end of build only * *-fn*, *--fail-never* : Never fail the build regardless of result * You can also cause test failures to result in JUnit output without failing the build using these flags:* *-Dmaven.test.error.ignore=true* * *-Dmaven.test.failure.ignore=true* +*How can I debug tests in Eclipse when run from Tycho (with Surefire)?*+ +* *+ * See  http://www.jboss.org/tools/docs/testing.html http://www.jboss.org/tools/docs/testing.html +*How do I build docs?*+ +* *+ * See  https://community.jboss.org/docs/DOC-13341 Building JBoss Tools Documentation. +*What profiles do I need to build? What Maven properties are useful when building? *+ * Most of the time, you don't need any profiles or -D properties. Here are some profiles and properties you might want to use in special cases. ** *-Pmaximum* : selects the default maximum target platform version instead of the default minimum one. Useful when running tests to verify that your code works against a newer target platform (eg., Eclipse 4.2.2 instead of 4.2.0) ** *-DTARGET_PLATFORM_VERSION* : allows you to pick a specific target platform version from those available in Nexus. * See also 'How to I skip running  tests? How do I make tests not fail? Or only fail after ALL tests run?' above for test-related properties. +*How do I see what's happening on a remote slave running Xvfb? *+ +* *++*Anything else?*+ * See also this FAQ:  https://community.jboss.org/docs/DOC-10796 https://community.jboss.org/wiki/JBossToolsFAQ +* *+</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Invoke JBPM process from	drl file</header>
    <body>Hi Friends, Could you please someone help me for how to invoke/call JBPM process from drl? I need to call different JBPM process from drl file based on the condition.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How to retrieve JBPM outcome from outside world</header>
    <body>Hi Friends, Could you please someone help me for How to retrieve JBPM returned value from outside JBPM. Please suggest me some ways to do the same.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - TransactionMonitoringAndVisualization</header>
    <body>Mark, I think this covers most of your comments above... I agree that gathering extensive information on every transaction is very costly. However, we are not proposing that this tool be used routinely in production. I think the sensible thing to do is to gather aggregate information in such a way that has minimal impact on the running system. We seem to have this mostly covered at the moment as we can obtain, rollback, commit and in-flight transaction counters. This is great for identifying the presence of a problem, but IMO, in many cases the user would then need to turn up the logging to establish the root cause of the problem. This is similar to how developers improve the performance of a system. Aggregate data (i.e. average throughput, average response times) is used to identify that we have a problem. The developer then attaches a profiler to identify the root cause of the performance problem. I see this tool more as a profiling tool to be used when the aggregate data has identified an issue. In which case, the overhead of gathering this data is less of an issue, assuming it doesn't impact the system to the point where it skews the data being gathered. The benefit of parsing the logs to get this data is that: 1) It can be done retrospectively from a user's log 2) We can automate the detection of common issues that would typically relied on a user/GSS/Transactions team person eye balling the logs. 3) We validate that the logs contain all the information required to detect these issues (assuming the right level is set). We were planning on having a meeting with the Transactions specialists in GSS to find out there views on this tool and to target some high priority issues that Alex could focus on for his prototype. In an ideal world, we'd like this tool to filter out more support issues at each level. I.e users discover the problem without needing to raise a support ticket; GSS discover the problem without having to contact the transactions team for help.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - TransactionMonitoringAndVisualization</header>
    <body>Mark, For JTA distributed over WS-AT, it is a known and documented issue. I've now created a Jira for it here  https://issues.jboss.org/browse/JBTM-1688 https://issues.jboss.org/browse/JBTM-1688 Tom knows more about the distributed JTA issue than I do. I'll discuss it with him when he returns next week.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: hello, all ! How to integrate jbpm5 into my web application ?</header>
    <body>Ammy, This may help you with the web application.. https://community.jboss.org/people/roxy1987/blog/2013/01/22/jbpm5-web-application-example https://community.jboss.org/people/roxy1987/blog/2013/01/22/jbpm5-web-application-example For other stuff, User guide should is the best source. ﻿</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: How to get the task	workItemId</header>
    <body>To get the workitem id, this is what you can do.. First you need the object Task. Once you have the object, you can use it like following to get workitem id.. Regards,</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How can i get the human task id defined in bpmn files?</header>
    <body>this taskid is not the the human task id defined in bpmn files,but how can i get the  the human task id defined in bpmn files here.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: How can i get the human task id defined in bpmn files?</header>
    <body>I believe you have the process instance ID. So you can find the process definition id using the instance id first. Using the process def id, you will need to find the Process object to get the node related information. Here is what you can do, String strProcessDefId = JPAProcessInstanceDbLog.findProcessInstance(intProcessInstId).getProcessId(); // Get process def id.    readKnowledgeBase(); // Get the knowledge base by feeding it the process name. Process objProcess = objKBase.getProcess(strProcessDefId); // Process object.    for (Node objNode : ((WorkflowProcessImpl) objProcess).getNodes()) Regards.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Javassist Development] - Using Javassist on	Eclipse</header>
    <body>Greetings, I'm starting with Javassist, I have implemented an example of Hello World with following code:                        public static void modifyByteCode(String className ,String methodName)        //Get the Class implementation byte code          //Get the method from the Class byte code          /**         * Creating the new Method implementation         */          /**         * Inserting the content         */         //modify the actual class File This example has already worked well compiling classes from console. My question is about what I need to implement this example in Eclipse? It must have some sort of special consideration? Thank you for your help.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - java.lang.IllegalArgumentException: attempting to begin pageflow but required org.jboss.seam.bpm.jbpm component is not installed</header>
    <body>Hi Everyone.Can anyone tell me what dependencies should i put in my pom.xml or what the jars needed to intergrate the jbpm with my GateIn portlet.I am planning to use drools and jbpm in my portlet. Im using seam 2.3 ,jsf 2.1, richfaces 4 and jboss AS 7. I added this inside my component.xml xmlns:bpm=http://jboss.com/products/seam/bpm so that this one will work. &lt;bpm:jbpm&gt;         &lt;bpm:pageflow-definitions&gt;             &lt;value&gt;pageflow.jpdl.xml&lt;/value&gt;         &lt;/bpm:pageflow-definitions&gt;     &lt;/bpm:jbpm&gt; How to get rid of the error?Thanks in advance.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: java.lang.IllegalArgumentException: attempting to begin pageflow but required org.jboss.seam.bpm.jbpm component is not installed</header>
    <body>Hi, I'm also facing same problem.Any suggestion? Thanks, Gai3</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS 7 Management	versions</header>
    <body>This shows the management versions of the various subsystems for released AS 7 versions. The tables are generated by starting the target AS 7 version using standalone.sh --server-config=standalone-full-ha.xml and running org.jboss.as.controller.util.GrabModelVersionsUtil (in controller/src/test) Known issues between management versions are documented in  https://community.jboss.org/docs/DOC-19586 AS7ManagementVersionsKnownIssues. h2. 7.1.2.Final || Subsystem || Management Version || Schemas (http://www.jboss.org/schema/jbossas/) || | *Standalone core* | 1.2.0 | | | *cmp* | 1.0.0 | urn:jboss:domain:cmp:1.0 | | *configadmin* | 1.0.0 | urn:jboss:domain:configadmin:1.0 | | *datasources* | 1.1.0 | urn:jboss:domain:datasources:1.0 urn:jboss:domain:datasources:1.1 | | *deployment-scanner* | 1.0.0 | urn:jboss:domain:deployment-scanner:1.0 urn:jboss:domain:deployment-scanner:1.1 | | *ee* | 1.0.0 | urn:jboss:domain:ee:1.0 urn:jboss:domain:ee:1.1 | | *ejb3* | 1.1.0 | urn:jboss:domain:ejb3:1.0 urn:jboss:domain:ejb3:1.1 urn:jboss:domain:ejb3:1.2 urn:jboss:domain:ejb3:1.3 | | *infinispan* | 1.3.0 | urn:jboss:domain:infinispan:1.0 urn:jboss:domain:infinispan:1.1 urn:jboss:domain:infinispan:1.2 urn:jboss:domain:infinispan:1.3 | | *jacorb* | 1.1.0 | urn:jboss:domain:jacorb:1.0 urn:jboss:domain:jacorb:1.1 urn:jboss:domain:jacorb:1.2 | | *jaxr* | 1.1.0 | urn:jboss:domain:jaxr:1.1 urn:jboss:domain:jaxr:1.0 | | *jaxrs* | 1.0.0 | urn:jboss:domain:jaxrs:1.0 | | *jca* | 1.1.0 | urn:jboss:domain:jca:1.0 urn:jboss:domain:jca:1.1 | | *jdr* | 1.0.0 | urn:jboss:domain:jdr:1.0 | | *jgroups* | 1.1.0 | urn:jboss:domain:jgroups:1.0 urn:jboss:domain:jgroups:1.1 | | *jmx* | 1.0.0 | urn:jboss:domain:jmx:1.0 urn:jboss:domain:jmx:1.1 | | *jpa* | 1.1.0 | urn:jboss:domain:jpa:1.0 | | *jsr77* | 1.0.0 | urn:jboss:domain:jsr77:1.0 | | *logging* | 1.1.0 | urn:jboss:domain:logging:1.0 urn:jboss:domain:logging:1.1 | | *mail* | 1.1.0 | urn:jboss:domain:mail:1.0 | | *messaging* | 1.1.0 | urn:jboss:domain:messaging:1.0 urn:jboss:domain:messaging:1.1 urn:jboss:domain:messaging:1.2 | | *modcluster* | 1.2.0 | urn:jboss:domain:modcluster:1.0 urn:jboss:domain:modcluster:1.1 | | *naming* | 1.1.0 | urn:jboss:domain:naming:1.0 urn:jboss:domain:naming:1.1 urn:jboss:domain:naming:1.2 | | *osgi* | 1.0.0 | urn:jboss:domain:osgi:1.0 urn:jboss:domain:osgi:1.1 urn:jboss:domain:osgi:1.2 | | *pojo* | 1.0.0 | urn:jboss:domain:pojo:1.0 | | *remoting* | 1.1.0 | urn:jboss:domain:remoting:1.0 urn:jboss:domain:remoting:1.1 | | *resource-adapters* | 1.1.0 | urn:jboss:domain:resource-adapters:1.0 | | *sar* | 1.0.0 | urn:jboss:domain:sar:1.0 | | *security* | 1.1.0 | urn:jboss:domain:security:1.0 urn:jboss:domain:security:1.1 urn:jboss:domain:security:1.2 | | *threads* | 1.0.0 | urn:jboss:domain:threads:1.1 urn:jboss:domain:threads:1.0 | | *transactions* | 1.1.0 | urn:jboss:domain:transactions:1.0 urn:jboss:domain:transactions:1.1 urn:jboss:domain:transactions:1.2 | | *web* | 1.1.0 | urn:jboss:domain:web:1.1 urn:jboss:domain:web:1.0 | | *webservices* | 1.1.0 | urn:jboss:domain:webservices:1.0 urn:jboss:domain:webservices:1.1 | | *weld* | 1.0.0 | urn:jboss:domain:weld:1.0 | h2. 7.1.3.Final || Subsystem || Management Version || Schemas || | *Standalone core* | 1.3.0 | | | *cmp* | 1.0.0 | urn:jboss:domain:cmp:1.0 | | *configadmin* | 1.0.0 | urn:jboss:domain:configadmin:1.0 | | *datasources* | 1.1.0 | urn:jboss:domain:datasources:1.0 urn:jboss:domain:datasources:1.1 | | *deployment-scanner* | 1.0.0 | urn:jboss:domain:deployment-scanner:1.0 urn:jboss:domain:deployment-scanner:1.1 | | *ee* | 1.0.0 | urn:jboss:domain:ee:1.0 urn:jboss:domain:ee:1.1 | | *ejb3* | 1.1.0 | urn:jboss:domain:ejb3:1.0 urn:jboss:domain:ejb3:1.1 urn:jboss:domain:ejb3:1.2 urn:jboss:domain:ejb3:1.3 | | *infinispan* | 1.3.0 | urn:jboss:domain:infinispan:1.0 urn:jboss:domain:infinispan:1.1 urn:jboss:domain:infinispan:1.2 urn:jboss:domain:infinispan:1.3 | | *jacorb* | 1.1.0 | urn:jboss:domain:jacorb:1.0 urn:jboss:domain:jacorb:1.1 urn:jboss:domain:jacorb:1.2 | | *jaxr* | 1.1.0 | urn:jboss:domain:jaxr:1.1 urn:jboss:domain:jaxr:1.0 | | *jaxrs* | 1.0.0 | urn:jboss:domain:jaxrs:1.0 | | *jca* | 1.1.0 | urn:jboss:domain:jca:1.0 urn:jboss:domain:jca:1.1 | | *jdr* | 1.0.0 | urn:jboss:domain:jdr:1.0 | | *jgroups* | 1.1.0 | urn:jboss:domain:jgroups:1.0 urn:jboss:domain:jgroups:1.1 | | *jmx* | 1.0.0 | urn:jboss:domain:jmx:1.0 urn:jboss:domain:jmx:1.1 | | *jpa* | 1.1.0 | urn:jboss:domain:jpa:1.0 | | *jsr77* | 1.0.0 | urn:jboss:domain:jsr77:1.0 | | *logging* | 1.1.0 | urn:jboss:domain:logging:1.0 urn:jboss:domain:logging:1.1 | | *mail* | 1.1.0 | urn:jboss:domain:mail:1.0 | | *messaging* | 1.1.0 | urn:jboss:domain:messaging:1.0 urn:jboss:domain:messaging:1.1 urn:jboss:domain:messaging:1.2 | | *modcluster* | 1.2.0 | urn:jboss:domain:modcluster:1.0 urn:jboss:domain:modcluster:1.1 | | *naming* | 1.1.0 | urn:jboss:domain:naming:1.0 urn:jboss:domain:naming:1.1 urn:jboss:domain:naming:1.2 | | *osgi* | 1.0.0 | urn:jboss:domain:osgi:1.0 urn:jboss:domain:osgi:1.1 urn:jboss:domain:osgi:1.2 | | *pojo* | 1.0.0 | urn:jboss:domain:pojo:1.0 | | *remoting* | 1.1.0 | urn:jboss:domain:remoting:1.0 urn:jboss:domain:remoting:1.1 | | *resource-adapters* | 1.1.0 | urn:jboss:domain:resource-adapters:1.0 | | *sar* | 1.0.0 | urn:jboss:domain:sar:1.0 | | *security* | 1.1.0 | urn:jboss:domain:security:1.0 urn:jboss:domain:security:1.1 urn:jboss:domain:security:1.2 | | *threads* | 1.0.0 | urn:jboss:domain:threads:1.1 urn:jboss:domain:threads:1.0 | | *transactions* | 1.1.1 | urn:jboss:domain:transactions:1.0 urn:jboss:domain:transactions:1.1 urn:jboss:domain:transactions:1.2 | | *web* | 1.1.1 | urn:jboss:domain:web:1.2 urn:jboss:domain:web:1.1 urn:jboss:domain:web:1.0 | | *webservices* | 1.1.0 | urn:jboss:domain:webservices:1.0 urn:jboss:domain:webservices:1.1 | | *weld* | 1.0.0 | urn:jboss:domain:weld:1.0 | h2. 7.2.0.Final || Subsystem || Management Version || Schemas || | *Standalone core* | 1.4.0 | | | *cmp* | 1.1.0 | urn:jboss:domain:cmp:1.0 urn:jboss:domain:cmp:1.1 | | *configadmin* | 1.1.0 | urn:jboss:domain:configadmin:1.0 | | *datasources* | 1.1.1 | urn:jboss:domain:datasources:1.0 urn:jboss:domain:datasources:1.1 | | *deployment-scanner* | 1.0.0 | urn:jboss:domain:deployment-scanner:1.0 urn:jboss:domain:deployment-scanner:1.1 | | *ee* | 1.0.0 | urn:jboss:domain:ee:1.0 urn:jboss:domain:ee:1.1 | | *ejb3* | 1.2.0 | urn:jboss:domain:ejb3:1.0 urn:jboss:domain:ejb3:1.1 urn:jboss:domain:ejb3:1.2 urn:jboss:domain:ejb3:1.3urn:jboss:domain:ejb3:1.4 | | *infinispan* | 1.4.0 | urn:jboss:domain:infinispan:1.0 urn:jboss:domain:infinispan:1.1 urn:jboss:domain:infinispan:1.2 urn:jboss:domain:infinispan:1.3 urn:jboss:domain:infinispan:1.4 | | *jacorb* | 1.2.0 | urn:jboss:domain:jacorb:1.0 urn:jboss:domain:jacorb:1.1 urn:jboss:domain:jacorb:1.2 urn:jboss:domain:jacorb:1.3 | | *jaxr* | 1.2.0 | urn:jboss:domain:jaxr:1.0 urn:jboss:domain:jaxr:1.1 | | *jaxrs* | 1.0.0 | urn:jboss:domain:jaxrs:1.0 | | *jca* | 1.2.0 | urn:jboss:domain:jca:1.0 urn:jboss:domain:jca:1.1 | | *jdr* | 1.1.0 | urn:jboss:domain:jdr:1.0 | | *jgroups* | 1.2.0 | urn:jboss:domain:jgroups:1.0 urn:jboss:domain:jgroups:1.1 | | *jmx* | 1.1.0 | urn:jboss:domain:jmx:1.0 urn:jboss:domain:jmx:1.1 urn:jboss:domain:jmx:1.2 | | *jpa* | 1.2.0 | urn:jboss:domain:jpa:1.0 urn:jboss:domain:jpa:1.1 | | *js*f | 1.0.0 | urn:jboss:domain:jsf:1.0 | | *jsr77* | 1.0.0 | urn:jboss:domain:jsr77:1.0 | | *logging* | 1.2.0 | urn:jboss:domain:logging:1.0 urn:jboss:domain:logging:1.1 | | *mail* | 1.2.0 | urn:jboss:domain:mail:1.0 urn:jboss:domain:mail:1.1 | | *messaging* | 1.2.0 | urn:jboss:domain:messaging:1.0 urn:jboss:domain:messaging:1.1 urn:jboss:domain:messaging:1.2 urn:jboss:domain:messaging:1.3 | | *modcluster* | 1.3.0 | urn:jboss:domain:modcluster:1.0 urn:jboss:domain:modcluster:1.1 | | *naming* | 1.2.0 | urn:jboss:domain:naming:1.0 urn:jboss:domain:naming:1.1 urn:jboss:domain:naming:1.2 urn:jboss:domain:naming:1.3 | | *osgi* | 1.1.0 | urn:jboss:domain:osgi:1.0 urn:jboss:domain:osgi:1.1 urn:jboss:domain:osgi:1.2 | | *pojo* | 1.0.0 | urn:jboss:domain:pojo:1.0 | | *remoting* | 1.2.0 | urn:jboss:domain:remoting:1.0 urn:jboss:domain:remoting:1.1 | | *resource-adapters* | 1.2.0 | urn:jboss:domain:resource-adapters:1.0 urn:jboss:domain:resource-adapters:1.1 | | *sar* | 1.0.0 | urn:jboss:domain:sar:1.0 | | *security* | 1.2.0 | urn:jboss:domain:security:1.0 urn:jboss:domain:security:1.1 urn:jboss:domain:security:1.2 | | *threads* | 1.1.0 | urn:jboss:domain:threads:1.0 urn:jboss:domain:threads:1.1 | | *transactions* | 1.2.0 | urn:jboss:domain:transactions:1.0 urn:jboss:domain:transactions:1.1 urn:jboss:domain:transactions:1.2 urn:jboss:domain:transactions:1.3 | | *web* | 1.2.0 | urn:jboss:domain:web:1.0 urn:jboss:domain:web:1.1 urn:jboss:domain:web:1.2 urn:jboss:domain:web:1.3 urn:jboss:domain:web:1.4 | | *webservices* | 1.2.0 | urn:jboss:domain:webservices:1.0 urn:jboss:domain:webservices:1.1 urn:jboss:domain:webservices:1.2 | | *weld* | 1.0.0 | urn:jboss:domain:weld:1.0 |</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - JBMP web app --java.lang.NoClassDefFoundError: org/drools/builder/KnowledgeBuilderFactory</header>
    <body>Hola Estoy empezando con JBPM y DROOL he realizado varios ejemplos en una aplicación de escritorio y todo funciona bien el problema es cuando la quiero llevar a una  aplicación web (en este caso estoy utilizando ZK Framework), pero al momento de ejecutarla me salta el siguiente error: *16:51:29,957 GRAVE [org.zkoss] (http-localhost-127.0.0.1-8083-4) &gt;&gt;java.lang.NoClassDefFoundError: org/drools/builder/KnowledgeBuilderFactory*</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: JBMP web app --java.lang.NoClassDefFoundError: org/drools/builder/KnowledgeBuilderFactory</header>
    <body>Hi there, ok so which version of jBPM and Drools are you using? This class was in the drools-compiler.jar or in the drools-core.jar so make sure that you have all the required dependencies into your web application.. Cheers PS: el foro es en ingles y por lo general recomiendo que se escriba en ingles asi mucha mas gente te puede ayudar. Saludos!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: How can i get the human task id defined in bpmn files?</header>
    <body>Thank you！ I solve the problem in this way: //get session                               //get processInstance by processInstanceId                               //get the id of node To be executed</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>Mark, Mike and I have looked over the code, and we think that we already comply to this spec point. Take a look at the explanation I added to the "Other Spec Changes" section.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Audit Logging Design	Notes</header>
    <body>Design notes for work on https://issues.jboss.org/browse/WFLY-456 (formerly  https://issues.jboss.org/browse/AS7-444 https://issues.jboss.org/browse/AS7-444). My current development topic branch for this is  https://github.com/kabir/wildfly/tree/WFLY-456-audit-log https://github.com/kabir/wildfly/tree/WFLY-456-audit-log (More current than  https://github.com/bstansberry/jboss-as/tree/AS7-444 https://github.com/bstansberry/jboss-as/tree/AS7-444, note that these are personal branches; I make no guarantees not to change its commit history.)  This branch is based on work previously done by John Bailey. Design notes: 1) Processing location in OperationContext a) when done b) when decision to not proceed is made in OperationContext 2) Log record format: a) date b) read-only? c) boot? d) (if boot) version (as string???) e) rollback? f) userid (TODO get this somehow) g) uuid (for domain ops only, to track across processes) h) isServer? i) primary (domain or server) model hash j) if (!isServer) secondary (host) model hash k) overall hash l) num operations m) operations (one at a time) n) length of a-&gt;j (scan from end to last boot during validation; alternative is to write the length first and scan from beginning to last boot) 3) Index record format: a) overall hash 4) Mgmt operations a) truncate (back to last boot) i) don't discard previous; just write under a different file name b) read log (params -- from (default 0); batch-size (default 20; -1 means all)) c) validate log d) config changes 5) Validation: a) compare persisted model hash to current model b) scan back through log to last config-file-modified boot or version-change boot. We stop at version-change boot to avoid spurious validation problems resulting from changes in model construction across versions c) recreate by re-running ops -- validation problems a) need to verify model hash at each stage -- special controller that ignores all runtime ops   i) problem -- how to recreate domain ops involving remote slaves that don't exist?   ii) problem -- ops with attachments -- attachments won't exist   iii) this "special controller" could end up duplicating a lot of logic just for validation b) reads and runtime ops cannot be verified against model; it can only be confirmed that their hash is consistent with subsequent hashes in the log. Tamper resistant as modification would require modifying all subsequent log entries, but not tamper proof as this could be done. 6) Domain mode a) tracking requests from master to slaves apply a uuid to requests -- as a header include uuid in log record b) detecting host.xml config changes at boot problem -- can't detect host.xml config changes at boot, as model changes may be due to domain.xml stuff coming from the master so, independent domain and host logging but, what about non-model affecting ops? log twice? c) domain logging on slaves? only if --backup-dc is set? -- no simpler to just log d) remote-slave-only logging on master? yes, to maintain a complete record of what was done 7) Non-model-affecting ops a) re-calculating the model hash for all such ops is too expensive b) store the hash(es) in the ModelController along with the model c) provide the hash along with the model to OperationContext d) when model is updated recalc hashes 8) Config a) &lt;audit-log&gt; element b) part of &lt;management&gt; section c) resource is /core-service=audit-log d) attributes i) path (NO -- we need to know the location when first logging, before we have processed ops to set it) ii) relative-to (NO -- we need to know the location when first logging, before we have processed ops to set it) iii) log-read-only? iv) daily-rolling??? (hassle; tempting to defer to later release but it's probably necessary immediately) 9) Other issues a) disable logging overhead for dev scenarios   i) to disable it during initial boot (until whatever config element that turns it on/off is read) -- maintain log data in memory and only write on last boot op b) parallel boot handlers should not log c) fluctuating model hashes   i) if op took the controller lock, that lock ensures proper ordering of model hashes   ii) if op does not take controller lock (reads) earlier model hashes can intermix with later -- validation needs to account for this *Suggested configuration* Only relevant elements to audit logging have been included in the following examples. *+jboss-as-config (i.e. standlone.xml and host.xml)+ * This defines a set of audit-log-appenders which are referenced by the audit-log element. Having the audit-log-appenders defined seperately from the core audit-log, and the core audit-log referencing those appenders allows us to later allow separate appenders for the jmx subsystem. Currently encryption/tamper detection is not a requirement so all logs are done in clear text. If encryption/tamper detection later becomes a requirement this could be added by for example an audit-log-formatters section which configures whatever we would like to use for encryption/tamper detection and the file-audit-log-appender and syslog-audit-log-appender could individually be made to reference an audit-log-formatter.     &lt;xs:complexType name="domain-managementType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Domain-wide default configuration settings for the management of standalone servers and a Host Controller.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:sequence&gt;             &lt;xs:element name="security-realms" minOccurs="0"&gt;                 &lt;xs:complexType&gt;                     &lt;xs:sequence&gt;                         &lt;xs:element name="security-realm" type="security-realmType" minOccurs="1"                                     maxOccurs="unbounded"/&gt;                     &lt;/xs:sequence&gt;                 &lt;/xs:complexType&gt;             &lt;/xs:element&gt;             &lt;xs:element name="outbound-connections" minOccurs="0"&gt;                 &lt;xs:complexType&gt;                     &lt;xs:sequence&gt;                         &lt;xs:element name="ldap" type="ldapType" minOccurs="1" /&gt; &lt;!-- TODO minOccurs only while ldap is only supported connection. --&gt;                     &lt;/xs:sequence&gt;                 &lt;/xs:complexType&gt;             &lt;/xs:element&gt;             &lt;xs:element name="audit-log" minOccurs="0"&gt;                 &lt;xs:complexType&gt;                     &lt;xs:sequence minOccurs="0"&gt;                         &lt;xs:element name="audit-log-appenders" type="audit-log-appendersType"/&gt;                         &lt;xs:element name="logger" type="audit-log-loggerType"/&gt;                     &lt;/xs:sequence&gt;                 &lt;/xs:complexType&gt;             &lt;/xs:element&gt;         &lt;/xs:sequence&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appendersType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging appenders.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1" maxOccurs="unbounded"&gt;             &lt;xs:element name="file-appender" type="file-audit-log-appenderType"/&gt;             &lt;xs:element name="syslog-appender" type="syslog-audit-log-appenderType"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="file-audit-log-appenderType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Configuration of a simple file appender for the audit log. This writes to a local file without any encryption or tamper detection applied to the file.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:attribute name="name" type="xs:string" use="required"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The name of the appender. The name must be unique across all types of appender.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="path" type="xs:string" use="required"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The path of the audit log.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="relative-to" use="optional" type="xs:string"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The name of another previously named path, or of one of the                     standard paths provided by the system. If 'relative-to' is                     provided, the value of the 'path' attribute is treated as                     relative to the path specified by this attribute.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="syslog-audit-log-appenderType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Configuration of a syslog file appender for the audit log. This writes to a local file without any encryption or tamper detection applied to the file.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="0"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The configuration of the protocol to use communication with the syslog server. See your syslog provider's documentation for configuration options.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;             &lt;xs:element name="udp" type="udp-audit-log-protocolType"&gt;             &lt;/xs:element&gt;             &lt;xs:element name="tcp" type="tcp-audit-log-protocolType"&gt;             &lt;/xs:element&gt;             &lt;xs:element name="tls" type="tls-audit-log-protocolType"&gt;             &lt;/xs:element&gt;         &lt;/xs:choice&gt;         &lt;xs:attribute name="name" type="xs:string" use="required"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The name of the appender. The name must be unique across all types of appender.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="syslog-format" type="xs:token" default="RFC5424"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The format to use for the syslog messages. See your syslog provider's documentation for what is supported.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;             &lt;xs:simpleType&gt;                 &lt;xs:restriction&gt;                     &lt;xs:enumeration value="RFC5424"&gt;                         &lt;xs:annotation&gt;                             &lt;xs:documentation&gt;Format the syslog data according to the RFC-5424 standard&lt;/xs:documentation&gt;                         &lt;/xs:annotation&gt;                     &lt;/xs:enumeration&gt;                     &lt;xs:enumeration value="RFC3164"&gt;                         &lt;xs:annotation&gt;                             &lt;xs:documentation&gt;Format the syslog data according to the RFC-3164 standard&lt;/xs:documentation&gt;                         &lt;/xs:annotation&gt;                     &lt;/xs:enumeration&gt;                 &lt;/xs:restriction&gt;             &lt;/xs:simpleType&gt;         &lt;/xs:attribute&gt;         &lt;!-- TODO appname, level etc--&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="base-audit-log-protocolType"&gt;         &lt;xs:attribute name="host" default="localhost"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The host of the syslog server.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="port" default="514"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     The port of the syslog server.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="udp-audit-log-protocolType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;Configure udp as the protocol for communicating with the syslog server&lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:complexContent&gt;             &lt;xs:extension base="base-audit-log-protocolType"/&gt;         &lt;/xs:complexContent&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="tcp-audit-log-protocolType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;Configure tcp as the protocol for communicating with the syslog server&lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:complexContent&gt;             &lt;xs:extension base="base-audit-log-protocolType"&gt;                 &lt;xs:attribute name="message-transfer" type="xs:token" default="NON_TRANSPARENT_FRAMING"&gt;                     &lt;xs:annotation&gt;                         &lt;xs:documentation&gt;                             The message transfer setting as described in section 3.4 of RFC-6587. See your syslog provider's                             documentation for what is supported                         &lt;/xs:documentation&gt;                     &lt;/xs:annotation&gt;                     &lt;xs:simpleType&gt;                         &lt;xs:restriction&gt;                             &lt;xs:enumeration value="OCTET_COUNTING"&gt;                                 &lt;xs:annotation&gt;                                     &lt;xs:documentation&gt;                                         Use the octet counting format for message transfer as described in section 3.4.1 of RFC-6587.                                     &lt;/xs:documentation&gt;                                 &lt;/xs:annotation&gt;                             &lt;/xs:enumeration&gt;                             &lt;xs:enumeration value="NON_TRANSPARENT_FRAMING"&gt;                                 &lt;xs:annotation&gt;                                     &lt;xs:documentation&gt;                                         Use the non-transparent-framing format for message transfer as described in section 3.4.1 of RFC-6587.                                     &lt;/xs:documentation&gt;                                 &lt;/xs:annotation&gt;                             &lt;/xs:enumeration&gt;                         &lt;/xs:restriction&gt;                     &lt;/xs:simpleType&gt;                 &lt;/xs:attribute&gt;             &lt;/xs:extension&gt;         &lt;/xs:complexContent&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="tls-audit-log-protocolType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;Configure tls as the protocol for communicating with the syslog server&lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:complexContent&gt;             &lt;xs:extension base="tcp-audit-log-protocolType"&gt;                 &lt;xs:sequence&gt;                     &lt;xs:element name="truststore" type="keyStoreType" minOccurs="0"&gt;                         &lt;xs:annotation&gt;                             &lt;xs:documentation&gt;                                 Configuration of a keystore to use to create a trust manager to verify the server certificate for encrypted comminications.                                 If the server certificate is signed off by a signing authority, tls can be used without a truststore.                             &lt;/xs:documentation&gt;                         &lt;/xs:annotation&gt;                     &lt;/xs:element&gt;                     &lt;xs:element name="client-certificate-store" type="keyStoreType" minOccurs="0"&gt;                         &lt;xs:annotation&gt;                             &lt;xs:documentation&gt;                                 Configuration of a keystore containing a client certificate and a private key, e.g. in PKCS12 format. This turns on authenticating                                 the clients against the syslog server.                             &lt;/xs:documentation&gt;                         &lt;/xs:annotation&gt;                     &lt;/xs:element&gt;                 &lt;/xs:sequence&gt;             &lt;/xs:extension&gt;         &lt;/xs:complexContent&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-loggerType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging configuration coming from the model controller core.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;             &lt;xs:element name="appenders" type="audit-log-appenders-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;         &lt;xs:attribute name="log-read-only" type="xs:boolean" default="false"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether operations that do not modify the configuration or any runtime services should be logged.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="enabled" type="xs:boolean" default="true"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether audit logging is enabled.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appenders-refType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 References to audit-log-appenders defined in the audit-log-appenders section             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1"&gt;             &lt;xs:element name="appender" type="audit-log-appender-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appender-refType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 A reference to an audit-log-appender defined in the audit-log-appenders section             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:attribute name="appender" type="xs:string" use="required"/&gt;     &lt;/xs:complexType&gt; +*jboss-as-jmx (jmx subsystem)*+ We currently do not allow for the jmx subsystem to have separate appenders so they will be shared with the core audit logging. The commented out appenders shows how allowing separate appenders for the jmx subsystem could be done in future.     &lt;xs:complexType name="subsystem"&gt;       &lt;xs:sequence&gt;          &lt;xs:element name="expose-resolved-model" type="resolvedModelType" minOccurs="0" maxOccurs="1"/&gt;          &lt;xs:element name="expose-expression-model" type="expressionModelType" minOccurs="0" maxOccurs="1"/&gt;          &lt;xs:element name="remoting-connector" type="remotingConnectorRefType" minOccurs="0"/&gt;          &lt;xs:element name="audit-log" type="audit-logType" minOccurs="0"/&gt;       &lt;/xs:sequence&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-logType"&gt;         &lt;xs:annotation&gt;             &lt;xs:documentation&gt;                 Declaration of management operation audit logging configuration.             &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;!--          Don't allow separate appenders for jmx for now         &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;             &lt;xs:element name="appenders" type="audit-log-appenders-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;          --&gt;         &lt;xs:attribute name="log-read-only" type="xs:boolean" default="false"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether operations that do not modify the configuration or any runtime services should be logged.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;         &lt;xs:attribute name="enabled" type="xs:boolean" default="true"&gt;             &lt;xs:annotation&gt;                 &lt;xs:documentation&gt;                     Whether audit logging is enabled.                 &lt;/xs:documentation&gt;             &lt;/xs:annotation&gt;         &lt;/xs:attribute&gt;     &lt;/xs:complexType&gt;     &lt;!--     Don't allow separate appenders for jmx for now     &lt;xs:complexType name="audit-log-appenders-refType"&gt;         &lt;xs:annotation&gt;           &lt;xs:documentation&gt;              References to audit-log-appenders defined in the audit-log-appenders section           &lt;/xs:documentation&gt;         &lt;/xs:annotation&gt;         &lt;xs:choice minOccurs="1"&gt;             &lt;xs:element name="appender" type="audit-log-appender-refType" minOccurs="0"/&gt;         &lt;/xs:choice&gt;     &lt;/xs:complexType&gt;     &lt;xs:complexType name="audit-log-appender-refType"&gt;          &lt;xs:annotation&gt;            &lt;xs:documentation&gt;               A reference to an audit-log-appender defined in the audit-log-appenders section            &lt;/xs:documentation&gt;          &lt;/xs:annotation&gt;          &lt;xs:attribute name="appender" type="xs:string" use="required"/&gt;     &lt;/xs:complexType&gt;     --&gt; Sample standalone.xml configuration:     &lt;management&gt;         &lt;security-realms&gt;         --SNIP--         &lt;/security-realms&gt;         &lt;audit-log&gt;             &lt;appenders&gt;                 &lt;file-appender name="file" path="audit-log.log" relative-to="jboss.server.data.dir"/&gt;                 &lt;syslog-appender name="syslog" syslog-format="RFC5424"&gt;                     &lt;udp host="localhost" port="514"/&gt;                 &lt;/syslog-appender&gt;             &lt;/appenders&gt;             &lt;config log-read-only="true" enabled="true"&gt;                 &lt;appenders&gt;                     &lt;appender name="file"/&gt;                     &lt;appender name="syslog"/&gt;                 &lt;/appenders&gt;             &lt;/config&gt;         &lt;/audit-log&gt;         &lt;management-interfaces&gt;         --SNIP--         &lt;/management-interfaces&gt;     &lt;/management&gt; When we get to separating out jmx for a later release, the sample jmx configuration will be along the lines of:         &lt;subsystem xmlns="urn:jboss:domain:jmx:1.2"&gt;             &lt;expose-resolved-model/&gt;             &lt;expose-expression-model/&gt;             &lt;remoting-connector/&gt;             &lt;audit-log log-read-only="true" enabled="true"&gt;                 &lt;appenders&gt;                     &lt;!-- Reference one or more of the appenders from the domain-management section --&gt;                     &lt;appender name="file"/&gt;                     &lt;appender name="syslog"/&gt;                 &lt;/appenders&gt;             &lt;/audit-log&gt;          &lt;subsystem&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: org.drools.RuntimeDroolsException: Unexpected exception executing action org.jbpm.process.instance.event.DefaultSignalManager, Caused by: org.jbpm.workflow.instance.WorkflowRuntimeException: -- argument type mismatch</header>
    <body>Did u get a solution to this above problem? I'm facing the same problem.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Audit Logging	Design Notes</header>
    <body>The IP and interface are captured. The output in the simple file appender is: The sample output in syslog is For future releases I plan to support custom formatters, to allow you to choose the output format, and the formatter will be what provides things like tamper detection mechanisms (hashing, signing, encryption etc). For now I settled on a JSON formatter, but can change that to something different if desired. I like that it gives more structure than tabs etc. and the operations coded as model nodes map nicely to that. Also syslog does not like byte[] formatted data, it seems to have to be strings.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - CLI deployment	archive</header>
    <body>With EAP Version 6.0.1 there is no -path or –path option available in cli. Am I missing something?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - [jbpm-5.4, eclipse] simple work item - ioSpecification is not complete error</header>
    <body>hi, i am trying to do simple work item from here:  http://docs.jboss.org/jbpm/v5.4/userguide/ch.domain-specific-processes.html#d0e7389 http://docs.jboss.org/jbpm/v5.4/userguide/ch.domain-specific-processes.html#d0e7389 my code: .wid file [   // the Notification work item   [     "name" : "Notification",     "parameters" : [       "Message" : new StringDataType(),       "From" : new StringDataType(),       "To" : new StringDataType(),       "Priority" : new StringDataType(),     ],     "displayName" : "Notification",     "icon" : "icons/notification.gif"   ] ] then i implemented and registered work item handler with simple @Override my custom node automatically appeared in eclipse modeler, so i made simple process: start &gt; node &gt; end and set value of 'From' parameter, but when executing it i get: *also 'from null' is printed* my bpmn file contains only one ioSpecification, and it have inputSet node &lt;bpmn2:ioSpecification id="_InputOutputSpecification_12"&gt;     &lt;bpmn2:dataInput id="_DataInput_15" name="Message"/&gt;     &lt;bpmn2:dataInput id="_DataInput_16" itemSubjectRef="ItemDefinition_4" name="From"/&gt;     &lt;bpmn2:dataInput id="_DataInput_17" name="To"/&gt;     &lt;bpmn2:dataInput id="_DataInput_18" name="Priority"/&gt;     &lt;bpmn2:inputSet id="_InputSet_12" name="Input Set 12"&gt;       &lt;bpmn2:dataInputRefs&gt;_DataInput_15&lt;/bpmn2:dataInputRefs&gt;       &lt;bpmn2:dataInputRefs&gt;_DataInput_16&lt;/bpmn2:dataInputRefs&gt;       &lt;bpmn2:dataInputRefs&gt;_DataInput_17&lt;/bpmn2:dataInputRefs&gt;       &lt;bpmn2:dataInputRefs&gt;_DataInput_18&lt;/bpmn2:dataInputRefs&gt;     &lt;/bpmn2:inputSet&gt;   &lt;/bpmn2:ioSpecification&gt; i am using jbpm 5.4.final eclipse BPMN2 Editor 0.2.5.201305082126 eclipse JBoss jBPM5 Runtime Extension Feature 0.2.5.201305082126 eclipse JBoss jBPM Core 5.5.0.Final eclipse JBoss jBPM Task 5.5.0.Final</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Design of AS7	multi-JSF feature</header>
    <body>Hey Bruno, I am receiving the same error Die you happen to resolve it? I tried to debug MyFaces and RichFaces but so far no look. The JavaScript library jsf.js is contained in META-INF/resources/myfaces/META-INF/resources/myfaces/api/jsf.js META-INF/resources/javax.faces/jsf.js META-INF/internal-resources/org.apache.myfaces.core.api/jsf.js in the myfaces-api-2.1.11.jar. My guess is, that those resource are not available to either RichFaces or MyFaces itself. I tried using &lt;filter&gt; in deployment-structure.xml to include the dependency to the new myfaces module and also used &lt;resource-root path="myfaces-api-2.1.11.jar"&gt;     &lt;filter&gt;         &lt;include path="META-INF/**"/&gt;     &lt;/filter&gt; &lt;/resource-root&gt; but no look so far.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Re: JTA 1.2	Implementation Work</header>
    <body>I have taken a look at this too and agree XAResource::end(TMSUCCESS) does seem to be called in all permutations. I wonder if TMFAIL might be more appropriate for topLevelAbort? However, I open this as a point of discussion, rather than suggestion. In practical terms I suspect it won't make any difference to the RM. Also, your description in "Other Spec Changes" omits the fact that  com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple::rollback(), endSuspendedRMs() is also invoked. Near as I can work out though, endSuspendedRMs is almost superflous as topLevel* will end ASSOCIATION_SUSPENDED branches anyway?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - How to auto delegate using	jbpm</header>
    <body>I have a requirement where I need to auto delegate a task to a delegatee. The business requirement is to verify in the DB and find out who are the valid delegatees for the current delegator(actorId) for the current duration. On node trigger event we need to check for the valid delegatee and auto assign/delegate this user to the task. We know that Jbpm allows us to do the delegation explicitly using delegate() method. We have the valid delegatee information from DB at the time of node triggered but inorder to delegate the task we need to have the taskId information which is not available in this node trigger event. This is because, task object might not have been created yet. public void delegate(*taskId*, userId, targetUserId) We can't even use taskClaimed event method because it is not getting triggerd in case where there is single actorId specified for the node(in bpmn). It is because Jbpm directly moves the node from task 'Created' to 'Reserved' status in this case. public void taskClaimed(TaskClaimedEvent event) So, I dont have any idea, how to implement our requirement. Please help us.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: Exception while accessing admin-console</header>
    <body>Syed, were you able to solve? BR, mukesh</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: How to stop NioProcessor-2 logging. [org.apache.mina.filter.logging.LoggingFilter] (NioProcessor-2) IDLE</header>
    <body>How to do this in standalone mode?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7 System	Properties</header>
    <body>There's no mechanism to read an individual system property that isn't part of the persistent configuration. I thought java.lang.management.RuntimeMXBean exposed that, in which case /core-service=platform-mbean/type=runtime would as well, but I was wrong. Can you file a Feature Request JIRA for this? I'm not certain where we would expose this; most likely under /core-service=platform-mbean/type=runtime. As for "include-runtime", that refers to whether or not runtime-only attributes of a resource are shown. In the case of system-property=java.version, the resource doesn't even exist.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Narayana	Release Process</header>
    <body>This page provides a list of instructions that must be done *in order* when doing a release of Narayana. h2. Check JIRA 1. Check all issues resolved. 2. Create next point release version if not exists - this is so you can push issues in step 3 below. 3. Unresolved issues should be resolved or pushed. h2. Check Hudson Ensure no test failures in the group of hudson tests, for the branch you intend to release. h2. Raise AS7 component upgrade request in Jira Prepare for a PR to update AS7. 1.  https://issues.jboss.org/browse/AS7 https://issues.jboss.org/browse/AS7 2. create a new 'component update' issue.1. Ensure the module is set to 'transactions' 2. select an appropriate 'fix for'. 3. Assign it to yourself. h2. Do Release h3. Git Branches (4.17 and 5 only) Must be done first as the build-release-packages.xml relies on the tag being available cd $NARAYANA_SRC/scripts pre-release.sh &lt;next version, e.g: 5.0.0.M3&gt; h3. Create the AS7 pull request branch and roll the jbosstm/jboss-as branch to next SNAPSHOT (UN-TESTED COMMANDS!!) BRANCH=4_BRANCH AS_BRANCH=master JIRA=AS7-5815 CURRENT=4.17.2.Final NEXT=4.17.3.Final git clone git at github.com:jbosstm/jboss-as.git cd jboss-as git checkout $BRANCH git remote add upstream git://github.com/jbossas/jboss-as.git git pull --rebase --ff-only upstream $AS_BRANCH sed -i "s/$CURRENT-SNAPSHOT/$CURRENT/g" pom.xml git commit -am "Upgrade Narayana to $CURRENT" # should use git merge-base $BRANCH upstream/master # You will need to resolve som merge conflicts. Most likely around version numbers. git rebase -i HEAD~10 git checkout $BRANCH sed -i "s/$CURRENT/$NEXT-SNAPSHOT/g" pom.xml git commit -am "Upgrade Narayana to $NEXT-SNAPSHOT" git push origin $BRANCH h2. Build and release h3. blacktie windows binaries CURRENT=&lt;Version to release. e.g 5.0.0.M2&gt; On Windows: rem You need to build the windows version separately as we don't support cross compile git clone git at github.com (mailto:git at github.com):jbosstm/blacktie.git build.bat install -DskipTests scp blacktie/target/blacktie-$CURRENT-vc9x32-bin.zip &lt;user&gt;@&lt;ipaddress&gt;: h3. Narayana upload CURRENT=&lt;Version to release. e.g 5.0.0.M2&gt; mkdir -p ~/narayana/filemgmt.jboss.org/ On Linux: sshfs jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ On MacOS: sshfs -o defer_permissions jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ git clone git at github.com (mailto:git at github.com):jbosstm/narayana.git cd narayana git checkout $CURRENT On Linux: ant -f build-release-pkgs.xml dist downloads docs magnolia -Drsync=false On MacOS: ant -f build-release-pkgs.xml dist downloads docs magnolia h3. svn branches #Make sure your checkout has no local changes svn update svn status POINT_VERSION=5 NEXT_POINT_VERSION=6 #Update the version in text files svn commit -m "Updated to version 4.16.$POINT_VERSION.Final" #Tag the release: #Bump to next version using similar find to above #Update the maven version of jbossts in our fork of JBossAS:  https://github.com/jbosstm/jboss-as https://github.com/jbosstm/jboss-as git checkout 4_16_BRANCH git pull --rebase --ff-only #Check no local changes git status git push #Build and deploy the release to nexus staging: mkdir ~/filemgmt.jboss.org/ sshfs -o defer_permissions  mailto:jbosstm at filemgmt.jboss.org jbosstm at filemgmt.jboss.org: ~/filemgmt.jboss.org/ ant -f build-release-pkgs.xml dist mvn-repository downloads magnolia h3. h2. Release the artifact through Nexus 1.  https://repository.jboss.org/nexus/index.html#welcome https://repository.jboss.org/nexus/index.html#welcome 2. login 3. "Staging Repositories" 4. Click tickbox for your repo 5. Click "Close" 6. Don't worry about a description, just click "Close" 7. Click tickbox after it is closed 8. Click "Release" 9. Again a description doesn't matter h2. Push Upstream Check that the pull request will work. *If it doesn't and it requires Narayana changes you *have* to rev the version number - DON'T attempt to re-release with the same version number:* JIRA=AS7-5815 CURRENT=4.17.2.Final git clone  mailto:git at github.com git at github.com:jbosstm/jboss-as.git cd jboss-as rm -rf ~/.m2/repository/org/jboss/jbossts rm -rf ~/.m2/repository/org/jboss/narayana ./build.sh clean install 1. Raise the pull request using our branch 2. Update  http://172.17.131.2/view/Narayana+BlackTie-release/job/release-narayana-AS-PR/ this job to run our CI over the PR. You need to re-run this every time you change the PR, top make sure it still works. 3. Once merged, resolve the AS7 Jira issue. h2. JIRA Release 1. Close all issues for the release 2. Mark as released (Need admin permissions) h2. Update Website Update the Narayana community site: * Login to Magnolia*  https://www.jboss.org/author/.magnolia/pages/adminCentral.html https://www.jboss.org/author/.magnolia/pages/adminCentral.html * Login with credentials: Tom and Paul know these, ask them. * Documentation* Browse to 'jbosstm/documentation' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.documentation.4.16.5.Final.xml' file * Long left click on the file name and replace the '.' with '_'. * Right click on the new file and click 'move' * Drag the file to the top of the documentation list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Downloads* Browse to 'jbosstm/downloads' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.downloads.4.16.5.Final.xml' file * Long left click on the file name and replace the '.' with '_'. * Right click on the new file and click 'move' * Drag the file to the top of the downloads list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Announcement* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'announcement' pane * Update the announcement for this release. * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. * Release notes* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'getting started' pane on the right-hand-side * Edit the release notes url to point to the release notes for this version * Click save * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. h2. Update CI Update jobs, to use the new Version (quickstarts, etc). Need a ful list of steps here. h2. Checked the released Quickstarts Make sure the released quickstarts run against the released Narayana. Do this by updating this job:  http://172.17.131.2/view/Narayana+BlackTie-release/job/release-btny-narayana-quickstarts-taconic http://172.17.131.2/view/Narayana+BlackTie-release/job/release-btny-narayana-quickstarts-taconic Need a ful list of steps here. h2. Promote NOTE: It is worth waiting for the merge of the pull request before advertising, or at least wait for the merge build notification first  ;) Promote the release through the following channels: 1. Email jbossts-announce at lists.jboss.org (mailto:jbossts-announce at lists.jboss.org) 2. Forum 3. Blog: project in (jbtm, blacktie) AND fixversion = "5.0.0.M2" AND priority &gt;= major AND issuetype not in (Bug, task) AND resolution not in ("Duplicate Issue", Rejected, "Won't Fix", "Out of Date", "Cannot Reproduce Bug")</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the community aggregate:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site/pom.xml pom.xml. 2. For changes to your component within the production aggregate:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site/pom.xml pom.xml. 3. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/integration-stack-base.target integration-stack-base.target,  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/core-base.target core-base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target 2. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 3. Ensure plugins are mirrored on jboss.org 3. Build locally to validate stack dependencies. 4. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 5. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 6. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 7. Build IS locally to validate dependency consistency 8. Issue pull request against upstream IS configuration project 9. Process pull (by release engineer) 10. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. JBoss Central Discovery Updates *Goal:* Modify the JBoss Central mylyn discovery install/update mechanism. JBoss Central, based on  http://wiki.eclipse.org/Mylyn/Discovery Mylyn Discovery, is in part a UI for installing new features into Eclipse or JBDS. It provides a richer, yet simpler UI than what the Eclipse equinox p2 install manager provides out of the box. For detailed information see  https://community.jboss.org/docs/DOC-48297 https://community.jboss.org/wiki/JBossCentralsSoftwareUpdateTab-HowDoesItWork 1. For changes to the jbosstools community discovery update:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/discovery https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/discovery or production discovery update:  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/discovery https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/discovery follow the same git process as defined in the Components Updates section. 2. Modify the plugin connector descriptors and installation units as needed within the discovery plugin. 3. Add any icons that may be required. h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *discovery* - provides JBoss Central discovery support * *Jenkins* - * *target platform* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform * *aggregate* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate * *aggregate publish/promote* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish * *discovery* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery * *install tests* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Two target platforms are provided: base and community.  The base target platform includes all dependencies which are also included as part of JBDS.  The community target extends the base target by including dependencies which are only available in  community JBT releases.  If your component needs to be included in a JBDS release, DO NOT use the community target platform.  For more information and an example on how to refer to the target platform definition, see:  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/README.md https://github.com/jbosstools/jbosstools-integration-stack/blob/master/README.md h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. 2. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 4.1).  This should serve as an early warning system to identify platform incompatibilities early in the process.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - JBossESB - sending an	ESB aware message</header>
    <body>Hi, I am a newbie to JBossESB and I am currently writing a test client to send both ESB aware and ESB unaware(JMS) messages to que. JMS messages work just fine, but I have a problem with ESB aware clients. I think that there is probably something wrong with my *jboss-esb.xml* file. (I am running my JBoss AS on a localhost and I am trying to connect to it from and outside application). This is my sample code for ESB message sender:     //send ESB message           // Create the delivery adapter for the target service (cache it)           // Create the delivery adapter for the target service (cache it)           // Create and populate the request message...           // Deliver the request message synchronously - timeout after 20           // seconds...     //GETTERS I am putting here my jboss-esb.xml as an attachment... Thanks for any answer.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Can I invoke a WorkItemHandler's execute method directly from a script task ?</header>
    <body>I am having a BusinessRuleTask which is going to execute some rules. But before executing the rule, I want to do some pre-processing on the Object, whose properties i will be reading in the rule. I am thinking of Implementing a generic pre-processing business logic in the WorkItemHandler implementation class. I have the java WorkItemHandler implementation class ready. But I am not sure how do I invoke it from a script task OR from the BusinessRuleTask's OnEntry java script.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control notes</header>
    <body>h1. Timeline Design Phase I: + Lay out the fundamental architecture, identify the main requirements and intended approach for meeting each + Main participants (67% time task): ++ Brian Stansberry, Darran Lofthouse, Heiko Braun, Jason Greene + Partial participants (25% time task): ++ David Lloyd, one other member of Domain Management team, Anil Saldhana, Harald Pehl + 2 weeks + Completion allows some aspects of dev to begin (which, TBD) + Inability to get the stated time commitments from all participants delays completion by that amount of time Design Phase II: + Design in detail some of the fundamental areas where either coordinated design is required or a sub-team needs to flesh out details + Participants and time commitment -- same as Design Phase I + 2 weeks Dev Phase: ++ TBD (see tasks below) ++ need to assign resources and timelines to each task. Test Phase: TBD h1. Tasks interface to decision point + information about resource access request + information about user + other information about request (time of day, interface, etc) misc op authorization + basic control over op execution write-attribute/undefine-attribute authorization add op authorization + trick here is cases where certain attributes can't be written ++ my instinct is to reject the add; no sophisticated rules read-attribute authorization read-resource authorization, output control to use response header to indicate content was filtered configuration of our default decision point user info configuration (what data to provide decision point, where to get it) read-resource-access op (an op to learn about user's ability to use API; based on read-resource-description) + uses ++ general information ++ allow caller to disable features that will be non-functional (e.g. buttons for misc ops that are not available) model-reference issues + general issue of resources in a tree being affected by other resources + server groups ++ user has rights to a resource that affects an SG, but not to the SG itself + hosts ++ similar issue ++ twist is host-specific config vs domain-wide config affecting server's on a host + others? + notion: enforce this at domain rollout time? ++ problem: what about an admin-only HC situation? -- no rollout Console + the interface structure doesn't necessarily refelct the model structure ++ i.e. some coarse grained interface compoments rely on a number of resources across the model + distinction between interface structure (interaction units) and DMR payload + suppression of interaction units can only be done if the screens properly bootstrap from the model ++ relates to "read-resource-access" ++ currently not the case and a major change (intended first prototype for AS8) + distinction between logical entities and resource tree structure ++ i.e. /subsystem=datasources is resource tree structure ++ datasource=ExampleDS is a logical entity within the tree structure ++ makes a diference for address pattern matching... + do we support security constraints for logical entities? (can see datasource "Foo" but not datasource "Bar") ++ relates to "model-reference issues". CLI issues + basic handling of low-level (should be ok) + disable high-level commands in advance? + ls -- high-level equivalent to read-resource Configuration propagation ++ master HC to slave JMX security + AS domains depend on core security, as they just delegate ++ provide some information about access mechanism + other mbeans ++ what policy? ++ what control point? Misc issues: sniffing for resources -- request a resource to learn it exists from the failure response h1. Resource Attributes The following describes resource attributes required to enforce some permission schemes we've heard: DMR API and Wireformat + separate static security meta data from dynamic runtime headers? ++ static: part of "read-resource-access" ++ dynamic: indication of enforced constraints as part of a DMR response (i.e suppressed elements) h4. Scheme 1: Monitor: -- read-only flag on the operation Configurator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Administrator -- resource address iscadmins -- N/A Deployer -- resource address -- see IBM details at  http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.base.iseries.doc/ae/rsec_adminroles.html#rsecadminroles__deployerrole http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.base.iseries.doc/ae/rsec_adminroles.html#rsecadminroles__deployerrole to check for more Admin Security Manager -- I would consider the equivalent for us to be the ability to configure the access control policies -- resource address Auditor -- resource address h4. Scheme 2: Anonymous -- N/A Admin -- none; user is root Deployer seems equivalent to Scheme 3's read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator -- read-only flag on the operation -- resource-address -- operation name -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Monitor -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? h4. Scheme 3: Read-only -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Privileged -- none; user is root</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control notes</header>
    <body>h1. Timeline Design Phase I: + Lay out the fundamental architecture, identify the main requirements and intended approach for meeting each + Main participants (67% time task): ++ Brian Stansberry, Darran Lofthouse, Heiko Braun, Jason Greene + Partial participants (25% time task): ++ David Lloyd, one other member of Domain Management team, Anil Saldhana, Harald Pehl + 2 weeks + Completion allows some aspects of dev to begin (which, TBD) + Inability to get the stated time commitments from all participants delays completion by that amount of time Design Phase II: + Design in detail some of the fundamental areas where either coordinated design is required or a sub-team needs to flesh out details + Participants and time commitment -- same as Design Phase I + 2 weeks Dev Phase: ++ TBD (see tasks below) ++ need to assign resources and timelines to each task. Test Phase: TBD h1. Tasks interface to decision point + information about resource access request + information about user + other information about request (time of day, interface, etc) misc op authorization + basic control over op execution write-attribute/undefine-attribute authorization add op authorization + trick here is cases where certain attributes can't be written ++ my instinct is to reject the add; no sophisticated rules read-attribute authorization read-resource authorization, output control to use response header to indicate content was filtered configuration of our default decision point user info configuration (what data to provide decision point, where to get it) read-resource-access op (an op to learn about user's ability to use API; based on read-resource-description) + uses ++ general information ++ allow caller to disable features that will be non-functional (e.g. buttons for misc ops that are not available) model-reference issues + general issue of resources in a tree being affected by other resources + server groups ++ user has rights to a resource that affects an SG, but not to the SG itself + hosts ++ similar issue ++ twist is host-specific config vs domain-wide config affecting server's on a host + others? + notion: enforce this at domain rollout time? ++ problem: what about an admin-only HC situation? -- no rollout Console + the interface structure doesn't necessarily refelct the model structure ++ i.e. some coarse grained interface compoments rely on a number of resources across the model + distinction between interface structure (interaction units) and DMR payload + suppression of interaction units can only be done if the screens properly bootstrap from the model ++ relates to "read-resource-access" ++ currently not the case and a major change (intended first prototype for AS8) + distinction between logical entities and resource tree structure ++ i.e. /subsystem=datasources is resource tree structure ++ datasource=ExampleDS is a logical entity within the tree structure ++ makes a diference for address pattern matching... + do we support security constraints for logical entities? (can see datasource "Foo" but not datasource "Bar") ++ relates to "model-reference issues". CLI issues + basic handling of low-level (should be ok) + disable high-level commands in advance? + ls -- high-level equivalent to read-resource Configuration propagation ++ master HC to slave JMX security + AS domains depend on core security, as they just delegate ++ provide some information about access mechanism + other mbeans ++ what policy? ++ what control point? Misc issues: sniffing for resources -- request a resource to learn it exists from the failure response h1. Resource Attributes The following describes resource attributes required to enforce some permission schemes we've heard: DMR API and Wireformat + separate static security meta data from dynamic runtime headers? ++ static: part of "read-resource-access" ++ dynamic: indication of enforced constraints as part of a DMR response (i.e suppressed elements) h4. Scheme 1: Monitor: -- read-only flag on the operation Configurator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Administrator -- resource address Deployer -- resource address -- see IBM details at  http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.base.iseries.doc/ae/rsec_adminroles.html#rsecadminroles__deployerrole http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.base.iseries.doc/ae/rsec_adminroles.html#rsecadminroles__deployerrole to check for more Admin Security Manager -- I would consider the equivalent for us to be the ability to configure the access control policies -- resource address Auditor -- resource address h4. Scheme 2: Anonymous -- N/A Admin -- none; user is root Deployer seems equivalent to Scheme 3's read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator -- read-only flag on the operation -- resource-address -- operation name -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Monitor -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? h4. Scheme 3: Read-only -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Privileged -- none; user is root This is basically equivalent to Scheme 2, without Scheme 2's "Operator". Scheme 4: Administrator view or modify anything; deploy apps, perform lifecycle functions Deployer view anything, deploy apps, perform lifecycle functions Operator view anything, perform lifecycle Monitor view anything</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>A question for server-groups is resources that are not directly referenced by the server-group (e.g. a profile) or contained by something directly referenced (e.g. a subsystem) but rather are only brought in via indirect references (e.g. a path or interface) or convention (e.g. system properties). My inclination would be any simple system where we allow restriction to a given server-group would restrict access to such resources. It's possible we could analyze the socket-binding-group resource and determine whether an interface is relevant.  I can't see doing that for paths or system properties.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Yes. The dynamic part is only relevant for read-resource (perhaps read-resource-description) where part of the result might be filtered. For something like read-attribute, the operation would fail if access was not allowed.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>I agree with your statement about paths and properties. They should be restricted regardless of their value.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>In the long run (AS 9 or later), we should make this possible. For now, none of the permission schemes we've seen have required support for this.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>One bit of feedback for a permission scheme that we've seen that goes beyond those listed above is a desire to restrict based on server groups. A rough thought on a simple expansion of the basic roles we create is to allow creation of a custom role that's based on one of our standard ones but is limited to a particular server group(s). &lt;custom-role base-role="operator"&gt;   &lt;server-group name="groupA"/&gt;   &lt;server-group name="groupB"/&gt; &lt;/custom-role&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Management Layer	Access Control</header>
    <body>well, that's what's listed above, no?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Brian, can you elaborate on the flags you use in the "Resource Attributes" section? I don't rellay understand what they mean...</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>the timeline is probably non-sense, now with everything being re-scheduled?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Part of the work we have been doing for the audit logging (work in progress) could probably be useful for this too. We associate the management access mechanism (native, web, jmx) and subject with the thread, stuff that is likely to be useful for this as well</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>h1. Timeline Design Phase I: + Lay out the fundamental architecture, identify the main requirements and intended approach for meeting each + Main participants (67% time task): ++ Brian Stansberry, Darran Lofthouse, Heiko Braun, Jason Greene + Partial participants (25% time task): ++ David Lloyd, one other member of Domain Management team, Anil Saldhana, Harald Pehl + 2 weeks + Completion allows some aspects of dev to begin (which, TBD) + Inability to get the stated time commitments from all participants delays completion by that amount of time Design Phase II: + Design in detail some of the fundamental areas where either coordinated design is required or a sub-team needs to flesh out details + Participants and time commitment -- same as Design Phase I + 2 weeks Dev Phase: ++ TBD (see tasks below) ++ need to assign resources and timelines to each task. Test Phase: TBD h1. Tasks *General Tasks* - Provide a permission model, storage and API - Enable configuration of the permission model - Provide operations to retrieve permission meta data - Enforce permissions in core management compoments (mapping of permission model against resources) - Enforce permissions  in web console (mapping of permission model against interaction units and use cases) - Enforce permissions in CLI (mapping of permission model against command line syntax and use cases) *Component Breakdown* Core Management Compoments * * interface to decision point + information about resource access request + information about user + other information about request (time of day, interface, etc) misc op authorization + basic control over op execution write-attribute/undefine-attribute authorization add op authorization + trick here is cases where certain attributes can't be written ++ my instinct is to reject the add; no sophisticated rules read-attribute authorization read-resource authorization, output control to use response header to indicate content was filtered configuration of our default decision point user info configuration (what data to provide decision point, where to get it) read-resource-access op (an op to learn about user's ability to use API; based on read-resource-description) + uses ++ general information ++ allow caller to disable features that will be non-functional (e.g. buttons for misc ops that are not available) model-reference issues + general issue of resources in a tree being affected by other resources + server groups ++ user has rights to a resource that affects an SG, but not to the SG itself + hosts ++ similar issue ++ twist is host-specific config vs domain-wide config affecting server's on a host + others? + notion: enforce this at domain rollout time? ++ problem: what about an admin-only HC situation? -- no rollout Web Console + the interface structure doesn't necessarily refelct the model structure ++ i.e. some coarse grained interface compoments rely on a number of resources across the model + distinction between interface structure (interaction units) and DMR payload + suppression of interaction units can only be done if the screens properly bootstrap from the model ++ relates to "read-resource-access" ++ currently not the case and a major change (intended first prototype for AS8) + distinction between logical entities and resource tree structure ++ i.e. /subsystem=datasources is resource tree structure ++ datasource=ExampleDS is a logical entity within the tree structure ++ makes a diference for address pattern matching... + do we support security constraints for logical entities? (can see datasource "Foo" but not datasource "Bar") ++ relates to "model-reference issues". CLI + basic handling of low-level (should be ok) + disable high-level commands in advance? + ls -- high-level equivalent to read-resource Configuration propagation ++ master HC to slave JMX security + AS domains depend on core security, as they just delegate ++ provide some information about access mechanism + other mbeans ++ what policy? ++ what control point? Misc issues: sniffing for resources -- request a resource to learn it exists from the failure response h2. Permission Model + Should we aim for a mapping of resources onto a permission model? ++ Do we provide the permission model? ++ For a starting point see:  https://community.jboss.org/docs/DOC-47854 https://community.jboss.org/wiki/ManagementLayerAccessControl h1. Resource Attributes The following describes resource attributes required to enforce some permission schemes we've heard: DMR API and Wireformat + separate static security meta data from dynamic runtime headers? ++ static: part of "read-resource-access" ++ dynamic: indication of enforced constraints as part of a DMR response (i.e suppressed elements) h4. Scheme 1: Monitor: -- read-only flag on the operation Configurator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Administrator -- resource address Deployer -- resource address -- see IBM details at  http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.base.iseries.doc/ae/rsec_adminroles.html#rsecadminroles__deployerrole http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.base.iseries.doc/ae/rsec_adminroles.html#rsecadminroles__deployerrole to check for more Admin Security Manager -- I would consider the equivalent for us to be the ability to configure the access control policies -- resource address Auditor -- resource address h4. Scheme 2: Anonymous -- N/A Admin -- none; user is root Deployer seems equivalent to Scheme 3's read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator -- read-only flag on the operation -- resource-address -- operation name -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Monitor -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? h4. Scheme 3: Read-only -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Privileged -- none; user is root This is basically equivalent to Scheme 2, without Scheme 2's "Operator". h4. Scheme 4: Administrator view or modify anything; deploy apps, perform lifecycle functions -- none; user is root Deployer view anything, deploy apps, perform lifecycle functions -- read-only flag on the operation -- resource-address -- operation name Operator view anything, perform lifecycle -- read-only flag on the operation -- resource-address -- operation name Monitor view anything -- read-only flag on the operation</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Very high level article on access control strategies:  https://community.jboss.org/docs/DOC-48603 https://community.jboss.org/wiki/FineGrainedAccessControlStrategies</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Second try at this after the wiki turned my first one into a repost of the main article... Sorry, Heiko, this page was really notes to myself and wasn't really in a state for publication. But word of it got out into the wild and it needed to be made visible. I'll try and clean it up today. The initial timing part was very much notes to myself. I do believe that's reasonable for a design phase though. About "Request Attributes"... The basic idea I had in mind is that authorization decisions would be made by some sort of authorization engine. The AS would define an SPI for this engine with an available set of inputs that would be provided to the engine and an expected set of outputs -- permit, deny, perhaps other stuff like the XACML "obligations" notion. The inputs would be from 4 broad categories 1) Information about the operation. 2) Information about the resource being accessed 3) Information about the caller 4) General environmental stuff, e.g. time of day, interface the call came in on, etc. +(This last is conceptual only and not something I propose dealing with in AS 8)+ The "Request Attributes" bits above are notes to myself to identify what stuff from categories 1) and 2) above we would need to provide to a rules engine to provide sufficient input for a set of rules that map to the various "roles" concepts that we've seen in different permission schemes we've heard about. It's basically thought on how to pursue the "Rules based approach" in the wiki article Anil linked. The idea I had at its core is the authorization system could be as flexibile as the rule grammar and the available inputs will allow. Directly configuring the set of rules allows the user the maximum flexibility. This is not something I see as being in scope for AS 8 though. For AS 8 (and forever really) we need a simplified system with a limited number of config options that internally generates (or statically defines) a set of rules that results in behavior like one of the schemes I listed. So, if user is in role "Operator", the rules would verify whether the operation is read-only, whether the resource or attribute description has a security restriction associated etc. Basically, the simplified system is a shorthand way of expressing a fairly complex set of rules in a user-friendly fashion. For the future, we can see if there are other, more flexibile shorthands for creating rules (e.g. a regex scheme.) Or, if appropriate we can provide direct configurability of the rules engine.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control notes</header>
    <body>h1. Objective By early September to implement a simplified domain management access control solution suitable for both AS 8 and EAP 6.x. The primary objective is to establish a simple set of roles with which users can be associated, with clear sets of operation execution permissions associated with each role. The second critical objective is to develop an architecture for authorization that will allow for a much more generic/flexible authorization scheme to be implemented in future releases without breaking the simple scheme we do now. Actually providing a generic scheme is out of scope for AS 8. h1. Team and Timeline Full time: Heiko Braun, Darran Lofthouse, Kabir Khan, Brian Stansberry Available to assist as needed: Jason Greene, Anil Saldhana, subsystem leads Design Phase I: + Lay out the fundamental architecture, identify the main requirements and intended approach for meeting each + 2 weeks + Completion allows some aspects of dev to begin (which, TBD) + Inability to get the stated time commitments from all participants delays completion by that amount of time Design Phase II: + Design in detail some of the fundamental areas where either coordinated design is required or a sub-team needs to flesh out details + 2 weeks Dev Phase: + 2.5 months + Achieve feature completion + See tasks below ++ need to assign resources and timelines to each task. Dev Test Phase: + hardening period + 1 month + ends Sept 6 QE Phase: + begins following September 6 end of Dev Test Phase h1. Tasks *General Tasks* - Provide a permission model, storage and API - Enable configuration of the permission model - Provide operations to retrieve permission meta data - Enforce permissions in core management compoments (mapping of permission model against resources) - Enforce permissions  in web console (mapping of permission model against interaction units and use cases) - Enforce permissions in CLI (mapping of permission model against command line syntax and use cases) *Component Breakdown* Core Management Compoments * * interface to decision point + information about resource access request + information about user + other information about request (time of day, interface, etc) misc op authorization + basic control over op execution write-attribute/undefine-attribute authorization add op authorization + trick here is cases where certain attributes can't be written ++ my instinct is to reject the add; no sophisticated rules read-attribute authorization read-resource authorization, output control to use response header to indicate content was filtered configuration of our default decision point user info configuration (what data to provide decision point, where to get it) read-resource-access op (an op to learn about user's ability to use API; based on read-resource-description) + uses ++ general information ++ allow caller to disable features that will be non-functional (e.g. buttons for misc ops that are not available) model-reference issues + general issue of resources in a tree being affected by other resources + server groups ++ user has rights to a resource that affects an SG, but not to the SG itself + hosts ++ similar issue ++ twist is host-specific config vs domain-wide config affecting server's on a host + others? + notion: enforce this at domain rollout time? ++ problem: what about an admin-only HC situation? -- no rollout Configuration propagation ++ master HC to slave JMX security + AS domains depend on core security, as they just delegate ++ provide some information about access mechanism + other mbeans ++ what policy? ++ what control point? Web Console + the interface structure doesn't necessarily refelct the model structure ++ i.e. some coarse grained interface compoments rely on a number of resources across the model + distinction between interface structure (interaction units) and DMR payload + suppression of interaction units can only be done if the screens properly bootstrap from the model ++ relates to "read-resource-access" ++ currently not the case and a major change (intended first prototype for AS8) + distinction between logical entities and resource tree structure ++ i.e. /subsystem=datasources is resource tree structure ++ datasource=ExampleDS is a logical entity within the tree structure ++ makes a diference for address pattern matching... + do we support security constraints for logical entities? (can see datasource "Foo" but not datasource "Bar") ++ relates to "model-reference issues". CLI + basic handling of low-level (should be ok) + disable high-level commands in advance? + ls -- high-level equivalent to read-resource Misc issues: sniffing for resources -- request a resource to learn it exists from the failure response h2. Permission Model + Should we aim for a mapping of resources onto a permission model? ++ Do we provide the permission model? ++ For a starting point see:  https://community.jboss.org/docs/DOC-47854 https://community.jboss.org/wiki/ManagementLayerAccessControl h1. Resource and Action Attributes The following describes attributes required as inputs to a authorization mechanism, which that mechanism would use to enforce some permission schemes we've heard of. The assumption was the authorization mechanism would be some form of Attribute Based Access Control, although the use of ABAC is not a requirement. The terms "Resource Attributes" and "Action Attributes" is derived from the XACML spec, which notes that "Information security policies operate upon attributes of subjects, the resource, the action and the environment in order to arrive at an authorization decision." This section is concerned with identifying relevant attributes of the management resources toward which an operations is targetted, as well as the relevant attributes of the operation itself. DMR API and Wireformat + separate static security meta data from dynamic runtime headers? ++ static: part of "read-resource-access" ++ dynamic: indication of enforced constraints as part of a DMR response (i.e suppressed elements) h4. Scheme 1: Monitor: -- read-only flag on the operation Configurator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator: -- Storage flag on attribute -- flag on operation to indicate runtime-only -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Administrator -- resource address Deployer -- resource address Admin Security Manager -- I would consider the equivalent for us to be the ability to configure the access control policies -- resource address Auditor -- resource address h4. Scheme 2: Anonymous -- N/A Admin -- none; user is root Deployer seems equivalent to Scheme 3's read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Operator -- read-only flag on the operation -- resource-address -- operation name -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Monitor -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? h4. Scheme 3: Read-only -- read-only flag on the operation -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Read-write -- "security privileged" flag attribute -- "security privileged" flag on resource -- attribute value is a vault expression? Privileged -- none; user is root This is basically equivalent to Scheme 2, without Scheme 2's "Operator". h4. Scheme 4: Administrator view or modify anything; deploy apps, perform lifecycle functions -- none; user is root Deployer view anything, deploy apps, perform lifecycle functions -- read-only flag on the operation -- resource-address -- operation name Operator view anything, perform lifecycle -- read-only flag on the operation -- resource-address -- operation name Monitor view anything -- read-only flag on the operation</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Migration of my application from Glassfish 2.1. to JBoss 7.1.3 -Related to user shared lib</header>
    <body>Good day! My application is running fine in Glass fish 2.1. It is .ear file. I am using more configuration file like xsl,xsd,apache log4j xml and some property files to my application. So I have created shared library in my disk say C:/SharedLib and put all my configuration files in this location. In glassfish I will give this location in my Application Server--&gt;JVM settings--&gt;path settings --&gt; Classpath prefix ---&gt; C:/SharedLib I will use all the property files,jar files and xsl,xsd from that location(C:/SharedLib. My application (.ear ) contains ejb and war file. My question is how i can use same configuration in my Jboss 7.1.3? Is there any way without changing my code in my application .ear?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Migration of my application from Glassfish 2.1. to JBoss 7.1.3 -Related to user shared lib</header>
    <body>Hi there, Welcome to the JBoss forums! In the future, your questions will get more attention in the  https://community.jboss.org/community/jbossas7 JBoss AS 7 discussion list. In the meantime, have a read of  https://docs.jboss.org/author/display/AS71/Class+Loading+in+AS7 Class Loading in AS7 and  https://community.jboss.org/docs/DOC-18247 How to put an external file in the classpath. Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>In the general tasks section there are a couple of lines mentioning "Enforce Permissions" in web console and CLI - I would suggest there should be no mention on client side enforcement as that is just not enforcement - all of that needs to be on the server side. What these clients do need is appropriate meta data to be returned to allow them to be able to still run intuitively against the server.  The alternative is each client needs to be updated to understand the permissions model and act accordingly, the down side of this is now we need to maintain it in multiple locations with This in turn implies to me that anything server side needs to be more than just enforcement i.e. performing an authorization check at the time of an attempt to access the model / execute an operation is the bare minimum - we potentially need to be able to go beyond this to pro-actively identify what can or can not be accessed. As we have mentioned previously for any permissions schema to be secure it needs to be understandable, one possibility here is to look at ways to show the effect of the currently defined permissions scheme on the domain model.  This could be something along the lines of generating a report which visualises the tree and highlights what can and can not be accessed by a specific user / role - alternatively social networks commonly have a view profile as option to see what others can see, this could be a mode to consider in the console. Some of these items might be out of scope for this phase of development but just wanted to raise them so we can at least take them into account.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - Integration Tooling	Release Process</header>
    <body>h1. Overview This document details the process for building and releasing composite/aggregate update sites for the JBoss integration tooling (formerly SOA tools). h2. Goals * Provide a light-weight process with minimal overhead for component owners. * Provide an ever-current update site containing the latest, stable releases of integration tooling components. * Allow component owners to independently manage their release schedules. * Allow component owners to manage their own dependency stack. h2. Assumptions * Components use released versions of dependencies (i.e. stable builds). * Component owners manage their own interdependencies with other integration components. * Components and dependencies adhere to Eclipse API versioning rules. h2. Implications * Aggregate releases will be driven by component releases. * Aggregate releases should manage themselves. * Component nightly/milestone builds should always be compatible with other components in the aggregate. h2. Definitions * *Integration Stack (IS)* - all JBoss middleware integration tooling * *IS configuration* - the definition of specific components and versions that make up the IS * *IS build* - an update site (p2 repo) aggregating specific versions of integration tooling components. * *Release types:** *stable* - an IS build aggregating stable (i.e. final) builds of all components that has been certified/tested by QA. * *development* - an IS build aggregating stable builds of all components that has not been certified/tested by QA. * *integration* - an IS build aggregating stable, development (e.g. beta) and/or integration builds of all components * *next* - an internal IS build incorporating the latest integration builds of all components (i.e. the current "trunk" build).  This will be used for identifying potential future incompatibilities. Stable builds will align  with a JBDS release in the same way JBT core builds do today.  Development builds will reflect the current state of all stable components.  Theoretically, any development build could be QA'd and promoted to stable (assuming no test failures).  Integration builds allow for an "interim" stack which may be useful during a QA cycle (e.g. verifying a fix that requires updates to multiple components; a single component can be updated via the component update site).  Next builds are used to identify potential incompatiblilities among components before they are integrated into a release and would occur weekly/monthly via a Hudson job (e.g. targeting JBT integration builds). An IS build only needs to occur when the IS configuration changes.  Because the IS stack is composed of stable components, configuration changes will only occur when individual components are released.  For this reason, it is assumed the build would be invoked manually and there is not reason for a nightly build. h1. Roles and Responsibilities h2. Component Owners 1. *Component update site:*  Component owners must provide an update site for each release of their component that is included in an IS build. 2. *Updating IS configuration:*  Component owners must update the IS build configuration when a new version of their component is released.  This ensures the IS is up-to-date. 3. *Respond to change requests:*  Component owners must review IS configuration change requests and respond in a timely manner.  If a requested change is incompatible with the current version of your component, provide details regarding when your component will be compatible, along with a patch containing changes to the IS configuration for your compatible release. h2. Release Engineers 1. *Maintain build infrastructure:*  Release engineers will be responsible for maintianing the build infrastructure, primarily the Jenkins jobs. 2. *Processing pull requests:*  Release engineers will be responsible processing all pull requests related to IS configuration.  This is to ensure consistency in the composition of the stack (e.g. components, component versions, IS version, etc.). 3. *Initiate IS builds:*  Release engineers will be responsible for initiating IS builds. 4. *Build promotion:*  Release engineers will be responsible for the promotion of IS builds (e.g. from development to stable). h1. Release Process h2. Component Updates The following outlines the basic process for updating the IS configuration.  Typically, this would occur when a component is released, but the same process is also used for updating shared dependencies (e.g. JBT core, third-party plugins, etc.). 1. Create a branch in the user repository for your IS configuration changes. 2. Modify the Integration Stack configuration for your updates, e.g. update URL for SwitchYard from 0.5.0.Final to 0.6.0.Final; update IS version from 0.9.0 to 0.9.1 (see versioning rules)1. For changes to your component within the community aggregate:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/site/pom.xml pom.xml. 2. For changes to your component within the production aggregate:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site1. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site/compositeArtifacts.xml compositeArtifacts.xml and  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site/compositeContent.xml compositeContent.xml files to point to the new component update site. 2. Modify the  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site/category.xml category.xml file as necessary for any feature changes (e.g. adding a feature). 3. Modify the project version in  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/site/pom.xml pom.xml. 3. For changes to dependencies:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform https://github.com/jbosstools/jbosstools-integration-stack/tree/master/target-platform1. Modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/integration-stack-base.target integration-stack-base.target,  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/core-base.target core-base.target or  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target. The integration-stack-base and core-base combine to include all dependencies which are included as part of JBDS.  See the generated aggregate-base.target in your repository.  The community target extends the base target by including dependencies which are only available in community JBT releases (aggregate-full.target).                          e.g. I need to update to graphiti 0.9.2: 0.0.0.1. fork/branch/modify  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/integration-stack-base.target integration-stack-base.target 0.0.0.2. update the version of graphiti 0.0.0.3. verify that the updated version is being mirrored correctly on jboss.org 0.0.1. Modify project version in  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/pom.xml pom.xml 0.0.2. Ensure plugins are mirrored on jboss.org 1. Build locally to validate stack dependencies. 2. Create a  https://issues.jboss.org/browse/JBTIS JBTIS JIRA task requesting update, e.g. update SwitchYard to 0.6.0.Final* Include link to github branch in task * Include build  results (e.g. SUCCESS or specific dependency resolution errors) 3. Create subtasks against each IS component for verification/approval* For components that failed the consistency check, mark subtasks appropriately, e.g. m2e-wtp version is inconsistent 4. Merge any changes required by other components from subtasks (e.g. update Savara to 2.1.0.Final) 5. Build IS locally to validate dependency consistency 6. Issue pull request against upstream IS configuration project 7. Process pull (by release engineer) 8. Invoke build job (by release engineer) h2. Platform Updates *Goal:* release updated IS within four weeks of JBT/JBDS core release. 1. Initiate platform update during JBT beta phase 2. Follow the component update process above (e.g. update JBT core from 3.3 to 4.0) h2. JBoss Central Discovery Updates *Goal:* Modify the JBoss Central mylyn discovery install/update mechanism. JBoss Central, based on  http://wiki.eclipse.org/Mylyn/Discovery Mylyn Discovery, is in part a UI for installing new features into Eclipse or JBDS. It provides a richer, yet simpler UI than what the Eclipse equinox p2 install manager provides out of the box. For detailed information see  https://community.jboss.org/docs/DOC-48297 https://community.jboss.org/wiki/JBossCentralsSoftwareUpdateTab-HowDoesItWork 1. For changes to the jbosstools community discovery update:   https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/discovery https://github.com/jbosstools/jbosstools-integration-stack/tree/master/jbosstools/discovery or production discovery update:  https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/discovery https://github.com/jbosstools/jbosstools-integration-stack/tree/master/devstudio/discovery follow the same git process as defined in the Components Updates section. 2. Modify the plugin connector descriptors and installation units as needed within the discovery plugin. 3. Add any icons that may be required. h2. Dependency Updates The process for updating a shared dependency is the same as that for updating any other component, with the following additions: 1. Make sure the dependency is mirrored on jboss.org. 2. Make sure the dependency is not already included through JBT core. If a dependency is included through JBT core, you will need to coordinate with the core team on the upgrade, as the change may impact components outside the IS. h2. Versioning Rules - major.minor.update.build *Major* should be updated for: * Base platform changes, e.g. Eclipse Indigo-&gt;Juno, JBT 3.3-&gt;4.0 * Major component updates, e.g. SwitchYard 1.0-&gt;2.0 *Minor* should be updated for minor component updates, e.g. SwitchYard 0.5-&gt;0.6 *Update* should be updated for minor component updates, e.g. SwitchYard 0.5.0-&gt;0.5.1 *Build* should be updated for each build, e.g. when building against nightly/integration/development repositories ** Note, the basic assumption here is that components are adhering to basic API rules (per Eclipse; e.g. minor includes bug fixes and api additions, major may include breaking api changes). h1. Update Site Locations * *Integration builds:  http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate http://download.jboss.org/jbosstools/updates/integration/juno/integration-stack/aggregate* * *Development builds:  http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/development/juno/integration-stack/aggregate* * *Stable builds:  http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate http://http://download.jboss.org/jbosstools/updates/stable/juno/integration-stack/aggregate* h1. Infrastructure * *JIRA -*  https://issues.jboss.org/browse/JBTIS https://issues.jboss.org/browse/JBTIS * *Source -*  https://github.com/jbosstools/jbosstools-integration-stack https://github.com/jbosstools/jbosstools-integration-stack* *target-platform* - provides a target platform defining all upstream dependencies for use by IS components (e.g. JBT core, third-party plugins) * *aggregate-site* - provides category and feature definitions for the IS update site * *discovery* - provides JBoss Central discovery support * *Jenkins* - * *target platform* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-target-platform * *aggregate* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate * *aggregate publish/promote* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-aggregate-publish * *discovery* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-discovery * *install tests* -  https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/JBTIS-4.0_stable_branch.director-install-tests.eclipse42x.jbt40x.matrix h2. Target Platforms The provided target platforms define all upstream dependencies available to an IS component.  Three target platforms are provided:  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/integration-stack-base.target integration-stack-base.target,  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/core-base.target core-base.target and  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/target-platform/community.target community.target (see Component Updates above).   If your component needs to be included in a JBDS release, DO NOT use the community target platform.  For more information and an example on how to refer to the target platform definition, see:  https://github.com/jbosstools/jbosstools-integration-stack/blob/master/README.md https://github.com/jbosstools/jbosstools-integration-stack/blob/master/README.md h1. Future Plans 1. Add support for executing component unit tests as part of the aggregate build.  The goal being to help ensure the stability of the aggregate. Add a "next" build that will build against upcoming core platforms (e.g. Kepler, JBT 4.1).  This should serve as an early warning system to identify platform incompatibilities early in the process</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Agreed; we need another term. This is what I was getting at with read-resource-access op (an op to learn about user's ability to use API; based on read-resource-description) + uses ++ general information ++ allow caller to disable features that will be non-functional (e.g. buttons for misc ops that are not available) My assumption is the admin console will need something like this to provide a proper UI. If it does a read-resource, a response header associated with the response can indicate that certain attributes or children were filtered out due to access control reasons, so the console can take action when it renders the screen. But to know that the "Test JDBC Connection" button should be disabled or hidden, the console will need to know that the op is not allowed, and that won't come from any existing op. The report thing you mention could be a twist on this with parameter(s) to set the "view as" value. Perhaps a different op but with shared implementation details.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Disabling application deployment in JBoss AS 7</header>
    <body>I have a deployment architecture spanning in two different environments say X and Y. X has a standalone JBoss AS 7 and Y has a separate standalone JBoss AS 7. We have application abc.war and xyz.war and as part of the build process we copy both war file to a deployment directory from where the hot deployment happens. My questions is is there a way where I can define to deploy abc.war and xyz.war in server X and abc.war in server Y or can we disable a specific deployment. My experience with OC4J and Oracle Weblogic servers allows us to specify a disable flag that would not let the application deploy. Thanks, Arul Prashanth.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Disabling application deployment in JBoss AS 7</header>
    <body>Not via the deployment scanner, no. You can upload a deployment to the server via the CLI but not have it deployed though: Note the "enabled" attribute. Later you could use the CLI to trigger the deployment:</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Disabling application deployment in JBoss AS 7</header>
    <body>Or you could also use admin console if you dont like CLI  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Compensating Transactions: When ACID is too much</header>
    <body>I'm using this article as a place for people to review a blog post I'm preparing. The plan is to base my JUDCon:Boston talk roughly on this blog post. In addition to this theory, my presentation will include plenty of code examples for each of the scenarios. These code examples will demonstrate the current design of the compensations API. I'll also be adding sections at the end to explain what we have implemented so far and our future roadmap. My current thoughts are that this text is too long for a blog post. h1. Compensating Transactions: When ACID is too much ACID transactions are a useful tool for application developers and can provide very strong guarantees, even in the presence of failures. However, ACID transactions are not always appropriate for every situation. ACID transactions are achieved by holding locks on resources and require the ability to rollback changes. In some situations, the blocking nature of the protocol can be too limiting to performance, especially if the transaction is distributed. Also, some actions can’t simply be rolled back; for example, sending an email. A common strategy for applications that can’t use ACID, is to throw out transactions altogether. However, with this approach you are missing out on many of the benefits that transactions can provide. There are alternative transaction models that relax some of the ACID properties, while still retaining many of the strong guarantees essential for building robust enterprise applications. These should be considered before deciding not to use transactions at all. In a recent post I talked about the work we are doing, in the Narayana project, to improve support for compensation-based transactions. In this post I’ll show how this technology can be applied to scenarios in which ACID transactions are frequently seen as inappropriate. What is a ‘Compensation-based transaction’? In an ACID transaction, changes are not visible outside of the transaction until it completes. An atomic outcome is guaranteed using a two-phase protocol in which locks are obtained prior to the first phase and released in the second phase. The transaction manager guarantees an atomic outcome, even in the presence of failures. In a compensation-based transaction, changes are visible outside of the transaction as soon as they are made. If any of the participants are unsuccessful, the transaction compensates those participants that have already completed their work. This compensation action is application specific and is required to ‘undo’ the changes made by the transaction. Similarly to the ACID transaction, the transaction manager guarantees an atomic outcome, even in the presence of failures. h4. When are Compensation-based Transactions a good fit? h6. Non-transactional work ACID transactions rely on the work supporting rollback. This is fine for work that interacts with transactional resources, such as databases or message queues. However actions like sending an email cannot be rolled back. Here a compensation-based transaction can be used as an alternative. In this case the compensation action is to send another email notifying the recipient of the final outcome. Alternatively, you may have multiple XA (two-phase) aware resources, but due to performance reasons you need to run them in one-phase mode. Maybe you have a combination of transactional and non-transactional work. In this case the transactional work can be rolled back, if required, whilst the non-transactional resources are compensated. Also, you may have transactional resources or services, but, for whatever reason, they will not participate in an existing transaction. This can occur when you try to compose multiple services outside of your control. For example, a travel agent application may compose a transaction of calls to third party services. Providing these services offer an interface for cancelling (compensating) a booking, you should be able to use a compensation-based transaction to coordinate them. If you find yourself needing to coordinate multiple non-transactional tasks, you should consider using compensations. h6. Cross-Domain Distributed Transactions When your application becomes distributed, you greatly increase the chances of failure. Many of these failures can be tolerated by using a distributed ACID transaction. However, this approach is often dismissed as impractical for a number of reasons. The first is that distributed transactions tend to take longer to run, due to the increased communication latency. This can cause big problems for your throughput as the duration of held locks greatly increases. The second issue is that all the servers in the distributed transaction become tightly-coupled. Furthermore, the server that begun the transaction has full control over when the transaction should complete (ignoring the option of making a heuristic decision, which is really bad!). This may be acceptable if all the servers reside in the same business domain, but it’s rarely acceptable for cross-business domain applications. Compensation-based transactions can be used to solve both of these problems. The latency imposed by the distributed transaction does not result in holding of locks for extended periods as the work is completed immediately, rather than waiting until the end of the transaction. If this work was a database update, it would be committed immediately. A second database update would be made to undo the change, should compensation be required. Compensation-based transactions also encourage a loosely-coupled architecture as each participant offers a more natural interface to the coordinator. For example, in a flight booking example, the service interface would consist of ‘bookFlight’ and ‘cancelFlight’ operations (‘cancel’ being the compensating action). h6. Long Lived Transactions (LLT) ACID transactions are not particularly well suited for transactions that take a long time to run. This is because they acquire locks on resources as they progress and don’t release them until the transaction completes. In the meantime, other transactions, requiring that data, are blocked. Furthermore, a failure of a long running transaction results in the loss of all work completed so far. A compensation-based transaction can be composed of multiple short-lived ACID transactions. When each transaction completes, it releases the locks on the data it held, allowing other transactions, requiring that data, to proceed. A compensation action is registered for each ACID transaction. These actions are invoked, in reverse order, for all completed transactions, should the LLT need to be aborted. Furthermore, should one of these short-lived transactions fail, it could be possible to find an alternative, preventing the entire transaction from failing, and allowing forward progress to be achieved. Also, in some situations, as the transaction progresses, you may decide to abort just part of the transaction. For example, take a travel booking example. We begin by booking a flight. We then try to book a taxi, but that fails. At this point we don’t want to compensate the flight as it may be fully-booked next time we try. Therefore we try to find an alternative Taxi, which in this example succeeds. Later, in the LLT, we may find a cheaper flight, in which case we want to cancel the original flight whilst keeping the taxi and booking the cheaper flight. In this case we notify our intentions to the transaction manager who ensures that the more expensive flight is compensated when the LLT completes. h6. Conclusion In this blog post I’ve introduced the concept of a compensation-based transaction and showed how it could be used to provide strong guarantees in situations that are not applicable for ACID transactions. Most of what is discussed here is already supported through our WS-BA implementation. We are currently in the process of decoupling this technology from Web Services and improving the developer API.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - problem during starting	task service</header>
    <body>hi i tried to start human task service but i encountered a problem here: C:\jbpm-installer 5.4&gt;ant start.human.task Buildfile: C:\jbpm-installer 5.4\build.xml start.human.task:     [mkdir] Created dir: C:\jbpm-installer 5.4\task-service\target     [javac] C:\jbpm-installer 5.4\build.xml:864: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds     [javac] Compiling 1 source file to C:\jbpm-installer 5.4\task-service\target      [copy] Copying 5 files to C:\jbpm-installer 5.4\task-service\target *     [java] 14   22/02 04:13:56,274[main] ERROR task.identity.DefaultUserGroupCallbackImpl.&lt;init&gt;  - Error when loading group information for callback from location: file:null/roles.properties* *     [java] java.io.FileNotFoundException: null\roles.properties (The system cannot find the path specified)*      [java]     at java.io.FileInputStream.open(Native Method)      [java]     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)      [java]     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:97)      [java]     at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:90)      [java]     at sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:188)      [java]     at java.net.URL.openStream(URL.java:1037)      [java]     at org.jbpm.task.identity.DefaultUserGroupCallbackImpl.&lt;init&gt;(DefaultUserGroupCallbackImpl.java:55)      [java]     at org.jbpm.task.identity.DefaultUserGroupCallbackImpl.&lt;init&gt;(DefaultUserGroupCallbackImpl.java:40)      [java]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)      [java]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)      [java]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)      [java]     at java.lang.reflect.Constructor.newInstance(Constructor.java:525)      [java]     at java.lang.Class.newInstance0(Class.java:372)      [java]     at java.lang.Class.newInstance(Class.java:325)      [java]     at org.jbpm.task.identity.UserGroupCallbackManager.setCallbackFromProperties(UserGroupCallbackManager.java:69)      [java]     at org.jbpm.DemoTaskService.main(Unknown Source)      [java] Task service registered usergroup callback ...      [java] Task service started correctly!      [java] Task service running ... what should i do now?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: problem during starting	task service</header>
    <body>You need to change your build.xml file.. &lt;java classname="org.jbpm.DemoTaskService" fork="true"&gt;  *        &lt;sysproperty key="jbpm.user.group.mapping" value="..........jbpm-installer/jboss-as-7.1.1.Final/standalone/configuration/roles.properties"/&gt; *       &lt;classpath&gt;             &lt;path refid="classpath.human.task" /&gt;       &lt;/classpath&gt;     &lt;/java&gt; ﻿ Add the line in bold..</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Compensating Transactions: When ACID is too much</header>
    <body>My current thoughts are to split this into a 4 part blog post: P1. Introduction and overview of what's coming in the remaining parts P2. Non-transactional work section with code examples P3. Cross-Domain Distributed Transactions section, with code examples P4. Long Lived Transactions section, with code examples. I would then release each part weekly in the run-up to JUDCon.I'd also put some reference to my JUDCon talk on each part. Something along the lines of "if you find this interesting, come here me talk on the subject at JUDCon...".</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS8 Web Container	Security Use Cases</header>
    <body>I want to capture some of the use cases I can think of here so they are recorded and communicated to the Undertow dev team. h2. 1. Interceptor Mechanism We need some form of interceptors concept to obtain the following functionality identified in the subsections 1.1, etc In the old JBossWeb/Tomcat world, this was provided by the Authenticator/Valve interfaces. h3. h3. 1.1 SAML Web Browser SSO Profile Previously we used IDPWebBrowserSSOValve and SPFormAuthenticators h3. 1.2 SAML Global Logout Profile Previously we used IDPWebBrowserSSOValve and SPFormAuthenticators h3. 1.3 JSR 196 (JASPI) Integration Previous we had a JASPI Authenticator in JBossWeb.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Logging Id's</header>
    <body>Logging id ranges for JBoss AS7 i18n message interfaces. ||  %1,3% *Status* || | C | = | Complete | | I | = | In Progress | | P | = | Merged, but not complete | | W | = | Waiting Merge | || *Range* || *Subsystem * || *Status * || | *10100 - 10199* | *Transaction* | C | | *10200 - 10399 * | *Clustering** * | C | | *10400 - 10499* | *Connector** * | C | | *10500 - 10599* | *CLI (not applicable) * | N/A | | *10600 - 10699* | *Controller Client* | C | | *10700 - 10799*, *18500 - 18699, 18800-18999* | *CMP* | C | | *10800 - 10899* | *Host Controller (domain packages)* | C | | *10900 - 10999, 16500 - 16599* | *Host Controller (host packages)* | C | | *11000 - 11099, 16700 - 16799* | *EE* | C | | *11100 - 11199* | *Embedded* | C | | *11200 - 11299* | *JAXRS* | C | | *11300 - 11399* | *JMX* | C | | *11400 - 11499* | *JPA* | C | | *11500 - 11599* | *Logging* | C | | *11600 - 11699* | *Messaging* | C | | *11700 - 11799* | *mod_cluster* | C | | *11800 - 11899* | *Naming* | C | | *11900 - 11999* | *OSGi* | C | | *12000 - 12099, 16600 - 16699* | *Process Controller* | C | | *12100 - 12199* | *Protocol* | C | | *12200 - 12299* | *Management Client Content* | C | | *12300 - 12399* | *Platform MBeans* | C | | *12400 - 12499* | *Threads* | C | | *12500 - 12599* | *PicketLink* | I | | *12600 - 12699* | *JSF (proposed)* | | | *12700 - 13100* | *IIOP Common (proposed)* | | |  *13100 - 13199* | *JDR* | C | | *13200 - 13299* | *AppClient* | C | | *13300 - 13399* | **Security* * | C | | *13400 - 13499, 14600 - 14899* | *Controller* | C | | available block(s) | | | | *14000 - 14099* | *JAXR* | W | | *14100 - 14599* | *Ejb3* | P | | **13400 - 13499, 14600 - 14899** | *Controller* | C | | *14900 - 14999* | *Deployment Repository* | C | | *15000 - 15099* | *Deployment Scanner* | C | | *15100 - 15199* | *Domain Management HTTP Interface* | C | | *15200 - 15299* | *Deployment Management* | C | | *15300 - 15399* | *Network* | C | | *15400 - 15499* | *Mail* | C | | *15500 - 15699* | *Web Services (AS subsystem)* | C | | *15700 - 15999*, *18700 - 18799* | *Server* | C | | *1**6000 - 16099* | *Weld* | C | | *16100 - 16199* | *EE Deployment* | C | | *16200 - 16299* | *Configadmin* | C | | *16300 - 16499* | *Jacorb* | C | | *10900 - 10999, 16500 - 16599* | *Host Controller (host packages)* | C | | *12000 - 12099, 16600 - 16699* | *Process Controller* | C | | *11000 - 11099, 16700 - 16799* | *EE* | C | | *16800 - 16899* | *Patching (Library)* | C | | *16900 - 16999* | *Patching (Server)* | | | *17000 - 17099* | *POJO* | C | | *17100 - 17199* | *Remoting* | W | | *17200 - 17299* | *SAR* | W | | *17300 - 17699* | *Web/Undertow (reserved)* | I | | available block(s) | | | | *18000 - 18399* | *Web* | C | | *18400 - 18499* | *Xts* | C | | *15700 - 15999, 18700 - 18799* | *Server* | C | | available block(s) | | | | *19000-19999* | *JSR-77* | I | | *20000-20999* | *Camel* | I |</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Possible Bug: querying nodeInstanceLog by processId and nodeId does not work</header>
    <body>You can use the following code : Process process = kbase.getProcess(processDefId); // use kbase loaded with the process definition name. for (Node node : ((WorkflowProcessImpl) process).getNodes()) ﻿</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Possible Bug: querying nodeInstanceLog by processId and nodeId does not work</header>
    <body>If you want to find out the state of the process, you can get it from the ProcessInstanceLog object. But may be by state, you mean the current node in the process which is active. In your code though, how do you get the "wflowProcessInstance" ??? Anyway. You could use the following code. for (Node node : ((WorkflowProcessImpl) process).getNodes())     if(nodeInstanceLogList.size() == 1) ﻿           //add the node to the list, as there may be more than one node active.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Closing the	subforum?</header>
    <body>Seems like this has been "undone"...</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Closing the	subforum?</header>
    <body>And AS7 is not even being developed anymore! ;-)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - JBoss ESB performance	issue</header>
    <body>Hi, I am getting performance issue with JBoss ESB. I have created an ESB service. In which I transforming the message using Smooks. I can see the Smoks transformation takes more than 3 sec for 25 concurrent request but for 10 concurrent request it looks fine.   I have been suffering from last two weeks. Could you please me to fix this. I am using JBoss As 5.1.0. Thanks in advance. Thanks, Kausik</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - How Can I set "get-payload-location" and "set-payload-location" in SmooksAction</header>
    <body>Hi, How can i  set "get-payload-location"  and "set-payload-location" in SmooksAction. I dont want to set it in default location. and also  help me how can i access these in other Action class. Thanks, Kausik</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - WildFly Web Container	Security Use Cases</header>
    <body>https://community.jboss.org/docs/DOC-48423 &lt;&lt; Back to AS8 Security Dashboard I want to capture some of the use cases I can think of here so they are recorded and communicated to the Undertow dev team. h2. 1. Interceptor Mechanism We need some form of interceptors concept to obtain the following functionality identified in the subsections 1.1, etc In the old JBossWeb/Tomcat world, this was provided by the Authenticator/Valve interfaces. h3. h3. 1.1 SAML Web Browser SSO Profile Previously we used IDPWebBrowserSSOValve and SPFormAuthenticators h3. 1.2 SAML Global Logout Profile Previously we used IDPWebBrowserSSOValve and SPFormAuthenticators h3. 1.3 JSR 196 (JASPI) Integration Previous we had a JASPI Authenticator in JBossWeb.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - WildFly Security	Dashboard</header>
    <body>** #Security_UseCasesDiscussions Security UseCases/Discussions ** #References References This article will act as the central dashboard for all security related discussions and articles for JBoss AS8. h2. Security UseCases/Discussions (Please place appropriate links in this section) 1. JBoss Modules Security Use Cases/Discussions (Links:  https://community.jboss.org/docs/DOC-48383 https://community.jboss.org/wiki/AS8JBossSecurityManagerDiscussion    and   https://community.jboss.org/docs/DOC-48386 https://community.jboss.org/wiki/AS8JBossSecurityManagerImplementationPlan) 2. Java Security Manager Use Cases/Discussions (Links:  https://community.jboss.org/docs/DOC-48383 https://community.jboss.org/wiki/AS8JBossSecurityManagerDiscussion    and   https://community.jboss.org/docs/DOC-48386 https://community.jboss.org/wiki/AS8JBossSecurityManagerImplementationPlan) 3. Web Container Security Use Cases/Discussions (Links:  https://community.jboss.org/docs/DOC-48612 https://community.jboss.org/wiki/AS8WebContainerSecurityUseCases ) 4. EJB Container Security Use Cases/Discussions 5. JCA Container Security Use Cases/Discussions 6. Messaging Container Security Use Cases/Discussions 7. JACC Use Cases/Discussions 8. CSIv2 Use Cases/Discussions 9. Application Security Use Cases/Discussions 10. Password Management using SecurityVault Discussions h2. References WildFly IRC Discussions ( http://echelog.com/logs/browse/jboss-as8/ http://echelog.com/logs/browse/wildfly)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Hacking on WildFly</header>
    <body>h4. h4. 1. Create a github account http://github.com http://github.com h4. 2. Fork jboss-as into your account http://github.com/jbossas/jboss-as http://github.com/jbossas/jboss-as h4. 3. Clone your newly forked copy onto your local workspace $ git clone git at github.com:[your user]/jboss-as.git Initialized empty Git repository in /devel/jboss-as/.git/ remote: Counting objects: 2444, done. remote: Compressing objects: 100% (705/705), done. remote: Total 2444 (delta 938), reused 2444 (delta 938) Receiving objects: 100% (2444/2444), 1.71 MiB | 205 KiB/s, done. Resolving deltas: 100% (938/938), done. $ cd jboss-as h4. 4. Add a remote ref to upstream, for pulling future updates git remote add upstream git://github.com/jbossas/jboss-as.git h4. 5. As a precaution, disable merge commits to your master git config branch.master.mergeoptions --ff-only h4. 6. Use maven (via build.sh) (make sure you use maven 3) *Building AS8 requires Java 7, make sure you have JAVA_HOME set to point to the JDK7 installation* $ ./build.sh install ..... [INFO] ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Clustering Development] - Issue in Session replication from slave to master</header>
    <body>Hi All, i had configured clustering with 2 node, with Httpd in the front end. clustering is working fine, if master is down, session is replicated to slave. but issue is when slave is down, session is not replicated to master....it say's h1. Not Found The requested URL /ClusterWebApp/ was not found on this server. i have to restart the http server....then only session is replicated to master, that too with a new session. what changes i have to do to make the same session replicate to replicate from slave to master... pls some body help me....i am waiting for a quick soln......</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>Enforcement might be a misleading term, but this is what I meant, when talkig about the CLI and the Console. Somehow clients need to bootstrap themselves from the model in order to suppress interaction elements.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - WildFly Web Container Security Use Cases</header>
    <body>Hello Anil - this article is good and highlights the next areas I will look into for integration, however one small point. I would suggest not placing 'Interceptor Mechanism' as a requirement, that is an implementation detail.  The Authenticator/Valve intercetpro approach is one of the main reasons it was very difficult to combine authentication mechanisms in the past - what we really need is integration of these three items with the Undertow mechanisms.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Access control	notes</header>
    <body>I am finding it hard to find a single word to describe the client side but I think safer terminology might be along the lines of: - "Interpretation of the security configuration for the current user to provide an intuitive user interface." As we design the feature this could range all the way from duplicating all authorization code in all consoles to identify what a user can access through to having sufficient meta-data provided by the management interfaces to make the decisions.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: StaticWireTap and	invmScope</header>
    <body>Hi Magesh, Pardon me for not replying back earlier.  I think we have identified what was causing the StaticWireTap'ped service to be not invoked. We had this staticWireTap action in the action pipeline where the first action was ensuring a Asynchronous delivery. Basically this Asynchronous delivery action had processException method, which upon exception rolls back the transaction. It seemed like, in case of unhappy path (that somewhere in the action pipeline there was an exception), the Static wire tap'ped service was not called - yes, I tested by having break points. It was probably queued to be called but was not called, possibly due to an exception in one of actions in the parent service. The wiretapped service was being called in case of happy path, without any issue. We are probably going to remedy this by having another top level service whose job is to basically wiretap twice, once in to the parent service and have another wiretap to the service which needed to be wiretapped in first place. Regards Soltar</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: StaticWireTap and	invmScope</header>
    <body>Hi Soltar, Glad you got it resolved!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Using jBPM to create process workflow on web page</header>
    <body>Hello, We found jBPM an interesting to fit in our requirement. As specified in docs, the process flow can be created in one of the following way: 1. 1.    Using the graphical process editor in the Eclipse plugin 2. *2.    As an XML file, according to the XML process format as defined in the XML Schema Definition in the BPMN 2.0 specification.* 3. 3.    By directly creating a process using the Process API. We are more interested in the specifying the XML schema for our process and have the process workflow created on Web page. The technology we need to use is Java. So we would like to know : * Whether jBPM provides the functionality to render flowchart on web page? * Does jBPM creates the JPG/BMP image of process and renders on web page? Based on your reply, It would help us whether we can go for jBPM or not. Thanks &amp; Regards Ganesh +91-9011038429</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Using jBPM to create process workflow on web page</header>
    <body>Hi, if your goals is to create the bpmn2 xml file in a web editor you should use the process designer, which will allow you to graphically build your process and in the back it will generate the bpmn2 xml file. It will also allow you to export the diagram as a PNG/SVG file, then converting it to a JPG/BMP should be straight forward. Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Using jBPM to create process workflow on web page</header>
    <body>Thank for the reply   https://community.jboss.org/people/salaboy21 Mauricio Salatino. Will go through the process designer. Actually we do not want to save the flowchart in any image format. Our requirement is as below: -  Actually we want to show clicak guideline as a flowchart  on web page. Clinical guideline is different stages of patient. -  Define schema in XML file and render it as flowchart blocks on web page. - After rendering user should be able to add and delete flowchart controls and the same shld be saved again to the same xml file. Will process designer help in achieveing this? Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Using jBPM to create process workflow on web page</header>
    <body>I don't understand what your requirements are. Do you want to have executable processes? or just the the diagrams for documentation purposes? You mention JPG and BMP which are image formats, but then you said that you don't want to save the flowchart in any image format. I don't understand what this is: "Actually we want to show clicak guideline as a flowchart  on web page" I'm guessing that is some kind of clinical flowchart for a patient, which makes me thing that you want to execute the process for each patient. Define schema in XML file and render it as flowchart blocks on web page -&gt; What exactly do you want to render? After rendering user should be able to add and delete flowchart controls -&gt; What do you mean by flowcharts controls? Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Using jBPM to create process workflow on web page</header>
    <body>Define schema in XML file and render it as flowchart blocks on web page -&gt; What exactly do you want to render? *It means you define the clinical guideline for a patient as a XML schema.  Then jBPM engine should dynamically create the flowchart on webpage as per teh schema. It should display the flowchart.* After rendering user should be able to add and delete flowchart controls -&gt; What do you mean by flowcharts controls? *Flowchart controls means each node of flowchart i,e the rectangluar box , decision box etc.* *The funcitonality like, user should be able to delete any box on the fly and schema shld be updated. If user want to modify  guideline, the same can be added/deleted on the fly.* *cheers* * * * *</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Using jBPM to create process workflow on web page</header>
    <body>Ganesh, Look at the jbpm process designer and see if that it does all what you need. Just for you to know, there is no need to create the XML schema by hand, you can just draw the process and it will automatically generate the XML file for you. Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - JBPM 5.4 / Tomcat 7 / H2 /	Demo</header>
    <body>h2. Can someone provide a tuturial for Installing the demo with these components?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [PicketBox Development] - Re: Cache timeout for JBossCachedAuthenticationManager</header>
    <body>Well, I guess I can now answer my own question! Found that I can use indinispan as the cache and went with that. With Infinispan, you can set up expiry time and lifespan for cached entries. So that solves this problem. The default cache is just a bounded map with 1000 max entries.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Management Layer	Access Control</header>
    <body>Yes, they can.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Deprecated API getTasksAssignedAsPotentialOwnerByStatusByGroup</header>
    <body>Hi, I am looking for API to query tasks for a user for a particular group (considering user belongs to multiple groups). TaskService.getTasksAssignedAsPotentialOwnerByStatusByGroup(...) is deprecated in jBPM5.4. Is there an alternate APi to acheive this? Thanks, Vijay</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Deprecated API getTasksAssignedAsPotentialOwnerByStatusByGroup</header>
    <body>*You can use the method getTasksAssignedAsPotentialOwner (* http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true *String* *userId, *  http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true *String* *language,*  http://docs.jboss.org/jbpm/v5.4/javadocs/org/jbpm/task/service/TaskClientHandler.TaskSummaryResponseHandler.html *TaskClientHandler.TaskSummaryResponseHandler* *responseHandler)* You dont need to mention the name of the groups. The user group call back takes them by itself. All you need is to register the UserGroupCallback via UserGroupCallbackManager. You could use a property file to specify the mapping between the users and roles in the format : userid1=group1,group2,group3 userid2=group4,group3,group1 userid3=group1,group2 ... ... And specify the path of this file in your CustomUserGroupCallBack. So wehn you call the method *taskClient.getTasksAssignedAsPotentialOwner ( http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true String userId,   http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true String language,  http://docs.jboss.org/jbpm/v5.4/javadocs/org/jbpm/task/service/TaskClientHandler.TaskSummaryResponseHandler.html TaskClientHandler.TaskSummaryResponseHandler responseHandler)* This will invoke the callback and will take the groups for the userId.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - How to configure instance-id in jboss as 7.1.1</header>
    <body>Hi All, i am new to jboss. currently i am trying to configure Apache mod_cluster in standalone mode. The configuration is working fine. but i am getting following error.Any help on this would be highly appreciated. Error message:</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Narayana	Release Process</header>
    <body>This page provides a list of instructions that must be done *in order* when doing a release of Narayana. h2. Check JIRA 1. Check all issues resolved. 2. Create next point release version if not exists - this is so you can push issues in step 3 below. 3. Unresolved issues should be resolved or pushed. h2. Check Hudson Ensure no test failures in the group of hudson tests, for the branch you intend to release. h2. Raise AS7 component upgrade request in Jira Prepare for a PR to update AS7. 1.  https://issues.jboss.org/browse/AS7 https://issues.jboss.org/browse/AS7 2. create a new 'component update' issue.1. Ensure the module is set to 'transactions' 2. select an appropriate 'fix for'. 3. Assign it to yourself. h2. Do Release h3. Git Branches (4.17 and 5 only) Must be done first as the build-release-packages.xml relies on the tag being available BRANCH=&lt;4.17|master&gt; CURRENT=&lt;Version number of the release (e.g. 5.0.0.M2)&gt; NEXT=&lt;Version number of the next release (e.g. 5.0.0.M3)&gt; for  REPO in documentation quickstart narayana do git clone  mailto:git at github.com git at github.com:jbosstm/$REPO.git cd $REPOgit checkout $BRANCH find . -name \*.java -o -name \*.xml -o -name \*.properties -o -name \*.ent -o -name \INSTALL -o -name \README | grep -v ".svn" | grep -v ".git" | grep -v target | grep -v .idea | xargs sed -i "s/$CURRENT-SNAPSHOT/$CURRENT/g" git commit -am "Updated to $CURRENT" git tag $CURRENT find . -name \*.java -o -name \*.xml -o -name \*.properties -o -name \*.ent -o -name \INSTALL -o -name \README | grep -v ".svn" | grep -v ".git" | grep -v target | grep -v .idea | xargs sed -i "s/$CURRENT/$NEXT-SNAPSHOT/g" git commit -am "Updated to $NEXT-SNAPSHOT" git push origin $BRANCH --tags cd .. done h3. Create the AS7 pull request branch and roll the jbosstm/jboss-as branch to next SNAPSHOT (UN-TESTED COMMANDS!!) BRANCH=4_BRANCH AS_BRANCH=master JIRA=AS7-5815 CURRENT=4.17.2.Final NEXT=4.17.3.Final git clone git at github.com:jbosstm/jboss-as.git cd jboss-asgit checkout $BRANCH git remote add upstream git://github.com/jbossas/jboss-as.git git pull --rebase --ff-only upstream $AS_BRANCH sed -i "s/$CURRENT-SNAPSHOT/$CURRENT/g" pom.xml git commit -am "Updated to $CURRENT" # should use git merge-base $BRANCH upstream/master git rebase -i HEAD~10 git checkout $BRANCH sed -i "s/$CURRENT/$NEXT-SNAPSHOT/g" pom.xml git commit -am "Updated to $NEXT-SNAPSHOT" git push origin $BRANCH h2. Build and release CURRENT=&lt;Point version to release&gt; mkdir -p ~/narayana/filemgmt.jboss.org/ On Linux: sshfs jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ On MacOS: sshfs -o defer_permissions jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ git clone git at github.com (mailto:git at github.com):jbosstm/narayana.git cd narayana git checkout 4.17.$CURRENT.Final On Linux: ant -f build-release-pkgs.xml dist downloads docs magnolia -Drsync=false On MacOS: ant -f build-release-pkgs.xml dist downloads docs magnolia h3. svn branches #Make sure your checkout has no local changes svn update svn status POINT_VERSION=5 NEXT_POINT_VERSION=6 #Update the version in text files svn commit -m "Updated to version 4.16.$POINT_VERSION.Final" #Tag the release: #Bump to next version using similar find to above #Update the maven version of jbossts in our fork of JBossAS:  https://github.com/jbosstm/jboss-as https://github.com/jbosstm/jboss-as git checkout 4_16_BRANCH git pull --rebase --ff-only #Check no local changes git status git push #Build and deploy the release to nexus staging: mkdir ~/filemgmt.jboss.org/ sshfs -o defer_permissions  mailto:jbosstm at filemgmt.jboss.org jbosstm at filemgmt.jboss.org: ~/filemgmt.jboss.org/ ant -f build-release-pkgs.xml dist mvn-repository downloads magnolia h3. h2. Release the artifact through Nexus 1.  https://repository.jboss.org/nexus/index.html#welcome https://repository.jboss.org/nexus/index.html#welcome 2. login 3. "Staging Repositories" 4. Click tickbox for your repo 5. Click "Close" 6. Don't worry about a description, just click "Close" 7. Click tickbox after it is closed 8. Click "Release" 9. Again a description doesn't matter h2. Push Upstream Check that the pull request will work. *If it doesn't and it requires Narayana changes you *have* to rev the version number - DON'T attempt to re-release with the same version number:* JIRA=AS7-5815 CURRENT=4.17.2.Final git clone  mailto:git at github.com git at github.com:jbosstm/jboss-as.git cd jboss-as rm -rf ~/.m2/repository/org/jboss/jbossts rm -rf ~/.m2/repository/org/jboss/narayana ./build.sh clean install 1. Raise the pull request using our branch 2. Once merged, resolve the AS7 Jira issue. h2. JIRA Release 1. Close all issues for the release 2. Mark as released (Need admin permissions) h2. Update Website Update the Narayana community site: * Login to Magnolia*  https://www.jboss.org/author/.magnolia/pages/adminCentral.html https://www.jboss.org/author/.magnolia/pages/adminCentral.html * Login with credentials: Tom and Paul know these, ask them. * Documentation* Browse to 'jbosstm/documentation' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.documentation.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the documentation list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Downloads* Browse to 'jbosstm/downloads' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.downloads.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the downloads list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Announcement* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'announcement' pane * Update the announcement for this release. * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. * Release notes* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'getting started' pane on the right-hand-side * Edit the release notes url to point to the release notes for this version * Click save * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. h2. Promote NOTE: It is worth waiting for the merge of the pull request before advertising, or at least wait for the merge build notification first  ;) Promote the release through the following channels: 1. Email jbossts-announce at lists.jboss.org (mailto:jbossts-announce at lists.jboss.org) 2. Forum 3. Blog: project in (jbtm, blacktie) AND fixversion = "5.0.0.M2" AND priority &gt;= major AND issuetype not in (Bug, task) AND resolution not in ("Duplicate Issue", Rejected, "Won't Fix", "Out of Date", "Cannot Reproduce Bug")</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Add a global valve	in AS7 (7.2.x)</header>
    <body>(JBossAS7.2) I created a own Valve as following and altered the "org.apache.catalina.valves.ErrorReportValve" class a little bit just to hide some of the server specific information (like jboss web version in case of any error):             &lt;valve name="globalErrorValve" module="my.global.valve" class-name="org.apache.catalina.valves.ErrorReportValve"/&gt; And created module as following: &lt;?xml version="1.0" ?&gt; &lt;module xmlns="urn:jboss:module:1.1" name="my.global.valve"&gt;     &lt;properties&gt;         &lt;property name="jboss.api" value="private"/&gt;     &lt;/properties&gt;     &lt;resources&gt;         &lt;resource-root path="GlobalErrorReportValve.jar"/&gt;     &lt;/resources&gt;     &lt;dependencies&gt;         &lt;module name="sun.jdk"/&gt;         &lt;module name="javax.servlet.api"/&gt;         &lt;module name="org.jboss.as.web"/&gt;     &lt;/dependencies&gt; &lt;/module&gt; Still in case of any Error (4xx or 5xx httop Response errors)  JBoss uses the class which is present inside the class "org.apache.catalina.valves.ErrorReportValve" which is present inside the "$JBOSS_HOME/modules/system/layers/base/org/jboss/as/web/main/jbossweb-7.2.0.Final.jar"    Why ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - How to load a class during server startup in JBOSS AS 7.1.1</header>
    <body>Hi All, I have a requirement to migrate an application from Weblogic to jboss. we are loading classes durings server startup.. is there anyway to load the classes during server startup in Jboss 7.1.1. Regards Sunil</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Add a global valve	in AS7 (7.2.x)</header>
    <body>That is a weird idea to name your valve the same of an already existing one... Could you try renaming it?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - exporting to BPMN 1.1</header>
    <body>Hi everybody, I'm trying to export to BPMN 1.1 altough BP are written in 1.1 Is this possible? Thanks in advance for answering. PCG</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - downgrade from BPMN 2.0 to	BPMN 1.1</header>
    <body>Hi everybody, I'm trying to export to BPMN 1.1 altough BP were written in 2.0 Is this possible? Thanks in advance for answering. PCG</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: downgrade from BPMN 2.0	to BPMN 1.1</header>
    <body>Hi, as far as I remember, there is a section in the BPMN2 spec that states the differences between 2.0 and 1.1, so you can check there if that can be achieved. There is way to do that in the engine or the parsers right now. Can you please elaborate a little bit about why do you need to do that? Cheers</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: downgrade from BPMN 2.0	to BPMN 1.1</header>
    <body>I have a customer who needs justify the current usage of JBoss (all process written on BPMN 2.0) He wants to make a benchmark using BizzTalk (that only supports BPMN 1.1). I don´t know if this is possible and how many work is needed. Any ideas besides the aforementioned? Thanks again!!!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7	Command-line public API</header>
    <body>Hi, is there any way to get the Management Port without explicitly configuring it, I'm running in server context and therefore I'm able to access everything availbale, but I can't figure out how to get the management port programmatically. Hope anyone could help. best regards Joe</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Which is stable version of	jbpm 5.3 or 5.4?</header>
    <body>Hi, I would like to understand differences between jbpm 5.3 and 5.4 and which is more stable (i.e with less issues). Which version would be better to integrate with a web application (using  spring , hibernate and Tomcat) Please help me as I am new to jBPM. Thanks in advance!!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Development] - Re: AJP threads waiting on socket reads in Jboss 7.1.1.final</header>
    <body>Hi Jacob, Did you ever get any progress on this issue?  On our cluster each node has 400 ajp threads waiting too!</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Transactions Development] - Narayana	Release Process</header>
    <body>This page provides a list of instructions that must be done *in order* when doing a release of Narayana. h2. Check JIRA 1. Check all issues resolved. 2. Create next point release version if not exists - this is so you can push issues in step 3 below. 3. Unresolved issues should be resolved or pushed. h2. Check Hudson Ensure no test failures in the group of hudson tests, for the branch you intend to release. h2. Raise AS7 component upgrade request in Jira Prepare for a PR to update AS7. 1.  https://issues.jboss.org/browse/AS7 https://issues.jboss.org/browse/AS7 2. create a new 'component update' issue.1. Ensure the module is set to 'transactions' 2. select an appropriate 'fix for'. 3. Assign it to yourself. h2. Do Release h3. Git Branches (4.17 and 5 only) Must be done first as the build-release-packages.xml relies on the tag being available cd $NARAYAN_SRC/scripts pre-release.sh &lt;next version, e.g: 5.0.0.M3&gt; h3. Create the AS7 pull request branch and roll the jbosstm/jboss-as branch to next SNAPSHOT (UN-TESTED COMMANDS!!) BRANCH=4_BRANCH AS_BRANCH=master JIRA=AS7-5815 CURRENT=4.17.2.Final NEXT=4.17.3.Final git clone git at github.com:jbosstm/jboss-as.git cd jboss-asgit checkout $BRANCH git remote add upstream git://github.com/jbossas/jboss-as.git git pull --rebase --ff-only upstream $AS_BRANCH sed -i "s/$CURRENT-SNAPSHOT/$CURRENT/g" pom.xml git commit -am "Updated to $CURRENT" # should use git merge-base $BRANCH upstream/master git rebase -i HEAD~10 git checkout $BRANCH sed -i "s/$CURRENT/$NEXT-SNAPSHOT/g" pom.xml git commit -am "Updated to $NEXT-SNAPSHOT" git push origin $BRANCH h2. Build and release CURRENT=&lt;Point version to release&gt; mkdir -p ~/narayana/filemgmt.jboss.org/ On Linux: sshfs jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ On MacOS: sshfs -o defer_permissions jbosstm at filemgmt.jboss.org (mailto:jbosstm at filemgmt.jboss.org): ~/narayana/filemgmt.jboss.org/ git clone git at github.com (mailto:git at github.com):jbosstm/narayana.git cd narayana git checkout 4.17.$CURRENT.Final On Linux: ant -f build-release-pkgs.xml dist downloads docs magnolia -Drsync=false On MacOS: ant -f build-release-pkgs.xml dist downloads docs magnolia h3. svn branches #Make sure your checkout has no local changes svn update svn status POINT_VERSION=5 NEXT_POINT_VERSION=6 #Update the version in text files svn commit -m "Updated to version 4.16.$POINT_VERSION.Final" #Tag the release: #Bump to next version using similar find to above #Update the maven version of jbossts in our fork of JBossAS:  https://github.com/jbosstm/jboss-as https://github.com/jbosstm/jboss-as git checkout 4_16_BRANCH git pull --rebase --ff-only #Check no local changes git status git push #Build and deploy the release to nexus staging: mkdir ~/filemgmt.jboss.org/ sshfs -o defer_permissions  mailto:jbosstm at filemgmt.jboss.org jbosstm at filemgmt.jboss.org: ~/filemgmt.jboss.org/ ant -f build-release-pkgs.xml dist mvn-repository downloads magnolia h3. h2. Release the artifact through Nexus 1.  https://repository.jboss.org/nexus/index.html#welcome https://repository.jboss.org/nexus/index.html#welcome 2. login 3. "Staging Repositories" 4. Click tickbox for your repo 5. Click "Close" 6. Don't worry about a description, just click "Close" 7. Click tickbox after it is closed 8. Click "Release" 9. Again a description doesn't matter h2. Push Upstream Check that the pull request will work. *If it doesn't and it requires Narayana changes you *have* to rev the version number - DON'T attempt to re-release with the same version number:* JIRA=AS7-5815 CURRENT=4.17.2.Final git clone  mailto:git at github.com git at github.com:jbosstm/jboss-as.git cd jboss-as rm -rf ~/.m2/repository/org/jboss/jbossts rm -rf ~/.m2/repository/org/jboss/narayana ./build.sh clean install 1. Raise the pull request using our branch 2. Once merged, resolve the AS7 Jira issue. h2. JIRA Release 1. Close all issues for the release 2. Mark as released (Need admin permissions) h2. Update Website Update the Narayana community site: * Login to Magnolia*  https://www.jboss.org/author/.magnolia/pages/adminCentral.html https://www.jboss.org/author/.magnolia/pages/adminCentral.html * Login with credentials: Tom and Paul know these, ask them. * Documentation* Browse to 'jbosstm/documentation' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.documentation.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the documentation list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Downloads* Browse to 'jbosstm/downloads' * right click on 'downloads' and select 'import' * browse to the location of the 'website.jbosstm.downloads.4.16.5.Final.xml' file * Right click on the new file and click 'move' * Drag the file to the top of the downloads list. * Right click on the new page and select 'open page...' * Check that the page looks right and that the download links work * Right click on the new page and select 'activate' * You now need to wait for the page to be moderated before it will appear. * Announcement* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'announcement' pane * Update the announcement for this release. * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. * Release notes* Right click on 'jbosstm' and select 'open page...' * Click edit on the 'getting started' pane on the right-hand-side * Edit the release notes url to point to the release notes for this version * Click save * Right click on 'jbosstm' and select 'activate changes' * You now need to wait for the page to be moderated before it will appear. h2. Promote NOTE: It is worth waiting for the merge of the pull request before advertising, or at least wait for the merge build notification first  ;) Promote the release through the following channels: 1. Email jbossts-announce at lists.jboss.org (mailto:jbossts-announce at lists.jboss.org) 2. Forum 3. Blog: project in (jbtm, blacktie) AND fixversion = "5.0.0.M2" AND priority &gt;= major AND issuetype not in (Bug, task) AND resolution not in ("Duplicate Issue", Rejected, "Won't Fix", "Out of Date", "Cannot Reproduce Bug")</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Usage of ksession in Jbpm Spring Implementation</header>
    <body>No Vladimir...not yet...</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>This document says: h2. Add-on Installer An identity can be installed via..... Should that be "An Add-on can be installed via..." ? Thanks, Rick</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Layered Distributions and Module Path Organization</header>
    <body>Yes; fixed. Thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - How to assign value to Many to One field in EJB3 with JSF</header>
    <body>Hi ,         I am working JSF with EJB3 ,i have setup table called Development_phase contains list of predefined value, which act as forien key in RTP table. when ever i save the record i got null value in the rtp table rtp_development_phase_id(Forien Key). please refer the attachments and can any one suggest me how to pass the value for one to many field. actaull y i tried like</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: How to resolve this issue "java.lang.String cannot be cast to org.jbpm.task.utils.MarshalledContentWrapper"</header>
    <body>Hi Dhaval Shah, have you managed to solve this issue? Can you paste the code where you got this error?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Tools Development] - How to Build JBoss Tools 4.0 with Maven 3</header>
    <body>** #Environment_Setup Environment Setup *** #Prerequisistes Prerequisistes *** #Maven_and_Java Maven and Java *** #Maven_settings Maven settings *** #Maven__Java_Memory_Configuration Maven &amp; Java Memory Configuration ** #Verify_or_Install Verify or Install? ** #About_Target_Platform_and_related_profiles About Target Platform and related profiles *** #Using_published_Target_Platform_definition_Recommended Using published Target Platform definition (Recommended) *** #Or_getting_a_local_copy_of_the_Target_Platform Or, getting a local copy of the Target Platform **** #Get_it Get it ***** #_Download_TP_as_a_zip_and_install_it_by_yourself  Download TP as a zip and install it by yourself ***** #OR_use_Maven_to_build_it OR, use Maven to build it **** #Use_it_as_a_Maven_mirror Use it as a Maven mirror ** #Optional_Build_parent_and_target_platform (Optional) Build parent and target platform ** #Building_Individual_Components_Locally_Via_Commandline Building Individual Components Locally Via Commandline *** #Build_a_component_resolving_to_a_recent_aggregation_build_for_other_JBT_dependencies_Recommanded Build a component resolving to a recent aggregation build for other JBT dependencies (Recommanded) *** #Build_a_component_resolving_to_the_latest_CI_builds_for_other_JBT_dependencies Build a component resolving to the latest CI builds for other JBT dependencies *** #Build_a_component_along_with_all_its_dependencies_from_sources_bootstrap_build Build a component along with all its dependencies from sources ("bootstrap" build) ** #Building_Everything_In_One_Build_Locally_Via_Commandline Building Everything In One Build Locally Via Commandline ** #Building_Locally_In_Eclipse Building Locally In Eclipse ** #Installation_Testing__making_sure_your_stuff_can_be_installed_ Installation Testing - making sure your stuff can be installed ** #Adding_a_new_feature_or_plugin_to_an_existing_component Adding a new feature or plugin to an existing component ** #Dealing_with_timeouts_for_tests Dealing with timeouts for tests ** #Tips_and_tricks_for_making_BOTH_PDE_UI_and_headless_Maven_builds_happy Tips and tricks for making BOTH PDE UI and headless Maven builds happy *** #Check_your_buildproperties Check your build.properties *** #Check_your_manifestmf_dependencies Check your manifest.mf dependencies *This article is a replacement for its precursor,  https://community.jboss.org/docs/DOC-16604 How to Build JBoss Tools 3.3 with Maven 3.* *Note that this article only discusses building from trunk. To work with another branch, see  http://learn.github.com/p/branching.html Learn.GitHub - Branching and Merging.* *Looking for how to build our documentation? See  https://community.jboss.org/docs/DOC-13341 Building JBoss Tools Documentation.* h2. Environment Setup h3. Prerequisistes 1. Java 1.6 SDK 2. Maven 3.0.3 3. About 6 GB of free disk space if you want to run all integration tests for (JBoss AS, Seam and Web Services Tools) - *requires VPN access* 4. subversion client 1.6.X  (should work with lower version as well, but newer versions may not work as expected) h3. Maven and Java Make sure your maven 3 is available by default and Java 1.6 is used. mvn -version should  print out something like *Apache Maven 3.0.3* (r1075438; 2011-02-28 12:31:09-0500) *Java version: 1.6.0_25*, vendor: Sun Microsystems Inc. *Java home: /usr/java/jdk1.6.0_25/jre* Default locale: en_US, platform encoding: UTF-8 OS name: "linux", version: "2.6.42.3-2.fc15.x86_64", arch: "amd64", family: "unix" h3. Maven settings Follow https://community.jboss.org/docs/DOC-15170  these instructions to add reference to JBoss Repositories into your settings.xml. You'll also probably need access to the SNAPSHOT repository. So here is what you should see in your ~/.m2/settings.xml &lt;settings xmlns="http://maven.apache.org/SETTINGS/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd"&gt;    ....     &lt;profiles&gt;         ....         &lt;profile&gt;             &lt;id&gt;jboss-default&lt;/id&gt;             &lt;repositories&gt;                 &lt;!-- To resolve parent artifact --&gt;                 &lt;repository&gt;                     &lt;id&gt;jboss-public-repository-group&lt;/id&gt;                     &lt;name&gt;JBoss Public Repository Group&lt;/name&gt;                     &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;                 &lt;/repository&gt;                 &lt;repository&gt;                     &lt;id&gt;jboss-snapshots-repository&lt;/id&gt;                     &lt;name&gt;JBoss Snapshots Repository&lt;/name&gt;                     &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/snapshots/&lt;/url&gt;                 &lt;/repository&gt;             &lt;/repositories&gt;             &lt;pluginRepositories&gt;                         &lt;!-- To resolve parent artifact --&gt;                         &lt;pluginRepository&gt;                                 &lt;id&gt;jboss-public-repository-group&lt;/id&gt;                                 &lt;name&gt;JBoss Public Repository Group&lt;/name&gt;                                 &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;                         &lt;/pluginRepository&gt;                         &lt;pluginRepository&gt;                                 &lt;id&gt;jboss-snapshots-repository&lt;/id&gt;                                 &lt;name&gt;JBoss Snapshots Repository&lt;/name&gt;                                 &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/snapshots/&lt;/url&gt;                         &lt;/pluginRepository&gt;                 &lt;/pluginRepositories&gt;         &lt;/profile&gt;     &lt;/profiles&gt;     &lt;activeProfiles&gt;         &lt;activeProfile&gt;jboss-default&lt;/activeProfile&gt;         ...     &lt;/activeProfiles&gt; &lt;/settings&gt; # h3. Maven &amp; Java Memory Configuration To configure the amount of memory used by Maven, you can define MVN_OPTS as follows, either in the mvn / mvn.bat script you use to run Maven, or set as global environment variables. Here's how to do so for  http://forums.fedoraforum.org/showthread.php?t=262465 Fedora,  https://help.ubuntu.com/community/EnvironmentVariables Ubuntu,  http://forums.techarena.in/windows-xp-support/1152405.htm Windows,  http://www.digitaledgesw.com/node/31 OSX. set MAVEN_OPTS=-Xms512m -Xmx1024m -XX:PermSize=128m -XX:MaxPermSize=256m h2. Verify or Install? mvn verify will perform all build and test steps, but it won't install the bundles in your local repository. mvn install does install in you local repository. When an eclipse-plugin is installed in your repo, it is always used as default when resolving dependency. It is not possible to roll-back a local installation of a bundle, so in most cases, mvn verify is to be prefered to mvn install. However, if you want to build stuff sequentially through several maven invocations, and you want to resolve against just-built stuff, you'll need to use mvn install. In this page, we'll encourage people to use *mvn verify* as much as possible to ensure *isolation*; but you can mvn install the same way if your use-case requires it. +*What if I've already built something locally, but I want to build against the server version instead of my local repo?*+ There are  http://wiki.eclipse.org/Tycho/Target_Platform#Locally_built_artifacts two approaches that work here: a) override temporarily when building, using -Dtycho.localArtifacts=ignore b) delete ~/.m2/repository/.meta/p2-local-metadata.properties h2. About Target Platform and related profiles The target platform (TP) lists all dependencies (coming from Eclipse.or and other 3rd-party update sites) that are used by JBoss Tools. This target platform is materialized as an Eclipse p2 repository (formerly update-site) that is used during build to resolve dependencies. Target Platform is managed by JBoss Tools people, and only dependencies from this TP are allowed to be used in code. If you need a new dependency in the TP, feel free to  https://issues.jboss.org/secure/CreateIssueDetails!init.jspa?pid=10020&amp;summary=Add%20[YOUR%20REQ]%20to%20Target%20Platform&amp;components=12310540&amp;issuetype=13&amp;Create=Create open a ticket to request it. Here are several ways to build locally using this target platform. It's up to you to choose the one that match your needs: h3. Using published Target Platform definition (Recommended) unified.target refers to the dependency as published in the Target Platform repository. * Pros:* No additional thing to do than invoking Maven * Always up-to-date * Cons: Speed - (to evaluate) Consume it by adding *-Punified.target* to you Maven invocation command-line h3. Or, getting a local copy of the Target Platform * Pros: Speed +++ * Cons: Step to be repeated whenever  https://github.com/jbosstools/jbosstools-build/tree/master/target-platforms target platforms change h4. Get it h5.  Download TP as a zip and install it by yourself You can either download the TP as a zip and unpack it into some folder on your disk. Just remember to update your  #settings.xml settings.xml file to point at the location where you unpacked it. You can get it with a browser or a command line tool such as wget or curl at the following url: http://download.jboss.org/jbosstools/updates/juno/SR0c/ http://download.jboss.org/jbosstools/updates/juno/SR0c/ http://download.jboss.org/jbosstools/updates/juno/SR0c/e420-wtp340.target.zip e420-wtp340.target.zip (current minimum TP) http://download.jboss.org/jbosstools/updates/juno/SR1a/ http://download.jboss.org/jbosstools/updates/juno/SR1a/ http://download.jboss.org/jbosstools/updates/juno/SR1a/e421-wtp341.target.zip e421-wtp341.target.zip (current maximum TP) and then unzip it : unzip *.target.zip -d /path/to/jbosstools-build/target-platforms/jbosstools-JunoSR0c/multiple/target/multiple.target.repo/   or unzip *.target.zip -d /path/to/jbosstools-build/target-platforms/jbosstools-JunoSR1a/multiple/target/multiple.target.repo/ h5. OR, use Maven to build it See  #maven-nexus-resolution-problems Building Parent Pom &amp; Target Platforms Locally #maven-nexus-resolution-problems  # h4. Use it as a Maven mirror Once you get the target platform available locally, you can use it instead of the remote sites to save time. For this, we can simply use Tycho target-platform mirroring:  http://wiki.eclipse.org/Tycho/Target_Platform/Authentication_and_Mirrors#Mirrors http://wiki.eclipse.org/Tycho/Target_Platform/Authentication_and_Mirrors#Mirrors As example, you can simply edit to your ~/.m2/settings.xml the definition of the repositories to mirror: (replace /home/hudson/static_build_env/jbds/.... by a path where your local repository actuaaly stands) &lt;settings&gt;      &lt;mirrors&gt; &lt;!-- IMPORTANT: Sites in target platforms: must not have trailing slash! --&gt;         &lt;mirror&gt;             &lt;id&gt;jenkins.jbosstools-JunoSR0c&lt;/id&gt;             &lt;mirrorOf&gt;http://download.jboss.org/jbosstools/updates/juno/SR0c/REPO&lt;/mirrorOf&gt;             &lt;url&gt;file:///home/hudson/static_build_env/jbds/target-platform_4.0.juno.SR0c/e420-wtp340.target/&lt;/url&gt;             &lt;layout&gt;p2&lt;/layout&gt;             &lt;mirrorOfLayouts&gt;p2&lt;/mirrorOfLayouts&gt;         &lt;/mirror&gt;         &lt;mirror&gt;             &lt;id&gt;jenkins.jbosstools-JunoSR1a&lt;/id&gt;             &lt;mirrorOf&gt;http://download.jboss.org/jbosstools/updates/juno/SR1a/REPO&lt;/mirrorOf&gt;             &lt;url&gt;file:///home/hudson/static_build_env/jbds/target-platform_4.0.juno.SR1a/e421-wtp341.target/&lt;/url&gt;             &lt;layout&gt;p2&lt;/layout&gt;             &lt;mirrorOfLayouts&gt;p2&lt;/mirrorOfLayouts&gt;         &lt;/mirror&gt;         &lt;mirror&gt;             &lt;id&gt;jenkins.jbdevstudio-JunoSR0c&lt;/id&gt;             &lt;mirrorOf&gt;http://www.qa.jboss.com/binaries/RHDS/updates/jbds-target-platform_4.0.juno.SR0c/REPO&lt;/mirrorOf&gt;             &lt;url&gt;file:///home/hudson/static_build_env/jbds/jbds-target-platform_4.0.juno.SR0c/jbds600-e420-wtp340.target/&lt;/url&gt;             &lt;layout&gt;p2&lt;/layout&gt;             &lt;mirrorOfLayouts&gt;p2&lt;/mirrorOfLayouts&gt;         &lt;/mirror&gt;         &lt;mirror&gt;             &lt;id&gt;jenkins.jbdevstudio-JunoSR1a&lt;/id&gt;             &lt;mirrorOf&gt;http://www.qa.jboss.com/binaries/RHDS/updates/jbds-target-platform_4.0.juno.SR1a/REPO&lt;/mirrorOf&gt;             &lt;url&gt;file:///home/hudson/static_build_env/jbds/jbds-target-platform_4.0.juno.SR1a/jbds600-e421-wtp341.target/&lt;/url&gt;             &lt;layout&gt;p2&lt;/layout&gt;             &lt;mirrorOfLayouts&gt;p2&lt;/mirrorOfLayouts&gt;         &lt;/mirror&gt;     &lt;/mirrors&gt; &lt;/settings&gt; h2. (Optional) Build parent and target platform This step is only useful if you are actually working on the parent or the target platforms and want to test local changes. Otherwise, Maven will simply retrieve parent and TP definitions from  *https://repository.jboss.org/nexus/content/repositories/snapshots/org/jboss/tools/ JBoss Nexus* to perform your build. See  #maven-nexus-resolution-problems Building Parent Pom &amp; Target Platforms Locally Sometimes, Maven can't find the upstream artifacts - parent pom, tycho plugins, minimum (Juno SR0) or maximum (Juno SR1 or later) target platforms. Or maybe you want to build them locally in order to see how Tycho builds them, or contribute a fix. To work around resolution problems, just build locally: cd /tmp; git clone  https://github.com/jbosstools/jbosstools-maven-plugins git clone git://github.com/jbosstools/jbosstools-maven-plugins.git cd /tmp; git clone  https://github.com/jbosstools/jbosstools-build git clone git://github.com/jbosstools/jbosstools-build.git cd jbosstools-maven-plugins/tycho-plugins; mvn install; cd - cd jbosstools-build/parent;  mvn install; cd - cd jbosstools-build/target-platforms; mvn install -Pjbosstools-minimum,jbosstools-maximum h2. Building Individual Components Locally Via Commandline h3. Build a component resolving to a recent aggregation build for other JBT dependencies (Recommanded) * Pros:* You build only your component * You only need source for your component * Speed to resolve deps: + * You get generally the latest build for you component * Cons:* Takes some time to resolve dependencies on other component * Can sometimes be out of sync if no build occured recently for a component you rely on and had some important change. More risk to get out of sync than with the staging site. Tracked by  https://issues.jboss.org/browse/JBIDE-11516 https://issues.jboss.org/browse/JBIDE-11516 example: *cd jbosstools-server* mvn verify -P unified.target *-Pjbosstools-staging-aggregate* h3. Build a component resolving to the latest CI builds for other JBT dependencies * Pros:* You build only your component * You only need source for your component * You get generally the latest build for you component * Cons* Takes some time to resolve dependencies on other component * Can sometimes be out of sync if no build occured recently for a component you rely on and had some important change * Speed to resolve deps: - This profile is the one use for CI builds on Hudson. *cd jbosstools-server* mvn verify -P unified.target *-Pjbosstools-nightly-staging-composite* h3. Build a component along with all its dependencies from sources ("bootstrap" build) This will build exactly what you have locally * Pros:* You are sure of the version of sources that is used for your JBT dependencies * You don't loose time in resolving your JBT deps * Cons:* You need sources for your dependencies too * You often build more stuff that what you really want to test cd ~/trunk/jbosstools-server mvn verify  -P unified.target -*Pbootstrap* h2. Building Everything In One Build Locally Via Commandline *LINUX / MAC USERS* cd jbosstools-build mvn clean install -gs ~/.m2/settings.xml | tee build.all.log.txt (tee is a program that pipes console output to BOTH console and a file so you can watch the build AND keep a log.) *WINDOWS USERS* cd c:\trunk\jbosstools-build    or Remember to adjust your  #settings.xml settings.xml file to specify where you have your local target platform mirror built (or where you downloaded &amp; unpacked a target platform zip. Windows users, if you don't have a .m2 folder, see  http://stackoverflow.com/questions/6081617/missing-maven-m2-folder this article. h2. Building Locally In Eclipse First, you must have installed m2eclipse into your Eclipse (or JBDS). You can install the currently supported version from this update site: http://download.jboss.org/jbosstools/updates/juno/ http://download.jboss.org/jbosstools/updates/juno/ Next, start up Eclipse or JBDS and do *File &gt; Import* to import the project(s) you already checked out from SVN above into your workspace. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13876/Screenshot.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13876/Screenshot.png Browse to where you have the project(s) checked out, and select a folder to import pom projects. In this case, I'm importing the parent pom (which refers to the target platform pom). Optionally, you can add these new projects to a working set to collect them in your Package Explorer view. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13877/Screenshot-1.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13877/Screenshot-1.png Once the project(s) are imported, you'll want to build them. You can either do *CTRL-SHIFT-X,M (Run Maven Build),* or right-click the project and select *Run As &gt; Maven Build*. The following screenshots show how to configure a build job. First, on the *Main* tab, set a *Name*, *Goals*, *Profile*(s), and add a *Parameter*. Or, if you prefer, put everything in the *Goals* field for simplicity: clean install -B -fae -e Be sure to check *Resolve Workspace artifacts*, and, if you have a newer version of Maven installed, point your build at that *Maven Runtime* instead of the bundled one that ships with m2eclipse. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13878/Screenshot-2.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13878/Screenshot-2.png On the *JRE* tab, make sure you're using a 6.0 JDK. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13879/Screenshot-3.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13879/Screenshot-3.png On the *Refresh* tab, define which workspace resources you want to refresh when the build's done. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13880/Screenshot-4.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13880/Screenshot-4.png On the *Common* tab, you can store the output of the build in a log file in case it's particularly long and you need to refer back to it. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13881/Screenshot-5.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13881/Screenshot-5.png Click *Run* to run the build. https://community.jboss.org/servlet/JiveServlet/showImage/102-16604-63-13882/Screenshot-6.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/102-16604-63-13882/Screenshot-6.png Now you can repeat the above step to build any other component or plugin or feature or update site from the JBoss Tools repo. Simply import the project(s) and build them as above. h2. Installation Testing - making sure your stuff can be installed Each component, when built, produces a update site zip and an unpacked update site which can be used to install your freshly-built features and plugins into a running Eclipse or JBDS instance. Simply point your Eclipse at that folder or zip, eg., jar:file:/home/rob/code/jbtools/jbosstools-server/site/target/server.site-*.zip! or file:///home/rob/code/jbtools/jbosstools-server/site/target/repository/, and browse the site. If your component requires other upstream components to install, eg., jbosstools-server depends on jbosstools-base, you will also need to provide a URL from which Eclipse can resolve these missing dependencies. In order of freshness, you can use: 1.  http://download.jboss.org/jbosstools/updates/nightly/core/trunk/ http://download.jboss.org/jbosstools/updates/nightly/core/trunk/ (Nightly Trunk Site - updated every few hours or at least daily - *bleeding edge*) 2.  http://download.jboss.org/jbosstools/builds/staging/_composite_/core/trunk/ http://download.jboss.org/jbosstools/builds/staging/_composite_/core/trunk/ (Composite Staging Site - updated every time a component respins - *bleedinger edge*) 3.  http://anonsvn.jboss.org/repos/jbosstools/trunk/build/aggregate/local-site/ http://anonsvn.jboss.org/repos/jbosstools/trunk/build/aggregate/local-site/ (see the README.txt for how to use this site to refer to things you built locally - *bleedingest edge*) h2. Adding a new feature or plugin to an existing component Need to tweak a component to add a new plugin or feature? See  https://community.jboss.org/docs/DOC-18373 https://community.jboss.org/wiki/AddingAPluginandorFeatureToAnExistingComponent. h2. Dealing with timeouts for tests (To be rewritten soon...)  http://lists.jboss.org/pipermail/jbosstools-dev/2012-September/005835.html http://lists.jboss.org/pipermail/jbosstools-dev/2012-September/005835.html h2. Tips and tricks for making BOTH PDE UI and headless Maven builds happy It's fairly common to have plugins compiling in eclipse while tycho would not work. Basically you could say that tycho is far more picky compared to Eclipse PDE. h3. Check your build.properties Check build.properties in your plugin. If it has warnings in Eclipse, you'll most likely end with tycho failing to compile your sources. You'll have to make sure that you correct all warnings. Especially check your build.properties to have entries for *source..* and *output..* -- these are needed to  *http://wiki.eclipse.org/Minerva#Source generate source plugins and features*. * * source.. = src/  output.. = bin/  src.includes = * src.excludes = src bin.includes = &lt;your own,\     list of,\     files for inclusion,\     in the jar&gt; h3. Check your manifest.mf dependencies A new issue when building against juno shows that all compilation dependencies MUST be EXPLICITLY mentioned in your manifest.mf list of dependencies. A recent example of how this can cause compilation errors is the archives module, which failed to build due to the org.eclipse.ui.views plugin, and its IPropertySheetPage interface, not being found during the build. After investigation, it was discovered that the archives.ui plugin did not explicitly declare a dependency on org.eclipse.ui.views. Inside eclipse and during Juno-based builds, however, the depencency was found and there were no compilation errors. This was because a plugin archives.ui explicitly dependend on (org.eclipse.ui.ide) had an explicit dependency on org.eclipse.ui.views.  The IDE was able to see that archives.ui dependended on org.eclipse.ui.ide, and org.eclipse.ui.ide depended on org.eclipse.ui.views.  Resolving nested dependencies no longer seems to be guaranteed, and so anything you have a compilation dependency on must now be explicitly declared in your manifest.mf</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Deploying an application from an external deployment location</header>
    <body>Hello, How is that done if the WAR/EAR location is an external repository, like a URL? It used to be possible in Jboss 4.x, but seems somewhere in time that functionality was lost... Thanks in advance. Josear</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Need help for developing web application using JBPM5.4</header>
    <body>Hi All , I am new to JBPM . I have gone through many  sample application in the community , But no one is providing right information about how i can integrate a BPMN process into a  web application viz jsp servlets. Can any one please give a sample application which includes human tasks and decison nodes.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>Here https://community.jboss.org/people/roxy1987/blog/2013/01/22/jbpm5-web-application-example https://community.jboss.org/people/roxy1987/blog/2013/01/22/jbpm5-web-application-example. It is configured to run with websphere so you would need to make a few changes. e.g. Transaction Manager etc. ﻿</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>Hi Shobhit , I am very thankful that you took out some time for replying to my query .. !! can you please help me out to run this application with MySql or suggest me changes needs to be done . If you are based in india I will reach out you on phone . If you are ok with this please share ur Ph no . my email id  mailto:andynil.best at gmail.com andynil.best at gmail.com</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>Anand, I am from Peru. But you can drop me a private msg in the community. If you are using Tomcat, I have an application that is configured to run with tomcat. If not then , for starters, you will need to create a data source in your web container and change the databse properties and the transaction lookup class in the file persistence.xml. Reagrds,</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>Hi Shobhit , I am using JBOSS 7 , and MySql DB for running the sample  you given I have made fowlling changes to persistence file .. &lt;properties&gt;             &lt;property name="hibernate.dialect" value="org.hibernate.dialect.MySQLDialect"/&gt;             &lt;property name="hibernate.connection.driver_class" value="com.mysql.jdbc.Driver"/&gt;             &lt;property name="hibernate.connection.url" value="jdbc:mysql://localhost:3306/jbpm5" /&gt;             &lt;property name="hibernate.connection.username" value="jbpm5"/&gt;             &lt;property name="hibernate.connection.password" value="jbpm5"/&gt;             &lt;property name="hibernate.connection.autocommit" value="true"/&gt;             &lt;property name="hibernate.max_fetch_depth" value="3"/&gt;             &lt;property name="hibernate.hbm2ddl.auto" value="update" /&gt;             &lt;property name="hibernate.show_sql" value="false" /&gt;             &lt;property name="hibernate.transaction.manager_lookup_class" value="org.hibernate.transaction.WebSphereExtendedJTATransactionLookup"/&gt;         &lt;/properties&gt; and &lt;properties&gt;             &lt;property name="hibernate.connection.driver_class" value="com.mysql.jdbc.Driver"/&gt;             &lt;property name="hibernate.connection.url" value="jdbc:mysql://localhost:3306/task" /&gt;             &lt;property name="hibernate.connection.username" value="root"/&gt;             &lt;property name="hibernate.connection.password" value="root"/&gt;             &lt;property name="hibernate.connection.autocommit" value="true" /&gt;             &lt;property name="hibernate.max_fetch_depth" value="3"/&gt;             &lt;property name="hibernate.hbm2ddl.auto" value="update" /&gt;             &lt;property name="hibernate.show_sql" value="false" /&gt;             &lt;property name="hibernate.transaction.manager_lookup_class" value="org.hibernate.transaction.WebSphereExtendedJTATransactionLookup"/&gt;         &lt;/properties&gt; *I am getting below error in Logs* 18:13:23,656 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "WebApplication.war" 18:13:25,961 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-8) Class Path entry jaxb-api.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-impl-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:13:25,966 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-8) Class Path entry activation.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-impl-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:13:25,970 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-8) Class Path entry jsr173_1.0_api.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-impl-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:13:25,974 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-8) Class Path entry jaxb1-impl.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-impl-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:13:25,979 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-8) Class Path entry jaxb-api.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-xjc-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:13:25,983 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-8) Class Path entry jaxb-impl.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-xjc-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:13:25,987 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-8) Class Path entry jsr173_1.0_api.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-xjc-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:13:25,991 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-8) Class Path entry activation.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-xjc-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:13:25,997 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-8) Class Path entry activation.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/mail-1.4.jar"  does not point to a valid jar for a Class-Path reference. 18:13:26,013 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015893: Encountered invalid class name 'org.springframework.context.ApplicationContext,org.springframework.beans.BeansException' for service type 'org.apache.cxf.bus.factory' 18:13:26,017 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015893: Encountered invalid class name 'org.xmlpull.mxp1.MXParser,org.xmlpull.mxp1_serializer.MXSerializer' for service type 'org.xmlpull.v1.XmlPullParserFactory' 18:13:26,022 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015893: Encountered invalid class name 'org.xmlpull.mxp1.MXParser,org.xmlpull.mxp1_serializer.MXSerializer' for service type 'org.xmlpull.v1.XmlPullParserFactory' 18:13:26,039 INFO  [org.jboss.as.pojo] (MSC service thread 1-7) JBAS017000: Found legacy bean/pojo namespace: urn:jboss:bean-deployer:2.0 - might be missing some xml features (potential exceptions). 18:13:26,061 INFO  [org.jboss.as.jpa] (MSC service thread 1-7) JBAS011401: Read persistence.xml for org.jbpm.persistence.jpa 18:13:26,063 INFO  [org.jboss.as.jpa] (MSC service thread 1-7) JBAS011401: Read persistence.xml for org.jbpm.task 18:13:26,066 INFO  [org.jboss.as.jpa] (MSC service thread 1-7) JBAS011401: Read persistence.xml for org.jbpm.persistence.jpa 18:13:26,171 WARN  [org.jboss.as.ee] (MSC service thread 1-4) JBAS011006: Not installing optional component org.apache.cxf.transport.http.Servlet3ContinuationProvider$Servlet3Continuation due to exception: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011054: Could not find default constructor for class org.apache.cxf.transport.http.Servlet3ContinuationProvider$Servlet3Continuation           at org.jboss.as.ee.component.ComponentDescription$DefaultComponentConfigurator.configure(ComponentDescription.java:606)           at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:81)           at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:113) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_29]           at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_29]           at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_29] 18:13:26,229 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC00001: Failed to start service jboss.deployment.unit."WebApplication.war".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit."WebApplication.war".INSTALL: Failed to process phase INSTALL of deployment "WebApplication.war"           at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:119) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_29]           at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_29]           at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_29] Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011446: Failed to add persistence unit service for org.jbpm.persistence.jpa           at org.jboss.as.jpa.processor.PersistenceUnitDeploymentProcessor.deployPersistenceUnit(PersistenceUnitDeploymentProcessor.java:383)           at org.jboss.as.jpa.processor.PersistenceUnitDeploymentProcessor.addPuService(PersistenceUnitDeploymentProcessor.java:258)           at org.jboss.as.jpa.processor.PersistenceUnitDeploymentProcessor.handleWarDeployment(PersistenceUnitDeploymentProcessor.java:194)           at org.jboss.as.jpa.processor.PersistenceUnitDeploymentProcessor.deploy(PersistenceUnitDeploymentProcessor.java:118)           at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:113) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]           ... 5 more Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.persistenceunit."WebApplication.war#org.jbpm.persistence.jpa" is already registered           at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:154) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:227) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:560) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:201) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2228) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:201) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2228) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:307) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.as.jpa.processor.PersistenceUnitDeploymentProcessor.deployPersistenceUnit(PersistenceUnitDeploymentProcessor.java:374)           ... 9 more 18:13:26,509 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015877: Stopped deployment WebApplication.war in 225ms 18:13:26,512 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) JBAS014774: Service status report JBAS014777:   Services which failed to start:      service jboss.deployment.unit."WebApplication.war".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit."WebApplication.war".INSTALL: Failed to process phase INSTALL of deployment "WebApplication.war" 18:16:51,734 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015876: Starting deployment of "WebApplication.war" 18:16:54,198 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jaxb-api.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-impl-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:16:54,202 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry activation.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-impl-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:16:54,206 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jsr173_1.0_api.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-impl-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:16:54,211 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jaxb1-impl.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-impl-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:16:54,215 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jaxb-api.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-xjc-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:16:54,219 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jaxb-impl.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-xjc-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:16:54,224 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jsr173_1.0_api.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-xjc-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:16:54,228 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry activation.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/jaxb-xjc-2.2.5.jar"  does not point to a valid jar for a Class-Path reference. 18:16:54,233 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry activation.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/mail-1.4.jar"  does not point to a valid jar for a Class-Path reference. 18:16:54,249 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015893: Encountered invalid class name 'org.springframework.context.ApplicationContext,org.springframework.beans.BeansException' for service type 'org.apache.cxf.bus.factory' 18:16:54,254 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015893: Encountered invalid class name 'org.xmlpull.mxp1.MXParser,org.xmlpull.mxp1_serializer.MXSerializer' for service type 'org.xmlpull.v1.XmlPullParserFactory' 18:16:54,259 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015893: Encountered invalid class name 'org.xmlpull.mxp1.MXParser,org.xmlpull.mxp1_serializer.MXSerializer' for service type 'org.xmlpull.v1.XmlPullParserFactory' 18:16:54,265 INFO  [org.jboss.as.pojo] (MSC service thread 1-1) JBAS017000: Found legacy bean/pojo namespace: urn:jboss:bean-deployer:2.0 - might be missing some xml features (potential exceptions). 18:16:54,273 INFO  [org.jboss.as.jpa] (MSC service thread 1-1) JBAS011401: Read persistence.xml for org.jbpm.persistence.jpa 18:16:54,275 INFO  [org.jboss.as.jpa] (MSC service thread 1-1) JBAS011401: Read persistence.xml for org.jbpm.task 18:16:54,279 INFO  [org.jboss.as.jpa] (MSC service thread 1-1) JBAS011401: Read persistence.xml for org.jbpm.persistence.jpa 18:16:54,353 WARN  [org.jboss.as.ee] (MSC service thread 1-5) JBAS011006: Not installing optional component org.apache.cxf.transport.http.Servlet3ContinuationProvider$Servlet3Continuation due to exception: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011054: Could not find default constructor for class org.apache.cxf.transport.http.Servlet3ContinuationProvider$Servlet3Continuation           at org.jboss.as.ee.component.ComponentDescription$DefaultComponentConfigurator.configure(ComponentDescription.java:606)           at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:81)           at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:113) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_29]           at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_29]           at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_29] 18:16:54,380 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC00001: Failed to start service jboss.deployment.unit."WebApplication.war".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit."WebApplication.war".INSTALL: Failed to process phase INSTALL of deployment "WebApplication.war"           at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:119) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_29]           at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_29]           at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_29] Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011446: Failed to add persistence unit service for org.jbpm.persistence.jpa           at org.jboss.as.jpa.processor.PersistenceUnitDeploymentProcessor.deployPersistenceUnit(PersistenceUnitDeploymentProcessor.java:383)           at org.jboss.as.jpa.processor.PersistenceUnitDeploymentProcessor.addPuService(PersistenceUnitDeploymentProcessor.java:258)           at org.jboss.as.jpa.processor.PersistenceUnitDeploymentProcessor.handleWarDeployment(PersistenceUnitDeploymentProcessor.java:194)           at org.jboss.as.jpa.processor.PersistenceUnitDeploymentProcessor.deploy(PersistenceUnitDeploymentProcessor.java:118)           at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:113) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]           ... 5 more Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.persistenceunit."WebApplication.war#org.jbpm.persistence.jpa" is already registered           at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:154) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:227) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:560) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:201) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2228) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:201) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2228) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:307) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.as.jpa.processor.PersistenceUnitDeploymentProcessor.deployPersistenceUnit(PersistenceUnitDeploymentProcessor.java:374)           ... 9 more 18:16:54,611 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015877: Stopped deployment WebApplication.war in 178ms 18:16:54,613 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 1) JBAS014774: Service status report JBAS014777:   Services which failed to start:      service jboss.deployment.unit."WebApplication.war".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit."WebApplication.war".INSTALL: Failed to process phase INSTALL of deployment "WebApplication.war" Please help in resolving this Issue .</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>You can use only one schema for both task and process persistence units. Please remove the database properties from the process persistence unit as the datasource is going to be there. I put those there by mistake. Though it wont make a difference. Change the value of transaction lookup class property hibernate.transaction.manager_lookup_class from websphere to jboss. You will need to create a datasource in jboss same as the name mentioned in the persistence file. ﻿ These are the changes you need to do. But the error you are getting is because the name of the persistence unit i.e. org.jbpm.persistence.jpa is being used by another project which is also deployed in the same container. So Make these changes and then deploy the archive in another jboss server which has no other projects just to be safe. Regards.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>Hi Shobhit , I have made the following changes 1. created the datasource mysqlDS 2 . changed persistence &lt;properties&gt;             &lt;property name="hibernate.dialect" value="org.hibernate.dialect.MySQLDialect"/&gt;             &lt;property name="hibernate.connection.driver_class" value="com.mysql.jdbc.Driver"/&gt;             &lt;property name="hibernate.connection.url" value="jdbc:mysql://localhost:3306/task" /&gt;             &lt;property name="hibernate.connection.username" value="root"/&gt;             &lt;property name="hibernate.connection.password" value="root"/&gt;             &lt;property name="hibernate.connection.autocommit" value="true"/&gt;             &lt;property name="hibernate.max_fetch_depth" value="3"/&gt;             &lt;property name="hibernate.hbm2ddl.auto" value="create" /&gt;             &lt;property name="hibernate.show_sql" value="false" /&gt;             &lt;property name="hibernate.transaction.manager_lookup_class" value="org.hibernate.transaction.JBossTransactionManagerLookup"/&gt;         &lt;/properties&gt;      16:24:20,886 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) JBAS015876: Starting deployment of "WebApplication.war" 16:24:22,313 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-7) Class Path entry activation.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/mail-1.4.jar"  does not point to a valid jar for a Class-Path reference. 16:24:22,334 INFO  [org.jboss.as.jpa] (MSC service thread 1-8) JBAS011401: Read persistence.xml for org.jbpm.persistence.jpa 16:24:22,400 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-6) JBAS010404: Deploying non-JDBC-compliant driver class com.mysql.jdbc.Driver (version 5.1) 16:24:22,408 INFO  [org.jboss.as.jpa] (MSC service thread 1-6) JBAS011402: Starting Persistence Unit Service 'WebApplication.war#org.jbpm.persistence.jpa' 16:24:22,412 INFO  [org.hibernate.ejb.Ejb3Configuration] (MSC service thread 1-6) HHH000204: Processing PersistenceUnitInfo [           name: org.jbpm.persistence.jpa           ...] 16:24:22,437 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC00001: Failed to start service jboss.persistenceunit."WebApplication.war#org.jbpm.persistence.jpa": org.jboss.msc.service.StartException in service jboss.persistenceunit."WebApplication.war#org.jbpm.persistence.jpa": Failed to start service           at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1767) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_29]           at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_29]           at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_29] Caused by: org.hibernate.MappingException: Error while parsing file: ProcessInstanceInfo.hbm.xml           at org.hibernate.ejb.Ejb3Configuration.addClassesToSessionFactory(Ejb3Configuration.java:1255)           at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1047)           at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:692)           at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:72)           at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.createContainerEntityManagerFactory(PersistenceUnitServiceImpl.java:162)           at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.start(PersistenceUnitServiceImpl.java:85)           at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           ... 3 more Caused by: org.hibernate.InvalidMappingException: Unable to read XML           at org.hibernate.internal.util.xml.MappingReader.readMappingDocument(MappingReader.java:106)           at org.hibernate.cfg.Configuration.add(Configuration.java:474)           at org.hibernate.cfg.Configuration.add(Configuration.java:470)           at org.hibernate.cfg.Configuration.add(Configuration.java:643)           at org.hibernate.cfg.Configuration.addInputStream(Configuration.java:681)           at org.hibernate.ejb.Ejb3Configuration.addClassesToSessionFactory(Ejb3Configuration.java:1247)           ... 10 more Caused by: org.dom4j.DocumentException: org.dom4j.DocumentFactory cannot be cast to org.dom4j.DocumentFactory Nested exception: org.dom4j.DocumentFactory cannot be cast to org.dom4j.DocumentFactory           at org.dom4j.io.SAXReader.read(SAXReader.java:484)           at org.hibernate.internal.util.xml.MappingReader.readMappingDocument(MappingReader.java:76)           ... 15 more 16:24:22,857 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015877: Stopped deployment WebApplication.war in 164ms 16:24:22,860 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 1) JBAS014774: Service status report JBAS014777:   Services which failed to start:      service jboss.persistenceunit."WebApplication.war#org.jbpm.persistence.jpa": org.jboss.msc.service.StartException in service jboss.persistenceunit."WebApplication.war#org.jbpm.persistence.jpa": Failed to start service</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>Anand, The xmls are not readable for conflict with dom4j. It looks like your server already has dom4j jar. Please confirm by going into runtime directory of jboss. If it is there, remove teh dom4j from the webapplication archive.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>Hi Shobhit , I have removed it.. again deployments failing current log.. 20:25:31,455 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: JBoss AS 7.1.1.Final "Brontes" started in 4208ms - Started 145 of 222 services (74 services are passive or on-demand) 20:26:11,135 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "WebApplication.war" 20:26:14,472 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-7) Class Path entry activation.jar in "/C:/jbpm-installer/content/WebApplication.war/WEB-INF/lib/mail-1.4.jar"  does not point to a valid jar for a Class-Path reference. 20:26:14,619 INFO  [org.jboss.as.jpa] (MSC service thread 1-3) JBAS011401: Read persistence.xml for org.jbpm.persistence.jpa 20:26:14,945 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-7) JBAS010404: Deploying non-JDBC-compliant driver class com.mysql.jdbc.Driver (version 5.1) 20:26:14,997 INFO  [org.jboss.as.jpa] (MSC service thread 1-1) JBAS011402: Starting Persistence Unit Service 'WebApplication.war#org.jbpm.persistence.jpa' 20:26:15,499 INFO  [org.hibernate.cfg.Environment] (MSC service thread 1-1) HHH000206: hibernate.properties not found 20:26:15,506 INFO  [org.hibernate.cfg.Environment] (MSC service thread 1-1) HHH000021: Bytecode provider name : javassist 20:26:15,538 INFO  [org.hibernate.ejb.Ejb3Configuration] (MSC service thread 1-1) HHH000204: Processing PersistenceUnitInfo [           name: org.jbpm.persistence.jpa           ...] 20:26:15,908 ERROR [org.hibernate.internal.util.xml.ErrorLogger] (MSC service thread 1-1) HHH000196: Error parsing XML (5) : cvc-complex-type.3.1: Value '1.0' of attribute 'version' of element 'entity-mappings' is not valid with respect to the corresponding attribute use. Attribute 'version' has a fixed value of '2.0'. 20:26:16,027 WARN  [org.hibernate.internal.util.xml.DTDEntityResolver] (MSC service thread 1-1) HHH000223: Recognized obsolete hibernate namespace  http://hibernate.sourceforge.net/ http://hibernate.sourceforge.net/. Use namespace  http://www.hibernate.org/dtd/ http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide! 20:26:16,791 INFO  [org.hibernate.service.jdbc.connections.internal.ConnectionProviderInitiator] (MSC service thread 1-1) HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider 20:26:17,223 INFO  [bitronix.tm.BitronixTransactionManager] (MSC service thread 1-1) Bitronix Transaction Manager version 2.1.2 20:26:17,229 WARN  [bitronix.tm.Configuration] (MSC service thread 1-1) cannot get this JVM unique ID. Make sure it is configured and you only use ASCII characters. Will use IP address instead (unsafe for production usage!). 20:26:17,240 INFO  [bitronix.tm.Configuration] (MSC service thread 1-1) JVM unique ID: &lt;192.168.43.220&gt; 20:26:17,257 WARN  [bitronix.tm.journal.DiskJournal] (MSC service thread 1-1) active log file is unclean, did you call BitronixTransactionManager.shutdown() at the end of the last run? 20:26:17,275 WARN  [bitronix.tm.utils.ManagementRegistrar] (MSC service thread 1-1) cannot register object with name bitronix.tm:type=Recoverer,ServerId=192_168_43_220: bitronix.tm.internal.BitronixRuntimeException: cannot call method 'registerMBean'           at bitronix.tm.utils.ManagementRegistrar.mbeanServerCall(ManagementRegistrar.java:123) [btm-2.1.2.jar:2.1.2]           at bitronix.tm.utils.ManagementRegistrar.register(ManagementRegistrar.java:86) [btm-2.1.2.jar:2.1.2]           at bitronix.tm.recovery.Recoverer.&lt;init&gt;(Recoverer.java:104) [btm-2.1.2.jar:2.1.2]           at bitronix.tm.TransactionManagerServices.getRecoverer(TransactionManagerServices.java:139) [btm-2.1.2.jar:2.1.2]           at bitronix.tm.BitronixTransactionManager.&lt;init&gt;(BitronixTransactionManager.java:64) [btm-2.1.2.jar:2.1.2]           at bitronix.tm.TransactionManagerServices.getTransactionManager(TransactionManagerServices.java:62) [btm-2.1.2.jar:2.1.2]           at bitronix.tm.jndi.BitronixContext.lookup(BitronixContext.java:76) [btm-2.1.2.jar:2.1.2]           at javax.naming.InitialContext.lookup(InitialContext.java:392) [rt.jar:1.6.0_29]           at org.jboss.jca.adapters.jdbc.WrapperDataSource.initUserTransaction(WrapperDataSource.java:262)           at org.jboss.jca.adapters.jdbc.WrapperDataSource.checkTransactionActive(WrapperDataSource.java:222)           at org.jboss.jca.adapters.jdbc.WrappedConnection.checkTransactionActive(WrappedConnection.java:1599)           at org.jboss.jca.adapters.jdbc.WrappedConnection.checkStatus(WrappedConnection.java:1614)           at org.jboss.jca.adapters.jdbc.WrappedConnection.checkTransaction(WrappedConnection.java:1588)           at org.jboss.jca.adapters.jdbc.WrappedConnection.getMetaData(WrappedConnection.java:816)           at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:121) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]           at org.hibernate.service.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:75) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]           at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:159) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]           at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:131) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]           at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:71) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]           at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2270) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]           at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2266) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]           at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1735) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]           at org.hibernate.ejb.EntityManagerFactoryImpl.&lt;init&gt;(EntityManagerFactoryImpl.java:84) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]           at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]           at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]           at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]           at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.createContainerEntityManagerFactory(PersistenceUnitServiceImpl.java:162) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]           at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.start(PersistenceUnitServiceImpl.java:85) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811)           at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746)           at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_29]           at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_29]           at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_29] Caused by: java.lang.IllegalAccessException: Class bitronix.tm.utils.ManagementRegistrar can not access a member of class org.jboss.as.jmx.PluggableMBeanServerImpl with modifiers "public"           at sun.reflect.Reflection.ensureMemberAccess(Reflection.java:65) [rt.jar:1.6.0_29]           at java.lang.reflect.Method.invoke(Method.java:588) [rt.jar:1.6.0_29]           at bitronix.tm.utils.ManagementRegistrar.mbeanServerCall(ManagementRegistrar.java:121) [btm-2.1.2.jar:2.1.2]           ... 32 more 20:26:17,466 INFO  [bitronix.tm.recovery.Recoverer] (MSC service thread 1-1) recovery committed 0 dangling transaction(s) and rolled back 0 aborted transaction(s) on 0 resource(s) [] (restricted to serverId '192.168.43.220') 20:26:17,507 INFO  [org.hibernate.dialect.Dialect] (MSC service thread 1-1) HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect 20:26:17,535 INFO  [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (MSC service thread 1-1) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory 20:26:17,549 INFO  [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (MSC service thread 1-1) HHH000397: Using ASTQueryTranslatorFactory 20:26:17,607 INFO  [org.hibernate.validator.util.Version] (MSC service thread 1-1) Hibernate Validator 4.2.0.Final 20:26:18,598 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (MSC service thread 1-1) HHH000227: Running hbm2ddl schema export 20:26:24,520 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (MSC service thread 1-1) HHH000230: Schema export complete 20:26:25,744 INFO  [org.jboss.as.jpa] (MSC service thread 1-4) JBAS011403: Stopping Persistence Unit Service 'WebApplication.war#org.jbpm.persistence.jpa' 20:26:25,976 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015877: Stopped deployment WebApplication.war in 239ms 20:26:25,983 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) JBAS014774: Service status report JBAS014775:    New missing/unsatisfied dependencies:       service jboss.naming.context.java.jboss.resources.jdbc.testDS1 (missing) dependents: [service jboss.naming.context.java.module.WebApplication.WebApplication.env.jdbc.testDS1]</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>Please look for the file ProcessInstanceInfoMapping.xml and change the entity mappings tag to &lt;entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm"   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"   xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd"   version="1.0"&gt; There is a mismatch in the version. ﻿</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>Hi Shobhit , Thanks for quick reply .. I have done all the curresponding changes now there is no problem xml syntaxes I googled and fixed accordingly .. But now I am facing the below error for ORM . Please help me out 23:53:20,634 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "WebApplication.war" 23:53:23,858 INFO  [org.jboss.as.jpa] (MSC service thread 1-3) JBAS011401: Read persistence.xml for org.jbpm.persistence.jpa 23:53:23,865 INFO  [org.jboss.as.jpa] (MSC service thread 1-3) JBAS011401: Read persistence.xml for org.jbpm.task 23:53:24,020 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-4) JBAS010404: Deploying non-JDBC-compliant driver class com.mysql.jdbc.Driver (version 5.1) 23:53:24,033 INFO  [org.jboss.as.jpa] (MSC service thread 1-6) JBAS011402: Starting Persistence Unit Service 'WebApplication.war#org.jbpm.persistence.jpa' 23:53:24,033 INFO  [org.jboss.as.jpa] (MSC service thread 1-3) JBAS011402: Starting Persistence Unit Service 'WebApplication.war#org.jbpm.task' 23:53:24,042 INFO  [org.hibernate.ejb.Ejb3Configuration] (MSC service thread 1-6) HHH000204: Processing PersistenceUnitInfo [   name: org.jbpm.persistence.jpa   ...] 23:53:24,047 INFO  [org.hibernate.ejb.Ejb3Configuration] (MSC service thread 1-3) HHH000204: Processing PersistenceUnitInfo [   name: org.jbpm.task   ...] 23:53:24,106 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC00001: Failed to start service jboss.persistenceunit."WebApplication.war#org.jbpm.task": org.jboss.msc.service.StartException in service jboss.persistenceunit."WebApplication.war#org.jbpm.task": Failed to start service   at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1767) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]   at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_29]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_29]   at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_29] Caused by: org.hibernate.MappingException: Error while parsing file: orm.xml   at org.hibernate.ejb.Ejb3Configuration.addClassesToSessionFactory(Ejb3Configuration.java:1255)   at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1047)   at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:692)   at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:72)   at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.createContainerEntityManagerFactory(PersistenceUnitServiceImpl.java:162)   at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.start(PersistenceUnitServiceImpl.java:85)   at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]   at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]   ... 3 more Caused by: org.hibernate.InvalidMappingException: Unable to read XML   at org.hibernate.internal.util.xml.MappingReader.readMappingDocument(MappingReader.java:106)   at org.hibernate.cfg.Configuration.add(Configuration.java:474)   at org.hibernate.cfg.Configuration.add(Configuration.java:470)   at org.hibernate.cfg.Configuration.add(Configuration.java:643)   at org.hibernate.cfg.Configuration.addInputStream(Configuration.java:681)   at org.hibernate.ejb.Ejb3Configuration.addClassesToSessionFactory(Ejb3Configuration.java:1247)   ... 10 more Caused by: org.dom4j.DocumentException: null Nested exception: null   at org.dom4j.io.SAXReader.read(SAXReader.java:484)   at org.hibernate.internal.util.xml.MappingReader.readMappingDocument(MappingReader.java:76)   ... 15 more 23:53:24,107 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC00001: Failed to start service jboss.persistenceunit."WebApplication.war#org.jbpm.persistence.jpa": org.jboss.msc.service.StartException in service jboss.persistenceunit."WebApplication.war#org.jbpm.persistence.jpa": Failed to start service   at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1767) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]   at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_29]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_29]   at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_29] Caused by: org.hibernate.MappingException: Error while parsing file: orm.xml   at org.hibernate.ejb.Ejb3Configuration.addClassesToSessionFactory(Ejb3Configuration.java:1255)   at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1047)   at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:692)   at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:72)   at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.createContainerEntityManagerFactory(PersistenceUnitServiceImpl.java:162)   at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.start(PersistenceUnitServiceImpl.java:85)   at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]   at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]   ... 3 more Caused by: org.hibernate.InvalidMappingException: Unable to read XML   at org.hibernate.internal.util.xml.MappingReader.readMappingDocument(MappingReader.java:106)   at org.hibernate.cfg.Configuration.add(Configuration.java:474)   at org.hibernate.cfg.Configuration.add(Configuration.java:470)   at org.hibernate.cfg.Configuration.add(Configuration.java:643)   at org.hibernate.cfg.Configuration.addInputStream(Configuration.java:681)   at org.hibernate.ejb.Ejb3Configuration.addClassesToSessionFactory(Ejb3Configuration.java:1247)   ... 10 more Caused by: org.dom4j.DocumentException: null Nested exception: null   at org.dom4j.io.SAXReader.read(SAXReader.java:484)   at org.hibernate.internal.util.xml.MappingReader.readMappingDocument(MappingReader.java:76)   ... 15 more 23:53:24,703 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015876: Starting deployment of "WebApplication.war" 23:53:24,858 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015877: Stopped deployment WebApplication.war in 279ms 23:53:24,868 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) JBAS014774: Service status report JBAS014777:   Services which failed to start:      service jboss.persistenceunit."WebApplication.war#org.jbpm.task": org.jboss.msc.service.StartException in service jboss.persistenceunit."WebApplication.war#org.jbpm.task": Failed to start service       service jboss.persistenceunit."WebApplication.war#org.jbpm.persistence.jpa": org.jboss.msc.service.StartException in service jboss.persistenceunit."WebApplication.war#org.jbpm.persistence.jpa": Failed to start service</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>Did you also make changes to your ORM files? could you attach the file here please.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>Hi Shobhit , few question 1.Do you have a sample application which demonstrates how we can connect and access the details of the Task server and tasks.using servlets.      simple JSPs and servlets 2 . How we can use the REST API's  provided  to develope web applications</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Need help for developing web application using JBPM5.4</header>
    <body>18:01:24,494 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015951: Admin console listening on  http://127.0.0.1:9990 http://127.0.0.1:9990 18:01:24,534 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: JBoss AS 7.1.1.Final "Brontes" started in 5798ms - Started 145 of 222 services (74 services are passive or on-demand) 18:02:30,313 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015876: Starting deployment of "WebApplication2.war" 18:02:31,719 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-7) Class Path entry activation.jar in "/C:/jbpm-installer/content/WebApplication2.war/WEB-INF/lib/mail-1.4.jar"  does not point to a valid jar for a Class-Path reference. 18:02:31,783 INFO  [org.jboss.as.jpa] (MSC service thread 1-3) JBAS011401: Read persistence.xml for org.jbpm.persistence.jpa 18:02:31,786 INFO  [org.jboss.as.jpa] (MSC service thread 1-3) JBAS011401: Read persistence.xml for org.jbpm.task 18:02:31,907 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-4) JBAS010403: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3) 18:02:31,934 INFO  [org.jboss.as.jpa] (MSC service thread 1-2) JBAS011402: Starting Persistence Unit Service 'WebApplication2.war#org.jbpm.task' 18:02:32,158 INFO  [org.hibernate.cfg.Environment] (MSC service thread 1-2) HHH000206: hibernate.properties not found 18:02:32,161 INFO  [org.hibernate.cfg.Environment] (MSC service thread 1-2) HHH000021: Bytecode provider name : javassist 18:02:32,175 INFO  [org.hibernate.ejb.Ejb3Configuration] (MSC service thread 1-2) HHH000204: Processing PersistenceUnitInfo [           name: org.jbpm.task           ...] 18:02:32,233 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC00001: Failed to start service jboss.persistenceunit."WebApplication2.war#org.jbpm.task": org.jboss.msc.service.StartException in service jboss.persistenceunit."WebApplication2.war#org.jbpm.task": Failed to start service           at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1767) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_29]           at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_29]           at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_29] Caused by: org.hibernate.MappingException: Error while parsing file: orm.xml           at org.hibernate.ejb.Ejb3Configuration.addClassesToSessionFactory(Ejb3Configuration.java:1255)           at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1047)           at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:692)           at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:72)           at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.createContainerEntityManagerFactory(PersistenceUnitServiceImpl.java:162)           at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.start(PersistenceUnitServiceImpl.java:85)           at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]           ... 3 more Caused by: org.hibernate.InvalidMappingException: Unable to read XML           at org.hibernate.internal.util.xml.MappingReader.readMappingDocument(MappingReader.java:106)           at org.hibernate.cfg.Configuration.add(Configuration.java:474)           at org.hibernate.cfg.Configuration.add(Configuration.java:470)           at org.hibernate.cfg.Configuration.add(Configuration.java:643)           at org.hibernate.cfg.Configuration.addInputStream(Configuration.java:681)           at org.hibernate.ejb.Ejb3Configuration.addClassesToSessionFactory(Ejb3Configuration.java:1247)           ... 10 more Caused by: org.dom4j.DocumentException: org.dom4j.DocumentFactory cannot be cast to org.dom4j.DocumentFactory Nested exception: org.dom4j.DocumentFactory cannot be cast to org.dom4j.DocumentFactory           at org.dom4j.io.SAXReader.read(SAXReader.java:484)           at org.hibernate.internal.util.xml.MappingReader.readMappingDocument(MappingReader.java:76)           ... 15 more 18:02:32,632 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015877: Stopped deployment WebApplication2.war in 144ms 18:02:32,635 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) JBAS014774: Service status report JBAS014775:    New missing/unsatisfied dependencies:       service jboss.naming.context.java.jboss.resources.jdbc.testDS1 (missing) dependents: [service jboss.naming.context.java.module.WebApplication2.WebApplication2.env.jdbc.testDS1] JBAS014777:   Services which failed to start:      service jboss.persistenceunit."WebApplication2.war#org.jbpm.task": org.jboss.msc.service.StartException in service jboss.persistenceunit."WebApplication2.war#org.jbpm.task": Failed to start service</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Deploying an application from an external deployment location</header>
    <body>You can do it via a low-level CLI command (i.e. not using the standard high level CLI 'deploy' command.) In the example above I used a file URL, which is kind of silly, but it's just an example. The value for the 'url' param can be any string "urlSpec" where, inside the server, the following call would work: For example, using HTTP:</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Deploying an application from an external deployment location</header>
    <body>First of all, thanks for the reply. What should I do if I want to add a deployment scanner that takes for path a HTTP url? The idea is to have a HTTP update location for my web-app (using apache, or jboss-webdav), and N jboss containers looking up for updates on the war. Maybe you could help me, pointing me in another direction, or suggesting me other tools to achieve so. Thanks again.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Design the new POJO MicroContainer] - Re:	Context installation causes StackOverflowError</header>
    <body>| [INFO] [clean:clean] | [INFO] Deleting directory C:\projects\microcontainer\kernel\jmx-mc-int\target | [INFO] [resources:resources] | [INFO] Using default encoding to copy filtered resources. | [INFO] [compiler:compile] | [INFO] Compiling 66 source files to C:\projects\microcontainer\kernel\jmx-mc-int\target\classes | [WARNING] C:\projects\microcontainer\kernel\jmx-mc-int\src\main\java\org\jboss\system\ServiceConfigurator.java:[159,19] [deprecation] isDebugEnabled() in org.jboss.logging.Logger has been deprecated | | [INFO] [resources:testResources] | [INFO] Using default encoding to copy filtered resources. | [INFO] [compiler:testCompile] | [INFO] Compiling 201 source files to C:\projects\microcontainer\kernel\jmx-mc-int\target\test-classes | [WARNING] C:\projects\microcontainer\kernel\jmx-mc-int\src\test\java\org\jboss\test\system\metadata\value\valuefactory\test\MockTypeInfo.java:[92,19] [deprecation] getType() in org.jboss.reflect.spi.TypeInfo has been deprecated | | [INFO] [surefire:test] | [INFO] Surefire report directory: C:\projects\microcontainer\kernel\jmx-mc-int\target\surefire-reports | [INFO] ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Design the new POJO MicroContainer] - Re:	Context installation causes StackOverflowError</header>
    <body>|  T E S T S | -----</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Readonly transactions in session beans</header>
    <body>I think you get can get to the session from the EntityManager delegate. I have a similar case where I load my data into an @ApplicationScoped (@Singleton) bean, I then have a REST interface which I can call in order to flush the component and force a re-fetch if necessary.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Readonly transactions in session beans</header>
    <body>JBoss does not explicitly support this notion. The fact is is that Spring Framework read-only transactions are poorly understood by developers that use it and it rarely does what you expect. See  http://www.ibm.com/developerworks/java/library/j-ts1/index.html Transaction strategies: Understanding transaction pitfalls for more information.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBossAS Roadmap for	JavaEE 7 ?</header>
    <body>Will JBossAS 7 implement JavaEE 7 or is JavaEE 7 addressed by a later JBossAS version?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBossAS Roadmap	for JavaEE 7 ?</header>
    <body>Hi, it will be a new version of AS. probably 8, but in any case it wont be 7.x anymore. -- tomaz</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS 7 Support for XDoclet tag @jboss.method-attributes needed</header>
    <body>Hello, we are migrating from JBoss AS 4.0.5 to JBoss AS 7.1.3. We have a CMP Entity Bean (EJB 2.1) with a 1:n/n:1 relation (java.util.Set&lt;ObjectXYZ&gt;). When we load the Entity outside of a transaction (for example by calling homeInterface.findByPrimaryKey(4711) and want to iterate over the relation "java.util.Set..." for example from a struts action we get the following Exception in JBoss AS 7. "A CMR collection may only be used within the transaction in which it was created". The Entity ist configured via XDoclet annotations/tags. So we have the tag @jboss.method-attributes pattern = "get*" read-only = "true", which results to &lt;entity&gt;          &lt;ejb-name&gt;....&lt;/ejb-name&gt;          &lt;configuration-name&gt;CMP 2.x and Cache&lt;/configuration-name&gt;         &lt;method-attributes&gt;             &lt;method&gt;               &lt;method-name&gt;get*&lt;/method-name&gt;               &lt;read-only&gt;true&lt;/read-only&gt;             &lt;/method&gt;         &lt;/method-attributes&gt;       &lt;/entity&gt; in jboss.xml. In JBoss 7 AS the jboss.xml is not supported. 1. Question: How can I tell the getter-methods of my entity to be read-only in JBoss AS 7 ? Otherwise I will get the above Exception with the relation ! 2. Querstion: How is it possible to deploy/configure/run a CMP Entity Bean (EJB 2.1) with a CMR without a transaction in JBoss AS 7. Thanks. Ersin.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBoss AS 7 Support for XDoclet tag @jboss.method-attributes needed</header>
    <body>Hi Ersin, If you load a collection via CMR the method call of 'Collection get....' and the iteration must be in the same transaction. This is in AS4.3 and AS5, maybe in 4.0 it was different  :( Also in AS7 there are several issues with EJB2 and CMP configuration and behavior. Several people are working on that. I hope that we can provide commits in AS7.1 and AS7.2 branch.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JBoss AS 7 Support for XDoclet tag @jboss.method-attributes needed</header>
    <body>Hi Wolf-Dieter, thank you very much for the quick response. Up to now, I couldn't find a way to configure calls to the getter methods of a CMP Entity Bean (EJB2.1) read-only. I have looked into the schemas for jboss-ejb3.xml and ejb-jar.xml and couldn't find any support for my problem. In JBoss AS 4/5/6 we had the jboss.xml. We don't want to run a load-anything-method with a CMR call in a EJB transaction, because it's just a read, without a write/update operation. I think, there should not be a need for a transaction in this szenario (performance issues). So, we need something like &lt;entity&gt;      ...         &lt;method-attributes&gt;             &lt;method&gt;               &lt;method-name&gt;get*&lt;/method-name&gt;               &lt;read-only&gt;true&lt;/read-only&gt;             &lt;/method&gt;         &lt;/method-attributes&gt; &lt;/entity&gt; Otherwise, we get the following exception, when we access the CMR collection. "A CMR collection may only be used within the transaction in which it was created". Any idea ? Ersin</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7	Securing Passwords</header>
    <body>That's not fool proof. Hardware encryption will make it difficult to copy the store, but since you have to have the password in our config file, someone with access to the system can get those passwords the same way we can.  User prompted password would be alot more secure, however, for reasons in mentallurg's article it's not very practical. Even with that though, it's not fool proof, if someone gains access to the system they dont even need to use the keystore. If they can get permissions to the running process (e.g. become the user running jboss), then they can take a memory dump of the JVM. Using the memory dump you can get the passwords out.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss Passwords - not secure, but recommended</header>
    <body>This is a very well written article. Thank you for the contribution. I agree that a huge chunk of the industry has a false sense of security about password encryption, and that we should do more to educate them.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JBoss AS7	Securing Passwords</header>
    <body>I agree a better warning is needed. Looks like you contributed most of that, thanks! However, as you yourself mention concealing and relocating passwords provides security value, it's just a very limited value, that only works in combination with other layers of security. I don't think there was really any intention to mislead here. I myself took the "security through obscurity" quote was actually a reference to "security through obscurity is no security at all"  :)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - live:::Mississippi Rebels vs Pittsburgh Panthers Live</header>
    <body>    http://footballcoverage-2012.blogspot.com/  http://2.bp.blogspot.com/-XxVaKa6oPso/UD8pVovCkDI/AAAAAAAAATM/Jbg45fsfwro/s400/rrr.jpeg</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Install JBOSS tools on Eclipse Juno (4.x)</header>
    <body>Please take a backup of '~/.eclipse' directory (especially in fedora) before installing the 'Eclipse Juno SR1' UI optimization patch via JBoss Center. </body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Log HTTP POST data in JBoss AS 7.1.1</header>
    <body>Alternatively, you could also use tcpdump (if running on a unix based system) or  http://www.wireshark.org/ Wireshark.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Log HTTP POST data in JBoss AS 7.1.1</header>
    <body>Or perhaps the RequestDumperValve from  http://docs.jboss.org/jbossweb/7.0.x/config/valve.html http://docs.jboss.org/jbossweb/7.0.x/config/valve.html ?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jBPM 5.4 with MySql</header>
    <body>Hi, I'm trying to setup the jbpm with backend db as MySql/MS-SQL Hence, i found this useful article  https://community.jboss.org/docs/DOC-19221 https://community.jboss.org/wiki/SetUpJBPM53ToUseMSSQLServer2008 i was able to proceed with this, but the step 4 while executing +*ant install.demo.db*+ i encountered the following error, +*Target "install.demo.db" does not exist in the project "jBPM.install".*+ But where can i find the scripts. please tell me an alternate solution for this. TIA</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>Hi, you should use: *ant install.db.files* You can find it in build.xml file.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jBPM 5.4 with MySql</header>
    <body>Just give ant install.demo. install.demo.db is mentioned in the user guide but the target is not there in build.xml.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - A debuggers guide to 'AS7 Internal Architechture Overview'</header>
    <body>*Introduction* Since Brian Stansberry was kind enough to write an article on the AS 7 interal architechture, the aptly named "AS7 Internal Architecture Overview",  https://community.jboss.org/docs/DOC-47970 https://community.jboss.org/wiki/AS7InternalArchitectureOverview, I thought I'd document my attempts of walking through it in the form of a tounge-in-cheek diary. Hopefully, he'll have time to correct my misunderstandings (as I'm sure there will be plenty). If nothing else, he will at least have proof that at least one person has read through his article. The first part of this article will deal with setting up the debugging environment and stepping through the aquiring of the ServerEnvironment and the initializations of the BootStrapImpl and ServerContainerImpl instances involved. More will follow as I debug along. *Environment* Well, where to start? Since we all know by now that the AS7 is blazingly fast, we'll need a debugger to place some breakpoints so we'll have a chance of seeing what's going on. Grab Eclipse Juno SR1 from  http://eclipse.org/downloads/ http://eclipse.org/downloads/ and JDK 7 from   http://www.oracle.com/technetwork/java/javase/downloads/index.html http://www.oracle.com/technetwork/java/javase/downloads/index.html. Install the JDK and Eclipse, you might also want to set JAVA_HOME to point at the JDK and set -vm C:\Java\jvm\jdk1.7.0_12\bin\javaw.exe (on Windows) in eclipse.ini. You'll also want JBoss Tools (since you're the 'living on the edge' kind of person, use the nightlies at  http://download.jboss.org/jbosstools/updates/nightly/core/trunk/ http://download.jboss.org/jbosstools/updates/nightly/core/trunk/). Then we'll need some sources. Grab the source zip from  https://github.com/jbossas/jboss-as https://github.com/jbossas/jboss-as or even better, install git and do a 'git clone git://github.com/jbossas/jboss-as.git'. Since you're in a hurry (and running tests is for CI-systems anyway, right?), build the as with 'build clean install -DskipTests' After the build has completed, start Eclipse and define a new server pointing at that runtime (it's under the build/target dir). Remember to set the startup timeout to a large number (integers are cheap). *The main method* In the beginning was Main.main(String...). And the return was void. And he thought he'd better roll up his sleeves and get to work. Since Brian told us bootstrapping starts at the server module, use the Eclipse "Import existing Maven project"-feature to pull in the jboss-as-server project from the "server" folder in the AS source. In the article we learn that the startup scripts point JBoss Modules to this very module and the Main server class so this is where we'll place our breakpoint and press the server debug  button to boot it up in debug mode. Takeoff! The breakpoint is hit and you can point the source lookup to the jboss-as-server project on your workspace. If you look at the import list of Main, you will notice references to projects and subprojects such as "controller", "process", "version", "logmanager", "modules", "msc" and "stdio". As this tutorial proceed, I might venture further in but for now I'll take the stance that as-subprojects (such as "controller")  are imported and examined when stumbled upon but as-sibling projects (such as modules and threads) are stepped out of in the debugger. Those who can't wait are of course invited to check out the sibling projects also and step into them. The notable exception to the policy will be the MSC (Modular Service Container) which we will open up since, well, that's a large part of the AS. The first thing the main module does is sets up the basic logging and capturing of the standard I/O streams. It also sets up JBoss Modules with the basic information it need to be able to do it's job (apparently access to the stuff in "org.jboss.vfs", the Virtual File System module) is required. The first real "AS"-work is done in determineEnvironment, where we determine the running environment by assembling a ServerEnviroment. You might also want to import the controller project at this point because we will see RunningMode there (although it's just a simple enum that tells if we're running in normal or admin mode). *The running environment* This method takes the parameters to main(String...), the system properties, the system environment and a flag that tells if this is a standalone instance booting. Both the fetching of the system properties and the environment checks for precense of a security manager and runs the call through AccessController.doPrivileged if one is found. In other cases, a straight call is performed. The main job of determineEnvironment is parsing through the arguments, sometimes just printing out usage or version information and exiting or setting various system/env values based in the incoming prameters.  In our case we hit the determineEnvironment with the "-b" "localhost", "--server-config=standalone.xml" and some system properties/env data. The args are looped and "-b, "localhost" is converted added to the system properties as "jboss.bind.address" =&gt; "localhost" and the serverConfig value is set to standalone.xml. A new ProductConfig is created (it's in the version project, import it), it looks for a system env JBOSS_PRODUCT_CONF and if that can't be found returns the path to a product.conf in the AS bin dir. We don't have any of that so we end up with null for all values, on an EAP, apparently the manifest data of the jar in the org.jboss.as.product module is read according to the slot property which was read from the for-us-fictional property file. Equipped with a deeper knowledge of our three null values, we move on. The determineEnvironemt should return a ServerEnvironment and so it does in the last line by throwing all it got into the constructor of said class. The code in the constuctor is longish but fairly easy to step through, essentially what it does is determine host names and various directories (temp, work, deployments etc) to use based on the information passed in. All this is the encapsulated into the ServerEnvironment object. It also places some of these values back into the system properties. At one point it also copies the original system properties and tucks them away, possibly to be restored when the server reloads or something. Anyways, at this point when the object is returned, the boot process has determined everything it needs to know about its running enviroment and can move on. *Bootstrapping the bootstrapping* At the end of the main loop we get an instance of BootstrapImpl and by doing so we also get a ServiceContainerImpl and here the simple part of the tutorial ends ;-) Import the jboss-msc project. BootstrapImpl creates a ServiceContainerImpl which extends a ServiceTargetImpl. A ServiceTargetImpl is a hiearchial construct with a parent, a Map of ServiceListener with assoicated inheritance data and a Set of dependent service names. The ServiceTargetImpl has various methods for adding/removing dependencies and listeners and working with ServiceBuilders. The javadoc says it's a "Abstract base class used for ServiceTargets" but the implementation looks quite concrete (and central) to the MSC. A ServiceListener is an interfaces that can be used for listening for various events in the MSC, such as state transitions, services added, various dependencies becoming available/unavailable etc. The ServiceListener.Inheritance determines if the listener should be inherited to all sub-service-targets, only once or not at all. By using the subTarget() method you can get a new ServiceTargetImpl with the current instance as the parent (the hiearchial part). There is apparently also a batch-version of the method but let's skip it for now. A ServiceName is an unique (complicated, hierarchial) identifier with a String name, a ServiceName parent and a hashcode. But back to the ServiceContainerImpl. In the instance variables we have a 'registry' - a Map of ServiceName -&gt; ServiceRegistrationImpl, 'start'  (more on the ServiceRegistrationImpl later on) - timestamp of start time, 'shutdownInitiated' - timestamp of shutdown started, 'terminateListeners' - a list of TerminateListener instances interested in the shutdown event, 'profileOutput' - ?, 'terminateInfo' - timestamps of a possible shutdown in progress, 'down' - flag telling if container is down, 'executor' - the container thread pool executor, 'name' - the name of the container, 'mBeanServer' - a handle to the MBeanServer, 'objectName' - the MBean name of the container and 'containerMXBean' - a MBean interface implementation for the container, 'SERIAL' - an AtomicInteger used for getting a serial number for the container, 'PROFILE_OUTPUT' - the value of the system property jboss.msc.profile.output (or null), 'executorSeq' - an AtomicInteger used for getting a sequence number for the executor, 'HANDLER' - an exception handler for uncaught exceptions slipping through and 'POLICY' - a Thread pool executor policy. Phew! There are also some nested classes available. The executor is a ContainerExecutor, which extends a ThreadPoolExecutor. When created, it grabs an id from executorSeq and creates a threadSeq sequence for threads. It offers a newThread(Runnable) method that returns an instance of ServiceThread extends Thread after setting the thread name (including the executors id and an incremented sequence number from the threadSeq). ServiceThread is a basic Thread extension that can keep a reference to a ServiceContainerImpl. The ContainerExecutor also uses HANDLER and POLICY defined in the parent class.  LatchListener is a TerminateListener that increases in the constructor and decreases when a termination is observed, essentially keeping a count of running containers. ShutdownHookHolder hold a boolean down flag that says if the container is shutting down (possibly preventing new containers from being registered). It also contains a set of known containers. A cleanup thread is registered with Runtime.getRuntime().addShutdownHook that sets the down to true, iterates over all known containers, attaches a LatchListener (set to the size of known containers) to them and shuts them down. The terminating containers will fire the termination listener and then the thread can just sit and wait until the latch is finshed (all known containers signalled termination). So we are in the constructor of the ServiceContainerImpl (from BootstrapImpl). Well, first the static stuff is called, causing a greeting to be printed out, then field initialization occurs. But then we get ourselves a serialNo (1) and set the name (jboss-as). The ContainerExecutor is initialized. The objectName is intialized (jboss.msc:type=container,name=jboss-as), the mBeanServer is fetched from the ManagementFactory.getPlatformMBeanServer and the containerMXBean is registered with the server. The mBeanServer and objectName are stored to the instance variables. We register the container with the static Set in the ShutdownHookHolder, adding the container and a Reaper that will remove the registration. Finally, if the container was registered as a MBean, we add a termination listener that will unregister the container from the MBean server. With the service container initialized, booting can begin.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS 7 Internal	Architecture Overview</header>
    <body>I started documenting my adventures at  https://community.jboss.org/docs/DOC-48190 https://community.jboss.org/wiki/ADebuggersGuideToAS7InternalArchitechtureOverview</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jbpm engine is generating 4 tasks instead of just one !!</header>
    <body>Why dont you use jbpm 5.4 final version? As for your question, similar thing happened to me once. I left the comment value for the task as empty which resulted in 4-5 tasks instead of just 1. So may be you can check if the comment value for the task is empty or not. If it is then try putting some comments and running it again. Regards.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using the CLI	remote client jar</header>
    <body>Is this jar available via Maven?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Advanced CLI scripting with Groovy, Rhino, Jython, etc.</header>
    <body>Is there a POM or quickstart available for this?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Getting activity coordinates</header>
    <body>Could anyone help me with getting the activity coordinates in jbpm 5 please. https://community.jboss.org/thread/217574 https://community.jboss.org/thread/217574 Thanks.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using the CLI	remote client jar</header>
    <body>Not yet, but it should be there once 7.2 Alpha is released.  If it doesn't get put into the repo, please ping this discussion again and I'll add it. Look for: &lt;dependency&gt;   &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;   &lt;artifactId&gt;jboss-as-cli&lt;/artifactId&gt; &lt;classifier&gt;client&lt;/classifier&gt; &lt;/dependency&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using the CLI	remote client jar</header>
    <body>jboss-cli-client.jar is not available in that directory or any others in EAP6.  How would one do run the examples you documented in  https://community.jboss.org/docs/DOC-18796 https://community.jboss.org/wiki/AdvancedCLIScriptingWithGroovyRhinoJythonEtc in EAP 6.0.1?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Advanced CLI scripting with Groovy, Rhino, Jython, etc.</header>
    <body>No, but that's a good idea.  We do need more documentation on this subject.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Using the CLI	remote client jar</header>
    <body>It's not available in EAP 6.0.1 because the jar is not available until AS7.2 and EAP 6.0.1 is based on an earlier version of AS7.  However, the good news is that the AS7.2 CLI (and its client jar) is known to work with earlier AS7 versions.  I use the AS7.2 version of  https://community.jboss.org/docs/DOC-17457 CLI GUI with AS 7.1 quite often.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Jbpm 5 weird behavior	starting a process</header>
    <body>Hi, Lately I have started experiencing a weird behavior using jbpm5.4. Now, if I start a process, the number of instances I get is equal to the id of the process. What I mean is if the database is clean and I initiate a process, it starts 1 process for me and its id is 1. If again I start a process, it starts 2 instances and both have ids as 2. Any clue why this is happening? https://community.jboss.org/servlet/JiveServlet/showImage/2-788954-20052/error.png  https://community.jboss.org/servlet/JiveServlet/downloadImage/2-788954-20052/450-345/error.png</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Jbpm 5 weird behavior	starting a process</header>
    <body>Logic behind the GUI is correct. Even in the jbpm schema, I can see the same information.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: Jbpm 5 weird behavior	starting a process</header>
    <body>Guys i am still struggling with this issue. Please help.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Need help to migrate JBOSS-Cache to Infinispan 5.1.x</header>
    <body>I am in process of migrating my application from AS-5.1.0 GA to 7.1.1. I have gone (at least it think I have) through all steps defined in the migration documentation.  The only part I am having issue is porting from jboss-cache to infispan. What I have is a JMX based cache defined in my-jboss-beans.xml as such: &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;deployment xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2001/XMLSchema-instance"             xsi:schemaLocation="urn:jboss:bean-deployer bean-deployer_2_0.xsd"             xmlns="urn:jboss:bean-deployer:2.0"&gt;     &lt;bean name="AppCacheFactory" class="org.jboss.cache.DefaultCacheFactory"/&gt;     &lt;bean name="DefaultCacheConfig" class="org.jboss.cache.config.Configuration"&gt;         &lt;!-- Externally injected services --&gt;         &lt;property name="runtimeConfig"&gt;             &lt;bean class="org.jboss.cache.config.RuntimeConfig"&gt;                 &lt;property name="transactionManager"&gt;                     &lt;inject bean="jboss:service=TransactionManager" property="TransactionManager"/&gt;                 &lt;/property&gt;             &lt;/bean&gt;         &lt;/property&gt;         &lt;property name="lockAcquisitionTimeout"&gt;15000&lt;/property&gt;         &lt;property name="exposeManagementStatistics"&gt;true&lt;/property&gt;         &lt;property name="evictionConfig"&gt;             &lt;bean class="org.jboss.cache.config.EvictionConfig"&gt;                 &lt;property name="wakeupInterval"&gt;5000&lt;/property&gt;                 &lt;!--                 Overall default --&gt;                 &lt;property name="defaultEvictionRegionConfig"&gt;                     &lt;bean class="org.jboss.cache.config.EvictionRegionConfig"&gt;                         &lt;property name="regionName"&gt;/&lt;/property&gt;                         &lt;property name="evictionAlgorithmConfig"&gt;                             &lt;bean class="org.jboss.cache.eviction.LRUAlgorithmConfig"&gt;                                 &lt;!-- Evict LRU node once we have more than this number of nodes --&gt;                                 &lt;property name="maxNodes"&gt;10000&lt;/property&gt;                                 &lt;!-- And, evict any node that hasn't been accessed in this many seconds --&gt;                                 &lt;property name="timeToLiveSeconds"&gt;1000&lt;/property&gt;                                 &lt;!-- Don't evict a node that's been accessed within this many seconds.                     Set this to a value greater than your max expected transaction length. --&gt;                                 &lt;property name="minTimeToLiveSeconds"&gt;120&lt;/property&gt;                             &lt;/bean&gt;                         &lt;/property&gt;                     &lt;/bean&gt;                 &lt;/property&gt;                 &lt;property name="evictionRegionConfigs"&gt;                     &lt;list&gt;                         &lt;!-- Don't ever evict modification timestamps --&gt;                         &lt;bean class="org.jboss.cache.config.EvictionRegionConfig"&gt;                             &lt;property name="regionName"&gt;/TS&lt;/property&gt;                             &lt;property name="evictionAlgorithmConfig"&gt;                                 &lt;bean class="org.jboss.cache.eviction.NullEvictionAlgorithmConfig"/&gt;                             &lt;/property&gt;                         &lt;/bean&gt;                     &lt;/list&gt;                 &lt;/property&gt;             &lt;/bean&gt;         &lt;/property&gt;     &lt;/bean&gt;     &lt;bean name="AppCacheJmxWrapper" class="org.jboss.cache.jmx.CacheJmxWrapper"&gt;     &lt;annotation&gt;@org.jboss.aop.microcontainer.aspects.jmx.JMX(name="MyApp.cache:name=xyz",exposedInterface=org.jboss.cache.jmx.CacheJmxWrapperMBean.class,registerDirectly=true)&lt;/annotation&gt;         &lt;constructor&gt;             &lt;parameter&gt;                 &lt;bean class="org.jboss.cache.Cache"&gt;                     &lt;constructor factoryMethod="createCache"&gt;                         &lt;factory bean="AppCacheFactory"/&gt;                         &lt;parameter class="org.jboss.cache.config.Configuration"&gt;                             &lt;inject bean="DefaultCacheConfig"/&gt;                         &lt;/parameter&gt;                         &lt;parameter&gt;true&lt;/parameter&gt;                     &lt;/constructor&gt;                 &lt;/bean&gt;             &lt;/parameter&gt;         &lt;/constructor&gt;     &lt;/bean&gt; &lt;/deployment&gt; Can somebody point me in the right direction on this.  How the above is acheived in AS-7.x?  Thanks in advance.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Need help to migrate JBOSS-Cache to Infinispan 5.1.x</header>
    <body>Anyone???</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - my application does not see the oracle classes even if the driver is defined.</header>
    <body>I have created the oracle module at $JBOSS_HOME/modules/com/oracle/ojdbc14/main module.xml  ojdbc14.jar  ojdbc14.jar.index the content of the module.xml is as follows. &lt;module xmlns="urn:jboss:module:1.0" name="com.oracle.ojdbc14"&gt;   &lt;resources&gt;     &lt;resource-root path="ojdbc14.jar"/&gt;   &lt;/resources&gt;   &lt;dependencies&gt;     &lt;module name="javax.api"/&gt;   &lt;/dependencies&gt; &lt;/module&gt; when I run my web application [Server:comet_i5] 06:02:44,883 ERROR [stderr] (http--0.0.0.0-8100-2) Caused by: java.lang.ClassNotFoundException: oracle.sql.BLOB from [Module "deployment.Aragorn.war:main" from Service Module Loader] [Server:comet_i5] 06:02:44,884 ERROR [stderr] (http--0.0.0.0-8100-2)    at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:190) [Server:comet_i5] 06:02:44,884 ERROR [stderr] (http--0.0.0.0-8100-2)    at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:468) [Server:comet_i5] 06:02:44,885 ERROR [stderr] (http--0.0.0.0-8100-2)    at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:456) [Server:comet_i5] 06:02:44,885 ERROR [stderr] (http--0.0.0.0-8100-2)    at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:423) [Server:comet_i5] 06:02:44,885 ERROR [stderr] (http--0.0.0.0-8100-2)    at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398) [Server:comet_i5] 06:02:44,886 ERROR [stderr] (http--0.0.0.0-8100-2)    at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120) should I also add the ojcdb14.jar into the WEB/lib of my war.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss ESB Development] - Re: JCA's relation to	ESB</header>
    <body>thanks for the unscrewed links Mark Little</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Single sign on issue on session Expiration Jboss 7</header>
    <body>I have several applications deployed on the same jboss instance. I currently have Single Sign On configured using the &lt;sso/&gt; tag. It is possible for a user to navigate from one application to another app (redirect) deployed on the same jboss instance. Currently when the user is authenticated into the first appplication, the SSO cookie is created and a Single sign on entry is created for this cookie in the SingleSignOn valve which works fine. Each application has a timeout period of 60 mins configured via the web.xml. When the user navigates to the second application the user principal is correctly propogated and a new session is created. However an new SSO entry for the second app is not created since the cookie remains the same. Now the issue is that lets say the session for the first application expires, even if the second app's session is still active because the user is accessing the 2nd app, the Single Sign On entry is deleted. Therefore the principal is lost on subsequent requests for the second application. Because the Single Sign entry that is removed also gets rid of the principal. Is there a way to get around this issue?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - JBPM 5 clustering</header>
    <body>Hi All ,    I have been trying load balancing with JBoss AS 7 and achieved it using mod_jk using a simple servlet application. I tried to do the same with JBPM 5.2 but unfotunately came up with some error.I was able to launch the jbpm console but after logging in, it showed me a blank screen . The error log in the server is given below- 14:57:48,654 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/jbpm-console].[ErraiServlet]] (http-localhost-127.0.0.1-8080-12) Servlet.service() for servlet ErraiServlet threw exception: java.lang.IllegalArgumentException: clusteredSession.setAttribute.iae           at org.jboss.as.web.session.ClusteredSession.setAttribute(ClusteredSession.java:808) [jboss-as-web-7.0.2.Final.jar:7.0.2.Final]           at org.apache.catalina.session.StandardSessionFacade.setAttribute(StandardSessionFacade.java:130) [jbossweb-7.0.1.Final.jar:7.0.2.Final]           at org.jboss.errai.bus.server.HttpSessionProvider.getSession(HttpSessionProvider.java:46) [errai-bus-1.1-Final.jar:]           at org.jboss.errai.bus.server.HttpSessionProvider.getSession(HttpSessionProvider.java:33) [errai-bus-1.1-Final.jar:]           at org.jboss.errai.bus.server.servlet.DefaultBlockingServlet.doPost(DefaultBlockingServlet.java:71) [errai-bus-1.1-Final.jar:]           at javax.servlet.http.HttpServlet.service(HttpServlet.java:754) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]           at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]           at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.1.Final.jar:7.0.2.Final]           at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.1.Final.jar:7.0.2.Final]           at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.1.Final.jar:7.0.2.Final]           at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.1.Final.jar:7.0.2.Final]           at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:139) [jboss-as-web-7.0.2.Final.jar:7.0.2.Final]           at org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.event(CatalinaContext.java:285)           at org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.invoke(CatalinaContext.java:261)           at org.jboss.as.web.session.ClusteredSessionValve.handleRequest(ClusteredSessionValve.java:123) [jboss-as-web-7.0.2.Final.jar:7.0.2.Final]           at org.jboss.as.web.session.ClusteredSessionValve.invoke(ClusteredSessionValve.java:89) [jboss-as-web-7.0.2.Final.jar:7.0.2.Final]           at org.jboss.as.web.session.JvmRouteValve.invoke(JvmRouteValve.java:88) [jboss-as-web-7.0.2.Final.jar:7.0.2.Final] Can anybody throw some light on this. Regards Sachin</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - [jboss-modules] More public ModuleLoaders</header>
    <body>Hi, I'm currently trying to integrate jboss-modules into Tomcat ( https://github.com/hasalex/tomcat-modules https://github.com/hasalex/tomcat-modules), in replacement of the regular WebappClassLoader. I'm not sure to have a real use-case of that, but I think that it's a nice way to learn jboss-modules. My first steps would be much easier if I had some more public module loaders. For example, I find the ClassPathModuleLoaderWrapper useful but it is package-private. In fact, a lot of stuff are package-private. Jboss-modules would be much more extensible and useful with more public classes.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Closing the subforum?</header>
    <body>Since most dev-discussionn takes place on the mailing-list or on #jboss-as7, would there be a point in closing this subforum to avoid confusion? Most posts here belong in the main JBoss AS 7 forum anyway. Or limit postings to articles?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Closing the	subforum?</header>
    <body>I agree, it's a little bit confusing what the right place for a posting is. And it's could be easier to remove all this tv and sport ads only from one forum  :p</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Unable to execute a BPMN definition with 300 concurrent users</header>
    <body>I am doing a performance comparison for executing a process with various bpm vrndors. PD   : Start -&gt;  Service -&gt;(usertask1,usertask2) When i run with 50 usres itself i am getting several errors including many transaction failure due to 1. User task creation taking more time 2. COncurrent modification exception in task service My queries are 1. Are there any specific configurations when running with multiple users 2. Having Human task and proces engine same jvm is better or different</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - To use LdapExtLoginModule with JaasSecurityDomain mbean - encode64 operation</header>
    <body>Hi, I am trying to port security code which was running on jboss4 to jboss7. As a part of it I need to encode the bindCredentials. Previously I defined a bean in jboss-service.xml and was using it in code to encode the bindCredentials before writing it to a file - login-config.xml. I have done other changes and using standalone-full.xml. However not able to achieve this encoding part because of which it gives the error - Incorrect password on login. Is there equivalent service &amp; operation in JBoss7. Tried to google but could not find the required information. Does picketBox jar provides any such facility? Please let me know how to achieve it. Regards, Veena</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: ClassNotFoundException (org.xml.sax.helpers.DefaultHandler) in a module</header>
    <body>I had the same issue while creating a module for EhCache in jboss 7.1.1.Final. In the end I used the following dependency (because it was asking first for "org/xml/sax/helpers" then for "javax/xml/parsers", "javax/naming", and so on...) &lt;module name="javax.api"/&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Cache Development] - Ready to Watch A Haunted House Online scary movie</header>
    <body>Watch A Haunted House Online: After a supporting stint in the little-seen gang drama New Blood 1999 Wayans’ film fortunes increased dramatically when he co-starred with his brother Marlon in a hit film directed by their older brother Keenan: Scary Movie 1999–2000, a comic satire which he also co-wrote on the then-recent trend of horror films like Scream. Wayans played the apparently closeted Ray Wilkins, a role he reprised for the similarly popular 2001 sequel Scary Movie 2. Watch A Haunted House Online Free. Soon after, Ben finds David at home with blood all over his forearms, eyes rolled back into his head, much the way Maria was during the exorcism. The police arrive, and though it doesn’t show on film, David acquires an officer’s handgun and holds it in his mouth. Ben tells him to fight it, but he begins to weep, reciting The Lord’s Prayer, stopping; forgetting the last few words. He laughs and then shoots himself. Just then, Isabella begins having a seizure. Download A Haunted House Movie: From the writing team that brought us LiTTLEMAN 2006 and White Chicks 2002 comes the upcoming film A Haunted House, the latest spoof film to skewer modern horror movie tropes. Today saw its first official trailer hit the web. Marlon Wayans, lead actor, co-writer and producer of the film, was responsible for launching the Scary Movie franchise back in the early aughts. Watch A Haunted House Online Though this new feature may seem like a bit of a retread, this time Wayans has a whole new slew of found-footage horror films to lampoon-from The Devil Inside to Paranormal Activity 2007 to those ridiculous ghost-chasing TV shows you always see advertised-it’s all ripe for parody in this new trailer. One thing that is a little troubling about the trailer is the inclusion of Nick Swardson as a seemingly prominent character. Anyone who remembers last year’s ill-fated television show of his Pretend Time…or the awful Adam Sandler movie he had a role in Just Go with It….or the other awful. Watch a haunted house Movie: Where do jokes go to die? A HAUNTED HOUSE. No, that wasn't my own botched attempt at a joke, it's just a fact; this parody movie wouldn't know a clever joke, pun or sight gag if it happened upon one by accident. The brainchild of Marlon Wayans, who has tried his hand at goofing on horror movies before with the first two SCARY MOVIE flicks, this cheap and dull product is like a consistent assault on your patience and, eventually, your will to live. A HAUNTED HOUSE's supposed goal is to thoroughly skewer the found footage genre, mostly the PARANORMAL ACTIVITY films, with a side of BLAIR WITCH PROJECT and THE DEVIL INSIDE. (That's the extent of Wayans and his co-writer Rick Alvarez's found footage knowledge.) However, as the movie is mainly a series of fart, genital, race and gender jokes, it's obvious that it doesn't have anything subversive or intelligent to say about the genre itself - it's just inserting a lot of crude idiocy.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Cache Development] - Interested to Watch Zero Dark Thirty Online</header>
    <body>Watch Zero Dark Thirty Online: That will vacant confront partially describes, When i think, exactly why “Zero Dim Thirty” has stirred in place a whole lot hot debate prior to hammering theaters. Is usually the girl amazed with what the girl learns? Contemptuous? Happy? Inflammed? Indifferent? Maya’s confront shows practically nothing and will be offering the maximum amount of explanation because her silence. Just how visitors think of this particular glimpse will depend on these because here as well as during this particular hard, vital movie Ms. Bigelow doesn’t complete the actual blanks for the kids. Since the actual beginning sequences present Maya aiding carry out thrashing, harsh interrogations regarding detainees, When i understand her appearance because that of the member of staff soaking up a brand new number of marching orders through her up coming employer — orders that considerably slow her aged types. Download Zero Dark Thirty Movie: The upcoming 2012 American action movie is based on the Academy Award for Best Picture winner and having won other five Oscars in 2009 named The Hurt Locker. So you must have no doubt how enchanting the theme of the movie is. Kathryn Bigelow's Osama Usama Bin Laden Motion Picture Zero Dark Thirty Has Won Its Second Major Honour During A Week, Because The National Board Of Review Anointed It The Most Effective Film Of 2012. Bigelow Was Conjointly Handed  The NBR's Best Director Award, And Jessica Chastain, UN Agency Plays Chief Osama-Hunter Maya, Was Named Best Actor.This Follows Zero Dark Thirty's Triumph At The The Big Apple Film Critics Circle Awards, Wherever It Won Best Film, Best Director And Best Motion-Picture Photography.Watch Zero Dark Thirty Online Free. Watch Zero Dark Thirty Movie: Throughout “Zero Dim 25, ” your masterly brand-new film aimed by simply Kathryn Bigelow as well as written by Mark Boal, the Chemical. My partner and i. The. area adviser comes with an Ing Qaeda surgical with his / her hold. The particular adviser, as their label can be Dan (Jason Clarke), the taller, good-looking man with a hairy brown leafy facial beard, things your hostage to “enhanced interrogation”—a entire complement regarding pain, nude being made fun of, as well as waterboarding. “This can be exactly what beat seems like, ” Dan explains to your surgical, that is branded Ammar (and can be tinkered with compassion from the This particular language actor or actress Reda Kateb). These kind of phrases are generally spoken in a Chemical. My partner and i. The. “black web page, ” with Pakistan, with 2003. But the majority of the film is around Us defeat—the failure to seize or maybe get rid of Osama trash can Packed, because Ing Qaeda draws off attacks with Saudi Persia.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Cache Development] - Re: Interested to Watch Zero Dark Thirty Online</header>
    <body>http://youmoviesonline.com/download-movies.php  http://thegoutkiller.com/sp/wp-content/themes/OptimizePress/images/large-downloadnow.png http://3.bp.blogspot.com/-04YEy-ERT7I/UHzW2Fi2RhI/AAAAAAAAAOM/U6bkXkl9zmg/s1600/watch-now-button1.png  (http://www.youmoviesonline.com/Zero-Dark-Thirty-807.film)[/</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - jbpm-5.4.0.Final-installer-full - Sample application throwing error</header>
    <body>Hi, Im getting the following error on starting the sample jBPM application which comes along wth the installer. 0    13/01 13:35:02,359[main] ERROR service.hornetq.HornetQTaskClientConnector.connect  - Unable to connect to server using configuration org-hornetq-core-remoting-impl-netty-NettyConnectorFactory?port=5153&amp;host=127-0-0-1 org.jbpm.workflow.instance.WorkflowRuntimeException: [com.sample.evaluation:1 - Self Evaluation:2] -- Could not connect task client: on ip: 127.0.0.1 - port: 5153           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:132)           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerNodeInstance(NodeInstanceImpl.java:279)           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerCompleted(NodeInstanceImpl.java:238)           at org.jbpm.workflow.instance.node.StartNodeInstance.triggerCompleted(StartNodeInstance.java:49)           at org.jbpm.workflow.instance.node.StartNodeInstance.internalTrigger(StartNodeInstance.java:41)           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:126)           at org.jbpm.ruleflow.instance.RuleFlowProcessInstance.internalStart(RuleFlowProcessInstance.java:35)           at org.jbpm.process.instance.impl.ProcessInstanceImpl.start(ProcessInstanceImpl.java:194)           at org.jbpm.workflow.instance.impl.WorkflowProcessInstanceImpl.start(WorkflowProcessInstanceImpl.java:309)           at org.jbpm.process.instance.ProcessRuntimeImpl.startProcessInstance(ProcessRuntimeImpl.java:170)           at org.jbpm.process.instance.ProcessRuntimeImpl.startProcess(ProcessRuntimeImpl.java:140)           at org.drools.common.AbstractWorkingMemory.startProcess(AbstractWorkingMemory.java:1098)           at org.drools.impl.StatefulKnowledgeSessionImpl.startProcess(StatefulKnowledgeSessionImpl.java:320)           at com.sample.ProcessTest.main(ProcessTest.java:31) Caused by: java.lang.IllegalArgumentException: Could not connect task client: on ip: 127.0.0.1 - port: 5153           at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler.connect(GenericHTWorkItemHandler.java:158)           at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler.executeWorkItem(GenericHTWorkItemHandler.java:180)           at org.drools.process.instance.impl.DefaultWorkItemManager.internalExecuteWorkItem(DefaultWorkItemManager.java:70)           at org.jbpm.workflow.instance.node.WorkItemNodeInstance.internalTrigger(WorkItemNodeInstance.java:107)           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:126)           ... 13 more 13 Jan, 2013 1:35:42 PM org.hornetq.core.logging.impl.JULLogDelegate warn WARNING: I'm closing a core ServerLocator you left open. Please make sure you close all ServerLocators explicitly before letting them go out of scope! 713167 13 Jan, 2013 1:35:42 PM org.hornetq.core.logging.impl.JULLogDelegate warn WARNING: The ServerLocator you didn't close was created here: java.lang.Exception           at org.hornetq.core.client.impl.ServerLocatorImpl.&lt;init&gt;(ServerLocatorImpl.java:387)           at org.hornetq.core.client.impl.ServerLocatorImpl.&lt;init&gt;(ServerLocatorImpl.java:484)           at org.hornetq.api.core.client.HornetQClient.createServerLocatorWithoutHA(HornetQClient.java:112)           at org.jbpm.task.service.hornetq.HornetQTaskClientConnector.connect(HornetQTaskClientConnector.java:95)           at org.jbpm.task.service.hornetq.HornetQTaskClientConnector.connect(HornetQTaskClientConnector.java:76)           at org.jbpm.task.service.TaskClient.connect(TaskClient.java:845)           at org.jbpm.task.service.SyncTaskServiceWrapper.connect(SyncTaskServiceWrapper.java:183)           at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler.connect(GenericHTWorkItemHandler.java:156)           at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler.executeWorkItem(GenericHTWorkItemHandler.java:180)           at org.drools.process.instance.impl.DefaultWorkItemManager.internalExecuteWorkItem(DefaultWorkItemManager.java:70)           at org.jbpm.workflow.instance.node.WorkItemNodeInstance.internalTrigger(WorkItemNodeInstance.java:107)           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:126)           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerNodeInstance(NodeInstanceImpl.java:279)           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.triggerCompleted(NodeInstanceImpl.java:238)           at org.jbpm.workflow.instance.node.StartNodeInstance.triggerCompleted(StartNodeInstance.java:49)           at org.jbpm.workflow.instance.node.StartNodeInstance.internalTrigger(StartNodeInstance.java:41)           at org.jbpm.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:126)           at org.jbpm.ruleflow.instance.RuleFlowProcessInstance.internalStart(RuleFlowProcessInstance.java:35)           at org.jbpm.process.instance.impl.ProcessInstanceImpl.start(ProcessInstanceImpl.java:194)           at org.jbpm.workflow.instance.impl.WorkflowProcessInstanceImpl.start(WorkflowProcessInstanceImpl.java:309)           at org.jbpm.process.instance.ProcessRuntimeImpl.startProcessInstance(ProcessRuntimeImpl.java:170)           at org.jbpm.process.instance.ProcessRuntimeImpl.startProcess(ProcessRuntimeImpl.java:140)           at org.drools.common.AbstractWorkingMemory.startProcess(AbstractWorkingMemory.java:1098)           at org.drools.impl.StatefulKnowledgeSessionImpl.startProcess(StatefulKnowledgeSessionImpl.java:320)           at com.sample.ProcessTest.main(ProcessTest.java:31) I have performed the foll. steps. 1. ant install.demo 2. ant start.demo 3. Run as Java application ProcessTest.java On getting this error, I tan the foll. command as per instructions in another post ant start.human.task This gave the foll error in the console: start.human.task:     [javac] C:\projects\jbpm\jbpm-5.4.0.Final-installer-full\jbpm-installer\build.xml:864: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds     [javac] Compiling 1 source file to C:\projects\jbpm\jbpm-5.4.0.Final-installer-full\jbpm-installer\task-service\target      [copy] Copying 5 files to C:\projects\jbpm\jbpm-5.4.0.Final-installer-full\jbpm-installer\task-service\target      [java] 1    13/01 13:34:37,617[main] ERROR task.identity.DefaultUserGroupCallbackImpl.&lt;init&gt;  - Error when loading group information for callback from location: file:null/roles.properties      [java] java.io.FileNotFoundException: null\roles.properties (The system cannot find the path specified)      [java]     at java.io.FileInputStream.open(Native Method)      [java]     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:106)      [java]     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:66)      [java]     at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:70)      [java]     at sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:161)      [java]     at java.net.URL.openStream(URL.java:1009)      [java]     at org.jbpm.task.identity.DefaultUserGroupCallbackImpl.&lt;init&gt;(DefaultUserGroupCallbackImpl.java:55)      [java]     at org.jbpm.task.identity.DefaultUserGroupCallbackImpl.&lt;init&gt;(DefaultUserGroupCallbackImpl.java:40)      [java]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)      [java]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)      [java]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)      [java]     at java.lang.reflect.Constructor.newInstance(Constructor.java:513)      [java]     at java.lang.Class.newInstance0(Class.java:355)      [java]     at java.lang.Class.newInstance(Class.java:308)      [java]     at org.jbpm.task.identity.UserGroupCallbackManager.setCallbackFromProperties(UserGroupCallbackManager.java:69)      [java]     at org.jbpm.DemoTaskService.main(Unknown Source)      [java] Task service registered usergroup callback ...      [java] Task service started correctly!      [java] Task service running ... I reran ProcessTest.java and encountered the same error. Could I please get some help regarding this.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jbpm-5.4.0.Final-installer-full - Sample application throwing error</header>
    <body>Hi, Can I please get some help with this?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - Re: jbpm-5.4.0.Final-installer-full - Sample application throwing error</header>
    <body>Your task service is not getting started because your roles.properties file link. Just look for the following code snippet in your build.xml &lt;java classname="org.jbpm.DemoTaskService" fork="true"&gt;               &lt;classpath&gt;             &lt;path refid="classpath.human.task" /&gt;       &lt;/classpath&gt;     &lt;/java&gt; ﻿ And add the line  *&lt;sysproperty key="jbpm.user.group.mapping" value="file:///&lt;+path of your jboss server+&gt;/jboss-as-7.1.1.Final/standalone/configuration/roles.properties"/&gt;  like this :* *&lt;java classname="org.jbpm.DemoTaskService" fork="true"&gt;         * &lt;sysproperty key="jbpm.user.group.mapping" value="file:///&lt;+path of your jboss server+&gt;/jboss-as-7.1.1.Final/standalone/configuration/roles.properties"/&gt;       &lt;classpath&gt;             &lt;path refid="classpath.human.task" /&gt;       &lt;/classpath&gt;     &lt;/java&gt;</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - ProcessInstanceInfo and	Task relation</header>
    <body>Hi, We are changing ProcessInstanceInfoMapping.xml for processInstanceId to take Sequence Values instead of Auto. But the task coming out of it still stores the autogenerated processInstanceId's in task table. Also, we checked the task and processInstanceSchema they do not show any relation. Please provide a workaround so that task table takes processInstanceId of the sequence and not the autogenerated one. Thanks in advance ++ ++</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [Design of Messaging on JBoss (Messaging/JBoss)]	- Re: split-brain between live and backup node</header>
    <body>| |    // Attributes --</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Data Source	Configuration in AS 7</header>
    <body>Hi Henk ,           I have small question for you .After configuring the datasource related files in domain folder. I have run  the domain.bat in bin folder ,then after in server log I donot find any message related to  my datasource jndi name . how come I know that my datasource is bounded to jndi ? Thanks, Siddhanta</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Missing file from Nexus preventing build of Arquillian TestNG Integration</header>
    <body>After downloading the most recent codebase from git for jbossAS 7.2.0.SNAPSHOT, I recieved the following error: [INFO] ----------</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Missing file from Nexus preventing build of Arquillian TestNG Integration</header>
    <body>By editing the pom.xml for that module and setting the version number of this dependency: |      | &lt;dependency&gt; | |          | &lt;groupId&gt;org.jboss.as&lt;/groupId&gt; | |          | &lt;artifactId&gt;jboss-as-spec-api&lt;/artifactId&gt; | |          | &lt;type&gt;pom&lt;/type&gt; | |      | &lt;/dependency&gt; | to 7.1.2.Final, the build continues and all the arquillian tests pass.  I can Jira this and submit a patch for this tomorrow if this fix is acceptable. Mike Van</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Missing file from Nexus preventing build of Arquillian TestNG Integration</header>
    <body>This file appears to be created during the JBoss build itself, only later on in the build cycle.  Because I started with a vanilla maven repository, it would make sense that this file wouldn't be present due to build ordering.  Would it be possible to alter the build order so that spec-api is build prior to Arquillian, or is there a transitive dependency from spec-api to arquillian TestNG Integration? If so, perhaps pulling that test out and executing it in its own module after spec-api is built would be an answer.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Missing file from Nexus preventing build of Arquillian TestNG Integration</header>
    <body>This file is created by the spec-api module, which is created much later in the build process. The way I see it, there are two possible solutions: 1. Move the arquillian modules to after the spec-api module. 2. Create a module specifically for arquillian-testng and execute that module immediately after spec-api is built.  The only other module that has a dependency on jboss-as-arquillian-testng-integration is test-suite which runs after spec-api. Also, all of the other Arquillian modules build fine, and there are numerous dependencies on the other arquillian modules in the build process.  With this in mind, I think option 2 is probably best. Either way, I think this deserves a Jira. I can implement whichever solution you folks would like and submit a patch to the ticket tomorrow. The only reason I found this was because I started the build with a from a blank .m2/repository. If Jenkins isn't clearing out the .m2/repository prior to the build that then this would have only shown up the first time a build was done. After that, the file produced by spec-api would be installed into the repository and the problem would have gone away. Thoughts? -- Mike Van Apache Software Foundation, Committer</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Missing file from Nexus preventing build of Arquillian TestNG Integration</header>
    <body>Option two of this thread has been implemented and a patch named " https://issues.jboss.org/secure/attachment/12359404/0001-Moved-testng-integration-to-the-base-directory-and-m.patch 0001-Moved-testng-integration-to-the-base-directory-and-m.patch " has now been attached to  https://issues.jboss.org/browse/AS7-6248 https://issues.jboss.org/browse/AS7-6248 .  This patch has been released under ASF 2.0 license.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Programmatically access JBoss Security realm</header>
    <body>I have defined a realm in standalone.xml which is: &lt;security-domain name="adbRealm" cache-type="default"&gt;     &lt;authentication&gt;         &lt;login-module code="org.jboss.security.auth.spi.LdapLoginModule" flag="required"&gt;             &lt;module-option name="java.naming.factory.initial" value="com.sun.jndi.ldap.LdapCtxFactory"/&gt;             &lt;module-option name="java.naming.provider.url" value="ldap://XXX.XXX.XXX.XXX:XXXX/"/&gt;             &lt;module-option name="java.naming.security.authentication" value="simple"/&gt;             &lt;module-option name="principalDNPrefix" value="uid="/&gt;             &lt;module-option name="principalDNSuffix" value=",ou=people,dc=x,dc=y,dc=co,dc=in"/&gt;             &lt;module-option name="rolesCtxDN" value="ou=roles,dc=x,dc=y,dc=co,dc=in"/&gt;             &lt;module-option name="uidAttributeID" value="uniqueMember"/&gt;             &lt;module-option name="matchOnUserDN" value="true"/&gt;             &lt;module-option name="roleAttributeID" value="cn"/&gt;             &lt;module-option name="roleAttributeIsDN" value="false"/&gt;         &lt;/login-module&gt;     &lt;/authentication&gt; &lt;/security-domain&gt; Now I want to read the realm and want to get the URL and dn from the backend by accessing the instance of org.jboss.security.auth.spi.LdapLoginModule corresponds to security-domain adbRealm or any other way. So that I can have these two properties. Is it possible? Any pointer would be very helpful.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list</header>
    <body>Hi All, I am migrating an application from jboss 5.x to jboss 7.1.1 My application uses hibernate 3.3.1.GA, seam, jpa. I configured basic settings required for jboss 7.1. i am using oracle 10g database and I am able to get the home page and also able to connect to the database. When navigating to some of the pages I am getting the following error trace in the page itself thanks to seam configuration(also in logs) Is this due to incompatibility of hibernate 3.3.1 GA with jboss 7.1, which has hibernate 4.x support by default. Please help me in this regard as I am new to jboss 7 and hibernate</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list</header>
    <body>You might want to try over here:  https://community.jboss.org/community/jbossas7 https://community.jboss.org/en/jbossas7 (or the Hibernate forums)</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - an org.hibernate.exception.ConstraintViolationException while persisting process instances</header>
    <body>Hi, i m developping a web application based on  https://community.jboss.org/people/bpmn2user/blog/2011/09/21/jbpm5-web-example this example. In order to make my application storing already-started/unfinished processes/sessions and being able to retrieve them later(which is an avantage of the jbpm framework..); i want that these processes to be persisted on the database and not to be erased and replaced by a new data when a new record is persisted ,so , it is clear that the problem is about the property "hibernate.hbm2ddl.auto" on the persistance.xml's persistance-unit configuration..  but i actually have a problem to do this. My persistance.xml  looks like this : &lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt; &lt;persistence version="1.0" xsi:schemaLocation=" http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence  http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm  http://java.sun.com/xml/ns/persistence/orm_1_0.xsd http://java.sun.com/xml/ns/persistence/orm_1_0.xsd" xmlns:orm=" http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm" xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2001/XMLSchema-instance" xmlns=" http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence"&gt;      &lt;persistence-unit name="org.jbpm.persistence.jpa" transaction-type="JTA"&gt;         &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;         &lt;jta-data-source&gt;java:comp/env/jdbc/testDS1&lt;/jta-data-source&gt;         &lt;class&gt;org.drools.persistence.info.SessionInfo&lt;/class&gt;         &lt;class&gt;org.jbpm.persistence.processinstance.ProcessInstanceInfo&lt;/class&gt;         &lt;class&gt;org.jbpm.persistence.processinstance.ProcessInstanceEventInfo&lt;/class&gt;         &lt;class&gt;org.drools.persistence.info.WorkItemInfo&lt;/class&gt;         &lt;class&gt;org.jbpm.process.audit.ProcessInstanceLog&lt;/class&gt;         &lt;class&gt;org.jbpm.process.audit.NodeInstanceLog&lt;/class&gt;         &lt;class&gt;org.jbpm.process.audit.VariableInstanceLog&lt;/class&gt;               &lt;class&gt;org.jbpm.task.Task&lt;/class&gt;                          &lt;class&gt;org.jbpm.task.Comment&lt;/class&gt;                          &lt;class&gt;org.jbpm.task.Attachment&lt;/class&gt;                          &lt;class&gt;org.jbpm.task.I18NText&lt;/class&gt;                          &lt;class&gt;org.jbpm.task.SubTasksStrategy&lt;/class&gt;                          &lt;class&gt;org.jbpm.task.Deadline&lt;/class&gt;                          &lt;class&gt;org.jbpm.task.Escalation&lt;/class&gt;                          &lt;class&gt;org.jbpm.task.Reassignment&lt;/class&gt;                          &lt;class&gt;org.jbpm.task.Notification&lt;/class&gt;                          &lt;class&gt;org.jbpm.task.BooleanExpression&lt;/class&gt;                          &lt;class&gt;org.jbpm.task.User&lt;/class&gt;                          &lt;class&gt;org.jbpm.task.PeopleAssignments&lt;/class&gt;         &lt;properties&gt;              &lt;!-- mysql dialect --&gt;             &lt;property name="hibernate.dialect" value="org.hibernate.dialect.MySQLDialect"/&gt;             &lt;property name="hibernate.connection.autocommit" value="false"/&gt;             &lt;property name="hibernate.max_fetch_depth" value="3"/&gt;             &lt;property name="hibernate.hbm2ddl.auto" value="update" /&gt;             &lt;property name="hibernate.show_sql" value="false" /&gt;             &lt;property name="hibernate.transaction.manager_lookup_class" value="org.hibernate.transaction.BTMTransactionManagerLookup"/&gt;         &lt;/properties&gt;     &lt;/persistence-unit&gt;     &lt;persistence-unit name="org.jbpm.task"&gt;         &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;         &lt;class&gt;org.jbpm.task.Attachment&lt;/class&gt;         &lt;class&gt;org.jbpm.task.Content&lt;/class&gt;         &lt;class&gt;org.jbpm.task.BooleanExpression&lt;/class&gt;         &lt;class&gt;org.jbpm.task.Comment&lt;/class&gt;         &lt;class&gt;org.jbpm.task.Deadline&lt;/class&gt;         &lt;class&gt;org.jbpm.task.Comment&lt;/class&gt;         &lt;class&gt;org.jbpm.task.Deadline&lt;/class&gt;         &lt;class&gt;org.jbpm.task.Delegation&lt;/class&gt;         &lt;class&gt;org.jbpm.task.Escalation&lt;/class&gt;         &lt;class&gt;org.jbpm.task.Group&lt;/class&gt;         &lt;class&gt;org.jbpm.task.I18NText&lt;/class&gt;         &lt;class&gt;org.jbpm.task.Notification&lt;/class&gt;         &lt;class&gt;org.jbpm.task.EmailNotification&lt;/class&gt;         &lt;class&gt;org.jbpm.task.EmailNotificationHeader&lt;/class&gt;         &lt;class&gt;org.jbpm.task.PeopleAssignments&lt;/class&gt;         &lt;class&gt;org.jbpm.task.Reassignment&lt;/class&gt;         &lt;class&gt;org.jbpm.task.Status&lt;/class&gt;         &lt;class&gt;org.jbpm.task.Task&lt;/class&gt;         &lt;class&gt;org.jbpm.task.TaskData&lt;/class&gt;         &lt;class&gt;org.jbpm.task.SubTasksStrategy&lt;/class&gt;         &lt;class&gt;org.jbpm.task.OnParentAbortAllSubTasksEndStrategy&lt;/class&gt;         &lt;class&gt;org.jbpm.task.OnAllSubTasksEndParentEndStrategy&lt;/class&gt;         &lt;class&gt;org.jbpm.task.User&lt;/class&gt;         &lt;class&gt;org.drools.persistence.info.SessionInfo&lt;/class&gt;         &lt;class&gt;org.jbpm.persistence.processinstance.ProcessInstanceInfo&lt;/class&gt;         &lt;class&gt;org.jbpm.persistence.processinstance.ProcessInstanceEventInfo&lt;/class&gt;         &lt;class&gt;org.drools.persistence.info.WorkItemInfo&lt;/class&gt;            &lt;properties&gt;                                                            &lt;property name="hibernate.dialect" value="org.hibernate.dialect.MySQLDialect"/&gt;             &lt;property name="hibernate.connection.driver_class" value="com.mysql.jdbc.Driver"/&gt;             &lt;property name="hibernate.connection.url" value="jdbc:mysql://localhost:3306/jbpm5webexpl" /&gt;             &lt;property name="hibernate.connection.username" value="root"/&gt;             &lt;property name="hibernate.connection.password" value="sdfsdf"/&gt;             &lt;property name="hibernate.connection.autocommit" value="false" /&gt;             &lt;property name="hibernate.max_fetch_depth" value="3"/&gt;             &lt;property name="hibernate.hbm2ddl.auto" value="update" /&gt;             &lt;property name="hibernate.show_sql" value="false" /&gt;         &lt;/properties&gt;     &lt;/persistence-unit&gt; &lt;/persistence&gt; while initiating a servlet which is responsible for the starting of the human-task service, users must be added :                   super.init();                 /*                    * Add the required users                    */                   TaskServiceSession taskSession = taskService.createSession();                     /* Start Mina server for HT*/ At the beginning, the property "hibernate.hbm2ddl.auto"was set to "create" so always only one record remain on the database when i changed it to "update" i got this ERROR : org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update           at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:94)           at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)           at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)           at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:266)           at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:167)           at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)           at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)           at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1027)           at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:365)           at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:137)           at org.hibernate.ejb.TransactionImpl.commit(TransactionImpl.java:54)           at org.jbpm.task.service.TaskServiceSession.doOperationInTransaction(TaskServiceSession.java:716)           at org.jbpm.task.service.TaskServiceSession.persistInTransaction(TaskServiceSession.java:682)           at org.jbpm.task.service.TaskServiceSession.addUser(TaskServiceSession.java:69)           at com.sample.taskserver.HumanTaskStartupServlet.init(HumanTaskStartupServlet.java:73)           at javax.servlet.GenericServlet.init(GenericServlet.java:160)           at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1266)           at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1185)           at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1080)           at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5027)           at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5314)           at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)           at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)           at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)           at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618)           at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:963)           at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1600)           at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)           at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)           at java.util.concurrent.FutureTask.run(Unknown Source)           at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)           at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)           at java.lang.Thread.run(Unknown Source) Caused by: java.sql.BatchUpdateException: Duplicate entry 'Administrator' for key 'PRIMARY'           at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2020)           at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1451)           at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)           at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)           ... 30 more and unfortunatelly it should be a fatal error as the application coudn't continue : i also got this ERROR: 2012-12-26 01:45:33,559 (TaskProcessServlet.java:81) ERROR com.sample.processserver.TaskProcessServlet - Could not connect task client i need your help for this issue, CHEERS !</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Deploy multiple resource adapters (including ironjacamar.xml)</header>
    <body>Hi, I´ve just downloaded the latest from  https://ci.jboss.org/hudson/view/JBoss%20AS/job/JBoss-AS-7.0.x/ https://ci.jboss.org/hudson/view/JBoss%20AS/job/JBoss-AS-7.0.x/ Acoording to the AS7-5311 it should be resolved. But I´m sorry to say that this problem still ocurrs, my deployment structure is simple: * App.ear* KernelConector.rar* META-INF* ironjacamar.xml * RFConector.rar* META-INF* ironjacamar.xml * Ejbs.jar If I use one ironjacamar.xml at a time, then it works, but when I put then both like described in the structure above I get the same error: +12:39:56,952 ERROR [org.jboss.msc.service] (MSC service thread 1-7) MSC00002: Invocation of listener "org.jboss.as.connector.deployers.ra.processors.ParsedRaDeploymentProcessor$1 at 89bc0ef" failed: java.lang.IllegalArgumentException: JBAS014809: A node is already registered at '(deployment =&gt; *)(subdeployment =&gt; *)(subsystem =&gt; resource-adapters)(ironjacamar =&gt; ironjacamar)'+ +    at org.jboss.as.controller.registry.ConcreteResourceRegistration.registerSubModel(ConcreteResourceRegistration.java:112) [jboss-as-controller-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT]+ +    at org.jboss.as.connector.deployers.ra.processors.ParsedRaDeploymentProcessor$1.registerIronjacamar(ParsedRaDeploymentProcessor.java:133) [jboss-as-connector-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT]+ +    at org.jboss.as.connector.deployers.ra.processors.AbstractResourceAdapterDeploymentServiceListener.transition(AbstractResourceAdapterDeploymentServiceListener.java:153) [jboss-as-connector-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT]+ +    at org.jboss.msc.service.ServiceControllerImpl.invokeListener(ServiceControllerImpl.java:1416) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]+ +    at org.jboss.msc.service.ServiceControllerImpl.access$2700(ServiceControllerImpl.java:49) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]+ +    at org.jboss.msc.service.ServiceControllerImpl$ListenerTask.run(ServiceControllerImpl.java:1954) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]+ +    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_37]+ +    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_37]+ +    at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_37]+ Is it working for you?</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Servlet.service() for servlet Blocking Servlet threw exception: java.lang.IllegalStateException: Parameters processing failed.</header>
    <body>Hi All, I am getting the following error when I click on 'submit' button in my project.  *I am using below technologies :* Seam Framework - 2.2.0 Jsf 1.2 Ice faces 1.8 pls let me know if you need more information.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JAR blacklist for	deployment</header>
    <body>Countless times that I've seen, a JBoss system JAR somehow gets accidentally deployed to the EAR/WAR file that we are trying to launch on JBoss. Instead of giving a warning or an error stating that your web app contained this system jar on accident, it will instead lead you down several different misleading scenarios trying to fix the issue: Class Not Found errors are very common because of the conflicting objects in the class loader, but you also sometimes get a wonderfully nested exception causing you to waste a lot of time before only realizing... oops! doh. duh! there's jboss-ee.jar. This especially happens when a new developer takes over some old project. While attempting to resurrect the build process for an older application, it's actually pretty common to accidentally deploy a system jar or two. While getting the maven dependencies back working, it's common to forget to set a scope to "provided." Or Eclipse when you include JBoss as a user library, you may forget to tell Eclipse not to write custom libraries to the deployment. We should create a blacklist of JAR MANIFEST.MF files that will at very least generate something like: [WARN] YOU CHECKING IN A BLACKLISTED JAR. YOU ARE LIKELY AN IDIOT. ARE YOU SURE YOU WANT TO BE AN IDIOT? What do you guys think? If you like it I'll generate a new feature request and a Pull Request.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: How to use resin as XML parser in Jboss 7 standalone?</header>
    <body>Solved it by using 7.1.2.Final. Also need to patch resin to get the classpath at runtime as it is hidden by jboss.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS Development Deployment Framework] -	Deployment</header>
    <body>      Hi All                suggest me How to deploy on esb project into jboss application server other than hot deployment. Thanks Nagendra</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Programmatically access JBoss Security realm</header>
    <body>You might want to try over here  https://community.jboss.org/community/jbossas7 https://community.jboss.org/en/jbossas7</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Servlet.service() for servlet Blocking Servlet threw exception: java.lang.IllegalStateException: Parameters processing failed.</header>
    <body>You might want to try over here:  https://community.jboss.org/community/jbossas7 https://community.jboss.org/en/jbossas7</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JAR blacklist for	deployment</header>
    <body>It shouldn't be that hard to modify   https://docs.jboss.org/author/display/AS71/Extending+JBoss+AS+7 https://docs.jboss.org/author/display/AS71/Extending+JBoss+AS+7 into a subsystem that scans for offending libraries based on some list, one would think.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JAR blacklist for	deployment</header>
    <body>A subsystem is a nice way to go. Is there an API that JBoss provides for the subsystem code to trigger events for "onAppDeployed" for example? And then an API to scan the classpath for a module at deploy-time? Now that deployments are based on the JBoss Modules project, I'm lost as to how to add a validator during the deployment cycle.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JAR blacklist for	deployment</header>
    <body>Hi, take a look at subsystem example  https://github.com/jbossas/archetypes/tree/master/jboss-as-subsystem-example https://github.com/jbossas/archetypes/tree/master/jboss-as-subsystem-example what you are interested in is deployment unit processor example is here: https://github.com/jbossas/archetypes/blob/master/jboss-as-subsystem-example/src/main/java/com/acme/corp/tracker/deployment/SubsystemDeploymentProcessor.java https://github.com/jbossas/archetypes/blob/master/jboss-as-subsystem-example/src/main/java/com/acme/corp/tracker/deployment/SubsystemDeploymentProcessor.java i think you can quite easily modify this example to warn about some strange dependancies. In general I like your idea  :) -- tomaz</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JAR blacklist for	deployment</header>
    <body>First of all, thanks for the feedback. I'm glad you think it's a good idea. So as a follow up: what do you I'm looking for your opinions on the best strategy for coming up with the best default list of blacklisted JARs. In other words, JARs that are NEVER ok to have in your deployment. I need to: a) how to check to see if a JAR has been blacklisted. b) getting a list of blacklisted JARs My ideas for (a): * Collect store a SHA1 checksum for all blacklisted JARs and store in text file *conf/blacklist.properties*. Load the checksum list as a dictionary during server startup. Validate SHA1 checksum for JARs deployed to verify none match a blacklisted JAR from the dictionary. * Just store the MANIFEST.MF for all blacklisted JARs in a special directory within *conf/blacklisted-jar-manifests*. During deployment, check all JAR manifests don't match a blacklisted one. * Instead of blacklisting JARs, blacklist certain Classes that if found in any JAR within your deployment will cause the warning. ----&gt; This is the one I'm leaning towards. My ideas for (b): List of all JBoss system JARs: For AS4-6: Blacklist all JARs in client/jboss*.jar, server/default/lib/jboss*.jar, and server/all/lib/jboss*.jar That is a good default list for now. Any ideas on this? </body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - are there any other ways to invoke EJB except for @EJB(lookup='JNDI')</header>
    <body>Hi all, I want to invoke an EJB obejct to another EJB object,  so I am well knowing that I can have it like @EJB(lookup="java:global/project/SomeDAOImpl!com.company.dao.common.local.SomeLocal") I would like to declare it in some source files like jboss-ejb3.xml. Is there any way to do it ? Thanks in adavence.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss Web Services Development] - Re: jBoss WEb	Service Tutorial</header>
    <body>Look at youtube; helped my quite a bit  :-) http://www.youtube.com/watch?v=Av6zh817QEc http://www.youtube.com/watch?v=Av6zh817QEc</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - AS 7.1.1 : JNDI Look up for JMS connection factroy is not working</header>
    <body>Dear Experts, I am trying to write a sample program for JMS using Jboss (http://www.coderanch.com/forums/f-63/JBoss). I went through the following link for how to use Jboss for JMS http://docs.jboss.org/jbossmessaging/docs/usermanual-2.0.0.beta1/html/using-jms.html I am getting an exception while looking up for ConnectionFactory (http://docs.oracle.com/javaee/6/api/javax/jms/ConnectionFactory.html) i.e. "iniCtx.lookup("ConnectionFactory")" javax.naming.CommunicationException (http://docs.oracle.com/javase/7/docs/api/javax/naming/CommunicationException.html): Receive timed out [Root exception is java.net.SocketTimeoutException (http://docs.oracle.com/javase/7/docs/api/java/net/SocketTimeoutException.html): Receive timed out]      at org.jnp.interfaces.NamingContext.discoverServer(NamingContext.java:1058)      at org.jnp.interfaces.NamingContext.checkRef(NamingContext.java:1127)      at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:478)      at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:471)      at javax.naming.InitialContext.lookup(Unknown Source)      at MessageProducer.main(MessageProducer.java:46) Caused by: java.net.SocketTimeoutException (http://docs.oracle.com/javase/7/docs/api/java/net/SocketTimeoutException.html): Receive timed out      at java.net.PlainDatagramSocketImpl.receive0(Native Method)      at java.net.PlainDatagramSocketImpl.receive(Unknown Source)      at java.net.DatagramSocket.receive(Unknown Source)      at org.jnp.interfaces.NamingContext.discoverServer(NamingContext.java:1038) The reason is, Jboss Naming Service is not running(netstat -an doesn't show any result for port 1099) .   I didn't configure any specific setting for Naming Service. I let it to take default port 1099. Am I missing any configuration? Kindly help me in running the Jboss naming service. Specification : Jboss : AS 7.1.1 Final JRE : 1.6 OS : Windows 7 Cheers, Arun</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JAR blacklist for	deployment</header>
    <body>I actually has a monologue on the topic on the irc channel on dec 18 on the topic ;-) [20:37:27] &lt;nickarls&gt; wonder if it would be difficult to take the example subsystem from "Extending JBoss AS 7" and make it a pluggable "Deployment sanity checker"? You could e.g. throw in a "hibernate" check module which would warn if you have bundled hibernate jars accidently etc... [20:46:24] &lt;nickarls&gt; obsolete configuration files check, zipped war in exploded ear check, too-old-spring-version check etc. of course, the general deployers could be improved but these would be pluggable (and could be more verbose) Like I said, it would be nice if the architechture would be pluggable and the JAR check would be one component You might want to check what options JBoss Modules has for querying the module repository. Does it have a "what provides"-function for a class or can you list all jars in the module an match against regexp-patterns etc....</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [EJB3 Development] - this division against</header>
    <body>Just like the aboriginal game this division against the Clippers Utah had the high hand aboriginal The Jazz acclimated a 36 point additional quarter to about-face a seven point arrears into a 58 48 halftime advance  Utah affluence did a lot of of the accident http://blogs.rediff.com/belkbowl2012live/ Belk Bowl 2012 Live  http://blogs.rediff.com/belkbowl2012live/ Belk Bowl Live   http://blogs.rediff.com/astonvillavwigan/ Aston Villa vs Wigan Live  http://blogs.rediff.com/readingvswestham/ Reading vs West Ham Live  http://blogs.rediff.com/fulhamvswansea/ Fulham vs Swansea Live  http://blogs.rediff.com/stokevssouthampton/ Stoke vs Southampton Live  http://blogs.rediff.com/norwichvsmancity/ Norwich City vs Man City Live  http://blogs.rediff.com/manutdvswestbrom/ Man utd vs West Brom Live  http://blogs.rediff.com/arsenalvsnewcastle/ Arsenal vs Newcastle Live   http://blogs.rediff.com/epllive/2012/12/29/wigan-vs-aston-villa-live-stream-epl-online/ Wigan vs Aston Villa Live  http://blogs.rediff.com/epllive/2012/12/29/west-ham-vs-reading-live-stream-epl-online/ West Ham vs Reading Live  http://blogs.rediff.com/epllive/2012/12/29/swansea-city-vs-fulham-live-stream-epl-online/ Swansea City vs Fulham Live  http://blogs.rediff.com/epllive/2012/12/29/southampton-vs-stoke-city-live-stream-epl-online/ Southampton vs Stoke City Live  http://blogs.rediff.com/epllive/2012/12/29/manchester-city-vs-norwich-live-stream-epl-online/ Manc City vs Norwich Live  http://blogs.rediff.com/epllive/2012/12/29/west-bromwich-albion-vs-manchester-united-live-stream-epl-online/ West Brom vs Man utd Live  http://blogs.rediff.com/epllive/2012/12/29/newcastle-vs-arsenal-live-stream-epl-online/ Newcastle vs Arsenal Live  http://blogs.rediff.com/spllive/2012/12/29/dundee-vs-aberdeen-live-streaming-spl-online-free/ Dundee vs Aberdeen Live  http://blogs.rediff.com/spllive/2012/12/29/motherwell-vs-kilmarnock-live-streaming-spl-online/ Motherwell vs Kilmarnock Live  http://blogs.rediff.com/spllive/2012/12/29/hibernian-fc-vs-celtic-live-streaming-spl-online/ Hibernian vs Celtic Live  http://blogs.rediff.com/spllive/2012/12/29/ross-county-vs-hearts-live-streaming-spl-online/ Ross County vs Hearts Live  http://blogs.rediff.com/spllive/2012/12/29/st-johnstone-vs-inverness-live-streaming-spl-online/ St. Johnstone vs Inverness Live  http://blogs.rediff.com/spltv/2012/12/29/aberdeen-vs-dundee-fc-live-streaming-spl-online/ Aberdeen vs Dundee FC Live  http://blogs.rediff.com/spltv/2012/12/29/kilmarnock-vs-motherwell-live-streaming-spl-online/ Kilmarnock vs Motherwell Live  http://blogs.rediff.com/spltv/2012/12/29/celtic-vs-hibernian-live-streaming-spl-online/ Celtic vs Hibernian Live  http://blogs.rediff.com/spltv/2012/12/29/hearts-vs-ross-county-live-streaming-spl-online/ Hearts vs Ross County Live  http://blogs.rediff.com/spltv/2012/12/29/inverness-vs-st-johnstone-live-streaming-spl-online/ Inverness vs St. Johnstone Live  http://blogs.rediff.com/championshiptv/2012/12/29/hull-city-vs-leeds-live-streaming-championship-online/ Hull City vs Leeds Live  http://blogs.rediff.com/championshiptv/2012/12/29/huddersfield-town-vs-sheffield-wednesday-live-streaming-championship-online/ Huddersfield Town vs Sheffield Wednesday Live  http://blogs.rediff.com/championshiptv/2012/12/29/charlton-vs-derby-live-streaming-championship-online-free/ Charlton vs Derby Live  http://blogs.rediff.com/championshiptv/2012/12/29/middlesbrough-vs-blackpool-live-streaming-championship-online/ Middlesbrough vs Blackpool Live  http://blogs.rediff.com/championshiptv/2012/12/29/barnsley-vs-blackburn-rovers-live-streaming-championship-online/ Barnsley vs Blackburn Live  http://blogs.rediff.com/championshiptv/2012/12/29/bristol-vs-peterborough-live-streaming-championship-online/ Bristol vs Peterborough Live  http://blogs.rediff.com/championshiptv/2012/12/29/cardiff-city-vs-millwall-live-streaming-championship-online/ Cardiff City vs Millwall Live  http://blogs.rediff.com/championshiptv/2012/12/29/wolverhampton-wanderers-vs-ipswich-town-fc-live-streaming-championship-online/ Wolves vs Ipswich Town Live  http://blogs.rediff.com/championshiptv/2012/12/29/bolton-vs-birmingham-live-streaming-championship-online/ Bolton vs Birmingham Live  http://blogs.rediff.com/championshiptv/2012/12/29/nottingham-forest-vs-crystal-palace-live-streaming-championship-online/ Nottingham Forest vs Crystal Palace Live  http://blogs.rediff.com/championshiptv/2012/12/29/burnley-vs-leicester-live-streaming-championship-online/ Burnley vs Leicester Live  http://blogs.rediff.com/championshiptv/2012/12/29/brighton-hove-albion-vs-watford-live-streaming-championship-online/ Brighton vs Watford Live  http://blogs.rediff.com/championshiplive/2012/12/29/leeds-vs-hull-city-live-streaming-championship-online/ Leeds vs Hull City Live  http://blogs.rediff.com/championshiplive/2012/12/29/sheffield-wednesday-vs-huddersfield-town-live-streaming-championship-online/ Sheffield Wednesday vs Huddersfield Town Live  http://blogs.rediff.com/championshiplive/2012/12/29/derby-county-vs-charlton-live-streaming-championship-online/ Derby County vs Charlton Live  http://blogs.rediff.com/championshiplive/2012/12/29/blackpool-vs-middlesbrough-live-streaming-championship-online/ Blackpool vs Middlesbrough Live  http://blogs.rediff.com/championshiplive/2012/12/29/blackburn-vs-barnsley-live-streaming-championship-online/ Blackburn vs Barnsley Live  http://blogs.rediff.com/championshiplive/2012/12/29/peterborough-vs-bristol-live-streaming-championship-online/ Peterborough vs Bristol Live  http://blogs.rediff.com/championshiplive/2012/12/29/millwall-vs-cardiff-city-live-streaming-championship-online/ Millwall vs Cardiff City Live  http://blogs.rediff.com/championshiplive/2012/12/29/ipswich-town-vs-wolverhampton-wanderers-fc-live-streaming-championship-online/ Ipswich Town vs Wolverhampton Wanderers Live  http://blogs.rediff.com/championshiplive/2012/12/29/birmingham-vs-bolton-live-streaming-championship-online/ Birmingham vs Bolton Live  http://blogs.rediff.com/championshiplive/2012/12/29/crystal-palace-vs-nottingham-forest-live-streaming-championship-online/ Crystal Palace vs Nottingham Forest Live  http://blogs.rediff.com/championshiplive/2012/12/29/leicester-vs-burnley-live-streaming-championship-online/ Leicester vs Burnley Live  http://blogs.rediff.com/championshiplive/2012/12/29/watford-vs-brighton-live-streaming-championship-online/ Watford vs Brighton Live  http://blogs.rediff.com/nbalivemj/2012/12/29/new-orleans-hornets-vs-charlotte-bobcats-live-stream-nba-online/ New Orleans Hornets vs Charlotte Bobcats Live  http://blogs.rediff.com/nbalivemj/2012/12/29/indiana-pacers-vs-atlanta-hawks-live-stream-nba-online/ Indiana Pacers vs Atlanta Hawks Live  http://blogs.rediff.com/nbalivemj/2012/12/29/toronto-raptors-vs-orlando-magic-live-stream-nba-online/ Toronto Raptors vs Orlando Magic Live  http://blogs.rediff.com/nbalivemj/2012/12/29/cleveland-cavaliers-vs-brooklyn-nets-live-stream-nba-online/ Cleveland Cavaliers vs Brooklyn Nets Live  http://blogs.rediff.com/nbalivemj/2012/12/29/washington-wizards-vs-chicago-bulls-live-stream-nba-online/ Washington Wizards vs Chicago Bulls Live  http://blogs.rediff.com/nbatv/2012/12/29/denver-nuggets-vs-memphis-grizzlies-live-stream-nba-online/ Denver Nuggets vs Memphis Grizzlies Live  http://blogs.rediff.com/nbatv/2012/12/29/oklahoma-city-thunder-vs-houston-rockets-live-stream-nba-online/ Oklahoma City Thunder vs Houston Rockets Live  http://blogs.rediff.com/nbatv/2012/12/29/phoenix-suns-vs-minnesota-timberwolves-live-stream-nba-online/ Phoenix Suns vs Minnesota Timberwolves Live  http://blogs.rediff.com/nbatv/2012/12/29/miami-heat-vs-milwaukee-bucks-live-stream-nba-online/ Miami Heat vs Milwaukee Bucks Live  http://blogs.rediff.com/nbatv/2012/12/29/philadelphia-76ers-vs-portland-trail-blazers-live-stream-nba-online/ Philadelphia 76ers vs Portland Trail Blazers Live  http://blogs.rediff.com/nbatv/2012/12/29/boston-celtics-vs-golden-state-warriors-live-stream-nba-online/ Boston Celtics vs Golden State Warriors Live  http://blogs.rediff.com/ricevsairforce/ Rice vs Air Force Live  http://blogs.rediff.com/westvirginiavssyracuse/ West Virginia vs Syracuse Live  http://blogs.rediff.com/westnavyvsarizonastate Navy vs Arizona State Live  http://blogs.rediff.com/westtexasvsoregonstate Texas vs Oregon State Live  http://blogs.rediff.com/westtcuvsmichiganstate TCU vs Michigan State Live  http://blogs.rediff.com/westairforcevsrice/ Air Force vs Rice Live  http://blogs.rediff.com/westsyracusevswestvirginia/ Syracuse vs West Virginia Live  http://blogs.rediff.com/westarizonastatevsnavy Arizona State vs Navy Live  http://blogs.rediff.com/riceowlsvsairforcefalcons/ Rice Owls vs Air Force Falcons Live  http://blogs.rediff.com/airforcefalconsvsriceowls/ Air Force Falcons vs Rice Owls Live  http://blogs.rediff.com/westvirginiamountaineersvssyracuseorange/ West Virginia Mountaineers vs Syracuse Orange Live  http://blogs.rediff.com/syracuseorangevswestvirginiamountaineers/ Syracuse Orange vs West Virginia Mountaineers Live  http://blogs.rediff.com/navymidshipmenvsarizonastatesundevils/ Navy Midshipmen vs Arizona State Sun Devils Live  http://blogs.rediff.com/arizonastatesundevilsvsnavymidshipmen/ Arizona State Sun Devils vs Navy Midshipmen Live  http://blogs.rediff.com/texaslonghornsvsoregonstatebeavers/ Texas Longhorns vs Oregon State Beavers Live  http://blogs.rediff.com/oregonstatebeaversvstexaslonghorns/ Oregon State Beavers vs Texas Longhorns Live  http://blogs.rediff.com/michiganstatespartansvstcuhornedfrogs/ Michigan State Spartans vs TCU Horned Frogs Live  http://blogs.rediff.com/dossantosvscainvelasquezii/ Junior Dos Santos vs Cain Velasquez II Live  http://blogs.rediff.com/dossantosvsvelasquez/ Dos Santos vs Velasquez Live  http://blogs.rediff.com/ufc155live/ UFC 155 Live  http://blogs.rediff.com/watchufc155online/ Watch UFC 155 Online.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - are there any other ways to invoke EJB except for @EJB (lookup='JNDI')</header>
    <body>Hi all, I want to inject an EJB obejct to another EJB object,  so I am well knowing that I can have it like +*@EJB(lookup="java:global/project/SomeDAOImpl!com.company.dao.common.local.SomeLocal")*+ +*private SomeLocalDAO someDAO;*+ I would like to declare the JNDI names in some xml files like jboss-ejb3.xml, so that I can just inject the EJB object by @EJB. Is there any way to do it ? Thanks in adavence.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JAR blacklist for	deployment</header>
    <body>Neat! Yeah I'm convinced that's the way to go. Thanks for that.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: JAR blacklist for	deployment</header>
    <body>As for the interface, perhaps something like public interface DeploymentValidator might do. Or then DeploymentPhaseContext as parameter. I'm not sure what would be the best way in JBoss Modules to add validation implementation JARs without having to list them explicitly in some module.xml. Perhaps the standard ServiceLoader mechanism is applicable.</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - General Synchronizing Merge	with JBPM</header>
    <body>Hi Folks, i want to realize a simple version of the Workflow Control Pattern no. 38 ( http://www.workflowpatterns.com/patterns/control/new/wcp38.php http://www.workflowpatterns.com/patterns/control/new/wcp38.php) with JBPM. Officialy the Pattern is not supported by JBPM, but however i am looking for a possibility to realize it. My Process is an order quotation process. In the first step the bids are send out. After that the process should wait until n of m suppliers replied. When this is true, the process should go on with a compare an an order task. I tried to use a conditional event task in combination with a rule but it doesn´t work right. The process doesn´t wait for the required number of repiles but he restarts. How can i realize my requirement with JBPM? In the attachment you will find a simple draft of the process. Kind regards Dekay</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Watch Atlanta Falcons vs Tampa Bay Buccaneers Live Here</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Enjoy Falcons vs Buccaneers live HERE 2012</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - join, , , New York Jets vs Buffalo Bills Live 2012</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: join, , , New York Jets vs Buffalo Bills Live 2012</header>
    <body>http://tinyurl.com/7crwmm7 http://tinyurl.com/7crwmm7 *http://tinyurl.com/7crwmm7*</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - HDCOVERAGE$$$Bills vs Jets Live || WEEK 17, 2012</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://4.bp.blogspot.com/-DIlXUZjE7yg/UB1Kzq5qxsI/AAAAAAAAAJQ/fkqz3536HT4/s320/nfl.jpg http://footballcoverage-2012.blogspot.com/  http://4.bp.blogspot.com/-DIlXUZjE7yg/UB1Kzq5qxsI/AAAAAAAAAJQ/fkqz3536HT4/s320/nfl.jpg</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - JOIN==Jets vs Bills	Live</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://4.bp.blogspot.com/-DIlXUZjE7yg/UB1Kzq5qxsI/AAAAAAAAAJQ/fkqz3536HT4/s320/nfl.jpg</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Enjoy live==Cincinnati Bengals vs Baltimore Ravens Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - @@@@Eagles Vs Giants Live On Pc- Eagles Vs Giants Live.</header>
    <body>*CATCH THE GAME - CLICK HERE (http://tinyurl.com/bhxam7w)* http://tinyurl.com/bhxam7w  http://hboboxing.us/wp-content/uploads/2012/11/qqqqqqqqqqqqqqqqqqqqq.gif K LLLLLLLLLLLLLLLL</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - sunday, join==Bengals vs Ravens Live  2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: Install JBOSS tools on Eclipse Juno (4.x)</header>
    <body>This stable version of JBoss Tools 4.0.0 works well with Eclipse 4.2 (Juno). Steps : * Add this URL ' http://download.jboss.org/jbosstools/updates/stable/juno/ http://download.jboss.org/jbosstools/updates/stable/juno/'  to site URL's (Help &gt; Install New Software &gt; Add ) * Select the features to install, or click the Select All button. * Click Next, agree to the license terms, and install. Note : You can also download JBoss Tools as individual zips for offline installation. Refer :  https://www.jboss.org/tools/download/stable/4_0 https://www.jboss.org/tools/download/stable/4_0</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - enjoy live$$$=Chicago Bears vs Detroit Lions Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - join, , , Detroit Lions vs Chicago Bears Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - Re: join, , , Detroit Lions vs Chicago Bears Live 2012 Week17</header>
    <body>http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html http://nfltvlink4500.blogspot.com/2012/12/live-chicago-bears-vs-detroit-lions-nfl.html</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - enjoy live$$$=Bears vs Lions Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - enjoy live$$$=Houston Texans vs Indianapolis Colts Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ==Tv link==Indianapolis Colts vs Houston Texans Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [jBPM Development] - @!# Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.</header>
    <body>*Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012.* *CATCH THE GAME - CLICK HERE (http://tinyurl.com/bhxam7w)* http://tinyurl.com/bhxam7w  http://hboboxing.us/wp-content/uploads/2012/11/qqqqqqqqqqqqqqqqqqqqq.gif Buccaneers Vs Falcons live (Buccaneers V Falcons live) On 30/12/2012. K LLLLLLLLLLLLLLLL *CATCH THE GAME - CLICK HERE (http://tinyurl.com/bhxam7w)* http://tinyurl.com/bhxam7w  http://hboboxing.us/wp-content/uploads/2012/11/qqqqqqqqqqqqqqqqqqqqq.gif K LLLLLLLLLLLLLLLL</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ==Tv link==Colts vs Texans Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://4.bp.blogspot.com/-DIlXUZjE7yg/UB1Kzq5qxsI/AAAAAAAAAJQ/fkqz3536HT4/s320/nfl.jpg http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-xcZ7tUcOu5A/UCTVVTjPv8I/AAAAAAAAAOw/4pP6cYp1y-4/s320/start1.png http://footballcoverage-2012.blogspot.com/  http://4.bp.blogspot.com/-DIlXUZjE7yg/UB1Kzq5qxsI/AAAAAAAAAJQ/fkqz3536HT4/s320/nfl.jpg</body>
  </mail>
  <mail>
    <header>[jboss-dev-forums] [JBoss AS 7 Development] - ==Tv link==Texans vs Colts Live 2012 Week17</header>
    <body>http://footballcoverage-2012.blogspot.com/  http://4.bp.blogspot.com/-DIlXUZjE7yg/UB1Kzq5qxsI/AAAAAAAAAJQ/fkqz3536HT4/s320/nfl.jpg  http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif http://footballcoverage-2012.blogspot.com/  http://4.bp.blogspot.com/-DIlXUZjE7yg/UB1Kzq5qxsI/AAAAAAAAAJQ/fkqz3536HT4/s320/nfl.jpg  http://footballcoverage-2012.blogspot.com/  http://3.bp.blogspot.com/-kcDUPWVb-x4/UBBo4uG17OI/AAAAAAAAAWA/MXP90iPGcMA/s400/click+here+to+watch+now1.gif</body>
  </mail>
</mails>

