<?xml version="1.0" encoding="UTF-8"?>
<mails>
  <mail>
    <header>[dom4j-user] getNodeValue not getting complete node value</header>
    <date>Mon Oct 29 17:37:00 CET 2001</date>
    <body>Hi all, (Sorry if this was posted twice... having some email problems) =20 I posted last week about a problem with the .valueOf("text()") not getting the correct node.  I finally got back to the problem and wrote a quick java program to read my data file and show what is happening. Where would the best place be to post the data file and java code? =20 Using the code to write out my Xml Tree: =20 I get the Xml portion (in question) to be:=20 ..... ..... =20 When I use: _columnNode.valueOf("."), I get 60 1133902 _columnNode.valueOf("text()"), I get 60 _columnNode.getStringValue(), I get 60 1133902 =20 The Xml file I'm trying to parse through is approximately 176K.  If there is anyone that could help me with this problem as soon as possible, I would greatly greatly appreciate it. =20 =20 Doug Hoppes Charles River Development 781-238-0099 x269</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to extract enumeration values in a DTD attribute statement</header>
    <date>Mon Oct 29 14:10:00 CET 2001</date>
    <body>Hi everybody With the getType() method from the AttributeDecl class I get a return value indicating an ENUMERATION type. Is there an easy way to receive the corresponding enumeration values? I appreciate your help. Alain DTD-fragment: ... protocol (msgq|exec|axml|push) "msgq" ... Code-fragment: ... ... ... ... =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to extract enumeration values in a DTD attribute statement</header>
    <date>Mon Oct 29 14:36:00 CET 2001</date>
    <body>Hi Alain The getValue() should return the enumeartion of values "(msgq|exec|axml|push)". And getValueDefault() should return the default value, which is "msgq" using your example. James Sent: Monday, October 29, 2001 2:14 PM Subject: [dom4j-user] How to extract enumeration values in a DTD attribute statement Hi everybody With the getType() method from the AttributeDecl class I get a return value indicating an ENUMERATION type. Is there an easy way to receive the corresponding enumeration values? I appreciate your help. Alain DTD-fragment: ... protocol (msgq|exec|axml|push) "msgq" ... Code-fragment: ... ... ... ... _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] XML Hammer and XML Relational Mapping</header>
    <date>Sun Oct 28 11:34:00 CET 2001</date>
    <body>Hi dom4j-folks, I think xml won't solve all problems that we currenlty might have in our almost neat and powerfull OO world. But XML can solve - as already mentioned by Bob - the problem of interoperatability. Java solve that problem, by server as a mostly plattform-independent architecture. CORBA was addressed as a interoperable protocol, but it failed in its binary implementations. SOAP can (note that I say can not will) solve this problem and is very powerfull in combination with HTTP (simpilies the firewall problem, simpliefies encrpting (HTTPS) and compression (xml is handled as plain text by compression functions). In context of SOAP Realtional Mapping of XML content could be interesting. Yes I know that this feature is a comfortable addon to dom4j, but I would appreticate it a lot. Perhaps its time to define a dom4j-extension packages. We could handle it similar the wounderfull XPath interface used to access jaxen/saxpath. Both are possible to handle serpated from dom4j core classes. ???!!!??? BTW: James, I already read the to-do file in cvs and would inform you that I will continue my work on the "org.dom4j.persistence" package. It offers a Memento architecture to store and load your documents in/from a dbxml-aware database (offers sax-resolution). Currenlty xmldb seems to be the best implementaion, but I have problems to get it running on Win2k, so will look if it works on linux. So please stay tuned. I always open for critique of this API. Happy coding Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>[dom4j-user] More on JDBC, dom4j and</header>
    <date>Fri Oct 26 23:53:00 CEST 2001</date>
    <body>Some interesting points were brought up in relation to my question. As far as XML databases, how many are a fact right now? I am curious since I am still in mainly a relational DB world still. I am used to mySQL, SQLAnywhere and MS SQL Server 6.5 / 7.0 and they are all still relational. I am not familiar the latest and greatest, as it takes a while to filter down to agencies with legacy db's. Also even if MS SQL Server 2000 did manage to do a decent XML dump, many programmers are still using the sql interface and getting a normal result set to deal with. We are in a transitional time which is going to take 3-5 years to achieve so it will be interesting to see how this one rolls over. well that was my friday rambling But more seriously I am pondering the resultset to XML object representation as a means to generate internal data stores. Using the XML representation as an easy and standard way to handle data while you are dealing with it in Java. I hate building my own custom classes to handle data, easy to do, but time consuming. I find it simplier to use a JDOM or now I am playig with dom4j, a DOM4j data model, where I don't have to build my own custom getter/setter and manulipaltion functions. In the future I suppose using JAXB to generate the XML representation would be the way to go, But it seems to me being able to do it from a Database dump rather than a Schema would also be extremely useful. I guess where this is leading me, how are other programmers using dom4j document model. Is it mainly just a step to use before XSLT for many programmers? Are others using it for internal data stores like myself? Or what other use have you found which dom4j makes sense I know these are very general questions, but these are the questions that come to mind in reading the various replies to my last post. Thanks Casey Kochmer JspInsider@... _________________________________________________________________ Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] More on JDBC, dom4j and</header>
    <date>Sat Oct 27 19:07:00 CEST 2001</date>
    <body>"As far as XML databases, how many are a fact right now? I am curious since I am still in mainly a relational DB world still. I am used to mySQL, SQLAnywhere and MS SQL Server 6.5 / 7.0 and they are all still relational. I am not familiar the latest and greatest, as it takes a while to filter down to agencies with legacy db's." The above snippet suggest I should make some clarification in regard to XML databases.  Currently (as far as I know) there are two types of XML databases.  The native and the relational with XML xtensions/functionality. For a definition of 'native' and links to a few products see http://www.rpbourret.com/xml/XMLDatabaseProds.htm#native .  The other kind is a relational database that may provide an XML view of the data in the tables and the importing and exporting of XML data where importing involves a schema or DTD that will allow the XML to be mapped to a relational representation (imagine the pain in trying to map DocBook or XSL:FO to tables :) and exporting involves (as you put it) "a decent XML dump" (or so you hope) of the data in the tables.  Just one little note before I continue. If you read the definition of 'native' provided in the link you will find out that there are native XML databases built on top of relational databases.  They are not theoretically (and I use the word theoretically _cautiously_) the same.  A native XML database provide a 'pure' XML only view of its data and is meant to store XML documents exclusively.  As I'm sure you are aware relational databases are general purpose solutions. "Also even if MS SQL Server 2000 did manage to do a decent XML dump, many programmers are still using the sql interface and getting a normal result set to deal with. We are in a transitional time which is going to take 3-5 years to achieve so it will be interesting to see how this one rolls over." that IBM (DB2), Microsoft (SQL2000), and Oracle (8i &amp;amp; 9) have XML support but I can almost guarantee you that by this time next year they won't be the only ones, as a matter of fact, they probably aren't but they are the only ones that I'm aware of. "I am pondering the resultset to XML object representation as a means to generate internal data stores. Using the XML representation as an easy and standard way to handle data while you are dealing with it in Java. I hate building my own custom classes to handle data, easy to do, but time consuming. I find it simpler to use a JDOM or now I am playing with dom4j, a DOM4j data model, where I don't have to build my own custom getter/setter and manulipaltion functions. In the future I suppose using JAXB to generate the XML representation would be the way to go, But it seems to me being able to do it from a Database dump rather than a Schema would also be extremely useful." As a general purpose solution the above to me is the same as smashing everything with the XML hammer.  There is a time and place for custom classes and I don't think the 'just make it XML, that'll fix it" paradigm is the answer to all your data handling requirements.  Note*: The previous two sentences was a re-statement (from my previous post) of my personal distaste for the lemming effect of new technologies and buzzwords (for additional examples see SOAP and web services).  It was re-stated because I'm assuming that you are talking about a general purpose solution to your data handling requirements, on the other hand, if after careful evaluation you have decided (for reason that satisfy _your_ requirements) that an XML representation is the way to go you won't hear a negative peep out of me. As a matter of fact, I would congratulate you and recommend using dom4j as the tool for manipulating XML in Java. My beef with an XML ResultSet is not really with the XML ResultSet in and of itself but its with the XML ResultSet being a component of dom4j (in the dom4j namespace).  Even though, in my previous post I argued that an XML ResultSet doesn't ultimately buy you anything, its more an argument that an XML ResultSet doesn't buy dom4j anything.  We as developers make our own decisions about what functionality we need or don't need and nothing I say or do should or would change that for developers other than myself. Therefore, if you (the individual developer) need an XML ResultSet in your application write one, just keep it out of dom4j.  To me (correct me if I'm wrong James S.) dom4j is a tool for Java developers that programmatically exposes an XML document by providing interfaces that allows one to effortlessly navigate and manipulate an XML document (above and beyond the crap DOM sanctioned by the W3C).  Additionally, it allows _developers_ to programmatically create XML documents and manipulate them with the same ease aforementioned.  Notice I underlined the word developers, this is because it is my belief that it is the developers responsibility to write code that generate XML not dom4j.  dom4j makes it easy to write the code but it shouldn't do it for you.  Putting the XML ResultSet in the dom4j namespace is putting functionality into dom4j that I think should exist outside of dom4j.  Again, if you (the developer) need an XML ResultSet use dom4j to help you write code that will covert a ResultSet into XML based on your needs.  You (the developer) may go so far as making it open-source and available to everyone, who knows, maybe I will one day use it :) "I guess where this is leading me, how are other programmers using dom4j document model. Is it mainly just a step to use before XSLT for many programmers? Are others using it for internal data stores like myself? Or what other use have you found which dom4j makes sense" I predominately use dom4j as a means to get random access to data contained within an XML document.  In one application their is a legal questionnaire that some of our clients may need to complete.  The questionnaire is relatively large (as forms go) so it was broken down into a series of HTML forms --kind of like an installation wizard (on windows)-- that the client can complete at their leisure because they can save and continue.  The MVC pattern was applied to this web-app.  The order that the client navigated the form is of importance because future views are dependent on answers given on previous and current views.  It so happened the order the views should be viewd was easily expressed in an XML document.  The controller servlet uses dom4j to navigate the XML document via XPath and quickly figure out what the next view should be for the user.  I have a few more examples but I'm sure you are tired of my rambling by now (at least I am :). Chow Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Friday, October 26, 2001 7:52 PM Subject: [dom4j-user] More on JDBC, dom4j and I know these are very general questions, but these are the questions that come to mind in reading the various replies to my last post. Thanks Casey Kochmer JspInsider@... _________________________________________________________________ Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] using JDBC results with dom4j</header>
    <date>Fri Oct 26 16:23:00 CEST 2001</date>
    <body>The intriguing bit about dom4j is the ease of exposing custom implementations of nodes to the usual XML tools -- XPath, XSL transformations, etc.  Would it make sense to convert JDBC ResultSet to a custom document/element implementation? This is close to the idea, I think, behind JXPath (in the Commons area on jakarta.apache.org). XPath makes a lot of sense, even if the rest of XML's baggage might not, for processing ResultSet objects. -----Original Message----- From: Dane Foster [mailto:dfoster@...] Sent: Friday, October 26, 2001 11:00 AM To: dom4j-user@... Subject: Re: [dom4j-user] using JDBC results with dom4j "A few people have been thinking about mapping a JDBC ResultSet to an XML representation lately, " Why? IMHO XML has grown into one heck of a hammer and you know what happens when the only tool you have is a hammer?  Everything looks like nails.  The only situation I can see (btw, I'm near sighted) a use for a ResultSet as XML is to expose the information in the database to some system/process(es) that doesn't know how to communicate with a database on its own.  For those other scenarios keep in mind that most database vendors today and probably all tomorrow will support some form of publishing an XML view of the data. Sorry about the rant, I really like and appreciate dom4j's clean and efficient design.  Its a testament to great and elegant OO programming and I would hate to see it bogged down and smashed with the XML hammer mentioned in the first paragraph. Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Friday, October 26, 2001 5:50 AM Subject: Re: [dom4j-user] using JDBC results with dom4j Hi Casey A few people have been thinking about mapping a JDBC ResultSet to an XML representation lately, it was mentioned recently on the Jaxen list http://www.mail-archive.com/jaxen-interest%40lists.sourceforge.net/msg00212 . html as well as on the standard JSP tag library expert group. I've added this idea to the developers to do list, TODO.txt, in CVS... http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/dom4j/dom4j/ So hopefully someone will dive in and get it done at some point. Any developers out there fancy having a go? I would have thought a RowSetElement and a RowElement would be pretty much most of whats needed, with maybe a RowSetList to maintain the list of RowElements using JDBC's row by row access model. James Sent: Thursday, October 25, 2001 8:56 AM Subject: [dom4j-user] using JDBC results with dom4j http://explorer.msn.com/intl.asp https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] using JDBC results with dom4j</header>
    <date>Fri Oct 26 16:27:00 CEST 2001</date>
    <body>On Fri, 26 Oct 2001, Meltsner, Kenneth wrote: Also, could just write a Jaxen Navigator, possibly. http://jaxen.org/ -bob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] using JDBC results with dom4j</header>
    <date>Fri Oct 26 16:32:00 CEST 2001</date>
    <body>http://jaxen.org/ Agreed - either a Jaxen Navigator or a dom4j Element or two should do it. Though going the dom4j route would mean that you'd get an adapter to JAXP, XSLT, XPath and SAX event streams so that the ResultSet object it could be piped as SAX events into other XML accepting resources. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] using JDBC results with dom4j</header>
    <date>Fri Oct 26 16:43:00 CEST 2001</date>
    <body>If the database wants to ship me XML, that's great, but I'd certainly prefer to avoid the overhead of serializing and deserializing the data.  We're getting out of my area of experience -- would the DB vendor return a DOM (or SAX) source or a text stream?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] using JDBC results with dom4j</header>
    <date>Fri Oct 26 17:52:00 CEST 2001</date>
    <body>prefer to avoid the overhead of serializing and deserializing the data. DOM (or SAX) source or a text stream? Probably all of those :-) The ResultSet adapter idea is for use for those queries where the database isn't giving you XML; allowing any ResultSet to be adapted to be an XML fragment regardless of possible database magic around the corner. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] using JDBC results with dom4j</header>
    <date>Thu Oct 25 07:56:00 CEST 2001</date>
    <body>I am reviewing the various Java XML API's One feature I am looking for is the ability to take a JDBC ResultSet and have a builder class convert the results straight into the Java XML representation. While I know it would be easy to build such a beast (for example there is a test module like this at JDOM). I was wondering if anyone has built such a module for dom4j? Or if such a feature is planned for dom4j? I haven't seen mention of this feature, but seems like one which would be extremely useful. Thanks for your time. Casey Kochmer JspInsider@... _________________________________________________________________ Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] using JDBC results with dom4j</header>
    <date>Fri Oct 26 09:53:00 CEST 2001</date>
    <body>Hi Casey A few people have been thinking about mapping a JDBC ResultSet to an XML representation lately, it was mentioned recently on the Jaxen list http://www.mail-archive.com/jaxen-interest%40lists.sourceforge.net/msg00212 . html as well as on the standard JSP tag library expert group. I've added this idea to the developers to do list, TODO.txt, in CVS... http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/dom4j/dom4j/ So hopefully someone will dive in and get it done at some point. Any developers out there fancy having a go? I would have thought a RowSetElement and a RowElement would be pretty much most of whats needed, with maybe a RowSetList to maintain the list of RowElements using JDBC's row by row access model. James Sent: Thursday, October 25, 2001 8:56 AM Subject: [dom4j-user] using JDBC results with dom4j http://explorer.msn.com/intl.asp https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] using JDBC results with dom4j</header>
    <date>Fri Oct 26 15:52:00 CEST 2001</date>
    <body>"A few people have been thinking about mapping a JDBC ResultSet to an XML representation lately, " Why? IMHO XML has grown into one heck of a hammer and you know what happens when the only tool you have is a hammer?  Everything looks like nails.  The only situation I can see (btw, I'm near sighted) a use for a ResultSet as XML is to expose the information in the database to some system/process(es) that doesn't know how to communicate with a database on its own.  For those other scenarios keep in mind that most database vendors today and probably all tomorrow will support some form of publishing an XML view of the data. Sorry about the rant, I really like and appreciate dom4j's clean and efficient design.  Its a testament to great and elegant OO programming and I would hate to see it bogged down and smashed with the XML hammer mentioned in the first paragraph. Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Friday, October 26, 2001 5:50 AM Subject: Re: [dom4j-user] using JDBC results with dom4j Hi Casey A few people have been thinking about mapping a JDBC ResultSet to an XML representation lately, it was mentioned recently on the Jaxen list http://www.mail-archive.com/jaxen-interest%40lists.sourceforge.net/msg00212 . html as well as on the standard JSP tag library expert group. I've added this idea to the developers to do list, TODO.txt, in CVS... http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/dom4j/dom4j/ So hopefully someone will dive in and get it done at some point. Any developers out there fancy having a go? I would have thought a RowSetElement and a RowElement would be pretty much most of whats needed, with maybe a RowSetList to maintain the list of RowElements using JDBC's row by row access model. James Sent: Thursday, October 25, 2001 8:56 AM Subject: [dom4j-user] using JDBC results with dom4j http://explorer.msn.com/intl.asp https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] using JDBC results with dom4j</header>
    <date>Fri Oct 26 15:58:00 CEST 2001</date>
    <body>On Fri, 26 Oct 2001, Dane Foster wrote: One use I see, which I think is valid, is for aggregation. Pull data from several sources (XML files, XML database, JDBC connection), and if they are all XML document fragments, it's fairly easy to glue them together and present them to the client in a unifying whole. Used with XInclude, I could see it being a fairly powerful idiom for aggregation. -bob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] using JDBC results with dom4j</header>
    <date>Fri Oct 26 16:19:00 CEST 2001</date>
    <body>I agree, but it would still require some programming muscle to combine the data from different resources into an XML document that is meaningful to the application(s) that will use the data.  An XML representation of a ResultSet does not automatically alleviate that requirement.  Additionally, if you agree that relational/OO database vendors are hard at work at exposing data as XML (ex DB2, Oracle, MS SQL2000) then an XML representation of a ResultSet hasn't bought you anything.  As for native XML databases, you don't need a ResultSet conversion to XML because the data is already in XML format. My argument _specifically_ proposes that an XML mapping to a JDBC ResultSet doesn't satisfy a real need (IMHO) and _generally_ touches on the broader issue of blanket application of XML across the computing spectrum (hammers and nails). Cheers :-) Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Friday, October 26, 2001 11:58 AM Subject: Re: [dom4j-user] using JDBC results with dom4j On Fri, 26 Oct 2001, Dane Foster wrote: when One use I see, which I think is valid, is for aggregation. Pull data from several sources (XML files, XML database, JDBC connection), and if they are all XML document fragments, it's fairly easy to glue them together and present them to the client in a unifying whole. Used with XInclude, I could see it being a fairly powerful idiom for aggregation. -bob _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] using JDBC results with dom4j</header>
    <date>Fri Oct 26 16:42:00 CEST 2001</date>
    <body>Hey Dane :-) Mostly an adapter so that without writing any code, if you have a ResultSet you get XPath and XSLT and to be able to pipe the data around as XML. e.g. its easy to turn XML into CSVs or HTML or whatnot using XSLT. when only is Exactly. So its only a fairly simple adapter we're talking about here to adapt an existing ResultSet appear to be a dom4j document fragment so that it can be piped into an XSLT engine, or navigated with XPath or output using some kind of XML text formatter or SAX stream. Its just an adapter really. Its not unlike Oracles XSQL apart from this would be open and flexible and not based on Oracle, just on JDBC and dom4j. Agreed. And its not the intention of the JDBC &amp;lt;-&amp;gt; dom4j adapter to be *the* way to publish XML view of data from a database. Just one possible way. I Me too! Thanks for the rant - I always enjoy them, especially on a friday when its nearly time to visit a bar ;-) I hear you and agree with your sentiments. Its too easy to XML-ercise everything just for the hell of it. Though one thing I've found though is piping information around the place as XML, while not always the most effcient, can often be very easy and a simple way to connect disperate bits of software together. Or to put that another way, I like to hide JDBC by just making the data available as XML instead. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: AbstractMethodError using DOMReader</header>
    <date>Fri Oct 26 07:44:00 CEST 2001</date>
    <body>Hi Andreas I've CC'd the dom4j-user list in case others have this problem. This error looks like its a DOM2 versus DOM1 exception. The DOMReader is currently based on DOM2 to be namespace aware. It looks like the DOM implementation in com.softwareag.tamino.api.dom.* is based on DOM1? Is this the case? If it is maybe we can make DOMReader capable of working from both DOM1 and DOM2 implementations. James Sent: Thursday, October 25, 2001 3:35 PM Subject: AbstractMethodError using DOMReader _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] new release when?</header>
    <date>Thu Oct 25 19:47:00 CEST 2001</date>
    <body>Hello, I know there has been a couple bug fixes and tweaks to the dom4j build since the official 1.0 release and I'm wondering when the update will be released.  A time frame would be appreciated because it will help me determine if I should wait ( &amp;lt;= 1 week) or download the daily build. Additionally, I surfed over to the dom4j site before sending this message to see if there were any indications of a release date, while I was there I came across something on the todo list that you can probably get rid of: "Do detailed performance tests against the other XML object models" - Done! see the link (on the site) to the developerworks article Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] new release when?</header>
    <date>Thu Oct 25 19:57:00 CEST 2001</date>
    <body>Hey Dane I've been aiming to do a release for some time; I'm hoping to get one out tomorrow for sure. Thanks for the to do list patch; I'm going to try checkin a more detailed TODO.txt document tomorrow as well. James Sent: Thursday, October 25, 2001 8:54 PM Subject: [dom4j-user] new release when? will to Done! http://www.equitytg.com . https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] problem with Document.remove() (was Re: Need help)</header>
    <date>Wed Oct 24 09:15:00 CEST 2001</date>
    <body>Hi Vlad I'm CCing the dom4j-user list in case anyone else has a similar problem... can The remove() method is intended to remove immediate children from a Branch (Document or Element). So it will only work in the above code if "toRemove" is the root element. So returning false should indicate that "toRemove" is not an immediate child of the Document. If you have a node which you wish to remove from its parent, whatever it may be, then the detach() method is preferable, which will remove the node from its immediate parent. e.g. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Serialization Problem</header>
    <date>Wed Oct 24 16:14:00 CEST 2001</date>
    <body>Hi, I am facing a strange serailzation problem.  When seralize Document object to file and read back from the file I can not add more elements to the document.  When ever I try to add new child after reading back from the file I am getting NullPointer Exception. I wrote a mail before this indicating where the error happens.  The DocumentFactory doesn't instatiate transient variables after deserializing objects which is causing to throw NullPointer Exceptions. Am I doing some thing wrong or this is a know bug? Regards, Kesav Kumar Kolla</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Serialization Problem</header>
    <date>Thu Oct 25 11:24:00 CEST 2001</date>
    <body>Hi Kesav I've built a JUnit test case to reproduce your problem (src/test/org/dom4j/TestSerialize.java) which I've now fixed and committed to CVS. The daily build also contains this fix. The next release will contain this patch and should be here really soon now... James Sent: Wednesday, October 24, 2001 5:14 PM Subject: [dom4j-user] Serialization Problem file https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] how big can dom4j handle?</header>
    <date>Wed Oct 24 01:49:00 CEST 2001</date>
    <body>How big an xml file can dom4j handle?  I'm planning to process a 19MB file with my app.  Any danger?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how big can dom4j handle?</header>
    <date>Wed Oct 24 07:30:00 CEST 2001</date>
    <body>It would be advisable to process this file chunks at a time. e.g. is the = file database generated? If so it probably consists of lots of 'rows' = which are document fragments that can be processed by themselves as they = are parsed then garbage collected. Often massive XML documents are database-generated or contain regular = repeating fragments (like 'rows' from a 'table') which can be processed = one by one and so not requiring the entire document to be in RAM at = once. There's an entry in the FAQ http://dom4j.org/faq.html entitled "How does dom4j handle very large XML documents?" http://dom4j.org/faq.html#How%20does%20dom4j%20handle%20very%20large%20XM= L%2 0documents? The trick is to use ElementHandler's to be notified as certain parts of = the documents are complete (say a 'row') and then prune it from the tree via element.detach() so that it can be garbage collected. There's also an example in dom4j/src/samples/LargeDocumentDemo.java and LargeDocumentDemo2.java James From: ASTI Legaspi, Calen Martin D.=20 To: dom4j-user@... Sent: Wednesday, October 24, 2001 2:44 AM Subject: [dom4j-user] how big can dom4j handle? How big an xml file can dom4j handle?  I'm planning to process a 19MB = file with my app.  Any danger?</body>
  </mail>
  <mail>
    <header>[dom4j-user] XML declarations</header>
    <date>Tue Oct 23 08:09:00 CEST 2001</date>
    <body>Hi everybody! I'm trying to get rid of the xml declarations in the output when transforming a xml file (I'm transforming a xml file to a text file). I both tried: transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION , "no");  and &amp;lt;xsl:output method="text" omit-xml-declaration="no"/&amp;gt;. None of these seems to work! Here are my java code: Does somebody have an idea? Thanks in advance, Theis.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XML declarations</header>
    <date>Tue Oct 23 08:23:00 CEST 2001</date>
    <body>Hi Theis I don't think the XMLResult class supports the OutputKeys.METHOD or OutputKeys.OMIT_XML_DECLARATION yet. For now if you modify your code to use StreamResult from JAXP (javax.xml.transform.stream) you should be fine. e.g. see the amended code below... , James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Serialization problem in DocumentFactory.</header>
    <date>Mon Oct 22 21:29:00 CEST 2001</date>
    <body>It appears to be a problem with DocumentFactory QNameCache.  When I serialize a document to a file and read back the object back from file after that when ever I try to add any node I am getting NullPointerException. Senario: Document doc = createNewDoc();  //Some document ObjectOutputStream oout = new ObjectOutputStream(new ObjectInputStream in = new ObjectInputStream(new newDoc.getRootElement().addElement("TEST");  //Here I get NullPointerException. The reason is in DocumentFactory.java the QNameCache cache is declared as transient.  After deserilazation the transient variables are assigned to null.  The addElement calls createQName method in which cache.get(localName, namespace) // throws NullPointerException since there is not cache variable. Solution: add the following code to the DocumentFactory.java private void readObject(java.io.ObjectInputStream in) throws java.io.IOException, ClassNotFoundException Any comments -- Kesav Kumar Kolla Voquette Inc 650 356 3740(W) 510 889 6840(R) Voquette - The Power of Relevant Information Send Instant  &amp;lt;ymsgr:sendim?kesavkolla&amp;gt; Message</body>
  </mail>
  <mail>
    <header>[dom4j-user] problem with insertBefore(Node newNode, Node refNode) in DOM Node</header>
    <date>Sat Oct 20 03:26:00 CEST 2001</date>
    <body>hi, I have a problem using dom4j to insert a new node into a specific position in the tree. This is because the insertBefore(Node newNode, Node refNode) is not defined in com.dom4j.Node interface, but only implemented in "org.dom4j.dom.DOMElement", which is derived from "org.dom4j.tree.DefaultElement". But the default implementation of dom4j seems to be creating DefaultElement instead of DOMElement. If you get an object from method like Element test = Element.clone()   or You can't cast test into DOMElement, because internally it is created as DefultElement. Therefore, you can't do a test.insertBefore(newNode, refNode) on test, because inserBefore() is only supported in DOMElement level. Anyone encounter similia problem and knows a way to round about this? thx, amber</body>
  </mail>
  <mail>
    <header>[dom4j-user] Is it possible to run out of memory processing an XML?</header>
    <date>Fri Oct 19 07:22:00 CEST 2001</date>
    <body>I'm going to be processing huge XML documents, megabytes in size.  My app will be running on possibly 64MB machines.  Is there a danger of running out of memory and crashing? or does this never happen with Java?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Is it possible to run out of memory processing an XML?</header>
    <date>Fri Oct 19 07:43:00 CEST 2001</date>
    <body>Yes you certainly can run out of memory on Java, especially processing huge XML documents. Often massive XML documents are database-generated or contain regular repeating fragments (like 'rows' from a 'table') which can be processed one by one and so not requiring the entire document to be in RAM at once. There's an entry in the FAQ http://dom4j.org/faq.html entitled "How does dom4j handle very large XML documents?" http://dom4j.org/faq.html#How%20does%20dom4j%20handle%20very%20large%20XML%2 0documents? The trick is to use ElementHandler's to be notified as certain parts of the documents are complete (say a 'row') and then prune it from the tree via element.detach() so that it can be garbage collected. There's also an example in dom4j/src/samples/LargeDocumentDemo.java and LargeDocumentDemo2.java James Sent: Friday, October 19, 2001 8:17 AM Subject: [dom4j-user] Is it possible to run out of memory processing an XML? out https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Validating</header>
    <date>Wed Oct 10 14:56:00 CEST 2001</date>
    <body>I've just converted a project I'm working on from JDOM. dom4j seems to work very nicely. Now, I'd like sometimes to have the receiver of a document validate it using a schema known to him, rather than named in the document itself. Is there a neater way of doing this than parsing the doc without validation, adding the schema reference, converting it back to XML and then reparsing it with validation on? For instance, is there a parser that will do its validation on a dom4j Document? Cheers Tony Montgomery-Smith PCMS Datafit Ltd Huntingdon UK</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Validating</header>
    <date>Wed Oct 10 15:17:00 CEST 2001</date>
    <body>Hi Tony work Great, glad to hear it.. using validation, it I've had similar problems in the past. Sun's got a nice library called MSV (Multi Schema Validator) which can do validation across multiple schema languages, DTD, XML Schema, RelaxNG, Trex, Relax etc. Right now there's not a validator which works directly on a dom4j document, but the next best thing is to fire in the SAX events into an MSV Verifier. There's an example of this working in src/samples/validate/MSVDemo.java. I've not tried using the latest EA2 release of MSV yet (its on my stack), I'm hoping the example should still work with it though. Hopefully one day we might be able to write a more optimal dom4j Verifier that uses MSV and doesn't require that we serialize the document to SAX events. MSV looks a nice piece of work so a dom4j Verifier shouldn't be too hard to do. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Validating</header>
    <date>Thu Oct 11 19:55:00 CEST 2001</date>
    <body>&amp;gt; Now, I'd like sometimes to have the receiver of a document validate it using Sorry for a spam, but you may want to have a look at Sun Multi-Schema XML Validator. ( http://www.sun.com/xml ) It allows you to validate documents with your own schema, not with the one named in the document. It can validate SAX events, so you can convert dom4j objects into SAX events to validate it. regards, ---------------------- K.Kawaguchi E-Mail: kohsukekawaguchi@...</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: Validating</header>
    <date>Fri Oct 12 11:44:00 CEST 2001</date>
    <body>using validation, reparsing it http://www.sun.com/xml ) No need to appologies! MSV is really cool stuff, more people should be aware of it. The sooner its part of JAX-pack the better I'd say. Agreed and it works extremely nicely. I'm wondering how much work it would be to write a dom4j Verifier which navigates the dom4j model using the dom4j API and the MSV API as an alternative to sending SAX events in. Being able to verify a fragment of a document might be really handy too; say a dom4j Element, when validating part of a SOAP message for example. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: Validating</header>
    <date>Wed Oct 17 19:41:00 CEST 2001</date>
    <body>&amp;gt; I'm wondering how much work it would be to write a dom4j Verifier which It's basically writing a class similar to com.sun.msv.verifier.Verifier. Visiting dom4j model while calling appropriate methods on the Acceptor interface. But I don't know if it contributes a higher performance or not, as lot of the work is done below the Acceptor interface. Maybe it's not worth the trouble of maintaining two similar classes. Partial validation (validating a subtree) for W3C DOM is already possible by using the external interface (JARV interface.)  Adding the same level of support for the above dom4j verifier is probably a snap. regards, ---------------------- K.Kawaguchi E-Mail: kohsukekawaguchi@...</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Does dom4j run on JDK1.2.2?</header>
    <date>Tue Oct 16 14:45:00 CEST 2001</date>
    <body>Firestar: The issue you are having is in the jaxen codebase. It has been fixed in the latest version of jaxen (beta 7, i think). In the short term, here is a workaround until the dom4j 1.1 release. Go to http://www.jaxen.org and download the latest version of jaxen. Place the jaxen-full.jar in your classpath before the dom4j.jar. This should work for you with JDK 1.2.2 until James releases dom4j 1.1 with the updated verion of jaxen. Hope this helps. James Webb -----Original Message----- From: Firestar [mailto:theebh@...] Sent: Tuesday, October 16, 2001 2:48 AM To: James Strachan; dom4j-user@... Subject: Re: [dom4j-user] Does dom4j run on JDK1.2.2? Wow! Thanks a lot - can't wait for the new release to be out:) Regards, Firestar --- James Strachan &amp;lt;james_strachan@...&amp;gt; wrote: org.dom4j.xpath.DefaultXPath.selectNodes(DefaultXPath.java:118) http://personals.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ http://mail.yahoo.com __________________________________________________ Do You Yahoo!? Make a great connection at Yahoo! Personals. http://personals.yahoo.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Does dom4j run on JDK1.2.2?</header>
    <date>Wed Oct 17 07:13:00 CEST 2001</date>
    <body>hi James, yup the beta7 works on jdk1.2.2. Thanks! Firestar --- "Webb, James" &amp;lt;james.webb@...&amp;gt; wrote: http://www.jaxen.org and download the latest version org.dom4j.xpath.DefaultXPath.selectNodes(DefaultXPath.java:118) http://personals.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ http://mail.yahoo.com http://personals.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Make a great connection at Yahoo! Personals. http://personals.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Adding a node to the middle of a pre-existing DOM</header>
    <date>Mon Oct 15 21:33:00 CEST 2001</date>
    <body>Hi all, =20 Just started playing with Dom4J and pretty impressed with it, so far. Question: I have a extremely large Xml object where I want to add an element to the middle of the Dom tree.  What's the most efficient way of doing this? =20 =20 For example, I want to create an element called text node) to &amp;lt;server_request&amp;gt;&amp;lt;server&amp;gt;&amp;lt;weblogic&amp;gt;&amp;lt;internal&amp;gt;....=20 I was trying to use the selectSingleNode("//server_request/server/weblogic/internal") to get a Node() and use the addElement(), but the Node class doesn't have the addElement() method. =20 Could someone post the code for creating an element in the middle of a Xml Dom if I know what the XPath is to the parent element? =20 Any help is appreciated. =20 Doug Hoppes</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding a node to the middle of a pre-existing DOM</header>
    <date>Tue Oct 16 07:42:00 CEST 2001</date>
    <body>MessageHey Doug The first thing is to find the Element which is going to be the parent = to which you are going to add a new element. The selectSingleNode() = returns a Node because you could be finding the document ("/") or an = attribute ("/foo/@x"), a namespace node ("namespace::*") or text node = (":/foo/bar/text()"etc So you just need to cast it if you know, from the XPath expression, that = its going to be an Element.=20 e.g. Element parent =3D (Element) doc.selectSingleNode(=20 "//server_request/server/weblogic/internal"=20 // add a new element The last add line could be more verbose if you wish. e.g. James From: Doug Hoppes=20 To: dom4j-user@... Sent: Monday, October 15, 2001 10:33 PM Subject: [dom4j-user] Adding a node to the middle of a pre-existing = DOM Hi all, Just started playing with Dom4J and pretty impressed with it, so = far. Question: I have a extremely large Xml object where I want to add = an element to the middle of the Dom tree.  What's the most efficient way = of doing this? =20 For example, I want to create an element called = text node) to &amp;lt;server_request&amp;gt;&amp;lt;server&amp;gt;&amp;lt;weblogic&amp;gt;&amp;lt;internal&amp;gt;....=20 I was trying to use the = selectSingleNode("//server_request/server/weblogic/internal") to get a = Node() and use the addElement(), but the Node class doesn't have the = addElement() method. Could someone post the code for creating an element in the middle of a = Xml Dom if I know what the XPath is to the parent element? Any help is appreciated. Doug Hoppes</body>
  </mail>
  <mail>
    <header>[dom4j-user] Exception getting SAX parser</header>
    <date>Tue Oct 16 21:57:00 CEST 2001</date>
    <body>I know this is in the FAQ, but I've tried to do everything to fix it and I'm still getting this problem. Here's my classpath: CLASSPATH=.;c:\local\jdk1.4.0\lib\tools.jar;c:\local\classes;c:\work\and rew\build\classes;c:\local\junit3.7\junit.jar;c:\local\xerces-1_4_3\xerc es.jar;c:\local\xalan-j_2_2_D10\bin\xalan.jar;c:\local\dom4j-1.0\dom4j.j ar;c:\local\xalan-j_2_2_D10\xalansamples.jar Here's the exception: Warning: Caught exception attempting to use JAXP to load a SAX XMLReader Warning: Exception was: java.lang.LinkageError: loader constraints violated when linking org/xml/sax/XMLReader class Warning: I will print the stack trace then carry on using the default SAX parser java.lang.LinkageError: loader constraints violated when linking org/xml/sax/XMLReader class at org.dom4j.io.JAXPHelper.createXMLReader(JAXPHelper.java:38) at org.dom4j.io.SAXHelper.createXMLReaderViaJAXP(SAXHelper.java:80) at org.dom4j.io.SAXHelper.createXMLReader(SAXHelper.java:49) at org.dom4j.io.SAXReader.createXMLReader(SAXReader.java:528) at org.dom4j.io.SAXReader.getXMLReader(SAXReader.java:411) at org.dom4j.io.SAXReader.read(SAXReader.java:277) at org.dom4j.io.SAXReader.read(SAXReader.java:201) at org.dom4j.io.SAXReader.read(SAXReader.java:190) Any ideas? I am using JDK 1.4.0 beta 2. Thanks.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Exception getting SAX parser</header>
    <date>Tue Oct 16 22:06:00 CEST 2001</date>
    <body>MessageHi David I think JDK1.4 comes with crimson and xalan so you might want to try = removing xerces,jar and xalan.jar from your classpath and trying again. = Is this from an application or a servlet or EJB? James From: David Hooker=20 To: dom4j-user@... Sent: Tuesday, October 16, 2001 10:57 PM Subject: [dom4j-user] Exception getting SAX parser I know this is in the FAQ, but I've tried to do everything to fix it = and I'm still getting this problem. Here's my classpath: = CLASSPATH=3D.;c:\local\jdk1.4.0\lib\tools.jar;c:\local\classes;c:\work\an= drew\build\classes;c:\local\junit3.7\junit.jar;c:\local\xerces-1_4_3\xerc= es.jar;c:\local\xalan-j_2_2_D10\bin\xalan.jar;c:\local\dom4j-1.0\dom4j.ja= r;c:\local\xalan-j_2_2_D10\xalansamples.jar Here's the exception: Warning: Caught exception attempting to use JAXP to load a SAX = XMLReader Warning: Exception was: java.lang.LinkageError: loader constraints = violated when linking org/xml/sax/XMLReader class Warning: I will print the stack trace then carry on using the default = SAX parser java.lang.LinkageError: loader constraints violated when linking = org/xml/sax/XMLReader class at org.dom4j.io.JAXPHelper.createXMLReader(JAXPHelper.java:38) at = org.dom4j.io.SAXHelper.createXMLReaderViaJAXP(SAXHelper.java:80) at org.dom4j.io.SAXHelper.createXMLReader(SAXHelper.java:49) at org.dom4j.io.SAXReader.createXMLReader(SAXReader.java:528) at org.dom4j.io.SAXReader.getXMLReader(SAXReader.java:411) at org.dom4j.io.SAXReader.read(SAXReader.java:277) at org.dom4j.io.SAXReader.read(SAXReader.java:201) at org.dom4j.io.SAXReader.read(SAXReader.java:190) Any ideas? I am using JDK 1.4.0 beta 2. Thanks.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Exception getting SAX parser</header>
    <date>Tue Oct 16 22:15:00 CEST 2001</date>
    <body>It's from an application. Ok, so I took xerces and xalan out of my classpath and recompiled everything.  It compiled, but running gave me this: java.lang.NoClassDefFoundError: org/xml/sax/helpers/XMLFilterImpl at java.lang.ClassLoader.defineClass0(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:499) at java.lang.ClassLoader.defineClass(ClassLoader.java:437) at junit.runner.TestCaseClassLoader.loadClass(TestCaseClassLoader.java:104) at java.lang.ClassLoader.loadClass(ClassLoader.java:264) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:324) at com.a4networks.server.Configuration.saveConfig(Configuration.java:87) at com.a4networks.server.ConfigurationTest.testPutGet(Unknown Source) at com.a4networks.server.ConfigurationTest.runTest(Unknown Source) Anyway, javap doesn't find any xerces classes, so I guess java 1.4 doesn't include them.  Any other ideas? -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: Tuesday, October 16, 2001 5:04 PM To: David Hooker; dom4j-user@... Subject: Re: [dom4j-user] Exception getting SAX parser Hi David I think JDK1.4 comes with crimson and xalan so you might want to try removing xerces,jar and xalan.jar from your classpath and trying again. Is this from an application or a servlet or EJB? James From: David  &amp;lt;mailto:dhooker@...&amp;gt; Hooker To: dom4j-user@... Sent: Tuesday, October 16, 2001 10:57 PM Subject: [dom4j-user] Exception getting SAX parser I know this is in the FAQ, but I've tried to do everything to fix it and I'm still getting this problem. Here's my classpath: CLASSPATH=.;c:\local\jdk1.4.0\lib\tools.jar;c:\local\classes;c:\work\and rew\build\classes;c:\local\junit3.7\junit.jar;c:\local\xerces-1_4_3\xerc es.jar;c:\local\xalan-j_2_2_D10\bin\xalan.jar;c:\local\dom4j-1.0\dom4j.j ar;c:\local\xalan-j_2_2_D10\xalansamples.jar Here's the exception: Warning: Caught exception attempting to use JAXP to load a SAX XMLReader Warning: Exception was: java.lang.LinkageError: loader constraints violated when linking org/xml/sax/XMLReader class Warning: I will print the stack trace then carry on using the default SAX parser java.lang.LinkageError: loader constraints violated when linking org/xml/sax/XMLReader class at org.dom4j.io.JAXPHelper.createXMLReader(JAXPHelper.java:38) at org.dom4j.io.SAXHelper.createXMLReaderViaJAXP(SAXHelper.java:80) at org.dom4j.io.SAXHelper.createXMLReader(SAXHelper.java:49) at org.dom4j.io.SAXReader.createXMLReader(SAXReader.java:528) at org.dom4j.io.SAXReader.getXMLReader(SAXReader.java:411) at org.dom4j.io.SAXReader.read(SAXReader.java:277) at org.dom4j.io.SAXReader.read(SAXReader.java:201) at org.dom4j.io.SAXReader.read(SAXReader.java:190) Any ideas? I am using JDK 1.4.0 beta 2. Thanks.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Does dom4j run on JDK1.2.2?</header>
    <date>Tue Oct 16 05:18:00 CEST 2001</date>
    <body>Hi, i was having this problem when using dom4j on a Solaris with JDK 1.2.2: java.lang.NoSuchMethodError: java.util.Collections: method singletonList(Ljava/lang/Object;)Ljava/util/List; not found at org.jaxen.BaseXPath.getContext(BaseXPath.java:90) at org.jaxen.BaseXPath.selectNodes(BaseXPath.java:21) at org.dom4j.xpath.DefaultXPath.selectNodes(DefaultXPath.java:118) It seems that the method Collections.singletonList() is only available in JDK 1.3. Does that mean that dom4j only runs on JDK1.3, or will recompiling dom4j or jaxen with JDK1.2.2 solve the problem? Thanks in advance. Regards, Firestar __________________________________________________ Do You Yahoo!? Make a great connection at Yahoo! Personals. http://personals.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Does dom4j run on JDK1.2.2?</header>
    <date>Tue Oct 16 07:16:00 CEST 2001</date>
    <body>Hi Firestar Yes this bug crept in recently and has been fixed. We'll be doing a dom4j 1.1 release very soon which will fix this problem and dom4j will run on JDK1.2.2. James Sent: Tuesday, October 16, 2001 6:18 AM Subject: [dom4j-user] Does dom4j run on JDK1.2.2? http://personals.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Does dom4j run on JDK1.2.2?</header>
    <date>Tue Oct 16 07:48:00 CEST 2001</date>
    <body>Wow! Thanks a lot - can't wait for the new release to be out:) Regards, Firestar --- James Strachan &amp;lt;james_strachan@...&amp;gt; wrote: org.dom4j.xpath.DefaultXPath.selectNodes(DefaultXPath.java:118) http://personals.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ http://mail.yahoo.com __________________________________________________ Do You Yahoo!? Make a great connection at Yahoo! Personals. http://personals.yahoo.com</body>
  </mail>
  <mail>
    <header>Fwd: [dom4j-user] Adding a node to the middle of a
  pre-existing DOM</header>
    <date>Tue Oct 16 07:35:00 CEST 2001</date>
    <body>Hi Doug, if you are sure, that "internal" is an element, I think you can try the type-cast Element wanted = (Element) Hope it helps Pete https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt;, https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt;, http://www.geocrawler.com/redir-sf.php3?list=dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding a node to the middle of a  pre-existing DOM</header>
    <date>Tue Oct 16 07:47:00 CEST 2001</date>
    <body>FWIW you can work out the type of the return value from the XPath expression. Here are some examples. //server_request/server/weblogic/internal the above expression will always return zero, 1 or more Elements, since the last thing on the path expression is an element. //server_request/server/weblogic/internal/@foo the above will always return zero, 1 or more Attributes, since the last thing on the path expression is an attribute //server_request/server/weblogic/internal/text() the above will always return zero, 1 or more Text nodes / the above will always return 1 Document If the selectNodes() method is used then a List will be returned containing the number of nodes described above. If the selectSingleNode() call is used and an XPath results in more than one node being found, the first node is returned. James Sent: Tuesday, October 16, 2001 8:35 AM Subject: Fwd: [dom4j-user] Adding a node to the middle of a pre-existing DOM https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt;, https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt;, http://www.geocrawler.com/redir-sf.php3?list=dom4j-user far. Xml https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] uniqueness problem (was Re: want ur help)</header>
    <date>Mon Oct 15 08:50:00 CEST 2001</date>
    <body>Hi Vijay BTW Vijar, could you CC the list for archive purposes, others may experience similar problems as yours. I'm not totally sure I understand your question - is it that the Xerces validation isn't working at all or that the validation isn't correct? Are you trying to validate uniqueness and ID relationships using XML Schema? Just for the record, what version of Xerces are you using? Right now there are 2 main ways to validate using XML Schema... a) Use a recent version of Xerces. Then if you find any problems with Xerces not correctly validating your XML Schema instance document, try mailing the xerces list. b) try using Sun's Multi Schema Validator library (MSV). There's a sample program of it in use in dom4j/src/samples/validate/MSVDemo.java James well else http://apache.org/xml/properties/schema/external-noNamespaceSchemaLoaction ' " http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation " http://mail.yahoo.com _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re:</header>
    <date>Mon Oct 15 08:13:00 CEST 2001</date>
    <body>Hi Minal This is an unfortunate bug that has been fixed in CVS and will be = available in the 1.1 release this week. Its caused by some code which is = JDK 1.3 dependent and so when running on JDK1.2 you get the exception = you've just found.=20 Using JDK1.3.x is a valid workaround on dom4j 1.0, or using the current = daily build until the 1.1 release comes out is another work around. James From: Minal Ashar=20 To: James Strachan=20 Sent: Monday, July 12, 1999 9:32 PM Hi James, Am running a Servlet within a WebLogic Application Server.My = application is the same, where I accept input values from the user and = need to compare the contents of the Xml file and the input. My Xml file is of the following structure When I read the XML file ,I need to access the Row element within = which I need to check the Criteria content. I am using the following code piece,which runs perfectly fine within a = standalone.However gives me problems within servlets. The error generated is sent as an attachment.Kindly tell me where = could I be facing a problem. Minal.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: want ur help</header>
    <date>Mon Oct 15 07:55:00 CEST 2001</date>
    <body>Hi Vijay Without a stack trace of the exception I can't be absolutely certain but I suspect the problem is either a) you don't have a recent xerces.jar on your classpath; support for XML Schema is fairly recent, so version 1.4.2 or later should do. Might as well try the latest version available. b) you have a version of crimson.jar in your classpath, in front of xerces.jar. To tell whether its a) or b), the stack trace should help - if the not recognised exception comes from org.apache.crimson package then its b) else its probably a). James Sent: Monday, October 15, 2001 6:22 PM Subject: want ur help http://apache.org/xml/properties/schema/external-noNamespaceSchemaLoaction ' " http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation " _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Getting the internal DTD</header>
    <date>Wed Oct 10 11:52:00 CEST 2001</date>
    <body>Is there any way to access, through dom4j, the internal DTD declarations that may appear in a document? Example (from the XML standard): Getting the DocType only returns the system and public ids, it would be kind of useful if you could do getText() (or something similar) on DocType and get the internal DTD as a string. Cheers, -- Steen /** * Senior Software Engineer (R&amp;amp;D), SilverStream Software http://www.silverstream.com */</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Getting the internal DTD</header>
    <date>Wed Oct 10 14:50:00 CEST 2001</date>
    <body>Getting the internal DTDHi Steen Good idea. I've patched the DocumentType so that getText() should return the text = value of the internal DTD subset - in your example this would be = "&amp;lt;!ELEMENT greeting (#PCDATA)&amp;gt;".=20 I've added 4 classes to the org.dom4j.dtd package to give a better = understanding of the internal DTD subset, there's ElementDecl, = AttributeDecl, InternalEntityDecl, ExternalEntityDecl. These = declarations are available as a List on the DocumentType interface. = These classes are experimental and not heavily tested yet - I'd = appreciate any feedback you might have. I've added a simple JUnit test case (org.dom4j.TestDocType) and added = your example document to /xml/dtd/internal.xml. If you pass it into the = SAXDemo you should get the same document back again. e.g. java SAXDemo xml/dtd/internal.xml should parse and output the document correctly. I've committed all this to CVS and its available in the daily build = also. James From: Steen Lehmann - SilverStream=20 To: dom4j-user@... Sent: Wednesday, October 10, 2001 12:50 PM Subject: [dom4j-user] Getting the internal DTD Is there any way to access, through dom4j, the internal DTD = declarations that may appear in a document?=20 Example (from the XML standard):=20 ]&amp;gt;=20 Getting the DocType only returns the system and public ids, it would = be kind of useful if you could do getText() (or something similar) on = DocType and get the internal DTD as a string. Cheers,=20 -- Steen=20 /**=20 * Steen Lehmann - &amp;lt;mailto:slehmann@... * Senior Software Engineer (R&amp;amp;D), SilverStream Software=20 http://www.silverstream.com&amp;gt;=20 */=20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Getting the internal DTD</header>
    <date>Fri Oct 12 11:29:00 CEST 2001</date>
    <body>Getting the internal DTDI've made one minor change to the patch to support DTD subsets. Now both internal and external DTD subsets are supported, which allows proper round tripping if internal, external or a mixture of internal and external subsets are used. There are example XML documents in dom4j/xml/dtd of these 3 cases. So the DocumentType interface now has 2 properties for the internal and external declarations. http://dom4j.org/apidocs/org/dom4j/DocumentType.html One minor problem at the moment, which is documented here http://dom4j.org/todo.html is that there is currently no consistent way of deterimining which declarations are internal or external for sure on Crimson (though this works fine when using the Xerces SAX parser) so by default I've disabled this feature. We can re-enable it when we can be sure this works across both crimson and xerces. e.g. to expand all DTD entities you could do this... The above changes are now in CVS and the daily build. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: XSLT transformations</header>
    <date>Wed Oct 10 16:00:00 CEST 2001</date>
    <body>Apologies, silly question when the answer's in the cookbook. But isn't there a missing conversion from Document to Source? I would have expected the call to be Cheers Tony Sent: Wednesday, October 10, 2001 4:32 PM Subject: XSLT transformations JDOM have a rather neat "transform" package, that has a technique for transforming a JDOM Document directly into another JDOM Document, rather than having to create XML, then transform, then parse back. Are their plans for anything similar in dom4j? Of course, the JDOM package may just be a wrapper for doing it the crude way! Cheers Tony Montgomery-Smith PCMS Datafit Ltd Huntingdon UK</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: XSLT transformations</header>
    <date>Wed Oct 10 16:12:00 CEST 2001</date>
    <body>&amp;gt; Apologies, silly question when the answer's in the cookbook. But isn't there You're right - there's a typeo in the example there, it should be as you suggest. I'll fix it... James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] XSLT transformations</header>
    <date>Wed Oct 10 15:30:00 CEST 2001</date>
    <body>JDOM have a rather neat "transform" package, that has a technique for transforming a JDOM Document directly into another JDOM Document, rather than having to create XML, then transform, then parse back. Are their plans for anything similar in dom4j? Of course, the JDOM package may just be a wrapper for doing it the crude way! Cheers Tony Montgomery-Smith PCMS Datafit Ltd Huntingdon UK</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XSLT transformations</header>
    <date>Wed Oct 10 16:06:00 CEST 2001</date>
    <body>This feature has been in dom4j for many months now, since the 0.2 release! The JDOM "transform" package does exactly the same as the org.dom4j.io.DocumentSource and org.dom4j.io.DocumentResult classes do. Both act as a JAXP (TrAX) Source and Result objects so that an XSL transformation can use an existing dom4j document source (DocumentSource) or the output can generate a new dom4j document result (DocumentResult). There's an example of these classes in use here (right at the bottom of the page)... http://dom4j.org/guide.html The plan was finished back in April in the 0.2 release ;-) James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j 1.0 build failure...</header>
    <date>Tue Oct 09 15:31:00 CEST 2001</date>
    <body>Any ideas?? ------- C:\local\dom4j-1.0&amp;gt;build Buildfile: build.xml init: [echo] ----------- dom4j 1.0 [2001] ------------ clean: prepare: [mkdir] Created dir: C:\local\dom4j-1.0\build prepare-src: [mkdir] Created dir: C:\local\dom4j-1.0\build\src [mkdir] Created dir: C:\local\dom4j-1.0\build\classes [copy] Copying 197 files to C:\local\dom4j-1.0\build\src collections: compile: [javac] Compiling 197 source files to C:\local\dom4j-1.0\build\classes [javac] Note: sun.tools.javac.Main has been deprecated. [javac] 1 warning package: [unjar] Expanding: C:\local\dom4j-1.0\lib\saxpath.jar into C:\local\dom4j-1.0\build\classes [unjar] Expanding: C:\local\dom4j-1.0\lib\jaxen.jar into C:\local\dom4j-1.0\build\classes [delete] Deleting directory C:\local\dom4j-1.0\build\classes\META-INF [jar] Building jar: C:\local\dom4j-1.0\build\dom4j-core.jar BUILD FAILED C:\local\dom4j-1.0\build.xml:211: Manifest file: C:\local\dom4j-1.0\src\conf\MANIFEST.MF does not exist. Total time: 20 seconds</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j 1.0 build failure...</header>
    <date>Tue Oct 09 16:14:00 CEST 2001</date>
    <body>MessageHi David I think you've found a problem with the current Ant build file - the = source &amp;amp; binary distribution does not include the manifest file in it. = I've just fixed the build process which should fix this problem. You can = try using the daily build which should have the problem resolved. An alternative is to take a snapshot from CVS and build that instead. = Hopefully this will be fixed in the next major release shortly. James From: David Hooker=20 To: dom4j-user@... Sent: Tuesday, October 09, 2001 4:31 PM Subject: [dom4j-user] dom4j 1.0 build failure... Any ideas?? ------- C:\local\dom4j-1.0&amp;gt;build Buildfile: build.xml init: [echo] ----------- dom4j 1.0 [2001] ------------ clean: prepare: [mkdir] Created dir: C:\local\dom4j-1.0\build prepare-src: [mkdir] Created dir: C:\local\dom4j-1.0\build\src [mkdir] Created dir: C:\local\dom4j-1.0\build\classes [copy] Copying 197 files to C:\local\dom4j-1.0\build\src collections: compile: [javac] Compiling 197 source files to = C:\local\dom4j-1.0\build\classes [javac] Note: sun.tools.javac.Main has been deprecated. [javac] 1 warning package: [unjar] Expanding: C:\local\dom4j-1.0\lib\saxpath.jar into = C:\local\dom4j-1.0\build\classes [unjar] Expanding: C:\local\dom4j-1.0\lib\jaxen.jar into = C:\local\dom4j-1.0\build\classes [delete] Deleting directory = C:\local\dom4j-1.0\build\classes\META-INF [jar] Building jar: C:\local\dom4j-1.0\build\dom4j-core.jar BUILD FAILED C:\local\dom4j-1.0\build.xml:211: Manifest file: = C:\local\dom4j-1.0\src\conf\MANIFEST.MF does not exist. Total time: 20 seconds</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Issue with dom4j 1.1</header>
    <date>Fri Nov 30 23:27:00 CET 2001</date>
    <body>I finally had time to try this out. I tried the code, and I wrote some of my own.  I could have sworn that when I used selectObject("//threadsafe"), I got an error saying "false was not a List or Node" or something like that.  But, I can't duplicate the error, in either your test or my code.  Sigh. I'd say it must be me.  If I ever do find it, I'll be sure to document the issue. In the + side, I've been able to dispel two issue I thought I had with dom4j.  So, good for it. I did notice something in my work on this supposed issue: Doing a selectObject(//threadsafe) returns a List of Nodes, but there is only 1 node in there.  Why does it do that? Code: Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Sunday, November 11, 2001 3:07 AM To:	Brain, Jim; DOM4J Mailing List (E-mail) Subject:	Re: [dom4j-user] Issue with dom4j 1.1 Hi Jim I've added your test case to CVS. The xml document is in xml/test/jimBrain.xml and I've added a JUnit test case to demonstrate what I think you're trying to do at dom4j/src/test/org/dom4j/xpath/TestSelectSingleNode.java From my testing it appears that dom4j 1.1 is working correctly for selectSingleNode using your XML document. Is there a chance you're doing something else differently? BTW you can find an Element and add a comment to it. e.g. Element server = (Element) document.selectSingleNode( For example, could you modify the test case to try reproduce your problem? The test case is available in the daily build as well as via CVS... James Sent: Friday, November 09, 2001 10:58 PM Subject: [dom4j-user] Issue with dom4j 1.1 http://www.digitalsymbiosis.net&amp;lt;/URL http://www.digitalsymbiosis.net&amp;lt;/URL that what properties/server https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Found the problem with my issue</header>
    <date>Fri Nov 30 19:49:00 CET 2001</date>
    <body>Re:  the issue I was having with returning an element from a class through a classloader, etc. As James surmised, the classloader was not the issue. The issue was: I created a class T: Class T Element getE() That did not work when I called getE to get the element, so I changed the setE to be: that worked until I invoked the Class.forName to load the T class... I thought. So, I changed getE to be: return d.getRootElement().detach() which looked like it worked. In any case, the classloader was just hiding the issue.  The real issue was that I was calling T.getE() in my test code, and the second call failed, because _e had been attached to a document in the first part of my test.   I changed the code to be: Element getE() void setE(Element e) Now, all works.  Yay! However, this brings up a couple of questions: Since element subs fom Object, can't I use use clone()?  Or, since there is obviously a new API, why wasn;t clone overridden? As well, is there a method on Element that is createCopy()?  I want the same localname (I think).  Why do I need to give a new name? Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, Individual ITS, Life Investors Insurance Company of America</body>
  </mail>
  <mail>
    <header>[dom4j-user] Another error</header>
    <date>Fri Nov 30 17:02:00 CET 2001</date>
    <body>Sorry for all the questions about errors... I just don't know enough about all this XML stuff yet. I have a program which is trying to transform some XML.  The transform code I'm using is straight out of the dom4j cookbook.  The transformation works from Xalan's command line, but not in my program. Below is the error message I'm seeing.  Can someone point me in the right direction? org.dom4j.IllegalAddException: The node "org.dom4j.tree.DefaultElement@... [Element: &amp;lt;payloadID a ttributes: []/&amp;gt;]" could not be added to the branch "null" because: Cannot add another element to thi s Document as it already has  a root element of: payloadID javax.xml.transform.TransformerException: org.dom4j.IllegalAddException: The node "org.dom4j.tree.De faultElement@... [Element: &amp;lt;payloadID attributes: []/&amp;gt;]" could not be added to the branch "null" because: Cannot add another element to this Document as it already has a root element of: payloadID at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerIm pl.java:1226) at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.j ava:638) at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.j ava:1088) at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.j ava:1066)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Another error</header>
    <date>Fri Nov 30 17:19:00 CET 2001</date>
    <body>MessageAre you reusing the same DocumentResult object on two = transformations by any chance? (Though a quick look at the code looks = like this shouldn't be a problem). If not could you send an example snippet of code and we can try fix it? = It appears that a second &amp;lt;payloadID&amp;gt; element is being added to the = document result when it already contains one. Are you using a special = DocumentFactory? James From: David Hooker=20 To: dom4j-user@... Sent: Friday, November 30, 2001 5:02 PM Subject: [dom4j-user] Another error Sorry for all the questions about errors... I just don't know enough = about all this XML stuff yet. I have a program which is trying to transform some XML.  The transform = code I'm using is straight out of the dom4j cookbook.  The = transformation works from Xalan's command line, but not in my program.  = Below is the error message I'm seeing.  Can someone point me in the = right direction? org.dom4j.IllegalAddException: The node = "org.dom4j.tree.DefaultElement@... [Element: &amp;lt;payloadID a ttributes: []/&amp;gt;]" could not be added to the branch "null" because: = Cannot add another element to thi s Document as it already has  a root element of: payloadID javax.xml.transform.TransformerException: = org.dom4j.IllegalAddException: The node "org.dom4j.tree.De faultElement@... [Element: &amp;lt;payloadID attributes: []/&amp;gt;]" could not = be added to the branch "null" because: Cannot add another element to this Document as it already has = a root element of: payloadID at = org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImp= l.java:1226) at = org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.ja= va:638) at = org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.ja= va:1088) at = org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.ja= va:1066)</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Another error</header>
    <date>Fri Nov 30 17:35:00 CET 2001</date>
    <body />
  </mail>
  <mail>
    <header>Re: [dom4j-user] Another error</header>
    <date>Fri Nov 30 19:14:00 CET 2001</date>
    <body>MessageBTW I couldn't parse your XSLT document with the encoding of = UTF-16 so switched it to UTF-8. The problem is that you are not outputting a valid XML document. You're = stylesheet doesn't output a single root element. An XSLT document can = output anything it likes so you need to be a bit careful your XSLT can = output valid XML. If you modify the source to this... From: David Hooker=20 To: 'James Strachan' ; dom4j-user@... Sent: Friday, November 30, 2001 5:34 PM Subject: RE: [dom4j-user] Another error Ok, here's the code... public Document process(Document document) throws Exception TransformerFactory factory =3D = Transformer transformer =3D factory.newTransformer(new = // now lets create the TrAX source and result objects and do = the transformation StreamResult result =3D new StreamResult( System.out ): Then you should see what the XSLT document outputs. Here's what I got... Which has no single root element. You can fix this in your stylesheet by adding this template rule in = there... which will wrap all the output with a &amp;lt;dummyRoot&amp;gt; element. You can call = this whatever you like. James</body>
  </mail>
  <mail>
    <header>[dom4j-user] Test for dom equality</header>
    <date>Thu Nov 29 23:39:00 CET 2001</date>
    <body>I've looked through the test and samples and can't find this.  How do I test for two Document objects being equal?</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Test for dom equality</header>
    <date>Thu Nov 29 23:51:00 CET 2001</date>
    <body>Doh... never mind, I found it.  NodeComparator.  Cool. -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Hooker Sent: Thursday, November 29, 2001 5:39 PM To: dom4j-user@... Subject: [dom4j-user] Test for dom equality I've looked through the test and samples and can't find this.  How do I test for two Document objects being equal?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Test for dom equality</header>
    <date>Fri Nov 30 13:19:00 CET 2001</date>
    <body>MessageI've added that to the FAQ too ;-) James From: David Hooker=20 To: dom4j-user@... Sent: Thursday, November 29, 2001 11:51 PM Subject: RE: [dom4j-user] Test for dom equality Doh... never mind, I found it.  NodeComparator.  Cool. -----Original Message----- From: dom4j-user-admin@... = [mailto:dom4j-user-admin@...] On Behalf Of David = Hooker Sent: Thursday, November 29, 2001 5:39 PM To: dom4j-user@... Subject: [dom4j-user] Test for dom equality I've looked through the test and samples and can't find this.  How = do I test for two Document objects being equal?</body>
  </mail>
  <mail>
    <header>[dom4j-user] updated to latest JARV and MSV</header>
    <date>Fri Nov 30 13:18:00 CET 2001</date>
    <body>The latest CVS image and daily build has been updated to the latest version of MSV - 1.12 - Nov 1 2001. http://www.sun.com/xml In addition the MSVDemo has been replaced by a JARVDemo at dom4j/src/samples/validate/JARVDemo.java which demonstrates how to validate an existing dom4j document against any schema language, DTD, XML Schema, RelaxNG, Relax or Trex. The example now uses the JARV API and uses MSV as the implementation of the JARV API. For more details on JARV try this link.. http://iso-relax.sourceforge.net/JARV/ JARV can also be used to validate a dom4j document as its being parsed with SAXReader by installing an XMLFilter. // make Verifier using JARV // parse dom4j document James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Importing dom4j into the IBM VAJ</header>
    <date>Fri Nov 30 07:38:00 CET 2001</date>
    <body>For those having problems with importing dom4j into the Visual Age for Java 1. Uninstall all the packages having anything in common with the xml (com.ibm.xml* , org.w3c.dom ..) (these packages contains older definitions DOM ver. 1 ... 2. Install dom4j.jar xalan.jar PullParser.jar relaxng.jar msv.jar isorelax.jar xsdlib.jar crimson.jar and you should not have any definitions missing. Best regards, Jan =============================================================================== VSB - TECHNICAL UNIVERSITY OSTRAVA           tel.: +420 69 6991257 COMPUTER CENTRE                       fax.: +420 69 6919352 17. listopadu                       e-mail: jan.haluza@... 708 33 Ostrava-Poruba Czech Republic ===============================================================================</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Importing dom4j into the IBM VAJ</header>
    <date>Fri Nov 30 08:28:00 CET 2001</date>
    <body>Thanks Jan - I'll add that to the FAQ. James Sent: Friday, November 30, 2001 7:38 AM Subject: [dom4j-user] Importing dom4j into the IBM VAJ ============================================================================ === ============================================================================ === https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Importing dom4j into the IBM VAJ</header>
    <date>Fri Nov 30 08:33:00 CET 2001</date>
    <body>BTW the msv.jar that comes with the dom4j 1.1 release has xsdlib.jar, isorelax.jar and relaxng.jar integrated. So I think the list could be... I don't have VAJ so cannot validate this for sure. 'James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Importing dom4j into the IBM VAJ</header>
    <date>Fri Nov 30 11:02:00 CET 2001</date>
    <body>Hi James, I had have heavy problems importing msv.jav from the bundle coming with the dom4j (problem with importing inner classes of some the data types specified there). So I have used the msv.jar downloaded from the Sun site. I have imported the jars part by part to get an information on what is still missing and to be able to controll the corectness of the jar import into the VAJ. In case there will be some requests for more detailed description of importing the dom4j into the VAJ (and I will have time enough) I will consider writing more precise description (this time I would not like to destroy my setup :-). Best regards, Jan =============================================================================== VSB - TECHNICAL UNIVERSITY OSTRAVA           tel.: +420 69 6991257 COMPUTER CENTRE                       fax.: +420 69 6919352 17. listopadu                       e-mail: jan.haluza@... 708 33 Ostrava-Poruba Czech Republic =============================================================================== On Fri, 30 Nov 2001, James Strachan wrote: http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Importing dom4j into the IBM VAJ</header>
    <date>Fri Nov 30 11:16:00 CET 2001</date>
    <body>Hi Jan Ah sorry, my mistake. I think the msv.jar needs refreshing to the latest from Sun. I'll do that now. No worries - I totally understand :-) Thanks James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] org.dom4j.DocumentFragment ???</header>
    <date>Mon Nov 26 11:33:00 CET 2001</date>
    <body>Hi All, I am a new user of DOM4J. Formerly I was using strictly DOM-Level 2 to manipulate XML object tree. Decided to switch to DOM4J because DOM-level 2 offers no support for managing external entities. But now I am missing a DOM feature missing in DOM4J, namely the DocumentFragment class. Why is there no org.dom4j.DocumentFragment ? Is it because some other DOM4J class offers equivalent functionality? What I need is a class that represents the same thing as org.w3c.dom.DocumentFragment, basicaly a set of nodes. This is is very usefull when you work with external entities. Let me explain with an example: Consider the following XML document, stored in a file called company.xml : Now lets say I want to store the list of departments in a seperate file called departments.xml that looks like this : To make this transparent to users of company.xml, I define an external entity in company.xml : The parser that will parse company.xml will replace the entity reference &amp;amp;departments; with the contents of document departments.xml Now, what I need to achieve this programatically is a DOM4J object that will represent my set of departments (set of Elements), but which is not in itself an Element. This is what is it would look like: Company.xml :: Document | +--- company :: Element | +--- departmentSet :: Element | +-- departments :: Entity departments.xml :: DocumentFragment | +--- department :: Element |    | |    +--- departmentId :: Element |    |    | |    |    +--- 123 :: Text |    +--- name :: Element |         | |         +--- Accounting :: Text | +--- department :: Element | +--- departmentId :: Element |    | |    +--- 456 :: Text +--- name :: Element | +--- Personnel :: Text I am looking into implementing a org.dom4j.DocumentFragment interface that would extend org.dom4j.Branch. But maybe some of you experimented DOM4J users out there have a better idea ? Thanx, Luca -- DISCLAIMER: This e-mail contains proprietary information some or all of which may be legally privileged. It is for the intended recipient only. If an addressing or transmission error has misdirected this e-mail, please notify the author by replying to this e-mail. If you are not the intended recipient you must not use, disclose, distribute, copy, print, or rely on this e-mail.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.dom4j.DocumentFragment ???</header>
    <date>Mon Nov 26 11:49:00 CET 2001</date>
    <body>Hi Luca I'm just wondering if a 'set of elements' could be implemented as just a List of Element objects? i.e. just using regular Java 2 Collections. Is there something else that a DocumentFragment could offer other than being a collection of Elements? James Sent: Monday, November 26, 2001 11:34 AM Subject: [dom4j-user] org.dom4j.DocumentFragment ??? DOM4J in idea addressing author https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Changing document NS after parsing</header>
    <date>Mon Nov 26 21:15:00 CET 2001</date>
    <body>Good Day, I'm using the NodeComparator in a regression-test setup - comparing expected with actual results. I get differences if doc B has a namespace declaration that isn't present in A (or vice versa) - even if it's unused. This is important because a "deltaxml" namespace may (but need not be) declared in these docs -- so for these files, a 'deltaxml="foo"' present in one but not the other is an ignorable difference. For example: $cat a.xml $cat b.xml Calling  topElement.addNamespace ("deltaxml", "foo");  doesn't fix the problem - the NodeComparator still says they're different. I guessed that this is because the "x" child element in b.xml gets a namespace decl for "foo" when it's initially parsed, and that adding the decl to the "top" element in a.xml does _not_ add it to the child "x" element. However, even recursive addNamespace() calls on all children do not give a tree that matches - even though asXML() gives an apparently identical tree. Is there any way to change the declared namespaces for an Element and all its children? What about Attributes? I don't understand from NodeComparator.java why this approach isn't working. ====== Notes: Attribute has a getNamespace(), but no addNamespace() -- asymmetrical with Element. Attribute has a setNamespace(Namespace) which is missing from Element. I am probably confusing the _declared_ namespaces for a node -- as returned by Attribute.getDeclaredNamespaces(), can't see this for Element -- with Adding 'xmlns:deltaxml="foo"' (unsurprisingly) makes NodeComparator happy. [ Aside: What causes asXML to output "&amp;lt;x&amp;gt;&amp;lt;/x&amp;gt;" instead of "&amp;lt;x/&amp;gt;" ? ] Any advice or direction warmly received, Thanks, Thomas. PS: Isn't dom4j just wonderful?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Changing document NS after parsing</header>
    <date>Tue Nov 27 12:50:00 CET 2001</date>
    <body>Very bad form, replying to my own post - but I've tracked it down. I was calling for the "x" element in the first doc. The second doc's "x" element already has a NS decl, inherited from "top". A nodeIterator() on the first "x" (in a.xml, after addNamespace()) finds 1 content item - a Namespace. For the second doc, b.xml, a nodeIterator on its "x" element gives 0 content items. So... although asML() gives identical results: the two docs are different because one has a Namespace "node" and the other doesn't. Is this as expected? Workarounds, anyone? Thanks, Thomas. At 21:14 26/11/2001 +0000, Thomas Nichols wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Changing document NS after parsing</header>
    <date>Tue Nov 27 14:26:00 CET 2001</date>
    <body>I guess the NodeComparator could ignore duplicate namespace declarations, though technically the XML object models are different, so I think the documents are different. BTW if ever anyone is having problems comparing documents that they think are equal but the NodeComparator decides that they are different, you might find the following useful. In dom4j/test/src/org/dom4j/AbstractTestCase.java is-a JUnit TestCase and is an abstract base class for dom4j test cases. It contains a whole bunch of useful assertion helper methods for testing documents, nodes and fragments being equal. The nice thing is that you get useful messages telling you exactly why they are different, so its pretty easy to track down. e.g. ... James Sent: Tuesday, November 27, 2001 12:50 PM Subject: Re: [dom4j-user] Changing document NS after parsing other unused. happy. https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Changing document NS after parsing</header>
    <date>Tue Nov 27 16:38:00 CET 2001</date>
    <body>James, Thanks for this -- those test cases should help me track it down faster next time. The docs (a.xml and b.xml) are different -- agreed. The problem is that when I add the missing 'deltaxml="foo"' namespace to a.xml, so that "asXML()" shows them to be identical, the NodeComparator rejects them as different. The reason seems to be that adds a new Namespace object to the *content* of the element -- as iterated over by a nodeIterator. This extra object is not present in the content of "x" in the second doc. So: given a.xml: and b.xml: how do I munge a.xml so that NodeComparator considers the docs to be equal? I've had to hack together a quick fix (not using NodeComparator, ignoring namespaces) for now, but I need a longer-term solution. Any ideas? Thanks a lot, Thomas. At 14:24 27/11/2001 +0000, James Strachan wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Pretty Printing feature</header>
    <date>Tue Nov 27 20:39:00 CET 2001</date>
    <body>The .createPrettyPrint() method of OutputFormat is quite nice, but in terms of readability within a standard text editor, it can be a bit of a pain. Anytime you have a great deal of text between an element and it's end element, it is displayed as a single line. I use JTidy to clean up some of my documents and I've noticed that it has a nice automatic line wrap feature to fit text within 80 spaces. I wonder if this feature can be added to the OutputFormat class by borrowing the code from Jtidy? Rob</body>
  </mail>
  <mail>
    <header>[dom4j-user] Element.detach()</header>
    <date>Tue Nov 27 23:48:00 CET 2001</date>
    <body>I'm using dom4j 1.1, and had a situation where I cast a set of Nodes as elements that I want to detach.  I found that the elements didn't have the detach method, even though they are subclasses of the Node interface... any idea what is the matter???</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Element.detach()</header>
    <date>Wed Nov 28 00:49:00 CET 2001</date>
    <body>On Tue, 27 Nov 2001, Robert J. Lebowitz wrote: It's there, and I use it all the time. Can you copy/paste the exact error that the compiler is giving you? You casting to org.dom4j.Element or to org.w3c.dom.Element? Maybe spurious import statement? -bob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Element.detach()</header>
    <date>Wed Nov 28 01:46:00 CET 2001</date>
    <body>You're right, it is there.... but for some reason my code "insight" feature in Forte 3 isn't picking it up... very odd. I just typed in the method and everything worked fine. Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Element.detach()</header>
    <date>Wed Nov 28 08:01:00 CET 2001</date>
    <body>Maybe Forte 3 is getting confused and thinking that dom4j Element is really a DOM Element. James Sent: Wednesday, November 28, 2001 1:46 AM Subject: Re: [dom4j-user] Element.detach() feature https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Pretty Printing feature</header>
    <date>Wed Nov 28 09:44:00 CET 2001</date>
    <body>Hi Rob Great idea. I've added this to the TODO list so I'm sure one of us will dive in and implement it at some point. As always, volunteers are more than welcome. http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/dom4j/dom4j/ (click on the version number next to TODO.txt to view its contents). James Sent: Tuesday, November 27, 2001 8:39 PM Subject: [dom4j-user] Pretty Printing feature terms a borrowing https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Pretty Printing feature</header>
    <date>Wed Nov 28 20:49:00 CET 2001</date>
    <body>Well... I've determined that the code in question is found in the PPrint.java class. Is OutputFormat simply a configuration holder class, or is it physically involved in structuring the character outputstream? Rob Sent: Wednesday, November 28, 2001 3:42 AM Subject: Re: [dom4j-user] Pretty Printing feature dive http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/dom4j/dom4j/ has https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Pretty Printing feature</header>
    <date>Thu Nov 29 05:22:00 CET 2001</date>
    <body>OutputFormat is mostly just a configuration holder. Its the XMLWriter that does all the real work. Taking a look at the code in XMLWriter, probably the writeString(String) method is where the text trimming code could go. So if OutputFormat had a new property, say 'lineWidth' or something, which is -1 by default, then that could be used as a flag to determine if text over a certain length should be trimmed over multiple lines. James Sent: Wednesday, November 28, 2001 8:49 PM Subject: Re: [dom4j-user] Pretty Printing feature http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/dom4j/dom4j/ pain. https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Pretty Printing feature</header>
    <date>Thu Nov 29 16:41:00 CET 2001</date>
    <body>After James' last post yesterday I went looking at the source for XMLWriter and wondering (if time permits) if I should roll up my sleeves and participate.  I haven't convinced myself yet but two things came to mind while looking it over: 1) As James has pointed out the &amp;lt;code&amp;gt;writeString( String )&amp;lt;/code&amp;gt; method would the lineWidth value include the characters that make up the XML opening and closing tags? Ex. &amp;lt;tag&amp;gt;text goes here&amp;lt;/tag&amp;gt;.  If the lineWidth is 14 should XMLWriter generate: or or text goes here 2) Are there any formal style guidelines to writing dom4j code? Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Thursday, November 29, 2001 12:20 AM Subject: Re: [dom4j-user] Pretty Printing feature OutputFormat is mostly just a configuration holder. Its the XMLWriter that does all the real work. Taking a look at the code in XMLWriter, probably the writeString(String) method is where the text trimming code could go. So if OutputFormat had a new property, say 'lineWidth' or something, which is -1 by default, then that could be used as a flag to determine if text over a certain length should be trimmed over multiple lines. James Sent: Wednesday, November 28, 2001 8:49 PM Subject: Re: [dom4j-user] Pretty Printing feature http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/dom4j/dom4j/ pain. https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Pretty Printing feature</header>
    <date>Thu Nov 29 16:48:00 CET 2001</date>
    <body>Dane: I spent a bit of time looking over the pretty printing features in JTidy, and I think that the simplest thing to do would be to simple adapt their code and produce a kind of XMLWriter that accepts a document and writes out files as they do. I believe that the brackets are included in the estimates, etc.  I'll try and take a stab at this later today if time permits since I started the whole issue; I'm really tired of scrolling to the right all the time when eyeballing my XML files. Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Pretty Printing feature</header>
    <date>Thu Nov 29 17:00:00 CET 2001</date>
    <body>Coding what your asking is not complicated (at least in theory) so I'm trying to avoid having to read through the JTidy implementation of pretty printing to implement pretty printing in dom4j because of time.  So it should be shorter to ask these questions here than read JTidy's code.  With that said one final question, specifying a line width doesn't guarantee complete words in English, should this be a factor or should the code simply break at the line width regardless of complete words? ex. &amp;lt;tag&amp;gt;The cow jumped over the moon.&amp;lt;/tag&amp;gt; lineWidth = 16: ped over the moo Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Thursday, November 29, 2001 11:48 AM Subject: Re: [dom4j-user] Pretty Printing feature Dane: I spent a bit of time looking over the pretty printing features in JTidy, and I think that the simplest thing to do would be to simple adapt their code and produce a kind of XMLWriter that accepts a document and writes out files as they do. I believe that the brackets are included in the estimates, etc.  I'll try and take a stab at this later today if time permits since I started the whole issue; I'm really tired of scrolling to the right all the time when eyeballing my XML files. Rob _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Pretty Printing feature</header>
    <date>Thu Nov 29 18:11:00 CET 2001</date>
    <body>XMLWriter You're most welcome Dane! :-) Generally we've just been following the usual Apache / Jakarta coding style and guidelines. We tend to try follow Sun's guidelines... http://java.sun.com/docs/codeconv/ When I moved from C++ over to Java many years ago now, I brought with it my own coding style from (gulp) about 10-12 years of doing C++. However a few years ago I took the leap and adopted Sun's style instead, just because most other source code is like that (in Sun and Jakarta at least). In addition I tend to prefer no tabs and 4 character indents just for consistency (its a 1 key stroke to enforce this in Forte ;-) just so the code is indented nicely on everyones screens. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j and standards compliant</header>
    <date>Mon Nov 26 18:38:00 CET 2001</date>
    <body>Just like to point out that the DOM4J list of features, on the DOM4J home page, includes this item: *   full support for JAXP, TrAX, SAX, DOM and XSLT. The DOM in this list is a hyper-link to the W3C DOM specification. I guess the question comes down to what 'full support' really means... Let me point out also that the class org.dom4j.dom.DOMDocument includes the following method: And here is the code for DOMDocumentHelper.notSupported() : /** Called when a method has not been implemented yet */ throw new DOMException( DOMException.NOT_SUPPORTED_ERR, "Not supported I guess that at some point in the past there was an intention to support DocumentFragments... I agree that the DOM is a good idea that went wrong, and that the designers of DOM4J have done a much better job. This is why I have decided to switch to DOM4J on a project that was initially started using W3C DOM. Nevertheless W3C DOM deserves some credit for laying out good concepts, and among those the DocumentFragment. The DOM4J concept of Branch is very similar. But why is it not possible to instanciate a Branch? Would'nt  DocumentFragment be a perfect candidate to be a concrete sub-class of Branch? Luca -- DISCLAIMER: This e-mail contains proprietary information some or all of which may be legally privileged. It is for the intended recipient only. If an addressing or transmission error has misdirected this e-mail, please notify the author by replying to this e-mail. If you are not the intended recipient you must not use, disclose, distribute, copy, print, or rely on this e-mail.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j and standards compliant</header>
    <date>Mon Nov 26 19:08:00 CET 2001</date>
    <body>Luca wrote: The key thing to keep in mind in regard to w3c DOM compliance is the default dom4j DOM does not and will not be w3c compliant but the dom4j API may provide facilities to accept a w3c DOM object and covert it to its dom4j representation so you get all the benefits (ease of use and XPath for starters) of the dom4j document model.  Also dom4j may provide facilities to convert a dom4j DOM to a w3c compliant DOM.  The converted w3c DOM (should) fall(s) outside of the dom4j API, therefore you can no longer use the dom4j interfaces to manipulate the DOM once its been converted to a w3c DOM.  In other words, dom4j may provide w3c import and export functionality and that should basically sum up full w3c DOM support (correct me if I'm wrong on this last sentence James). Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Monday, November 26, 2001 1:38 PM Subject: Re: [dom4j-user] dom4j and standards compliant Just like to point out that the DOM4J list of features, on the DOM4J home page, includes this item: *   full support for JAXP, TrAX, SAX, DOM and XSLT. The DOM in this list is a hyper-link to the W3C DOM specification. I guess the question comes down to what 'full support' really means... Let me point out also that the class org.dom4j.dom.DOMDocument includes the following method: And here is the code for DOMDocumentHelper.notSupported() : /** Called when a method has not been implemented yet */ throw new DOMException( DOMException.NOT_SUPPORTED_ERR, "Not supported I guess that at some point in the past there was an intention to support DocumentFragments... I agree that the DOM is a good idea that went wrong, and that the designers of DOM4J have done a much better job. This is why I have decided to switch to DOM4J on a project that was initially started using W3C DOM. Nevertheless W3C DOM deserves some credit for laying out good concepts, and among those the DocumentFragment. The DOM4J concept of Branch is very similar. But why is it not possible to instanciate a Branch? Would'nt  DocumentFragment be a perfect candidate to be a concrete sub-class of Branch? Luca -- DISCLAIMER: This e-mail contains proprietary information some or all of which may be legally privileged. It is for the intended recipient only. If an addressing or transmission error has misdirected this e-mail, please notify the author by replying to this e-mail. If you are not the intended recipient you must not use, disclose, distribute, copy, print, or rely on this e-mail. _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j and standards compliant</header>
    <date>Wed Nov 28 10:40:00 CET 2001</date>
    <body>In terms of the DOMReader and DOMWriter in org.dom4j.io to read &amp;amp; write a W3C DOM tree to &amp;amp; from a dom4j tree. the The org.dom4j.dom package is an attempt to provide some dual-tree support. That is to say that a dom4j user could use the dom4j API to create or manipulate a document and if they wished to, could use the DOMDocumentFactory to create a dom4j tree which is capable of being cast to its w3c DOM equivalent. designers and Agreed. Though w3c DOM is defined in IDL and so cannot take advantage of Java 2 Collections. I hope that a java List could be an alternative to defining a DocumentFragment in the dom4j API. A Branch is a polymorphic interface so that Element and Document can be used polymorphically as a Branch. I guess its possible yes. I just wonder how useful DocumentFragment would really be to dom4j developers. Java 2 Collections seem a bit easier to use for Java developers. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j and standards compliant</header>
    <date>Wed Nov 28 11:51:00 CET 2001</date>
    <body>James wrote: org.dom4j.io to read &amp;amp; write a OK. Although I tested this yesterday and noticed a little problem with the import of the internal subset of a document type. I reported the problem on this mailing list. James wrote: use If I use a List (of Nodes) to represent my document fragment, I cannot manipulate it through the Branch or Node interface, because java.util.List does not (and will most certainly never) extend org.dom4j.Node or org.dom4j.Branch. That is why I suggested to create a class that would in effect be a list of Nodes, and that would extend Branch. I called it DocumentFragment because I thought that this would help people understand what it represents, and because most DOM4J objects have names that match those in the DOM. But call it NodeList if you prefer. Do DOM4J users really need a NodeList/DocumentFragment? - In my opinion anyone working with external entities (that includes me) needs this. - The W3C people seemed to think it would be usefull. - The fact that the write() method of XMLWriter will 'digest' a list of Nodes seems to be an indication that other DOM4J users are working with 'List of Nodes'. Would'nt it be more elegant to handle this through the XMLWriter.read(Branch) method? Luca PS. This posting will be the last in my 'plea for a DocumentFragment' series. Sorry to have bothered you guys with this. -- DISCLAIMER: This e-mail contains proprietary information some or all of which may be legally privileged. It is for the intended recipient only. If an addressing or transmission error has misdirected this e-mail, please notify the author by replying to this e-mail. If you are not the intended recipient you must not use, disclose, distribute, copy, print, or rely on this e-mail.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] A little off topic, but maybe not:</header>
    <date>Wed Nov 21 18:58:00 CET 2001</date>
    <body>Aha, StringSource.  Just what I was looking for. Thanks. Off I am to JAXM land. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Wednesday, November 21, 2001 12:24 PM To:	Brain, Jim; DOM4J Mailing List (E-mail) Subject:	Re: [dom4j-user] A little off topic, but maybe not: Hey Jim need I Actually the JAXM reference implementation is a SOAP implementation written with dom4j that we can all share ;-) If you already have the SOAP request as text you can do something like this - using the JAXM API... Where the first line is using JAXP (javax.xml.transform.Source) to create the XML SOAP message source. The first line could be like this if you had access to the text of the soap request... Does that help? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] A little off topic, but maybe not:</header>
    <date>Mon Nov 26 17:28:00 CET 2001</date>
    <body>Just a  quick followup: Dom4j suffers from it's own ease of use. On a couple folks suggestion, instead of rolling my own SOAP wrapper, dloaded JAXM and gave it a whirl.  I got the code to work, but... Currently, as I discussed with James, JAXM doesn't have a way to set a "body" or "header" with a Dom4J or w3c element.  You either need to build the whole SOAP content yourself, Envelope and all, or build the message via JAXM.  I hope it will include this feature at some point, and I plan to send a request to JAXM to this effect. In any case, after getting JAXM to work, I went back and rewrote the SOAP wrapper to be straight dom4j.  Why?: * Less code.  In effect, I was only using the transport part of JAXM anyway, and I just don't need all the profiles and such. * Easy to get things going with dom4j.  Need I say more. * Server implementation of jaxm leave a bit to be desired (hitting the servlet with GET just produces an error.  I know it won't do the work on GET, but a nice message to that effect, or a WSDL or description of the service would be nice. * JAXM is in prerelease (beta/alpha), dom4j is released and in 1.1. * Ability to have Get request do something useful in servlet, or use JSP if you want. I think JAXM is the long term solution, but it needs to get a bit easier to use it, and handle GETs better. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Wednesday, November 21, 2001 12:24 PM To:	Brain, Jim; DOM4J Mailing List (E-mail) Subject:	Re: [dom4j-user] A little off topic, but maybe not: Hey Jim need I Actually the JAXM reference implementation is a SOAP implementation written with dom4j that we can all share ;-) If you already have the SOAP request as text you can do something like this - using the JAXM API... Where the first line is using JAXP (javax.xml.transform.Source) to create the XML SOAP message source. The first line could be like this if you had access to the text of the soap request... Does that help? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] A little off topic, but maybe not:</header>
    <date>Mon Nov 26 20:31:00 CET 2001</date>
    <body>Jim, JAXM unfortunately can't expose DOM4J in the API. If DOM4J or something like that were to become a JCP standard then there wouldn't be a problem but until then even if we use the excellent DOM4J API and implementation to implement JAXM we can't expose it directly to the JAXM user. Nice message/WSDL on GET is a good idea. I will think some more about it and see what we can do... "Brain, Jim" wrote: http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Peace, Anil +&amp;lt;:-)</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] A little off topic, but maybe not:</header>
    <date>Mon Nov 26 20:59:00 CET 2001</date>
    <body>I'd be OK if JAXM exposed just a DOM hook.  That way, I could work up my DOM4J document, strip off the root element, convert it to a DOM, and send it to JAXM. If you do support GET at some point, make it overridable, so that I could send a special note to someone in my servlet. Jim Sorry, back to dom4j.  But, James, is there a thought about submitting dom4j as a JCP request? Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	Anil Vijendran [mailto:Anil.Vijendran@...] Sent:	Monday, November 26, 2001 2:37 PM To:	Brain, Jim Cc:	DOM4J Mailing List (E-mail) Subject:	Re: [dom4j-user] A little off topic, but maybe not: Jim, JAXM unfortunately can't expose DOM4J in the API. If DOM4J or something like that were to become a JCP standard then there wouldn't be a problem but until then even if we use the excellent DOM4J API and implementation to implement JAXM we can't expose it directly to the JAXM user. Nice message/WSDL on GET is a good idea. I will think some more about it and see what we can do... "Brain, Jim" wrote: via send anyway, if to string." my need? with written http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Peace, Anil +&amp;lt;:-)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] A little off topic, but maybe not:</header>
    <date>Mon Nov 26 21:22:00 CET 2001</date>
    <body>"Brain, Jim" wrote: Doesn't SOAPPart.get/setContent() and then transforming it using JAXP work for you? If you extend JAXMServlet you are free to override doGet to do whatever you want... Also extending JAXMServlet is not a requirement. You can look at the code for doPost in JAXMServlet to see how you can handle a received message... http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Peace, Anil +&amp;lt;:-)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] A little off topic, but maybe not:</header>
    <date>Mon Nov 26 23:07:00 CET 2001</date>
    <body>I don't know much about the details of JAXM and thus the meat and potatoes of this thread but I do a lot of servlet development and I'm thinking "can't the JAXMServlet's doGet method simply call doPost?". Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Monday, November 26, 2001 4:27 PM Subject: Re: [dom4j-user] A little off topic, but maybe not: "Brain, Jim" wrote: it Doesn't SOAPPart.get/setContent() and then transforming it using JAXP work for you? If you extend JAXMServlet you are free to override doGet to do whatever you want... Also extending JAXMServlet is not a requirement. You can look at the code for doPost in JAXMServlet to see how you can handle a received message... dom4j like implement and build SOAP the out create had http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Peace, Anil +&amp;lt;:-) _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] A little off topic, but maybe not:</header>
    <date>Wed Nov 28 10:40:00 CET 2001</date>
    <body>dom4j Great question Jim. There is definitely a thought about creating a JCP request to define a Java API to XML. It may need to wait a little bit before there's more awareness of dom4j and a bit more traction in Sun. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] A little off topic, but maybe not:</header>
    <date>Wed Nov 28 11:24:00 CET 2001</date>
    <body>Just a thought - maybe one day in the future the JAXM reference implementation could expose the dom4j DocumentFactory it uses, so that dom4j users who know they are using the JAXM RI could use dom4j to create the SOAP message, then just cast it to a JAXM SOAPEnvelope. If its not an instanceof SOAPEnvelope then it could be piped in using the JAXP Source interface (org.dom4j.io.DocumentSource) via the SOAPPart.setContent() method instead.. This wouldn't affect the JAXM API at all but would offer a nice little hook for dom4j users to pass in their documents to JAXM. James Sent: Monday, November 26, 2001 5:26 PM Subject: RE: [dom4j-user] A little off topic, but maybe not: via send anyway, if to string." my need? with written http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] FW: Error Message when loading xsl into dom</header>
    <date>Tue Nov 27 22:52:00 CET 2001</date>
    <body>Hi list- We're trying to load an XSL file into a dom4j Document with validation set to true.  We're getting the error below.  Can anyone tell me why or where to look?  (We really don't understand the error message.)  We're using Xerces 1.4.4, Xalan 2.2.0, dom4j 1.1.... -----Original Message----- From: Srinivas Maram [mailto:smaram@...] Sent: Tuesday, November 27, 2001 4:48 PM To: Hooker David Subject: Error Message when loading xsl into dom Importance: High Tue Nov 27 16:42:24 CST 2001: Loading ./data\oplets\cxml.xsl for SAXReader Tue Nov 27 16:42:24 CST 2001: com.a4networks.registry.Oplet$OpletLoadErrorHandler.error&amp;gt;&amp;gt;&amp;gt; Error parsing oplet: org.xml.sax.SAXParseException: General Schema Error: Grammar with uri: http://www.w3.org/1999/XSL/Transform , can not be found; schema namespace may be wrong:  Xerces supports schemas from the " http://www.w3.org/2001/XMLSchema " namespace or the instance document's namespace may not match the targetNamespace of the schema. -Srinivas</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] FW: Error Message when loading xsl into dom</header>
    <date>Wed Nov 28 08:04:00 CET 2001</date>
    <body>MessageThis looks like a Xerces issue. Though it would look like your = XSL document contains some XML Schema declarations. Maybe Xerces is = trying to validate the XSL against the schema declaration your XSL is = meant to output?=20 Do you really need to validate your XSL file? I don't think I've ever = seen an XSL document contain a DTD or schema to validate it before. James From: David Hooker=20 To: dom4j-user@... Sent: Tuesday, November 27, 2001 10:51 PM Subject: [dom4j-user] FW: Error Message when loading xsl into dom Hi list- We're trying to load an XSL file into a dom4j Document with validation = set to true.  We're getting the error below.  Can anyone tell me why or = where to look?  (We really don't understand the error message.)  We're = using Xerces 1.4.4, Xalan 2.2.0, dom4j 1.1.... -----Original Message----- From: Srinivas Maram [mailto:smaram@... Sent: Tuesday, November 27, 2001 4:48 PM To: Hooker David Subject: Error Message when loading xsl into dom Importance: High Tue Nov 27 16:42:24 CST 2001: Loading ./data\oplets\cxml.xsl for = SAXReader Tue Nov 27 16:42:24 CST 2001: = com.a4networks.registry.Oplet$OpletLoadErrorHandler.error&amp;gt;&amp;gt;&amp;gt; Error = parsing oplet: org.xml.sax.SAXParseException: General Schema Error: = Grammar with uri: http://www.w3.org/1999/XSL/Transform , can not be = found; schema namespace may be wrong:  Xerces supports schemas from the = " http://www.w3.org/2001/XMLSchema " namespace or the instance document's = namespace may not match the targetNamespace of the schema. =20 -Srinivas</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOMReader.read() ignores entities declared in the internal subset of the
 DOCTYPE</header>
    <date>Tue Nov 27 08:58:00 CET 2001</date>
    <body>I am using DOMReader.read() to generate a DOM4J tree from a W3C DOM tree. The W3C DOM tree contains an external entity declaration in the internal subset of its doctype. Something like this: The doctype of the resulting DOM4J tree looks like this: It seems like DOMReader.read() does not take into account the internal subset of the document type declaration. Are the entity declarations completely ignored, or does DOMReader try to resolve them? Luca -- DISCLAIMER: This e-mail contains proprietary information some or all of which may be legally privileged. It is for the intended recipient only. If an addressing or transmission error has misdirected this e-mail, please notify the author by replying to this e-mail. If you are not the intended recipient you must not use, disclose, distribute, copy, print, or rely on this e-mail.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] I have a strange issue with dom4j.</header>
    <date>Mon Nov 26 23:35:00 CET 2001</date>
    <body>Brain wrote: try this: No go.  Tried that. Brian wrote: Does you default J have a default/empty constructor that creates an empty Element object? No, but I have called setData() before calling getData().  setData does what have above, _e=e.detach().  Sorry about not including that. Jim Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Monday, November 26, 2001 5:35 PM Subject: [dom4j-user] I have a strange issue with dom4j. I don't even know how to explain it. Here's what works: Two documents, a and b: a.add(b.getRootElement().detach());  (leaving off casts for ease of explanation) Works. Hwoever, I have created a class: When called like this: It yells at me that the node already has a parent. So, I changed getData above to be: strangely, this works. However, now here's the weird part: In my code, I have a piece of code that allows you to modify what classes are used for "J".   I have a default J implementation, but someone can override (ala SAXParser System Property) J to be their implementation.  I use Class.forName() to load the custom J classes. If I load the default J class via a class.forName, it fails with the same ode has a Parent error, even though the same code works when loaded without Class.forName(). It is extremely strange, and I tried to boil down the test to something small.  However, it seems the classloader, the having it in a separate class, and the dynamic part is essential to the bug showing up. Anyone else seen this?  Am I missing something?  No concurrent threads in the program, so I have mostly ruled out threadsafety issues. Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, Individual ITS, Life Investors Insurance Company of America _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] I have a strange issue with dom4j.</header>
    <date>Tue Nov 27 08:37:00 CET 2001</date>
    <body>Hi Jim A node or Element either has a parent or it doesn't. You can call getParent() to find out what it is, to add some debugging tracing to your code if it helps. I can't see how ClassLoading can change this in any way so I'm pretty stumped on what this problem is. James Sent: Monday, November 26, 2001 11:34 PM Subject: RE: [dom4j-user] I have a strange issue with dom4j. without what http://www.equitytg.com . without https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] I have a strange issue with dom4j.</header>
    <date>Mon Nov 26 22:37:00 CET 2001</date>
    <body>I don't even know how to explain it. Here's what works: Two documents, a and b: a.add(b.getRootElement().detach());  (leaving off casts for ease of explanation) Works. Hwoever, I have created a class: When called like this: It yells at me that the node already has a parent. So, I changed getData above to be: strangely, this works. However, now here's the weird part: In my code, I have a piece of code that allows you to modify what classes are used for "J".   I have a default J implementation, but someone can override (ala SAXParser System Property) J to be their implementation.  I use Class.forName() to load the custom J classes. If I load the default J class via a class.forName, it fails with the same ode has a Parent error, even though the same code works when loaded without Class.forName(). It is extremely strange, and I tried to boil down the test to something small.  However, it seems the classloader, the having it in a separate class, and the dynamic part is essential to the bug showing up. Anyone else seen this?  Am I missing something?  No concurrent threads in the program, so I have mostly ruled out threadsafety issues. Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, Individual ITS, Life Investors Insurance Company of America</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] I have a strange issue with dom4j.</header>
    <date>Mon Nov 26 23:14:00 CET 2001</date>
    <body>Brain wrote: try this: Brian wrote: Does you default J have a default/empty constructor that creates an empty Element object? Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Monday, November 26, 2001 5:35 PM Subject: [dom4j-user] I have a strange issue with dom4j. I don't even know how to explain it. Here's what works: Two documents, a and b: a.add(b.getRootElement().detach());  (leaving off casts for ease of explanation) Works. Hwoever, I have created a class: When called like this: It yells at me that the node already has a parent. So, I changed getData above to be: strangely, this works. However, now here's the weird part: In my code, I have a piece of code that allows you to modify what classes are used for "J".   I have a default J implementation, but someone can override (ala SAXParser System Property) J to be their implementation.  I use Class.forName() to load the custom J classes. If I load the default J class via a class.forName, it fails with the same ode has a Parent error, even though the same code works when loaded without Class.forName(). It is extremely strange, and I tried to boil down the test to something small.  However, it seems the classloader, the having it in a separate class, and the dynamic part is essential to the bug showing up. Anyone else seen this?  Am I missing something?  No concurrent threads in the program, so I have mostly ruled out threadsafety issues. Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, Individual ITS, Life Investors Insurance Company of America _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j and standards compliant</header>
    <date>Mon Nov 26 17:41:00 CET 2001</date>
    <body>Luca brought up something that I've been meaning to bring up on the list but kept on forgetting about it.  He said: ...snip", especially since DOM4J claims to offer full support for the standards, such as W3C DOM." Does dom4j at its core really need to be w3c DOM compliant?  The w3c DOM is a good idea gone horribly wrong (I'm sure I can find support for this argument on the XML-DEV mailing list) and IMHO dom4j should not conform to (duplicate) the w3c DOM's mistakes.  Granted, I'm using hindsight to (gently) bash the w3c's DOM but that's the benefit of hindsight.  It allows you see what when wrong in the past and therefore take steps to prevent it from happening again in the present or future. I think for interoperability purposes having something in the util package to covert a dom4j DOM to a w3c DOM is a good idea (I think we have this already somewhere) but forcing the dom4j document model to reflect the w3c's is an accident waiting to happen. Just my 2 cents. Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j and standards compliant</header>
    <date>Mon Nov 26 17:50:00 CET 2001</date>
    <body>I totally agree with you Dane. Its not our intention for the dom4j API to be a w3c DOM compliant API, though we've carefully crafted the API so that a dom4j *implementation* could implement the w3c DOM API if required. So the org.dom4j.dom package represents an optional dom4j implementation that also implements the DOM API. (It should probably be put into a seperate dom4j-dom.jar to avoid making the dom4j.jar too big). Its a little ways off being w3c DOM compliant but a bit of work and it should be possible. So by default a dom4j model is not w3c DOM compliant, though an implementation could be if required. James Sent: Monday, November 26, 2001 5:50 PM Subject: [dom4j-user] dom4j and standards compliant but is allows w3c's http://www.equitytg.com . https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.dom4j.DocumentFragment ???</header>
    <date>Mon Nov 26 12:29:00 CET 2001</date>
    <body>Essentially yes, the DocumentFragment would just be a collection of Elements. But would it not be nice if it also extended Node or Branch, so that you could use it anywhere you can use a Node. I would like to be able to pass a DocumentFragment object to the write() method of XMLWriter, for example. Also, in my application I need to manipulate Document and DocumentFragment objects through a common interface, which could be Branch, for example. Luca a -- DISCLAIMER: This e-mail contains proprietary information some or all of which may be legally privileged. It is for the intended recipient only. If an addressing or transmission error has misdirected this e-mail, please notify the author by replying to this e-mail. If you are not the intended recipient you must not use, disclose, distribute, copy, print, or rely on this e-mail.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.dom4j.DocumentFragment ???</header>
    <date>Mon Nov 26 16:02:00 CET 2001</date>
    <body>a FWIW you can pass a List of Nodes into the write() method of XMLWriter. You could always use Object and test for either List or Node. Much of the Jaxen code does similar things. I'm just being devil's advocate here just trying to determine how useful a DocumentFragment would be. It could well be that a DocumentFragment interface and default implementation may make sense. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.dom4j.DocumentFragment ???</header>
    <date>Mon Nov 26 16:24:00 CET 2001</date>
    <body>James wrote: I disagree.  The org.dom4j.Branch interface behaves like a org.w3c.DocumentFragment with additional benefits (XPath).  As James has pointed out, the org.dom4j.io.XMLWriter class is more than happy to write-out a Branch, therefore all of Luca's requirements (as described in previous message) can be satisfied with the current dom4j release. Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Monday, November 26, 2001 10:59 AM Subject: Re: [dom4j-user] org.dom4j.DocumentFragment ??? a FWIW you can pass a List of Nodes into the write() method of XMLWriter. You could always use Object and test for either List or Node. Much of the Jaxen code does similar things. I'm just being devil's advocate here just trying to determine how useful a DocumentFragment would be. It could well be that a DocumentFragment interface and default implementation may make sense. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.dom4j.DocumentFragment ???</header>
    <date>Mon Nov 26 17:13:00 CET 2001</date>
    <body>James wrote: Nice! I missed that. James wrote: a Dane wrote: I agree that the DocumentFragment does not add any functionality. Exactly like in W3C DOM, this interface would be empty. But this does not mean it is useless. It represents something other that a Document or a Node. Also I think it would be a nice addition, especially since DOM4J claims to offer full support for the standards, such as W3C DOM. By the way, there is already some support for DocumentFragment in the DOM4J source code. Have a look at AbstractNode.NODE_TYPE_NAMES for example. Dane is right, what I need is a class that implements Branch. Unfortunately there is no createBranch() method in the DocumentFactory, and I did not find any org.dom4j.tree.DefaultBranch class. I would suggest adding the DocumentFragment interface to org.dom4j and implement it using a sub-class of org.dom4j.tree.AbstractBranch. I am trying this out for the moment. Will let you know if it is successfull. Luca -- DISCLAIMER: This e-mail contains proprietary information some or all of which may be legally privileged. It is for the intended recipient only. If an addressing or transmission error has misdirected this e-mail, please notify the author by replying to this e-mail. If you are not the intended recipient you must not use, disclose, distribute, copy, print, or rely on this e-mail.</body>
  </mail>
  <mail>
    <header>[dom4j-user] A little off topic, but maybe not:</header>
    <date>Wed Nov 21 15:56:00 CET 2001</date>
    <body>I am ready for SOAP for my stuff. Herein lies a problem: The XML I am working with is more document based than RPC based, but I need to send it in a RPC manner (request, reply).  What I wanted to do is: ... insert my XML here, with my namespace So, I checked out JAXM, since it uses dom4j, and I thought that was the focus of Dom4j. Problem, there is no API that says "Build SOAP body with the XML string."  I can add a text node, or a element node, and it looks like if I spit out my XML string as a DOM, I can include it, but I already have it as text. Anyone else have an idea?  Am I just missing an API that does what I need? If nothing surfaces, does someone have a SOAP implementation written with dom4j they'd be willing to share? Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, Individual ITS, Life Investors Insurance Company of America</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] A little off topic, but maybe not:</header>
    <date>Wed Nov 21 18:27:00 CET 2001</date>
    <body>Hey Jim need I Actually the JAXM reference implementation is a SOAP implementation written with dom4j that we can all share ;-) If you already have the SOAP request as text you can do something like this - using the JAXM API... Where the first line is using JAXP (javax.xml.transform.Source) to create the XML SOAP message source. The first line could be like this if you had access to the text of the soap request... Does that help? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] detach()</header>
    <date>Wed Nov 21 15:57:00 CET 2001</date>
    <body>Why is it when I use detach, I have to do: I though Element is a sub of Node. Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, Individual ITS, Life Investors Insurance Company of America</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] detach()</header>
    <date>Wed Nov 21 16:32:00 CET 2001</date>
    <body>Or this would work... It is. So on any Node you can call detach() and it returns the node thats just been detached. http://dom4j.org/apidocs/org/dom4j/Node.html#detach () So that The main reason this is useful is that you can use this method when moving nodes from one place to another. For example // move the root node from temp document to // the new destination James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] detach()</header>
    <date>Wed Nov 21 16:41:00 CET 2001</date>
    <body>On Wed, 21 Nov 2001, Brain, Jim wrote: Ummm... I've never had to cast an Element to Node before calling detach().  Detach() does yield a Node though, so if you expect an Element, you'll have to cast back to Element after the detach() call. Element detached = (Element) elem.detach() -bob</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] SAX vs DOM4J</header>
    <date>Tue Nov 13 18:04:00 CET 2001</date>
    <body>Well, here's what I did last night: I reorged the code, so the objects are not aware of XML at all. Ala Castor, I wrote a Marshaller.marshal() and Unmarshaller... objects. Inside those objects, I wrote the code to XMLize and De-XMLize the objects... in dom4j... My theory: I know dom4j, and I am interested in functionality at this point.  If I need to SAX later, I can simply rewrite the Marshall and unmarshal objects to be SAX.  The objects don't care.  Good for me getting finished. Also, the best way to do the SAX implementation is to build a stack and drop inner classes that override DefaultHandler (or some extension of it) to check for and handle the element (some of the element names at different levels conflict, so you need to know where you are in the XML file to make sure you set the right var.  By the time you create all these inner classes and such, the number of classes is getting somewhat close to the number of Element nodes in dom4j's representation of XML.  So, I'm not sure SAX is incredibly faster. There might be a way to flatten out the tree and use just one big Handler in SAX.  If so, speed will go up, but I tip my hat to James.  I'll implement first, since dom4j coding is piece of cake, and if speed is an issue, I've architected to rip out the scanner and replace with SAX later on. Currently, it is taking 100 ms to scan my object, which is pretty good for me.  If SAX can drop it to 30 or less, I'll look at it, otherwise, I doubt it matters.  Both are considerably faster than Castor, which took 29s to deserialize. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Tuesday, November 13, 2001 1:45 AM To:	Brain, Jim Cc:	dom4j-user@... Subject:	Re: [dom4j-user] SAX vs DOM4J I agree with Dane, its sounding like just using your own custom objects and SAX might be better. Maybe something like JAXB or Castor might help you do the binding of XML -&amp;gt; your beans. You could consider using Jaxen ( http://jaxen.org ) and writing your own custom Navigator to implement XPath on top of your custom beans. James To: "'Dane Foster'" &amp;lt;dfoster@...&amp;gt;; "Brain, Jim" Sent: Monday, November 12, 2001 9:01 PM Subject: RE: [dom4j-user] SAX vs DOM4J chunk setHoldingTypeCode(OLifE.parseInt(((Element)node).attributeValue("tc").trim( either seems of http://www.equitytg.com . I (for https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAX vs DOM4J</header>
    <date>Tue Nov 13 18:10:00 CET 2001</date>
    <body>Hi Jim I think thats a good XP style approach; give yourself an easy refactor point if in the future you want to try implementing it with SAX rather than dom4j. Get the job done first and focus on something else more important to your users, then come back and refactor if you need to. BTW I'm suprised Castor was so slow. Could it just be a really bad startup time (maybe code generating stuff etc.). James To: "'James Strachan'" &amp;lt;james_strachan@...&amp;gt;; "Brain, Jim" Sent: Tuesday, November 13, 2001 6:04 PM Subject: RE: [dom4j-user] SAX vs DOM4J need be drop classes in and http://jaxen.org ) and writing your own help. setHoldingTypeCode(OLifE.parseInt(((Element)node).attributeValue("tc").trim( up different rule http://www.equitytg.com . DOM4J? https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] SAX vs DOM4J</header>
    <date>Tue Nov 13 18:20:00 CET 2001</date>
    <body>Sorry to waste BW, but in fairness to Castor, I only timed the first unmarshall.  If I have time tonight, I'll dig out my code (I still have the test), run the test 4 or 5 times, and report the results. I was going to do that last night, since I noticed that my first run of my code takes 1.1s, but after that it takes 100 ms, but I know Castor won't work for me.  The default generation is way too complex for the XML I have (1500 classes), since the generator doesn't know the shortcuts in the XML. The main problem is my schema has a lot of: . . . Castor creates element-&amp;gt;Choice()-&amp;gt;etc(), where in my code, I just attach all the Choice items to element (element-&amp;gt;etc().)  I'm not sure the extra level of indirection is useful for anyone Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] SAX vs DOM4J</header>
    <date>Mon Nov 19 19:55:00 CET 2001</date>
    <body>Here's some more information, for the folks looking into object&amp;lt;-&amp;gt;XML. I reran my Castor test, and James, you were right.  The first invocation takes 29seconds, but after that 200ms. Currently, castor seems to have a problem with: If the tc attributed are separates lists of allowable numbers.  Castor wants all of them to be the same, as I see it. Tried JAXB, but the JXS mapping file I created chokes the jxc compiler. So, I finished writing my classes by hand.  Used dtdparser to grab all the entities, and spit out class files for them.  Also had it spit out XMLWriter and XMLREader classes that marshal and unmarshal using dom4j.  XML spit out 118 distinct classes. First unmarshal: 2.5 s for first load, 100-300 ms after. First marshal: 600ms first time, 20-100 ms after. So, dom4j looks pretty good from a performance point of view. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Tuesday, November 13, 2001 1:45 AM To:	Brain, Jim Cc:	dom4j-user@... Subject:	Re: [dom4j-user] SAX vs DOM4J I agree with Dane, its sounding like just using your own custom objects and SAX might be better. Maybe something like JAXB or Castor might help you do the binding of XML -&amp;gt; your beans. You could consider using Jaxen ( http://jaxen.org ) and writing your own custom Navigator to implement XPath on top of your custom beans. James To: "'Dane Foster'" &amp;lt;dfoster@...&amp;gt;; "Brain, Jim" Sent: Monday, November 12, 2001 9:01 PM Subject: RE: [dom4j-user] SAX vs DOM4J chunk setHoldingTypeCode(OLifE.parseInt(((Element)node).attributeValue("tc").trim( either seems of http://www.equitytg.com . I (for https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAX vs DOM4J</header>
    <date>Tue Nov 20 12:20:00 CET 2001</date>
    <body>Hi Jim. This section sounds very interesting... Are these Castor classes you're generating or dom4j classes? I've often wondered about code generating specific Element implementations for dom4j that are schema aware and so can store their attributes and child elements in a more efficient representation... out I'm not sure I understand this bit. Are you going from Castor classes to dom4j here? James Sent: Monday, November 19, 2001 7:54 PM Subject: RE: [dom4j-user] SAX vs DOM4J wants XMLWriter out and http://jaxen.org ) and writing your own help. setHoldingTypeCode(OLifE.parseInt(((Element)node).attributeValue("tc").trim( up different rule http://www.equitytg.com . DOM4J? https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAX vs DOM4J</header>
    <date>Tue Nov 20 19:31:00 CET 2001</date>
    <body>Jim's project idea sounds like a better way to bind Java objects to xml, and since it uses dom4j, it has to be more efficient.  I've been studying JAXB, and I'm not sure I like the approach they've taken. Jim:  will your work be generic enough to warrent inclusion in the dom4j package?? Rob</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] SAX vs DOM4J</header>
    <date>Wed Nov 21 15:22:00 CET 2001</date>
    <body>Well, I was able to swing it from one DTD to another in about 15 minutes. However, it did take a few code changes. I am sure it can be made generic without too much trouble.  I'll have to give it a bit of thought. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	Robert J. Lebowitz [mailto:lebowitz@...] Sent:	Tuesday, November 20, 2001 1:32 PM To:	dom4j-user@... Subject:	Re: [dom4j-user] SAX vs DOM4J Jim's project idea sounds like a better way to bind Java objects to xml, and since it uses dom4j, it has to be more efficient.  I've been studying JAXB, and I'm not sure I like the approach they've taken. Jim:  will your work be generic enough to warrent inclusion in the dom4j package?? Rob _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] SAX vs DOM4J</header>
    <date>Wed Nov 21 15:22:00 CET 2001</date>
    <body>At the very least, if the code (as is) is useful to anyone, I don't see a problem sending it, as long as people remember I write it "hack style", so if I was going to put my name on it and put it in CVS, I'd need to whip it into something I am not ashamed of. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	Robert J. Lebowitz [mailto:lebowitz@...] Sent:	Tuesday, November 20, 2001 1:32 PM To:	dom4j-user@... Subject:	Re: [dom4j-user] SAX vs DOM4J Jim's project idea sounds like a better way to bind Java objects to xml, and since it uses dom4j, it has to be more efficient.  I've been studying JAXB, and I'm not sure I like the approach they've taken. Jim:  will your work be generic enough to warrent inclusion in the dom4j package?? Rob _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] SAX vs DOM4J</header>
    <date>Wed Nov 21 15:22:00 CET 2001</date>
    <body>I am not using Castor, as it has a problem with attributes in different elements but with same name ("tc" in my case) having different allowable values. When I generate my code, I end up with classes that can be populated from XML via dom4j, no castor required.  Load up time for my classes is less than Castor, and like Castor (and unlike JASB), my objects are "pure", in that they have no knowledge of XML.  A separate class is used to marshal and unmarshal them. I successfully retargeted my code from building one DTD to another in a few minutes, so that saved a bunch of time.  Now at 154 classes generated. I don't want to knock Castor.  I think it'll do great when it gets to 1.0, but it's got some issues now, like only partial support for Collections (there was an email about it a few days ago in dev list, to use them you need a mapping file.)  Also, the tc problem noted above.  In any case, there are a few things in Castor I am not sure I like: * For performance reasons, I don't want to use introspection, but castor requires &amp;lt;Class&amp;gt;Description.java files for each file if you don't do introspection.  I like having all of that in one file, as my class number is getting big already, and Castor generated 350+ classes for me... * Load time.  Awful long at 29s * The handling of choice items in DTD or Schema.  IN Castor, if you have Element (a | b | c)..., it creates Element class with a single ArrayList named Choice.  I prefer having setters for a,b,c, and putting some more checking logic in the setters to replace the old set.  I see the logic in the Castor idea, but I'm not sold on it at this point. * I wanted to have some more control over how my beans were created.  The DTD I use can have some shortcuts (&amp;lt;element tc="5"&amp;gt;Descrioption of 5&amp;lt;/element&amp;gt;.  In this case, you can skip holding the description, since 5 can be looked up at any time.) I think the big items are load time, and number of classes...  Besides, I learned quite a bit about dom, dom4j, sax, and creating classes with this project, and it saved me typing over 60,000 lines of code.  I wish the DTD parser JAR I am using was a bit less restrictive on how to use it, but I managed to work around any issues. Now, that said, the dom4j code it spits out isn't grandiose.  Basically, I walk the tree of nodes, and creates classes, set fields, or throw exceptions as need be.  Pretty boring code, but it is fast (100ms for huge XML after initial load of classes) and easy to understand. As for your idea, if someone can springboard from my code to an even better idea, or pitch a concrete idea to me, I'll try to spit out the code, but I am a XML neophyte at this point.  Namespaces scare me.... And yes, I am sold on dom4j.  I have switched all my developers over to it, as it is much cleaner code than DOM, and XPath is a great addition. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Tuesday, November 20, 2001 6:18 AM To:	Brain, Jim Cc:	dom4j-user@... Subject:	Re: [dom4j-user] SAX vs DOM4J Hi Jim. This section sounds very interesting... Are these Castor classes you're generating or dom4j classes? I've often wondered about code generating specific Element implementations for dom4j that are schema aware and so can store their attributes and child elements in a more efficient representation... out I'm not sure I understand this bit. Are you going from Castor classes to dom4j here? James Sent: Monday, November 19, 2001 7:54 PM Subject: RE: [dom4j-user] SAX vs DOM4J wants XMLWriter out and http://jaxen.org ) and writing your own help. setHoldingTypeCode(OLifE.parseInt(((Element)node).attributeValue("tc").trim( up different rule http://www.equitytg.com . DOM4J? https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] How org.dom4j.bean.BeanElement works....???</header>
    <date>Mon Nov 19 09:23:00 CET 2001</date>
    <body>Hi Folks, I'm trying to reproduce how the BeanElement class works. Consider I have a a instanced JavaBean and want to marshall it using dom4j's inbuild Bean Support. If I use BeanElement#setData( Object o )  all the internal attribute list Why? It seems the API is not bidirectornal, isn't it? If that is true I have to marshall it handy using JavaBeans Introspection. Unmarshalling seems to work fine. Any comments? Bye Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How org.dom4j.bean.BeanElement works....???</header>
    <date>Mon Nov 19 14:31:00 CET 2001</date>
    <body>BeanElement allows a JavaBean to be used as the container of the attributes of an XML element. So the attribute-related methods will get and set the attribute values from the bean. If (say) a particular bean class name were bound to a QName then the BeanDocumentFactory could be used to implement a similar feature as Digester in the Jakarta Commons project. dom4j's Its an implementation detail. It means that the attribute list will get lazily created again next time someone asks for an attribute. I've added a comment to the code for future reference. Certainly a BeanElement can be output as XML text or piped into a DOM or SAX or XSLT. Also a parser can create BeanElement - so I guess you could call it bidirectional. Though its not really intended to be a general purpose XML to be used together. Maybe something like JAXB might be more appropriate for your requirements? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Aelfred parser- validating?</header>
    <date>Mon Nov 19 17:00:00 CET 2001</date>
    <body>Does the endogenous XML parser that comes with dom4j handle DTD or Schema validation? Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Aelfred parser- validating?</header>
    <date>Mon Nov 19 17:23:00 CET 2001</date>
    <body>No. Validation is best handled by a parser like Xerces. Right now Xerces is the only parser capable of validating XML Schema I think *. To use Xerces just add xerces.jar to your classpath; modern versions of xerces come with JAXP 1.1 which dom4j uses to find a SAX parser if its on the classpath. You can use a similar mechanism with crimson.jar if you wish, though crimson doesn't support XML Schema (*) Sun's MSV library can also validate DTDs, XML Schema, Relax NG or Relax or Trex via SAX though its not integated into any parsers yet. James Sent: Monday, November 19, 2001 5:00 PM Subject: [dom4j-user] Aelfred parser- validating? https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] you can now use a Map to specify namespace URIs in XPath</header>
    <date>Fri Nov 16 16:45:00 CET 2001</date>
    <body>I've added a helper method to the XPath interface allowing the mapping of prefixes to namespace URIs to be specified for an XPath query. This feature is in CVS and in the daily build; it will be available in a full release soon. Here's an example of it in action... // make the map of prefixes to namespace URIs uris.put( "SOAP-ENV", " http://schemas.xmlsoap.org/soap/envelope/ // create a namespace aware xpath XPath xpath = document.createXPath( James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] getInputStream method?</header>
    <date>Sun Nov 18 02:50:00 CET 2001</date>
    <body>I've scanned the dom4j documentation for an answer to this question, perhaps the easiest way to find an answer is to simply ask. I was quite pleased to see that the new JAXM implementation is based on dom4j.  I'm currently looking at working on a project where I would make use of both JAXM and JAXB (binding) to send and receive instances of class objects via HTTP.   I realize that although all my work is done with Java, and RMI is certainly a possibility, I'm interested in experimenting with SOAP, and JAXB as a self-learning process. My idea is to have software that uses JAXM to send and receive SOAP messages, extract the message body, and "unmarshall" the xml using JAXB to convert it back into an instance of  Java class. JAXB's unmarshalling methods require an InputStream (or XMLScanner, whatever that is) to work.  So, I need to come up with a way to create an InputStream from the SOAP message body document.  I was looking around for some kind of "obvious" method associated with the SOAPElement, SOAPNode, etc.  classes that allow you to "get" an InputStream from say, the root node, but I didn't see one. What would be the most efficient way to pull this off in dom4j (and therefore, I assume JAXM)? Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] getInputStream method?</header>
    <date>Sun Nov 18 02:58:00 CET 2001</date>
    <body>I did think about the possibility of generating an OutputStream using XMLWriter and then using a "pipe" to convert it to an InputStream for use by JAXB.... I suppose this will work, but I was interested to see if there was another approach that I'm not seeing in the API. Rob Sent: Saturday, November 17, 2001 8:50 PM Subject: [dom4j-user] getInputStream method? perhaps use whatever InputStream of didn't https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] getInputStream method?</header>
    <date>Mon Nov 19 10:58:00 CET 2001</date>
    <body>Hi Robert perhaps use whatever InputStream of didn't I missed it too; I think it needs to be part of a JAXM FAQ as its easy to miss. Firstly its good to remember that in JAXM, SOAPMessage represents a container of the XML SOAP document and possibly additional attachments. So its kinda like the MIME container. Whenever looking for how to interact with the SOAP XML document, look at the SOAPPart class in JAXM which represents the XML document - from there you can get hold of the SOAPEnvelope. In addition you can get and set the XML content of the document using a JAXP Source. The getContent() returns a JAXP Source (from javax.xml.transform.Source) so you should be able to use this to pipe the XML into any other JAXP compliant model or mechansim. JAXM uses dom4j as the SOAP XML model for SOAPEnvelope, SOAPHeader etc. If you want to go straight from the incoming SOAP message stream straight to JAXB as fast as possible then you're probably best off avoiding the JAXM SOAP API (SOAPEnvelope, SOAPHeader etc) and just using the JAXP Source to go straight through to JAXB. So just using the SOAPMessage &amp;amp; SOAPPart classes. Otherwise you'll be going through an intermediate XML representation. BTW while we're talking about JAXM here, the new JAX-Pack is out now http://java.sun.com/xml/javaxmlpack.html James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Help with XPath expression</header>
    <date>Fri Nov 16 13:54:00 CET 2001</date>
    <body>Hi David Sorry for the slow response; I've been a little swamped lately. FWIW in your original example, the following XPath will work fine... /*/oi:thing-info/@triggering-document-expression I've added your test case to dom4j/xml/test/DavidHooker.xml and added some valid XPath expressions to the XPath tester at dom4j/xml/test/xpath/tests.xml. Generally the reason for your problem is that default namespaces don't work nicely in XPath. If you had a document like this Then the XPath expression /doc will not match anything! This might seem kinda strange at first but its because the name comparison uses namespace URIs. Incidentally if you change your document to use a prefix... Then you can use the XPath expression /d:doc in dom4j. If you don't specify a NamespaceContext, dom4j will use the default namespaces in scope on the node on which you perform the query, which for a document will be the root element. For example I modified your example slightly to use the element... xmlns:atomic=" http://www.a4networks.com/schemas/atomic-thing " And then the following XPath expressions all work fine... /atomic:thing/oi:thing-info/@triggering-document-expression //@triggering-document-expression James Sent: Tuesday, November 06, 2001 8:51 PM Subject: [dom4j-user] Help with XPath expression http://www.a4networks.com/schemas/atomic-thing " http://www.a4networks.com/schemas/thing-info " http://www.w3.org/2001/XMLSchema-instance " http://www.a4networks.com/schemas/atomic-opl https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] suggestion for numberValueOf()</header>
    <date>Thu Nov 15 16:21:00 CET 2001</date>
    <body>Hi, it would be nice if the method numberValueOf() defined with Element, would allow a default value if the specified xpath doesn't return null result, e.g. numberValueOf(xpath, defaultval). (This is similar to the attributeValue() method). Also, it would be nice if there were a numberAttributeValue() method which converts the attribute value to an integer (with a default value if the attribute does not exist). Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] suggestion for numberValueOf()</header>
    <date>Fri Nov 16 10:52:00 CET 2001</date>
    <body>Hi Silvain My only fear would be API bloat as you could make the same argument about the valueOf() method, the selectObject(), selectSingleNode() and selectNodes(). Even the attribute() and element() methods too. I'm wondering about solving this problem in a slightly different way, by providing an XPath extension function. e.g. imagine if there was a default() function which took two arguments default($foo, 1234) The function would return the first value, unless it was null or an empty list otherwise the second value was returned. Then we could use this same simple mechanism across elements, attributes, text nodes or string and number expressions. e.g. default(@foo, 'N/A') Would return the @foo attribute or if its undefined then return "N/A". This extension function could also be used across other object models in Jaxen, like SAX (maybe one day! ;-). So in use in dom4j it'd look like this... Actually thinking more about this we might be able to just use the XPath union operator for this. e.g. Since if the first XPath expression doesn't return anything the second one will be used. This is nice as it can be arbitrarily long such as /foo/@x | /foo/@y | /foo/@z | 'no coordinates at all' The use of '|' does seem pretty compelling now, as it can be used right throughout the dom4j API which uses XPath... James Sent: Thursday, November 15, 2001 4:21 PM Subject: [dom4j-user] suggestion for numberValueOf() https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] suggestion for numberValueOf()</header>
    <date>Fri Nov 16 11:42:00 CET 2001</date>
    <body>James, James, That would be a nice alternative solution! Would even be better than my suggestion. Except for my request for an numericAttributeValue() method, which isn't covered by your solution. I understand that you have to make choices when designing the API. My request for numericAttributeValue() was triggered by the fact that the method numericValueOf already exists, so a wouldn't be too different from the rest. But what if the first XPath expression does return a value, will the end result not contain both values (instead of only the first)? Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] suggestion for numberValueOf()</header>
    <date>Fri Nov 16 11:54:00 CET 2001</date>
    <body>Though you could use Or to specify a default if the attribute is not specified you could do... So you get an easy way to extract numerical attributes and you can specify a default as well! one No, it will just return the number/string/node for the first expression. Incidentally I added some test cases to the XPath test harness at dom4j/xml/test/xpath/tests.xml to prove to myself this all works fine. The reason is that the valueOf(), numberValueOf() and selectSingleNode() methods all find the first node and use that. So the | union operator works fine in this situation when finding Strings, numbers or the first node in a selection. If the first expression finds one or more nodes, the first one will be used, otherwise the second expression will be used and so on. So.... would only return the 'a' attribute, or 'b', or 'c' or 'none' etc. However it would not work when using this code... since the selectNodes() always returns the whole XPath result set and so would union together both result sets. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] suggestion for numberValueOf()</header>
    <date>Fri Nov 16 12:06:00 CET 2001</date>
    <body>James, a There is also the aspect of performance: is there a significant performance difference between using attributeValue("attr") and valueOf("@attr")? It assume there is, which is why I asked for the numberAttributeValue(). If there is no performance difference, then your suggestion works fine for me. Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Opps.. I send the wrong file</header>
    <date>Wed Nov 14 16:34:00 CET 2001</date>
    <body>Hi James, Thank you pointing out the last line on my code. I have not put in the complete text file. The file is well formed. While opening it in text file I find the next line isn't printed. Hope I am able to explain the problem. thanks and regards http://explorer.msn.com/intl.asp http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________________ Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Opps.. I send the wrong file</header>
    <date>Wed Nov 14 18:17:00 CET 2001</date>
    <body>This issue may well be a line endings issue - that the text editor being used cannot handle the standard XML line endings of "\n". If you want to explicitly use more windows-editor-friendly line endings of say "\r\n" then you can modify your code as follows:- ... James Sent: Wednesday, November 14, 2001 4:34 PM Subject: Re: [dom4j-user] Opps.. I send the wrong file text http://explorer.msn.com/intl.asp http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user http://explorer.msn.com/intl.asp https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] printing</header>
    <date>Wed Nov 14 15:46:00 CET 2001</date>
    <body>Hi james, Here attached a sample of the file opened in notepad. Again, it displays pretty well on the IE. Any suggestion are most welcome. shajy _________________________________________________________________ Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] printing</header>
    <date>Wed Nov 14 16:09:00 CET 2001</date>
    <body>The attached text file didn't look badly formatted - did you attach the wrong text file? James Sent: Wednesday, November 14, 2001 3:45 PM Subject: [dom4j-user] printing http://explorer.msn.com/intl.asp _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Opps.. I send the wrong file</header>
    <date>Wed Nov 14 15:53:00 CET 2001</date>
    <body>I am sorry folks, I send u the wrong file. here is the correct one. _________________________________________________________________ Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Opps.. I send the wrong file</header>
    <date>Wed Nov 14 16:08:00 CET 2001</date>
    <body>Actually it looks properly indented to me - I think its just got some text missing from the end. I'm wondering if adding the extra last line below helps at all... // does this next line help? James Sent: Wednesday, November 14, 2001 3:53 PM Subject: [dom4j-user] Opps.. I send the wrong file http://explorer.msn.com/intl.asp _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j Newbie - Help getting started</header>
    <date>Wed Nov 14 15:18:00 CET 2001</date>
    <body>I'm in the process of simultaneously developing my Java and XML skills, and have settled on dom4j as a good place to get started.  After playing with Forte, VAJ, and JBuilder, I've settled on JBuilder as the the best compromise for me in terms of using an IDE (Forte dropped due to strange windowing behavior on Win 98, and VAJ dropped because the repository paradigm was just too complicated for what I wanted to do). Now I have a small test case from the dom4j quickstart in JBuilder 5 and it compiles fine.  When I try to run it, I get the following: Warning: Error occurred using JAXP to load a SAXParser. Will use Aelfred instead Doc Exception -- unknown protocol: e Nested exception: unknown protocol: e I've seen the reference to defining org.dom4j.verbose as True to get further details, but I'm not sure how to set that in JBuilder.  Any ideas? The "Doc Exception" is a message I inserted before printing the exception's message which follows as "unknown protocol..."  Can anyone point me in the right direction to resolve this one? My import statements are: The code that is causing the problem is: public void parseXMLintoDoc(String strFile) throws DocumentException docRecipes = xmlReader.read(strFile);  //Exception from this line where strFile = "E:\My Documents\java\jbRecipe\recipe1.xml" Hope this is enough to go on. Thanks. Ray.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j Newbie - Help getting started</header>
    <date>Wed Nov 14 15:34:00 CET 2001</date>
    <body>Hi Ray First of all it looks like JBuilder has put an old version of JAXP on the classpath (probably JAXP 1.0) which is why dom4j can't use it to get hold of a SAX parser. So its reporting that it cannot use JAXP and is trying to use the embedded Aelfred parser instead. Unfortunately the Aelfred parser expects all strings to be in URL format, so its treating "E:/" as a protocol "e". Either using a recent crimson or xerces jar which come with JAXP 1.1 or changing your string to be file:///e:/ ... should fix it James Sent: Wednesday, November 14, 2001 3:19 PM Subject: [dom4j-user] dom4j Newbie - Help getting started and it further exception's https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Unable to get a properly indented print</header>
    <date>Wed Nov 14 14:42:00 CET 2001</date>
    <body>Hello everyone, I am a new user to dom4j. I found it pretty good and easy to use. However I have a problem in terms of getting a properlu indented print. I am able to read it in IE but when try to open it in notepad, the output doesn't look properly spaced and indented. this is the code I use to print: any suggestions? thanks and regards shajy mathew _________________________________________________________________ Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Unable to get a properly indented print</header>
    <date>Wed Nov 14 14:57:00 CET 2001</date>
    <body>Hi Shajy Could you post an example to the list so we can see how its not properly indented? James Sent: Wednesday, November 14, 2001 2:42 PM Subject: [dom4j-user] Unable to get a properly indented print I http://explorer.msn.com/intl.asp https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] compressed XML ???</header>
    <date>Tue Nov 13 13:35:00 CET 2001</date>
    <body>On Tue, 13 Nov 2001, Silvain Piree wrote: Can ya pipeline java.util.zip.InflaterInputStream on reads and java.util.zip.DeflaterOutputStream on writes? I think this is orthogonol to dom4j. -bob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] compressed XML ???</header>
    <date>Tue Nov 13 16:17:00 CET 2001</date>
    <body>I agree. Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Tuesday, November 13, 2001 8:36 AM Subject: Re: [dom4j-user] compressed XML ??? On Tue, 13 Nov 2001, Silvain Piree wrote: Can ya pipeline java.util.zip.InflaterInputStream on reads and java.util.zip.DeflaterOutputStream on writes? I think this is orthogonol to dom4j. -bob _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] compressed XML ???</header>
    <date>Tue Nov 13 16:23:00 CET 2001</date>
    <body>James wrote: What about ASN.1/PER instead?  I have nothing against XMLS but ASN.1/PER is a proven and sound technology albeit more complex. Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Tuesday, November 13, 2001 5:50 AM Subject: Re: [dom4j-user] compressed XML ??? You could use GZIP if sending them over a network connection, or XMLS might be useful, its a binary encoding for XML which works with SAX &amp;amp; dom4j and is faster than parsing direct text with SAX... http://www.sosnoski.com/opensrc/xmls/index.html Though it focusses more on parsing performance than on absolute size of the file. Its on our list to integrate XMLS as the standard serialization mechansim with dom4j. James Sent: Tuesday, November 13, 2001 10:12 AM Subject: [dom4j-user] compressed XML ??? https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] compressed XML ???</header>
    <date>Tue Nov 13 16:26:00 CET 2001</date>
    <body>Bob, I didn't realise it could be so simple! Thanks for the advise. Silvain</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] SAX vs DOM4J</header>
    <date>Mon Nov 12 21:13:00 CET 2001</date>
    <body>Well, here is what my code is doing: * I have to parse the entire document, so I know lazy parsing won't help. * I am simply trying to get the document into a set of custom objects I wrote (&amp;lt;app&amp;gt;&amp;lt;book&amp;gt;&amp;lt;chapter&amp;gt;... int App().Book().Chapter();) * I like the Dom4J way at present, but all of my classes have this big chunk of code in them: setHoldingTypeCode(OLifE.parseInt(((Element)node).attributeValue("tc").trim( . . . Where the loop is the same, but the names differ.  I was trying to come up with HashMap type interface, but each element requires something different be done.  Some require there be 1 element, some are 0+, some are simple sets, and some are objects that need to be created. I thought about: or something to that effect.  Where JimAction is a container that can either call a setter, call an Add with the element as the And then JimAction would be the item that handles the chore, but that seems like a lot of JimActions for the code, and would tend to slow it down, I think. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	Dane Foster [mailto:dfoster@...] Sent:	Monday, November 12, 2001 2:57 PM To:	Brain, Jim Cc:	dom4j-user@... Subject:	Re: [dom4j-user] SAX vs DOM4J That totaly depends on what your code is doing.  Here is my personal rule of thumb.  If I don't need random access to the XML or if memory use is prohibitive use SAX, for everything else use dom4j. Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Monday, November 12, 2001 3:32 PM Subject: [dom4j-user] SAX vs DOM4J Has anyone done any benchmarking of SAX (Xerces or Aelfred) versus DOM4J?  I know DOM is slower, but I like the ease of DOM4J.  Is rewriting my code (for performance) into SAX going to save me all that much? Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, Individual ITS, Life Investors Insurance Company of America _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAX vs DOM4J</header>
    <date>Tue Nov 13 07:47:00 CET 2001</date>
    <body>I agree with Dane, its sounding like just using your own custom objects and SAX might be better. Maybe something like JAXB or Castor might help you do the binding of XML -&amp;gt; your beans. You could consider using Jaxen ( http://jaxen.org ) and writing your own custom Navigator to implement XPath on top of your custom beans. James To: "'Dane Foster'" &amp;lt;dfoster@...&amp;gt;; "Brain, Jim" Sent: Monday, November 12, 2001 9:01 PM Subject: RE: [dom4j-user] SAX vs DOM4J chunk setHoldingTypeCode(OLifE.parseInt(((Element)node).attributeValue("tc").trim( either seems of http://www.equitytg.com . I (for https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] compressed XML ???</header>
    <date>Tue Nov 13 10:12:00 CET 2001</date>
    <body>Hi, does anyone know of a SAX XML reader/writer that can read/write compressed XML files? Does something like that exist? I an looking for a solution where compressed XML files can be transparantly integrated with DOM4J. Our XML files are becoming rather large .... Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] compressed XML ???</header>
    <date>Tue Nov 13 10:53:00 CET 2001</date>
    <body>You could use GZIP if sending them over a network connection, or XMLS might be useful, its a binary encoding for XML which works with SAX &amp;amp; dom4j and is faster than parsing direct text with SAX... http://www.sosnoski.com/opensrc/xmls/index.html Though it focusses more on parsing performance than on absolute size of the file. Its on our list to integrate XMLS as the standard serialization mechansim with dom4j. James Sent: Tuesday, November 13, 2001 10:12 AM Subject: [dom4j-user] compressed XML ??? https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] compressed XML ???</header>
    <date>Tue Nov 13 12:18:00 CET 2001</date>
    <body>James, the This was not exactly what I was looking for, but sounds very interesting! I had never heard of XMLS, but if it really offers reading/writing 2x faster and XML 2x smaller then it could work for me! Anyone else got some suggestions for compressed XML solutions? Silvain</body>
  </mail>
  <mail>
    <header>[dom4j-user] what is org.dom4j.rule?</header>
    <date>Tue Nov 13 10:27:00 CET 2001</date>
    <body>Hi, while browsing through the DOM4J sources I encountered the package "org.dom4j.rule". According to the documentation this is a "a Pattern based XML rule engine which implements the full XSLT processing model while allowing any Action to be fired if a pattern matches.". That sounds interesting! Does it work? Is there any documentation how to use this package? Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] what is org.dom4j.rule?</header>
    <date>Tue Nov 13 11:22:00 CET 2001</date>
    <body>Hi Silvain Of course!  :-) Unfortunately there's not much right now. Probably the best bet is to look around the test cases at dom4j/src/test/org/dom4j/rule/ e.g. TestStylesheet.java demonstrates how to create a 'stylesheet' of Rules. A Rule has a Pattern and an Action. The Action can be anything at all, the Pattern is an XSLT-style pattern to match some node or nodes. So its a kind of XSLT engine which allows pluggable actions of any kind. Here's some example pseudo code... // do something! // apply any child templates ... James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] what is org.dom4j.rule?</header>
    <date>Tue Nov 13 12:22:00 CET 2001</date>
    <body>&amp;gt; So its a kind of XSLT engine which allows pluggable actions of any kind. Wow, declarative XML transformations in Java! Silvain ps. I couldn't find any mention of this feature on the website.....</body>
  </mail>
  <mail>
    <header>Fw: [dom4j-user] SAX vs DOM4J</header>
    <date>Mon Nov 12 21:29:00 CET 2001</date>
    <body>The _key word_ in your post was custom objects.  That signals to me you should use SAX because you will only be maintain one set of objects for what's in the XML.  If you use dom you will have the dom objects plus your custom objects created from the dom objects.  You can avoid a level of indirection by building your custom objects directly from SAX.  The benefits are increased speed and reduced memory consumption (2 of my favorites). Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 To: "'Dane Foster'" &amp;lt;dfoster@...&amp;gt;; "Brain, Jim" Sent: Monday, November 12, 2001 4:01 PM Subject: RE: [dom4j-user] SAX vs DOM4J Well, here is what my code is doing: * I have to parse the entire document, so I know lazy parsing won't help. * I am simply trying to get the document into a set of custom objects I wrote (&amp;lt;app&amp;gt;&amp;lt;book&amp;gt;&amp;lt;chapter&amp;gt;... int App().Book().Chapter();) * I like the Dom4J way at present, but all of my classes have this big chunk of code in them: setHoldingTypeCode(OLifE.parseInt(((Element)node).attributeValue("tc").trim( . . . Where the loop is the same, but the names differ.  I was trying to come up with HashMap type interface, but each element requires something different be done.  Some require there be 1 element, some are 0+, some are simple sets, and some are objects that need to be created. I thought about: or something to that effect.  Where JimAction is a container that can either call a setter, call an Add with the element as the And then JimAction would be the item that handles the chore, but that seems like a lot of JimActions for the code, and would tend to slow it down, I think. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: Dane Foster [mailto:dfoster@...] Sent: Monday, November 12, 2001 2:57 PM To: Brain, Jim Cc: dom4j-user@... Subject: Re: [dom4j-user] SAX vs DOM4J That totaly depends on what your code is doing.  Here is my personal rule of thumb.  If I don't need random access to the XML or if memory use is prohibitive use SAX, for everything else use dom4j. Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Monday, November 12, 2001 3:32 PM Subject: [dom4j-user] SAX vs DOM4J Has anyone done any benchmarking of SAX (Xerces or Aelfred) versus DOM4J?  I know DOM is slower, but I like the ease of DOM4J.  Is rewriting my code (for performance) into SAX going to save me all that much? Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, Individual ITS, Life Investors Insurance Company of America _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Issue with dom4j 1.1</header>
    <date>Mon Nov 12 17:05:00 CET 2001</date>
    <body>Sure will.  There is a chance it was something else I cleared up, but I will try it tonight. I forgot about casting to Element and using the API.  Good call. On the XPath, I thought that:  //server was the same as server in XPath, ie. The // are not needed if they are at the beginning of a query. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Sunday, November 11, 2001 3:07 AM To:	Brain, Jim; DOM4J Mailing List (E-mail) Subject:	Re: [dom4j-user] Issue with dom4j 1.1 Hi Jim I've added your test case to CVS. The xml document is in xml/test/jimBrain.xml and I've added a JUnit test case to demonstrate what I think you're trying to do at dom4j/src/test/org/dom4j/xpath/TestSelectSingleNode.java From my testing it appears that dom4j 1.1 is working correctly for selectSingleNode using your XML document. Is there a chance you're doing something else differently? BTW you can find an Element and add a comment to it. e.g. Element server = (Element) document.selectSingleNode( For example, could you modify the test case to try reproduce your problem? The test case is available in the daily build as well as via CVS... James Sent: Friday, November 09, 2001 10:58 PM Subject: [dom4j-user] Issue with dom4j 1.1 http://www.digitalsymbiosis.net&amp;lt;/URL http://www.digitalsymbiosis.net&amp;lt;/URL that what properties/server https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>use of // (was Re: [dom4j-user] Issue with dom4j 1.1)</header>
    <date>Mon Nov 12 21:10:00 CET 2001</date>
    <body>[snip] ie. Yes, sort of. Putting on my pedant hat for a second... Searching for "foo" would find all immediate children of the current node, searching for "//foo" would recursively search the entire XML document, whatever the node was that the expression was evaluated, since any expression that starts with a "/" will start evaluation from the nodes' document.. If you want to just recursively recurse the children of the current node you can do either James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAX vs DOM4J</header>
    <date>Mon Nov 12 20:32:00 CET 2001</date>
    <body>Has anyone done any benchmarking of SAX (Xerces or Aelfred) versus DOM4J?  I know DOM is slower, but I like the ease of DOM4J.  Is rewriting my code (for performance) into SAX going to save me all that much? Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, Individual ITS, Life Investors Insurance Company of America</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAX vs DOM4J</header>
    <date>Mon Nov 12 20:46:00 CET 2001</date>
    <body>Generally any object model (DOM, dom4j, JAXB etc.) is going to be slower than SAX in general, since SAX doesn't create an object model, it just passes through XML events. Most object models, including dom4j, are generally built on top of SAX, so its hard to be faster than SAX. There's an interesting performance paper here:- http://www-106.ibm.com/developerworks/xml/library/x-injava/index.html We'll hopefully have support for lazy parsing using XPP soon which would mean that depending on how much of the document you look at, there could be times where dom4j is actually faster than SAX. I'd always recommend people actually benchmark their code and analyse which part of their application actually needs to be tuned first before diving in and trying to optimise things because they think they should. While we're on the subject of optimisation, here's a few classic quotes I dug up (ain't the web great ;-)... "We should forget about small efficiencies, say about 97% of the time: premature optimisation is the root of all evil." Donald Knuth Rules of Optimisation: Rule 1: Don't do it. Rule 2 (for experts only): Don't do it yet. M.A. Jackson James Sent: Monday, November 12, 2001 8:32 PM Subject: [dom4j-user] SAX vs DOM4J I (for https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAX vs DOM4J</header>
    <date>Mon Nov 12 20:48:00 CET 2001</date>
    <body>That totaly depends on what your code is doing.  Here is my personal rule of thumb.  If I don't need random access to the XML or if memory use is prohibitive use SAX, for everything else use dom4j. Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Monday, November 12, 2001 3:32 PM Subject: [dom4j-user] SAX vs DOM4J Has anyone done any benchmarking of SAX (Xerces or Aelfred) versus DOM4J?  I know DOM is slower, but I like the ease of DOM4J.  Is rewriting my code (for performance) into SAX going to save me all that much? Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, Individual ITS, Life Investors Insurance Company of America _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Any Tips on using dom4j in VAJ 4.0?</header>
    <date>Mon Nov 12 13:59:00 CET 2001</date>
    <body>I've just started using VAJ and am relatively new to Java (although not new to programming).  I've added the dom4j-full jar to my VAJ project via an import, but when I look at the "Problems" tab I have approximately 18 problems spread across various dom4j packages.  Does anyone have any ideas or tips on how to get those resolved?  and/or how well you can use dom4j in the VAJ environment. Also, any tutorials on VAJ would be appreciated as well. Thanks. Ray.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Any Tips on using dom4j in VAJ 4.0?</header>
    <date>Mon Nov 12 15:31:00 CET 2001</date>
    <body>Do you have any examples of the problems? Could it be a clash with other code you've already imported into your repository? e.g. have you imported any SAX 1.0 code or DOM 1 code? Or it might be that some of the optional code in the dom4j library is dependent on other libraries. e.g. there is code in the org.dom4j.datatype package which depends on the MSV library and there is a class called org.dom4j.io.PullParserReader which depends on the XPP pull parser. So maybe VAJ is just doing its due diligence and looking for missing dependencies? James Sent: Monday, November 12, 2001 2:00 PM Subject: [dom4j-user] Any Tips on using dom4j in VAJ 4.0? new in https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Any Tips on using dom4j in VAJ 4.0?</header>
    <date>Mon Nov 12 15:37:00 CET 2001</date>
    <body>VAJ is notorious for library clashes.  I'm also on the Xerces list and questions like this used to pop up all the time.  You might want to check out the VAJ site at IBM to ensure you are following all the procedures for including libraries. Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Monday, November 12, 2001 10:28 AM Subject: Re: [dom4j-user] Any Tips on using dom4j in VAJ 4.0? Do you have any examples of the problems? Could it be a clash with other code you've already imported into your repository? e.g. have you imported any SAX 1.0 code or DOM 1 code? Or it might be that some of the optional code in the dom4j library is dependent on other libraries. e.g. there is code in the org.dom4j.datatype package which depends on the MSV library and there is a class called org.dom4j.io.PullParserReader which depends on the XPP pull parser. So maybe VAJ is just doing its due diligence and looking for missing dependencies? James Sent: Monday, November 12, 2001 2:00 PM Subject: [dom4j-user] Any Tips on using dom4j in VAJ 4.0? new in https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to get line/column info for elements,attribs,...?</header>
    <date>Thu Nov 08 20:52:00 CET 2001</date>
    <body>Is there any way I can get locator info (source, line, column) for dom4j elements, attributes and text? There is a Locator interface that is available for the SAX parser, but is it possible to map that to the dom4j object model? Thank you. Marko. .</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to get line/column info for elements,attribs,...?</header>
    <date>Sun Nov 11 09:37:00 CET 2001</date>
    <body>How to get line/column info for elements,attribs,...?Hi Marko There isn't currently a way to get the line &amp;amp; column information for = dom4j elements. I've added it to the developer to do list so if anyone = fancies having a go at implementing it that would be cool. Probably just = associating the line &amp;amp; column number with the Element would do for many = use cases. BTW the source of an Element is often available via the documents name. James From: Marko Milicevic=20 To: 'dom4j-user@... Sent: Thursday, November 08, 2001 8:51 PM Subject: [dom4j-user] How to get line/column info for = elements,attribs,...? Is there any way I can get locator info (source, line, column) for = dom4j elements, attributes and text?=20 There is a Locator interface that is available for the SAX parser, but = is it possible to map that to the dom4j object model? Thank you.=20 Marko.=20 .=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Issue with dom4j 1.1</header>
    <date>Fri Nov 09 22:59:00 CET 2001</date>
    <body>A couple actually: I had some XML like this: http://www.digitalsymbiosis.net&amp;lt;/URL http://www.digitalsymbiosis.net&amp;lt;/URL This is a test. This should be the server/db property... Sure. When I grab the Document and do selectSingleNode("/properties/client/threadsafe");  I get an exception that the item is not a node, I need to use getObject...  Can someone tell me what I am doing wrong? Also, is ther a way to add a comment to a Node?  I see methods for document.addComment, but not ode.addComment.  Did I miss something? Finally, I can't seem to get relative XPath exp to work.  In the above, /properties/server gives Server Stuff here, but server or properties/server (both in document.selectSingleNode() return null. Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, Individual ITS, Life Investors Insurance Company of America</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Issue with dom4j 1.1</header>
    <date>Sun Nov 11 09:09:00 CET 2001</date>
    <body>Hi Jim I've added your test case to CVS. The xml document is in xml/test/jimBrain.xml and I've added a JUnit test case to demonstrate what I think you're trying to do at dom4j/src/test/org/dom4j/xpath/TestSelectSingleNode.java From my testing it appears that dom4j 1.1 is working correctly for selectSingleNode using your XML document. Is there a chance you're doing something else differently? BTW you can find an Element and add a comment to it. e.g. Element server = (Element) document.selectSingleNode( For example, could you modify the test case to try reproduce your problem? The test case is available in the daily build as well as via CVS... James Sent: Friday, November 09, 2001 10:58 PM Subject: [dom4j-user] Issue with dom4j 1.1 http://www.digitalsymbiosis.net&amp;lt;/URL http://www.digitalsymbiosis.net&amp;lt;/URL that what properties/server https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] threading question</header>
    <date>Thu Nov 08 17:33:00 CET 2001</date>
    <body>HI I have a quick question on threading with document and node objects. If in a JSP site I store a Document object for read only reference. Is there any risk of thread pile up or single thread locking of objects during the access of the Document object as muliple requests line up to use the object? thanks Casey Kochmer JspInsider@... _________________________________________________________________ Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] threading question</header>
    <date>Thu Nov 08 17:48:00 CET 2001</date>
    <body>Hi Casey The default implementation of Element (DefaultElement) can use lazy instantiation to avoid creating List instances for performance. This could cause problems if a document is shared amongst threads without being traversed. So using the org.dom4j.util.NonLazyDocumentFactory can help to ensure that no lazy evaluation occurs - so read only access from concurrent threads should be fine. If some kind of modifications are done then some kind of semaphore or locking mechansim should be implemented. James Sent: Thursday, November 08, 2001 5:33 PM Subject: [dom4j-user] threading question there http://explorer.msn.com/intl.asp https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question about adding elements</header>
    <date>Wed Nov 07 10:11:00 CET 2001</date>
    <body>Bob, Thank you for your code example; it helped me a lot! But ... when trying to use the code, I get an exception that I can not explain: "ConcurrentModificationException" (and I'm not using threads!). All I did was put following code in front of your code: In most cases this works fine, but for below testfile it fails: Any suggestions????? Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question about adding elements</header>
    <date>Wed Nov 07 13:18:00 CET 2001</date>
    <body>On Wed, 7 Nov 2001, Silvain Piree wrote: Awe, shucks.  Yeah. You're using an Iterator, and doing an insert in the list at the same time. Copy the list into a new one, and iterate over the copy, inserting into the original, maybe? -bob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question about adding elements</header>
    <date>Wed Nov 07 13:50:00 CET 2001</date>
    <body>Bob, As a workaround, I'm using "element.elements().iterator()" instead of "element.ElementIterator()"  :-( Silvain</body>
  </mail>
  <mail>
    <header>[dom4j-user] Looking for an attribute value within selectSingleNode() fails</header>
    <date>Tue Nov 06 22:12:00 CET 2001</date>
    <body>Hello! org.dom4j.Node node = document.selectSingleNode(xPath);  //works node = document.selectSingleNode(xPath);  //fails The second case fails; "node" returns null, even though the XML document contains the target. Any ideas?  Thank you very much!! Tom Oritt</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Looking for an attribute value within selectSingleNode() fails</header>
    <date>Wed Nov 07 09:54:00 CET 2001</date>
    <body>Could you send us the XML document that you're using? It is fairly hard trying to figure out why an XPath expression works or not without the source on which it is operating. BTW its nothing to do with whitespace is it? James Sent: Tuesday, November 06, 2001 10:12 PM Subject: [dom4j-user] Looking for an attribute value within selectSingleNode() fails https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] adding XML in Java</header>
    <date>Fri Nov 02 17:41:00 CET 2001</date>
    <body>Hi, I switched from XSL to DOM4J/Java because the XSL scripts were becoming too complex. It's a lot easier to build the transformation logic in Java! But .... now I have another problem: I have to write a lot of addElement/addAttribute calls to build XML nodes, whereas in XSL I could use XML syntax. If it were possible to use the XML syntax in Java, then I would have the best of two worlds! It would be great if we could write code like: The xml code would be parsed, and added as child elements to myElement. Is this already possible? Would it be difficult to implement? Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] adding XML in Java</header>
    <date>Fri Nov 02 18:43:00 CET 2001</date>
    <body>Silvain&amp;gt;If it were possible to use the XML syntax in Java, then I would have the best of two worlds! It would be great if we could write code like: The xml code would be parsed, and added as child elements to myElement. Is this already possible? Would it be difficult to implement? Me&amp;gt;Can I vote on this or do I have to be on the developer's list?  If I can I vote NO, if I can't let me know so I can join the developers list. The functionality mentioned is something Silvain can build as his own layer above dom4j.  Its not that hard to implement.  Off the top of my head; for each XML string fragment create a dom4j object via SAX -&amp;gt; get access to the root node -&amp;gt; detach it from the current dom -&amp;gt; append it to its new parent. The solution is certainly not very efficient but can work (ignoring potential namespace issues of course). Dane Foster Equity Technology Group, Inc http://www.equitytg.com . 954.360.9800 Sent: Friday, November 02, 2001 12:39 PM Subject: [dom4j-user] adding XML in Java Hi, I switched from XSL to DOM4J/Java because the XSL scripts were becoming too complex. It's a lot easier to build the transformation logic in Java! But .... now I have another problem: I have to write a lot of addElement/addAttribute calls to build XML nodes, whereas in XSL I could use XML syntax. If it were possible to use the XML syntax in Java, then I would have the best of two worlds! It would be great if we could write code like: The xml code would be parsed, and added as child elements to myElement. Is this already possible? Would it be difficult to implement? Silvain _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] adding XML in Java</header>
    <date>Fri Nov 02 19:24:00 CET 2001</date>
    <body>Dane, layer You are probably right saying that "I can build it on top of DOM4J", but it wouldn't surprise me if others needed the same functionality, so adding it to DOM4J would benifit everybody. Can you tell me why you wouldn't want this to be part of DOM4J? Does it cause problems with existing functionality, or are there conceptual problems? If so, then I must agree with you, but otherwise I think it's not such a bad idea. Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] adding XML in Java</header>
    <date>Fri Nov 02 19:49:00 CET 2001</date>
    <body>Hi Guys I understand your reservations Dane; we should be careful about adding every kind of helper feature to dom4j and bloating it. Its funny quite a few people have asked for such a thing over the years, a quick way to add a section of static XML to a document. You can do this right now today... Document document = DocumentHelper.parseText( "&amp;lt;node1 name='hello'&amp;gt;&amp;lt;node2/&amp;gt;&amp;lt;/node1&amp;gt;" Its not quite as simple as Silvain's idea  but it does work.. It might be nice to wrap this up in a new helper method like this... I'll think about it a bit more but I'm quite tempted, it looks good. Its one extra helper method, not very much code but offers a nice and easy way to add a small block of XML to any branch (element or document). Thoughts? James Sent: Friday, November 02, 2001 6:51 PM Subject: Re: [dom4j-user] adding XML in Java can layer the parent. http://www.equitytg.com . https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Help with XPath expression</header>
    <date>Tue Nov 06 20:51:00 CET 2001</date>
    <body>Hi all- I'm using dom4j to build a document, and I'm trying to select a node using an XPath expression.  Can someone tell me why the line: Node nameNode = works when the line Node nameNode = document.selectSingleNode("/atomic-thing/oi:thing-info/@triggering-docum does not. Here's the xml: http://www.a4networks.com/schemas/atomic-thing " xmlns:oi=" http://www.a4networks.com/schemas/thing-info " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation=" http://www.a4networks.com/schemas/atomic-opl C:/work/atomic-thing.xsd" author="dhooker" thing-version="1" date-modified="2001-11-05" triggering-document-expression="/a/b/c/d" thing-type="transform" check-for-duplicate="yes"</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Help with XPath expression</header>
    <date>Tue Nov 06 20:56:00 CET 2001</date>
    <body>On Tue, 6 Nov 2001, David Hooker wrote: First guess is that you haven't configured a valid NamespaceContext that translates the oi: prefix into the URL.  Namespace mappings are *not* inherited from the target document (anymore). -bob</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Help with XPath expression</header>
    <date>Tue Nov 06 21:04:00 CET 2001</date>
    <body>Ok... Huh?  I'm real new to XML.  I'm using Xerces, which I think has http://xml.org/sax/features/namespaces defaulting to true, which should replace the oi: with the URL, right? How do I "configure a valid NamespaceContext"? Or do I have to put the URL into my Xpath expression, or will oi: work? Or should I turn off the feature? Or should I RTFM and STFW *again*? ;-) -----Original Message----- From: bob mcwhirter [mailto:bob@...] Sent: Tuesday, November 06, 2001 2:56 PM To: David Hooker Cc: dom4j-user@... Subject: Re: [dom4j-user] Help with XPath expression On Tue, 6 Nov 2001, David Hooker wrote: document.selectSingleNode("/atomic-thing/oi:thing-info/@triggering-docum First guess is that you haven't configured a valid NamespaceContext that translates the oi: prefix into the URL.  Namespace mappings are *not* inherited from the target document (anymore). -bob</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Help with XPath expression</header>
    <date>Tue Nov 06 21:17:00 CET 2001</date>
    <body>On Tue, 6 Nov 2001, David Hooker wrote: http://xml.org/sax/features/namespaces defaulting to true, which should Your dom4j Elements have both a name, and a namespace, since you had prefix-&amp;gt;uri bindings in the original document.  After constructing your dom4j Document tree, the prefixes become roughly meaningless.  It's the Namespace-URI that matters, really. Your xpath expression has not yet had any prefix-&amp;gt;uri bindings applied.  The XPath does *not* borrow the bindings from the original document.  You have to set them up independently. Here's how to do it through Jaxen.  (Jaxen is included in the dom4j distribution.  See jaxen.org for Javadocs) James, is there an easier way to do this through the dom4j API? ... ... That *should* work.  The NamespaceContext is what the XPath object uses to resolve prefix-&amp;gt;uri mappings.  The addElementNamespace() configures the NamespaceContext based upon the mappings present in your document's root element.  Alternatively, you could do: nsContext.addNamespace( "prefix", " http://namespace-uri.org/ nsContext.addNamespace( "foo", " http://foo.org nsContext.addNamespace( "bar", " http://bar.org This method allows the xpath expression to use different prefixes than the original document. Hope that helps. -bob</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Help with XPath expression</header>
    <date>Tue Nov 06 21:55:00 CET 2001</date>
    <body>Ok, I tried this: XPath xpath = new context.addElementNamespaces(new Node nameNode = Same result.  If I use "//@triggering-document-expression" as the expression, it works, just like before. I even tried using the addNamespace() method to add the mapping explicitly... no luck. Any more ideas?  Or am I just doing something stupid? -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of bob mcwhirter Sent: Tuesday, November 06, 2001 3:18 PM To: David Hooker Cc: dom4j-user@... Subject: RE: [dom4j-user] Help with XPath expression On Tue, 6 Nov 2001, David Hooker wrote: http://xml.org/sax/features/namespaces defaulting to true, which should work? Your dom4j Elements have both a name, and a namespace, since you had prefix-&amp;gt;uri bindings in the original document.  After constructing your dom4j Document tree, the prefixes become roughly meaningless.  It's the Namespace-URI that matters, really. Your xpath expression has not yet had any prefix-&amp;gt;uri bindings applied.  The XPath does *not* borrow the bindings from the original document.  You have to set them up independently. Here's how to do it through Jaxen.  (Jaxen is included in the dom4j distribution.  See jaxen.org for Javadocs) James, is there an easier way to do this through the dom4j API? ... ... That *should* work.  The NamespaceContext is what the XPath object uses to resolve prefix-&amp;gt;uri mappings.  The addElementNamespace() configures the NamespaceContext based upon the mappings present in your document's root element.  Alternatively, you could do: nsContext.addNamespace( "prefix", " http://namespace-uri.org/ nsContext.addNamespace( "foo", " http://foo.org nsContext.addNamespace( "bar", " http://bar.org This method allows the xpath expression to use different prefixes than the original document. Hope that helps. -bob _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] question about adding elements</header>
    <date>Mon Nov 05 15:32:00 CET 2001</date>
    <body>Hi, Is it possible to add an element directly before/after a specific node? Why am I asking this? I want to transform below structure by detaching all children of &amp;lt;node1&amp;gt; and placing them before that node: should become: I can't figure out how to do this with DOM4J. Any suggestions?? Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question about adding elements</header>
    <date>Mon Nov 05 15:54:00 CET 2001</date>
    <body>&amp;gt; Is it possible to add an element directly before/after a specific node? Sure is. while ( nodeOneChildren.hasNext() ) Key point to remember: All lists are 'live' in dom4j. -bob</body>
  </mail>
  <mail>
    <header>[dom4j-user] Using a Document as XSL</header>
    <date>Fri Nov 02 17:14:00 CET 2001</date>
    <body>I've seen in the samples how to use a StreamSource for the XSL file when doing a transformation.  Is there a way to use a dom4j Document (read from the XSLT file) as the stylesheet?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Using a Document as XSL</header>
    <date>Fri Nov 02 17:45:00 CET 2001</date>
    <body>MessageYes dom4j can be the source of the XML, the stylesheet or the = result of the transformation. All other sources and results are = supported too (text, SAX, DOM etc) You just create an org.dom4j.io.DocumentSource for the xml or stylesheet = document or a DocumentResult for the result then use the standard JAXP = Transformer interface. There's an example on the quick start guide... http://dom4j.org/guide.html Here's a quick snippet of code to show the kind of thing... Transformer transformer =3D factory.newTransformer(=20 new DocumentSource( stylesheet ) James From: David Hooker=20 To: dom4j-user@... Sent: Friday, November 02, 2001 5:13 PM Subject: [dom4j-user] Using a Document as XSL I've seen in the samples how to use a StreamSource for the XSL file = when doing a transformation.  Is there a way to use a dom4j Document = (read from the XSLT file) as the stylesheet?</body>
  </mail>
  <mail>
    <header>[dom4j-user] ANNOUNCE: dom4j 1.1 released</header>
    <date>Fri Nov 02 17:40:00 CET 2001</date>
    <body>dom4j is a simple and flexible open source library for working with XML, XPath and XSLT on the Java platform using the Java Collections Framework with full integration with DOM, SAX and JAXP. The new release and further documentation can be found at:- http://dom4j.org This release includes:- * support for DTD declarations * numerous patches, optimisations and bug fixes James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question: previous/next sibling in DOM4J</header>
    <date>Thu Nov 01 16:22:00 CET 2001</date>
    <body>Chuck, I've tried it and I get an error on the following-sibling clause. I checked the Jaxen site and on the status page it mentions: "preceding and following axes not implemented for most models" So, I guess this won't work. Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question: previous/next sibling in DOM4J</header>
    <date>Thu Nov 01 16:46:00 CET 2001</date>
    <body>Bob, This won't work either, because indexOf() uses the node list (including attribute nodes, etc.) whereas elements() returns a list containing only elements (so index for node list can be used for list containing only elements). The only way I got it to work was by searching the element in the list returned by elements(). ..... there must be a better way than this .... in DOM it's just getPrevious/NextSibling. Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question: previous/next sibling in DOM4J</header>
    <date>Thu Nov 01 17:43:00 CET 2001</date>
    <body>Not quite - the indexOf() operates on the list in question, whether its a filtered selection or the whole content node list. So this could be the list of all content nodes or the list of just the elements, or even a list of all elements with a certain name or QName. So the same technique can be used to find the next &amp;amp; previous node, element or even element with a given local or QName. e.g. both ways work. e.g. // get next &amp;amp; previous nodes // get next &amp;amp; previous elements // you could even create a List of all the &amp;lt;foo/&amp;gt; elements. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question: previous/next sibling in DOM4J</header>
    <date>Thu Nov 01 19:30:00 CET 2001</date>
    <body>On Thu, 1 Nov 2001, Silvain Piree wrote: Can you paste the error you're getting? No, that status page is woefully out of date.  I think we support those axes now for all models. -bob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question: previous/next sibling in DOM4J</header>
    <date>Thu Nov 01 19:40:00 CET 2001</date>
    <body>Bob, Statement: Element nextSibling = Result: D:\Temp\xmltest\build.xml:46: org.dom4j.XPathException: Exception occurred evaluting XPath: following-sibling::*. Exception: following-sibling Hope that helps ..... Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question: previous/next sibling in DOM4J</header>
    <date>Fri Nov 02 11:26:00 CET 2001</date>
    <body>Hi Silvian These axes now work fine in the latest Jaxen release, which you could try use. We'll be releasing dom4j 1.1 really soon that will come with the latest Jaxen to fix this issue. I've just tested it all locally right now and works fine; I've just a few other JUnit tests to fix before the 1.1 release goes out. James Sent: Thursday, November 01, 2001 7:39 PM Subject: Re: [dom4j-user] question: previous/next sibling in DOM4J https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question: previous/next sibling in DOM4J</header>
    <date>Fri Nov 02 17:40:00 CET 2001</date>
    <body>Hi Silvian The dom4j 1.1 is just about out now (phew, at last!) which should fix your XPath axis problem James Sent: Thursday, November 01, 2001 7:39 PM Subject: Re: [dom4j-user] question: previous/next sibling in DOM4J https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] question: previous/next sibling in DOM4J</header>
    <date>Thu Nov 01 15:58:00 CET 2001</date>
    <body>Hi, is there an easy way to get the previous/next sibling for an element? e.g. Element nextElement = element.getNextSibling() Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question: previous/next sibling in DOM4J</header>
    <date>Thu Nov 01 16:04:00 CET 2001</date>
    <body>A long way 'round would be: -bob On Thu, 1 Nov 2001, Silvain Piree wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Issue with dom4j 1.1</header>
    <date>Sat Dec 01 10:26:00 CET 2001</date>
    <body>Looking at your XML document I only see one &amp;lt;threadsafe&amp;gt; element. So that's correct behaviour isn't it? James when a in I http://www.digitalsymbiosis.net&amp;lt;/URL http://www.digitalsymbiosis.net&amp;lt;/URL https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Issue with dom4j 1.1</header>
    <date>Mon Dec 03 15:13:00 CET 2001</date>
    <body>True, but the javadoc for selectObject says that I will either get a String, Number, Node, or List of Nodes.  If there is only one item, why return the list? Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Saturday, December 01, 2001 4:24 AM To:	Brain, Jim; DOM4J Mailing List (E-mail) Subject:	Re: [dom4j-user] Issue with dom4j 1.1 Looking at your XML document I only see one &amp;lt;threadsafe&amp;gt; element. So that's correct behaviour isn't it? James when a in I http://www.digitalsymbiosis.net&amp;lt;/URL http://www.digitalsymbiosis.net&amp;lt;/URL https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Issue with dom4j 1.1</header>
    <date>Mon Dec 03 20:41:00 CET 2001</date>
    <body>String, Ah I understand your issue now. It just happens to return a List purely as this is how Jaxen has worked up to now. You're right, its probably better to only return a single Node if the XPath only matches a single node. Either that or say in the Javadoc that it will only return a scalar result (Boolean, Number, String) or a List of Nodes. I don't have a strong opinion either way; which would you prefer? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Issue with dom4j 1.1</header>
    <date>Mon Dec 03 21:00:00 CET 2001</date>
    <body>James, I for one prefer the List return for selectNodes et al, and the Node return for selectSingleNode et al. When calling selectNodes() I usually follow the call with an iteration of the List contents. If it returned a List sometimes and a Node at other times I would have to put in conditional logic to determine which Object type was returned. I would rather have the deterministic behaviour and live with the minor overhead of a loop to process a single element List and not have to add conditional logic. Chuck Simpson Chuck_Simpson@... |        |          "James Strachan"            | |        |          &amp;lt;james_strachan@...&amp;gt;| |        |          Sent by:                    | |        |          dom4j-user-admin@...| |        |          eforge.net                  | |        |                                      | |        |                                      | |        |          12/03/01 02:38 PM           | |        |                                      | &amp;gt;--------------------------------------------------------------------------------------------------------------| |                                                                                                              | |       To:     "Brain, Jim" &amp;lt;JBrain@...&amp;gt;, "DOM4J Mailing List \(E-mail\)"                            | |       &amp;lt;dom4j-user@...&amp;gt;                                                                     | |       cc:                                                                                                    | |       Subject:     Re: [dom4j-user] Issue with dom4j 1.1                                                     | &amp;gt;--------------------------------------------------------------------------------------------------------------| String, the Ah I understand your issue now. It just happens to return a List purely as this is how Jaxen has worked up to now. You're right, its probably better to only return a single Node if the XPath only matches a single node. Either that or say in the Javadoc that it will only return a scalar result (Boolean, Number, String) or a List of Nodes. I don't have a strong opinion either way; which would you prefer? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Issue with dom4j 1.1</header>
    <date>Mon Dec 03 21:30:00 CET 2001</date>
    <body>I think the current way is better: If the javadoc was right, code to work on nodes found would be: Big chunk of code to work on Nodes Same big bunch of code, with a for loop around it. However, if people normally only get a single Node, the List idea forces the extra loop even when you know you'll get 1 return, which might be a bit slower. I really don't care, just would like the code to match the javadoc, so I thought I would bring it up. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Monday, December 03, 2001 2:38 PM To:	Brain, Jim; DOM4J Mailing List (E-mail) Subject:	Re: [dom4j-user] Issue with dom4j 1.1 String, Ah I understand your issue now. It just happens to return a List purely as this is how Jaxen has worked up to now. You're right, its probably better to only return a single Node if the XPath only matches a single node. Either that or say in the Javadoc that it will only return a scalar result (Boolean, Number, String) or a List of Nodes. I don't have a strong opinion either way; which would you prefer? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Issue with dom4j 1.1</header>
    <date>Wed Dec 19 09:34:00 CET 2001</date>
    <body>Hi Jim the Thanks Jim. I've patched the Javadoc to reflect the current behaviour. If otherwise a scalar value is returned like a String or Number. If a user knows they want to select a single Node only then they can use the selectSingleNode() method. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Issue with dom4j 1.1</header>
    <date>Fri Dec 28 09:57:00 CET 2001</date>
    <body>Hi Joseph This sounds like a namespace issue. Does your XML document look something like this... ... i.e. that the &amp;lt;ENTRY&amp;gt; elements are all in some namespace? If so, then this is correct behaviour. To match elements in a namespace you must use either the functions name(), local-name() and namespace-uri() to match nodes or use namespace prefixes in your XPath expression. e.g. you could use //my:ENTRY if you had bound the 'my' prefix to the namespace URI thats used in your XML document. James Sent: Thursday, December 27, 2001 5:48 PM Subject: Re: [dom4j-user] Issue with dom4j 1.1 _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Question with XPATH in dom4j-1.1</header>
    <date>Thu Dec 27 17:50:00 CET 2001</date>
    <body>Hi Folks We have been using dom4j-0.5 for quite a while and recently upgrading to dom4j-1.1 and I have a quick question: XPATH = "//ENTRY" returns ZERO nodes on my xml file, whereas XPATH = "//*[name()='ENTRY']" returns the CORRECT results. Has there been some radical changes or am I missing something. Regards Joseph Rajkumar email: rajkumar@...</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Question with XPATH in dom4j-1.1</header>
    <date>Fri Dec 28 09:49:00 CET 2001</date>
    <body>Hi Joseph, This is due to the fact that the namespace support is more compliant with the standard than the old version. The ENTRY element is most probably in a default namespace, and the XPath statement needs to reflect that fact, for example by using a namespace context. James wrote a mail on this about a month ago: work nicely in XPath. If you kinda strange at first but namespaces in scope on the node on which you perform the query, &amp;gt;which for a document will be the root element. Regards, -- Steen https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] slm</header>
    <date>Tue Dec 25 20:47:00 CET 2001</date>
    <body>Selam sana bir site oneriyorum kesin bak! , OYUNLAR SADECE 2.750.000 TL! http://www.alisveris.sehri.com http://www.alisveris.sehri.com iyi gunler, Bu mesaj htp://www.aslan.mekani.com üzerinden yollanmistir! http://astavilla.kolayweb.com/haber.htm ###########################################</body>
  </mail>
  <mail>
    <header>[dom4j-user] selam                   2</header>
    <date>Mon Dec 24 23:50:00 CET 2001</date>
    <body>Selam sana bir site oneriyorum kesin bak! , OYUNLAR SADECE 2.750.000 TL! http://www.alisveris.sehri.com http://www.alisveris.sehri.com iyi gunler, Bu mesaj htp://www.aslan.mekani.com üzerinden yollanmistir! http://astavilla.kolayweb.com/haber.htm ###########################################</body>
  </mail>
  <mail>
    <header>[dom4j-user] checking for xml format</header>
    <date>Thu Dec 20 21:54:00 CET 2001</date>
    <body>Hi, an application i am building can support tab-delimited text and xml formats. But, i need to detect which format a particular file is in (without relying on a file extension). Is there a way to use the dom4j libraries to quickly test if a given file is xml formatted or not? Thanks, aravind</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] checking for xml format</header>
    <date>Fri Dec 21 11:15:00 CET 2001</date>
    <body>Its non-trivial. Using a MIME type or extension is probably easiest. I guess you could assume that an XML document should have an XML declaration in the first line. So the first non whitespace should be Though the declaration can be ommitted. Maybe just testing that the first non-white character is "&amp;lt;" then trying to parse it? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j in german magazine</header>
    <date>Thu Dec 20 11:26:00 CET 2001</date>
    <body>Hi Folks, it's true, the German "Java Magazin" published an article about dom4j in her inbuild "XML Magazin". The "XML Magazin" has  a lot of articles about JDOM in the past. Should I submit a englisch translation? BTW I'm currently read that a lazy pull parser based version of dom4j is planed. Sounds gread. How do you plan to do this? Another point: I'm planning to update our documentation. It still miss deeper information about dom4j. So I plan to add UML diagramms and so on. The great rule API should also been added along with an chapter about using dom4j togehter with JAXM. We should plan to fix the bugs of DocBook, but i think this a problem of the way it is used with Ant. If you use the commandline tool of saxon the styling works perfect. Hava nice time. Regards Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j in german magazine</header>
    <date>Thu Dec 20 11:38:00 CET 2001</date>
    <body>Hi Folks, it's true, the German "Java Magazin" published an article about dom4j in her inbuild "XML Magazin". The "XML Magazin" has  a lot of articles about JDOM in the past. Should I submit a englisch translation? BTW I'm currently read that a lazy pull parser based version of dom4j is planed. Sounds gread. How do you plan to do this? Another point: I'm planning to update our documentation. It still miss deeper information about dom4j. So I plan to add UML diagramms and so on. The great rule API should also been added along with an chapter about using dom4j togehter with JAXM. We should plan to fix the bugs of DocBook, but i think this a problem of the way it is used with Ant. If you use the commandline tool of saxon the styling works perfect. Hava nice time. Regards Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j in german magazine</header>
    <date>Thu Dec 20 11:40:00 CET 2001</date>
    <body>Hi Folks, it's true, the German "Java Magazin" published an article about dom4j in her inbuild "XML Magazin". The "XML Magazin" has  a lot of articles about JDOM in the past. Should I submit a englisch translation? BTW I'm currently read that a lazy pull parser based version of dom4j is planed. Sounds gread. How do you plan to do this? Another point: I'm planning to update our documentation. It still miss deeper information about dom4j. So I plan to add UML diagramms and so on. The great rule API should also been added along with an chapter about using dom4j togehter with JAXM. We should plan to fix the bugs of DocBook, but i think this a problem of the way it is used with Ant. If you use the commandline tool of saxon the styling works perfect. Hava nice time. Regards Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j in german magazine</header>
    <date>Thu Dec 20 13:06:00 CET 2001</date>
    <body>Hey Toby. BTW I got about 8 or 9 copies of this mail. Are you having trouble with your email or ISP? her An english translation would be great! planed. There's an XPPReader in CVS and the daily build right now which works like the SAXReader but uses the XPP2 API rather than the SAX API. We should do the same for Xerces XNI API as well. Right now the implementation pulls the whole document in one go. Hopefully soon we'll be able to make this lazy so that iterating over the document causes the document to pull itself from XPP. Great! dom4j the Agreed; I know bob uses DSSSL or whatever its called from James Clark XSLT transformations somewhere. James http://www.gmx.net https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] [ANN] dom4j article in "Java Magazin"</header>
    <date>Thu Dec 20 12:46:00 CET 2001</date>
    <body>Hi Folks, it's true, the German "Java Magazin" published an article about dom4j in her inbuild "XML Magazin". The "XML Magazin" has  a lot of articles about JDOM in the past. Should I submit a englisch translation? BTW I'm currently read that a lazy pull parser based version of dom4j is planed. Sounds gread. How do you plan to do this? Another point: I'm planning to update our documentation. It still miss deeper information about dom4j. So I plan to add UML diagramms and so on. The great rule API should also been added along with an chapter about using dom4j togehter with JAXM. We should plan to fix the bugs of DocBook, but i think this a problem of the way it is used with Ant. If you use the commandline tool of saxon the styling works perfect. Hava nice time. Regards Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Thu Dec 20 11:41:00 CET 2001</date>
    <body>Hi Folks, it's true, the German "Java Magazin" published an article about dom4j in her inbuild "XML Magazin". The "XML Magazin" has  a lot of articles about JDOM in the past. Should I submit a englisch translation? BTW I'm currently read that a lazy pull parser based version of dom4j is planed. Sounds gread. How do you plan to do this? Another point: I'm planning to update our documentation. It still miss deeper information about dom4j. So I plan to add UML diagramms and so on. The great rule API should also been added along with an chapter about using dom4j togehter with JAXM. We should plan to fix the bugs of DocBook, but i think this a problem of the way it is used with Ant. If you use the commandline tool of saxon the styling works perfect. Hava nice time. Regards Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Thu Dec 20 11:47:00 CET 2001</date>
    <body>Hi Folks, it's true, the German "Java Magazin" published an article about dom4j in her inbuild "XML Magazin". The "XML Magazin" has  a lot of articles about JDOM in the past. Should I submit a englisch translation? BTW I'm currently read that a lazy pull parser based version of dom4j is planed. Sounds gread. How do you plan to do this? Another point: I'm planning to update our documentation. It still miss deeper information about dom4j. So I plan to add UML diagramms and so on. The great rule API should also been added along with an chapter about using dom4j togehter with JAXM. We should plan to fix the bugs of DocBook, but i think this a problem of the way it is used with Ant. If you use the commandline tool of saxon the styling works perfect. Hava nice time. Regards Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>[dom4j-user] visualizing large docs with dom4j in a jtree</header>
    <date>Wed Dec 05 22:45:00 CET 2001</date>
    <body>Hi, i am evaluating java xml api's for use in the following task: I need to display a large (potentially 30000 top-level nodes, each with 2-5 child nodes, all text) xml document that is periodically generated from a database. A JTree seems to be the best display mechanism, but for memory reasons it would have to have a custom TreeModel that is somehow bound to the XMl document. I would appreciate any advice on: 1) Is dom4j suitable for this task and if so how ( i read about a "pruning mode" in the FAQ but am not certain if that would apply, so any hints will help). Would SAX be better for this task (compared to the dom4j "pruning mode")? 2) Is anyone aware of an open source xml viewer of this sort? Thanks, aravind</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] visualizing large docs with dom4j in a jtree</header>
    <date>Wed Dec 19 09:38:00 CET 2001</date>
    <body>Hi Aravind Firstly an XML document can only have 1 top level node. I guess you mean that the root node contains 30000 immediate children. Will users actually scroll through these 30,000 nodes in a JTree? Maybe some kind of table might be better? Either way some kind of special TreeModel sounds like a requirement which tries to only keep in memory the part of the tree being viewed at any point in time. Maybe some kind of persistent dom4j implementation might help; though maybe just doing a database-specific TreeModel to deal with the size issue might help. 'pruning mode' is designed for processing XML documents as they are parsed, in a kind of streaming way similar to SAX. Not that I know of. James https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentTreeModel question</header>
    <date>Fri Dec 14 19:29:00 CET 2001</date>
    <body />
  </mail>
  <mail>
    <header>Re: [dom4j-user] DocumentTreeModel question</header>
    <date>Wed Dec 19 09:34:00 CET 2001</date>
    <body>MessageCurrently the BranchTreeNode returns false for the isLeaf() = method. I've patched the code to return true if it the branch has no children. = I'll commit this change to CVS when I get back online... James From: David Hooker=20 To: dom4j-user@... Sent: Friday, December 14, 2001 7:28 PM Subject: [dom4j-user] DocumentTreeModel question I'm trying to customize a JTree to display a Branch.  I've created a = class almost identical to the DocumentTreeModel, but it takes a Branch = rather than a Document (see code attached).  It works fine.  Now, I'm = trying to create a tree renderer to display leaf nodes with my own = icons.  However, it seems that the tree model is being built entirely of = BranchTreeNodes, without any LeafTreeNodes at the leaves.  Here's the = XML (not xsl) that I'm bullding the tree from: Any idea why no LeafTreeNodes are created? Attached is a screenshot of the JTree, and the BranchTreeModel.java = file.</body>
  </mail>
  <mail>
    <header>[dom4j-user] parser for DOM4J</header>
    <date>Thu Dec 13 16:12:00 CET 2001</date>
    <body>Hi, Is that true that DOM4J only used SAX parser underneath it? I know this is the case for JDOM. Also, what's the default parser for DOM4J, xerces or crimson? Thanks. Tiana Zhang</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] parser for DOM4J</header>
    <date>Thu Dec 13 16:19:00 CET 2001</date>
    <body>&amp;gt; Is that true that DOM4J only used SAX parser underneath it? I know this is Ayup, you can certainly build dom4j using any SAX parser. aelfred, I think, is the default parser.  Much smaller than either xerces or crimson.  Possibly crimson, though, if you use JAXP, since it prefers crimson, a lot of times. -bob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] parser for DOM4J</header>
    <date>Thu Dec 13 18:35:00 CET 2001</date>
    <body>is Yep; if you've got a recent crimson.jar or xerces.jar (or GNU aelfred.jar) on the classpath with JAXP (parsers all come with JAXP these days) then dom4j will use that. Otherwise it'll use its own bundled Aelfred distro. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] parser for DOM4J</header>
    <date>Thu Dec 13 18:40:00 CET 2001</date>
    <body>BTW for dom4j 1.2 we hope to have true lazy pull-parsing support via the XPP pull parser so that documents are only parsed as they are navigated. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] xpath problem, a clue to the problem.</header>
    <date>Fri Dec 07 21:58:00 CET 2001</date>
    <body>In HTML, you should never have two ul's together, I think it should be: However, that's just an FYI, I doubt that is the problem here. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	Robert J. Lebowitz [mailto:lebowitz@...] Sent:	Friday, December 07, 2001 10:09 AM To:	dom4j-user@... Subject:	[dom4j-user] xpath problem, a clue to the problem. I think I've figured out the source of the error, but I think it may be prudent to modify dom4j to adjust for such a circumstance: The author of the HTML document that I am converting to XHTML with JTidy, and then modifying with dom4j included an embedded unordered list that worked in the following manner: This results in a double indentation of the text in the document.  It seems a bit odd to do this, but I suppose it occassionally occurs in other documents as well. Anyhow, when I attempt to use an xpath expression like "ancestor::ul" on a exception for this embedded list.  I'm assuming that the expression parser becomes confused by the fact that the parent element is the same as the child (which admittedly is a bit odd). Does this make sense, James???? Rob _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath problem, a clue to the problem.</header>
    <date>Fri Dec 07 22:57:00 CET 2001</date>
    <body>Actually, after "fixing" the html, I still continue to have the problem of the null pointer exception.  I can't figure out what is causing it.  In the interim, I just wrapped the code that throws the exception with a try/catch clause and ignore the exception. I'm still a bit puzzled about how to rename elements however.  As far as I can tell from the API, there are some situations where a node is read-only, and you  can't modify it's contents. As near as I can tell, you are forced to create a new document, and stick in the nodes you want in their appropriate locations if you want to rename them.  With large documents this is prohibitively difficult.... I'm curious why the setName() method can't be used.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath problem, a clue to the problem.</header>
    <date>Tue Dec 11 08:20:00 CET 2001</date>
    <body>Do you have a sample XHTML document that reproduces the problem. I've tried writing a test case using the example you gave but it works fine for me. Its included below... The exception you're getting does look like an old version of Jaxen. Could it be? I've tested this against the daily build and 1.0 of dom4j and it appears to work fine. James String text = "&amp;lt;ul&amp;gt;" + "    &amp;lt;ul&amp;gt;" + "        &amp;lt;li/&amp;gt;" + "            &amp;lt;ul&amp;gt;" + "                &amp;lt;li/&amp;gt;" + "            &amp;lt;/ul&amp;gt;" + "        &amp;lt;li/&amp;gt;" + "    &amp;lt;/ul&amp;gt;" Sent: Friday, December 07, 2001 10:58 PM Subject: Re: [dom4j-user] xpath problem, a clue to the problem. the try/catch read-only, in curious https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] ElementHandler...</header>
    <date>Sun Dec 09 15:57:00 CET 2001</date>
    <body>Howdy James-- I just noticed that ElementHandler.onStart(...) and ElementHandler.onEnd(...) are not allowed to throw exceptions. Would it be possible to add a 'throws Exception' clause, letting your DispatchHandler or SAXReader catch my arbitrary exception, wrap it however it likes (or maybe just let it fly through unmolested) and stop the parse? -bob</body>
  </mail>
  <mail>
    <header>[dom4j-user] xpath problem, a clue to the problem.</header>
    <date>Fri Dec 07 16:08:00 CET 2001</date>
    <body>I think I've figured out the source of the error, but I think it may be prudent to modify dom4j to adjust for such a circumstance: The author of the HTML document that I am converting to XHTML with JTidy, and then modifying with dom4j included an embedded unordered list that worked in the following manner: This results in a double indentation of the text in the document.  It seems a bit odd to do this, but I suppose it occassionally occurs in other documents as well. Anyhow, when I attempt to use an xpath expression like "ancestor::ul" on a exception for this embedded list.  I'm assuming that the expression parser becomes confused by the fact that the parent element is the same as the child (which admittedly is a bit odd). Does this make sense, James???? Rob</body>
  </mail>
  <mail>
    <header>[dom4j-user] selectNodes and XPath problem....</header>
    <date>Thu Dec 06 22:02:00 CET 2001</date>
    <body>I'm using the following snippet of code to try and locate all instances of ul and ol elements in an XHTML document.  I want to perform operations only on those ul and ol lists that are NOT embedded within another list. I keep getting the null pointer error seen below when I run this code.  Is there something wrong with my XPath expression that is causing this problem, or it possible that there is something weird, like an empty &amp;lt;ul&amp;gt;&amp;lt;/ul&amp;gt; in my document??? Thanks!! // do something with the list elements java.lang.NullPointerException at org.jaxen.dom4j.DocumentNavigator.getParentAxisIterator(DocumentNavigator.ja va:150) at org.jaxen.util.AncestorAxisIterator.createIterator(AncestorAxisIterator.java :28) at org.jaxen.util.StackedIterator.internalCreateIterator(StackedIterator.java:5 7) at org.jaxen.util.StackedIterator.next(StackedIterator.java:82) at org.jaxen.expr.DefaultLocationPath.evaluate(DefaultLocationPath.java:139) at org.jaxen.expr.DefaultXPath.asList(DefaultXPath.java:46) at org.jaxen.JaXPath.jaSelectNodes(JaXPath.java:35) at org.jaxen.BaseXPath.selectNodes(BaseXPath.java:22) at org.dom4j.xpath.DefaultXPath.selectNodes(DefaultXPath.java:122) at org.dom4j.tree.AbstractNode.selectNodes(AbstractNode.java:164) at com.finaltouch.xml.editor.io.TableListFilter.run(TableListFilter.java:47) at java.lang.Thread.run(Thread.java:484)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] read-only documents</header>
    <date>Thu Dec 06 20:46:00 CET 2001</date>
    <body>Some clarification: I reread the cookbook document and ascertained that the setName() method for class Element is the correct mechanism for changing the name of an Element in my dom4j documents. However, when I use it, I get the Exception thrown that indicates that the Element or Document is read-only. I'm puzzled as to why the Element or Document is read-only.  Am I supposed to set a parameter somewhere to indicate that it is read-write capable? due my https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] XSL</header>
    <date>Wed Dec 05 23:01:00 CET 2001</date>
    <body>I know this isn't a general XSL list... if there is one out there, what is it? Anyway, I have a question.  Is there a way to transform multiple input documents using an XSL file, generating a single, aggregated output document?  I know how I'd do this using dom trees (selecting the nodes from the input trees and building an output tree "by hand"), but I was wondering if there is an XSL-based way of doing this. Thanks... -dave-</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XSL</header>
    <date>Thu Dec 06 08:35:00 CET 2001</date>
    <body>MessageHi Dave Elliotte Rusty Harold maintains a list of XML related mail lists... http://www.ibiblio.org/xml/mailinglists.html in particular there's the xsl-list http://www.mulberrytech.com/xsl/xsl-list/ In XSLT you can use the document() function to parse arbitrary = documents. (dom4j &amp;amp; Jaxen support the document() function too). e.g. ... James From: David Hooker=20 To: dom4j-user@... Sent: Wednesday, December 05, 2001 11:00 PM Subject: [dom4j-user] XSL I know this isn't a general XSL list... if there is one out there, = what is it? Anyway, I have a question.  Is there a way to transform multiple input = documents using an XSL file, generating a single, aggregated output = document?  I know how I'd do this using dom trees (selecting the nodes = from the input trees and building an output tree "by hand"), but I was = wondering if there is an XSL-based way of doing this. Thanks... -dave-</body>
  </mail>
  <mail>
    <header>[dom4j-user] Is there a utility method to convert between entity reference and
 normal text?</header>
    <date>Wed Dec 05 23:08:00 CET 2001</date>
    <body>Hi, Is there a utility method to convert between entity reference and normal text? That is, etc... Thanks. Leon This message contains information which may be confidential and privileged. Unless you are the addressee  (or authorized to receive for the addressee), you may not use, copy or disclose to anyone the message or any information contained in the message.  If you have received the message in error, please advise the sender by reply e-mail, and delete or destroy the message. Thank you.</body>
  </mail>
  <mail>
    <header>[dom4j-user] read-only documents</header>
    <date>Wed Dec 05 21:46:00 CET 2001</date>
    <body>I discovered that the reason that I am unable to rename an element is due to the fact that it is read-only.  However, I can't determine how to make my dom4j document elements read-write capable. Any pointers would be appreciated!! Rob</body>
  </mail>
  <mail>
    <header>[dom4j-user] A couple questions</header>
    <date>Wed Dec 05 15:15:00 CET 2001</date>
    <body>All over my code I write method that pass back elements.  So, I end up starting the method with this: Element el=(Element)((Node)DocumentHelper.createDocument().add("MyElementName")).det Is there a better way to get an unconnected element? As well, last night, I was writing some code that pulls a SOAP body from a soap message.  The Body tag was namespace qualified.  If it is, how do you XPath search for it.  Searching for //Body failed. Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, Individual ITS, Life Investors Insurance Company of America</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] A couple questions</header>
    <date>Wed Dec 05 15:53:00 CET 2001</date>
    <body>el=(Element)((Node)DocumentHelper.createDocument().add("MyElementName")).det Or you could just do... and use this mechansim to create any node or document fragment. Namespace support in XPath is a big topic. The short answer is to use a prefix... //SOAP-ENV:Body dom4j will use the prefixes that are available in your document by default or you can specify your own prefixes to use with an XPath. e.g. http://dom4j.org/todo.html the first feature in the 'New Features' section describes how to pass in namespace prefixes using a Map to XPath queries. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: validation query</header>
    <date>Wed Dec 05 10:35:00 CET 2001</date>
    <body>Hi Kiran I've CC'd the list in case anyone else has a similar problem. If a recent version of crimson.jar or xerces.jar is on the CLASSPATH then dom4j will use that as the SAX parser via JAXP. If none of these are on the CLASSPATH then a bundled version of Aelfred is used, which does not validate. So for DTD validation put crimson.jar or xerces.jar on the CLASSPATH. If you wish to validate against an XML Schema then try xerces.jar. An alternative is to use Sun's MSV library for validation, which allows you to use DTD, XML Schema, Relax NG, Relax or TREX as the schema languages. There's an example in the daily build at dom4j/src/samples/validate/JARVDemo.java If you are validating an existing dom4j document then we recommend you try MSV as it avoids turning the document into text and then parsing it again - MSV can work purely off of SAX events generated from the dom4j document. (I'll also add the above to the FAQ) James Sent: Tuesday, December 04, 2001 11:02 PM Subject: Query http://explorer.msn.com/intl.asp _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Read multiple documents from a single inputstream</header>
    <date>Tue Dec 04 02:18:00 CET 2001</date>
    <body>Is there an easy way to read multiple Documents from a single InputStream? currently SAXReader has a read method to return a Document object? Is it possible to return a list of Documents instead? Thanks. _________________________________________________________________ Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Read multiple documents from a single inputstream</header>
    <date>Tue Dec 04 10:33:00 CET 2001</date>
    <body>No. The problem is that there is no way to know when a document finishes other than reading to the end of the InputStream / Reader. e.g. or or So you need to use some encoding mechanism to know when a document ends. e.g. use MIME encoding or put all the XML docs into a ZIP or something. James Sent: Tuesday, December 04, 2001 2:17 AM Subject: [dom4j-user] Read multiple documents from a single inputstream http://explorer.msn.com/intl.asp https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Found the problem with my issue</header>
    <date>Mon Dec 03 15:14:00 CET 2001</date>
    <body>I saw that afterI sent the email. However, if the standard clone call is implemented, why add the createCopy() method.  Is there a preference of one over the other? Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, INDIVIDUAL ITS, LIFE INVESTORS INSURANCE COMPANY OF AMERICA -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Saturday, December 01, 2001 4:17 AM To:	Brain, Jim; DOM4J Mailing List (E-mail) Subject:	Re: [dom4j-user] Found the problem with my issue You can call clone() if you wish. Node implements Cloneable. If you look at the Interface Hierarchy this might make more sense... http://dom4j.org/apidocs/org/dom4j/package-tree.html James Sent: Friday, November 30, 2001 7:49 PM Subject: [dom4j-user] Found the problem with my issue a was I is same https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Found the problem with my issue</header>
    <date>Mon Dec 03 15:46:00 CET 2001</date>
    <body>Its mostly just esthetics. Java still doesn't support covariant return types so you cannot override clone() like this... ... So clone() must return type Object. This is a shame which makes it a bit ugly to use... Also the clone() method throws a checked CloneNotSupportedException. So you have to do things like this rather than the simpler createCopy() can take an optional QName or a string for the new element name as well allowing a clone with a different element name to be made... James To: "'James Strachan'" &amp;lt;james_strachan@...&amp;gt;; "Brain, Jim" Sent: Monday, December 03, 2001 3:14 PM Subject: RE: [dom4j-user] Found the problem with my issue createCopy() might http://dom4j.org/apidocs/org/dom4j/package-tree.html through the https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Found the problem with my issue</header>
    <date>Mon Dec 03 15:48:00 CET 2001</date>
    <body>&amp;gt; However, if the standard clone call is implemented, why add the createCopy() Jim: I was working on an application last night that I believe is an example where .createCopy() is more useful than .clone(). Aside from making a "deep copy" of the object it is "cloning", .createCopy() also "detaches" the object from the rest of the object tree.  I had a situation where I wanted to remove all instances of &amp;lt;table&amp;gt; from an xhtml document, and write them out to separate files.  .createCopy() simplifies this process.  Without the detach(), I wouldn't be able to "add" the table elements as the root element to a new document that I write out. I see it as a convenience method... nice of James to include it in the API. Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Found the problem with my issue</header>
    <date>Mon Dec 03 16:02:00 CET 2001</date>
    <body>Hi Rob .createCopy() API. Putting my pedantic hat on for a second... Though either clone() or createCopy() could be used for the same purpose - they both result in a deep copy which is detached from the original. createCopy() just avoids the cast &amp;amp; catch of CloneNotSupportedException. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Renaming an element.</header>
    <date>Mon Dec 03 19:49:00 CET 2001</date>
    <body>I thought that I could use the Element.setName("name") method to rename an existing element, but apparently I misunderstand this method's use.  How can alter the name of an existing element? Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Found the problem with my issue</header>
    <date>Sat Dec 01 10:19:00 CET 2001</date>
    <body>You can call clone() if you wish. Node implements Cloneable. If you look at the Interface Hierarchy this might make more sense... http://dom4j.org/apidocs/org/dom4j/package-tree.html James Sent: Friday, November 30, 2001 7:49 PM Subject: [dom4j-user] Found the problem with my issue a was I is same https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Can't Iterate Over Nodes Properly</header>
    <date>Wed Jan 30 00:42:00 CET 2002</date>
    <body>1. I have the following structure: 2. I get a regular iterator of nodes like this: 3. Then I iterate over them like this: System.out.println(node. 4. And the results are: field1 field1 field1 It's finding the correct number of elements (3), it just always retrieves the value of the first element!  I'm using dom4j1.1.  I must be missing something simple... Any help will be greatly appreciated, Marc</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Can't Iterate Over Nodes Properly</header>
    <date>Wed Jan 30 00:49:00 CET 2002</date>
    <body>You're missing a "." in front of the xpath. a "//" means it goes to the top of the document and gets the name of the first field it finds. (since there are more than one, I guess it arbitrarily returns the name of the first one). - Vivek On Tue, 29 Jan 2002, Marc Rabil wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOMWriter Exception</header>
    <date>Mon Jan 21 21:04:00 CET 2002</date>
    <body>Hi, I have been using the following code to merge two documents together: domsrc = new DOMSource(domWriter.write(doc));	// jaxp which worked until I tried to refactor it into a helper class. Now, I get the following exception on the domWriter.write(doc) call: java.lang.NoSuchMethodError: org.w3c.dom.Document: method not found at org.dom4j.io.DOMWriter.appendDOMTree(DOMWriter.java:186) at org.dom4j.io.DOMWriter.appendDOMTree(DOMWriter.java:154) at org.dom4j.io.DOMWriter.write(DOMWriter.java:126) Any ideas what's happening? It worked when I had the fragment in a servlet. Thanks, Andy ______________________________________________________________________ Web-hosting solutions for home and business! http://website.yahoo.ca</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DOMWriter Exception</header>
    <date>Tue Jan 29 17:54:00 CET 2002</date>
    <body>Hi Andy Sorry for the long delay getting to your problem; been having connection problems while travelling and my inbox has been backing up more than usual. This sounds like a classpath problem. If ever you get a NoSuchMethodError when working with DOM its usually that you've got an old version of the DOM level 1 interfaces on your classpath somewhere. DOM Level 1 is a subset of DOM Level 2 but they use the same class names - which is a big shame and causes countless NoSuchMethodError problems which are not immediately obvious. dom4j assumes DOM Level 2 (which supports namespaces) so if you have a DOM level 1 interfaces on your classpath then you can get NoSuchMethodErrors as DOM level 2 introduces new methods. Maybe an old jar is lying around there somewhere, which wasn't when you ran it in your servlet engine... James Sent: Monday, January 21, 2002 9:04 PM Subject: [dom4j-user] DOMWriter Exception http://website.yahoo.ca https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] mergind documents</header>
    <date>Wed Jan 23 14:42:00 CET 2002</date>
    <body>Hi again! Another question related with my last mail: Imagine again: doc1 -----red -----large -----car1 -----car2 -----small -----car3 -----blue -----large -----car4 Is there a way to extract the path of the document for only one element? For example I'd like to get the tree to "car3": doc1 -----red -----small -----car3 Now it should be possible to enter this tree into another document which looks like: doc2 -----red -----large -----car9 to get the final combined document: doc1 -----red -----large -----car1 -----small -----car3 Guess what I'd like to do? It's the same in my last post, but a liitle more step by step, so that I check if one Element is already existing in another tree and if not enter it, otherwise do something else for example change the value of the original tree. Rgds. Marc</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] mergind documents</header>
    <date>Tue Jan 29 17:54:00 CET 2002</date>
    <body>Sounds a bit like an exam question ;-) Remember that the Element.content() returns a List of Node objects that you can change and that Node has getParent() to walk up the tree. So once you've found car3 there are various ways to do what you need. e.g. James Sent: Wednesday, January 23, 2002 2:42 PM Subject: [dom4j-user] mergind documents For more another the https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DocumentException</header>
    <date>Thu Jan 24 13:07:00 CET 2002</date>
    <body>Hi, Seems to me, that you underlying SAXParser have problems finding the source "foo.xml" or the source is not well formed (SAXParseException is caught at l 321 in SAXReader). Which parser are you using? How does your source looks alike? Can you post it? If not can you view it in a xml aware browser like Mozilla or IE ? Hope that helps. Bye Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DocumentException</header>
    <date>Fri Jan 25 11:08:00 CET 2002</date>
    <body>Hi Chava, thanks for sending your xml doc that cause you problems in parsing. I also used a org.dom4j.io.SAXReader as you in order to parse the document and it works fine. No confusing ParseMessage like "Not logged in" appears. I'm using Apache crimson to parse the document. Which parser are you using? Could you post your classpath your shell or our IDE are using? Thx Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DocumentException</header>
    <date>Tue Jan 29 17:54:00 CET 2002</date>
    <body>Does the document contain a DTD reference or anything wierd like that? Chava, its nothing to do with being offline is it? James http://www.gmx.net https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Beginners Questions (Licence, JTree ..)</header>
    <date>Wed Jan 23 09:11:00 CET 2002</date>
    <body>Hello, First off I am new to this list and dom4j and I am currently evaluating its use in a project. I will start by saying I think it's a great project and seems to be exactly what I have been looking for. I have a couple of questions regarding the usage of dom4j, again I have read the licence and I think I understand the implications but I would like to state how I would like to use dom4j to see if there are any licence issues: 1) I will never ship dom4j in source code form. 2) dom4j will only exist as an internal, non API accessible part of a commercial application (user or developer will not see org.dom4j.*.) 3) The dom4j used may have modified source code (although this is highly undesirable I would endeavour to just plug-in the dom4j jar as is) Assuming all the copyrights notices are in the right place and the dom4j project is credited in documentation do you see a problem with the above usage? As you may have guessed I have to persuade management to accept the usage of dom4j. Ok moving on from the legal stuff. I have a more level question. I am looking at the Swing sample code and trying to integrate my own swing JTree with dom4j. I am wondering is there still an issue with the 'leaf' node as mentioned in a mail in the archive. Basically my code currently loads up my XML in dom4j and then the JTree loads the model and the whole XML model is displayed correctly except 'attributes'. Is there a way to get at the attributes from a branch ? Thanks in advance. Alan O'Leary</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Beginners Questions (Licence, JTree ..)</header>
    <date>Sat Jan 26 19:36:00 CET 2002</date>
    <body>Hi Alan From: Alan O'Leary=20 To: Dom4j=20 Sent: Wednesday, January 23, 2002 9:13 AM Subject: [dom4j-user] Beginners Questions (Licence, JTree ..) Hello, First off I am new to this list and dom4j and I am = currently evaluating its use in a project. I will start by saying I = think it's a great project and seems to be exactly what I have been = looking for.=20 I have a couple of questions regarding the usage of dom4j, = again I have read the licence and I think I understand the implications = but I would like to state how I would like to use dom4j to see if there = are any licence issues: =20 1) I will never ship dom4j in source code form. 2) dom4j will only exist as an internal, non API accessible part of a = commercial application (user or developer will not see org.dom4j.*.) 3) The dom4j used may have modified source code (although this is = highly undesirable I would endeavour to just plug-in the dom4j jar as = is) Sounds fine.=20 dom4j has an Apache-style licence - its a BSD licence - so its totally = fine to do as you wish in a commercial context. Assuming all the copyrights notices are in the right place and the = dom4j project is credited in documentation do you see a problem with the = above usage? As you may have guessed I have to persuade management to = accept the usage of dom4j. Just tell them its legally exactly like using any other Apache product = like Tomcat, Ant, JUnit, Xerces, Xalan, Crimson etc. =20 Ok moving on from the legal stuff. I have a more level question. =20 I am looking at the Swing sample code and trying to integrate my own = swing JTree with dom4j. I am wondering is there still an issue with the = 'leaf' node as mentioned in a mail in the archive. Basically my code currently loads up my XML in dom4j and then the = JTree loads the model and the whole XML model is displayed correctly = except 'attributes'. Is there a way to get at the attributes from a = branch ? Once you've got the Swing TreeNode you can do this... // can now access the XML attributes =20 James Thanks in advance. =20 =20 Alan O'Leary =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Beginners Questions (Licence, JTree ..)</header>
    <date>Thu Jan 24 13:41:00 CET 2002</date>
    <body>Hi, Thank you.  We are always happy hearing that :). Okay. How do you mean that? Fixes? Addons? Please fill free to post such stuff here as well as here, so we can decide to make it open to the public. It's just to avoid to create thousands of versions of dom4j ;). Seems so. One thing you cant to do is to sell dom4j as your own idea. We use a lot of OpenSource. Tomat and JBoss for example works fine. dom4j is one of best desinged Open Project (beside JUnit) I know. But I understand that you need information. :) '&amp;gt;leaf' node as mentioned in a mail in the archive. A Branch is not a element. Only Elements have attributtes. The hirachy looks like this. Node  ( atomic ) | | Brach  ( can have children) | | Element ( can have children and attribues) Have you look into org.dom4j.swing.*; package? Sorry I'm not very close to swing or the swing stuff James an other's written for dom4j. Bye Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentException - not logged in</header>
    <date>Thu Jan 24 13:32:00 CET 2002</date>
    <body>Does anyone know what this error is: org.dom4j.DocumentException: Not logged in Nested exception: Not logged in at org.dom4j.io.SAXReader.read(SAXReader.java:321) at org.dom4j.io.SAXReader.read(SAXReader.java:219) What is "not logged in"??????? Chava D. Bernstein</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Lost</header>
    <date>Thu Jan 24 12:55:00 CET 2002</date>
    <body>Hi Chris, &amp;gt;installed, but this didn't fix the problem.  I've never= You need a JDK (for develeopment) or a JRE( form for your OS. Look at http://www.java.sun.com . The Java Compiler javac needs the classpath of all external used libs which are typically jar files. The Java Interpreter java needs also a path to get informed where all these pretty jar files are. Check your classpath first. The build.bat file sets the classpath autmatically for you and starting Jakarta Ant a XML based Make like tool we use to automate the build process of dom4j. Hope that helps. If  not - don't hestitate to post again. Bye Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: [dom4j-user]Best Practices</header>
    <date>Thu Jan 24 11:59:00 CET 2002</date>
    <body>&amp;gt;Hello, appendContent(Branch b) is the same as addAll( Collection c ) in Collection API. So I adds a complete Brach of Elements into the tree. addElement adds a single element (and its children of course). From that view both methods do the same. Note that detach() kills all the parental relations. Unfortunally I'm not so deep into org.dom4j.Brach to insure that he kills such realtions automatically are never have them. You should check this. You can do it using 2 lines of code: Document newDocument = DocumentHelper.parseString("&amp;lt;someTag&amp;gt;&amp;lt;otherTag&amp;gt;text oldDocument.getRootElement().addElement( Using a parser here is a secure mechanism, because only well formed xml is used to build a new dom4j Tree. Not really. But maybe org.dom4j.io.DocumentSource which is based on SAXSource helpes you ???? :-) Hope that helps. Bye Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>[dom4j-user] SOME ITEMS THAT YOU MAY BE INTERESTED IN OR BE ABLE TO ADVISE ME ON</header>
    <date>Thu Jan 24 00:13:00 CET 2002</date>
    <body>These are the items that iam interested in selling.. Could you help me with some details on the goods, history, origin etc. are these worth anything and if so who would i contact with regards to selling them? and the best way to sell them ie auction etc APOLOGISE IF YOU HAVE ALREADY RECEIVED THIS E-MAIL JPEGS ARE AVAILABLE AT YOUR REQUEST MANY THANX kriss rolo tel: 0044 182760393 office (uk) 0044 1216864211 home (uk) 0044 7814294018 mobile (uk) return e-mail address krissrolo@... UK ONLY VEHICLE REGISTRATION NUMBER N64 CON NINTENDO 64 CONSOLE item 1 hand carved round table with metal chain link in the middle item 2 magnum laurent perrier vintage 1988 champagne item 3 miniture football on stand from euro96 signed by pele and bobby charlton item 4 is a bit more interesting. its a protana minifon attache, as u will see ive enclosed notes from a web site regarding this and you will see back in the 50's it cost $340.00 so i could imagine this to be worth a bit. it also has an original tape inside i do not know what is on this tape, but judging by who made it and the cost of the machine, the tape could have some important information on it. heres the note..... The Minifon, developed in the early 1950s by Monske GMBH of Hanover(or by Protona GMBH- I'm not certain), was an ultra-miniaturized, battery operated magnetic recording device. It could not (initially at least) record the full range of sounds and was thus limited to voice recording, but it did offer easy portability in a very small package. The idea of offering a pocket dictating machine was novel, since dictation had previously been done in the office. However, it was thought that people like salesmen could take the machine "on the road" with them. Once on the market, the Minifon's promoters discovered that many people took advantage of the recorder's small size to make secret recordings to be used as The "legitimate" use of the Minifon, as a dictating machine, was somewhat problematical. Recordings made on regular dictating equipment were usually letters, and thus were normally sent almost immediately to a typist. The Minifon offered no obvious advantages over standard dictation equipment for office use, but its developers hoped to cultivate new uses for dictation equipment, such as stock taking in warehouses, or the use of the machine as a substitute for note-taking by reporters, insurance adjusters, salesmen, and others. In its original form, the Minifon was a wire recorder, using a type of wire medium developed by the Armour Research Foundation of Chicago and employed in many similar devices since the late 1940s. The machine at its introduction in 1952 had a recording time of one hour, which was remarkably long, and weighed only about 3 pounds at a time when a typical office dictating machine weighed upwards of 10 pounds. It accomplished this small size and light weight in part through the use of miniature tubes and clever mechanical design. The basic machine cost $289.50-- a price that sounds high today but was very much in line with competing office dictating machines. The parent company attempted to set up distribution, sales and service networks in the United States. It established a business office called the Minifon Export Corp in New York, and an existing company, Harvey Radio in New York City became the main distributor. Although smaller tape recorders appeared at about the same time, the main competition in the voice recording field was from an American company, Mohawk, which made a small, battery-operated cartridge tape recorder called the Migetape. Both After a few years, the Minifon was modified to use transistors and magnetic tape, further lowering its weight and cost. By 1962 the basic machine weighed in at only 1.5 pounds. Competition by this time had helped bring the cost down to $249.50. The Minifon after about 1962 was distributed by the international conglomerate ITT through its subsidiary in the U.S., Federal Electric Corp. A little later, distribution was taken over by the ITT Distributor Products Division in Lodi, New Jersey. (I don't know whether these were the same company with different names) By the time ITT became associated with this product, it had taken on the name of Minifon "Attache," and a new line of models and options appeared. These included a hi-fi model, the 978H, which sold for $330.50.Usinga two-track, 1/4 inch tape cartridge operating at 1 7/8 inches per second, the machine claimed a frequency response of up to 12,000 Hz, plus or minus 3db. The coming of magnetic tape did not completely displace wire. The Model 240 series of recorders introduced in the early 1960s were probably the last wire recorders in regular production. The 240L, at a price of $269.50 used a special long-playing wire cartridge that held 4 hours of wire. Otherwise it looked like both the tape model and the 240S, which used a 2-hour wire cartridge and sold for $249.50. Another innovation was the introduction of more conventional recorders. After years of offering only "half" of a complete dictation system, Minifon finally developed a restyled, non-portable "office" machine, mainly for use by a transcriber, with pedal controls. By the mid-1960s, Minifon was trying to market its machines as multi-purpose devices suitable for nearly any recording need. In addition to the hi-fi and long-playing machines, the company offered an astounding variety of optional equipment such as foot controls, microphones, external amplifiers and loudspeakers, headsets, external power supplies, telephone recording attachments, conference recording adapters. One of the most interesting options were the miniature microphones intended to allow users to make "spy" recordings. In addition to a small tie-clip microphone, the Minifon could be equipped with a microphone disguised as a wrist- watch.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Best Practices</header>
    <date>Mon Jan 21 16:04:00 CET 2002</date>
    <body>Hello, From going through the mailing list archives, it seems that the recommended way of merging one dom4j tree as a sub-tree of another is to detach() the root node of one and use addElement() to graft it onto the other. However, I got this to work first using Element.appendContent() which seems to work fine - I appear to have successfully inserted an entire hierarchy of nodes. Is there a rule of thumb over when it is best to use either detach and addElement, versus appendContent? And is there going to be a helper method for adding a bit of static xml a la "&amp;lt;someTag&amp;gt;&amp;lt;otherTag&amp;gt;text content&amp;lt;/otherTag&amp;gt;&amp;lt;/someTag&amp;gt;"? Although wouldn't you just be able to use a StringSource? Thanks, Andy ______________________________________________________________________ Web-hosting solutions for home and business! http://website.yahoo.ca</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Best Practices</header>
    <date>Wed Jan 23 18:09:00 CET 2002</date>
    <body>Hi Andy The reason for the detach() is that it doesn't need to do a deep clone of the whole branch that you're moving to another destination. The appendContent() works fine but can end up cloning branches unnecessarily if you really want to move a branch rather than add a new clone. A couple more answers in place.. Which ever is easiest for you .detach() tends to be a bit more efficent as no cloning occurs. There's a helper method for parsing XML into a Document. So you can do things like... // lets move the root element to a new place James http://website.yahoo.ca https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Lost</header>
    <date>Tue Jan 22 21:50:00 CET 2002</date>
    <body>Hi, I'm new to the list.   I just installed dom4j on my machine= and attempted to run a variation of the first example listed on= the Quick Start Guide.  Unfortunately no matter which compiler= I'm using it has a fit over the line "import= org.dom4j.Document;" which is of course one of the first= lines...  Obviously it's not finding the files!  I put all of= the dom4j files in a directory and ran "build.bat" to get it all= installed, but this didn't fix the problem.  I've never= installed any java packages for the whole system before.  I have= tried to install the java xml pack and ran into similar problems= with it.  Could someone please tell me what I need to do to get= packages like this to work??  I really like the looks of dom4j= as it fits in rather well with a large program that I was= already writing.  I want to base all of the data for the program= in XML so I need SOME way to parse it in and I can't get any= that I've found to work at ALL.  Please help this lost soul! = TIA Chris Golden IT Specialist Auburn University Environmental Institute</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Lost</header>
    <date>Wed Jan 23 18:09:00 CET 2002</date>
    <body>Try adding the dom4j.jar to your CLASSPATH and you should be fine. The build.bat and the Ant build file does this already for compiling the samples in dom4j/src/samples.. If you're using an IDE or command line, just add dom4j.jar to your CLASSPATH and you should be fine. James Sent: Tuesday, January 22, 2002 9:58 PM Subject: [dom4j-user] Lost Hi, I'm new to the list.   I just installed dom4j on my machine and attempted to run a variation of the first example listed on the Quick Start Guide.  Unfortunately no matter which compiler I'm using it has a fit over the line "import org.dom4j.Document;" which is of course one of the first lines...  Obviously it's not finding the files!  I put all of the dom4j files in a directory and ran "build.bat" to get it all installed, but this didn't fix the problem.  I've never installed any java packages for the whole system before.  I have tried to install the java xml pack and ran into similar problems with it.  Could someone please tell me what I need to do to get packages like this to work??  I really like the looks of dom4j as it fits in rather well with a large program that I was already writing.  I want to base all of the data for the program in XML so I need SOME way to parse it in and I can't get any that I've found to work at ALL.  Please help this lost soul!  TIA Chris Golden IT Specialist Auburn University Environmental Institute _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to make dom4j _not_ look for a dtd</header>
    <date>Wed Jan 23 09:43:00 CET 2002</date>
    <body>Hi, is there a way to tell dom4j to *not* follow a dtd for validation. For example: // xml references &amp;lt;!DOCTYPE preferences SYSTEM ' http://java.sun.com/dtd/preferences.dtd '&amp;gt;  (this url does not exist) throws a dtd not found exception. Setting all the following has no effect on the dtd checking: I'd appreciate any suggestion. Thanks, -- carl</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to make dom4j _not_ look for a dtd</header>
    <date>Wed Jan 23 17:26:00 CET 2002</date>
    <body>You have to use EntityResolver to solve this problem. You can write your own implementation of EntityResolver.  For more infor on EntityResolver look into the documentation of  org.xml.sax.EntityResolver -kesav kumar Sent: Wednesday, January 23, 2002 1:44 AM Subject: [dom4j-user] how to make dom4j _not_ look for a dtd example: ' http://java.sun.com/dtd/preferences.dtd '&amp;gt;  (this url on the dtd checking: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j with jdk1.4.0-beta3</header>
    <date>Wed Jan 23 13:43:00 CET 2002</date>
    <body>Is anyone aware of problems with using the dom4j package with jdk1.4.0-beta3?  I am having trouble using a Document object and SAXReader. Thanks. Chava D. Bernstein Software Engineer Northrop Grumman</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] dom4j with jdk1.4.0-beta3</header>
    <date>Wed Jan 23 16:55:00 CET 2002</date>
    <body>I've been using it with jdk1.4.0 beta 3 for some time now with no problems at all. -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Bernstein, Chava D. Sent: Wednesday, January 23, 2002 7:41 AM To: 'dom4j-user@...' Subject: [dom4j-user] dom4j with jdk1.4.0-beta3 Is anyone aware of problems with using the dom4j package with jdk1.4.0-beta3?  I am having trouble using a Document object and SAXReader. Thanks. Chava D. Bernstein Software Engineer Northrop Grumman _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] mergind documents</header>
    <date>Wed Jan 23 14:53:00 CET 2002</date>
    <body>Marc, You can use org.dom4j.Node.getPath() or org.dom4j.Node.getUniquePath() to get the XPATH expression for a node. See the API docs. Chuck Simpson Chuck_Simpson@... |        |          WERKSTUDENT1                | |        |          &amp;lt;werkstudent1@...| |        |          &amp;gt;                           | |        |          Sent by:                    | |        |          dom4j-user-admin@...| |        |          eforge.net                  | |        |                                      | |        |                                      | |        |          01/23/02 08:42 AM           | |        |                                      | &amp;gt;--------------------------------------------------------------------------------------------------------------| |                                                                                                              | |       To:     "'dom4j-user@...'" &amp;lt;dom4j-user@...&amp;gt;                        | |       cc:                                                                                                    | |       Subject:     [dom4j-user] mergind documents                                                            | &amp;gt;--------------------------------------------------------------------------------------------------------------| Hi again! Another question related with my last mail: Imagine again: doc1 -----red -----large -----car1 -----car2 -----small -----car3 -----blue -----large -----car4 Is there a way to extract the path of the document for only one element? For example I'd like to get the tree to "car3": doc1 -----red -----small -----car3 Now it should be possible to enter this tree into another document which looks like: doc2 -----red -----large -----car9 to get the final combined document: doc1 -----red -----large -----car1 -----small -----car3 Guess what I'd like to do? It's the same in my last post, but a liitle more step by step, so that I check if one Element is already existing in another tree and if not enter it, otherwise do something else for example change the value of the original tree. Rgds. Marc _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] merging two documents</header>
    <date>Wed Jan 23 13:39:00 CET 2002</date>
    <body>Hi! Maybe this question is related to the issue of "A. Yang" who posted a mail two days ago? Imagine two documents which should be combined: They should describe a car park, first the color, then car-size and finally a car-number or whatever (not useful for life, but useful for illustrating my problem) 1) doc1 -----red -----large -----car1 -----car2 -----small -----car3 -----blue -----large -----car4 2) doc2 -----blue -----small -----car5 -----yellow -----large -----car6 these both documents should be combined in a way that doc1 is replanished with all cars of doc2 that after combining doc1 looks like: 3) doc1 -----red -----large -----car1 -----car2 -----small -----car3 -----blue -----large -----car4 -----small -----car5 -----yellow -----large -----car6 Actually I am missing something like doc1 = doc1.combine(doc2) Is there somthing familiar to get this result or do I have to pass through every single element of doc2 and add them manually to doc1? And if so... any code available? Best regards Marc</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentException</header>
    <date>Tue Jan 22 20:35:00 CET 2002</date>
    <body>I am trying to execute the following code: I am getting a DocumentException: org.dom4j.DocumentException: Not logged in Nested exception: Not logged in at org.dom4j.io.SAXReader.read(SAXReader.java:321) at org.dom4j.io.SAXReader.read(SAXReader.java:219) Does anyone have any clues as to what the problem may be? Thanks. Chava D. Bernstein Software Engineer Northrop Grumman</body>
  </mail>
  <mail>
    <header>[dom4j-user] XMLWriter bug !!?</header>
    <date>Sun Jan 20 15:07:00 CET 2002</date>
    <body>Hi there, I'm doing a prettyprinting using the following options: If in my XML-file I have a multiline entry like this: the output of the prettyprint looks like this: instead of which I would prefer. Is this a bug? -- Manfred</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: bug?</header>
    <date>Fri Jan 18 10:06:00 CET 2002</date>
    <body>A case of jumping in with both feet!  Apologies for implying that this may have been a bug (I've done you an injustice James :-) - of course, the 'elementIterator()' method is only intended to return elements ;-) ...however, I do need an operation that returns all elements plus any text content for my particular application, so I'll use my solution. Cheers, Iain FROM: Iain Potter DATE: 01/09/2002 03:35:40 SUBJECT:  [dom4j-user] bug? Hi, I experienced what I think is a bug in the framework.  When a DefaultText is added to a new DefaultElement and then the elementIterator() method is called, the returned Iterator is empty.  Is this behaviour expected or is it a bug?  I have written some sample code (below) to illustrate what I mean. // This does not return the text... while(it.hasNext()) // ...this does I can make the Iterator return the DefaultText by modifying the elementIterator() method in the DefaultElement class.  The type-checking of the content variable is modified to check for 'Node' instead of 'Element'.  I can simply use my modified code, but I would prefer to have an 'official' build if this is a bug! TIA, Iain -- Iain Potter Senior Software Engineer PrismTech Limited http://www.prismtechnologies.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: bug?</header>
    <date>Fri Jan 18 19:31:00 CET 2002</date>
    <body>Hi Iain There's a nodeIterator() method if you want to iterate through all child nodes, text, elements, CDATA etc. So if you modify your code to use nodeIterator() rather than elementIterator() you should be fine. elementIterator() just iterates through child Elements, nodeIterator() iterates through all child Nodes. Hopefully you won't need to patch the code to do what you need. James Sent: Friday, January 18, 2002 10:04 AM Subject: [dom4j-user] Re: bug? http://www.prismtechnologies.com https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: XPath sorting</header>
    <date>Fri Jan 18 19:29:00 CET 2002</date>
    <body>Hi Luis Comments in place... the The second parameter is the sorting XPath expression, which is relative to the nodes that are selected. elements. If you want to sort these by their @param attribute then use... List l = d.selectNodes("/rule//param","@name") of Not totally sure I follow. Does changing the sort-by XPath expression help this last question? James http://www.aqs.es/ &amp;gt;.  Tel.91 578 01 27. / Fax. 91 577 76 78. http://dom4j.org/todo.html and it function http://tippen2.web.de/?x=13 https://lists.sourceforge.net/lists/listinfo/dom4j-dev http://www.jbrix.org for: https://lists.sourceforge.net/lists/listinfo/dom4j-dev http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-dev _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Write XPath</header>
    <date>Thu Jan 17 22:42:00 CET 2002</date>
    <body>Hi Youssef There is a helper method for making elements based on a subset of XPath expressions. So you can do things like... Element foo = DocumentHelper.makeElement( document, Element bar = DocumentHelper.makeElement( document, Where new elements will be created if required on the path. So after the above code is run there will be one element in the document for a, b, c and d. Hope that helps. It would be nice to extend this idea to more XPaths than simple element paths, but its kinda hard. James Hi, I create a Document like this:   document = After I've got a String representing a Xpath query and i would like write this Xpath in the empty document object. Is it possible ? Thanks. __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Creating element in factory based on attribute value</header>
    <date>Thu Jan 17 22:37:00 CET 2002</date>
    <body>Hi Chris What you are trying to do sounds good to me. (And your subject line was fine too ;-) I will have to check the source when I get back to my laptop but I would think the code could be patched such that when a document is parsed via SAX (which is very common) then a factory method could be used to let you do this kind of thing... createElement(QName qname, Attributes attributes) Where Attributes is the SAX Attributes interface. Though this mechanism would only work when using SAX. If the XPP parser was used, or one day the XNI parser, then a different approach would be required. James Hello, and sorry for the confusing subject. I'm using my own DocumentFactory so that certain elements are mapped to my own classes. For the most part I have a 1:1 mapping between element types and classes. However, for a particular element I'd like multiple classes depending on a particular attribute value, e.g.: Element      ==&amp;gt; Class The problem is that during DocumentFactory.createElement you don't know what the attributes are yet. Is there a relatively clean way to do this short of transforming the document before parsing? Thanks, Chris __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Write XPath</header>
    <date>Thu Jan 17 12:06:00 CET 2002</date>
    <body>Hi, I create a Document like this:   document =3D = After I've got a String representing a Xpath query and i would like = write this Xpath in the empty document object. Is it possible ? Thanks.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Creating element in factory based on attribute value</header>
    <date>Wed Jan 16 22:37:00 CET 2002</date>
    <body>Hello, and sorry for the confusing subject. I'm using my own DocumentFactory so that certain elements are mapped to my own classes. For the most part I have a 1:1 mapping between element types and classes. However, for a particular element I'd like multiple classes depending on a particular attribute value, e.g.: Element      ==&amp;gt; Class The problem is that during DocumentFactory.createElement you don't know what the attributes are yet. Is there a relatively clean way to do this short of transforming the document before parsing? Thanks, Chris</body>
  </mail>
  <mail>
    <header>[dom4j-user] what am I doing wrong</header>
    <date>Wed Jan 16 08:27:00 CET 2002</date>
    <body>Hi, I'm trying to change the name of a element using setName() but I get following message: The name and namespace of this Element cannot be changed I've checked the DOM4J code and as far as I can see it's not possible to change the name of an element: DocumentFactory.createElement =&amp;gt; creates tree.DefaultElement tree.DefaultElement =&amp;gt; extends tree.AbstractElement tree.AbstractElement =&amp;gt; throw new UnsupportedOperationException( "The name and namespace of this Element cannot be What am I doing wrong? Or is it really not possible to change the element name? Thanx for any advice, Silvain</body>
  </mail>
  <mail>
    <header>[dom4j-user] Urgh, more xpath!</header>
    <date>Tue Jan 15 23:42:00 CET 2002</date>
    <body>Why does this work: when this does not: ??? Is there something in some docs or comments or web sites or faq's somewhere that I missed that explains how in general to do xpath with dom4j?</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XPath and namespaces</header>
    <date>Mon Jan 14 22:39:00 CET 2002</date>
    <body>I'm going to leave it up to my users to make sure they structure their XPath expressions correctly for the documents they expect ;-).  So I don't have to worry about the actual prefixes and URLs (I don't think). What I need to know is if those 2 lines below will handle all the cases. What would the Jaxen code look like? -----Original Message----- From: bob mcwhirter [mailto:bob@...] Sent: Monday, January 14, 2002 4:20 PM To: David Hooker Cc: dom4j-user@... Subject: Re: [dom4j-user] XPath and namespaces arbitrary do the correctly account.  I which adds here? What you'll want to do: a) Determine the namespace(s) of the element(s) that your XPath refers to. b) Bind directly into the XPath, irrespective of any target document, the prefix-&amp;gt;URI that *you* select for the context of your XPath. c) Now, regardless of the prefix used in a target document, if the URI resolves to the same URI that *your* prefixes (from (b) above), then a match will occur. You may bind: http://pizza.org/pizza-ml While the document bings http://pizza.org/pizza-ml If you XPath is "cheese:call-in-order", it'll match a document containing: http://pizza.org/pizza-ml"/ As far as actual API you need... beats me.  I typically use Jaxen directly, and not through the dom4j api, for some reason. -bob</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath and namespaces</header>
    <date>Mon Jan 14 20:49:00 CET 2002</date>
    <body>I'm still a little unclear on how XPath and namespaces relate. =20 I'm working on a program which can take as input 2 things: any arbitrary xxml document, and any arbitrary xpath expression.  I need to run the expression on the document.  My initial guess is that this code will do = the trick: =20 XPath xpath =3D Node selectedNode =3D =20 I *think* this should work for every case (assuming the xpath is = correctly entered by the user), but this code doesn't take namespaces into = account.  I remember having to jump through some hoops for another part of my code = which does use namespaces, and I also seem to remember some function which = adds all the namespaces of a document to the xpath object.  Am I mistaken = here? What is the correct way to go? =20 -David-</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath and namespaces</header>
    <date>Mon Jan 14 22:19:00 CET 2002</date>
    <body>&amp;gt; I'm still a little unclear on how XPath and namespaces relate. What you'll want to do: a) Determine the namespace(s) of the element(s) that your XPath refers to. b) Bind directly into the XPath, irrespective of any target document, the prefix-&amp;gt;URI that *you* select for the context of your XPath. c) Now, regardless of the prefix used in a target document, if the URI resolves to the same URI that *your* prefixes (from (b) above), then a match will occur. You may bind: http://pizza.org/pizza-ml While the document bings http://pizza.org/pizza-ml If you XPath is "cheese:call-in-order", it'll match a document containing: http://pizza.org/pizza-ml"/ As far as actual API you need... beats me.  I typically use Jaxen directly, and not through the dom4j api, for some reason. -bob</body>
  </mail>
  <mail>
    <header>[dom4j-user] default namespace?</header>
    <date>Sun Jan 13 16:28:00 CET 2002</date>
    <body>Hi, I have a lot of xml files with the following header: http://bla ..." ... Its no problem to acess any Elements if the definition would have been: http://www ..... using Is there any way to define a default namespace? map.put ("", " http://bla ... "); does not work. greetings Juergen Fey</body>
  </mail>
  <mail>
    <header>[dom4j-user] Attributes starting with Upper case letter</header>
    <date>Thu Jan 10 14:57:00 CET 2002</date>
    <body>Hi I have a scenario where the attribute of an element starts with a upper case letter. Ex. When I use the addSetProperty(), the correct method setFirstName() and setLastName() are only called when I have something like this: Note the attribute name "firstName" compared to the above where it is "FirstName". Unfortunately I have no control over the attribute names and case of the starting letter and so what should be my method names so they will be called. Regards Joseph Rajkumar</body>
  </mail>
  <mail>
    <header>[dom4j-user] bug?</header>
    <date>Wed Jan 09 11:31:00 CET 2002</date>
    <body>Hi, I experienced what I think is a bug in the framework.  When a DefaultText is added to a new DefaultElement and then the elementIterator() method is called, the returned Iterator is empty.  Is this behaviour expected or is it a bug?  I have written some sample code (below) to illustrate what I mean. // This does not return the text... while(it.hasNext()) // ...this does I can make the Iterator return the DefaultText by modifying the elementIterator() method in the DefaultElement class.  The type-checking of the content variable is modified to check for 'Node' instead of 'Element'.  I can simply use my modified code, but I would prefer to have an 'official' build if this is a bug! TIA, Iain -- Iain Potter Senior Software Engineer PrismTech Limited http://www.prismtechnologies.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Merging documents</header>
    <date>Tue Jan 08 20:16:00 CET 2002</date>
    <body>Hello, From going through the mailing list archives, it seems that the recommended way of merging one dom4j tree into another is to detach() the root node of one and use addElement() to graft it onto the other. However, I got this to work first using Element.appendContent() which seems to work fine - I appear to have successfully inserted an entire hierarchy of nodes. Is there a rule of thumb over when it is best to use either detach and addElement, versus appendContent? And is there going to be a helper method for adding a bit of static xml a la "&amp;lt;someTag&amp;gt;&amp;lt;otherTag&amp;gt;text content&amp;lt;/otherTag&amp;gt;&amp;lt;/someTag&amp;gt;"? Although wouldn't you just be able to use a StringSource? Thanks, Andy ______________________________________________________________________ Web-hosting solutions for home and business! http://website.yahoo.ca</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Issue with dom4j 1.1</header>
    <date>Wed Jan 02 12:30:00 CET 2002</date>
    <body>http://www.somewhere.com/2001/loan " You must use a namespace prefix in your XPath expression. Note that prefixes used in an XPath expression can be independent of those used in the document itself. e.g. using the current daily build of dom4j (the new 1.2 release will be out soon) uris.put( "loan", " http://www.somewhere.com/2001/loan In the above code this would match any ENTRY element in any document provided the namespace URI matched the one given - irrespective of what prefix was used. elements but not the third, since only the namepspace URI is important. http://www.somewhere.com/2001/loan"/ http://www.somewhere.com/2001/loan"/ http://www.acme.com/somethingElse"/ James something this either use XML http://mail.yahoo.com _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] manipulating elements/nodes "in place"</header>
    <date>Sat Mar 02 16:23:00 CET 2002</date>
    <body>Hello folks, I have some code that is supposed to look in a dom4j node, find child elements/nodes within it that fit a criteria, then add an attribute to = it. This would be pretty simple except that this is unstructured content so = when the altered element is put "back" into the document it needs to go back = to exactly the place where it was before. Is there a way I can manipulate the matched elements without pulling it = out of the parent node? This is the code, I end up with a properly edited element, but the = element isn't part of the parent, intro, element anymore. Document introDoc =3D DocumentHelper.parseText("&amp;lt;intro&amp;gt;" + // find all address values and append cid values=20 =20 List addressList =3D intro.selectNodes("//address");=20 ArticleList articleList =3D (ArticleList) Enumeration articles =3D Article article =3D (Article) articles.nextElement();=20 =09 =09 addressEl.addAttribute("cid",String.valueOf(article.getContentArticleID()= The sample content I've been working with: for growth by quite a few players in the high-net-worth financial = services full-service family advisor product&amp;lt;/address&amp;gt; for individuals and families with = assets under management of $50 million and up.  &amp;lt;address type=3D"veracityID" key=3D"452W-4B60-01CT-124B-00000-00"&amp;gt;&amp;lt;publication&amp;gt;American Banker's&amp;lt;/publication&amp;gt; short profile of &amp;lt;company&amp;gt;Wilmington = journey&amp;lt;/address&amp;gt; from regional bank to national wealth management = powerhouse implies a strategy of continuous growth. Others in the news with = expansions and talk of expansions include: &amp;lt;address type=3D"veracityID" key=3D"4509-TXJ0-002N-P0X7-00000-00"&amp;gt;&amp;lt;company&amp;gt;Scotiabank's&amp;lt;/company&amp;gt; = private client group&amp;lt;/address&amp;gt; with a set of seven new offices; &amp;lt;address type=3D"veracityID" key=3D"450H-G0P0-01CT-13MT-00000-00"&amp;gt;&amp;lt;company&amp;gt;Mellon&amp;lt;/company&amp;gt;&amp;lt;/address&amp;gt; = with talk about renewed growth in its retail divisions; &amp;lt;address = type=3D"veracityID" key=3D"4521-SY60-01CS-M2S5-00000-00"&amp;gt;&amp;lt;company&amp;gt;Neuberger&amp;lt;/company&amp;gt;&amp;lt;/addres=</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] NoSuchMethodError</header>
    <date>Fri Mar 01 16:47:00 CET 2002</date>
    <body>I am not so sure that dom4j works on USS with 1.1.8.  We are using it on USS, but 1.3.1 Java VM on USS. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, ITS, AEGON FINANCIAL PARTNERS -----Original Message----- From: 	plessasj@... [mailto:plessasj@...] Sent:	Friday, March 01, 2002 10:43 AM To:	dom4j-user@... Subject:	[dom4j-user] NoSuchMethodError I am able to successfully test my class using dom4j on my workstation  (JRE 1.3.1).  When I move it to where I need it to run  (Unix System Services on OS/390 - java version 1.1.8 ) and try to run it, I get the following: java.lang.NoSuchMethodError: java.lang.Class: method forName(Ljava/lang/String;ZLjava/lang/ClassLoader;)Ljava/lang/Class; not found at org.dom4j.io.SAXHelper.classNameAvailable(SAXHelper.java:130) at org.dom4j.io.SAXHelper.createXMLReaderViaJAXP(SAXHelper.java:89) at org.dom4j.io.SAXHelper.createXMLReader(SAXHelper.java:65) at org.dom4j.io.SAXReader.createXMLReader(SAXReader.java:574) at org.dom4j.io.SAXReader.getXMLReader(SAXReader.java:457) at org.dom4j.io.SAXReader.read(SAXReader.java:287) at org.dom4j.io.SAXReader.read(SAXReader.java:229) at com.mycompany.xxx.MyClass.getSampleRequest(MyClass.java:99) at com.mycompany.xxx.MyClass.main(MyClass.java:70) The getSampleRequest method looks something like this... Document doc = reader.read( " http://myserver/myxmlfile.xml I am not only a neophyte when it comes to dom4j but to java as well  I am sure I am doing something stupid.  But I'm not sure where to start looking. Thanks in advance for any help. John _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] NoSuchMethodError</header>
    <date>Fri Mar 01 16:43:00 CET 2002</date>
    <body>I am able to successfully test my class using dom4j on my workstation  (JRE 1.3.1).  When I move it to where I need it to run  (Unix System Services on OS/390 - java version 1.1.8 ) and try to run it, I get the following: java.lang.NoSuchMethodError: java.lang.Class: method forName(Ljava/lang/String;ZLjava/lang/ClassLoader;)Ljava/lang/Class; not found at org.dom4j.io.SAXHelper.classNameAvailable(SAXHelper.java:130) at org.dom4j.io.SAXHelper.createXMLReaderViaJAXP(SAXHelper.java:89) at org.dom4j.io.SAXHelper.createXMLReader(SAXHelper.java:65) at org.dom4j.io.SAXReader.createXMLReader(SAXReader.java:574) at org.dom4j.io.SAXReader.getXMLReader(SAXReader.java:457) at org.dom4j.io.SAXReader.read(SAXReader.java:287) at org.dom4j.io.SAXReader.read(SAXReader.java:229) at com.mycompany.xxx.MyClass.getSampleRequest(MyClass.java:99) at com.mycompany.xxx.MyClass.main(MyClass.java:70) The getSampleRequest method looks something like this... Document doc = reader.read( " http://myserver/myxmlfile.xml I am not only a neophyte when it comes to dom4j but to java as well  I am sure I am doing something stupid.  But I'm not sure where to start looking. Thanks in advance for any help. John</body>
  </mail>
  <mail>
    <header>[dom4j-user] Are You Looking For A New Job Or Career Opportunity?</header>
    <date>Wed Feb 27 21:42:00 CET 2002</date>
    <body>Job face=Arial high-profile exhibitors&amp;lt;/FONT&amp;gt;&amp;lt;/U&amp;gt; are offering earnings packages from up to opportunity&amp;amp;nbsp;to meet and interview face-to-face with &amp;lt;/FONT&amp;gt;&amp;lt;FONT face=Arial size=4&amp;gt;top-notch employers and get hired right on the Nearest You &amp;lt;/FONT&amp;gt;&amp;lt;A href=" http://www.americanjobfairs.com"&amp;gt;&amp;lt;FONT size=5&amp;gt;Click</body>
  </mail>
  <mail>
    <header>[dom4j-user] default namespace issue</header>
    <date>Tue Feb 26 16:35:00 CET 2002</date>
    <body>Given a document: Using the XPath: //*[name()='one']/two/@three I get different results with Xalan (works) and dom4j (fails). The XPath spec just confuses me, but it says: A QName in the node test is expanded into an expanded-name using the namespace declarations from the expression context. This is the same way expansion is done for element type names in start and end-tags except that the default namespace declared with xmlns is not used: if the QName does not have a prefix, then the namespace URI is null (this is the same way attribute names are expanded). Which seems to mean to mean either that it should work or that it should fail depending on which day I am reading the spec....  Is Xalan right, or is dom4j right? -Tom</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] default namespace issue</header>
    <date>Tue Feb 26 18:14:00 CET 2002</date>
    <body>On Tue, 26 Feb 2002, Tom Oehser wrote: A-ha!  dom4j/jaxen beats Xalan! We went 'round and 'round on this, and I think we're correct. Your XPath is for elements not in a namespace, while your document contains elements in a namespace.  The fact that your document uses the default namespace mechanism is irrelevant, as the XPath doesn't inherit *any* namespace mappings from the document. You need to bind a prefix to the namespace in a NamespaceContext for your XPath, and then use that prefix.  There's no concept of 'default namespace' rules in xpaths, so you have to be explicit about it. Wacky, but true. -bob (surpised to learn Xalan is non-conformant)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] default namespace issue</header>
    <date>Tue Feb 26 18:54:00 CET 2002</date>
    <body>... ... ... So, in the case where I really am not sure what the namespace will be, or if there will even be one, as the spec I am working from is in flux with regard to the namespaces but not the elements, I have to do: //*[name()='one']//*[name()='two']/@three ??? ick, there must be a better way.  XPath-2 will allow *:name, won't it?  When/if will that be a reality?  Of is there a better way now? What about xquery things?  I have documents where dom navigation is ugly, xpath is ugly, what else is there? -Tom</body>
  </mail>
  <mail>
    <header>[dom4j-user] configuration in netbeans using dom4j</header>
    <date>Tue Feb 26 19:34:00 CET 2002</date>
    <body>Every now and then, I play a bit with my filesystem options and then dom4j starts giving me the old "error with jaxp, using Aelfred" message. I'm running netbeans 3.3.1 with jdk 1.4.  I assumed that since I indicate the jdkhome as the directory where jdk 1.4 resides, that all the jaxp stuff is taken care of, but apparently I'm wrong. Can someone explain to me how my filesystems should appear in the explorer so that dom4j will properly detect the jaxp capable parser and transformer in jdk 1.4? Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] default namespace issue</header>
    <date>Tue Feb 26 22:35:00 CET 2002</date>
    <body>On Tue, 26 Feb 2002, Tom Oehser wrote: Ayup. But, remember, the element named &amp;lt;bob&amp;gt; in the " http://foo.org/ " namespace is vastly distinct from an element named &amp;lt;bob&amp;gt; in the " http://bar.org/ " namespace.  So, I guess I don't see the problem, as if you treat both &amp;lt;bob&amp;gt; elements identical, you might as well tread &amp;lt;bob&amp;gt; and &amp;lt;fred&amp;gt; as equivalent also.  XPaths are based on the QName, which is the NS+name, not just the name. Nope, not yet. I haven't tracked xpath-2 much, yet. I think that if you truly want to do what you're saying, then probably you have bigger semantic issues with your data. -bob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] default namespace issue</header>
    <date>Wed Feb 27 03:56:00 CET 2002</date>
    <body>Or you can bind your namespace URI to some prefix of your choice and have a much nicer expression. my:one/my:two/@three So in other words, when dealing with namespaces its good to use prefixes in XPath expressions. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] default namespace issue</header>
    <date>Wed Feb 27 05:12:00 CET 2002</date>
    <body>I figured out why I was getting different results with Xalan and dom4j, it had to do with some parsers defaulting to namespace aware and others not. Unfortunately, I don't have any control over the xml or the DTD, nor even certainty of exactly what URI will be in use when it runs in production. I know I could transform it first, but the whole reason I got started on this was to avoid having 15 levels of DOM code iterating through nodes and casting back to Elements.  I'll just end up with *[name()= on every level. I have a spec that specifies all the elements, and says there will be a particular default namespace and a prefix, and I have sample and test documents from several sources which do *not* match the spec, but do have a default namespace, but no prefix, and I have suggestions from other groups that they may or may not drop the default namespace or change it, and I have another default namespace under the XML-DSIG stuff, which is probably not going to change.  And I have to create classes and deliver iterations _now_.  So, I really do have to write code that ignores the namespaces, and it really is the most stable and trustworthy thing to do, for these particular documents, until the industry groups and other departments get their act together. -Tom</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] default namespace issue</header>
    <date>Wed Feb 27 17:09:00 CET 2002</date>
    <body>Isn't there a dom4j API call to get the namespace URI's from the XML file and bind them into your xpath expression? -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Tom Oehser Sent: Tuesday, February 26, 2002 11:12 PM To: James Strachan david_marston@... Subject: Re: [dom4j-user] default namespace issue I figured out why I was getting different results with Xalan and dom4j, it had to do with some parsers defaulting to namespace aware and others not. have a prefixes in Unfortunately, I don't have any control over the xml or the DTD, nor even certainty of exactly what URI will be in use when it runs in production. I know I could transform it first, but the whole reason I got started on this was to avoid having 15 levels of DOM code iterating through nodes and casting back to Elements.  I'll just end up with *[name()= on every level. I have a spec that specifies all the elements, and says there will be a particular default namespace and a prefix, and I have sample and test documents from several sources which do *not* match the spec, but do have a default namespace, but no prefix, and I have suggestions from other groups that they may or may not drop the default namespace or change it, and I have another default namespace under the XML-DSIG stuff, which is probably not going to change.  And I have to create classes and deliver iterations _now_.  So, I really do have to write code that ignores the namespaces, and it really is the most stable and trustworthy thing to do, for these particular documents, until the industry groups and other departments get their act together. -Tom _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Multiple default namespaces cannot be selected with "". (fwd)</header>
    <date>Tue Feb 26 20:42:00 CET 2002</date>
    <body>---------- Forwarded message ---------- Date: Tue, 26 Feb 2002 15:15:18 -0500 To: xalan-dev@... Cc: Tom@... Subject: Re: Multiple default namespaces cannot be selected with "". The reason that two is an acceptable abbreviation for child::two is that XPath 2.5 requires that it be so. This works in your test because your "two" element was not namespaced. You should read about XPath treatment of namespaces in a good XSLT/XPath book (like Doug Tidwell's book) rather than relying solely on the specs. .................David Marston</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: Multiple default namespaces cannot be selected with "". (fwd)</header>
    <date>Wed Feb 27 03:56:00 CET 2002</date>
    <body>FWIW in the example you gave here The &amp;lt;two&amp;gt; element is in the 'asdf' namespace so //*[name()='one']/two/@three should not find anything. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] TableModel.</header>
    <date>Thu Feb 21 09:28:00 CET 2002</date>
    <body>Hello, I am currently looking at the new TableModel approach that is in the latest release. I am trying to extend this TableDemo example to make it editable etc... This is as a Swing/&amp;lt;dom4j&amp;gt; learning exercise... What I have set up is a Tree and Table and the Tree uses the tree model and on node selection the 'branch' of the tree is used to display a table (using a table definition) All this works now BUT I when I edit a cell I cannot get back a node within the document... (Basically I am building a little XML editor as I thought that would be a good way to learn this stuff quickly) What I am wondering is that I have access to a Row XPath and Column XPath expression .... Is this the key or is there a better way ? So I have overridden the : 'public void setValueAt(Object aValue, int rowIndex, int columnIndex)' but don't know how to modify / access the correct cell the document... Any help appreciated ... Basically I would like to use the TableDefinition approach rather than hard coding a table model... Regards Alan</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath - Building expression using Strings - Exception</header>
    <date>Thu Feb 21 17:38:00 CET 2002</date>
    <body>Hello..., I get the following exception when using the following: .... // xmlBranch is the current branch selected in my JTree ... ... The following exception: org.dom4j.InvalidXPathException: Invalid XPath expression:[@is_attribute='true'] Unexpected '[' !! how can this be an invalid XPath expression Are there rules for going from a String 'expression' to a XPath xpression I need to use the '[' ']' operators as defined in XPath but again dom4j doesn't allow be to do this in the above code... Thanks in advance, Alan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath - Building expression using Strings - Exception</header>
    <date>Thu Feb 21 19:19:00 CET 2002</date>
    <body>Alan, Did you perhaps mean "*[@is_attribute='true']" ? Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] TableModel.</header>
    <date>Fri Feb 22 00:59:00 CET 2002</date>
    <body>Hey Alan Displaying the table using XPath expressions is pretty easy. Right now though updating a document via an XPath expression is pretty hard stuff. XPath is generally used to evaluate expressions on existing documents - its rarely used to actually update documents 'in place'. Though I think it'd be cool to support a subset of XPath for update purposes. Quite a few people seem to want this feature. e.g. you could do something like For some xpath expressions this makes sense, though for others like 'count(/foo/bar)' don't make sense though. It'd take some hacking to get the Jaxen XPath engine to be able to support this but it would be kinda cool if we could do this. James Sent: Thursday, February 21, 2002 9:30 AM Subject: [dom4j-user] TableModel. https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath - Building expression using Strings - Exception</header>
    <date>Fri Feb 22 01:07:00 CET 2002</date>
    <body>Or .[@is-attribute='true'] An XPath expression can't start with '[' so try use '.' or '*' depending on what you mean - both work like with file systems, "." means this element, * means all immediate child elements. James Sent: Thursday, February 21, 2002 7:19 PM Subject: Re: [dom4j-user] XPath - Building expression using Strings - Exception https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] losing entities... not sure how to prevent this</header>
    <date>Mon Feb 25 22:09:00 CET 2002</date>
    <body>I'm working on a project where I'm filtering HTML documents with JTidy, and then modifying the resulting output using dom4j. One of the things I've discovered is that the HTML text often contains quoted text.  I utilized the setquotemarks() method to insure that the quotes are saved out as &amp;amp;quot; entities, but once they're read in by dom4j, text seems to get lost, and I don't see any instances of &amp;amp;quot; anymore. Ampersands are another matter; they seem to remain just fine (there are tons of these in the documnets as well). I'm a bit baffled about what is happening to the text.. can someone explain what I need to do to preserve the entities??? Rob</body>
  </mail>
  <mail>
    <header>[dom4j-user] Losing text using SAXReader read() method, or XMLWriter.. not sure</header>
    <date>Tue Feb 26 01:30:00 CET 2002</date>
    <body>I ran some further tests on the text I'm working with, and found some odd results. I found that if used no dom4j code, and used generic JAXP code to parse the HTML code I was cleaning up using JTidy, and used a subclass of DefaultHandler   (called XMLPrettyPrinter in the code below),  none of my text "disappeared", though I still have some formatting problems with my pretty printer. Example that works: parser.parse(new InputSource(holder.getReader()), new However, I need to manipulate the XML a bit before printing it out, so I was using code like this: // manipulate xml here.... Now the xml is all messed up.  I even tried just parsing and writing the xml (commented out all the manipulation), and again, the xml I'm working with is messed up.  I'm trying to figure out why the dom4j code isn't working here... whole segments of the xml text is just gone after dom4j gets ahold of it. I'm using jdk 1.4 and its endogenous parsers, etc. for my work.  I've attached a sample input XML document that doesn't work with dom4j... using the second example, I'd expect the xml to be the same coming out, assuming I don't perform any manipulations. Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Losing text using SAXReader read() method, or XMLWriter.. not sure</header>
    <date>Tue Feb 26 12:41:00 CET 2002</date>
    <body>Running some more tests early in the morning here.  I've managed to narrow the problem down specifically to the XMLWriter class. I've rewritten my code so that instead of using XMLWriter to write my DOM4J document out to a file, I use the document.asXML() method to simply produce a String object. I then create an ordinary FileWriter, and write out the String.  The contents of this file are exactly what they're supposed to be, unlike that written with XMLWriter. I'm primarily using XMLWriter as a pretty printer, but obviously there's some kind of problem here.  I'm a bit baffled about this one. Rob Sent: Monday, February 25, 2002 7:34 PM Subject: [dom4j-user] Losing text using SAXReader read() method, or XMLWriter.. not sure the was the gets I</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] TableModel.</header>
    <date>Tue Feb 26 14:44:00 CET 2002</date>
    <body>Hello, Thanks for the response. I understand the restriction of using XPath for updates now. However I am wondering if there is an intermediate step that I can achieve table editing. Basically the method of using a 'TableTemplate' is what I find most useful. I am wondering if it would be possible for me through the use of extending/customising the TableDefinition/Column definitions classes to be able to handle editing in the tablemodel set up using the current mechanism. I mean could I get an XPath expression that indicates the current cell I am in and use that expression to GET the Element/Node in the document that this cell represents so that I can then modify it directly.... i.e. XMLTableModel.java 1) override isCellEditable to return true... 2) override setValueAt(Object aValue, int rowIndex, int columnIndex) Now in this method But how can I find out / map back to what this cell means in the original document... ? Thanks in advance, -Alan -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 22 February 2002 00:32 To: Alan O'Leary; dom4j-user@... Subject: Re: [dom4j-user] TableModel. Hey Alan Displaying the table using XPath expressions is pretty easy. Right now though updating a document via an XPath expression is pretty hard stuff. XPath is generally used to evaluate expressions on existing documents - its rarely used to actually update documents 'in place'. Though I think it'd be cool to support a subset of XPath for update purposes. Quite a few people seem to want this feature. e.g. you could do something like For some xpath expressions this makes sense, though for others like 'count(/foo/bar)' don't make sense though. It'd take some hacking to get the Jaxen XPath engine to be able to support this but it would be kinda cool if we could do this. James Sent: Thursday, February 21, 2002 9:30 AM Subject: [dom4j-user] TableModel. make model be https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] odd error on Unix, not present in Windows</header>
    <date>Tue Feb 26 03:21:00 CET 2002</date>
    <body>I'm not sure where or how to try to do that.  From what I can tell, the = error occurs when I attempt to use the selectSingleNode method. https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] odd error on Unix, not present in Windows</header>
    <date>Tue Feb 26 03:29:00 CET 2002</date>
    <body>The problem appears to have gone away after I place the latest = dom4j-full.jar in my tomcat/lib directory. So, either the jar I had in the application WEB-INF/lib was outdated, or there's something else going on. =20 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] odd error on Unix, not present in Windows</header>
    <date>Tue Feb 26 02:28:00 CET 2002</date>
    <body>I know, I know... this java and xml, it's not supposed to happen.  But = I've got some java code running just find on my Windows 2000 development envioronment, but I get this error from the Apache/Tomcat/Solaris = machine: This is the stack trace: org.dom4j.InvalidXPathException: Invalid XPath expression: //Row com.werken.saxpath.XPathReader at org.dom4j.xpath.DefaultXPath.parse(DefaultXPath.java:279) at org.dom4j.xpath.DefaultXPath.(DefaultXPath.java:57) at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:165) at org.dom4j.tree.AbstractNode.createXPath(AbstractNode.java:205) at org.dom4j.tree.AbstractNode.selectNodes(AbstractNode.java:161) at com.hnw.util.UserImport.insert(UserImport.java:32)=20 This is a java code snippet: ... ... This is an xml file snippet: ... so, I guess I don't get it. .................................................. Marc Elliott Director of Information Architecture / HNW Inc. Digital Solutions for High-Net-Worth Marketers ph: 617-243-9199 x224 fx: 815-327-4167=20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] odd error on Unix, not present in Windows</header>
    <date>Tue Feb 26 02:58:00 CET 2002</date>
    <body>Right off hand, I can't think of why this would be happening. James, any chance we can get nested exceptions, so that we can actually see where in com.werken.saxpath.XPathReader this is truly occurring?  Seeing the stack-trace only from the vantage point of org.dom4j.xpath.DefaultXPath isn't truly helpful to track this down. Marc, do you think you could track down the true source of the exception?  It'll be somewhere in com.werken.saxpath.* package that's really throwing it, I'd hope. -bob On Mon, 25 Feb 2002, Marc Elliott wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Is this a bug, or a failure in my understanding :)</header>
    <date>Tue Feb 26 00:31:00 CET 2002</date>
    <body>There seems to be something fishy with the entity handling in dom4j1.2 with newest Xerces-2.0.0.  You can test with Java code below, and the XML files attached (run 'java test.Broked test.xml').  Here's the output I get (it's returning the entity!?) unixPrompt&amp;gt; java test.Broked test.xml Found node: &amp;amp;LmInclude; there Found node: hello world Where here's what I would expect: unixPrompt&amp;gt; java test.Broked test.xml Found node: hi there Found node: hello world Files below...  I found if I comment out the 'startEntity'/'endEntity' code in SAXContentHandler it works as I'd expect. Thanks! Jason test.xml ---- cut here ---- ---- cut here ---- junk.xml ---- cut here ---- ---- cut here ---- Here's the Java code Broked.java: /** * Insert the type's description here. * Creation date: (02/25/2002 5:13:25 PM) * @author: Jason Robertson */ /** * Broked constructor comment. */ /** * Insert the method's description here. * Creation date: (02/25/2002 5:13:54 PM) * @param args java.lang.String[] */ System.out.println("Found node: " +</body>
  </mail>
  <mail>
    <header>[dom4j-user] Saxon and dom4j</header>
    <date>Mon Feb 25 16:29:00 CET 2002</date>
    <body>Does dom4j work with Saxon instead of xalan?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Saxon and dom4j</header>
    <date>Mon Feb 25 16:41:00 CET 2002</date>
    <body>The long answer is, as long as an XSLT processor supports the Trax interfaces (embodied by the javax.xml.transform interfaces and sub-interfaces) dom4j will work with it. The short answer is yes. Dane Foster http://www.equitytg.com 954.360.9800 Sent: Monday, February 25, 2002 11:28 AM Subject: [dom4j-user] Saxon and dom4j</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] (no subject)</header>
    <date>Fri Feb 22 16:59:00 CET 2002</date>
    <body>Q: What is the memory requirements of dom4j compared to Xerces DOM? A: check out: http://www-106.ibm.com/developerworks/library/x-injava/index.html Q: What is the performance of dom4j-&amp;gt;Xalan transformation compared to Xerces DOM-&amp;gt;Xalan transformation? A: A dom4j DOM can't be directly transformed by Xalan.  You should use the javax.transform.Source and the javax.transform.Result interface to do this. Instructions can be found in the dom4j docs. Since I'm busy making recommendations and giving you advice here is another, Saxon for XSLT.  Saxon outperforms Xalan and consumes less memory (in my tests).  You can get it at http://saxon.sf.net . Good luck. Dane Foster http://www.equitytg.com 954.360.9800 Answers come to those who ask questions. considering https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Fri Feb 22 09:43:00 CET 2002</date>
    <body>Hi We are currently using Xerces and Xalan (both XPath and XSLT) in a major project. For the ease of DOM handling and the memory requirements we are consideri= ng changing to a dom4j, Jaxen and Xalan configuration. Now I have the following question: What is the memory requirements of dom4j compared to Xerces DOM? What is the performance of dom4j-&amp;gt;Xalan transformation compared to Xerces DOM-&amp;gt;Xalan transformation? Cheers, Christian Bj=F8rnbak Tourist Online Production</body>
  </mail>
  <mail>
    <header>[dom4j-user] interesting new article comparing XML object models...</header>
    <date>Fri Feb 22 03:41:00 CET 2002</date>
    <body>Dennis Sosnoski has written part 2 of his excellent study into the various XML object models, you might find it interesting reading. http://www-106.ibm.com/developerworks/library/x-injava2/ James</body>
  </mail>
  <mail>
    <header>[dom4j-user] Calling James</header>
    <date>Thu Feb 21 17:55:00 CET 2002</date>
    <body>I may (maybe) have found an issue with Dom4j on USS/WAS OS/390. The following XML seems to work fine on NT: Notice the space on line 2. However, the same XML returns a U+0 error in parseDocument() on dom4j-full1.1 on USS. Removing the space removes the issue. Is this an XML thing or is it an issue with dom4j? Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, ITS, AEGON Financial Partners</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAXReader.addHandler() path arg</header>
    <date>Wed Feb 20 11:34:00 CET 2002</date>
    <body>Hi, I need to skip elements with a particular name in a xml document and = tried pruning them using SAXReader.addHandler(path, handler). It seems = that the path argument can only be a unique path (e.g. = /parent/child/grandchild) , no wildcards seem to be permitted (e.g. = //child). Is this behaviour intended? If yes, could anyone point out a solution to prune elements specified = only by name anywhere in the tree on reading a xml document? Also, I'm looking for a way to prune xml comments on reading a xml doc. = Is there a way to make a SAXReader call back on = org.xml.sax.ext.LexicalHandler methods? Thanks a lot for any help, Franz</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAXReader.addHandler() path arg</header>
    <date>Thu Feb 21 02:27:00 CET 2002</date>
    <body>Hey Franz You could always try writing a SAX XMLFilter to filter out whatever you = like using whatever matching patterns you can think of. Then you can = install it as follows ... Its on our TO DO list to allow XPath patterns to be used with the = addHandler() method so that you could use an XPath expression like //foo = or /*/bar or whatever - it shouldn't be too hard to do. The = org.dom4j.rule package already does most of the necessary stuff already. = If anyone fancies diving in and patching the code please go ahead - = otherwise I'll try get around to it real soon. James From: Franz Beil=20 To: dom4j-user@... Sent: Wednesday, February 20, 2002 11:32 AM Subject: [dom4j-user] SAXReader.addHandler() path arg Hi, I need to skip elements with a particular name in a xml document and = tried pruning them using SAXReader.addHandler(path, handler). It seems = that the path argument can only be a unique path (e.g. = /parent/child/grandchild) , no wildcards seem to be permitted (e.g. = //child). Is this behaviour intended? If yes, could anyone point out a solution to prune elements specified = only by name anywhere in the tree on reading a xml document? Also, I'm looking for a way to prune xml comments on reading a xml = doc. Is there a way to make a SAXReader call back on = org.xml.sax.ext.LexicalHandler methods? Thanks a lot for any help, Franz</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problems validating with schema</header>
    <date>Fri Feb 15 22:46:00 CET 2002</date>
    <body>I know that this mostly fits under Sun's multi-schema, but I= figure that you guys probably can help me...  I'm trying to= write a basic function that validates a DOM4J Document object by= a W3C Schema file.  I'm using the following code for the= function: VerifierFactory factory =3D new= // See if the document is valid by this Schema I get a "Cannot resolve symbol" error during compilation.  It's= complaining about my call of "return verifier.verify(doc);"  I= looked in the API and it claims that verify just needs a Node,= and I show Document as implementing Node.  Any ideas on how I= can get this to work?  I might implement an ErrorHandler for it= later, but I just wanted to be able to verify my documents for= now... Chris</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problems validating with schema</header>
    <date>Sat Feb 16 10:29:00 CET 2002</date>
    <body>Hi Chris The MSV method you're looking at probably takes a W3C Node interface rather than an org.dom4j.Node interface. There's a sample program in the dom4j/src/validate/JARVDemo.java that demonstrates how to use MSV with dom4j. The trick is to use a VerifierHandler and a dom4j SAXWriter to pipe SAX events into MSV. e.g. adding these few methods instead of the "return verifier.verify(doc);" line James Sent: Friday, February 15, 2002 10:54 PM Subject: [dom4j-user] Problems validating with schema I know that this mostly fits under Sun's multi-schema, but I figure that you guys probably can help me...  I'm trying to write a basic function that validates a DOM4J Document object by a W3C Schema file.  I'm using the following code for the function: VerifierFactory factory = new // See if the document is valid by this Schema I get a "Cannot resolve symbol" error during compilation.  It's complaining about my call of "return verifier.verify(doc);"  I looked in the API and it claims that verify just needs a Node, and I show Document as implementing Node.  Any ideas on how I can get this to work?  I might implement an ErrorHandler for it later, but I just wanted to be able to verify my documents for now... Chris _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problems validating with schema</header>
    <date>Mon Feb 18 15:37:00 CET 2002</date>
    <body>Is there any way to perform Validation this way while reading in= the document from an xml file?  I looked at SAXReader and I= didn't see any way to implement the ValidatorHandler.  Am I just= missing something or do I really have to parse in the XML= document in full and then write it out to validate it by a= schema?  This seems a bit much...  TIA! Chris Golden On Sat, 16 Feb 2002 10:25:25 -0000, James Strachan wrote: interface that MSV.</body>
  </mail>
  <mail>
    <header>Validating with JARV / MSV while parsing (was Re: [dom4j-user] Problems validating with schema)</header>
    <date>Wed Feb 20 04:33:00 CET 2002</date>
    <body>Hey Chris Sorry for the delay answering this - I wanted to prove to myself this approach works before answering. The trick is to use VerifierFilter from MSV which is-a XMLFilter so that validation can be done at the same time as dom4j parsing. The filter can be installed using this code... To test this works I've added a new sample program to CVS at dom4j/src/samples/validate/JARVDemo2.java that uses a VerifierFilter to validate the XML against any schema (DTD, RelaxNG, XML Schema etc.) while parsing a dom4j document. Works a treat. This technique is described (from a SAX perspective) in the JARV.html document in the MSV distribution. James Sent: Monday, February 18, 2002 3:46 PM Subject: Re: [dom4j-user] Problems validating with schema Is there any way to perform Validation this way while reading in the document from an xml file?  I looked at SAXReader and I didn't see any way to implement the ValidatorHandler.  Am I just missing something or do I really have to parse in the XML document in full and then write it out to validate it by a schema?  This seems a bit much...  TIA! Chris Golden On Sat, 16 Feb 2002 10:25:25 -0000, James Strachan wrote: _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] special entities and JAXP</header>
    <date>Tue Feb 19 14:59:00 CET 2002</date>
    <body>Robert, Your second document has two root elements. This may be the source of your problem. Chuck Simpson Chuck_Simpson@... |         |           "Robert J. Lebowitz"       | |         |           &amp;lt;lebowitz@...&amp;gt;  | |         |           Sent by:                   | |         |           dom4j-user-admin@...| |         |           ceforge.net                | |         |                                      | |         |                                      | |         |           02/18/02 11:40 PM          | |         |                                      | &amp;gt;----------------------------------------------------------------------------------------------------------------------------------| |                                                                                                                                  | |        To:      &amp;lt;dom4j-user@...&amp;gt;                                                                               | |        cc:                                                                                                                       | |        Subject: Re: [dom4j-user] special entities and JAXP                                                                       | &amp;gt;----------------------------------------------------------------------------------------------------------------------------------| After some further experimentation, I determined that the character encoding of the text from my JTextArea is Cp1252 and not UTF-8.  Is there some simple way to set the encoding of a StyledDocument used in a JTextArea? I'm assuming that character encoding is the source of my problem here, it may not be the only issue. Rob From: Robert J. Lebowitz To: dom4j-user@... Sent: Monday, February 18, 2002 8:23 PM Subject: [dom4j-user] special entities and JAXP While the application I'm writing utilizes dom4j, this question isn't dom4j specific.  I offer it up to the list simply because many of you are proficient with Java and JAXP.... I suspect this is a very simple problem, but one I can't quite decipher yet.  I apologize if the question is misplaced.... I have written a simple editor which utilizes a JTextArea to hold and visualize text.  I have written a simple method to check for well-formedness (you try to come up with a better adjective) of an XML document.  I am using the JAXP classes in conjunction with jdk 1.4. The text within the JTextArea is extracted using a getDocument().getText() method to obtain a String object. Well-formedness is determine in the following manner: public void wellform(String text) throws IOException, SAXException, private static SAXParserFactory factory = SAXParserFactory.newInstance XMLHandler is a class I've written to catch certain thrown exceptions.  It extends the DefaultHandler adapter just to simplify matters. Here's what I don't understand with regards to my application: If I write a simple one line XML document, say: everything works just fine and dandy... the document is declared well-formed, and life goes merrily on its way. However, if I add a second line directly underneath the first line, any line at all, like: I get back an exception saying: Illegal character at end of document, &amp;amp;#x3c;. Line 2, column 0. Now, I know that what apparently is happening, is that the less than character is being interpreted as a special entity.  But what I don't understand is 1) why does it only affect the second line of text, not the first (is there a carriage return or something that JTextArea sticks in?) ? Is there some feature that I'm supposed to specify for the xmlreader, or saxparser to avoid this problem?  Are there hidden characters coming from the JTextArea I should be aware of, or is there some method I need to modify in my custom ContentHandler (XMLHandler) to overcome this issue??? Hope this makes sense to some of you, Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] special entities and JAXP</header>
    <date>Tue Feb 19 16:14:00 CET 2002</date>
    <body>Yes... I can't believe I missed that.... I should never work at 3 am in the morning. Rob Sent: Tuesday, February 19, 2002 8:55 AM Subject: Re: [dom4j-user] special entities and JAXP -------------------------------------------------------| | | | | -------------------------------------------------------| problem, getDocument().getText() SAXParserFactory.newInstance It https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] difference 1.1 and 1.2</header>
    <date>Mon Feb 18 16:00:00 CET 2002</date>
    <body>Hi, I've encountered a small difference between 1.1 and 1.2. Following example produces different results for 1.1 and 1.2: Output for 1.1:   0 Output for 1.2:   0.0 It seems that DOM4J 1.2 always uses Float objects to represent numbers whereas DOM4J 1.1 used Integer object where possible. Was this an intended change? Silvain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] difference 1.1 and 1.2</header>
    <date>Tue Feb 19 13:20:00 CET 2002</date>
    <body>This was an XPath change that came about in the Jaxen code base and the handling of numeric types. James Sent: Monday, February 18, 2002 4:00 PM Subject: [dom4j-user] difference 1.1 and 1.2 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] DTD Object Model</header>
    <date>Sat Feb 16 16:24:00 CET 2002</date>
    <body>Is there anything out there that can read a DTD and return an object = model of the DTD? thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DTD Object Model</header>
    <date>Sat Feb 16 16:49:00 CET 2002</date>
    <body>When you parse a document with dom4j you can get access to the DTD after = parsing via the DocumentType.getExternalDeclarations() or = DocumentType.getInternalDeclarations(). Take a look at the org.dom4j.dtd = package for the objects you get access too. You need to enable this via = the properties on the SAXReader, e.g. = SAXReader.setIncludeInternalDTDDeclarations(true),=20 For a DTD object model with a parser of just DTDs you could try = DTDParser. http://www.wutka.com/dtdparser.html Or you could try using MSV from Sun which is schema-agnosic and can read = DTDs, XML Schema, RelaxNG, Relax &amp;amp; TREX - though it may be a bit more = complex to use as its more higher level than DTDParser. James From: David Thielen=20 To: dom4j-user@... Sent: Saturday, February 16, 2002 4:24 PM Subject: [dom4j-user] DTD Object Model Is there anything out there that can read a DTD and return an object = model of the DTD? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] special entities and JAXP</header>
    <date>Tue Feb 19 02:19:00 CET 2002</date>
    <body>While the application I'm writing utilizes dom4j, this question isn't = dom4j specific.  I offer it up to the list simply because many of you = are proficient with Java and JAXP.... I suspect this is a very simple = problem, but one I can't quite decipher yet.  I apologize if the = question is misplaced.... I have written a simple editor which utilizes a JTextArea to hold and = visualize text.  I have written a simple method to check for = well-formedness (you try to come up with a better adjective) of an XML = document.  I am using the JAXP classes in conjunction with jdk 1.4. The text within the JTextArea is extracted using a = getDocument().getText() method to obtain a String object. =20 Well-formedness is determine in the following manner: public void wellform(String text) throws IOException, SAXException, = =20 private static SAXParserFactory factory =3D = XMLHandler is a class I've written to catch certain thrown exceptions.  = It extends the DefaultHandler adapter just to simplify matters. Here's what I don't understand with regards to my application: If I write a simple one line XML document, say: everything works just fine and dandy... the document is declared = well-formed, and life goes merrily on its way. However, if I add a second line directly underneath the first line, any = line at all, like: I get back an exception saying: Illegal character at end of document, &amp;amp;#x3c;. Line 2, column 0. Now, I know that what apparently is happening, is that the less than = character is being interpreted as a special entity.  But what I don't = understand is 1) why does it only affect the second line of text, not = the first (is there a carriage return or something that JTextArea sticks = in?) ? =20 Is there some feature that I'm supposed to specify for the xmlreader, or = saxparser to avoid this problem?  Are there hidden characters coming = from the JTextArea I should be aware of, or is there some method I need = to modify in my custom ContentHandler (XMLHandler) to overcome this = issue??? Hope this makes sense to some of you, Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] special entities and JAXP</header>
    <date>Tue Feb 19 05:36:00 CET 2002</date>
    <body>After some further experimentation, I determined that the character = encoding of the text from my JTextArea is Cp1252 and not UTF-8.  Is = there some simple way to set the encoding of a StyledDocument used in a = JTextArea? I'm assuming that character encoding is the source of my problem here, = it may not be the only issue. Rob From: Robert J. Lebowitz=20 To: dom4j-user@... Sent: Monday, February 18, 2002 8:23 PM Subject: [dom4j-user] special entities and JAXP While the application I'm writing utilizes dom4j, this question isn't = dom4j specific.  I offer it up to the list simply because many of you = are proficient with Java and JAXP.... I suspect this is a very simple = problem, but one I can't quite decipher yet.  I apologize if the = question is misplaced.... I have written a simple editor which utilizes a JTextArea to hold and = visualize text.  I have written a simple method to check for = well-formedness (you try to come up with a better adjective) of an XML = document.  I am using the JAXP classes in conjunction with jdk 1.4. The text within the JTextArea is extracted using a = getDocument().getText() method to obtain a String object. =20 Well-formedness is determine in the following manner: public void wellform(String text) throws IOException, = =20 private static SAXParserFactory factory =3D = XMLHandler is a class I've written to catch certain thrown exceptions. = It extends the DefaultHandler adapter just to simplify matters. Here's what I don't understand with regards to my application: If I write a simple one line XML document, say: everything works just fine and dandy... the document is declared = well-formed, and life goes merrily on its way. However, if I add a second line directly underneath the first line, = any line at all, like: I get back an exception saying: Illegal character at end of document, &amp;amp;#x3c;. Line 2, column 0. Now, I know that what apparently is happening, is that the less than = character is being interpreted as a special entity.  But what I don't = understand is 1) why does it only affect the second line of text, not = the first (is there a carriage return or something that JTextArea sticks = in?) ? =20 Is there some feature that I'm supposed to specify for the xmlreader, = or saxparser to avoid this problem?  Are there hidden characters coming = from the JTextArea I should be aware of, or is there some method I need = to modify in my custom ContentHandler (XMLHandler) to overcome this = issue??? Hope this makes sense to some of you, Rob</body>
  </mail>
  <mail>
    <header>[dom4j-user] Outputting HTML data</header>
    <date>Wed Feb 13 14:28:00 CET 2002</date>
    <body>I'm still pretty new around here...   Anyways, I'm trying to= parse an XML file with an XSL spreadsheet and output the results= as plain HTML.  I don't want it in XHTML format (I don't want= single tags having an ending "/"), I don't want the encoding= statement and I want all entities evaluated BEFOREHAND.  I have= all but the last set in the XSL file but it is ignored in a= basic parse, it works fine when using XML Spy for the conversion= though. My biggest confusion is with trying to get HTML entities to= display correctly in the HTML output.   I'm trying to put a= number of &amp;amp;nbsp; entities in there for the final product, but it= bitches at me if I leave them in that form in the XSL file and= if I use "&amp;amp;amp;nbsp;" then it doesn't evaluate the "&amp;amp;amp;" in= the output!  I need to be able to do complex spacing and I want= the output HTML as compatible as possible with a JEditorPane's= HTML display. Anyone have some suggestions? Chris Golden</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Outputting HTML data</header>
    <date>Wed Feb 13 14:33:00 CET 2002</date>
    <body>Does it work if you set the output method to be 'html' in your XSL script? As an experiment you might want to try is generating a dom4j Document from your XML (say using DocumentResult to capture the result of XSLT as a Document) then trying to use the HTMLWriter in the org.dom4j.io package to output your HTML.  I'd be interested to see if it works any better. James Sent: Wednesday, February 13, 2002 2:36 PM Subject: [dom4j-user] Outputting HTML data I'm still pretty new around here...   Anyways, I'm trying to parse an XML file with an XSL spreadsheet and output the results as plain HTML.  I don't want it in XHTML format (I don't want single tags having an ending "/"), I don't want the encoding statement and I want all entities evaluated BEFOREHAND.  I have all but the last set in the XSL file but it is ignored in a basic parse, it works fine when using XML Spy for the conversion though. My biggest confusion is with trying to get HTML entities to display entities in there for the final product, but it bitches at me if I leave them in that form in the XSL file and if I use "&amp;amp;amp;nbsp;" then it doesn't evaluate the "&amp;amp;amp;" in the output!  I need to be able to do complex spacing and I want the output HTML as compatible as possible with a JEditorPane's HTML display. Anyone have some suggestions? Chris Golden _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Outputting HTML data</header>
    <date>Wed Feb 13 15:19:00 CET 2002</date>
    <body>hi, Christopher M. Golden wrote: you could try to set the output method to html as mentioned and use the decimal or hexadecimal character references (&amp;amp;#160; for &amp;amp;nbsp;) instead of the (html) entity references. the transformer should insert them correctly in the result tree. hope that helps, Markus</body>
  </mail>
  <mail>
    <header>Fwd: Re: [dom4j-user] Outputting HTML data</header>
    <date>Wed Feb 13 16:14:00 CET 2002</date>
    <body>My mail program screwed up and I didn't notice, I sent this= individually to Markus instead of the list, so I'm just copying= the message over and seding it here... Message: After looking at what I wrote I realised that it was a bit= unclear. I want the output HTML document to have the "&amp;amp;nbsp;" entities= left in it. =A0Would the hexadecimal representation of "&amp;amp;" be evaluated= to "&amp;amp;" during the XSL transformation? =A0if so then "&amp;amp;&amp;lt;&amp;amp;asHex&amp;gt;;nbsp;" should work shouldn't it? =A0As should be apparent I don't know= the hexadecimal value of "&amp;amp;". =A0;) Chris Golden number bitches use output! =A0I HTML as use of in</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Outputting HTML data</header>
    <date>Wed Feb 13 17:00:00 CET 2002</date>
    <body>Christopher, Christopher M. Golden wrote: I'm afraight I was unclear myself ;) so lets use an example: http://www.w3.org/1999/XSL/Transform the output you should get are the proper html-entities for the corresponding decimal character references, (I'm using Xalan): note that you don't need to encode the &amp;amp; in you xsl stylesheet. Markus.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Outputting HTML data</header>
    <date>Thu Feb 14 09:42:00 CET 2002</date>
    <body>Just CC'ing the list... I'm glad the HTMLWriter helped! For Swing stuff you could try the ICE browser for rendering HTML - I don't have a link but I remember using it a few years ago and it was OK - I think Sun's Forte probably uses it. James Sent: Wednesday, February 13, 2002 9:14 PM Subject: Re: [dom4j-user] Outputting HTML data I was originally using an XMLWriter, when I switched to an HTMLWriter and set some output format options it started working beautifully! Now if only JEditorPane had more than token support displaying HTML pages I would be REALLY happy...  Anyone know of a good alternative for displaying HTML in a Java program? Chris Golden On Wed, 13 Feb 2002 14:28:55 -0000, James Strachan wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Outputting HTML data</header>
    <date>Thu Feb 14 17:38:00 CET 2002</date>
    <body>Thanks so much for your help!  ICE does look like it can do what= I need, although I'm going to have to look into it further to be= sure. Chris Golden On Thu, 14 Feb 2002 09:38:37 -0000, James Strachan wrote: the ICE it. HTML XSL XSLT as org.dom4j.io better. parse HTML. ending evaluated is display if I then it complex https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Outputting HTML data</header>
    <date>Sun Feb 17 22:30:00 CET 2002</date>
    <body>Howdy, Horst Heistermann's web window is also pretty popular (although I've only had a brief look at it..) You can find it at.. http://home.earthlink.net/~hheister/ Cheers Andrew On Fri, 2002-02-15 at 04:47, Christopher M. Golden wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Serialization</header>
    <date>Thu Feb 14 17:24:00 CET 2002</date>
    <body>I want to serialize an object, part of which contains an XPath object (org.dom4j.xpath.DefaultXPath) which does not implement the serializable interface.  Short of my modifying the source (now and future releases) are there any other options available to me? Thanks, Frank</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Serialization</header>
    <date>Fri Feb 15 10:54:00 CET 2002</date>
    <body>contains an XPath object You could always just serialize the String of the XPath expression. Though we should make XPath objects Serializable though. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Serialization</header>
    <date>Fri Feb 15 17:00:00 CET 2002</date>
    <body>I've patched the dom4j and jaxen code so that XPath objects are Serializable. I've also added a JUnit test case in org.dom4j.TestSerialize in the testXPath method which shows it in operation. This change is now available in the daily build James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Reading/writing multiple elements</header>
    <date>Thu Feb 14 20:57:00 CET 2002</date>
    <body>Hello all, I really hope that this make sense!! :) How do you figure out where you are in the tree? If I want to write some XML tags to a tree that contains the multiple elements how do I figure out what element I want to write to? Example I want to write the following: I want to write it to the SECOND /PHIMPORT/IMPORTINFORMATION/DETAIL/ section: Start with this.. End up with this.... Thanks for the help.... A. Frank Sharpless Manager, Application Development Paperhost.Com, Inc. fSharpless@... 770.998.9172.611</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Reading/writing multiple elements</header>
    <date>Fri Feb 15 13:26:00 CET 2002</date>
    <body>XPath supports subscript operators so you can do things like James Sent: Thursday, February 14, 2002 8:56 PM Subject: [dom4j-user] Reading/writing multiple elements XML what https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] CDATA output in HTML</header>
    <date>Thu Feb 14 07:14:00 CET 2002</date>
    <body>Hello, I'm trying to produce an output in pure HTML but there is always CDATA in my output. This is the output of my code: Here is the output I want: public class CreateHtml public static void main(String[] arguments) throws Exception private void create(OutputStream out) throws Exception kindly regards Dominik Deimling</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] CDATA output in HTML</header>
    <date>Thu Feb 14 08:04:00 CET 2002</date>
    <body>Dominik, the only suggestion I can give you is to output entity references like "&amp;amp;nbsp;" using a separate call to addEntity, e.g. Silvain Sent: Thursday, February 14, 2002 8:19 Subject: [dom4j-user] CDATA output in HTML my https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] CDATA output in HTML</header>
    <date>Thu Feb 14 11:49:00 CET 2002</date>
    <body>Hi Dominik You've just spotted a bug in the HTMLWriter. Some time ago a fix was applied to XMLWriter for handling flushing properly which accidentally broke the CDATA writing behaviour of HTMLWriter. I've patched the code now and it should now be working properly. I've added your use case as a JUnit test case (dom4j/src/test/org/dom4j/TestHTMLWriter.java) which now works correctly. These changes are in CVS. Hopefully the daily build will be fixed soon and this fix will make it in there... James Sent: Thursday, February 14, 2002 7:19 AM Subject: [dom4j-user] CDATA output in HTML my https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] CDATA output in HTML</header>
    <date>Thu Feb 14 14:36:00 CET 2002</date>
    <body>Hi Dominik The patch for the bug you found have made it into the new 1.2 release of dom4j. Thanks for spotting this! James Sent: Thursday, February 14, 2002 11:45 AM Subject: Re: [dom4j-user] CDATA output in HTML applied in https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] CDATA output in HTML</header>
    <date>Thu Feb 14 16:15:00 CET 2002</date>
    <body>Hi, Silvain Piree wrote: Another possibility should be to use the unicode escape sequence ( .. ... ) and let the HTMLWriter insert the corresponding entity, but for some reasons it does not work with \u00A0 (-&amp;gt; &amp;amp;nbsp;) but with all others I tried. Any suggestions? Markus</body>
  </mail>
  <mail>
    <header>[dom4j-user] ANNOUNCE: dom4j 1.2  released</header>
    <date>Thu Feb 14 14:32:00 CET 2002</date>
    <body>dom4j is a simple and flexible open source library for working with XML, XPath and XSLT on the Java platform using the Java Collections Framework with full integration with DOM, SAX and JAXP. The new release and further documentation can be found at:- http://dom4j.org This release includes:- * more optimal whitespace handling which can be useful for parsing SOAP documents or data centric XML * new Swing TableModel for the easy displaying of XML in Swing using XPath * numerous patches, optimisations and bug fixes James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Adding multiple element</header>
    <date>Wed Feb 13 22:01:00 CET 2002</date>
    <body>Hello All.. I am trying to figure out how to add multiple nodes to a single element (I hope I said that right!). This is my XML file before: This is what I want the result to be: .. Any thoughts????? Thanks, A. Frank Sharpless Manager, Application Development Paperhost.Com, Inc. fSharpless@... 770.998.9172.611</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding multiple element</header>
    <date>Thu Feb 14 09:50:00 CET 2002</date>
    <body>There's an example here... http://dom4j.org/guide.html in the 'Creating a new document' section that shows you how. The trick is to use the addElement() method on a Document or Element which returns the reference to the new element, so you can recursively keep adding new elements to make the XML you want. James Sent: Wednesday, February 13, 2002 10:00 PM Subject: [dom4j-user] Adding multiple element https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] selectNodes inside selectNodes - relative xpath?</header>
    <date>Wed Feb 13 23:52:00 CET 2002</date>
    <body>First off, thanks for the help on the previous question - it was very = much appreciated. So here is question two. I do a selectNodes ( "xpath" ) and get a list. While I am iterating through that list, I do a selectNodes ( "xpath2" ) = and get a second list I am iterating through. While iterating through these lists I want to do relative xpaths = (including possibly for the xpath2 on the second selectNodes). Here's my question - when I have finished iterating through the xpath2 = items, I am still in the original xpath iteration - how do I go back to = doing relative paths off the outer iteration? And how do I do relative paths off the outer iteration while inside the = inner iteration? thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] selectNodes inside selectNodes - relative xpath?</header>
    <date>Thu Feb 14 07:44:00 CET 2002</date>
    <body>David, you can make relative queries by prefixing your xpath query with ".", e.g. myElement.selectNodes("./mysubelement/mysub"). As an example: Hope this helps, Silvain From: David Thielen To: dom4j-user@... Sent: Thursday, February 14, 2002 0:52 Subject: [dom4j-user] selectNodes inside selectNodes - relative xpath? First off, thanks for the help on the previous question - it was very much appreciated. So here is question two. I do a selectNodes ( "xpath" ) and get a list. While I am iterating through that list, I do a selectNodes ( "xpath2" ) and get a second list I am iterating through. While iterating through these lists I want to do relative xpaths (including possibly for the xpath2 on the second selectNodes). Here's my question - when I have finished iterating through the xpath2 items, I am still in the original xpath iteration - how do I go back to doing relative paths off the outer iteration? And how do I do relative paths off the outer iteration while inside the inner iteration? thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] selectNodes inside selectNodes - relative xpath?</header>
    <date>Thu Feb 14 09:49:00 CET 2002</date>
    <body>Thats correct - thanks Silvain. Also you can omit the "./" prefix. You can also navigate upwards using ".." like with file systems. e.g. adding to Silvains excellent example... for (Iterator iter2 = elem.selectNodes("c/d").iterator; iter2.hasNext();) // or can do a relative XPath expression to get parent's name attribute James Sent: Thursday, February 14, 2002 7:44 AM Subject: Re: [dom4j-user] selectNodes inside selectNodes - relative xpath? and (including https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] xpath selectSingleNode to get an attribute</header>
    <date>Wed Feb 13 19:12:00 CET 2002</date>
    <body>If I call: It does not return the attribute for title - it returns the slideshow = element. I then have to do node.valueOf to get the attribute. It seems = logical to me that if I request an attribute in my xpath command, that I = should get the attribute back as the node. And if I can't do that, is there any easy way to select the attribute = part of an xpath request out? I get these strings from users so I have = to parse it out in this case. ????? - thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath selectSingleNode to get an attribute</header>
    <date>Wed Feb 13 19:23:00 CET 2002</date>
    <body>&amp;gt; If I call: Above sez give me a root element called slideshow which has 'title' attribute. To get the attribute it self you will need to do this: Node node = Hope this helps. Best regards, -- HTTP is a stateless protocol, and the Internet is a stateless development environment -- Igor Fedulov E-mail : ifedulov@... Work Ph: 773.775.1595 Home Ph: 773.281.8938 Cell Ph: 773.580.5935</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath selectSingleNode to get an attribute</header>
    <date>Wed Feb 13 19:27:00 CET 2002</date>
    <body>David, or Silvain From: David Thielen To: dom4j-user@... Sent: Wednesday, February 13, 2002 20:12 Subject: [dom4j-user] xpath selectSingleNode to get an attribute If I call: It does not return the attribute for title - it returns the slideshow element. I then have to do node.valueOf to get the attribute. It seems logical to me that if I request an attribute in my xpath command, that I should get the attribute back as the node. And if I can't do that, is there any easy way to select the attribute part of an xpath request out? I get these strings from users so I have to parse it out in this case. ????? - thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath selectSingleNode to get an attribute</header>
    <date>Wed Feb 13 19:28:00 CET 2002</date>
    <body>Hi Dave The XPath expression /slideshow/@title will return an Attribute object. = Using the [] notation evaluates a predicate on the current node. So if = you wanted to find the 'title' attributes for all the slideshow's that = have a colour=3D"blue" attribute you could use /slideshow[@colour=3D'blue']/@title If all you want is the value of the title attribute then should do fine. If you need some help understanding XPath the links on the = http://dom4j.org site might help - Check out the 'Useful links' section = with Elliotte's article and the Zvon tutorial - both are excellent = introductions to XPath. James From: David Thielen=20 To: dom4j-user@... Sent: Wednesday, February 13, 2002 7:12 PM Subject: [dom4j-user] xpath selectSingleNode to get an attribute If I call: It does not return the attribute for title - it returns the slideshow = element. I then have to do node.valueOf to get the attribute. It seems = logical to me that if I request an attribute in my xpath command, that I = should get the attribute back as the node. And if I can't do that, is there any easy way to select the attribute = part of an xpath request out? I get these strings from users so I have = to parse it out in this case. ????? - thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath selectSingleNode to get an attribute</header>
    <date>Wed Feb 13 19:53:00 CET 2002</date>
    <body>hello, follow up question: what does 'selectSingleNode (xpathexpr)' return, if the xpathexpr would match more than one Node? the first Node?, throw an exception? thanks, Markus</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath selectSingleNode to get an attribute</header>
    <date>Wed Feb 13 20:00:00 CET 2002</date>
    <body>It returns the first matching node (in document order). James To: "James Strachan" &amp;lt;james_strachan@...&amp;gt;; "dom4j" Sent: Wednesday, February 13, 2002 7:49 PM Subject: Re: [dom4j-user] xpath selectSingleNode to get an attribute match https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Outputting HTML data</header>
    <date>Wed Feb 13 16:12:00 CET 2002</date>
    <body>My mail program screwed up and I didn't notice, I sent this= individually to James instead of the list, so I'm just copying= the message over and seding it here... Message: the line in my XSL file for output is: omit-xml-declaration=3D"yes" indent=3D"yes"= I use XML Spy for all of my XML, Schema and Stylesheet editing,= it has an internal transformer that works great with that...  I= have to be able to do this programmatically though. Chris Golden On Wed, 13 Feb 2002 14:28:55 -0000, James Strachan wrote: XSL as a better. parse HTML. ending evaluated is conversion display I it complex https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Strategies for mapping XML to objects</header>
    <date>Mon Feb 11 20:32:00 CET 2002</date>
    <body>Hello. As a newcomer to dom4j not familiar enough with the API, I would like some advice on how to map XML to my classes. I think it's a basic problem, but just for clarity suppose the mapping looked like this: XML Element                     Class My first inclination is for my classes to extend DefaultElement and to add specific methods for their type but more or less inherit the implementation from super. Then for the actual mapping, I intend to extend DocumentFactory and override createDocument() and createElement(QName qname). In createElement() XML elements would be mapped to my classes by inspecting QName. Those which match the QName of my classes are appropriately resolved, otherwise a DefaultElement is returned. Does this sound like a reasonable approach? Other suggestions or words of wisdom would be appreciated. Thanks, Matthew Sinclair-Day</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Strategies for mapping XML to objects</header>
    <date>Mon Feb 11 20:48:00 CET 2002</date>
    <body>http://castor.exolab.org/ No reason to re-invent the wheel. -bob On Mon, 11 Feb 2002, Matthew Sinclair-Day wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Strategies for mapping XML to objects</header>
    <date>Mon Feb 11 21:12:00 CET 2002</date>
    <body>On 2/11/02 at 3:47 PM, bob@... (bob mcwhirter) wrote: http://castor.exolab.org/ I appreciate the advice but in this case neither Castor or JAXB would be appropriate. I probably should have been clearer in the original post, but I want the objects to hold onto their XML roots and essentially either be opaque wrappers for dom4j or, as I suggested in the post, simply extend the default implementation to provide a more specific type than the Abstract/DefaultX classes. I think the latter approach is more straight forward and would work better for my needs. My question has more to do with approach and implementation in the dom4j universe. Matthew</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Strategies for mapping XML to objects</header>
    <date>Mon Feb 11 21:19:00 CET 2002</date>
    <body>Then, I'd probably create a custom DocumentFactory that instantiates sub-classes of Element based upon namespace/name. I think a generic DocumentFactory with a way to register ElementFactory objects would be a good thing in the general distribution. You could also do it with simply using ElementHandlers on the SAXBuilder, as then you wouldn't have to have the same Element subclass for each ie: /foo --&amp;gt; MyRootFooElement /bar/foo -&amp;gt; MyBarFooElement In that case, though, you'd be given the DefaultElement in your ElementHandler, and you'd have to detach() it, and replace it with your preferred sub-class. TMTOWTDI, as the perlmongers would say. -bob On Mon, 11 Feb 2002, Matthew Sinclair-Day wrote: http://castor.exolab.org/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Strategies for mapping XML to objects</header>
    <date>Wed Feb 13 13:11:00 CET 2002</date>
    <body>Actually there's already a neat way to do this. The JAXM folks already do it to have different classes for SOAPEnvelope, SOAPHeader etc. The trick is to register a DocumentFactory instance with a specific QName. Then automagically you can use your own factory for different names of elements in your document. The neat thing about this is that it works for any parser (XPP, SAX, DOM) or with general application logic of the form... The org.dom4j.datatype package uses a similar technique to register specific implementations of Element and Attribute classes for different 'types' in a schema. It all works quite neatly. Though as you bring up Bob - using XPaths to denote types is a good idea as well. James Sent: Monday, February 11, 2002 9:19 PM Subject: Re: [dom4j-user] Strategies for mapping XML to objects ElementHandler, sub-class. http://castor.exolab.org/ https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Error in DocumentResult ?</header>
    <date>Wed Feb 13 11:11:00 CET 2002</date>
    <body>Hi I use dom4j and jaxp to process xml-s in order to produce wml pages and I've encountered a problem that makes me wonder if choosing dom4j was a good move ... I am trying to process given XML with a XSLT stylesheet with jaxp transformation API and DocumentResult as result as follows: result.getDocument().getDocType() returns null and XMLWriter.write(result.getDocument()) does't output doctype declaration. Doc-type is set correctly in the xslt stylesheet's header: xmlns:xsl=" http://www.w3.org/1999/XSL/Transform media-type="text/vnd.wap.wml" doctype-public="-//WAPFORUM//DTD WML 1.1//EN" doctype-system=" http://www.wapforum.org/DTD/wml_1.1.xml .... I am using xalan 2.2 and dom4j 1.1 Can you help ? Regards Tomasz Domin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error in DocumentResult ?</header>
    <date>Wed Feb 13 13:05:00 CET 2002</date>
    <body>It looks like the DocumentResult doesn't properly handle DTD declarations yet. Maybe as a workaround for now use a StreamResult to get the text then reparse it if you need to. James Sent: Wednesday, February 13, 2002 11:11 AM Subject: [dom4j-user] Error in DocumentResult ? http://www.w3.org/1999/XSL/Transform http://www.wapforum.org/DTD/wml_1.1.xml https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Strategies for mapping XML to objects</header>
    <date>Mon Feb 11 21:04:00 CET 2002</date>
    <body>I agree with Bob. However, if (for some reason), castor won't solve your problem, I used dom4j to map XML to classes. However, I didn't go down the route listed below. I created each one of my classes as regular Beans (getTHis, and setThat). Then, I created a special method called parse and another called build that unmarshalled and marshaled the XML into the class.  Rather like this: code to build an element called Jim with a jim element in it here look for Jim element, and grab jim element out of it and setJim with If Jim has another class in it, build just does: For parsing: I would hesitate to extend Element and such, just because you've intermixed the XML parser and the business classes, among other issues.  There may be a neater way to doing things (like reflection and such, but Castor does all that, so if it's neatness, Castor is the answer). (Why, then, did I make my own.....  Well, castor can't make very many assumptions about the inter-relations of the element in the XML.  In my case, I have a ton of &amp;lt;element tc="5"&amp;gt;Description of 5&amp;lt;/element&amp;gt;  Castor doesn't know about such dependencies (you might be able to do it if you hand code the XML templates it uses), and Castor handles choice elements different than I wanted to handle them.) Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, ITS, AEGON FINANCIAL PARTNERS -----Original Message----- From: 	bob mcwhirter [mailto:bob@...] Sent:	Monday, February 11, 2002 2:48 PM To:	Matthew Sinclair-Day Cc:	dom4j-user@... Subject:	Re: [dom4j-user] Strategies for mapping XML to objects http://castor.exolab.org/ No reason to re-invent the wheel. -bob On Mon, 11 Feb 2002, Matthew Sinclair-Day wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] PLEASE HELP!</header>
    <date>Fri Feb 08 22:53:00 CET 2002</date>
    <body>Hi everybody: I searched the archives and found only this:' I have exactly the same problem with Resin 2.0.5 which is throwing this: 160 [Thread-1] ERROR config.ConfigurationServlet  - Could not initialize SystemConfiguration.  Reason: file:/c:/data/work/projects/ptn/webapp/WEB-INF/conf/sql.xml:1: XML file has no top-element.  All well-formed XML files have a single top-level element. Nested exception: file:/c:/data/work/projects/ptn/webapp/WEB-INF/conf/sql.xml:1: XML file has no top-element.  All well-formed XML files have a single top-level element. etc. How do I fix this? What is most interesting is that everything works fine when running junit tests, no problem what so ever... Please help! -- Best regards, -- HTTP is a stateless protocol, and the Internet is a stateless development environment -- Igor Fedulov E-mail : ifedulov@... Work Ph: 773.775.1595 Home Ph: 773.281.8938 Cell Ph: 773.580.5935</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] PLEASE HELP!</header>
    <date>Sat Feb 09 05:59:00 CET 2002</date>
    <body>Hi Igor Any chance you could mail a snippet of your code to take a look at? Are you using the ServletContext.getResource() method to load the config file? James Sent: Friday, February 08, 2002 10:59 PM Subject: [dom4j-user] PLEASE HELP! http://www.mail-archive.com/dom4j-user-admin@...&amp;gt;. html has no top-element.  All has no https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] PLEASE HELP!</header>
    <date>Sat Feb 09 14:13:00 CET 2002</date>
    <body>&amp;gt; Any chance you could mail a snippet of your code to take a look at? Are you Sorry took a while to respond. I actually tried almost every sinlge read method of SAXReader in order to parse the xml into Document, and finally when I changed from: //blah to it's all magically worked. I'm not sure if it's a bug or whatnot, but reader.read(InputStream) seems to work fine while reader.read(URL) don't... Best regards, -- HTTP is a stateless protocol, and the Internet is a stateless development environment -- Igor Fedulov E-mail : ifedulov@... Work Ph: 773.775.1595 Home Ph: 773.281.8938 Cell Ph: 773.580.5935</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] PLEASE HELP!</header>
    <date>Sat Feb 09 18:52:00 CET 2002</date>
    <body>you Mmmm. This is kinda strange. Unfortunately in SAX there's no constructor for InputSource that takes a URL object so we have to convert it to a String first. So currently the URL.toExternalForm() method is called which is then passed straight into the SAX parser.. What exactly does your URL look like as a String? All I can think of is some funky URL protocol is being used by your ServletContainer but that the String it returns is not a valid URL if you see what I mean.. Most strange... James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] PLEASE HELP!</header>
    <date>Sat Feb 09 19:17:00 CET 2002</date>
    <body>&amp;gt; &amp;gt; it's all magically worked. I'm not sure if it's a bug or whatnot, but May be because I use the "file://" protocol in URL? The exact url is: file:/c:/data/work/projects/ptn/webapp/WEB-INF/conf/sql.xml Which I compose like following: 1. Get the WEB-INF/conf/sql.xml from web.xml in ConfigServlet 2. Get real path for above using 3. Create java.io.File from above absolute path 4. invoke toURL() of java.io.File BTW notice that it's not " file:/// ", it's "file:/" protocol. And i tried to do toExternalForm() and it returned "file:/blah.." If I could help with anything else to diagnose the problem let me know, I'll be more then happy to do so. Best regards, -- HTTP is a stateless protocol, and the Internet is a stateless development environment -- Igor Fedulov E-mail : ifedulov@... Work Ph: 773.775.1595 Home Ph: 773.281.8938 Cell Ph: 773.580.5935</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] PLEASE HELP!</header>
    <date>Sun Feb 10 07:16:00 CET 2002</date>
    <body>for then some I just wonderer if would return a different URL? James file:/// ", it's "file:/" protocol. And i tried https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] PLEASE HELP!</header>
    <date>Sun Feb 10 15:11:00 CET 2002</date>
    <body>&amp;gt; I just wonderer if I'll have to get back to you on this one.... Best regards, -- HTTP is a stateless protocol, and the Internet is a stateless development environment -- Igor Fedulov E-mail : ifedulov@... Work Ph: 773.775.1595 Home Ph: 773.281.8938 Cell Ph: 773.580.5935</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding element to document object</header>
    <date>Fri Feb 08 18:08:00 CET 2002</date>
    <body>Yes many times ;-) Generally you remove a node from its parent. There's a helper method detach() which will remove any node from its parent for you. If you are calling remove() on the document object then this will only work for comments or the root element which are immediate children of the document. For nested elements which are descended from the root element you'd need to call remove() on their immediate parent. So maybe the detach() method might help, if you're not sure what the parent is. James element. https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Adding element to document object</header>
    <date>Thu Feb 07 18:49:00 CET 2002</date>
    <body>hello all.. I am very new to dom4j. I have a quick question. If you want to add element/value pairs to an existing xml document, what is the syntax? I tried the following, but with no success: Element element = XMLDocument.addElement("//PMS/IMPORTER/ERROR", "ERROR Where PMS - root, Importer - element, Error - Node of Importer. "error occurred" is the string of text to add to the value of the ERROR element. Thanks for your help! A. Frank Sharpless Manager, Application Development Paperhost.Com, Inc. fSharpless@... 770.998.9172.611</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding element to document object</header>
    <date>Thu Feb 07 19:22:00 CET 2002</date>
    <body>Hi Frank Generally you'd do something like this... However there is a shorthand way of creating nested elements from via a subset of XPath as follows.. I hope that helps James Sent: Thursday, February 07, 2002 6:48 PM Subject: [dom4j-user] Adding element to document object tried https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath</header>
    <date>Wed Feb 06 21:04:00 CET 2002</date>
    <body>Can anyone supply the pros/cons on which of the following code snippets is better to use? or Thanks, Frank</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath</header>
    <date>Wed Feb 06 21:14:00 CET 2002</date>
    <body>Probably all about the same, under the covers. Though, the '//' notation is woefully inefficient, simply because it has to search the entire depth of the document looking for a &amp;lt;foo&amp;gt; followed by a &amp;lt;bar&amp;gt;. When possible, try to avoid the // notation, regardless of the method or XPath engine you're using. -bob On Wed, 6 Feb 2002, Frank Walinsky wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath</header>
    <date>Wed Feb 06 21:32:00 CET 2002</date>
    <body>Frank, here's the implementation of document.selectNodes(): Looks a lot like your alternative! My suggestion: use document.selectNodes() unless you intend to use the same XPath expression multiple times. Silvain https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] set schema directory</header>
    <date>Mon Feb 04 16:21:00 CET 2002</date>
    <body>Is there a mechanism using dom4j to set a directory in which to locate schemas for validation? Laura</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] set schema directory</header>
    <date>Mon Feb 04 19:35:00 CET 2002</date>
    <body>Not as such. Though you can register your own EntityResolver (its an interface from SAX) which you can use to load resources (DTDs, Schemas etc) from wherever you wish. If you look at the full javadoc at http//dom4j.org at the class org.xml.sax.EntityResolver there's a an example of how to use it to create your own mechanism to load resources. James Sent: Monday, February 04, 2002 4:24 PM Subject: [dom4j-user] set schema directory https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] set schema directory</header>
    <date>Mon Feb 04 21:23:00 CET 2002</date>
    <body>I am so glad that you responded to my email.  I have been asking around about this for a while.  I had discovered this solution, but I had some questions that were unanswered by an documentation.  Does this work for including Schema within Schemas?  And if so how would you declare the entity with in your schema? Thanks very much, Laura James Strachan wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] set schema directory</header>
    <date>Tue Feb 05 10:50:00 CET 2002</date>
    <body>Hi Laura about questions Schema I think it does, though you'd best test it first ;-) Actually recently Stefan Graeber patched dom4j's SchemaParser in the org.dom4j.datatype package to be able to support including schemas within schemas so the EntityResolver mechansim does work for this area as well. Take a peek at the code in CVS to see it in action.  Also the DatatypeDocumentFactory.loadSchema() method (in the same package) might be interesting for you. You can register your own EntityResolver implementation via SAXReader.setEntityResolver(). The included schema can use any string you like, e.g. foo/bar.xsd and you just test for the right string in the systemID parameter in your EntityResolver and load it through whatever mechanism you wish, a directory, a URL, classpath etc.. James etc) create https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] set schema directory</header>
    <date>Tue Feb 05 23:00:00 CET 2002</date>
    <body>Thank you very much.  You were very helpful! James Strachan wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPATH element access</header>
    <date>Mon Feb 04 21:50:00 CET 2002</date>
    <body>Is it possible to write an XPATH statement that will directly access the 3rd instance of element "address" given: Any help would be appreciated.  Thanks in advance. Frank</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPATH element access</header>
    <date>Mon Feb 04 22:26:00 CET 2002</date>
    <body>/root/location/address[3] should theoretically work. Dunno if dom4j has the latest build of jaxen integrated into the distribution.  There used to be a problem with proximity predicates that would cause that path to not work. You can download a nightly build of jaxen (or 1.0-beta-8) and replace your jaxen-dom4j.jar and jaxen-core.jar and see if it works better. -bob On Mon, 4 Feb 2002, Frank Walinsky wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Just a quick note to James and the team</header>
    <date>Mon Feb 04 16:25:00 CET 2002</date>
    <body>I wanted to thank James and the programming team for the following: Dom4j works on OS/390 USS (Read that as Unix on IBM Mainframe). And the best part is that I didn't have to do anything.  Load JAR onto big iron, run program. I don't know about all the parts of dom4j (my test is strenuous, but doesn't use Streams much or rules.), but my code worked fine (actually, my code did not, but it was my fault.  You have to be careful about dumping byte arrays into Strings when in an EBCDIC environment :-) Anyway, kudos for leaving one headache out of my life. A question to make this a useful post: Right now I am using the SAXReader to do all my builds.  If I just switch the code to use the XPPReader, will a lot break?  I don't need validation, but I didn't understand comments and CDATA fields not being supported. Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, AEGON Financial Partners ITS</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Just a quick note to James and the team</header>
    <date>Mon Feb 04 19:35:00 CET 2002</date>
    <body>Hey Jim WOW! Thats great to know, thanks! Though I think the Java platform should take quite a lot of credit for that :-) Cool! doesn't did arrays :-) If all you really care about is text, elements and attributes then XPPReader is fine. If you really worry about preserving the exact textual format of the document or reading comments, CDATA, processing instructions and so forth, then stick with SAXReader - otherwise XPPReader should be fine. e.g. if you're working with SOAP, then XPPReader is great. One of these days it'd be really cool to get it working totally lazily too, so as you navigate the document it gets parsed. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Renaming an element.</header>
    <date>Fri Feb 01 12:57:00 CET 2002</date>
    <body>I've patched the code so that setName(String) on Element now works fine. Also I've added a setQName(Qname) method to the Element interface and the implementations so that element renaming should now work fine. I've added a test case called testRename() to the org.dom4j.TestGetQNames JUnit test case in dom4j/src/test which demonstrates these features in action. Thanks for spotting this omission Rob. James Sent: Monday, December 03, 2001 7:49 PM Subject: [dom4j-user] Renaming an element. can https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XMLWriter bug !!?</header>
    <date>Fri Feb 01 12:57:00 CET 2002</date>
    <body>Hi Manfred Thanks for spotting this. I managed to reproduce your problem in the JUnit test case in dom4j/src/test at org.dom4j.TestXMLWriter in the testWhitespaceBug() method. I've patched the XMLWriter to handle this case properly which is now in CVS, so now whitespace handing when in trimText mode should work properly I think. James Sent: Sunday, January 20, 2002 3:06 PM Subject: [dom4j-user] XMLWriter bug !!? https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j and JDK 1.1</header>
    <date>Fri Feb 01 00:25:00 CET 2002</date>
    <body>I'm developing an application that runs on the NSICom Creme VM on a Windows CE based handheld machine. This JVM is a version of PersonalJava that is more or less equivalent to JDK 1.1.8. We're using XML to encode data that we're sending to and from these machines. I'm attempting to compile a JDK 1.1 version of dom4j 1.1. I've run into a couple of problems with various jar files in the lib directory not being on the build classpath. Also, I've had to add various collection classes to the translation table in the build.xml file. I have a question about the use of the java.util.Stack class in these three files: src/java/org/dom4j/io/aelfred/XmlParser.java src/java/org/dom4j/io/aelfred/SAXDriver.java src/java/org/dom4j/io/DispatchHandler.java The java.util.Stack class is not present in the JDK 1.1 version of the collection classes that can be downloaded from java.sun.com. The Stack class extends the Vector class and is threadsafe because of that. Is it safe to ignore thread issues and replace the Stack class with, say, the LinkedList class, or should I stick with a threadsafe collection class? Thanks, Omer __________________________________________________ Do You Yahoo!? Great stuff seeking new owners in Yahoo! Auctions! http://auctions.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j and JDK 1.1</header>
    <date>Fri Feb 01 08:50:00 CET 2002</date>
    <body>I think that sounds like a good idea. I'll mull over the code and check but I think that makes sense. James Sent: Friday, February 01, 2002 12:25 AM Subject: [dom4j-user] dom4j and JDK 1.1 http://auctions.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j and JDK 1.1</header>
    <date>Fri Feb 01 10:54:00 CET 2002</date>
    <body>I've switched them to use ArrayList instead. These changes are now in CVS. (There's a problem with the 'daily' build right now - I'll fix it ASAP). James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] JDK 1.3 Dependency?</header>
    <date>Wed Mar 27 03:48:00 CET 2002</date>
    <body>Hi All, (I'm having a heck of a time getting this message accepted by the listserver, so I apologize in advance if more than one copy is sent = out.) I'm a dom4j newbie and have been pulling my hair out trying to get dom4j working with JTidy.  The JTidyDemo works just fine, but when I copied = the two lines of code I needed into my code, and ran the resultant module = under Tomcat (3.2.2), I got the strangest error behavior.  It was as if there = was an invisible exception that I couldn't catch directly. I went to the list's archives and stumbled across a message of July 12, = 1999 from Minal Ashar, apparently having a similar problem.  A response dated October 15, 2001 (???) stated there was a JDK 1.3 dependency but that it = had been fixed. Well, it turns out that Tomcat was using JDK 1.2.2, so I switched to = 1.3.1 and it worked fine!  I'm using (I think - I just downloaded it several = days ago) the latest dom4j (patched-1.3) and JTidy (04Aug2000r7). Does this mean I always *must* use JDK 1.3+ with dom4j?  If so, is there = an earlier release without this dependency? Regards, Terry Steichen</body>
  </mail>
  <mail>
    <header>[dom4j-user] Default namespaces and xpath</header>
    <date>Tue Mar 26 23:40:00 CET 2002</date>
    <body>Ok, I think we've gone over this before.  I have a document which has a default namespace (I guess that's what it's called) and some other namespaces defined: http://blah blah" xmlns:crap=" http://yadda .... Now, I can use xpath to find nodes in the "crap" namespace, like so: //crap:elem[@attr='whatever'] However, I can't use xpath to find default namespace elements, like so: //someElem[@attr='poop'] Why is this?  What code do I use to make the second xpath work?  I've tried using SimpleNamespaceContexts and DefaultNamespaceContexts, and I'm lost.  HELP!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Default namespaces and xpath</header>
    <date>Tue Mar 26 23:58:00 CET 2002</date>
    <body>Hi David There are numerous threads in the archives explaining this - and it really should be added to the FAQ ASAP. e.g. http://www.geocrawler.com/archives/3/8797/2002/2/0/7951539/ In essence any name used in an XPath expression implicitly means match no-namespace URI. More details below... http://blah blah" xmlns:crap=" http://yadda So this means match an element called &amp;lt;someElement&amp;gt; which is in no-namespace. However someElement in your document is really in the " http://blah blah" namespace and so it *should* not match. Matching in XPath / XSLT matches only the namespace URI and the local name of the elements. To match a node just based on local name then you can use //*[local-name()='someElement' and @attr='poop'] Though you should really always match on the namespace URI too. So to do this you need to create a namespace prefix and bind it to the namespace URI and use this new prefix in your XPath expression. Note that this prefix may not even exist at all in your source document, only in the XPath expressions. So this example from http://dom4j.org/status.html with details of the dom4j 1.2 release shows how to define some namespace prefix &amp;lt;-&amp;gt; URI mappings for use in your code... uris.put( "env", " http://schemas.xmlsoap.org/soap/envelope/ You can also register your namespace mappings with a DocumentFactory so that this all happens by default. e.g. // register prefixes with my factory uris.put( "env", " http://schemas.xmlsoap.org/soap/envelope/ // create my own factory // now parse a document using my factory // now lets use the prefixes // we've defaulted into our factory I hope that helps clear things up a bit... James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Default namespaces and xpath</header>
    <date>Wed Mar 27 00:20:00 CET 2002</date>
    <body>Ok, I think we've gone over this before.  I have a document which has a default namespace (I guess that's what it's called) and some other namespaces defined: http://blah blah" xmlns:crap=" http://yadda .... Now, I can use xpath to find nodes in the "crap" namespace, like so: //crap:elem[@attr='whatever'] However, I can't use xpath to find default namespace elements, like so: //someElem[@attr='poop'] Why is this?  What code do I use to make the second xpath work?  I've tried using SimpleNamespaceContexts and DefaultNamespaceContexts, and I'm lost.  HELP!</body>
  </mail>
  <mail>
    <header>[dom4j-user] Default namespaces and xpath</header>
    <date>Wed Mar 27 01:28:00 CET 2002</date>
    <body>Ok, I think we've gone over this before.  I have a document which has a default namespace (I guess that's what it's called) and some other namespaces defined: http://blah blah" xmlns:crap=" http://yadda .... Now, I can use xpath to find nodes in the "crap" namespace, like so: //crap:elem[@attr='whatever'] However, I can't use xpath to find default namespace elements, like so: //someElem[@attr='poop'] Why is this?  What code do I use to make the second xpath work?  I've tried using SimpleNamespaceContexts and DefaultNamespaceContexts, and I'm lost.  HELP!</body>
  </mail>
  <mail>
    <header>[dom4j-user] Help reading xml from socket</header>
    <date>Tue Mar 26 21:27:00 CET 2002</date>
    <body>I have a socket from which I'm receiving xml.  I need to create a Document object from this.  Once the xml comes in, I need to leave the socket open for other data to come in.  Here's the receiving code: private Document getDocumentFromStream(InputStream xmlStream) try catch(DocumentException de) Now, the sender is calling flush() on the stream after it sends the xml, but it isn't closing the socket.  Does the SAXReader know when the end of the xml data is so that it can construct and return the Document - without me having to close the stream to signal it that there is no more data?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Help reading xml from socket</header>
    <date>Tue Mar 26 22:00:00 CET 2002</date>
    <body>David, This is a common problem people encounter when working with sockets and probably not a dom4j issue.   The socket essentially stays open and there will not be a way to determine when the client is done sending data unless you investigate the data itself.  Flush() was a good try but it will not solve this problem.   I doubt  that dom4j is doing a lot of intelligence to find out when the whole document has been collected (i.e. looking for the end of the root tag, etc) You may want to consider implementing the HTTP protocol and sending the data off after you collect it.  HTTP has a content-length header variable so you know when to stop reading.  Or, you could look for the start and end tags occuring in the data yourself and then send the collected data on to dom4j. Outside of your problem, for what it is worth- piping data right from a socket into dom4j is probably not the best design- I'd focus on collecting the data first like I mentioned above and then continuing. This will give you an adequate abstraction layer for better error handling and so forth.  The current design is too tied to the network layer for my preference. Good luck! Brian David Hooker wrote:</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Help reading xml from socket</header>
    <date>Tue Mar 26 23:02:00 CET 2002</date>
    <body>I realized my problem right after I sent my email, so I already changed it to use HTTP.  I already have some HTTP Stream classes I'm using elsewhere - so it's working now. Thanks! -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Brian Young Sent: Tuesday, March 26, 2002 4:00 PM To: David Hooker Cc: dom4j-user@... Subject: Re: [dom4j-user] Help reading xml from socket David, This is a common problem people encounter when working with sockets and probably not a dom4j issue.   The socket essentially stays open and there will not be a way to determine when the client is done sending data unless you investigate the data itself.  Flush() was a good try but it will not solve this problem.   I doubt  that dom4j is doing a lot of intelligence to find out when the whole document has been collected (i.e. looking for the end of the root tag, etc) You may want to consider implementing the HTTP protocol and sending the data off after you collect it.  HTTP has a content-length header variable so you know when to stop reading.  Or, you could look for the start and end tags occuring in the data yourself and then send the collected data on to dom4j. Outside of your problem, for what it is worth- piping data right from a socket into dom4j is probably not the best design- I'd focus on collecting the data first like I mentioned above and then continuing. This will give you an adequate abstraction layer for better error handling and so forth.  The current design is too tied to the network layer for my preference. Good luck! Brian David Hooker wrote: I have a socket from which I'm receiving xml.  I need to create a Document object from this.  Once the xml comes in, I need to leave the socket open for other data to come in.  Here's the receiving code: private Document getDocumentFromStream(InputStream xmlStream) try catch(DocumentException de) Now, the sender is calling flush() on the stream after it sends the xml, but it isn't closing the socket.  Does the SAXReader know when the end of the xml data is so that it can construct and return the Document - without me having to close the stream to signal it that there is no more data?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Help reading xml from socket</header>
    <date>Tue Mar 26 23:41:00 CET 2002</date>
    <body>MessageHi David Brian is right. In fact dom4j cannot determine by itself when the end of = a document occurs since an XML document can contain other stuff after = the end tag, e.g. comments or processing instructions. hello As Brian says, using some kind of protocol is required to determine the = length of the XML file - such as using a content length in the HTTP = protocol. This simple mechanism can be implemented on top of sockets = using streams. If in doubt though, use HTTP (or Servlets) to do all this for you.=20 James From: Brian Young=20 To: David Hooker=20 Cc: dom4j-user@... Sent: Tuesday, March 26, 2002 9:59 PM Subject: Re: [dom4j-user] Help reading xml from socket David, This is a common problem people encounter when working with sockets = and probably not a dom4j issue.   The socket essentially stays open and = there will not be a way to determine when the client is done sending = data unless you investigate the data itself.  Flush() was a good try but = it will not solve this problem.   I doubt  that dom4j is doing a lot of = intelligence to find out when the whole document has been collected = (i.e. looking for the end of the root tag, etc) You may want to consider = implementing the HTTP protocol and sending the data off after you = collect it.  HTTP has a content-length header variable so you know when = to stop reading.  Or, you could look for the start and end tags occuring = in the data yourself and then send the collected data on to dom4j. Outside of your problem, for what it is worth- piping data right from = a socket into dom4j is probably not the best design- I'd focus on = collecting the data first like I mentioned above and then continuing.  = This will give you an adequate abstraction layer for better error = handling and so forth.  The current design is too tied to the network = layer for my preference. =20 Good luck! Brian David Hooker wrote: I have a socket from which I'm receiving xml.  I need to create a = Document object from this.  Once the xml comes in, I need to leave the = socket open for other data to come in.  Here's the receiving code: private Document getDocumentFromStream(InputStream xmlStream) try catch(DocumentException de) Now, the sender is calling flush() on the stream after it sends the = xml, but it isn't closing the socket.  Does the SAXReader know when the = end of the xml data is so that it can construct and return the Document = - without me having to close the stream to signal it that there is no = more data?</body>
  </mail>
  <mail>
    <header>[dom4j-user] configuring the SAXParser</header>
    <date>Mon Mar 25 15:29:00 CET 2002</date>
    <body>Hi, I'm trying to configure my SAXReader with a special parser = ContentHandler in the following way: (CSH() implements ContentHandler; the parser I'm using is = apache.crimson.parser.XMLReaderImpl) Although my CSH content handler is set, it seems to be lost when reading = input, i.e. it doesn't do anything, none of the implemented methods is = called. Did anybody experience something similar? Is there a recommended = workaround? Thanks a lot for help and suggestions, Franz</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] configuring the SAXParser</header>
    <date>Tue Mar 26 11:23:00 CET 2002</date>
    <body>More specifically, the bug/problem is as follows: !!!   afterReadHandler !=3D beforeReadHandler   !!! reader.read(file) resets the ContentHandler to some default handler. In = my case, this is afterReadHandler.getClass() =3D=3D org.dom4j.io.SAXContentHandler. Does anyone know how to prevent reader.read() from doing this? Franz From: Franz Beil=20 To: dom4j-user@... Sent: Monday, March 25, 2002 4:26 PM Subject: [dom4j-user] configuring the SAXParser Hi, I'm trying to configure my SAXReader with a special parser = ContentHandler in the following way: (CSH() implements ContentHandler; the parser I'm using is = apache.crimson.parser.XMLReaderImpl) Although my CSH content handler is set, it seems to be lost when = reading input, i.e. it doesn't do anything, none of the implemented = methods is called. Did anybody experience something similar? Is there a recommended = workaround? Thanks a lot for help and suggestions, Franz</body>
  </mail>
  <mail>
    <header>[dom4j-user] Copy and Clone?</header>
    <date>Mon Mar 25 17:21:00 CET 2002</date>
    <body>Dear all I have some problems in understanding the difference between the createCopy and the clone method. This is copied (cloned?) form the cookbook: "The difference between createCopy(...) and clone() is that first is a polymorphic method that created a decoupled deep copy whereas clone() returns a deep copy of the current document or element itself." Could you please put this in other words. Sorry if it seems a trivial question (but sometimes I have a block) Thanks Stephan ---------------------------------------------------------------------- The contents of this communication are confidential to the normal user of the email address to which it was sent.  If you have received this email in error, any use, dissemination, forwarding, printing or copying of this email is strictly prohibited.  If this is the case, please notify the sender and delete this message. ----------------------------------------------------------------------</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Copy and Clone?</header>
    <date>Mon Mar 25 18:42:00 CET 2002</date>
    <body>Hi Stephan I think that javadoc needs tidying up a bit ;-) Firstly all nodes are Cloneable which create a deep copy of themselves (detach()'ed from their parent). The main difference with createCopy() is that it is only avaliable on Element and is overloaded to allow you to change the element's name on the copy. Also the createCopy() method is typesafe (no cast required) and it will never throw a CloneNotSupportedException. James Sent: Monday, March 25, 2002 5:16 PM Subject: [dom4j-user] Copy and Clone? createCopy and returns a question https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Merging XML documents and passing parameters to XSL?</header>
    <date>Fri Mar 22 17:02:00 CET 2002</date>
    <body>If you want to keep a copy of the original document untouched but add a copy of its content to another document then there are 2 ways to create a copy. Firstly Node implements Cloneable so all dom4j nodes are cloneable() which will detach the clone from its parent. Or for Elements you can use the typesafe createCopy() which can be used to rename an element fragment if required... e.g. or if you want to change the root element name... James</body>
  </mail>
  <mail>
    <header>[dom4j-user] XML TAG VALUE</header>
    <date>Fri Mar 22 15:55:00 CET 2002</date>
    <body>Hello All, I am having an issue with just XML (I think). How do I add values to tag elements that might contain data that the Dom parser tries to process instead of leaving just at text? Example: I would like the value of TESTELEMENT  to equal 'to be this is the value containing the &amp;lt;data&amp;gt;'. Instead the Dom parser kicks this out because the other special characters. Thanks for your help... A. Frank Sharpless Manager, Application Development Paperhost.Com, Inc. fSharpless@... 770.998.9172.611</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XML TAG VALUE</header>
    <date>Fri Mar 22 16:53:00 CET 2002</date>
    <body>Hi Frank XML has various special characters; so certain things need to be escaped properly. XML is a text encoding format afterall. Maybe reading the XML 1.0 spec might help or Elliotte's new book... http://www.cafeconleche.org/books/xmljava/chapters/ch01.html Anyways to include XML markup as text then you need to encode the markup by escaping it... Or if you want to preserve the markup then just use the dom4j API... You probably will have some trouble using ":" in element names. This is because ":" is used for namespaces. e.g. in a SOAP document you might namespace the SOAP element as... http://www.w3.org/2001/12/soap-envelope http://example.org/alertcontrol http://example.org/alert So I'd basically refrain from using ":" in element names or try using namespaces instead James</body>
  </mail>
  <mail>
    <header>[dom4j-user] Merging XML documents and passing parameters to XSL?</header>
    <date>Thu Mar 21 07:05:00 CET 2002</date>
    <body>Hi I'm new here, and I have the following two questions: 1) Can I use dom4j to merge / or read two XML documents and get a single document returned? 2) Can I pass parameters to a stylesheet? Thanks in advance Lea</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Merging XML documents and passing parameters to XSL?</header>
    <date>Thu Mar 21 16:32:00 CET 2002</date>
    <body>Hi Lea Yes. // lets add the root element of doc2 to the root of doc1 // remember an XML document can only have one root Yes. Though you use the JAXP javax.xml.transform.Transformer interface. James</body>
  </mail>
  <mail>
    <header>[dom4j-user] elementData, excess content?</header>
    <date>Tue Mar 19 22:53:00 CET 2002</date>
    <body>moving around nodes with a popup menu and such.&amp;amp;nbsp; I've run= into quite a bit of weird behaviour when trying to get a move= function to work though.&amp;amp;nbsp; I use Forte for editing, so I've= been watching the variables in the debugger as my program runs= and it came to my attention that in any object with elementData= every element in it is alternated with a= DefaultTextElement.&amp;amp;nbsp; This seems extra strange seeing as all= of the DefaultTextElement's in there just contain empty= strings!&amp;amp;nbsp; This really throws off my index arrangement the= way that I'm doing things, I can change and make it work anyways= if I want though.&amp;amp;nbsp; I'm just really curious as to why there= are DefaultTextElements stuck between every DefaultElement?=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] elementData, excess content?</header>
    <date>Wed Mar 20 06:57:00 CET 2002</date>
    <body>Hi Chris When you have XML like this Then when this gets parsed you'll have Element (pizza) Text ("/n  ") Element(topping) Text ("/n  ") Element(topping) Text ("/n") =20 So in other worlds all the whitespace between elements is preserved in = the XML object structure. This is important in data-centric XML = applications such as editing hand-formatted XML documents and so forth. = For data-centric applications this whitespace is usually irrelevant - = indeed its often useful to trim it. So there's a SAXReader option to allow whitespace to be trimmed via Also you may find that because of parser buffer issues, a block of text = can sometimes be split across several text nodes. To solve this you can = ensure that adjacent text nodes are merged via this All of the above may help you get an XML tree that matches your mental = model of what you think it should be. James From: Christopher M. Golden=20 To: DOM4J User's Mailing List=20 Sent: Tuesday, March 19, 2002 10:53 PM Subject: [dom4j-user] elementData, excess content? I've been working on a JTree based component that allows moving around = nodes with a popup menu and such.  I've run into quite a bit of weird = behaviour when trying to get a move function to work though.  I use = Forte for editing, so I've been watching the variables in the debugger = as my program runs and it came to my attention that in any object with = elementData every element in it is alternated with a DefaultTextElement. = This seems extra strange seeing as all of the DefaultTextElement's in = there just contain empty strings!  This really throws off my index = arrangement the way that I'm doing things, I can change and make it work = anyways if I want though.  I'm just really curious as to why there are = DefaultTextElements stuck between every DefaultElement?=20 Chris Golden _______________________________________________ dom4j-user mailing = list dom4j-user@... = https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Angle Brackets,Transformations and CDATA</header>
    <date>Sun Mar 17 00:33:00 CET 2002</date>
    <body>I'm struggling a bit with something I thought I was clear on. Basically, I have content that I can't be sure will be XML-valid markup because it's being created by retail-level users.  So I've wrapped it up = in a CDATA element.  Then in the XSL file I'm transforming the XML with I = call the questionable element with a value-of tag.  Yet, I still end up with = angle brackets being translated to the ASCII equivelent: Montgomery &amp;amp;lt;i&amp;amp;gt;Partners&amp;amp;lt;/i&amp;amp;gt; Survey on Alternative=20 I don't really intend to use this within a JSP (not primarily, anyway), = and in any case, the xtags taglib appears to do the same thing, but I've = been testing it in this JSP code: String xslURL =3D " http://intranet.dev.hnw.com:8080/xsl/wealthnews_email_html.xsl String xmlURL =3D " http://intranet.dev.hnw.com:8080/xml/wealthnews.xml // file document // transform document Transformer transformer =3D factory.newTransformer( new // style document using transformer // document transformation to string Any suggestions?  I've tried it using the HTMLWriter as well -- which interacts better with JSP output but still messes with the markup. .................................................. Marc Elliott Director of Information Architecture / HNW Inc. Digital Solutions for High-Net-Worth Marketers ph: 617-243-9199 x224 fx: 815-327-4167=20 .................................................. Marc Elliott Director of Information Architecture / HNW Inc. Digital Solutions for High-Net-Worth Marketers ph: 617-243-9199 x224 fx: 815-327-4167=20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Angle Brackets,Transformations and CDATA</header>
    <date>Wed Mar 20 05:30:00 CET 2002</date>
    <body>This sounds like a job for JTidy. You can use JTidy to parse badly written XML or HTML and it'll do its best to tidy it up a bit. There's a JTidy example in dom4j/src/samples/JTidyDemo.java James Sent: Sunday, March 17, 2002 12:33 AM Subject: [dom4j-user] Angle Brackets,Transformations and CDATA I'm struggling a bit with something I thought I was clear on. Basically, I have content that I can't be sure will be XML-valid markup because it's being created by retail-level users.  So I've wrapped it up in a CDATA element.  Then in the XSL file I'm transforming the XML with I call the questionable element with a value-of tag.  Yet, I still end up with angle brackets being translated to the ASCII equivelent: Montgomery &amp;amp;lt;i&amp;amp;gt;Partners&amp;amp;lt;/i&amp;amp;gt; Survey on Alternative I don't really intend to use this within a JSP (not primarily, anyway), and in any case, the xtags taglib appears to do the same thing, but I've been testing it in this JSP code: String xslURL = " http://intranet.dev.hnw.com:8080/xsl/wealthnews_email_html.xsl String xmlURL = " http://intranet.dev.hnw.com:8080/xml/wealthnews.xml // file document // transform document Transformer transformer = factory.newTransformer( new // style document using transformer // document transformation to string Any suggestions?  I've tried it using the HTMLWriter as well -- which interacts better with JSP output but still messes with the markup. .................................................. Marc Elliott Director of Information Architecture / HNW Inc. Digital Solutions for High-Net-Worth Marketers ph: 617-243-9199 x224 fx: 815-327-4167 .................................................. Marc Elliott Director of Information Architecture / HNW Inc. Digital Solutions for High-Net-Worth Marketers ph: 617-243-9199 x224 fx: 815-327-4167 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] loosing embedded SAXReader ElementHandler</header>
    <date>Sat Mar 16 12:09:00 CET 2002</date>
    <body>Hi, this is about a problem with an embedded ElementHandler added to a SAXReader called in a main ElementHandler. I have a project in which I want to construct a DOM from a main XML file that contains &amp;lt;import name="href"/&amp;gt; tags for component files. To do this I added an ElementHandler to the SAXReader that reads the main file. This MainHandler calls another SAXReader to read component files. The &amp;lt;import .../&amp;gt; elements are to be replaced by the component root elements. Since I have to do some modification of the component DOMs, I added another ElementHandler (ComponentHandler) to the component SAXReader. My problem occurs with the handler of the component reader: although the reader processes all imports, its handler seems to be lost after processing of the first &amp;lt;import .../&amp;gt;. The very ugly workaround for the time being is to get a new SAXReader with added componentHandler on each call of MainHandler.onEnd(). Did anyone encounter this or a similar problem. Any help or suggestions are greatly appreciated. Best, Franz ------------- This code skeleton illustrates the problem: only the /file/content elements of the first imported file are handled (i.e. printed) although the resulting DOM contains all imports. With the commented lines replacing their respective counterparts, all /file/content elements will be printed. //            Element importElement = // prune and replace</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] loosing embedded SAXReader ElementHandler</header>
    <date>Wed Mar 20 05:29:00 CET 2002</date>
    <body>Hi Franz I'm not sure I totally understand whats going wrong here. The same ElementHandler object instance gets used by a SAXReader so I don't understand whats going wrong. Do you think you could make a JUnit test case (see dom4j/src/test/org/dom4j/Test*.java for an example) that demonstrates the problem you're having then we can try fix it? FWIW I'd like to introduce a full XPath/XSLT pattern style ElementHandler updated soon. James Sent: Saturday, March 16, 2002 12:07 PM Subject: [dom4j-user] loosing embedded SAXReader ElementHandler SAXReader another processing are elements resulting https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Question about selectSingleNode() method not working on copies of
 Element</header>
    <date>Sat Mar 16 19:18:00 CET 2002</date>
    <body>I am trying to select a single node on a COPY of an element, but I am getting NullPointerException when I tried it. For example, I am getting the null pointer exception on node2 below. Is this a bug, or am I not using it properly? Right now, I am cloning the Document to get past this problem, but I think this is a very kludgy solution. Any suggestion is greatly welcome. ============================================================================ =================== String str = "&amp;lt;wine&amp;gt;&amp;lt;prices&amp;gt;&amp;lt;list&amp;gt;13.99&amp;lt;/list&amp;gt;&amp;lt;discounted&amp;gt;11.00&amp;lt;/discounted&amp;gt;&amp;lt;/prices&amp;gt;&amp;lt;/wi ============================================================================ =================== Leon This message contains information which may be confidential and privileged. Unless you are the addressee  (or authorized to receive for the addressee), you may not use, copy or disclose to anyone the message or any information contained in the message.  If you have received the message in error, please advise the sender by reply e-mail, and delete or destroy the message. Thank you.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Question about selectSingleNode() method not working on copies of Element</header>
    <date>Sat Mar 16 20:24:00 CET 2002</date>
    <body>I'm just guessing, at this point, but... createCopy() creates a copy of the Element (and children) and not attached to a Document. Any path that begins with "//" is an absolute path that must start from a Document.  Your copy has no Document, and thus, tells me the Document is 'null', which is then somewhat difficult to work with. Probably the simple answer, when working with a sub-tree of Elements that aren't attached to a Document is to avoid using xpaths that expect a Document to be available.   Try a relative XPath instead, by prepending a dot. .//list -bob On Sat, 16 Mar 2002, Poon, Leon wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Question about selectSingleNode() method not working on copies of Element</header>
    <date>Mon Mar 18 19:29:00 CET 2002</date>
    <body>I'm not sure why you're creating a copy. Though as bob says the //list XPath operation will try to start at the document, which a copied Element doesn't have. You could fix this by not copying, by adding the new copied element to a document or by changing your XPath expression to be .//list So that it starts relative to the current node, not the document. James Sent: Saturday, March 16, 2002 7:17 PM Subject: [dom4j-user] Question about selectSingleNode() method not working on copies of Element ============================================================================ "&amp;lt;wine&amp;gt;&amp;lt;prices&amp;gt;&amp;lt;list&amp;gt;13.99&amp;lt;/list&amp;gt;&amp;lt;discounted&amp;gt;11.00&amp;lt;/discounted&amp;gt;&amp;lt;/prices&amp;gt;&amp;lt;/wi ============================================================================ privileged. addressee), please https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] cannot access org.gjt.xpp.XmlPullParserException</header>
    <date>Sat Mar 16 06:53:00 CET 2002</date>
    <body>Hi all, From where can I get the package org.gjt.xpp? Iam using JDK1.4 &amp;amp; j4dom1.3 versions.The org.gjt.xpp.XmlPullParserException is not found in any of the dom4j packages &amp;amp; even not available with http://www.gjt.org . Please help because Iam not able to make use of org.dom4j.io.XPPReader  . Regards Anil --- Outgoing mail is certified Virus Free. Checked by AVG anti-virus system ( http://www.grisoft.com ). Version: 6.0.330 / Virus Database: 184 - Release Date: 2/28/2002</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] cannot access org.gjt.xpp.XmlPullParserException</header>
    <date>Mon Mar 18 19:26:00 CET 2002</date>
    <body>Hi Anil The XPPReader is based on XPP which is in lib/PullParser2.jar in CVS or a download. If you look in the JavaDoc for the XPPReader class its got a link to the XPP site... http://www.extreme.indiana.edu/soap/xpp/ James Sent: Saturday, March 16, 2002 7:05 AM Subject: [dom4j-user] cannot access org.gjt.xpp.XmlPullParserException org.gjt.xpp.XmlPullParserException http://www.gjt.org . http://www.grisoft.com ). https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Release JARs</header>
    <date>Mon Mar 18 13:44:00 CET 2002</date>
    <body>Hi, Would it be possible to provide just the release JARs. I noticed that the downloads are on the order of 12mb?? Is that right? -- jvz. Jason van Zyl jvanzyl@... http://tambora.zenplex.org</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Release JARs</header>
    <date>Mon Mar 18 19:21:00 CET 2002</date>
    <body>Hey Jason Agreed. There's a dom4j-1.3.jar on the SF site (admitedly there should be a better link on the download page - I'll add that shortly) which is all the code required compiled into a JAR and around 450Kb. e.g. http://prdownloads.sourceforge.net/dom4j/dom4j-1.3.jar Though this JAR doesn't come with the SAX interfaces so having say crimson.jar on your classpath (or using JDK1.4) is recommended. James Sent: Monday, March 18, 2002 1:38 PM Subject: [dom4j-user] Release JARs http://tambora.zenplex.org https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Angle Brackets,Transformations and CDATA</header>
    <date>Sun Mar 17 22:59:00 CET 2002</date>
    <body>Actually, I've decided to go a much different direction.  Rather than = just mask the faulty markup I'm goint to attempt to fix it using jTidy when DocumentException exception gets thrown.  Of course that assumes that = jTidy will be able to handle any type of invalid markup thrown its way.  = Anyone on this list have any experience with Tidy?  I saw the example code in the = dom4j package. http://intranet.dev.hnw.com:8080/xsl/wealthnews_email_html.xsl " http://intranet.dev.hnw.com:8080/xml/wealthnews.xml https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Struts allergic to dom4j</header>
    <date>Fri Mar 15 05:46:00 CET 2002</date>
    <body>I'm developing a web application in Tomcat. I would like to use dom4j with the Jakarta Project's Struts webapp framework. But whenever I have dom4j-full.jar in the webapp's WEB-INF/lib and then try to access a JSP page with Struts' &amp;lt;html:form&amp;gt; tag, I get the following exception: javax.servlet.jsp.JspException: Cannot find ActionMappings or ActionFormBeans collection at org.apache.struts.taglib.html.FormTag.lookup(FormTag.java:773) at org.apache.struts.taglib.html.FormTag.doStartTag(FormTag.java:481) at org.apache.jsp.StormPage$jsp._jspService(StormPage$jsp.java:195) at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:107) at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) at org.apache.jasper.servlet.JspServlet$JspServletWrapper.service(JspServlet.java:202) at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:382) at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:474) at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) ... The moment I remove the dom4j JAR, the problem goes away. It appears the error arises when Struts tries to parse its configuration file, WEB-INF/struts-config.xml. The presence of an outside XML parser seemingly confuses it. Any way that Struts and dom4j can all just get along?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Struts allergic to dom4j</header>
    <date>Fri Mar 15 07:01:00 CET 2002</date>
    <body>Solution: replace dom4j-full.jar with dom4j.jar. At 21:46 14.03.02 -0800, I wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Struts allergic to dom4j</header>
    <date>Fri Mar 15 15:53:00 CET 2002</date>
    <body>Hi Mitch I'm glad Struts and dom4j work together now ;-) I guess dom4j-full.jar will increasingly be deprecated and dom4j.jar will be used instead since most platforms now have JAXP, the SAX interfaces and a JAXP-compliant parser available. Problems can occur, particular in application servers if (say) SAX interfaces are loaded twice in difference ClassLoaders. James Sent: Friday, March 15, 2002 7:01 AM Subject: Re: [dom4j-user] Struts allergic to dom4j org.apache.struts.taglib.html.FormTag.lookup(FormTag.java:773) org.apache.struts.taglib.html.FormTag.doStartTag(FormTag.java:481) org.apache.jsp.StormPage$jsp._jspService(StormPage$jsp.java:195) org.apache.jasper.servlet.JspServlet$JspServletWrapper.service(JspServlet.ja va:202) org.apache.jasper.servlet.JspServlet.service(JspServlet.java:474) https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] question about getElementsByTagName</header>
    <date>Thu Mar 14 07:08:00 CET 2002</date>
    <body>Hi, I want to get an element by TagName using: DOMElement.getElementsByTagName(String name) my problem is:  if I use I can only cast root to "DefaulElement", not "DomElement"(casting exception because "DefaultElement" is the default implementantion of Element in dom4j) Can anyone tell me how to solve the problem? thanks, Amber</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question about getElementsByTagName</header>
    <date>Fri Mar 15 00:19:00 CET 2002</date>
    <body>You could try use the dom4j API as follows or to navigate the document to find all &amp;lt;foo&amp;gt; elements you could use XPath James Sent: Thursday, March 14, 2002 7:05 AM Subject: RE: [dom4j-user] question about getElementsByTagName https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Getting warning when using dom4j1.0</header>
    <date>Thu Mar 14 12:41:00 CET 2002</date>
    <body>Hi All, I have downloaded dom4j parser version 1.0 to use. I am using SAXParser of it to parse the xml document. But when I started executing the program I am getting warning message quoting that "Warning: Error occurred using JAXP to load a SAXParser. Will use Aelfred insted" So tried to modify the source code to suppress the message by commenting the line which prints this message. (in the file org/dom4j/io/SAXHelper.java) But after modifying the source code  when I tried to make a build. The build is failing. I am running this on HP UX machine and using build.sh supplied with dom4j package to make the build. Can you tell me possible reasons of failure of build and ways to solve. Mangesh</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Getting warning when using dom4j1.0</header>
    <date>Fri Mar 15 00:09:00 CET 2002</date>
    <body>The reason for the warning message is described in the FAQ http://dom4j.org/faq.html The rather long link (we should fix the XSLT one of these days to make shorter links) is http://dom4j.org/faq.html#What%20does%20the%20following%20mean%20'Warning:%2 0Error%20occurred%20using%20JAXP%20to%20load%20a%20SAXParser.%20Will%20use%2 0Aelfred%20instead' Basically it means that JAXP classes were found on your classpath but either they are old (not JAXP1.1 or later) or there was no configured JAXP parser on the classpath, like crimson.jar or xerces.jar. I'm not sure what your compile error was - if you could supply an error message we might be able to help James Cc: "TOH,LESLIE-TH (HP-Singapore,ex1)" &amp;lt;leslie_toh@...&amp;gt;; "KWAN,KUM-LOY Sent: Thursday, March 14, 2002 12:41 PM Subject: [dom4j-user] Getting warning when using dom4j1.0 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] problem detecting CDATA</header>
    <date>Thu Mar 14 19:28:00 CET 2002</date>
    <body>I'm writing some code where I need to know whether an element contains a CDATA section or not, but am having trouble determining this with the top level dom4j interfaces.  Element.getText() obviously just returns a String representing all of the text whether it was in a CDATA section or not. It is rather likely I am just missing something- so please point me in the right direction..... Thanks</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem detecting CDATA</header>
    <date>Thu Mar 14 21:00:00 CET 2002</date>
    <body>I believe the answer is that at the DOM level it's not supposed to matter, and therefore you don't &amp;amp; can't know if it's CDATA. - dave Sent: Thursday, March 14, 2002 12:28 PM Subject: [dom4j-user] problem detecting CDATA https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem detecting CDATA</header>
    <date>Thu Mar 14 21:20:00 CET 2002</date>
    <body>In some cases it is valuable to know- for example a DTD "EMPTY" specification can contain a CDATA section so I can't tell from the DTD whether an empty element is capable of having text or not.  Our product allows the creation of XML target documents by mapping data from another data source.  I'm working on a process to force a document to conform to a DTD automatically and the process is complex but basically for my purposes I need to be able to detect whether or not my mapping engine generated the document with a CDATA section or not as part of a ruleset. The easiest way would be to interrogate the dom4j Document...  Sorry, I know that isn't much of an explanation of "why" I need to know about CDATA. David Thielen wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem detecting CDATA</header>
    <date>Thu Mar 14 23:30:00 CET 2002</date>
    <body>Its not a one liner but this would do the trick. You could wrap this up as a helper method in your code if you like James Sent: Thursday, March 14, 2002 7:28 PM Subject: [dom4j-user] problem detecting CDATA https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem detecting CDATA</header>
    <date>Thu Mar 14 23:47:00 CET 2002</date>
    <body>Agreed - maybe just knowing if an Element has some text is more relevant. ... James Sent: Thursday, March 14, 2002 8:59 PM Subject: Re: [dom4j-user] problem detecting CDATA https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentHelper.makeElement</header>
    <date>Thu Mar 14 20:15:00 CET 2002</date>
    <body>When using DocumentHelper.makeElement(root, "a/b id='1'/c") the resulting xml document is not valid because the "id" attribute is also appended to the end tag. This appears to be a bug. Yes/No?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DocumentHelper.makeElement</header>
    <date>Thu Mar 14 23:28:00 CET 2002</date>
    <body>The makeElement() only accepts a path of element names. I guess it should test the string for wierd stuff too and throw some kind of IllegalArgumentException or something. James</body>
  </mail>
  <mail>
    <header>[dom4j-user] ANNOUNCE: dom4j 1.3 released</header>
    <date>Thu Mar 14 03:03:00 CET 2002</date>
    <body>The new release and further documentation can be found at:- http://dom4j.org This is primarily a bug fix release. For details of the bug fixes in this release please see http://dom4j.org/status.html James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] validate an xml file against a different DTD</header>
    <date>Mon Mar 11 16:37:00 CET 2002</date>
    <body>hi folks I've a basic question concerning the parsing and validation of = xml-files. Is it possible to parse and validate an xml file against a DTD other = than the one that ist declared (specified) in the DOCTYPE-declaration without changing the original DOCTYPE-declaration ? can you help me? thanks alain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] validate an xml file against a different DTD</header>
    <date>Mon Mar 11 19:18:00 CET 2002</date>
    <body>This is somewhat similar to the question asked recently about not validating or validating against a DTD from an alternate location.  I think you'd have to write a custom entity resolver that had the logic to resolve the DTD in the document to another DTD that you specify in the resolver.  A re-direction, essentially.  This assumes you know what DTD you want to validate against ahead of time- once you parse the doc it is too late obviously since that is when validation happens. Cheers Brian Alain Schneble (Realize IT GmbH) wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] validate an xml file against a different DTD</header>
    <date>Wed Mar 13 03:39:00 CET 2002</date>
    <body>Agreed.  To change the location or indeed content of a DTD you can use EntityResolvers. If you wanted to validate an XML document which had no DOCTYPE declaration then you could use Sun's MSV library to validate it explicitly. There's an example in src/samples/validate/JARVDemo.java that shows how to do this kinda thing. James Sent: Monday, March 11, 2002 7:18 PM Subject: Re: [dom4j-user] validate an xml file against a different DTD the https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Just starting out.</header>
    <date>Wed Mar 13 00:00:00 CET 2002</date>
    <body>I'm rewriting a number of classes that I had originially written to use JDOM.  (After reading the DOM4J site, I saw the light!)  Anyway, I also went out to get the latest copy of Xerces (2.0.1), and I find that they have split it up.  Their explanation of the different jars doesn't help me understand which I need!  I know I need the xercesImpl.jar, but do I also need the xmlParsersAPIs.jar?  And if I want DOM4J to use xerces (for validation), do I need to put either or both jars in the CLASSPATH _before_ the dom4j.jar? Thanks for your time! Charles</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Just starting out.</header>
    <date>Wed Mar 13 03:39:00 CET 2002</date>
    <body>From: Charles W. Stanton=20 To: dom4j-user@... Sent: Wednesday, March 13, 2002 12:00 AM Subject: [dom4j-user] Just starting out. I'm rewriting a number of classes that I had originially written to = use JDOM.  (After reading the DOM4J site, I saw the light!) =20 Great ;-) Anyway, I also went out to get the latest copy of Xerces (2.0.1), and = I find that they have split it up.  Their explanation of the different = jars doesn't help me understand which I need!  I know I need the = xercesImpl.jar, but do I also need the xmlParsersAPIs.jar? =20 I think so yes. Basically if you're using Xerces use whatever JARs their = distro says to use. And if I want DOM4J to use xerces (for validation), do I need to put = either or both jars in the CLASSPATH _before_ the dom4j.jar? If you use dom4j.jar with Xerces or Crimson then it'll just work. The = order doesn't mattern. JAXP does all the magic for you.=20 The dom4j-full.jar also contains the stuff from xmlParsersAPIs.jar. = (Basically the SAX and DOM interfaces). So eventually the dom4j-full.jar = might be deprecated from further releases and we may say that dom4j also = depends om xmlParsersAPIs.jar as well. Also if you're using Crimson or = Xerces then dom4j.jar is better to use than dom4j-full.jar to avoid = redundant copies of SAX &amp;amp; DOM interfaces. James</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Question about valueOf() and XPath</header>
    <date>Mon Mar 11 09:24:00 CET 2002</date>
    <body>Hi Folks That's  a wrong XPath. It only compares nodes. That is what I want: /component/docType/[@extension='pdf']/./@mime-type Works fine with dom4j 1.2.  :-)  Sorry. Bye Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>[dom4j-user] Question about valueOf() and XPath</header>
    <date>Mon Mar 11 08:20:00 CET 2002</date>
    <body>Hi Folks, I'm currently a bit confused. But I know that anyone of you can help me out of this situation :). I'm trying to apply the following XPath /component/docType/[@extension='pdf'][@mime-type] that belowgs to a xml document with this structure: ... ... I want to retreival "application/pdf" for exactly the Node that has a extension attribute with value "pdf". But  Node#valueOf(String xpath) returns only an empty String. Does my XPath hurts the Spech or is this a possible bug in dom4j/jaxen? Thx for your advice Toby -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>[dom4j-user] Very basic question (I suppose)</header>
    <date>Fri Mar 08 13:38:00 CET 2002</date>
    <body>Hi, I am trying to parse an xml file in my application, where the DOCTYPE declaration points to a DTD which does not exist. The SAXReader therefor throws Exceptions at me, being annoyed by this. How can I prevent this and let the SAXReader parse the document without checking for the existence of the DTD file? Thanks, Olav -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Very basic question (I suppose)</header>
    <date>Fri Mar 08 16:11:00 CET 2002</date>
    <body>you also could try to switch to a non-validating parser, xerces for example is non-validating by default. hth, markus olav.mueller@... wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Very basic question (I suppose)</header>
    <date>Fri Mar 08 16:21:00 CET 2002</date>
    <body>Whether or not it is a validating parser isn't really Olav's issue though is it?  I thought basically any parser will consider the dtd declaration in the doctype as an external entity that it will try to load, regardless of whether the parser can or is instructed to validate the document against it.  Correct me if I'm wrong.  But maybe he needs to write a custom entity resolver or something? Markus Spath wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Very basic question (I suppose)</header>
    <date>Fri Mar 08 17:38:00 CET 2002</date>
    <body>Brian, you are right of course, Olav, sorry for my sloppy reading and uninformed advice. Markus Brian Young wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Very basic question (I suppose)</header>
    <date>Sat Mar 09 15:26:00 CET 2002</date>
    <body>throws the file? A common way around this is to implement a SAX EntityResolver to load the DTD from somewhere else. e.g. you could include the DTD in your JAR with your java code and load it from there. InputStream in = getClass().getResourceAsStream( James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to store text &amp;lt;]]&amp;gt;" ??</header>
    <date>Fri Mar 08 07:57:00 CET 2002</date>
    <body>Hi, I need to store the text &amp;lt;]]&amp;gt;" in an XML file. I can't store it as attribute because it contains " character. I can't store it as text because it contains &amp;lt; and &amp;gt; characters. So i tried to store it as CDATA, but it seems that the ]]&amp;gt; characters are not allowed in CDATA, as these are used as end-marker. So, following doesn't work: .... save document .... .... load document .... =&amp;gt; fatal load error Does anyone have a suggestion how to solve this problem?? Silvain p.s. above string is a simplified example of what's really happening, but above describes the basic problem.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to store text &amp;lt;]]&amp;gt;" ??</header>
    <date>Sat Mar 09 15:25:00 CET 2002</date>
    <body>You could always try escaping the special characters. So doing this That could then quite happily pass through XML processing quite happily, then if you want it to appear back as &amp;lt;]]&amp;gt;" again you could unescape the special characters again. e.g. if you were to view the markup in a HTML browser it would look like &amp;lt;]]&amp;gt;" James Sent: Friday, March 08, 2002 7:57 AM Subject: [dom4j-user] how to store text &amp;lt;]]&amp;gt;" ?? https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Very basic question (I suppose)</header>
    <date>Fri Mar 08 13:47:00 CET 2002</date>
    <body>Hi Olav, You can implement your own ErrorHandler (a SAX interface) and set it on the SAXReader like so: Your MyErrorHandler class could then call your own error logging code (or do nothing): public void warning(SAXParseException parm1) throws System.out.println("SAX warning: " + parm1 + "\n" + "     At column " + parm1.getColumnNumber() + ", line " + public void error(SAXParseException parm1) throws System.out.println("SAX error: " + parm1 + "\n" + "     At column " + parm1.getColumnNumber() + ", line " + parm1.getLineNumber() public void fatalError(SAXParseException parm1) throws System.out.println("SAX fatal error: " + parm1 + "\n" + "     At column " + parm1.getColumnNumber() + ", line " + parm1.getLineNumber() + "     ElementID " + parm1.getPublicId() + ", SystemID " + Cheers, -- Steen http://www.gmx.net https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Very basic question (I suppose)</header>
    <date>Fri Mar 08 21:55:00 CET 2002</date>
    <body>Hi, Thanks very much. THAT did it. I wrote a new implementation of EntityResolver, which checks whether the entity to load is one of my DTD files and then uses a local version instead, loaded from the classpath. -- CU, Olav</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] NoSuchMethodError</header>
    <date>Tue Mar 05 15:24:00 CET 2002</date>
    <body>Yes, in WAS 3.5 for OS/390. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, ITS, AEGON FINANCIAL PARTNERS -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Monday, March 04, 2002 8:42 PM To:	dom4j-user@...; plessasj@... Subject:	Re: [dom4j-user] NoSuchMethodError dom4j uses Java 2 Collections which are included as standard in JDK1.2 onwards. Isn't there a JDK1.2 version available for OS/390? James Sent: Friday, March 01, 2002 4:43 PM Subject: [dom4j-user] NoSuchMethodError (JRE on org.dom4j.io.SAXHelper.createXMLReaderViaJAXP(SAXHelper.java:89) http://myserver/myxmlfile.xml looking. https://lists.sourceforge.net/lists/listinfo/dom4j-user _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] NoSuchMethodError</header>
    <date>Fri Mar 08 14:36:00 CET 2002</date>
    <body>James, Yes.  That did the trick.  We upgraded to JDK1.3 and no problems. Thanks John "James Strachan" cc: 03/04/2002 09:42          Subject:     Re: [dom4j-user] NoSuchMethodError PM dom4j uses Java 2 Collections which are included as standard in JDK1.2 onwards. Isn't there a JDK1.2 version available for OS/390? James Sent: Friday, March 01, 2002 4:43 PM Subject: [dom4j-user] NoSuchMethodError (JRE on org.dom4j.io.SAXHelper.createXMLReaderViaJAXP(SAXHelper.java:89) http://myserver/myxmlfile.xml looking. https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] best way to retrofit a dom4j Document to a DTD</header>
    <date>Wed Mar 06 16:08:00 CET 2002</date>
    <body>Our product allows users to map data from a number of datasources into a target dom4j Document.  As a result, the user may overlook or not wish to be concerned about specific rules specified in the DTD. For example, assume a choice in a DTD (ELEM1 | ELEM2 | ELEM3) - BTW this is a super trivial example. Now, the document the user creates if they don't use a provided feature to suppress elements may end up looking like this and not be valid as far as the DTD is concerned: Using a little logic, one could determine based on the choice in the DTD that the output should really look like this (given that ELEM1 and ELEM3 are empty): The document will now validate.  I thought I'd ask if someone has built anything like this on top of dom4j,  because I'm getting ready to build it utilizing dom4j, Wutka's DTD parser and my own logic (which could get complex with nested choices, sequences, etc) Thanks!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] best way to retrofit a dom4j Document to a DTD</header>
    <date>Wed Mar 06 19:50:00 CET 2002</date>
    <body>Hey Brian Noone has built anything like that yet. Though quite a few folks seem to want something like that - generate an empty document based on a DTD then allow folks to add/modify certain bits. Just a thought - would the MSV library from Sun help here - its an abstract schema tool that allows validation of XML against DTD, XML Schema, RelaxNG, Relax and Trex. It might be a bit 'meta' or abstract for you - just using a DTD would be easier - but it might be worth a look. By all means go for it - I'm interested it seeing what you come up with and we could submit your work into the dom4j distribution if you like? James Sent: Wednesday, March 06, 2002 4:08 PM Subject: [dom4j-user] best way to retrofit a dom4j Document to a DTD https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] best way to retrofit a dom4j Document to a DTD</header>
    <date>Thu Mar 07 20:01:00 CET 2002</date>
    <body>James In researching this, we've seen several complaints about the way many of the major XML players (BizTalk for example) handle optional content. That is really more the area I am drilling into- for example if one of our customers is trying to use our tool to create a target XML document and the DTD says an element is optional, that probably means they don't want that element output to the document if it is empty.  So we'll see if I can come up with something universal here or not- will let you know.  Not really familiar with MSV so will take a look at that too- Thanks Brian James Strachan wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] current DocumentTreeModel...  useful?</header>
    <date>Wed Mar 06 22:40:00 CET 2002</date>
    <body>for a (supposedly) easy way to view and edit a DOM4j= document.&amp;amp;nbsp; I've discovered that the DocumentTreeModel class= really doesn't do what I would call an impressive job of= displaying the document!&amp;amp;nbsp; Namespace information, comments,= unknown elements, and text nodes are all shown the same way (as= leaves, no differentiation between them).&amp;amp;nbsp; All elements= with elements or other information are shown logically as branch= nodes.&amp;amp;nbsp; Attribute data is stored in the tree, but isn't= shown in ANY way!&amp;amp;nbsp; I don't see any way to make good use of= it as it is written and I'm quite tempted to create my own= TreeModel and CellRenderer then subclass JTree and make it all= appear what seems to be logical to me (not completely determined= yet).&amp;amp;nbsp; Anyone else tried to use a JTree to display their= documents with success?&amp;amp;nbsp; I really want to use this as a way= to test a bunch of element editing functions that I'm working=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] current DocumentTreeModel...  useful?</header>
    <date>Thu Mar 07 00:46:00 CET 2002</date>
    <body>There are quite a few different ways of displaying XML in a tree - e.g. = should only element appear, then should text &amp;amp; attributes appear in = another control. However if you want to improve the TreeModel by all = means go ahead and hack it to improve it. Its more of a proof of concept = right now, I'm sure you can do much better ;-) If you like you could submit your changes back and we can include them = in the dom4j distro. James From: Christopher M. Golden=20 To: DOM4J User's Mailing List=20 Sent: Wednesday, March 06, 2002 10:40 PM Subject: [dom4j-user] current DocumentTreeModel... useful? I've been trying to display a XML file in a JTree component for a = (supposedly) easy way to view and edit a DOM4j document.  I've = discovered that the DocumentTreeModel class really doesn't do what I = would call an impressive job of displaying the document!  Namespace = information, comments, unknown elements, and text nodes are all shown = the same way (as leaves, no differentiation between them).  All elements = with elements or other information are shown logically as branch nodes.  = Attribute data is stored in the tree, but isn't shown in ANY way!  I = don't see any way to make good use of it as it is written and I'm quite = tempted to create my own TreeModel and CellRenderer then subclass JTree = and make it all appear what seems to be logical to me (not completely = determined yet).  Anyone else tried to use a JTree to display their = documents with success?  I really want to use this as a way to test a = bunch of element editing functions that I'm working on, but I don't want = to have to re-invent the wheel.... Chris Golden _______________________________________________ dom4j-user mailing = list dom4j-user@... = https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] default namespace issue</header>
    <date>Tue Mar 05 16:08:00 CET 2002</date>
    <body>How do you do this if you don't know the prefixes? Say I get two XML files: #1 . . . . #2: . . . u and a are mapped to same namespace. I want to select Body. How can I do so in a way that is not so dependent on what prefix the original author of the document used? Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, ITS, AEGON FINANCIAL PARTNERS -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Monday, March 04, 2002 8:55 PM To:	David Hooker; dom4j-user@... Subject:	Re: [dom4j-user] default namespace issue Kind of, though a document can redefine prefixes &amp;lt;-&amp;gt; URI mappings throughout the document, so you need to pick a node and get the namespaces available there. By default dom4j with inherit any namespace prefixes -&amp;gt; URIs that are available in the source node on which XPaths occur. e.g. if you parsed this document xmlns:foo=" http://www.foo.com/123 " xmlns:bar=" http://somewhere.com/bar Then the following XPath expression on the document (or document.getRootElement()) should work fine... foo:root/bar:one/bar:two James _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] default namespace issue</header>
    <date>Wed Mar 06 03:00:00 CET 2002</date>
    <body>Firstly both documents should be using a well defined namespace. If thats the case then the prefix doesn't matter - you can just bind whatever prefix you want to the expected namespace (e.g. SOAP's namespace URI) then use your own prefix in XPath - irrespective of the prefixes used in the document. e.g. // register prefixes with my factory uris.put( "SOAP-ENV", " http://schemas.xmlsoap.org/soap/envelope/ // now parse a document using my factory // now lets use the prefixes Or if the prefix or namespace URIs are unknown, then you could use the XPath expression... *[local-name()='Body'] Which is a bit ugly but then its rare to not care about the namespace URI. James To: "'James Strachan'" &amp;lt;james_strachan@...&amp;gt;; "David Hooker" Sent: Tuesday, March 05, 2002 4:08 PM Subject: RE: [dom4j-user] default namespace issue throughout this http://www.foo.com/123 " http://somewhere.com/bar https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] default namespace issue</header>
    <date>Tue Mar 05 03:22:00 CET 2002</date>
    <body>Kind of, though a document can redefine prefixes &amp;lt;-&amp;gt; URI mappings throughout the document, so you need to pick a node and get the namespaces available there. By default dom4j with inherit any namespace prefixes -&amp;gt; URIs that are available in the source node on which XPaths occur. e.g. if you parsed this document xmlns:foo=" http://www.foo.com/123 " xmlns:bar=" http://somewhere.com/bar Then the following XPath expression on the document (or document.getRootElement()) should work fine... foo:root/bar:one/bar:two James</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] configuration in netbeans using dom4j</header>
    <date>Tue Mar 05 03:22:00 CET 2002</date>
    <body>If you add a modern distribution of crimson.jar to Netbeans as well as dom4j it should all work. Use the 'add Jar' option rather than add a directory and it should all just work I think. James Sent: Tuesday, February 26, 2002 7:39 PM Subject: [dom4j-user] configuration in netbeans using dom4j stuff https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] default namespace issue</header>
    <date>Tue Mar 05 03:24:00 CET 2002</date>
    <body>have a in Maybe writing your own SAX XMLFilter or deriving from SAXReader to either remove all namespace declarations, if they are in the documents you're trying to parse, might help? Then you can blissfully ignore all namespaces, prefixes &amp;amp; URIs and treat the XML documents as just local names and use easy XPaths. An alternative to this approach is to swizzle namespaces to a single URI, then use a prefix in your XPaths. James</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] configuration in netbeans using dom4j</header>
    <date>Wed Mar 06 00:51:00 CET 2002</date>
    <body>&amp;gt; If you add a modern distribution of crimson.jar to Netbeans as well as dom4j and Isn't that somewhat redundant?  The jdk 1.4 has Xerces in its rt.jar, no?? I suspect that version 3.4 will solve this problem since it will probably be designed to work with 1.4 as the standard runtime.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] configuration in netbeans using dom4j</header>
    <date>Wed Mar 06 02:47:00 CET 2002</date>
    <body>Ah sorry, I see what you mean. Maybe its a NetBeans bug then, they somehow provide you with a wierd classloader that doesn't include JAXP. be Agreed. Maybe its worth a quick mail to the netbeans folk to find out more? James</body>
  </mail>
  <mail>
    <header>[dom4j-user] List your products in 7 languages</header>
    <date>Tue Mar 05 04:22:00 CET 2002</date>
    <body>IMPORTERS AND EXPORTERS to list their company and products in 7= languages&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;Attn. Advertisement= Department&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;America Euro has recently developed an= ultimate highway (www.AllManufacturers.net) for Manufacturers,= Importers and Exporters worldwide where millions of Business= People around the globe will be using a simple interface= allowing them to search in 7 different Languages, such as &amp;lt;font= color=3D"#006600"&amp;gt;English, Romanian, Chinese, German, French,= Arabic and Spanish&amp;lt;/font&amp;gt;.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;Free Listing at= AllManufacturers.net. It is time to make use of this most= powerful marketing tool. Use AllManufacturers.net services and= advertise on the Internet now. We are offering your company free= advertisement on our web site in seven different Languages, free= of charge. Let us help you to put your business online. Become= part of the world=92s best online search engine and join thousands= who are already present on the Information= Super-Highway.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;Click here&amp;lt;a= href=3D" http://www.allmanufacturers.net/add_company.asp"&amp;gt;AllManufa= cturers.net&amp;lt;/a&amp;gt; to list your company.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;NOTE: This Free= Invitation will expire in 2 weeks. Hurry up!&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;Yours= Business Partner&amp;lt;br&amp;gt;&amp;lt;b&amp;gt;America Euro&amp;lt;/b&amp;gt;&amp;lt;br&amp;gt;Sacramento CA= 95815&amp;lt;br&amp;gt;United States&amp;lt;br&amp;gt;advertise@...= href=3D" http://www.allmanufacturers.net/"&amp;gt;AllManufacturers.net&amp;lt;/a&amp;gt;=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] TableModel.</header>
    <date>Tue Mar 05 03:40:00 CET 2002</date>
    <body>Hey Alan By all means try experimenting with the code and see where it takes you ;-) One way this might work could be, we could use XPath to find a Node for each cell in the table, then when editing occurs then the setText() method could be called on it. So a cell could be editable if the XPath expression finds a single Node. The more I think of this, the more I like it. So the XPath expressions just find the Node that matches a cell in the table - then editing could be supported pretty easily. Alan, do you fancy having a go at hacking the TableModel to implement this? James Sent: Tuesday, February 26, 2002 2:45 PM Subject: RE: [dom4j-user] TableModel. https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] manipulating elements/nodes "in place"</header>
    <date>Tue Mar 05 03:23:00 CET 2002</date>
    <body>Hi Marc Finding nodes does not remove them from the document, so you can find or iterate over, say elements, then change them, adding/removing nodes, adding attributes and so forth fine. Taking a look at your code I think that should be fine. There's no reason to dteach() a node from its parent then put it back again - just modify it directly. You could do something like this... James Sent: Saturday, March 02, 2002 4:23 PM Subject: [dom4j-user] manipulating elements/nodes "in place" Hello folks, I have some code that is supposed to look in a dom4j node, find child elements/nodes within it that fit a criteria, then add an attribute to it. This would be pretty simple except that this is unstructured content so when the altered element is put "back" into the document it needs to go back to exactly the place where it was before. Is there a way I can manipulate the matched elements without pulling it out of the parent node? This is the code, I end up with a properly edited element, but the element isn't part of the parent, intro, element anymore. Document introDoc = DocumentHelper.parseText("&amp;lt;intro&amp;gt;" + // find all address values and append cid values ArticleList articleList = (ArticleList) Enumeration articles = Article article = (Article) The sample content I've been working with: for growth by quite a few players in the high-net-worth financial services family advisor product&amp;lt;/address&amp;gt; for individuals and families with assets under management of $50 million and up.  &amp;lt;address type="veracityID" key="452W-4B60-01CT-124B-00000-00"&amp;gt;&amp;lt;publication&amp;gt;American Banker's&amp;lt;/publication&amp;gt; short profile of &amp;lt;company&amp;gt;Wilmington journey&amp;lt;/address&amp;gt; from regional bank to national wealth management powerhouse implies a strategy of continuous growth. Others in the news with expansions and talk of expansions include: &amp;lt;address type="veracityID" key="4509-TXJ0-002N-P0X7-00000-00"&amp;gt;&amp;lt;company&amp;gt;Scotiabank's&amp;lt;/company&amp;gt; private client group&amp;lt;/address&amp;gt; with a set of seven new offices; &amp;lt;address type="veracityID" key="450H-G0P0-01CT-13MT-00000-00"&amp;gt;&amp;lt;company&amp;gt;Mellon&amp;lt;/company&amp;gt;&amp;lt;/address&amp;gt; with talk about renewed growth in its retail divisions; &amp;lt;address type="veracityID" _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Cast node to Element in XML4J-3_2_1</header>
    <date>Mon Mar 04 15:09:00 CET 2002</date>
    <body>Hi all! I'm new to the list and don't know if this question already has been = answereed but here goes: I have the following code: This worked fine until I changed to a newer version of XML4J, now i get = at Class Cast Exception. Does anyone know how to solve this problem? Please help Regards Joakim '=B7.=B8=B8.=B7=B4=AF'=B7.=B8=B8=B7=B4=AF'=B7.=B8=B8.=B7=B4=AF'=B7.=B8 =</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Cast node to Element in XML4J-3_2_1</header>
    <date>Tue Mar 05 03:23:00 CET 2002</date>
    <body>This is the dom4j list, not the XML4J list. I think you need to post this question to IBM's XML4J list instead. FWIW you might want to find out what doc.getFirstChild() returns - it mig= ht be a Text node or something - maybe whitespace handling changed or something. James Sent: Monday, March 04, 2002 3:02 PM Subject: [dom4j-user] Cast node to Element in XML4J-3_2_1 Hi all! I'm new to the list and don't know if this question already has been answereed but here goes: I have the following code: This worked fine until I changed to a newer version of XML4J, now i get a= t Class Cast Exception. Does anyone know how to solve this problem? Please help Regards Joakim _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] NoSuchMethodError</header>
    <date>Tue Mar 05 03:22:00 CET 2002</date>
    <body>dom4j uses Java 2 Collections which are included as standard in JDK1.2 onwards. Isn't there a JDK1.2 version available for OS/390? James Sent: Friday, March 01, 2002 4:43 PM Subject: [dom4j-user] NoSuchMethodError (JRE on org.dom4j.io.SAXHelper.createXMLReaderViaJAXP(SAXHelper.java:89) http://myserver/myxmlfile.xml looking. https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with DocumentSource while transformation</header>
    <date>Tue Apr 30 08:47:00 CEST 2002</date>
    <body>Hi, While transforming an XML document by applying an xsl stylesheet, I am encountering this run time error: Suppose there is a file called "mt540.xsl" which you need to apply to the XML document, then the following statement: Transformer oXSLTransformer = TransformerFactory.newInstance().newTransformer(new successfully loads the stylesheet into the Transformer. But if suppose I have previously loaded the XSL stylesheet into a Document such as: //statements /* Then if I try to load the Transformer with the DocumentSource class by reading the xsl content, it give the following error*/ Transformer oXSLTransformer = TransformerFactory.newInstance().newTransformer(new java.lang.IllegalArgumentException: System ID must not be null at com.icl.saxon.tree.DocumentImpl.setSystemId(DocumentImpl.java:119) at com.icl.saxon.tree.TreeBuilder.startDocument(TreeBuilder.java:89) at com.icl.saxon.output.ProxyEmitter.startDocument(ProxyEmitter.java:61) at com.icl.saxon.om.Stripper.startDocument(Stripper.java:145) at com.icl.saxon.ContentEmitter.startDocument(ContentEmitter.java:63) at org.dom4j.io.SAXWriter.startDocument(SAXWriter.java:496) at org.dom4j.io.SAXWriter.write(SAXWriter.java:123) at org.dom4j.io.SAXWriter.parse(SAXWriter.java:389) at com.icl.saxon.om.Builder.build(Builder.java:242) at com.icl.saxon.PreparedStyleSheet.prepare(PreparedStyleSheet.java:111) at com.icl.saxon.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.jav a:126) at com.icl.saxon.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.j ava:78) at com.interrait.domutil.DOMDocumentEx.transform(DOMDocumentEx.java:116) at com.interrait.domutil.DOMDocumentEx.main(DOMDocumentEx.java:217) First of all, can the transformer be loded with the xsl content as a string, or can it only be loded from a file reference? The above statement works if in the constructor new StreamSource(), I pass a File object, but fails if I pass a FileInputStream object. i.e. Transformer oXSLTransformer = TransformerFactory.newInstance().newTransformer(new StreamSource(new File("mt540.xsl"))); //works but Transformer oXSLTransformer = TransformerFactory.newInstance().newTransformer(new StreamSource(new FileInputStream("mt540.xsl"))); //fails Same occurs with the new DocumentSource() constructor. If I do: DocumentResult oDoc = new then the content of the XSL document shows correctly. Under what circumstances does this method newTransformer() succeed or fail? I'd appreciate any comments about what's wrong with the above statements. I apologize if this is off context, but I suppose many of you have been working on XML+XSL transformations to have some idea about this. Thanks Soumanjoy</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with DocumentSource while transformation</header>
    <date>Tue Apr 30 12:39:00 CEST 2002</date>
    <body>I've patched the SAXWriter to not pass through null system or public IDs which should solve this problem. Its available in CVS or the daily build. Let me know if it helps. James Sent: Tuesday, April 30, 2002 9:54 AM Subject: [dom4j-user] Problem with DocumentSource while transformation com.icl.saxon.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.jav com.icl.saxon.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.j string, if I https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Is this a bug? Or a double mystery.... that want's a solution....</header>
    <date>Tue Apr 30 08:00:00 CEST 2002</date>
    <body>Hi! I'm trying to add a element after another element if the element is present (the element should be present, if present, as the first element). The code I run is: if(n != null) else doc is ofcourse a Document and elemToAdd is a element (not yet connected to a Document)... When running this (and n ends up not being null) the result of headerIndex is -1. This can't be right since I just picked up the node to find the index for from the document???!!! With headerIndex -1 and exception is thrown in the next row, but not indexOutOfBounce exception as expected but instead a: org.dom4j.IllegalAddException: This list must contain instances of Node. Invalid type: se.posten.logistik.applications.cr.xml.XMLCRDataElement@... at org.dom4j.tree.ContentListFacade.asNode(ContentListFacade.java:154) at org.dom4j.tree.ContentListFacade.add(ContentListFacade.java:59) at se.posten.logistik.applications.cr.xml.XMLCRProtocollDocument.addCRDa taElementToRoot(XMLCRProtocollDocument.java:48) at se.posten.logistik.applications.cr.xml.XMLCollectionRequestDocument.g etDocument(XMLCollectionRequestDocument.java:60) at se.posten.logistik.applications.cr.vl.VLCRRHTrans.performActionList(V LCRRHTrans.java:155) at se.posten.logistik.applications.cr.vl.VLCRBase.performAction(VLCRBase .java:105) at se.posten.logistik.applications.cr.CRServlet.doGet(CRServlet.java:84) at javax.servlet.http.HttpServlet.service(HttpServlet.java:740) at javax.servlet.http.HttpServlet.service(HttpServlet.java:865) at com.caucho.server.http.Invocation.service(Invocation.java:296) at com.caucho.server.http.CacheInvocation.service(CacheInvocation.java:1 21) at com.caucho.server.http.HttpRequest.handleRequest(HttpRequest.java:238 ) at com.caucho.server.http.HttpRequest.handleConnection(HttpRequest.java: 157) at com.caucho.server.TcpConnection.run(TcpConnection.java:140) at java.lang.Thread.run(Thread.java:484) Packet utan id. org.dom4j.IllegalAddException: This list must contain instances of Node. Invalid type: se.posten.logistik.applications.cr.xml.XMLCRDataElement@... at org.dom4j.tree.ContentListFacade.asNode(ContentListFacade.java:154) at org.dom4j.tree.ContentListFacade.add(ContentListFacade.java:59) at se.posten.logistik.applications.cr.xml.XMLCRProtocollDocument.addCRDa taElementToRoot(XMLCRProtocollDocument.java:48) at se.posten.logistik.applications.cr.xml.XMLCollectionRequestDocument.g etDocument(XMLCollectionRequestDocument.java:60) at se.posten.logistik.applications.cr.vl.VLCRRHTrans.performActionList(V LCRRHTrans.java:155) at se.posten.logistik.applications.cr.vl.VLCRBase.performAction(VLCRBase .java:105) at se.posten.logistik.applications.cr.CRServlet.doGet(CRServlet.java:84) at javax.servlet.http.HttpServlet.service(HttpServlet.java:740) at javax.servlet.http.HttpServlet.service(HttpServlet.java:865) at com.caucho.server.http.Invocation.service(Invocation.java:296) at com.caucho.server.http.CacheInvocation.service(CacheInvocation.java:1 21) at com.caucho.server.http.HttpRequest.handleRequest(HttpRequest.java:238 ) at com.caucho.server.http.HttpRequest.handleConnection(HttpRequest.java: 157) at com.caucho.server.TcpConnection.run(TcpConnection.java:140) at java.lang.Thread.run(Thread.java:484) I really don't understands what happens.... Cheers Christian</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Is this a bug? Or a double mystery.... that want's a solution....</header>
    <date>Tue Apr 30 08:11:00 CEST 2002</date>
    <body>James Sent: Tuesday, April 30, 2002 9:00 AM Subject: [dom4j-user] Is this a bug? Or a double mystery.... that want's a solution.... present code to index The &amp;lt;header&amp;gt; elements will be children of the documents root Element - not children of the document. The "/" XPath matches the document node The "/*" XPath matches the root element. The "/*/headers" XPath matches children of the root element. So if you change this line to You should be fine. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] java.io.UnsupportedEncodingException</header>
    <date>Mon Apr 29 13:33:00 CEST 2002</date>
    <body>Hi, i try to build a xml-document from scratch and write it to a file. This works, but if i try to set an encoding like UTF-8 or UTF-16 or ISO-8859-1 i got a java.io.UnsupportedEncodingException. Anyone have some suggestions? Frank Weyhers PS: I use dom4j 1.3 / Jaxp1.1</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] java.io.UnsupportedEncodingException</header>
    <date>Mon Apr 29 17:48:00 CEST 2002</date>
    <body>What platform are you running on? I guess the following code would also fail on your platform also... as thats effectively the code thats being evaluated. I've explicitly added a JUnit test harness called testEncodingFormats() to the unit test dom4j/src/test/org/dom4j/TestXMLWriter.java. The latest version is in CVS and tests what I think you're trying to do and works fine for me on Win2000 (UK) and JDK1.3 and 1.4. However they fail on JDK1.2.2 for me; UTF-16 is not supported. So I guess proper support for character encoding requires JDK1.3 or later? James https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] getting dom4j version at runtime</header>
    <date>Mon Apr 29 15:54:00 CEST 2002</date>
    <body>Hello, Is it possible to get the version number of dom4j at runtime? I cannot find anything in the JavaDoc API. I would like te present is in my app's configuration screen. best regards, Peter</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] getting dom4j version at runtime</header>
    <date>Mon Apr 29 17:33:00 CEST 2002</date>
    <body>There's no API as of yet. The version is in the manifest right now; I guess a helper method on DocumentHelper might be a nice way to programatically evaulate the current version. Maybe we could add an 'easter egg' so that running java -jar dom4j.jar would output the current version also. James Sent: Monday, April 29, 2002 4:59 PM Subject: [dom4j-user] getting dom4j version at runtime my https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] MSV Schema description</header>
    <date>Fri Apr 26 19:39:00 CEST 2002</date>
    <body>what is allowed by a schema.&amp;amp;nbsp; I've been using MSV for all= of my validation, but finding a description of how to get the= information contained in a schema through it has been driving me= nuts for a week!&amp;amp;nbsp; I really don't want to have to write my= own schema parser and description object, does anyone know how= to do this?&amp;amp;nbsp; I want to be able to determine: what elements= and attributes are valid under the given schema, how many of= each element can their be under a given element, what type each= element and attribute is, etc.&amp;amp;nbsp; I KNOW that all of this= information is available through MSV, but I have yet to find a= decent way to get to it.&amp;amp;nbsp; Anyone have some=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] MSV Schema description</header>
    <date>Sat Apr 27 21:32:00 CEST 2002</date>
    <body>I've tried to do this, you don't need a schema parser and description object, but you will have to tamper with the MSV source code a bit to get what you want. (in this approach you'll be stuck with MSV's representation of the schema and will have to look at the source code to get what you want). 1. You'll have to add a method to get the top level schema element inside the com.sun.msv.verifier.jarv.SchemaImpl class. 2. Once you get this element, there is a visit() call that you can make on all such Schema Elements, with your own custom visitor. You can use the visitor to traverse the schema and create your own datastructure binding together all the schema descriptions MSV parsed for you. (I used a hashtable with every Object mapping to a list of subtag-describing objects and a list of attribute-describing objects : this is in the context of Xml Schema, something similar should be possible in the context of DTD's=20 etc : I dunno) - Vivek On Fri, 26 Apr 2002, Christopher M. Golden wrote: a es https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] I just want a DOMDocument</header>
    <date>Fri Apr 26 20:02:00 CEST 2002</date>
    <body>Thanks James, I've kind of got a better grasp of what I want to do with the = DOMDocument (i'm used to that MSXML thing).  I've gotten as far as = returning a List from a document.selectNodes("my_xpath").  I need to get = at the attributes for each Node in the list.  I would have thought I = could just do a ((Node) list.get(0)).getAttributes(), but the = getAttributes method is only defined in the DOMDocument object.  I can't = obviously cast my list.get() to a DOMDocument, but I'd like a = NamedNodeMap containing the attributes of my selected node. I'm running this code in a JSP page, using Tomcat 3.2.3. For those interested, here's the code I'm using (abridged): Now how do I get the attributes for each node in the list? Thanks in advance. John Fletcher Latitude Geographics Group Ltd. 257 Market Square, Victoria, B.C., Canada V8W 3C6 Tel: (250) 381.8130   Fax: (250) 381.8132 http://www.latitudegeo.com jfletcher@... From: James Strachan=20 To: John Fletcher ; dom4j-user@... Sent: Friday, April 26, 2002 11:30 AM Subject: Re: [dom4j-user] I just want a DOMDocument You can try use the DOMWriter which will take any dom4j document and = create a W3C DOM implementation, using any JAXP W3C DOM provider. There's also DOMDocumentFactory that you can use and set on the = SAXReader via the setDocumentFactory() method and everything will just = work. James From: John Fletcher=20 To: dom4j-user@... Sent: Friday, April 26, 2002 7:27 PM Subject: [dom4j-user] I just want a DOMDocument This is probably a painfully simple question, but bear with me. :) I'm starting to use dom4j, and I want to parse an xml file, = returning a org.dom4j.dom.DOMDocument object.  From the javadocs and the = quickstart guide, I can easily see how to return a org.dom4j.Document = object, but I need the functionality of the DOMDocument.  I know that = the DOMDocument implements the Document interface - can I just cast the = returned Document to a DOMDocument?  Is it already returning a = DOMDocument and I just don't know?  I feel pretty stupid here, 'cause I = couldn't find the answer in the old posts either. Thanks in advance. John Fletcher</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] I just want a DOMDocument</header>
    <date>Sat Apr 27 10:38:00 CEST 2002</date>
    <body>BTW if you're working with XPath in JSP you might find the XML tags in = JSTL useful http://jakarta.apache.org/taglibs/doc/standard-doc/intro.html Anyways, you can use XPath to extract the attributes. Or you can iterate through the List (which is a java.util.List) and cast = each node to an Element and use the element.attribute("x") method to = extract the Attribute object, or use element.attributeValue("x") to = extract the attribute value. James From: John Fletcher=20 To: dom4j-user@... Sent: Friday, April 26, 2002 9:00 PM Subject: Re: [dom4j-user] I just want a DOMDocument Thanks James, I've kind of got a better grasp of what I want to do with the = DOMDocument (i'm used to that MSXML thing).  I've gotten as far as = returning a List from a document.selectNodes("my_xpath").  I need to get = at the attributes for each Node in the list.  I would have thought I = could just do a ((Node) list.get(0)).getAttributes(), but the = getAttributes method is only defined in the DOMDocument object.  I can't = obviously cast my list.get() to a DOMDocument, but I'd like a = NamedNodeMap containing the attributes of my selected node. I'm running this code in a JSP page, using Tomcat 3.2.3. For those interested, here's the code I'm using (abridged): Now how do I get the attributes for each node in the list? Thanks in advance. John Fletcher Latitude Geographics Group Ltd. 257 Market Square, Victoria, B.C., Canada V8W 3C6 Tel: (250) 381.8130   Fax: (250) 381.8132 http://www.latitudegeo.com jfletcher@... From: James Strachan=20 To: John Fletcher ; dom4j-user@... Sent: Friday, April 26, 2002 11:30 AM Subject: Re: [dom4j-user] I just want a DOMDocument You can try use the DOMWriter which will take any dom4j document and = create a W3C DOM implementation, using any JAXP W3C DOM provider. There's also DOMDocumentFactory that you can use and set on the = SAXReader via the setDocumentFactory() method and everything will just = work. James From: John Fletcher=20 To: dom4j-user@... Sent: Friday, April 26, 2002 7:27 PM Subject: [dom4j-user] I just want a DOMDocument This is probably a painfully simple question, but bear with me. :) I'm starting to use dom4j, and I want to parse an xml file, = returning a org.dom4j.dom.DOMDocument object.  From the javadocs and the = quickstart guide, I can easily see how to return a org.dom4j.Document = object, but I need the functionality of the DOMDocument.  I know that = the DOMDocument implements the Document interface - can I just cast the = returned Document to a DOMDocument?  Is it already returning a = DOMDocument and I just don't know?  I feel pretty stupid here, 'cause I = couldn't find the answer in the old posts either. Thanks in advance. John Fletcher</body>
  </mail>
  <mail>
    <header>[dom4j-user] I just want a DOMDocument</header>
    <date>Fri Apr 26 18:29:00 CEST 2002</date>
    <body>This is probably a painfully simple question, but bear with me. :) I'm starting to use dom4j, and I want to parse an xml file, returning a = org.dom4j.dom.DOMDocument object.  From the javadocs and the quickstart = guide, I can easily see how to return a org.dom4j.Document object, but I = need the functionality of the DOMDocument.  I know that the DOMDocument = implements the Document interface - can I just cast the returned = Document to a DOMDocument?  Is it already returning a DOMDocument and I = just don't know?  I feel pretty stupid here, 'cause I couldn't find the = answer in the old posts either. Thanks in advance. John Fletcher</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] I just want a DOMDocument</header>
    <date>Fri Apr 26 18:37:00 CEST 2002</date>
    <body>You can try use the DOMWriter which will take any dom4j document and = create a W3C DOM implementation, using any JAXP W3C DOM provider. There's also DOMDocumentFactory that you can use and set on the = SAXReader via the setDocumentFactory() method and everything will just = work. James From: John Fletcher=20 To: dom4j-user@... Sent: Friday, April 26, 2002 7:27 PM Subject: [dom4j-user] I just want a DOMDocument This is probably a painfully simple question, but bear with me. :) I'm starting to use dom4j, and I want to parse an xml file, returning = a org.dom4j.dom.DOMDocument object.  From the javadocs and the = quickstart guide, I can easily see how to return a org.dom4j.Document = object, but I need the functionality of the DOMDocument.  I know that = the DOMDocument implements the Document interface - can I just cast the = returned Document to a DOMDocument?  Is it already returning a = DOMDocument and I just don't know?  I feel pretty stupid here, 'cause I = couldn't find the answer in the old posts either. Thanks in advance. John Fletcher</body>
  </mail>
  <mail>
    <header>[dom4j-user] NodeComparator broken?</header>
    <date>Wed Apr 24 05:00:00 CEST 2002</date>
    <body>the NodeComparator class seems to be broken for me. i'm comparing two documents which are identical in value, yet compare returns 1. i serialize the two documents to files before the test and verify that yes, even md5sum agrees they're the same bytes. if the two documents serialize to the exact same xml document, doesn't that necessarily imply they compare as equal? here's a fragment of my code. known_document and unknown_document are Documents, of course: XMLWriter writer = new XMLWriter(new writer = new XMLWriter(new FileOutputStream("unknown.xml"), assertEquals(0, comparator.compare(known_document, any help would be greatly appreciated. i'd rather not have to serialize the documents to byte arrays to compare them reliably. - donald</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] NodeComparator broken?</header>
    <date>Fri Apr 26 12:25:00 CEST 2002</date>
    <body>Hi Donald I can't see anything wrong with the code. Could it be that NodeComparator compares the names of hte documents as well? (A document has a name). Maybe we should patch NodeComparator to not use the document name in the comparison. You can test if this is the issue by.... ... failed... James Sent: Wednesday, April 24, 2002 5:58 AM Subject: [dom4j-user] NodeComparator broken? https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] NodeComparator broken?</header>
    <date>Fri Apr 26 17:10:00 CEST 2002</date>
    <body>On Fri, 2002-04-26 at 08:19, James Strachan wrote: why do documents have names? do documents have any other attributes which are not serialized as xml? ha ha! no, it actually made things worse! before, comparator.compare(doc1, doc2) returned 1. now, it returns 6 (?!) along these same lines, is there a diff utility for dom4j? any interest in one? - donald</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] NodeComparator broken?</header>
    <date>Fri Apr 26 17:27:00 CEST 2002</date>
    <body>NodeComparator Maybe The name can be used to help find relative schema/dtds - though it shouldn't be used in the compare. Will patch. Sure! I seem to remember IBM doing one that was based on W3C DOM. Incidentally whenever 2 docs are different and you're trying to figure out why, deriving from the org.dom4j.AbstractTestCase class in dom4j/src/test could be useful. Its got a lot of JUnit style assertion helper methods. So if you do.... ... then it will tell you exactly what is different between the docs. Just getting a positive number isn't that helpful ;-) James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: XSL transformation of XML</header>
    <date>Fri Apr 26 09:53:00 CEST 2002</date>
    <body>Soumanjoy There's the example in quick start guide http://dom4j.org/guide.html and another in the cookbook http://dom4j.org/cookbook/cookbook.pdf For a more detailed description of the transformation API in JAXP, check out the JAXP documentation. BTW this is the dom4j list ;-) James JDOM. XML very _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] Node List returned by selectNodes()</header>
    <date>Thu Apr 25 12:41:00 CEST 2002</date>
    <body>Scroll dooooown... So the setContent method should be in the element class and not the = branch class since setContent takes a list and a list implies more the one = node. And since the list can not show how the nodes should be added (level or order) in relation to eachother. I.e.  they are added with while(list.hasNext()) Ok... but my view of a result from a xpath selection is different. The result is only a referens list to the elements that is the result = from the xpath expression. This implies that nothing can be added to the = list since the elements already contain a order within the document. Or if = there is adding to be done the position in the document also has to be = specified.=20 Example xml: (thanks to Soumanjoy for this example xml *smile*) There is two nodes in the Dom4jList now. The Dom4jList is almost the same as the List class except it don't = support the=20 .add(int,object) method instead there is foure other that is directly working on the document. Result: Result: Result Result Ohh well I seems like I floated away again... *hihi* /Christian</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Node List returned by selectNodes()</header>
    <date>Thu Apr 25 16:27:00 CEST 2002</date>
    <body>Hi Christian. It could be that we could return an immutable List from the selectNodes() method via... in java.util.Collections. Though so long as the documentation is clear that modifications to the List will not be reflected in the document I think I'd rather not add this extra complication, both from efficiency and to allow end users to modify the list (e.g. to sort the list or filter it further). James Sent: Thursday, April 25, 2002 1:41 PM Subject: SV: [dom4j-user] Node List returned by selectNodes() Scroll dooooown... So the setContent method should be in the element class and not the branch class since setContent takes a list and a list implies more the one node. And since the list can not show how the nodes should be added (level or order) in relation to eachother. I.e.  they are added with while(list.hasNext()) Ok... but my view of a result from a xpath selection is different. The result is only a referens list to the elements that is the result from the xpath expression. This implies that nothing can be added to the list since the elements already contain a order within the document. Or if there is adding to be done the position in the document also has to be specified. Example xml: (thanks to Soumanjoy for this example xml *smile*) There is two nodes in the Dom4jList now. The Dom4jList is almost the same as the List class except it don't support the .add(int,object) method instead there is foure other that is directly working on the document. Result: Result: Result Result Ohh well I seems like I floated away again... *hihi* /Christian _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] Node List returned by selectNodes()</header>
    <date>Fri Apr 26 08:23:00 CEST 2002</date>
    <body>The Dom4JList don't exist... it was only wishfull thinking *smile* Sorry for any confusion it caused! /Christian better. https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Node List returned by selectNodes()</header>
    <date>Thu Apr 25 11:41:00 CEST 2002</date>
    <body>First I hop you all don't mind if I move this discussion to the mailing list, this is far to intreressting not to be included there. Oki, this is all fine BUT what happens if we do: Where does the "newElement" go? Cheers Christian</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Node List returned by selectNodes()</header>
    <date>Thu Apr 25 12:02:00 CEST 2002</date>
    <body>Not at all. That would kinda work. Though the problem is the other &amp;lt;foo&amp;gt; elements in the list could well already have different parents - so an exception might well occur because you're trying to add a node which is already a child of another element. So you could iterate through the list and call node.detach() on them to prune them from their place in the document, then the above would work. Oh and one more thing to remember; a document can only have 1 root element. So an exception will occur when trying to add the 2nd element. If 'doc.setContent()' were applied on an Element, this would be better. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Node List returned by selectNodes()</header>
    <date>Fri Apr 26 03:41:00 CEST 2002</date>
    <body>Hi guys, I'm a bit clueless here - Christian - where is this miraculous = Dom4jList that you are talking about (near the end of your message)? If it is = truly there, it would probably spare a lot of programmers some headache = (although it wouldn't be too difficult to implement it ourselves - I'd like to = know if it's already there). And moreover, I have been thinking about it and I = agree with James that: If one is to extract a list of elements from a DOM document, and then add an element in the middle, then one had better = fish out the reference of the node before which one needs to add the new = element (or its parent): e.g.: //By the reference of the node itself oDoc.insertBefore(oGuest, oRefNode); //Will become a preceding sibling = of oRefNode //Otherwise, by the reference of the parent node oParent.appendChild(oGuest); //Will become the last sibling of oRefNode Now that James has rectified the bug in insertBefore(), I think the = first method should be most convenient (I hope James has made sure that if = the oRefNode happens to be the first child of its parent, then inserting = Before should make the new node the first child, and not its parent or = something else). A wrapper class like Christian's Dom4jList may be very useful if = the 4 methods that he described are indeed implemented in it.=20 Well, I think that's probably enough for me to understand this whole = thing. Thanks to you both for this long comprehensive discussion. Cheerio Soumanjoy -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: Thursday, April 25, 2002 9:49 PM To: Christian Holmqvist, IT, Posten; dom4j-user@... Subject: Re: [dom4j-user] Node List returned by selectNodes() Hi Christian. It could be that we could return an immutable List from the = selectNodes() method via... in java.util.Collections. Though so long as the documentation is clear that modifications to the = List will not be reflected in the document I think I'd rather not add this = extra complication, both from efficiency and to allow end users to modify the = list (e.g. to sort the list or filter it further). James Sent: Thursday, April 25, 2002 1:41 PM Subject: SV: [dom4j-user] Node List returned by selectNodes() -----Original Message----- From: Christian Holmqvist, IT, Posten [mailto:christian.holmqvist@...] Sent: Thursday, April 25, 2002 6:12 PM To: dom4j-user@... Subject: SV: [dom4j-user] Node List returned by selectNodes() Scroll dooooown... So the setContent method should be in the element class and not the = branch class since setContent takes a list and a list implies more the one = node. And since the list can not show how the nodes should be added (level or order) in relation to eachother. I.e.  they are added with while(list.hasNext()) Ok... but my view of a result from a xpath selection is different. The result is only a referens list to the elements that is the result = from the xpath expression. This implies that nothing can be added to the = list since the elements already contain a order within the document. Or if = there is adding to be done the position in the document also has to be = specified.=20 Example xml: (thanks to Soumanjoy for this example xml *smile*) There is two nodes in the Dom4jList now. The Dom4jList is almost the same as the List class except it don't = support the=20 .add(int,object) method instead there is foure other that is directly working on the document. Result: Result: Result Result Ohh well I seems like I floated away again... *hihi* /Christian _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Node List returned by selectNodes()</header>
    <date>Fri Apr 26 07:58:00 CEST 2002</date>
    <body>FWIW Dom4jList doesn't exist, I think Christian was mistaken. The selectNodes() uses regular Java 2 Collections so its a java.util.List implementation (typically java.util.ArrayList). James Sent: Friday, April 26, 2002 4:48 AM Subject: RE: [dom4j-user] Node List returned by selectNodes() Hi guys, I'm a bit clueless here - Christian - where is this miraculous Dom4jList that you are talking about (near the end of your message)? If it is truly there, it would probably spare a lot of programmers some headache (although it wouldn't be too difficult to implement it ourselves - I'd like to know if it's already there). And moreover, I have been thinking about it and I agree with James that: If one is to extract a list of elements from a DOM document, and then add an element in the middle, then one had better fish out the reference of the node before which one needs to add the new element (or its parent): e.g.: //By the reference of the node itself oDoc.insertBefore(oGuest, oRefNode); //Will become a preceding sibling of oRefNode //Otherwise, by the reference of the parent node oParent.appendChild(oGuest); //Will become the last sibling of oRefNode Now that James has rectified the bug in insertBefore(), I think the first method should be most convenient (I hope James has made sure that if the oRefNode happens to be the first child of its parent, then inserting Before should make the new node the first child, and not its parent or something else). A wrapper class like Christian's Dom4jList may be very useful if the 4 methods that he described are indeed implemented in it. Well, I think that's probably enough for me to understand this whole thing. Thanks to you both for this long comprehensive discussion. Cheerio Soumanjoy -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: Thursday, April 25, 2002 9:49 PM To: Christian Holmqvist, IT, Posten; dom4j-user@... Subject: Re: [dom4j-user] Node List returned by selectNodes() Hi Christian. It could be that we could return an immutable List from the selectNodes() method via... in java.util.Collections. Though so long as the documentation is clear that modifications to the List will not be reflected in the document I think I'd rather not add this extra complication, both from efficiency and to allow end users to modify the list (e.g. to sort the list or filter it further). James Sent: Thursday, April 25, 2002 1:41 PM Subject: SV: [dom4j-user] Node List returned by selectNodes() -----Original Message----- From: Christian Holmqvist, IT, Posten [mailto:christian.holmqvist@...] Sent: Thursday, April 25, 2002 6:12 PM To: dom4j-user@... Subject: SV: [dom4j-user] Node List returned by selectNodes() Scroll dooooown... So the setContent method should be in the element class and not the branch class since setContent takes a list and a list implies more the one node. And since the list can not show how the nodes should be added (level or order) in relation to eachother. I.e.  they are added with while(list.hasNext()) Ok... but my view of a result from a xpath selection is different. The result is only a referens list to the elements that is the result from the xpath expression. This implies that nothing can be added to the list since the elements already contain a order within the document. Or if there is adding to be done the position in the document also has to be specified. Example xml: (thanks to Soumanjoy for this example xml *smile*) There is two nodes in the Dom4jList now. The Dom4jList is almost the same as the List class except it don't support the .add(int,object) method instead there is foure other that is directly working on the document. Result: Result: Result Result Ohh well I seems like I floated away again... *hihi* /Christian _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Add element between elements in a document.</header>
    <date>Thu Apr 25 04:50:00 CEST 2002</date>
    <body>Hi, I still don't get it. If one extracts a list of nodes into a Java List by an XPath query, and then adds a node into that List, the Node doesn't get added into the original document from which the list was queried (makes sense here). The only way to do it is to use the .appenChild() or .insertBefore() etc. methods of the Document or Element. But I also observe this: When I create a new Element and try to add it to a Document as: document.insertBefore(newChild, refChild), the newChild is always inserted right at the BEGINNING of the document, BEFORE the document element, hence making TWO Root elements!!! (Irrespective of refChild). First of all, why is the function inserting it at the top instead of before the refChild element? Secondly, why is the function ALLOWING this insert at an illegal position - because, when I try to open the resultant XML, it obviously gives the error that there cannot be more than one Root element! Is this again an issue with org.w3c.dom as opposed to org.dom4j.dom? Here's the code sample: //import etc... //... //Add a Root element //Add a child element //Get the Child Element in a list List oNodes = oDocument.selectNodes("//Child[@id]"); //Will retrieve the one single Child Element oNodes.add(0, oGuest); //Doesn't affect the original document Here's the Output: I doubt this is what .insertBefore() is supposed to do. Have I missed something here...? An explanation would be appreciated... (Here's another one for you James :-). Thanks Soumanjoy -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: Tuesday, April 23, 2002 8:10 PM To: Christian Holmqvist, IT, Posten; dom4j-user@... Subject: Re: [dom4j-user] Add element between elements in a document. A Branch (a Document or Element) has a method called content() which returns a modifiable List. So you can use the standard Java 2 List interface to change the content of an Element or Document. e.g. // now lets add &amp;lt;foo&amp;gt; in between header &amp;amp; footer // assertions The above code has all been added to the unit test dom4j/src/test/org/dom4j/TestContent in the method testAddingInTheMiddle(). James Sent: Tuesday, April 23, 2002 2:32 PM Subject: [dom4j-user] Add element between elements in a document. footer https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Add element between elements in a document.</header>
    <date>Thu Apr 25 07:17:00 CEST 2002</date>
    <body>Hi! First of all, I could not even run your example, got the error: java.lang.ClassCastException: org.dom4j.tree.DefaultElement at org.dom4j.dom.DOMDocument.createElement(DOMDocument.java:209) at se.posten.logistik.applications.cr.test.DOM4J_test.&amp;lt;init&amp;gt;(DOM4J_test.jav= a:29 ) at se.posten.logistik.applications.cr.test.DOM4J_test.main(DOM4J_test.java:= 90) But anyway. If I understand the this correct does this: add two child elements like this. parent | -child | -child The list from this command will be of size two containing two child = elements These are child | -child AND child The next statement of value is Where in the documentation do you find that this is not references to = the original document. At least I can not find any cloning or detachment in = the doc or code... But the question is, where does the guest element go. Intutinally I = would say, right before the first child element in the original document, resulting in a document looking like this: parent | -guest | -child | -child and the ofcourse first in the node list. BUT then this: should not have been allowed because the guest element already got a = parent and a place in the document. But on the other hand. The guest element should be placed before the first child element witch = is where the parent element is. And when using this in contrast to that = the node list do indeed affect the org document and there is the guest = placed at position 0 then the result would be that the document looks like your result. I would say that the document should look like: parent | -guest | -child | -child if it where correct. Don't you think so? Another question, why do you use the DOMDocument and not the = DocumentHelper and org.Dom4j.Element and Document? Cheers Christian Holmqvist the https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Add element between elements in a document.</header>
    <date>Thu Apr 25 07:55:00 CEST 2002</date>
    <body>Hi Christian, First of all, I must apologize and clear some of the mistakes in my previous mail: I had first tried with the line: and then with simply: Which would result in only one single Child node. Moreover, I had tried the code with the line and without it, and I have tried these two statement separately and printed the document with In ALL cases, I am getting the Guest element placed right at the top level. I didn't understand the last part of your explanation: I DID say that the tree structure that you drew parent | -guest | -child | -child was SUPPOSED to be, had the insertBefore() method worked the way it should have (that is where we both agree). But it doesn't turn out that way. And I need to be clear about one thing: after an element has been newly created with Document.createElement(), and BEFORE it has been appended to a parent Node, does it already have a postion in the XML Document (according to what you say?). I don't get any errors, even in runtime - the whole code runs and gives the output as I have described. As for the compilation error, there have been some changes in the build in the last three days, so you'll have to take the daily build in order for the code to work. And for your question: why I'm using DOMDocument - no particular reason. I know there are probably 10 different ways to achieve the same thing, but I just wanted to explore many possibilities before choosing one of the ways for my next project. And I wanted especially to explore the w3c.dom classes because they conform with the MS-DOM structure, that's all. If you don't mind, I would appreciate some further clarification on this. Thanks Soumanjoy -----Original Message----- From: Christian Holmqvist, IT, Posten [mailto:christian.holmqvist@...] Sent: Thursday, April 25, 2002 12:48 PM To: 'Soumanjoy Das'; 'James Strachan'; dom4j-user@... Subject: RE: [dom4j-user] Add element between elements in a document. Hi! First of all, I could not even run your example, got the error: java.lang.ClassCastException: org.dom4j.tree.DefaultElement at org.dom4j.dom.DOMDocument.createElement(DOMDocument.java:209) at se.posten.logistik.applications.cr.test.DOM4J_test.&amp;lt;init&amp;gt;(DOM4J_test.java:29 ) at se.posten.logistik.applications.cr.test.DOM4J_test.main(DOM4J_test.java:90) But anyway. If I understand the this correct does this: add two child elements like this. parent | -child | -child The list from this command will be of size two containing two child elements These are child | -child AND child The next statement of value is Where in the documentation do you find that this is not references to the original document. At least I can not find any cloning or detachment in the doc or code... But the question is, where does the guest element go. Intutinally I would say, right before the first child element in the original document, resulting in a document looking like this: parent | -guest | -child | -child and the ofcourse first in the node list. BUT then this: should not have been allowed because the guest element already got a parent and a place in the document. But on the other hand. The guest element should be placed before the first child element witch is where the parent element is. And when using this in contrast to that the node list do indeed affect the org document and there is the guest placed at position 0 then the result would be that the document looks like your result. I would say that the document should look like: parent | -guest | -child | -child if it where correct. Don't you think so? Another question, why do you use the DOMDocument and not the DocumentHelper and org.Dom4j.Element and Document? Cheers Christian Holmqvist https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Add element between elements in a document.</header>
    <date>Thu Apr 25 09:58:00 CEST 2002</date>
    <body>Hi! Oki, I don't use the daily build her (at work) so I can't try it out. I totally agree with you in all cases and we agree upon the result so If the result is not what it should be there is a problem in insertBefore. When a element is created based on a document i.e. in your example oDocument.createElement() it contains a parent and therefor implicit also a place in the document. Exactly what this place is I can't tell without reading the src code and see how it is handled. A simple test would be to create a document with a root element, do createElement and then without appending the created element to the document print the document. If the element shows up the element already got a position in the document otherwise this is handled in some other fashion. If instead a element is created with DocumentHandler.createElement(..) witch is a static method just creating a new Element without a parent (i.e. parent == null) there is no connection to the document. Hmm I think that was all... Cheers Christian https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Add element between elements in a document.</header>
    <date>Thu Apr 25 10:23:00 CEST 2002</date>
    <body>Hi Christian, I just tried out your suggestion: I created an element and immediately printed the contents of the Document, The output did not show the new element. So DocumentHelper.createElement() and DOMDocument.createElement() are equivalent, in the sense that when a new element is created, it is 'floating' and does not have any position in the XML document. In fact, when I tried to invoke the oChild.getParentNode() before appending it to the document, there was an error: org.w3c.dom.DOMException: Not supported yet at org.dom4j.dom.DOMNodeHelper.notSupported(DOMNodeHelper.java:463) at org.dom4j.dom.DOMNodeHelper.asDOMNode(DOMNodeHelper.java:400) at org.dom4j.dom.DOMNodeHelper.getParentNode(DOMNodeHelper.java:76) at org.dom4j.dom.DOMElement.getParentNode(DOMElement.java:96) at com.interrait.requesttracker.Dump.main(Dump.java:107) Exception in thread "main Which means that the 'newborn' node doesn't have a parent yet. If this is the case, then I think even you'll agree that insertBefore() must have something wrong with it, if it always inserts a node at the top (beginning) of the document. That was my report. Awaiting suggestions... Regards Soumanjoy -----Original Message----- From: Christian Holmqvist, IT, Posten [mailto:christian.holmqvist@...] Sent: Thursday, April 25, 2002 3:28 PM To: 'Soumanjoy Das'; dom4j-user@... Subject: RE: [dom4j-user] Add element between elements in a document. Hi! Oki, I don't use the daily build her (at work) so I can't try it out. I totally agree with you in all cases and we agree upon the result so If the result is not what it should be there is a problem in insertBefore. When a element is created based on a document i.e. in your example oDocument.createElement() it contains a parent and therefor implicit also a place in the document. Exactly what this place is I can't tell without reading the src code and see how it is handled. A simple test would be to create a document with a root element, do createElement and then without appending the created element to the document print the document. If the element shows up the element already got a position in the document otherwise this is handled in some other fashion. If instead a element is created with DocumentHandler.createElement(..) witch is a static method just creating a new Element without a parent (i.e. parent == null) there is no connection to the document. Hmm I think that was all... Cheers Christian https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Add element between elements in a document.</header>
    <date>Thu Apr 25 10:53:00 CEST 2002</date>
    <body>new Do you have some source code for this then we can add it to the unit test cases? A node only gets a parent when it is actually added to an element or document. (beginning) Agreed. I've fixed a bug in insertBefore() (which is in CVS and the daily build right now) such that if the node you're trying to insert before is not found, then the new node is added at the end of the list. This should fix any wierdness. Though you should figure out why the node you're trying to insert before could not be found. I suspect the node you're trying to insert before couldn't be found. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] Formatting of 'asXML()' result + and dept limita
	tion?</header>
    <date>Wed Apr 24 10:18:00 CEST 2002</date>
    <body>Hi Ofcourse StringWriter is faster, but don't support encoding that could = be useful. Well it all depends on what the purpose is. Another matter on the same topic, is it possible to limit the dept with = the OutputFormater... that is how many child levels that is outputted. = Could be very useful when using outputformater for logging and don't want to = clog the log with 10000+++ rows of XML code... but still wants to verify that = the XML basic is intact. /Christian a https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Formatting of 'asXML()' result + and dept limitation?</header>
    <date>Wed Apr 24 10:41:00 CEST 2002</date>
    <body>Hi Christian Agreed about the encoding. So you want the XMLWriter to only output a certain depth of children and then trim the rest? FWIW you could probably do this pretty easily with an XSLT stylesheet or SAX XMLFilter. Or derive from XMLWriter to add this logic. James To: "'James Strachan'" &amp;lt;james_strachan@...&amp;gt;; "Christian Holmqvist, Sent: Wednesday, April 24, 2002 11:17 AM Subject: SV: [dom4j-user] Formatting of 'asXML()' result + and dept limitation? Hi Ofcourse StringWriter is faster, but don't support encoding that could be useful. Well it all depends on what the purpose is. Another matter on the same topic, is it possible to limit the dept with the OutputFormater... that is how many child levels that is outputted. Could be very useful when using outputformater for logging and don't want to clog the log with 10000+++ rows of XML code... but still wants to verify that the XML basic is intact. /Christian https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user http://mail.yahoo.com _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Formatting of 'asXML()' result</header>
    <date>Wed Apr 24 09:15:00 CEST 2002</date>
    <body>Hi If you have the same problem as I have and want to get your XML code as = a String (if your logging system only handles String logging, like mine, = for example) I made up a little trick that looks like this. (newDoc is a Document) Cheers Christian P.s. There might be a easier way to get the Document nicely printed = into a String but I could not find it.... D.s. https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Formatting of 'asXML()' result</header>
    <date>Wed Apr 24 09:44:00 CEST 2002</date>
    <body>If you want pretty printing then thats the way to do it. You can use a StringWriter instead which is a bit faster. Of course if what you really want to do is output it to a file or System.out then you can do that even easier... James Sent: Wednesday, April 24, 2002 10:15 AM Subject: RE: [dom4j-user] Formatting of 'asXML()' result Hi If you have the same problem as I have and want to get your XML code as a String (if your logging system only handles String logging, like mine, for example) I made up a little trick that looks like this. (newDoc is a Document) Cheers Christian P.s. There might be a easier way to get the Document nicely printed into a String but I could not find it.... D.s. https://lists.sourceforge.net/lists/listinfo/dom4j-user _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Formatting of 'asXML()' result</header>
    <date>Wed Apr 24 01:15:00 CEST 2002</date>
    <body>I want to print out particular dom4j Elements containing a few attributes plus some text. If I do an element.asXML(), the String returned is all one line. Is it possible to get newlines inserted between each attribute?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Formatting of 'asXML()' result</header>
    <date>Wed Apr 24 09:03:00 CEST 2002</date>
    <body>Hi Joshua The trick is to use XMLWriter which allows you to specify how you want to output the XML, with pretty printing, custom indentation size and so forth. There are some examples of this in the quick start guide in the section called 'Writing a document to a file' http://dom4j.org/guide.html Also note that the XMLWriter is capable of outputting whatever nodes you want, you don't have to output the whole document. The write() method is overloaded to take an Attribute, an Element and so on. James Sent: Wednesday, April 24, 2002 2:16 AM Subject: [dom4j-user] Formatting of 'asXML()' result https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentResult doesn't work with transformer.transform</header>
    <date>Thu Apr 04 02:29:00 CEST 2002</date>
    <body>Hi, I'm having a problem following the cookbook's example of applying a XSLT stylesheet to a dom4j Document.  Whenever I try to do=20 transformer.transform(src,result) where result is a DocumentResult object, I get a empty document from the getDocument() method in DocumentRes= ult. I have tried the code on dom4j 1.2 and 1.3.  Am I doing something wrong? Thanks, Allen --=20 BOFH excuse #405: Sysadmins unavailable because they are in a meeting talking about why they = are unavailable so much.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DocumentResult doesn't work with transformer.transform</header>
    <date>Fri Apr 19 18:55:00 CEST 2002</date>
    <body>Hi Allen Sorry for the delay getting back to you. Have you tried running the XSLT sample program in dom4j/src/samples/XSLTDemo.java. It works fine for me on dom4j 1.2, 1.3 and the latest build. With the right classpath you can do java XSLTDemo foo.xml bar.xsl Or there's an Ant target to make it even easier. [windows] build demo-xslt [unix] ./build.sh demo-xslt And if you get a bunch of output of the transformation, then you'll see that the Document is coming back from the DocumentResult. If this doesn't work for you maybe there's something wierd going on in your environment? If you still get problems please mail some sample code to the list and we can help fix the problem. James Sent: Thursday, April 04, 2002 3:28 AM Subject: [dom4j-user] DocumentResult doesn't work with transformer.transform Hi, I'm having a problem following the cookbook's example of applying a XSLT stylesheet to a dom4j Document. Whenever I try to do transformer.transform(src,result) where result is a DocumentResult object, I get a empty document from the getDocument() method in DocumentResult. I have tried the code on dom4j 1.2 and 1.3. Am I doing something wrong? Thanks, Allen _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DocumentResult doesn't work with transformer.transform</header>
    <date>Tue Apr 23 19:04:00 CEST 2002</date>
    <body>I'm still having problems with the code.  I tried the XSLTDemo and it works fine for me, so there must be something wrong with my environment. What is interesting about my environment is that if I create a StreamResult from a StringWriter to pass to the transform method like so: StreamResult sr =3D new StreamResult(sr);=20 transformer.transform(source,sr);=20 I get the correct output from sw.toString();=20 but if I do=20 and print out the document using XMLWriter, I get something like: Allen On Fri, Apr 19, 2002 at 07:49:48PM +0100, James Strachan wrote: hat ur orm http://mail.yahoo.com --=20 You are fairminded, just and loving.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: dom4j question</header>
    <date>Tue Apr 23 18:03:00 CEST 2002</date>
    <body>You're code looks fine to me.  Does any kind of exception occur? It could well help us figure out whats wrong. It might well be worth printing out the document you've just parsed before you transform it, just in case something wierd's happening at the parse stage. (e.g. you've got the wrong path or whatever). James Sent: Tuesday, April 23, 2002 9:59 PM Subject: dom4j question http://www.dom4j.org/guide.html#Converting%20to%20and%20from%20Strings transformSample ============================================================================ http://www.w3.org/1999/XSL/Transform http://www.w3.org/TR/WD-xsl _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to Generate a sample XML file that follows a schema</header>
    <date>Tue Apr 23 16:56:00 CEST 2002</date>
    <body>Hi, I need to generate a sample XML file that follows a xsd schema that I have. Is there a simple way to do this? I am trying to use the SUN's XMLGenerator and it's a little unfriendly. I would prefer dom4j approach since we use this in our product. Thanks in advance, -Sri</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to Generate a sample XML file that follows a schema</header>
    <date>Tue Apr 23 17:03:00 CEST 2002</date>
    <body>Hi Sri It seems a fairly common requirement for people to want to generate = documents that match some kind of schema. Unfortunately right now = there's no feature in dom4j to do this yet. If anyone fancies tackling = this we'd be very grateful - maybe using Sun's MSV library to parse the = various schemas for you (DTDs, XML Schemas and Relax NG).=20 Until then either Sun's XMLGenerator or I think IBM had something like = this once on its Alphaworks site... James From: Srinivas Maram=20 To: dom4j-user@... Sent: Tuesday, April 23, 2002 5:54 PM Subject: [dom4j-user] How to Generate a sample XML file that follows a = schema Hi, I need to generate a sample XML file that follows a xsd schema that I = have.=20 Is there a simple way to do this? I am trying to use the SUN's = XMLGenerator and it's a little unfriendly. I would prefer dom4j approach = since we use this in our product. Thanks in advance, -Sri</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to Generate a sample XML file that follows a schema</header>
    <date>Tue Apr 23 17:19:00 CEST 2002</date>
    <body>Actually now that I've checked, Sun's XMLGenerator is also written by = Kohsuke Kawaguchi (who developed the excellent MSV library) and it = actually uses MSV to parse the various schema languages. http://wwws.sun.com/software/xml/developers/instancegenerator/ James From: James Strachan=20 To: Srinivas Maram ; dom4j-user@... Sent: Tuesday, April 23, 2002 5:57 PM Subject: Re: [dom4j-user] How to Generate a sample XML file that = follows a schema Hi Sri It seems a fairly common requirement for people to want to generate = documents that match some kind of schema. Unfortunately right now = there's no feature in dom4j to do this yet. If anyone fancies tackling = this we'd be very grateful - maybe using Sun's MSV library to parse the = various schemas for you (DTDs, XML Schemas and Relax NG).=20 Until then either Sun's XMLGenerator or I think IBM had something like = this once on its Alphaworks site... James From: Srinivas Maram=20 To: dom4j-user@... Sent: Tuesday, April 23, 2002 5:54 PM Subject: [dom4j-user] How to Generate a sample XML file that follows = a schema Hi, I need to generate a sample XML file that follows a xsd schema that = I have.=20 Is there a simple way to do this? I am trying to use the SUN's = XMLGenerator and it's a little unfriendly. I would prefer dom4j approach = since we use this in our product. Thanks in advance, -Sri</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Runtime error in org.dom4j.dom.DOMDocument.creat
	eElement()</header>
    <date>Mon Apr 22 04:11:00 CEST 2002</date>
    <body>Hi James, I'm sorry if this is due to something that I'm doing wrong. I downloaded the daily build from http://www.dom4j.org , and extracted dom4j-full.jar, dom4j.jar, jaxen.jar, xerces.jar, saxon.jar. But the same piece of code (as before) now gives a different error at runtime, at a different line: //import etc... //Add two node elements with attributes "name" and "id" Element oParent = oDocument.createElement("Parent"); //&amp;lt;--This now works fine (used to throw an error earlier) oDocument.appendChild(oParent); //&amp;lt;-- Fails here, Error message is below Element oSearch = (Element)oDocument.selectSingleNode("//Parent[@name = This is the error message that occurs at runtime (no compilation errors): org.w3c.dom.DOMException: Children not allowed for this node: org.dom4j.dom.DOMDocument@... [Document: name Root] at org.dom4j.dom.DOMNodeHelper.appendChild(DOMNodeHelper.java:152) at org.dom4j.dom.DOMDocument.appendChild(DOMDocument.java:162) at com.interrait.requesttracker.Dump.main(Dump.java:74) Exception in thread "main" Is there some incompatibility between org.w3c.dom and org.dom4j.dom Classes that I'm missing? I've read the documentation and made sure of the derivations, inheritances and implementations, and according to those, there should be no errors. However, perhaps you could throw more light on it. If this code DOES work fine at your end, could you send me the exact code (starting from the imports right up to the end of the class) so that I may find out what I'm doing wrong? Thanks for your help. :-) Regards Soumanjoy -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: Friday, April 19, 2002 11:36 PM To: Soumanjoy Das; dom4j-user@... Cc: 'Silvain Piree' Subject: Re: [dom4j-user] Runtime error in org.dom4j.dom.DOMDocument.createElement() Hi Soumanjoy Sorry this took me a while to get around to fixing. You did indeed find a bug. I added your test case to dom4j/src/test/org/dom4j/dom/TestDOM.java. I've applied a patch that fixes it. Its available in CVS and the daily build. Thanks for spotting this! James</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Runtime error in org.dom4j.dom.DOMDocument.createElement()</header>
    <date>Tue Apr 23 16:34:00 CEST 2002</date>
    <body>Hi Soumanjoy You found another bug in the DOM implementation! :-) I've patched it and added your code as a test case. The latest daily build should work now. BTW be careful in your code to ensure that there's only one root element in a document. From the looks of this code, you're going to try add multiple elements to the document, which is an error - they need to be children of the root element. works below First parent. All other elements should be children of this one. = James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Add element between elements in a document.</header>
    <date>Tue Apr 23 13:32:00 CEST 2002</date>
    <body>Hi I have a small problem with adding elements. I got a document that looks something like this: Doc | --- Header | | --- Footer On the document handler class (my class) there is a method called add element. This element should be placed in between the header and the footer i.e: Doc | --- Header | -&amp;gt; (new element) | --- Footer My problem is that I can not figure out how to add a elemnt to a specific position in a document. Help... please... Cheers Christian Holmqvist</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Add element between elements in a document.</header>
    <date>Tue Apr 23 14:45:00 CEST 2002</date>
    <body>A Branch (a Document or Element) has a method called content() which returns a modifiable List. So you can use the standard Java 2 List interface to change the content of an Element or Document. e.g. // now lets add &amp;lt;foo&amp;gt; in between header &amp;amp; footer // assertions The above code has all been added to the unit test dom4j/src/test/org/dom4j/TestContent in the method testAddingInTheMiddle(). James Sent: Tuesday, April 23, 2002 2:32 PM Subject: [dom4j-user] Add element between elements in a document. footer https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] stylesheet preprocessor inclusion</header>
    <date>Tue Apr 23 06:06:00 CEST 2002</date>
    <body>Hi whenever I try to include the stlesheet preprocessor line I get it at the bottom of the document. Is how do I get it to go at the top?? eg: ... Thanks Lea</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] stylesheet preprocessor inclusion</header>
    <date>Tue Apr 23 14:22:00 CEST 2002</date>
    <body>Hi Lea I explicitly added a JUnit test case to check that there wasn't a bug in there somewhere. Its in dom4j/src/test/org/dom4j/TestContent.java if you fancy taking a look - the testOrderOfPI() method. The answer ot your question depends on how you're building your document. If you're just parsing your document it should just work. If you are creating a document programatically then the following code (taken from the above JUnit test) should work fine... document.addProcessingInstruction( "xml-stylesheet", assertTrue( "First element is a PI", pi instanceof assertTrue( "Second element is an element", root instanceof James Sent: Tuesday, April 23, 2002 7:01 AM Subject: [dom4j-user] stylesheet preprocessor inclusion https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] xpath matches method broken?</header>
    <date>Wed Apr 10 21:10:00 CEST 2002</date>
    <body>i'm having some trouble with the Node.matches method. here is a simple test program that illustrates the problem: the matches call returns false, even though the xpath expression evaluates to true (that is to say, xsl:if test on that expression returns true). is this a bug or a feature? - donald</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath matches method broken?</header>
    <date>Fri Apr 12 03:57:00 CEST 2002</date>
    <body>On Wed, 2002-04-10 at 17:10, Donald Ball wrote: no luck here, huh? would this be appropriate on the jaxen list? fwiw, i have managed a workaround by doing this: /** FIXME - why doesn't this work? **/ Object object = List list = throw new IllegalStateException("Invalid object type returned from selectObject:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath matches method broken?</header>
    <date>Fri Apr 19 01:33:00 CEST 2002</date>
    <body>Hi Donald Sorry for the delay getting back to you - I'm just catching up with mail after a very long vacation. The matches() method in dom4j used to just mean 'return true if the XPath expression finds *anything*'. Its now changed its semantics (more on this later). You can still use the old semantics via the selectSingleNode() method instead. e.g. in your code below you could use the following method instead of the matches() call. if ( document.selectSingleNode( "/html/head/title" ) != null ) which amounts to the same thing you're trying to do, is there a title element inside the head element. i.e. selectSingleNode() will return a non-null Node if the XPath matches anything. The matches() method now means, does the XPath expression return myself in the result set. So the document node isn't a title element, so document.matches( "/html/head/title" ) will no longer return true. However if you did The above node.matches() method should always return true since it is the There's a mail describing this in more detail here if it helps... http://www.mail-archive.com/dom4j-dev%40lists.sourceforge.net/msg00315.html James Sent: Wednesday, April 10, 2002 10:10 PM Subject: [dom4j-user] xpath matches method broken? https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath matches method broken?</header>
    <date>Tue Apr 23 02:50:00 CEST 2002</date>
    <body>On Thu, 2002-04-18 at 21:28, James Strachan wrote: ... might i suggest the javadocs need updating then? i see what threw me off now that i went back and poked around. they currently state: "matches returns true if evaluating the given XPath expression on this node returns true or a non-empty node set. So calling this method is equivalent to calling &amp;lt;xsl:if test="xpathExpression"/&amp;gt;  in XSLT." document, while document.matches("/html/head/title") returns false as you said. - donald</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath matches method broken?</header>
    <date>Tue Apr 23 14:11:00 CEST 2002</date>
    <body>XPath this in Agreed. I've updated the javadoc in CVS - will be on the site later today... Agreed. Though I think the new matches() method is more useful; though we can still get the effect of &amp;lt;xsl:if/&amp;gt; via the selectSingleNode(). James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] validating using a DOMReader</header>
    <date>Fri Apr 19 20:03:00 CEST 2002</date>
    <body>this is a slightly strange request, but bear with me. in our app, we're letting users enter a subset of x/html (no script, embed, etc.). we're parsing using the dom4j SAXReader with validation turned out. it all works very well, thanks for the great tools. however, we'd now like to relax the rules a bit and let users enter a subset of html. my thought is that we will try the SAXReader and, if we get a DocumentException when we're parsing, we'll fall back onto using Tidy to generate a DOM document and then use the DOMReader to turn it into a dom4j document. question is, how do i validate using our modified html dtd? i could spit out the dom4j document as sax and then read it back in again, but that seems pretty silly. is there a better way? - donald</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] validating using a DOMReader</header>
    <date>Fri Apr 19 23:01:00 CEST 2002</date>
    <body>i.e. you want to allow malformed XML? like hello There have been some developments lately of parsers that can accept HTML as input but behave like XML parsers and balance tags and so forth. So they behave just like a regular SAX parser. A promising example is here:- http://hotsax.sourceforge.net/ Its quite early in the development cycle but might be worth a try. Its like a SAX-based JTidy. Its a shame JTidy is based on DOM and not SAX, it'd be much more reusable if it were SAX based. Also Andy Clark from the Xerces team has put together a HTML parser called NekoHTML which looks really cool (and could well be a great event-based replacement for JTidy). http://www.apache.org/~andyc/ I think its moving into the Xerces codebase soon. The downside of this approach right now is that it uses XNI right now instead of SAX. It might be possible to use it right now if there's an XNI -&amp;gt; SAX adapter (which could well be in the Xerces 2.x codebase by now). Otherwise we'd need a dom4j XNIReader. This should probably be done anyways so if anyone fancies diving in and writing this it'd be really cool. I've added it to the to-do list and will get there eventually. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>How to parse HTML with dom4j (was Re: [dom4j-user] validating using a DOMReader)</header>
    <date>Sat Apr 20 02:53:00 CEST 2002</date>
    <body>http://www.apache.org/~andyc/ If you want to parse HTML straight into a dom4j Document then I recommend you take a good look at NekoHTML from Andy Clark in Xerces. It can be used as a regular SAX parser so it plugs right into the dom4j SAXReader. You can instantiate NekoHTML as follows There's nothing quicker than the following: or through the SAX helper class if you like: Then use it with dom4j as follows Right now NekoHTML is fast and doesn't require any W3C DOM. Though I guess JTidy might do a few more clever things to fix really wierd HTML but I'm sure over time Neko will catch up. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] validating using a DOMReader</header>
    <date>Tue Apr 23 02:24:00 CEST 2002</date>
    <body>On Fri, 2002-04-19 at 18:55, James Strachan wrote: exactly http://hotsax.sourceforge.net/ seems pretty dead to me, actually. that's a shame. http://www.apache.org/~andyc/ this looks more promising, but we haven't tested our app with xerces-2 yet. i think this will be the long term solution though. thanks for the tips. i've got things workly fairly well with jtidy now. if anyone needs sample code for doing this, i'm happy to post it. - donald</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] validating using a DOMReader</header>
    <date>Tue Apr 23 11:11:00 CEST 2002</date>
    <body>we're as http://hotsax.sourceforge.net/ Agreed. Now I've looked into it NekoHTML is the way to go I think - though JTidy can still be useful. called http://www.apache.org/~andyc/ It should be usable right now. You can keep whatever parser you're using for XML and just use xerces-2 for the HTML parsing pretty easily. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] JDK 1.3 Dependency?</header>
    <date>Sat Apr 20 06:22:00 CEST 2002</date>
    <body>Hi Terry I've just built the whole dom4j code base and ran all the JUnit tests on = JDK 1.2.2, JDK 1.3.1 and JDK1.4 with no problem whatsoever. So I don't = think there is any problem with JDK1.2 support of dom4j. Sounds like a = container problem - maybe a W3C DOM version clash maybe? James From: Terry Steichen=20 To: dom4j-user=20 Sent: Wednesday, March 27, 2002 4:46 AM Subject: [dom4j-user] JDK 1.3 Dependency? Hi All, (I'm having a heck of a time getting this message accepted by the listserver, so I apologize in advance if more than one copy is sent = out.) I'm a dom4j newbie and have been pulling my hair out trying to get = dom4j working with JTidy.  The JTidyDemo works just fine, but when I copied = the two lines of code I needed into my code, and ran the resultant module = under Tomcat (3.2.2), I got the strangest error behavior.  It was as if = there was an invisible exception that I couldn't catch directly. I went to the list's archives and stumbled across a message of July = 12, 1999 from Minal Ashar, apparently having a similar problem.  A response = dated October 15, 2001 (???) stated there was a JDK 1.3 dependency but that = it had been fixed. Well, it turns out that Tomcat was using JDK 1.2.2, so I switched to = 1.3.1 and it worked fine!  I'm using (I think - I just downloaded it several = days ago) the latest dom4j (patched-1.3) and JTidy (04Aug2000r7). Does this mean I always *must* use JDK 1.3+ with dom4j?  If so, is = there an earlier release without this dependency? Regards, Terry Steichen</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAXResult with XMLFilter chain</header>
    <date>Sun Apr 07 07:13:00 CEST 2002</date>
    <body>http://g.msn.com/1HM502301/O'&amp;gt;Click</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAXResult with XMLFilter chain</header>
    <date>Fri Apr 19 17:28:00 CEST 2002</date>
    <body>Hi Knut This is a SAX / JAXP question really I guess but I'll try help. There's = some similar code to do this already in dom4j. Its in SAXReader in the = installXMLFilter method at line 579. The code block is... // add a new xmlFilter to the xmlReader's pipeline... // find the root XMLFilter i.e. that the XMLReader is the topmost parent. Does this help you at all? James From: knut paulsen=20 To: dom4j-user@... Sent: Sunday, April 07, 2002 8:12 AM Subject: [dom4j-user] SAXResult with XMLFilter chain Hi everyone,=20 I'm trying to transform an XML document via XSLT where the result of = the tranformation gets postprocessed by an XMLFilter. I am using the = dom4j and JAXP APIs. I do this by pushing the result of the = transformation into a SAXResult that gets instantiated with the filter = as argument. The actual filter is an object of class XMLWriter that = writes its output into a StringWriter.=20 My problem: everything works fine when I use one XMLWriter to filter = the SAX events. But I would like to chain filters to provide further = processing of the transformation result. I tried to do this by calling = the #setParent method with no success. I tried some other variations = with no luck. No more than the filter is called that is passed in the = SAXResult constructor.=20 Any ideas?=20 - Knut=20 -------------------------------------------------------------------------= ----- Send and receive Hotmail on your mobile device: Click Here _______________________________________________ dom4j-user mailing = list dom4j-user@... = https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAXResult with XMLFilter chain</header>
    <date>Fri Apr 19 21:56:00 CEST 2002</date>
    <body>This article might help too.... http://www.cafeconleche.org/books/xmljava/chapters/ch08.html James From: knut paulsen=20 To: dom4j-user@... Sent: Sunday, April 07, 2002 8:12 AM Subject: [dom4j-user] SAXResult with XMLFilter chain Hi everyone,=20 I'm trying to transform an XML document via XSLT where the result of = the tranformation gets postprocessed by an XMLFilter. I am using the = dom4j and JAXP APIs. I do this by pushing the result of the = transformation into a SAXResult that gets instantiated with the filter = as argument. The actual filter is an object of class XMLWriter that = writes its output into a StringWriter.=20 My problem: everything works fine when I use one XMLWriter to filter = the SAX events. But I would like to chain filters to provide further = processing of the transformation result. I tried to do this by calling = the #setParent method with no success. I tried some other variations = with no luck. No more than the filter is called that is passed in the = SAXResult constructor.=20 Any ideas?=20 - Knut=20 -------------------------------------------------------------------------= ----- Send and receive Hotmail on your mobile device: Click Here _______________________________________________ dom4j-user mailing = list dom4j-user@... = https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Performance of dom4j &amp;amp; Jaxen versus Xerces &amp;amp; Xalan</header>
    <date>Fri Apr 19 21:26:00 CEST 2002</date>
    <body>Please forgive this cross-post but I thought many of you would find this interesting. Jean-Jacques Dubray has kindly provided us with the performance study he and his colleagues carried out to analyse the performance of dom4j &amp;amp; Jaxen versus Xerces &amp;amp; Xalan. The study, source code, data and results are all here:- http://dom4j.org/benchmarks/xpath/index.html They are quite interesting reading! Many thanks Jean-Jacques. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Merging documents</header>
    <date>Fri Apr 19 19:37:00 CEST 2002</date>
    <body>Better late than never .... ;-) detach() is the best &amp;amp; most efficient approach. It all boils down to do you want to create new nodes or reuse old ones and save the construction. addElement() will always create new nodes. appendContent() is OK if you want to append the content of one Element to another but will also result in node creation. How about this... // add &amp;lt;someTag&amp;gt; to a new destination James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Urgh, more xpath!</header>
    <date>Fri Apr 19 19:30:00 CEST 2002</date>
    <body>MessageHi David This is an old email but I'm just checking this got resolved. Do you = still have this problem? If so have you an example XML doc and XPath = expression that demonstrates the problem you're having?=20 James From: David Hooker=20 To: dom4j-user@... Sent: Wednesday, January 16, 2002 12:41 AM Subject: [dom4j-user] Urgh, more xpath! Why does this work: when this does not: XPath expr =3D = ??? Is there something in some docs or comments or web sites or faq's = somewhere that I missed that explains how in general to do xpath with = dom4j?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] configuring the SAXParser</header>
    <date>Fri Apr 19 19:25:00 CEST 2002</date>
    <body>From: Franz Beil=20 To: dom4j-user@... Sent: Tuesday, March 26, 2002 12:19 PM Subject: Re: [dom4j-user] configuring the SAXParser More specifically, the bug/problem is as follows: !!!   afterReadHandler !=3D beforeReadHandler   !!! reader.read(file) resets the ContentHandler to some default handler. = In my case, this is afterReadHandler.getClass() =3D=3D org.dom4j.io.SAXContentHandler. Does anyone know how to prevent reader.read() from doing this? The read() method will always install its own ContentHandler. If you = want to use a different ContentHandler then probably the easiest way is = to derive from SAXReader and override the following method=20 /** Factory Method to allow user derived SAXContentHandler objects = to be used */ James</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Attributes</header>
    <date>Fri Apr 19 19:21:00 CEST 2002</date>
    <body>Hi Frank The trick to move nodes from one Document to the other is to use the detach() method - this will cleanly remove the node from one place so that you can add it somewhere else. e.g. here's the section of your example code patched... James Sent: Tuesday, April 02, 2002 5:02 PM Subject: [dom4j-user] Attributes https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Runtime error in org.dom4j.dom.DOMDocument.createElement()</header>
    <date>Fri Apr 12 03:41:00 CEST 2002</date>
    <body>Hello everyone, (Hi Sylvain), Being a newcomer to JDOM, I was surprised to see that some classes in org.dom4j.dom and org.w3c.dom have exactly similar methods as Microsoft DOM (as in name and semantics). Since it seemed too good to be true (I was looking to convert my VB code to Java in the first place), I gave it a try. Thanks to Sylvain, I've learnt a way to use DocumentHelper to do the work that I need. But I just tried out the following code out of curiosity. Could anyone please tell me why the code fails at the line indicated? //Add two subnodes with attributes "name" and "id" Element oParent = oDocument.createElement("Parent"); //&amp;lt;-- Fails here, Error message is below Element oSearch = (Element)oDocument.selectSingleNode("//Parent[@name = It compiles fine, but gives an error at runtime: java.lang.ClassCastException: org.dom4j.tree.DefaultElement at org.dom4j.dom.DOMDocument.createElement(DOMDocument.java:209) at com.interrait.requesttracker.Dump.main(Dump.java:70) Exception in thread "main" Anything wrong with the code? I'd appreciate any suggestions. Thanks Soumanjoy</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Runtime error in org.dom4j.dom.DOMDocument.createElement()</header>
    <date>Sat Apr 13 01:47:00 CEST 2002</date>
    <body>DOM Thats because the W3C DOM API (which Microsoft implement as well) is a language neutral API. So the W3C DOM API is pretty similar on Java and .NET and other languages. try. Could Error The org.dom4j.dom package implements a 'dual tree' that both implements the dom4j API as well as the W3C API. There could be a bug in there somewhere. I'll investigate further.... James</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Runtime error in org.dom4j.dom.DOMDocument.createElement()</header>
    <date>Fri Apr 19 18:12:00 CEST 2002</date>
    <body>Hi Soumanjoy Sorry this took me a while to get around to fixing. You did indeed find a bug. I added your test case to dom4j/src/test/org/dom4j/dom/TestDOM.java. I've applied a patch that fixes it. Its available in CVS and the daily build. Thanks for spotting this! James Sent: Friday, April 12, 2002 4:48 AM Subject: [dom4j-user] Runtime error in org.dom4j.dom.DOMDocument.createElement() DOM try. Could Error https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] "InternalSubset" gets lost</header>
    <date>Wed Apr 10 15:34:00 CEST 2002</date>
    <body>If I have internal declarations, the w3c dom preserves them, makes them accessible withDocument.getDoctype().getInternalSubset(), and writes them out if I serialize. But if I take this into dom4j through org.dom4j.io.DomReader, they are lost- they don't end up in the InternalEntityDecl List, and they don't stay if I serialize. How am I supposed to preserve internal declarations that must be there when I serialize for the document to remain valid? -Tom</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] "InternalSubset" gets lost</header>
    <date>Fri Apr 19 17:20:00 CEST 2002</date>
    <body>Right now the DOMReader and DOMWriter don't handle internal subsets yet. I'll add it to the to do list to fix that. By all means dive in and help if you've time :) James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Passing parameters to xslt</header>
    <date>Fri Apr 12 22:17:00 CEST 2002</date>
    <body>I need to pass a dom4J Document to an xslt transformation as an xslt parameter.  I'm using Saxon.  Does anyone know if I can just pass the dom4J Document object  using Transformer.setParameter() from TrAX, or do I have to convert it into a w3c DOM first? Also, how do I convert a dom4j Document into a w3c DOM?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Passing parameters to xslt</header>
    <date>Sat Apr 13 01:44:00 CEST 2002</date>
    <body>MessageSaxon will probably expect the parameter to be a DOM node so you = can use DOMWriter (in org.dom4j.io) to create a W3C DOM node. e.g. You can also use a DOMDocumentFactory (in org.dom4j.dom) to create dom4j = documents which are also W3C DOM trees as well - though this DOM = implementation still needs a bit more work to be fully conformant so the = above is probably the safest option for now. James From: David Hooker=20 To: dom4j-user@... Sent: Friday, April 12, 2002 11:15 PM Subject: [dom4j-user] Passing parameters to xslt I need to pass a dom4J Document to an xslt transformation as an xslt = parameter.  I'm using Saxon.  Does anyone know if I can just pass the = dom4J Document object  using Transformer.setParameter() from TrAX, or do = I have to convert it into a w3c DOM first? Also, how do I convert a dom4j Document into a w3c DOM?</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Passing parameters to xslt</header>
    <date>Sat Apr 13 01:56:00 CEST 2002</date>
    <body>This won't work? Where paramDoc is a dom4j Element? -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: Friday, April 12, 2002 8:39 PM To: David Hooker; dom4j-user@... Subject: Re: [dom4j-user] Passing parameters to xslt Saxon will probably expect the parameter to be a DOM node so you can use DOMWriter (in org.dom4j.io) to create a W3C DOM node. e.g. You can also use a DOMDocumentFactory (in org.dom4j.dom) to create dom4j documents which are also W3C DOM trees as well - though this DOM implementation still needs a bit more work to be fully conformant so the above is probably the safest option for now. James From: David  &amp;lt;mailto:dhooker@...&amp;gt; Hooker To: dom4j-user@... Sent: Friday, April 12, 2002 11:15 PM Subject: [dom4j-user] Passing parameters to xslt I need to pass a dom4J Document to an xslt transformation as an xslt parameter.  I'm using Saxon.  Does anyone know if I can just pass the dom4J Document object  using Transformer.setParameter() from TrAX, or do I have to convert it into a w3c DOM first? Also, how do I convert a dom4j Document into a w3c DOM?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Passing parameters to xslt</header>
    <date>Fri Apr 19 15:58:00 CEST 2002</date>
    <body>MessageHi David Actually that constructor looks wrong; it allows you to create a = DOMDocument which contains any old Element whereas it should probably = restrict to just DOMElement objects. I'll patch the constructor. I'd recommend using the DOMWriter anyways, = then you can handle any dom4j document, whether it supports DOM natively = or not. (DOMWriter is optimized to detect native DOMDocuments). James From: David Hooker=20 To: 'James Strachan' ; dom4j-user@... Sent: Saturday, April 13, 2002 2:55 AM Subject: RE: [dom4j-user] Passing parameters to xslt This won't work? Where paramDoc is a dom4j Element? -----Original Message----- From: James Strachan [mailto:james_strachan@... Sent: Friday, April 12, 2002 8:39 PM To: David Hooker; dom4j-user@... Subject: Re: [dom4j-user] Passing parameters to xslt Saxon will probably expect the parameter to be a DOM node so you can = use DOMWriter (in org.dom4j.io) to create a W3C DOM node. e.g. You can also use a DOMDocumentFactory (in org.dom4j.dom) to create = dom4j documents which are also W3C DOM trees as well - though this DOM = implementation still needs a bit more work to be fully conformant so the = above is probably the safest option for now. James From: David Hooker=20 To: dom4j-user@... Sent: Friday, April 12, 2002 11:15 PM Subject: [dom4j-user] Passing parameters to xslt I need to pass a dom4J Document to an xslt transformation as an = xslt parameter.  I'm using Saxon.  Does anyone know if I can just pass = the dom4J Document object  using Transformer.setParameter() from TrAX, = or do I have to convert it into a w3c DOM first? Also, how do I convert a dom4j Document into a w3c DOM?</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with Java 1.4 and EntityResolver</header>
    <date>Thu Apr 18 12:52:00 CEST 2002</date>
    <body>Hi all I have a problem using my app with Java 1.4. My XML has the following DOCTYPE line: I'm using my own entity resolver because the DTD is inside the application jar. public class MyResolver implements EntityResolver public InputSource resolveEntity (String publicId, String systemId) if (publicId != null &amp;amp;&amp;amp; "-//company//DTD MYDEF//EN".equals(publicId)) // read and return the dtd as an input source ......... // use the default behaviour This approach works fine with Java 1.3.x but running the app with Java 1.4 I'll get the following error message: "Relative URI "mydef.xml"; can not be resolved without a base URI." Can anybody give me a hint how to solve this problem. I don't have (need) a base URI. BTW: Many thanks for the incredible great DOM4J XML API. Cheers, Stephan ---------------------------------------------------------------------- The contents of this communication are confidential to the normal user of the email address to which it was sent.  If you have received this email in error, any use, dissemination, forwarding, printing or copying of this email is strictly prohibited.  If this is the case, please notify the sender and delete this message. ----------------------------------------------------------------------</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with Java 1.4 and EntityResolver</header>
    <date>Fri Apr 19 15:56:00 CEST 2002</date>
    <body>Hi Stephan jar. I'll a base This sounds a bit wierd. You could always try change your URI to "/mydef.xml" and see if that fixes it. Or you could add an xml:base=" http://acme.com/something " attribute to your document as described in XML Base. e.g. http://example.org/today/ ... Though its wierd, I thought it wouldn't really matter if you were using your own EntityResolver. It might be worth creating a simple test case using your document and EntityResolver and just trying to use SAX to parse the document - to see if its a problem with the underlying SAX parser that comes with JDK1.4 or if its something introduced by dom4j. Glad you like it! James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Bug with attributes starting with underscore?</header>
    <date>Fri Apr 19 15:52:00 CEST 2002</date>
    <body>Hi Tom Sorry for the cross-post, just thought I'd keep everyone updated. Yes there indeed was a bug with XPaths where element or attribtue names started with an underscore. It turned out to be a minor issue in the SAXPath lexer of the XPath expressions. I've patched it in SAXPath and there are now test cases in Jaxen to ensure this keeps working across all XML models. Thanks for spotting this one Tom - sorry it took so long to fix. If it helps this is all fixed in the CVS repositories and the daily dom4j build. James Sent: Tuesday, April 02, 2002 4:12 PM Subject: [dom4j-user] Bug with attributes starting with underscore? https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] XSL Saxon, dom4j and NullpointerExceptions</header>
    <date>Sat Apr 06 04:31:00 CEST 2002</date>
    <body>I have a large Xerces DOM + Saxon XSL web application that is = working smoothly.  I'm considering porting it to dom4j for the cleaner = dom and xpath java API. Several places in a few different xsl documents, I'm getting null = pointer exceptions during processing.  I've narrowed it down to the = following statement: test=3D"$screen[@screeningID=3D$ID]/hearing/@status=3D'pass'"&amp;gt;&amp;lt;xsl:attrib= pass Its kind-a odd, but I think it has something to do with a xsl:if inside = an element when the xsl:if has a "" as part of the test expression.  The = $screen/@screeningID attribute does exist as a node, but its value is an = empty string.  I have tried it with the full xpath instead of the global = variable, and I get the same exception.  I have tried the same xsl:if = statement outside the xsl:element and everything works as expected. =20 Any ideas on where next to look for a solution?  Since this works fine = with Saxon and Xerces, I figured it has something to do with dom4j's = Document implementation. Stack trace below: java.lang.NullPointerException at = com.icl.saxon.expr.NodeSetComparison.evaluateAsBoolean(NodeSetComparison.= java:66) at com.icl.saxon.style.XSLIf.process(XSLIf.java:77) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.XSLElement.process(XSLElement.java:139) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.XSLTemplate.expand(XSLTemplate.java:225) at = com.icl.saxon.style.XSLCallTemplate.process(XSLCallTemplate.java:187) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at = com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.jav= a:288) at = com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.XSLTemplate.expand(XSLTemplate.java:225) at com.icl.saxon.style.XSLTemplate.start(XSLTemplate.java:198) at com.icl.saxon.Controller.applyTemplates(Controller.java:254) at com.icl.saxon.Controller.defaultAction(Controller.java:270) at com.icl.saxon.Controller.applyTemplates(Controller.java:235) at com.icl.saxon.Controller.run(Controller.java:177) at com.icl.saxon.Controller.transformDocument(Controller.java:1075) at com.icl.saxon.Controller.transform(Controller.java:945) at com.infinitecampus.prism.Prism.service(Prism.java:266)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XSL Saxon, dom4j and NullpointerExceptions</header>
    <date>Thu Apr 18 12:19:00 CEST 2002</date>
    <body>To solve this problem I've modified dom4j semantics with respect to attributes with null values. Adding an attribute with a null value is now equivalent to removing it. This means that when a dom4j document gets passed to other XML engines like XSLT or other DOM or SAX providers, no null valued attributes will be passed through. The following pseduo code demonstates the new behaviour in action. For a more concrete display of the new semantics the JUnit test case dom4j/src/test/org/dom4j/TestNullAttributes.java shows the new behaviour explicitly. ... ... This behaviour is now in CVS and the daily build which should fix any null-valued-attribute related problems. James From: David Frankson To: dom4j-user@... Sent: Saturday, April 06, 2002 5:25 AM Subject: [dom4j-user] XSL Saxon, dom4j and NullpointerExceptions I have a large Xerces DOM + Saxon XSL web application that is working smoothly.  I'm considering porting it to dom4j for the cleaner dom and xpath java API. Several places in a few different xsl documents, I'm getting null pointer exceptions during processing.  I've narrowed it down to the following statement: test="$screen[@screeningID=$ID]/hearing/@status='pass'"&amp;gt;&amp;lt;xsl:attribute pass Its kind-a odd, but I think it has something to do with a xsl:if inside an element when the xsl:if has a "" as part of the test expression.  The $screen/@screeningID attribute does exist as a node, but its value is an empty string.  I have tried it with the full xpath instead of the global variable, and I get the same exception.  I have tried the same xsl:if statement outside the xsl:element and everything works as expected. Any ideas on where next to look for a solution?  Since this works fine with Saxon and Xerces, I figured it has something to do with dom4j's Document implementation. Stack trace below: java.lang.NullPointerException at com.icl.saxon.expr.NodeSetComparison.evaluateAsBoolean(NodeSetComparison.jav a:66) at com.icl.saxon.style.XSLIf.process(XSLIf.java:77) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.XSLElement.process(XSLElement.java:139) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.XSLTemplate.expand(XSLTemplate.java:225) at com.icl.saxon.style.XSLCallTemplate.process(XSLCallTemplate.java:187) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.LiteralResultElement.process(LiteralResultElement.java:2 88) at com.icl.saxon.style.StyleElement.processChildren(StyleElement.java:633) at com.icl.saxon.style.XSLTemplate.expand(XSLTemplate.java:225) at com.icl.saxon.style.XSLTemplate.start(XSLTemplate.java:198) at com.icl.saxon.Controller.applyTemplates(Controller.java:254) at com.icl.saxon.Controller.defaultAction(Controller.java:270) at com.icl.saxon.Controller.applyTemplates(Controller.java:235) at com.icl.saxon.Controller.run(Controller.java:177) at com.icl.saxon.Controller.transformDocument(Controller.java:1075) at com.icl.saxon.Controller.transform(Controller.java:945) at com.infinitecampus.prism.Prism.service(Prism.java:266) _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] Buildtime xml validation?</header>
    <date>Tue Apr 16 07:09:00 CEST 2002</date>
    <body>Hi James! Well, no. During build up a invalid document is a document that breaks a rule in the rule specification (i.e. dtd/schema a.s.o.)and a rule is not broken when it is not fullfilled. This is the fundamental differens between build time validation and "normal" validation. Reason: For example we have an old system that we need to expand and doing this with modern component and ofcourse XML specified communication. The DB has been around for a looooooooooooooooooong time *ihh nightmare* and things has been added without to many (if any) constraints and rules. So the result from data retrival all has to be validated to ensure that the information is correct. No this would be easy if it was a small system, it is not only the DB part I'm involved with (and it is a small part) is over 1200 tables. Part of the system is just a information retrival and passing on system where large querys retrives data transforms it into XML and sends it on. Some of the XML is quite large and validation when it is completed is just not possible (to slow and memory intens) so build validation is our only solution to get away of the validation layer between query result and xml building (and this layer is SOO boring to write). When invalidation occures logical rules can adopt the information to fulfill validation and retrival can continue without to much of a problem. Well ofcourse, but this don't help me... I know, I have been using MSV for a while now and it is great... /Christian</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Buildtime xml validation?</header>
    <date>Tue Apr 16 15:22:00 CEST 2002</date>
    <body>Hi Christian "normal" with been the occures I don't quite understand. You mean you want to validate as you parse XML? Or as you programmatically build a document? And what do you want to do if validation fails? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding a  stylesheet element</header>
    <date>Tue Apr 16 12:47:00 CEST 2002</date>
    <body>Hi Lea The content of a Branch (a Document or Element) is a List that you can modify. So you can do things like ProcessingInstruction pi // modify the list however we wish James Sent: Thursday, April 04, 2002 10:18 AM Subject: RE: [dom4j-user] Adding a stylesheet element can XML https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Buildtime xml validation?</header>
    <date>Mon Apr 15 07:10:00 CEST 2002</date>
    <body>Hi Is there any buildup validation features in Dom4J? What I mean is that when the Document is created a DTD/Schema is assigned to the Document and as the element, attribute .. is added to the document the document is validating it's correctness. /Christian Holmqvist</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Buildtime xml validation?</header>
    <date>Mon Apr 15 15:10:00 CEST 2002</date>
    <body>Hi Christian to Firstly validating a document as its being created / changed often doesn't work. e.g. an empty document will be invalid. Though once you have a Document instance you can validate it against a DTD / schema whenever you wish. There's a cool library called MSV from Sun which does this very nicely and it works against DTDs, RelaxNG (the nicest schema language IMHO) as well as XML Schema, TREX and Relax. There's an example of it in use in dom4j/src/samples/JARVDemo.java. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Warning while using dom4j</header>
    <date>Mon Apr 15 14:59:00 CEST 2002</date>
    <body>of am dom4j will try to use JAXP to create a SAX parser. If JAXP is on the classpath but for some reason JAXP cannot be used a warning is output (the one you've just seen). This generally means that either an old JAXP is on the classpath (e.g. JAXP 1.0 which doesn't support namespaces) or something wierd is going on. If you look at the Javadoc for SAXReader... http://dom4j.org/apidocs/org/dom4j/io/SAXReader.html it describes how you can turn on more verbose error reporting with the org.dom4j.verbose system property to find out exactly what the error is. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] selectSingleNode</header>
    <date>Fri Apr 12 10:27:00 CEST 2002</date>
    <body>Hi, I've got a problem with selectSingleNode. I have a XML-Document like I put the two nodes &amp;lt;Benutzer_rec&amp;gt; in a new list and use the following = code to select the childnodes: for ( Iterator iter =3D newContacts.iterator(); iter.hasNext(); = System.out.println("Name: " + = I can iterate over the elements, of course no problem. "element.asXML()" = shows me the right element. But = "selectSingleNode("//Nachname").getText())" always gives me the same = value "Negativer"! Is this a bug or am I doing something wrong? Thanks for any help, Christoph</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] selectSingleNode</header>
    <date>Sun Apr 14 08:57:00 CEST 2002</date>
    <body>Hallo Christoph, Christoph Vollmer wrote: selectSingleNode("//Nachname") always gives you the first 'Nachname' Node in your document since your XPath-expression starts at the document root ("//") selectSingleNode(".//Nachname") should work. Markus</body>
  </mail>
  <mail>
    <header>[dom4j-user] Validating against a different dtd from the one specified</header>
    <date>Fri Apr 12 23:20:00 CEST 2002</date>
    <body>I apologise if this is a stupid question, but Ive looked many places and not quite found the answer. I want to read a file ascertain its doctype and then validate it against my chosen dtd based on doctype. My problem is twofold. First I need to parse the document to get the doctype but will the parser make this available? Secondly having parsed it once, re-parse telling the parser to use my chosen dtd ignoring any specified in the file, is this possible? Hope someone out there can help (or at least point me in the direction of a good place to look) Thanks Rom _________________________________________________________________ MSN Photos is the easiest way to share and print your photos: http://photos.msn.com/support/worldwide.aspx</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Validating against a different dtd from the one specified</header>
    <date>Sat Apr 13 02:00:00 CEST 2002</date>
    <body>Hi Rom not my doctype chosen a The trick for this is to implement your own SAX EntityResolver. You'll then be notified as a DOCTYPE is found and can then load the DTD from any location you wish (from the classpath or some local file or whatever). e.g. there's a few related mails on the archive (we should add this to the FAQ) http://www.mail-archive.com/dom4j-user%40lists.sourceforge.net/msg00631.html James</body>
  </mail>
  <mail>
    <header>[dom4j-user] Compilation problem with dom4j</header>
    <date>Thu Apr 11 06:54:00 CEST 2002</date>
    <body>Hi, I'm new to JDOM, although I have a lot of experience using MS-XML/DOM. My question is basically that of a total newbie - I hope I make sense: I downloaded the entire dom4j-1.3 build from Sourceforge, and tried to include the dom4j.jar in a Project in JBuilder. I used the following statements in one class module: which gave me the following compilation error: zip file is corrupted at line 41, column 27 I downloaded the zip file twice, and updated the dom4j.jar in my project. But the same thing happened. Is there something else that I'm supposed to do (i.e. include another jar file)? I also included jaxen.jar in my project (both times) - no use. Could anyone let me know what I'm doing wrong? Thanks Soumanjoy</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Compilation problem with dom4j</header>
    <date>Thu Apr 11 07:31:00 CEST 2002</date>
    <body>Soumanjoy, try to use dom4j-full.jar instead of dom4j.jar; a seperate jaxen.jar will not be needed. In JBuilder define a libary for DOM4J and add that libary to your project. Good luck, Silvain Sent: Thursday, April 11, 2002 9:01 Subject: [dom4j-user] Compilation problem with dom4j do https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] &amp;lt;html&amp;gt;</header>
    <date>Wed Apr 10 01:22:00 CEST 2002</date>
    <body>ileti Sayesinde sizlerde yabancý ülkelerdeki gibi türkiyedeki en ucuz ürünlerden haberdar olacaksýnýz bizim amacýmýz reklam veren firmalarýn ürünlerini sizlere en iyi bir þekilde tanýtmak bunun için yerleþim verlerine göre ürün Bilgileri girip gönderirseniz sizde en iyi þekilde src=" http://www.homestead.com/~site/Scripts_HitCounter/HitCounter.dll?homesteadID=539479&amp;amp;amp;homesteadName=&amp;amp;amp;counterName= si256815r_HC9104&amp;amp;amp;style=Cool\&amp;amp;amp;dw=230&amp;amp;amp;dh=33&amp;amp;amp;digits=9&amp;amp;amp;borders=9"</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to get the encoding of an existing XML file?</header>
    <date>Thu Apr 04 07:04:00 CEST 2002</date>
    <body>Hi, I want to determine the encoding ("iso-8859-1" on the example below) of a existing/read XML file. Have only found "getEncoding()" method for org.xml.sax.InputSource (and OutputFormat) - tried it, didn't worked!  Then I tried to get it via a org.dom4j.ProcessingInstruction named "xml" - didn't worked. Any ideas how to get it?  Or is this a bug in the implementation(s)? Used latest dom4j 1.3, jdk 1.3. Thanx, Peter --- CUT HERE --- " http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd --- CUT HERE --- System.out.println("No encoding detected via System.out.println("No encoding detected via Processing // ... more instructions ... --- CUT HERE ---</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] infoset compliance</header>
    <date>Thu Apr 04 05:13:00 CEST 2002</date>
    <body>That should work fine. The contents of an element maintain their order (using a List) so this should be fine. You might find the org.dom4j.swing.XMLTableModel class useful - it allows arbitrary dom4j documents to be viewed in a JTable using XPath expressions to extract information. There's no sequence attribute; the List maintains order. You can find the index of an item using List.indexOf() though its not that efficient. I think you'll be fine - though I'm not totally sure how you want to handle 'repeating elements' - I guess you just want to preserve this fact in the JTable? James</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding a  stylesheet element</header>
    <date>Thu Apr 04 00:07:00 CEST 2002</date>
    <body>The stylesheet line you mention is a processing instruction in XML terms. You can do this in dom4j as follows... James Sent: Wednesday, April 03, 2002 9:19 AM Subject: [dom4j-user] Adding a stylesheet element https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Attributes</header>
    <date>Tue Apr 02 16:08:00 CEST 2002</date>
    <body>Good morning! I'm having a problem with retrieving attributes from a node in one document and posting them to a node in another document.  I can't see anything wrong with the code, so any help would be appreciated.  I've included the output and the sample code. In the target document, "levelB" in the 2nd instance of "levelA" has an attribute of "test". When I gather the corresponding attributes from the source document and merge them to the target document the "test" attribute that was only at "levelB" in the 2nd instance of "levelA" now appears on "levelB" of the 1st instance of "levelA". Thanks, Frank Here's the output..... Source Target before Target after And the code..... List srcDocNodeAttrs = ((Element)docS.selectSingleNode(((Element)node).getPath())).attributes()</body>
  </mail>
  <mail>
    <header>[dom4j-user] =?iso-8859-1?Q?Bug_with_attributes_starting_with_underscore=3F?=</header>
    <date>Tue Apr 02 15:12:00 CEST 2002</date>
    <body>Running: Document doc = DocumentHelper.parseText( "&amp;lt;?xml version='1.0' encoding='UTF-8'?&amp;gt;" produces c= d _e= ??? This looks like a bug... -Thanks -Tom Oehser Tom@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] infoset compliance</header>
    <date>Wed Apr 03 14:26:00 CEST 2002</date>
    <body>I'm curious about dom4j compliance with the infoset spec- particularly with the order of elements in a document. Specifically, I ask because I need to fit a JTable model to an XML document that currently has a traditional model of a vector of vectors. The table data can be rather large, several thousand rows at least, and ordinality is critical.  The element that repeats for each row would preferably not have to have a "sequence number" attribute, because keeping that in sync when rows are added/removed would be nightmarish. Also I'm not sure how well or efficient the model would even sort on such an attribute if it existed. But, at the same time, I don't want to try and fill the JTable based on the order of repeating elements in the dom4J document if I can't depend on it.   My understanding is the infoset spec gives me the guarantee I'm looking for- IF dom4j respects it?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] infoset compliance</header>
    <date>Wed Apr 03 14:47:00 CEST 2002</date>
    <body>I can't say that I even understand the question, really, but.. Each Element has an ordered list of children, which may be other Elements, or Text or whatnot. There is no flyweight pattern between Elements, even if they are identical. If &amp;lt;foo&amp;gt; has three &amp;lt;bar&amp;gt; children, then the Element of foo has three Element children named bar. -bob On Wed, 3 Apr 2002, Brian Young wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Adding a  stylesheet element</header>
    <date>Wed Apr 03 08:23:00 CEST 2002</date>
    <body>Hi Does anyone know how I can add the stylesheet processing element to an XML document? eg: I have an XML doc, I want to load it in, add the stylesheet line and then save... Thanks Lea</body>
  </mail>
  <mail>
    <header>[dom4j-user] ADV: Harvest lots of Email addresses quickly</header>
    <date>Wed Apr 03 20:41:00 CEST 2002</date>
    <body>face="Arial Black" size=6&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; Want harvests general Email lists from mail servers&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/FONT&amp;gt;&amp;lt;FONT color=#0000ff face=Arial size=4&amp;gt;Easy Email Searcher &amp;lt;/FONT&amp;gt;&amp;lt;FONT color=#ff00ff face=Arial size=4&amp;gt;can get 100,000 Email&amp;lt;/FONT&amp;gt;&amp;lt;/B&amp;gt; &amp;lt;FONT color=#ff00ff face=Arial size=4&amp;gt;&amp;lt;B&amp;gt;addresses directly from the Email Searcher&amp;lt;/FONT&amp;gt;&amp;lt;/B&amp;gt; is a 32 bit Windows Program for e-mail marketing. It is intended for easy and convenient search large e-mail address lists from mail servers. The program can be operated on Windows 95/98/ME/2000 Searcher&amp;lt;/FONT&amp;gt; &amp;lt;/B&amp;gt;support multi-threads (up to 512 Searcher&amp;lt;/FONT&amp;gt;&amp;lt;/B&amp;gt; has the ability&amp;amp;nbsp; to reconnect to the mail server if the server has disconnected and continue the searching at the Searcher&amp;lt;/FONT&amp;gt;&amp;lt;/B&amp;gt; has an ergonomic interface that is easy to set up address searcher and bulk e-mail sender. It can verify more than 5500 email addresses per minute at only 56Kbps speed. It even allows you send email to valid email address while searching. You can save the searching progress and load it to resume work at your convenience. All you need to do is just input an email address, and press the "Search" href=" http://www.wldinfo.com/download/email/newees.zip"&amp;gt;Download Site href=" http://bestsoft.3322.org/onlinedown/newees.zip"&amp;gt;Download Site size=3&amp;gt;&amp;lt;STRONG&amp;gt;If&amp;amp;nbsp; you can not download this program ,&amp;amp;nbsp; please copy the following link into your URL , and then click " Enter" on your http://www.wldinfo.com/download/email/newees.zip&amp;lt;/P http://bestsoft.3322.org/onlinedown/newees.zip&amp;lt;/P&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;/DIV face="Verdana, Tahoma, Helvetica, SansSerif" size=1&amp;gt;&amp;lt;B&amp;gt;Disclaimer:&amp;lt;/B&amp;gt;&amp;lt;BR&amp;gt;We are strongly against continuously sending unsolicited emails to those who do not wish to receive our special mailings. We have attained the services of an independent 3rd party to overlook list management and removal services. This is not unsolicited email. If you do not wish to receive further mailings, please click this link &amp;lt;A href=" http://www.autoemailremoval.com/cgi-bin/remove.pl " target=_blank&amp;gt;&amp;lt;FONT http://www.autoemailremoval.com/cgi-bin/remove.pl 01222263545&amp;lt;/FONT&amp;gt;&amp;lt;B&amp;gt;&amp;lt;FONT class=disclaimer color=#000080 face=Arial&amp;gt;&amp;lt;BR&amp;gt;This message is a commercial advertisement. It is compliant with all federal and state laws regarding email messages including the California Business and Professions Code. We have provided the subject line "ADV" to provide you notification that this is a commercial</body>
  </mail>
  <mail>
    <header>[dom4j-user] Attribute as JTable column ...XMLTableDefinition</header>
    <date>Wed May 29 06:16:00 CEST 2002</date>
    <body>Hi, I need to know how to add an Attribute name as JTable column header and corresponding value set in that column using org.dom4j.swing package classes. Is it actually possible using this org.dom4j.swing package API ? clarify this ASAP., Thanks a lot Srinivas.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Attribute as JTable column ...XMLTableDefinition</header>
    <date>Wed May 29 06:50:00 CEST 2002</date>
    <body>Its a fairly easy patch to add this feature; should have it done soon. Do you have a simple example I could use for testing? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] JTable....XMLTableDefinition</header>
    <date>Wed May 29 06:12:00 CEST 2002</date>
    <body>Hi, I need to know how to add an Attribute name as JTable column header and corresponding value set in that column using org.dom4j.swing package classes. Is it actually possible using this org.dom4j.swing package API ? clarify this ASAP., Thanks a lot Srinivas.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Updated cookbook code for msv-20020414</header>
    <date>Mon May 27 09:51:00 CEST 2002</date>
    <body>I tried out the MSV cookbook example and it seems that the Verifier constructor has changed to use the SAX ErrorHandler instead of VerificationERrorHandler.  Attached is a working one.  Hope this helps! -- http://mparaz.com &amp;gt;	Mobile: +63-916-423-7922 Imperium Technology, Inc.  &amp;lt;map@...&amp;gt;	Office: +63-2-812-3155</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Updated cookbook code for msv-20020414</header>
    <date>Mon May 27 17:15:00 CEST 2002</date>
    <body>Hi Miguel Thanks for your patch; I'll apply it. Many thanks. James Sent: Monday, May 27, 2002 10:49 AM Subject: [dom4j-user] Updated cookbook code for msv-20020414 http://mparaz.com &amp;gt; Mobile: +63-916-423-7922 _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Updated cookbook code for msv-20020414</header>
    <date>Mon May 27 17:33:00 CEST 2002</date>
    <body>Actually Toby had already updated the cookbook to reflect this; its just the new cookbook needs to be updated on the website. Will hopefully get to that soon... James Sent: Monday, May 27, 2002 6:13 PM Subject: Re: [dom4j-user] Updated cookbook code for msv-20020414 http://mparaz.com &amp;gt; Mobile: +63-916-423-7922 http://mail.yahoo.com http://devcon.sprintpcs.com/adp/index.cfm https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] NullPointer in AbstractNode.createXPath</header>
    <date>Mon May 13 13:28:00 CEST 2002</date>
    <body>Hello, Maybe I found a bug in dom4j 1.3: I am getting a NullPointer. This happened just one time (at least I noticed it just one time). Here is the StackTrace: java.lang.NullPointerException at org.dom4j.tree.AbstractNode.createXPath(AbstractNode.java:207) at org.dom4j.tree.AbstractNode.selectNodes(AbstractNode.java:163) I call the method with a static final initialized Variable, which is definedly not null. It works almost all the time and I can not reproduce it. The method in question looks like this in * @version $Revision: 1.23 $ : So, it seems to me that getDocumentFactory() returns null. Best regards, Sven Behrens.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] NullPointer in AbstractNode.createXPath</header>
    <date>Mon May 13 15:03:00 CEST 2002</date>
    <body>Hi Sven Typically the getDocumentFactory() method of AbstractNode should never return null. What implementation of node are you using? e.g. what is the classname of the node you're calling createXPath() on? It'd help to track down the problem... James Sent: Monday, May 13, 2002 2:27 PM Subject: [dom4j-user] NullPointer in AbstractNode.createXPath it. https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] NullPointer in AbstractNode.createXPath</header>
    <date>Tue May 14 08:00:00 CEST 2002</date>
    <body>Hi James, I am using: org.dom4j.tree.DefaultElement +sven. James Strachan wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] NullPointer in AbstractNode.createXPath</header>
    <date>Thu May 16 10:20:00 CEST 2002</date>
    <body>Hi Sven I've added a unit test case called testCreateXPathBug() to the test case org.dom4j.TestXPath in dom4j/src/test. It seems to work fine when just creating a new DefaultElement instance. So I can't reproduce your problem. Could you create a bit of test code that demonstrates your problem? Are you using your own special DocumentFactory or doing anything wierd or groovy? James Sent: Tuesday, May 14, 2002 8:59 AM Subject: Re: [dom4j-user] NullPointer in AbstractNode.createXPath track https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] NullPointer in AbstractNode.createXPath</header>
    <date>Thu May 16 12:15:00 CEST 2002</date>
    <body>Thanks for that Sven - it gives me something to go on. Its probably a serialization related issue. Will take a look... BTW the best way to transmit XML documents across serialization is actually just to use text rather than Java Serialization. James Sent: Thursday, May 16, 2002 12:55 PM Subject: Re: [dom4j-user] NullPointer in AbstractNode.createXPath problem. you groovy? the reproduce _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Serialization</header>
    <date>Fri May 24 11:06:00 CEST 2002</date>
    <body>Hi Sven actually Performance. I nearly made Document use text internally by default. I think its a good idea since serializing DOM-ish structures using Java Serializaiton is a bit silly really. Dennis Sosnoski did some cool work on a more efficient binary representation thats about 30% quicker than text which I've always meant to plugin if its there on the classpath, otherwise just use text for a Document. http://www.sosnoski.com/opensrc/xmls/index.html e.g. take a look at the performace differences... http://www.sosnoski.com/opensrc/xmls/results.html If anyone fancies having a go at doing this I'd be most grateful; I'm in the process of moving dom4j over to use a Maven build at the moment to make a much nicer website. Otherwise I'll get around to doing this eventually. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Files for: "Cannot add another element" for dom4j XSLT test</header>
    <date>Tue May 21 12:24:00 CEST 2002</date>
    <body>Sorry I omitted them.  To save space, I have them here: http://mparaz.com/download/journal.xml http://mparaz.com/download/journal.xsl Thanks in advance! -- Miguel A Paraz             &amp;lt;mparaz@...&amp;gt;	Mobile: +63-916-423-7922 Imperium Technology, Inc.  &amp;lt;map@...&amp;gt;	Office: +63-2-812-3155</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Files for: "Cannot add another element" for dom4j XSLT test</header>
    <date>Tue May 21 12:35:00 CEST 2002</date>
    <body>You're problem is that the XSL file is invalid; it generates an invalid document. An XML document can only have one root element. You're XSLT will create a Try changing it to this James Sent: Tuesday, May 21, 2002 1:23 PM Subject: [dom4j-user] Files for: "Cannot add another element" for dom4j XSLT test http://mparaz.com/download/journal.xml http://mparaz.com/download/journal.xsl http://devcon.sprintpcs.com/adp/index.cfm https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Files for: "Cannot add another element" for dom4j XSLT test</header>
    <date>Wed May 22 01:26:00 CEST 2002</date>
    <body>On Tue, May 21, 2002 at 01:33:04PM +0100, James Strachan wrote: Thanks!  I am just starting in XSLT.  I suppose Xalan and Saxon are less strict in the validity of the output document. -- Miguel A Paraz             &amp;lt;mparaz@...&amp;gt;	Mobile: +63-916-423-7922 Imperium Technology, Inc.  &amp;lt;map@...&amp;gt;	Office: +63-2-812-3155</body>
  </mail>
  <mail>
    <header>[dom4j-user] "Cannot add another element" for dom4j XSLT test</header>
    <date>Tue May 21 12:13:00 CEST 2002</date>
    <body>Hi, I'm new to dom4j and trying out the examples. I attached my simple XML and XSL files which work fine with Xalan and Saxon. XSLTDemo fails with the below.  Thanks in advance! Exception occurred: javax.xml.transform.TransformerException: org.dom4j.IllegalAddException: The node "org.dom4j.tree.DefaultElement@... [Element: &amp;lt;html attributes: []/&amp;gt;]" could not be added to the branch "null" because: Cannot add another element to this Document as it already has a root element of: html at org.dom4j.tree.AbstractDocument.checkAddElementAllowed(AbstractDocument.java:209) at org.dom4j.tree.AbstractDocument.addElement(AbstractDocument.java:157)	at org.dom4j.io.SAXContentHandler.startElement(SAXContentHandler.java:231) at org.apache.xalan.transformer.ResultTreeHandler.flushElem(ResultTreeHandler.java:856) at org.apache.xalan.transformer.ResultTreeHandler.flushPending(ResultTreeHandler.java:931) at org.apache.xalan.transformer.ResultTreeHandler.endElement(ResultTreeHandler.java:306) at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:684) at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2182) at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2008) at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1171) at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:638) at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1088) at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1066) at XSLTDemo.process(XSLTDemo.java:79) at XSLTDemo.run(XSLTDemo.java:58) at AbstractDemo.run(AbstractDemo.java:33) at XSLTDemo.main(XSLTDemo.java:34) -- Miguel A Paraz             &amp;lt;mparaz@...&amp;gt;	Mobile: +63-916-423-7922 Imperium Technology, Inc.  &amp;lt;map@...&amp;gt;	Office: +63-2-812-3155</body>
  </mail>
  <mail>
    <header>[dom4j-user] Error transforming?</header>
    <date>Fri May 17 19:47:00 CEST 2002</date>
    <body>Any clue as to what this means? com.a4networks.processors.ProcessingException: Transformation failed, configuration exception: javax.xml.transform.TransformerConfigurationException: org.xml.sax.SAXException: Invalid Node in DOM4J content: []</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error transforming?</header>
    <date>Mon May 20 08:03:00 CEST 2002</date>
    <body>MessageHi David I'm not really sure. The offending line of code appears to be in the = writeContent() method of SAXWriter. The code looks right; its got a = CharacterData node which doesn't appear to be of type Text, CDATA or = Comment. So the exception you're getting should never happen ;-). Could there be some kind of class loading problem? That dom4j is loaded = twice in 2 different class loaders or something. I've patched the code = so that it will describe the type of the object that seems to implement = CharacterData but is not Text, CDATA or Comment. James From: David Hooker=20 To: dom4j-user@... Sent: Friday, May 17, 2002 8:46 PM Subject: [dom4j-user] Error transforming? Any clue as to what this means? com.a4networks.processors.ProcessingException: Transformation failed, = configuration exception: = javax.xml.transform.TransformerConfigurationException: = org.xml.sax.SAXException: Invalid Node in DOM4J content: []</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Error transforming?</header>
    <date>Mon May 20 15:43:00 CEST 2002</date>
    <body>Welll.... the problem went away once I started using the right xslt for the document I was processing.  (sheepish grin).  So I'll chalk this up to user error which hit a possible flaw in dom4j, and leave it at that. -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of James Strachan Sent: Monday, May 20, 2002 3:02 AM To: David Hooker; dom4j-user@... Subject: Re: [dom4j-user] Error transforming? Hi David I'm not really sure. The offending line of code appears to be in the writeContent() method of SAXWriter. The code looks right; its got a CharacterData node which doesn't appear to be of type Text, CDATA or Comment. So the exception you're getting should never happen ;-). Could there be some kind of class loading problem? That dom4j is loaded twice in 2 different class loaders or something. I've patched the code so that it will describe the type of the object that seems to implement CharacterData but is not Text, CDATA or Comment. James From: David  &amp;lt;mailto:dhooker@...&amp;gt; Hooker To: dom4j-user@... Sent: Friday, May 17, 2002 8:46 PM Subject: [dom4j-user] Error transforming? Any clue as to what this means? com.a4networks.processors.ProcessingException: Transformation failed, configuration exception: javax.xml.transform.TransformerConfigurationException: org.xml.sax.SAXException: Invalid Node in DOM4J content: []</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Error transforming?</header>
    <date>Mon May 20 15:45:00 CEST 2002</date>
    <body>FYI.... on one run I got the following Transformation failed, configuration exception: javax.xml.transform.TransformerConfigurationException: org.xml.sax.SAXException: Invalid Node in DOM4J content:[org.dom4j.tree.DefaultText@... [Text: "[/PERFTEST/atr1]"]] -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Hooker Sent: Friday, May 17, 2002 2:46 PM To: dom4j-user@... Subject: [dom4j-user] Error transforming? Any clue as to what this means? com.a4networks.processors.ProcessingException: Transformation failed, configuration exception: javax.xml.transform.TransformerConfigurationException: org.xml.sax.SAXException: Invalid Node in DOM4J content: []</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] disable DTD validation ?</header>
    <date>Fri May 17 11:47:00 CEST 2002</date>
    <body>Hi James and Sri, thanks for your responses. I still have the problem because - I can not use James' solution because I do not have a DTD at all.  (The sample is great, why is it not in the dom4j FAQ ???) - I can not use Sri's solution because although validation is not done,   dom4j will still try to retrieve the DOCTYPE DTD. Is there a way to completly switch of validation _and_ DTD retrieval ? regards   Mike --- On Fri 05/17, James Strachan wrote: Please see the mail I sent yesterday; the trick is to provide your own SAX EntityResolver to the SAXReader so that the underlying SAX parser can load the DTD from whereever you wish; like from the JAR or classpath from where your code came. http://www.mail-archive.com/dom4j-user%40lists.sourceforge.net/msg00829.html James Hi there, I am just experimenting with the dom4j parser and I am wondering, if there is an easy way to diable the DTD validation ? My problem is, that my document contains a DOCTYPE with a non existing DTD, which dom4j tries to retrieve... thanx Mike ------------------------------------------------ Join Excite! - http://www.excite.com The most personalized portal on the Web!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] disable DTD validation ?</header>
    <date>Fri May 17 12:14:00 CEST 2002</date>
    <body>Even without validation on a SAX parser will typically try to resolve any DOCTYPE it finds. So you could just make up your own DTD for the document. Any document with a DOCTYPE should have a DTD file in existence somewhere around in this universe - so just make a copy of it locally and put it on your classpath or whatever and use the EntityResolver. Another approach is you might be able to configure the underlying SAX parser to not look at the DOCTYPE. e.g. if you're using Xerces 2.0 you could try one of these features, try turning them off and seeing if it works... http://xml.apache.org/xerces2-j/features.html e.g. try turning off this feature http://apache.org/xml/features/nonvalidating/load-external-dtd String feature = " http://apache.org/xml/features/nonvalidating/load-external-dtd BTW I've added the EntityResolver question to the FAQ in CVS; it'll just take a little while to make it into the website as we've got build problems right now. James From: bluepuma@... To: dom4j-user@... Sent: Friday, May 17, 2002 12:47 PM Subject: Re: [dom4j-user] disable DTD validation ? Hi James and Sri, thanks for your responses. I still have the problem because - I can not use James' solution because I do not have a DTD at all. (The sample is great, why is it not in the dom4j FAQ ???) - I can not use Sri's solution because although validation is not done, dom4j will still try to retrieve the DOCTYPE DTD. Is there a way to completly switch of validation _and_ DTD retrieval ? regards Mike --- On Fri 05/17, James Strachan wrote: Please see the mail I sent yesterday; the trick is to provide your own SAX EntityResolver to the SAXReader so that the underlying SAX parser can load the DTD from whereever you wish; like from the JAR or classpath from where your code came. http://www.mail-archive.com/dom4j-user%40lists.sourceforge.net/msg00829.html James Hi there, I am just experimenting with the dom4j parser and I am wondering, if there is an easy way to diable the DTD validation ? My problem is, that my document contains a DOCTYPE with a non existing DTD, which dom4j tries to retrieve... thanx Mike Join Excite! - http://www.excite.com The most personalized portal on the Web! _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] disable DTD validation ?</header>
    <date>Thu May 16 18:30:00 CEST 2002</date>
    <body>Hi there, I am just experimenting with the dom4j parser and I am wondering, if there is an easy way to diable the DTD validation ? My problem is, that my document contains a DOCTYPE with a non existing DTD, which dom4j tries to retrieve... thanx   Mike ------------------------------------------------ Join Excite! - http://www.excite.com The most personalized portal on the Web!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] disable DTD validation ?</header>
    <date>Fri May 17 07:42:00 CEST 2002</date>
    <body>Please see the mail I sent yesterday; the trick is to provide your own = SAX EntityResolver to the SAXReader so that the underlying SAX parser = can load the DTD from whereever you wish; like from the JAR or classpath = from where your code came. http://www.mail-archive.com/dom4j-user%40lists.sourceforge.net/msg00829.h= tml James From: bluepuma@... To: dom4j-user@... Sent: Thursday, May 16, 2002 7:30 PM Subject: [dom4j-user] disable DTD validation ? Hi there,=20 I am just experimenting with the dom4j parser and I am = wondering, if there is an easy way to diable the DTD validation ?=20 My problem is, that my document contains a DOCTYPE with a non = existing DTD, which dom4j tries to retrieve...=20 thanx Mike=20 -------------------------------------------------------------------------= ----- Join Excite! - http://www.excite.com The most personalized portal on the Web!=20</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] Beginner to dom4j</header>
    <date>Tue May 14 08:25:00 CEST 2002</date>
    <body>I would say that these places is a good start to look at: http://www.dom4j.org/guide.html http://www.dom4j.org/cookbook/cookbook.html Have fun and keep parsing *smile* Cheers Christian the</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Beginner to dom4j</header>
    <date>Fri May 17 06:23:00 CEST 2002</date>
    <body>Hi Christian Holmqvist &amp;amp; Soumanjoy, Thanks for your quick response and useful info. I want to parse xml using sax. I used SAXContentHandler and done it. I do= n't know about xpath. Does xpath internally uses sax only? or it uses DOM. Performance is the main issue on our side. Thanks in advance. Best Regards, Purvesh. -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@... Behalf Of Christian Holmqvist, IT, Posten Sent: Tuesday, May 14, 2002 3:26 PM To: 'Purvesh Vora'; dom4j-user@... Subject: SV: [dom4j-user] Beginner to dom4j I would say that these places is a good start to look at: http://www.dom4j.org/guide.html http://www.dom4j.org/cookbook/cookbook.html Have fun and keep parsing *smile* Cheers Christian _______________________________________________________________ Have big pipes? SourceForge.net is looking for download mirrors. We suppl= y the hardware. You get the recognition. Email Us: bandwidth@...= t _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Beginner to dom4j</header>
    <date>Fri May 17 07:23:00 CEST 2002</date>
    <body>Hi Pervesh FWIW you don't need to use SAXContentHandler directly, you can use SAXReader which wraps up the use of SAX, JAXP etc. For XPath support you really need a document of some kind; a subset of XPath can work on SAX events but its a pretty small subset of XPath. To learn more about XPath try these links; the Zvon gives you a quick 20 minute intro to xpath with heaps of examples http://www.zvon.org/xxl/XPathTutorial/General/examples.html also there's Elliotte's chapter from the great XML in a nutshell book... http://www.oreilly.com/catalog/xmlnut/chapter/ch09.html Essentailly to do XPath from dom4j Nodes (Document, Element, Attribute etc) there are  these main methods.. James Sent: Friday, May 17, 2002 6:12 AM Subject: RE: [dom4j-user] Beginner to dom4j Hi Christian Holmqvist &amp;amp; Soumanjoy, Thanks for your quick response and useful info. I want to parse xml using sax. I used SAXContentHandler and done it. I don't know about xpath. Does xpath internally uses sax only? or it uses DOM. Performance is the main issue on our side. Thanks in advance. Best Regards, Purvesh. -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@... Behalf Of Christian Holmqvist, IT, Posten Sent: Tuesday, May 14, 2002 3:26 PM To: 'Purvesh Vora'; dom4j-user@... Subject: SV: [dom4j-user] Beginner to dom4j I would say that these places is a good start to look at: http://www.dom4j.org/guide.html http://www.dom4j.org/cookbook/cookbook.html Have fun and keep parsing *smile* Cheers Christian _______________________________________________________________ Have big pipes? SourceForge.net is looking for download mirrors. We supply the hardware. You get the recognition. Email Us: bandwidth@... _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _______________________________________________________________ Have big pipes? SourceForge.net is looking for download mirrors. We supply the hardware. You get the recognition. Email Us: bandwidth@... _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Dom4J, System DTDs and Xerces</header>
    <date>Thu May 16 08:02:00 CEST 2002</date>
    <body>Yep....I think it's a xerces issue :( I'll see if I can do the entity resolver thing. The XML Doc is coming from inside a jar file using a jar: url. Is this possibly the cause? I could always extract the xml doc to a temp file and try that... -- dIon Gillard, Multitask Consulting Work: http://www.multitask.com.au Developers: http://adslgateway.multitask.com.au/developers Wow; nice big stack trace ;-) Its looking like a malformed URL is found inside Xerces as the document gets parsed. Is it a DTD thats not there? Maybe using an EntityResolver might help (see previous mail). James Sent: Wednesday, May 15, 2002 5:14 PM Subject: [dom4j-user] Dom4J, System DTDs and Xerces org.apache.maven.j2ee.WarValidator.validateServlets(WarValidator.java:222) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:266) org.apache.xerces.impl.XMLEntityManager.startEntity(XMLEntityManager.java:73 1) org.apache.xerces.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java :691) org.apache.xerces.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.ja va:258) org.apache.xerces.impl.XMLDocumentScannerImpl$DTDDispatcher.dispatch(XMLDocu mentScannerImpl.java:811) org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocume ntFragmentScannerImpl.java:333) org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserCo nfiguration.java:525) org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserCo nfiguration.java:581) org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:115 7) org.apache.maven.j2ee.WarValidator.validateServlets(WarValidator.java:222) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:266) org.apache.xerces.impl.XMLEntityManager.startEntity(XMLEntityManager.java:73 1) org.apache.xerces.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java :691) org.apache.xerces.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.ja va:258) org.apache.xerces.impl.XMLDocumentScannerImpl$DTDDispatcher.dispatch(XMLDocu mentScannerImpl.java:811) org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocume ntFragmentScannerImpl.java:333) org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserCo nfiguration.java:525) org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserCo nfiguration.java:581) org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:115 7) org.apache.maven.j2ee.WarValidator.validateServlets(WarValidator.java:222) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:266) org.apache.maven.j2ee.WarValidator.validateServlets(WarValidator.java:222) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:266) war http://www.multitask.com.au http://adslgateway.multitask.com.au/developers supply bandwidth@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com _______________________________________________________________ Have big pipes? SourceForge.net is looking for download mirrors. We supply the hardware. You get the recognition. Email Us: bandwidth@... _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Dom4J, System DTDs and Xerces</header>
    <date>Thu May 16 08:33:00 CEST 2002</date>
    <body>Well extracting to a temp file doesn't work - time to check the xerces lists.... -- dIon Gillard, Multitask Consulting Work: http://www.multitask.com.au Developers: http://adslgateway.multitask.com.au/developers dion@... eforge.net                         Subject:     Re: [dom4j-user] Dom4J, System DTDs and Xerces 05/16/02 06:00 PM Yep....I think it's a xerces issue :( I'll see if I can do the entity resolver thing. The XML Doc is coming from inside a jar file using a jar: url. Is this possibly the cause? I could always extract the xml doc to a temp file and try that... -- dIon Gillard, Multitask Consulting Work: http://www.multitask.com.au Developers: http://adslgateway.multitask.com.au/developers Wow; nice big stack trace ;-) Its looking like a malformed URL is found inside Xerces as the document gets parsed. Is it a DTD thats not there? Maybe using an EntityResolver might help (see previous mail). James Sent: Wednesday, May 15, 2002 5:14 PM Subject: [dom4j-user] Dom4J, System DTDs and Xerces org.apache.maven.j2ee.WarValidator.validateServlets(WarValidator.java:222) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:266) org.apache.xerces.impl.XMLEntityManager.startEntity(XMLEntityManager.java:73 1) org.apache.xerces.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java :691) org.apache.xerces.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.ja va:258) org.apache.xerces.impl.XMLDocumentScannerImpl$DTDDispatcher.dispatch(XMLDocu mentScannerImpl.java:811) org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocume ntFragmentScannerImpl.java:333) org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserCo nfiguration.java:525) org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserCo nfiguration.java:581) org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:115 7) org.apache.maven.j2ee.WarValidator.validateServlets(WarValidator.java:222) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:266) org.apache.xerces.impl.XMLEntityManager.startEntity(XMLEntityManager.java:73 1) org.apache.xerces.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java :691) org.apache.xerces.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.ja va:258) org.apache.xerces.impl.XMLDocumentScannerImpl$DTDDispatcher.dispatch(XMLDocu mentScannerImpl.java:811) org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocume ntFragmentScannerImpl.java:333) org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserCo nfiguration.java:525) org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserCo nfiguration.java:581) org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:115 7) org.apache.maven.j2ee.WarValidator.validateServlets(WarValidator.java:222) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:266) org.apache.maven.j2ee.WarValidator.validateServlets(WarValidator.java:222) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:266) war http://www.multitask.com.au http://adslgateway.multitask.com.au/developers supply bandwidth@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com _______________________________________________________________ Have big pipes? SourceForge.net is looking for download mirrors. We supply the hardware. You get the recognition. Email Us: bandwidth@... _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _______________________________________________________________ Have big pipes? SourceForge.net is looking for download mirrors. We supply the hardware. You get the recognition. Email Us: bandwidth@... _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Dom4J, System DTDs and Xerces</header>
    <date>Thu May 16 09:19:00 CEST 2002</date>
    <body>Though it'll still struggle to find the DTD from a temp file; probably the EntityResolver thing is best - then you can pull that from the jar too. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Dom4J, System DTDs and Xerces</header>
    <date>Wed May 15 16:03:00 CEST 2002</date>
    <body>I'm getting the following stack trace from using SAXReader.read on an XML Document (from a jar file), with a SYSTEM DTD in it. I'm using dom4j 1.3 on sun jdk1.4 on linux validate-war: [warvalidator] /home/dion/source/jakarta-commons/latka/target/latka-webapp.war started: war validation started [warvalidator] org.dom4j.DocumentException: null Nested exception: null [warvalidator]  at org.dom4j.io.SAXReader.read(SAXReader.java:342) [warvalidator]  at org.dom4j.io.SAXReader.read(SAXReader.java:246) [warvalidator]  at org.apache.maven.j2ee.WarFile.getServlets(WarFile.java:169) [warvalidator]  at org.apache.maven.j2ee.WarValidator.validateServlets(WarValidator.java:222) [warvalidator]  at org.apache.maven.j2ee.WarValidator.validateWebXml(WarValidator.java:206) [warvalidator]  at org.apache.maven.j2ee.WarValidator.validate(WarValidator.java:161) [warvalidator]  at org.apache.maven.j2ee.WarValidator.execute(WarValidator.java:141) [warvalidator]  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [warvalidator]  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [warvalidator]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [warvalidator]  at java.lang.reflect.Method.invoke(Method.java:324) [warvalidator]  at org.apache.tools.ant.TaskAdapter.execute(TaskAdapter.java:97) [warvalidator]  at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:104) [warvalidator]  at org.apache.tools.ant.Task.perform(Task.java:217) [warvalidator]  at org.apache.tools.ant.Target.execute(Target.java:184) [warvalidator]  at org.apache.tools.ant.Target.performTasks(Target.java:202) [warvalidator]  at org.apache.tools.ant.Project.executeTarget(Project.java:601) [warvalidator]  at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:266) [warvalidator]  at org.apache.tools.ant.Task.perform(Task.java:217) [warvalidator]  at org.apache.tools.ant.Target.execute(Target.java:184) [warvalidator]  at org.apache.tools.ant.Target.performTasks(Target.java:202) [warvalidator]  at org.apache.tools.ant.Project.executeTarget(Project.java:601) [warvalidator]  at org.apache.tools.ant.Project.executeTargets(Project.java:560) [warvalidator]  at org.apache.tools.ant.Main.runBuild(Main.java:454) [warvalidator]  at org.apache.tools.ant.Main.start(Main.java:153) [warvalidator]  at org.apache.tools.ant.Main.main(Main.java:176) [warvalidator] Nested exception: [warvalidator] java.net.MalformedURLException [warvalidator]  at java.net.URL.&amp;lt;init&amp;gt;(URL.java:613) [warvalidator]  at java.net.URL.&amp;lt;init&amp;gt;(URL.java:476) [warvalidator]  at java.net.URL.&amp;lt;init&amp;gt;(URL.java:425) [warvalidator]  at org.apache.xerces.impl.XMLEntityManager.startEntity(XMLEntityManager.java:731) [warvalidator]  at org.apache.xerces.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java:691) [warvalidator]  at org.apache.xerces.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.java:258) [warvalidator]  at org.apache.xerces.impl.XMLDocumentScannerImpl$DTDDispatcher.dispatch(XMLDocumentScannerImpl.java:811) [warvalidator]  at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:333) [warvalidator]  at org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserConfiguration.java:525) [warvalidator]  at org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserConfiguration.java:581) [warvalidator]  at org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:147) [warvalidator]  at org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1157) [warvalidator]  at org.dom4j.io.SAXReader.read(SAXReader.java:323) [warvalidator]  at org.dom4j.io.SAXReader.read(SAXReader.java:246) [warvalidator]  at org.apache.maven.j2ee.WarFile.getServlets(WarFile.java:169) [warvalidator]  at org.apache.maven.j2ee.WarValidator.validateServlets(WarValidator.java:222) [warvalidator]  at org.apache.maven.j2ee.WarValidator.validateWebXml(WarValidator.java:206) [warvalidator]  at org.apache.maven.j2ee.WarValidator.validate(WarValidator.java:161) [warvalidator]  at org.apache.maven.j2ee.WarValidator.execute(WarValidator.java:141) [warvalidator]  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [warvalidator]  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [warvalidator]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [warvalidator]  at java.lang.reflect.Method.invoke(Method.java:324) [warvalidator]  at org.apache.tools.ant.TaskAdapter.execute(TaskAdapter.java:97) [warvalidator]  at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:104) [warvalidator]  at org.apache.tools.ant.Task.perform(Task.java:217) [warvalidator]  at org.apache.tools.ant.Target.execute(Target.java:184) [warvalidator]  at org.apache.tools.ant.Target.performTasks(Target.java:202) [warvalidator]  at org.apache.tools.ant.Project.executeTarget(Project.java:601) [warvalidator]  at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:266) [warvalidator]  at org.apache.tools.ant.Task.perform(Task.java:217) [warvalidator]  at org.apache.tools.ant.Target.execute(Target.java:184) [warvalidator]  at org.apache.tools.ant.Target.performTasks(Target.java:202) [warvalidator]  at org.apache.tools.ant.Project.executeTarget(Project.java:601) [warvalidator]  at org.apache.tools.ant.Project.executeTargets(Project.java:560) [warvalidator]  at org.apache.tools.ant.Main.runBuild(Main.java:454) [warvalidator]  at org.apache.tools.ant.Main.start(Main.java:153) [warvalidator]  at org.apache.tools.ant.Main.main(Main.java:176) [warvalidator] Nested exception: java.net.MalformedURLException [warvalidator]  at java.net.URL.&amp;lt;init&amp;gt;(URL.java:613) [warvalidator]  at java.net.URL.&amp;lt;init&amp;gt;(URL.java:476) [warvalidator]  at java.net.URL.&amp;lt;init&amp;gt;(URL.java:425) [warvalidator]  at org.apache.xerces.impl.XMLEntityManager.startEntity(XMLEntityManager.java:731) [warvalidator]  at org.apache.xerces.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java:691) [warvalidator]  at org.apache.xerces.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.java:258) [warvalidator]  at org.apache.xerces.impl.XMLDocumentScannerImpl$DTDDispatcher.dispatch(XMLDocumentScannerImpl.java:811) [warvalidator]  at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:333) [warvalidator]  at org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserConfiguration.java:525) [warvalidator]  at org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserConfiguration.java:581) [warvalidator]  at org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:147) [warvalidator]  at org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1157) [warvalidator]  at org.dom4j.io.SAXReader.read(SAXReader.java:323) [warvalidator]  at org.dom4j.io.SAXReader.read(SAXReader.java:246) [warvalidator]  at org.apache.maven.j2ee.WarFile.getServlets(WarFile.java:169) [warvalidator]  at org.apache.maven.j2ee.WarValidator.validateServlets(WarValidator.java:222) [warvalidator]  at org.apache.maven.j2ee.WarValidator.validateWebXml(WarValidator.java:206) [warvalidator]  at org.apache.maven.j2ee.WarValidator.validate(WarValidator.java:161) [warvalidator]  at org.apache.maven.j2ee.WarValidator.execute(WarValidator.java:141) [warvalidator]  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [warvalidator]  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [warvalidator]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [warvalidator]  at java.lang.reflect.Method.invoke(Method.java:324) [warvalidator]  at org.apache.tools.ant.TaskAdapter.execute(TaskAdapter.java:97) [warvalidator]  at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:104) [warvalidator]  at org.apache.tools.ant.Task.perform(Task.java:217) [warvalidator]  at org.apache.tools.ant.Target.execute(Target.java:184) [warvalidator]  at org.apache.tools.ant.Target.performTasks(Target.java:202) [warvalidator]  at org.apache.tools.ant.Project.executeTarget(Project.java:601) [warvalidator]  at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:266) [warvalidator]  at org.apache.tools.ant.Task.perform(Task.java:217) [warvalidator]  at org.apache.tools.ant.Target.execute(Target.java:184) [warvalidator]  at org.apache.tools.ant.Target.performTasks(Target.java:202) [warvalidator]  at org.apache.tools.ant.Project.executeTarget(Project.java:601) [warvalidator]  at org.apache.tools.ant.Project.executeTargets(Project.java:560) [warvalidator]  at org.apache.tools.ant.Main.runBuild(Main.java:454) [warvalidator]  at org.apache.tools.ant.Main.start(Main.java:153) [warvalidator]  at org.apache.tools.ant.Main.main(Main.java:176) [warvalidator] java.io.IOException: null Nested exception: null [warvalidator]  at org.apache.maven.j2ee.WarFile.getServlets(WarFile.java:185) [warvalidator]  at org.apache.maven.j2ee.WarValidator.validateServlets(WarValidator.java:222) [warvalidator]  at org.apache.maven.j2ee.WarValidator.validateWebXml(WarValidator.java:206) [warvalidator]  at org.apache.maven.j2ee.WarValidator.validate(WarValidator.java:161) [warvalidator]  at org.apache.maven.j2ee.WarValidator.execute(WarValidator.java:141) [warvalidator]  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [warvalidator]  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [warvalidator]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [warvalidator]  at java.lang.reflect.Method.invoke(Method.java:324) [warvalidator]  at org.apache.tools.ant.TaskAdapter.execute(TaskAdapter.java:97) [warvalidator]  at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:104) [warvalidator]  at org.apache.tools.ant.Task.perform(Task.java:217) [warvalidator]  at org.apache.tools.ant.Target.execute(Target.java:184) [warvalidator]  at org.apache.tools.ant.Target.performTasks(Target.java:202) [warvalidator]  at org.apache.tools.ant.Project.executeTarget(Project.java:601) [warvalidator]  at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:266) [warvalidator]  at org.apache.tools.ant.Task.perform(Task.java:217) [warvalidator]  at org.apache.tools.ant.Target.execute(Target.java:184) [warvalidator]  at org.apache.tools.ant.Target.performTasks(Target.java:202) [warvalidator]  at org.apache.tools.ant.Project.executeTarget(Project.java:601) [warvalidator]  at org.apache.tools.ant.Project.executeTargets(Project.java:560) [warvalidator]  at org.apache.tools.ant.Main.runBuild(Main.java:454) [warvalidator]  at org.apache.tools.ant.Main.start(Main.java:153) [warvalidator]  at org.apache.tools.ant.Main.main(Main.java:176) [warvalidator] /home/dion/source/jakarta-commons/latka/target/latka-webapp.war error: Error reading WEB-INF/web.xml [warvalidator] /home/dion/source/jakarta-commons/latka/target/latka-webapp.war ended: war validation ended [warvalidator] Error in class org.apache.maven.j2ee.WarValidator -- dIon Gillard, Multitask Consulting Work: http://www.multitask.com.au Developers: http://adslgateway.multitask.com.au/developers</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Dom4J, System DTDs and Xerces</header>
    <date>Thu May 16 07:53:00 CEST 2002</date>
    <body>Wow; nice big stack trace ;-) Its looking like a malformed URL is found inside Xerces as the document gets parsed. Is it a DTD thats not there? Maybe using an EntityResolver might help (see previous mail). James Sent: Wednesday, May 15, 2002 5:14 PM Subject: [dom4j-user] Dom4J, System DTDs and Xerces sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) org.apache.xerces.impl.XMLEntityManager.startEntity(XMLEntityManager.java:73 1) org.apache.xerces.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java :691) org.apache.xerces.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.ja va:258) org.apache.xerces.impl.XMLDocumentScannerImpl$DTDDispatcher.dispatch(XMLDocu mentScannerImpl.java:811) org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocume ntFragmentScannerImpl.java:333) org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserCo nfiguration.java:525) org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserCo nfiguration.java:581) org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:115 7) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) org.apache.xerces.impl.XMLEntityManager.startEntity(XMLEntityManager.java:73 1) org.apache.xerces.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java :691) org.apache.xerces.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.ja va:258) org.apache.xerces.impl.XMLDocumentScannerImpl$DTDDispatcher.dispatch(XMLDocu mentScannerImpl.java:811) org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocume ntFragmentScannerImpl.java:333) org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserCo nfiguration.java:525) org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserCo nfiguration.java:581) org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:115 7) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) http://www.multitask.com.au http://adslgateway.multitask.com.au/developers https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] DTDs and Proxies</header>
    <date>Wed May 15 00:49:00 CEST 2002</date>
    <body>How do I tell dom4j to use a proxy to fetch a system DTD definition, e.g. for web.xml the URL is at http://java.sun.com/ .... ? -- dIon Gillard, Multitask Consulting Work: http://www.multitask.com.au Developers: http://adslgateway.multitask.com.au/developers</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DTDs and Proxies</header>
    <date>Thu May 16 07:50:00 CEST 2002</date>
    <body>Hi dIon A common way around this is to implement a SAX EntityResolver to load the DTD from somewhere else. e.g. you could include the DTD in your JAR with your java code and load it from there. InputStream in = getClass().getResourceAsStream( "com/acme/foo.dtd" James Sent: Wednesday, May 15, 2002 1:47 AM Subject: [dom4j-user] DTDs and Proxies http://java.sun.com/ .... ? http://www.multitask.com.au http://adslgateway.multitask.com.au/developers https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Beginner to dom4j</header>
    <date>Tue May 14 08:16:00 CEST 2002</date>
    <body>Hi Friends, Today only I joined dom4j list. I am new to dom4j,xml. I have to parse and xml and read the data of each element and fill the java objects using SAX. Can you please give me some sample code. Or related links. Thanks in Advance. Regards Purvesh Vora</body>
  </mail>
  <mail>
    <header>[dom4j-user] xsl:document</header>
    <date>Tue May 14 01:00:00 CEST 2002</date>
    <body>Hi, I'm using XSLT for generating Javadoc-like documentation as part of the GNU Classpath effort. The tools I am working on currently only support xsltproc, but I'd like to add dom4j to the list. In this context I got one question: Is there a way to make the dom4j XSLT transformer recognize is not part of the 1.0 standard, but I wonder whether I can "fake" this behaviour. Can I perhaps use the classes in the .rules package to accomplish this - i.e. does the dom4j architecture allow for redirecting output during XSLT processing? If yes, could you please point me to a code sample (or some documentation) which shows how to derive and extend the standard XSLT ruleset. Many thanks --Julian</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xsl:document</header>
    <date>Tue May 14 07:43:00 CEST 2002</date>
    <body>Most XSLT engines should suuport this, such as Xalan or Saxon. You can use the rules package to perform XSLT-like processing but in this instance, you seem to want XSLT with &amp;lt;xsl:document&amp;gt; working so I think you should try Xalan/Saxon. dom4j uses JAXP to find the XSLT engine, so just put Saxon / Xalan on your classpath and you should be OK. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] ExternalEntityDeclaration</header>
    <date>Tue May 14 02:31:00 CEST 2002</date>
    <body>I'm trying to create a Document from scratch and add some DTD entities at the top of the document. For example: "/opt/website-2.1b1/website.dtd" [ ENTITY linking SYSTEM "olink.xml" NDATA XML I've tried setting the external declarations(I'm pretty sure I don't need internal declarations but I'm not a DTD/XML expert), but when I write the document to an xml file it doesn't appear.  I've looked through some of the source code but can't find where it actually get obtained, printed, etc. example code: ExternalEntityDecl entity = new I get the following: Any ideas?  I have a feeling I'm missing a concept. Thanks, Warren. __________________________________________________ Do You Yahoo!? LAUNCH - Your Yahoo! Music Experience http://launch.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Extra &amp;amp;#13; characters when xsl transforming dom4j documents</header>
    <date>Mon May 13 17:39:00 CEST 2002</date>
    <body>I Have run into a very strange bug/feature with a combination of Xalan = and DOM4j I have a multi-line string (mystr) with windows standard #13#10 charact= ers as line terminators Example: Line1 Line2 Line3 Line4 I add it as an element using dom4j: root.addElement("body").addText(mystr) I use Xalan to style the xml to html in java code: Then the html output is (Using &amp;lt;xsl:value-of select=3D"body"&amp;gt; in the xs= l template) Line4 As you can see extra &amp;amp;#13; entities are added to the output However if I modify the line to (Skip using the XMLReader provided by dom4j) then the output is correct. How can I still use the XMLReader and still get the correct result? ----------------------------------------------------------------------= ----=20 =C1byrg=F0 =FE=EDn var=F0andi t=F6lvup=F3st:                          = =20 Your E-mail responsibilities:                                         = =20 http://www.hugvit.is/tolvupostur = =20 ----------------------------------------------------------------------= ----=20 =</body>
  </mail>
  <mail>
    <header>[dom4j-user] Javadoc</header>
    <date>Mon May 13 12:03:00 CEST 2002</date>
    <body>Hi! May I come with a small request? In the javadoc on methods that got a return statement, please include what is returned if the call fail. For example the selectSingleNode(String XPath) The documentation statetes that it should return a node, but if the XPath expression fail (i.e. don't find what it was looking for) the method return null (at least in the DefaultXPath class). Sinc the selectSingleNode is defined in the Node interface documentation about what is to be returned should be stated here so no confusion about it can occure. I know, it is a large and boring work to do, but if the code standard states it at least all new (changed code) will contain this "feature"... /Christian Holmqvist</body>
  </mail>
  <mail>
    <header>[dom4j-user] XML file has no top-element.</header>
    <date>Sun May 12 22:20:00 CEST 2002</date>
    <body>Hi, as part of my webapp I'm using Dom4J to parse an XML file, the Dom4J jars are part of my WEB-INF/lib directory. When I upgraded my resin 2.0.5 install to the new 2.1.0 release, I now get the following on startup: 2002-05-03 14:10:22,774 ERROR td.jtime  - Error parsing XML: file:/c:/resin/webapps/jtime/WEB-INF/jtime_modules.xml:1: XML file has no top-element.  All well-formed XML files have a single top-level element. Nested exception: file:/c:/resin/webapps/jtime/WEB-INF/jtime_modules.xml:1: XML file has no top-element.  All well-formed XML files have a single top-level element. org.dom4j.DocumentException: file:/c:/resin/webapps/jtime/WEB-INF/jtime_modules.xml:1: XML file has no top-element.  All well-formed XML files have a single top-level element. Nested exception: file:/c:/resin/webapps/jtime/WEB-INF/jtime_modules.xml:1: XML file has no top-element.  All well-formed XML files have a single top-level element. at org.dom4j.io.SAXReader.read(SAXReader.java:342) at org.dom4j.io.SAXReader.read(SAXReader.java:218) Mmmm, I also notice a lack of a standalone.exe in the 2.1.0 zip file...??? Does anyone have any idea what might cause this? I'm reading my XML with the following code: ModuleDefinition.getModuleList( prefix + // in ModuleDefinition.getModuleList() (modulesList is passed in) I found in some previous posts (to either the dom4j or resin lists) someone mentioned getting around the problem by using... ...but that didn't work for me. Any one know what might cause this? -- \m/ -- "...if I seem super human I have been misunderstood." (c) Dream Theater mark@... - ICQ: 1934853 JID: talios@...</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XML file has no top-element.</header>
    <date>Mon May 13 07:31:00 CEST 2002</date>
    <body>It does sound like there's some container issue about loading this document. Can you read the file using a regular FileReader()? If so you could pass the FileReader into the SAXReader(). James Sent: Sunday, May 12, 2002 11:20 PM Subject: [dom4j-user] XML file has no top-element. file:/c:/resin/webapps/jtime/WEB-INF/jtime_modules.xml:1: file:/c:/resin/webapps/jtime/WEB-INF/jtime_modules.xml:1: someone https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XPath Syntax</header>
    <date>Mon May 13 07:22:00 CEST 2002</date>
    <body>Hi Soumanjoy You are quite right about the nonsensical quality of the translations - I'm afraid it was just autogenerated data - I suppose I should have made it more meaningful :). Thanks a lot for the help. I'll ty the different paths out today. By the way if I have the following Is there a way to get the keyword node plus the two translated nodes in one step - At the moment I use 2 paths //originalPhrase[@src-lang=$lang] to load all the original Phrases and then for each of these //originalPhrase[@src-lang=$lang] to load all the siblings in the correct language - using a SimpleVariableContext to bind the XPath values I'd like a list of original phrase - translations - original phrase - translations. Like this Thanks Nick -----Original Message----- From: Soumanjoy Das [mailto:SoumanjoyD@...] Sent: 13 May 2002 05:42 To: 'Nicholas Sanderson' Subject: RE: [dom4j-user] XPath Syntax Hi Nicholas, Contd: In your previous XML, I really don't see what 'chat' and 'chaud' have to do with 'not'. I would expect something like: (All the negatives in French). Anyway, your final successful XPath //keyword[originalPhrase[@src-lang='en' and text()='not']]/trans-equiv[@src-lang='fr']/text() or the one that I wrote: //originalPhrase[@src-lang='en' and text()='not']/../trans-equiv[@src-lang='fr']/text() will actually return you ONLY the text of the immediately following sibling of the &amp;lt;originalPhrase&amp;gt; node. If you need ALL the corresponding (related) nodes for the originalPhrase (in your example, all the French equivalents of the English 'not'), then you should use the XPath //keyword[originalPhrase[@src-lang='en' and text()='not']]/trans-equiv[@src-lang='fr'] or //originalPhrase[@src-lang='en' and text()='not']/../trans-equiv[@src-lang='fr'] to retrieve a node-SET and iterate through them to get the text of each of the nodes. However, I am just surmising upon the usage of your XML, and I am likely off the mark as to your actual requirement. Anyway, I hope the solution works. Soumanjoy -----Original Message----- From: Nicholas Sanderson [mailto:nick@...] Sent: Monday, May 13, 2002 1:55 AM To: dom4j-user@... Subject: [dom4j-user] XPath Syntax Hi I've got a document that contains translated phrases (The data is obviously nonsense) I want to find all the phrases in french that match the english word not (Imagine that this dictionary contains other languages as well The XPath pattern that should get me all the text nodes for an english -french translation of 'not' should be (I think) //originalPhrase[@src-lang='en and text()='not']/trans-equiv[@src-lang="fr"]/text() If I run this query on the document above I get nothing back from selectNodes() If I run //originalPhrase[@src-lang='en and text()='not']/text() I get what I expect - the english not node. If I add /* - //originalPhrase[@src-lang='en and text()='not']/* I get nothing at all even though there are clearly nodes below this position. Is there a mistake in my syntax or does Jaxen not support XPath quite as I expect it to? Thanks Nick _______________________________________________________________ Have big pipes? SourceForge.net is looking for download mirrors. We supply the hardware. You get the recognition. Email Us: bandwidth@... _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with XPath and Translate</header>
    <date>Sat May 11 22:36:00 CEST 2002</date>
    <body>Hello, I have the following problem: I'm trying to get all nodes from a xml-file with the xpath //*[contains(translate(text(),'AND', 'and'), 'and')] and the java code XPath selector = DocumentHelper.createXPath("//*[contains(translate(text(),'AND', 'and'), If I execute the code I get the following error message: org.dom4j.XPathException: Exception occurred evaluting XPath: //*[contains(translate(text(),'AND', 'and'), 'and')]. Exception: Function :translate Why this error? I've tried tis XPath-Expression with the zvon.org interactive x-lab...no problems. Or is there a way to get Nodes or Elements wirt thei value (element.getText) with case-insensitive? Best regards Thorsten Kamann -- planetes.de - Das Online-Magazin für Astronomie http://www.planetes.de</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Sun May 12 21:21:00 CEST 2002</date>
    <body>Hi Please forgive me for not thinking long enough. I had tried several structures for the document and forgotten waht was child o what. For anyone who's actually interested this worked //keyword[originalPhrase[@src-lang='en' and text()='not']]/trans-equiv[@src-lang='fr']/text()</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath syntax</header>
    <date>Sun May 12 20:14:00 CEST 2002</date>
    <body>Hi Please treat the syntax in my last post as correct - I have made sure all string literals are properly enclosedin my code eg //originalPhrase[@src-lang='en' and text()='not']/trans-equiv[@src-lang='fr'/text() Thanks Nick</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath Syntax</header>
    <date>Sun May 12 20:10:00 CEST 2002</date>
    <body>Hi I've got a document that contains translated phrases (The data is obviously nonsense) I want to find all the phrases in french that match the english word not (Imagine that this dictionary contains other languages as well The XPath pattern that should get me all the text nodes for an english -french translation of 'not' should be (I think) //originalPhrase[@src-lang='en and text()='not']/trans-equiv[@src-lang="fr"]/text() If I run this query on the document above I get nothing back from selectNodes() If I run //originalPhrase[@src-lang='en and text()='not']/text() I get what I expect - the english not node. If I add /* - //originalPhrase[@src-lang='en and text()='not']/* I get nothing at all even though there are clearly nodes below this position. Is there a mistake in my syntax or does Jaxen not support XPath quite as I expect it to? Thanks Nick</body>
  </mail>
  <mail>
    <header>[dom4j-user] Easy way to read XSD with includes in it</header>
    <date>Fri May 10 20:56:00 CEST 2002</date>
    <body>Hi, I have a xsd  schema that I am building a Document using SAXReader. I was wondering how to have this SAXReader look into the includes of this xsd and build a final DOM using all the included xsd's. I appreciate your help. Thanks, -Sri</body>
  </mail>
  <mail>
    <header>[dom4j-user] re Collecting line numbers</header>
    <date>Wed May 08 21:43:00 CEST 2002</date>
    <body>Hi I saw the post about collecting line numbers. I managed this in pretty much the way you suggested. Extend SAXReader and override the setContentHandler method to return a customised SAXContentHandler(see below). Call SAXReader passing in a UserDataDocumentFactory I extended SAXContentHandler adding a document locator the setDocumentLocator and overriding the start element method. I also overloaded the constructor that takes a DocumentFactory and a DispatchHandler, simply making a call to the superclass constructor with the same arguments. In the start element method I called the superclass startElement and then got the current Element from the Element stack. This was a pain because ElementStack has only package visibility so I had to put my Handler in the same package- org.dom4j.io. Once you've got the stack it's easy - cast the Element returned from stack.getCurrent() to be a UserDataElement and call setData - I was lazy and just called e.setData(new Integer(loc.loc.getLineNumber())) - where loc is the document locator. To create the decorated tree - I was validating the document as well SAXReader xmlReader = new Any elements in this tree can be cast to UserDataElements and then getData will return an Integer that reprsents the line that it occurs on - depending upon the vagaries of the locator object. I hope this is helpful. Nick</body>
  </mail>
  <mail>
    <header>[dom4j-user] re Collecting line numbers</header>
    <date>Wed May 08 21:35:00 CEST 2002</date>
    <body>Hi I saw the post about collecting line numbers. I managed this in pretty much the way you suggested. Extend SAXReader and override the setContentHandler method to return a customised SAXContentHandler(see below). Call SAXReader passing in a UserDataDocumentFactory I extended SAXContentHandler adding a document locator the setDocumentLocator and overriding the start element method. I also overloaded the constructor that takes a DocumentFactory and a DispatchHandler, simply making a call to the superclass constructor with the same arguments. In the start element method I called the superclass startElement and then got the current Element from the Element stack. This was a pain because ElementStack has only package visibility so I had to put my Handler in the same package- org.dom4j.io. Once you've got the stack it's easy - cast the Element returned from stack.getCurrent() to be a UserDataElement and call setData - I was lazy and just called e.setData(new Integer(loc.loc.getLineNumber())) - where loc is the document locator. To create the decorated tree - I was validating the document as well SAXReader xmlReader = new Any elements in this tree can be cast to UserDataElements and then getData will return an Integer that reprsents the line that it occurs on - depending upon the vagaries of the locator object. I hope this is helpful. Nick</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] re Collecting line numbers</header>
    <date>Thu May 09 05:07:00 CEST 2002</date>
    <body>Hi Nicholas This sounds great. Fancy submitting it then we can add this to the dom4j distribution? James Sent: Wednesday, May 08, 2002 10:50 PM Subject: [dom4j-user] re Collecting line numbers much depending https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] For Admin only</header>
    <date>Thu May 09 04:22:00 CEST 2002</date>
    <body>I always wondered why people would post 'please unsubscribe me' messages to the Xereces mailing list because at the bottom of every post are instructions on how to unsubscribe.  Now it finally makes sense, the instructions don't always work. I've been trying to unsubscribe for the last 2 days unsuccessfully.  Whoever has the power to do so, please unsubscribe me. Respectfully, Dane Foster http://www.equitytg.com 954.360.9800</body>
  </mail>
  <mail>
    <header>[dom4j-user] XMLTableModel setValueAt()</header>
    <date>Wed May 08 12:24:00 CEST 2002</date>
    <body>I am developing an applet which receives XML and uses XMLTableModel to display the info in a table.  The end user needs to be able to update the information in the table and then I need to send the updated XML back to the server.  What I basically need is an implementation of setValueAt() that will update the source XML doc. Thanks for any help.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XMLTableModel setValueAt()</header>
    <date>Wed May 08 13:31:00 CEST 2002</date>
    <body>There was a thread discussing this started by Alan O'Leary. Basically = with some hacking of the code we should be able to do what you need, = though noone has done it yet. Any volunteers? Here's part of the thread... http://sourceforge.net/mailarchive/message.php?msg_id=3D1235859 The last mail I sent was... Sent: Tuesday, March 05, 2002 4:12 AM Subject: Re: [dom4j-user] TableModel. you ;-) for each could finds a just this? James From: David Kolby=20 To: dom4j-user@... Sent: Wednesday, May 08, 2002 1:26 PM Subject: [dom4j-user] XMLTableModel setValueAt() I am developing an applet which receives XML and uses XMLTableModel to = display the info in a table.  The end user needs to be able to update = the information in the table and then I need to send the updated XML = back to the server.  What I basically need is an implementation of = setValueAt() that will update the source XML doc.=20 Thanks for any help.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Namespaces and writeOpen()</header>
    <date>Wed May 01 17:32:00 CEST 2002</date>
    <body>I believe my problem is caused by my approach and lack of understanding of the technology rather than something in dom4j. Here's what I do. I have a document like: Because in real life the document is too big to hold in memory all at once I need to apply XSLT in intermediate steps. I start reading in the document and creating the dom4j document object. Once I have the root element I apply a transformation and just write the open tag of the result with XMLWriter.writeOpen(). I then remove the root from the document object and read in a block of n records into the document. I then style the document and serialize each record with just plain XMLWriter.write(). Finally after all records have been processed I do a writeClose() with the root element to close the document. So the immediate problem I see is that when I am serializing the root node there are no other nodes in memory and no way of knowing if a namespace definition is actually needed. This is the first time I'm doing this so you guys out there with more experience, does this problem make my approach invalid? Can I get around it somehow or totally rethink my strategy? Is my thinking just plain naive? ;-) The idea is to produce the same output that I would get by applying a stylesheet to the whole dodument. When I do this, the namespaces do appear in the output document. I'll also take a look at writing some code to demonstrate this if I get a chance, but I hope you get the picture. Thanks, Terry -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: Wednesday, May 01, 2002 9:51 AM To: Wilson, Terry; Dom4j-User (E-mail) Subject: Re: [dom4j-user] Namespaces and writeOpen() Internally XMLWriter uses a NamespaceStack to know if it needs to output new namespace declarations with new nodes. It could be that the way that you're using it, the XMLWriter isn't properly popping the namespace stack, so that the required namespace definitions don't appear. Any chance you could create a little unit test to demonstrate the problem? I.e. a bit of code and a test document. Then it'd be easier to see the problem. If you could add an existing test method to an existing test case, such as in dom4j/src/test/org/dom4j/TestXMLWriter, that'd be even better! :-) James Sent: Wednesday, May 01, 2002 5:36 PM Subject: [dom4j-user] Namespaces and writeOpen() from file interface. a I namespaces be _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Namespaces and writeOpen()</header>
    <date>Wed May 01 18:12:00 CEST 2002</date>
    <body>I hear where you're going with this and generally think this is a good strategy. I'm just trying to figure out how/where the issue is with namespaces.Do you have a mini example of where the namespaces are and where they are missing? e.g. if you take an individual &amp;lt;RECORD&amp;gt; (using your example) and use it in XSLT and then output the result of the XSLT operation via the write(Element) method then it should all just work I think. Just a quick question; you only need to use the writeOpen() method for the root element right? For the results of the transformation you're using write(Element). e.g. in pseduo code... // get one record... // write the whole result ... // then when we're finished... The above should, I think, output all the namespaces defined in the transformation output nicely. James To: "'James Strachan'" &amp;lt;james_strachan@...&amp;gt;; "'dom4j-user'" Sent: Wednesday, May 01, 2002 6:32 PM Subject: RE: [dom4j-user] Namespaces and writeOpen() I apply to you I new you're that hit If definitions would definitions? my http://mail.yahoo.com _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Namespaces and writeOpen()</header>
    <date>Thu May 02 18:36:00 CEST 2002</date>
    <body>James, I've been trying to figure out the best way to demonstrate the issue. The problem is I don't have control (or great understanding) of the input XML or the stylesheet, I'm just the middle man running the transformation. Both are also very complex (and proprietary), but here's my attempt at clarification: The only mention of the "missing namespaces" in the stylesheet I'm using is in the beginning. What the stylesheet actually does is basically a mystery to me :-) --- xalan://dialog.util.helper " xmlns:java="java" xmlns:xsl=" http://www.w3.org/1999/XSL/Transform ... ... ... --- The input file looks something like this: --- ... ... ... --- When I run the stylesheet with the input through the plain vanilla Xalan command line processor the output looks like this: --- xalan://dialog.util.helper ... ... ... --- The namespaces are showing up, but when I run the transformation through my code, this is what I get: --- ... ... ... --- The namespace definitions are missing, but otherwise the two outputs seem identical. Below is a simplified/pruned version of the code that I'm using. This is basically a class that builds a document object a block of records at a time, calls an external object to style the document and then serializes the styled results. And yes, I'm calling writeOpen() only on the root element. Well, this turned out not to be exactly a "mini" example ;-) Sorry about that, didn't mean to overwhelm you. If you can take a look and tell me what you think, that would be great. Thanks, Terry --- public XMLRecordProcessor(  Reader xmlReader, Writer xmlWriter, String recordTag, int blockSize, IDocumentStyler styler) writer_ = new XMLWriter( // Set the default handler and kick off the parsing. // Check to se if we have left over elements that still need // processing. // Everything besides the close of the root element should // be by now been written out. // Flush out and close the writer and we are done. // We also need to transform the root element. // TODO: Doesn't write out namespace definitions! // process the records we have gathered so far. private Element processElement(Element element) throws  TransformerConfigurationException, TransformerException, private void processBlock() throws  TransformerConfigurationException, // Write out the children of the root level node. Iterator i = // Now detach all the elements in the list. --- -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: Wednesday, May 01, 2002 11:11 AM To: Wilson, Terry; 'dom4j-user' Subject: Re: [dom4j-user] Namespaces and writeOpen() I hear where you're going with this and generally think this is a good strategy. I'm just trying to figure out how/where the issue is with namespaces.Do you have a mini example of where the namespaces are and where they are missing? e.g. if you take an individual &amp;lt;RECORD&amp;gt; (using your example) and use it in XSLT and then output the result of the XSLT operation via the write(Element) method then it should all just work I think. Just a quick question; you only need to use the writeOpen() method for the root element right? For the results of the transformation you're using write(Element). e.g. in pseduo code... // get one record... // write the whole result ... // then when we're finished... The above should, I think, output all the namespaces defined in the transformation output nicely. James To: "'James Strachan'" &amp;lt;james_strachan@...&amp;gt;; "'dom4j-user'" Sent: Wednesday, May 01, 2002 6:32 PM Subject: RE: [dom4j-user] Namespaces and writeOpen() I apply to you I new you're that hit If definitions would definitions? my http://mail.yahoo.com _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Namespaces and writeOpen()</header>
    <date>Fri May 03 13:57:00 CEST 2002</date>
    <body>Hi James, I hit upon an occurrence of what seems to be related to Terry's problem: With the following code: XMLWriter oXMLW = new XMLWriter(new \\&amp;lt;-- I get the following error: (There's more below) org.dom4j.DocumentException: Error on line 1 of document file:///c:/swift/temp.xml : The root element is required in a well-formed document. Nested exception: The root element is required in a well-formed document. at org.dom4j.io.SAXReader.read(SAXReader.java:339) at org.dom4j.io.SAXReader.read(SAXReader.java:236) at com.interrait.requesttracker.Dump.main(Dump.java:85) Nested exception: org.xml.sax.SAXParseException: The root element is required in a well-formed document. at org.apache.xerces.framework.XMLParser.reportError(XMLParser.java:1196) at org.apache.xerces.framework.XMLDocumentScanner.reportFatalXMLError(XMLDocume ntScanner.java:570) at org.apache.xerces.framework.XMLDocumentScanner$XMLDeclDispatcher.endOfInput( XMLDocumentScanner.java:790) at org.apache.xerces.framework.XMLDocumentScanner.endOfInput(XMLDocumentScanner .java:418) at org.apache.xerces.validators.common.XMLValidator.sendEndOfInputNotifications (XMLValidator.java:694) at org.apache.xerces.readers.DefaultEntityHandler.changeReaders(DefaultEntityHa ndler.java:1026) at org.apache.xerces.readers.XMLEntityReader.changeReaders(XMLEntityReader.java :168) at org.apache.xerces.readers.UTF8Reader.changeReaders(UTF8Reader.java:182) at org.apache.xerces.readers.UTF8Reader.lookingAtChar(UTF8Reader.java:197) at org.apache.xerces.framework.XMLDocumentScanner$XMLDeclDispatcher.dispatch(XM LDocumentScanner.java:686) at org.apache.xerces.framework.XMLDocumentScanner.parseSome(XMLDocumentScanner. java:381) at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1081) at org.dom4j.io.SAXReader.read(SAXReader.java:323) at org.dom4j.io.SAXReader.read(SAXReader.java:236) at com.interrait.requesttracker.Dump.main(Dump.java:85) But if the last statement of the code is changed to: System.out.println(oDocReader.read(new StringReader("&amp;lt;SomeElement&amp;gt;&amp;lt;/SomeElement&amp;gt;")).asXML());//The String is exactly the contents of the file temp.xml I get a nice well behaved output : So does this mean that SAXReader or XMLWriter will handle String Streams and File Streams differently? In the second case, the SAXReader automatically added the xml header when reading from a string, but did not do so in the first case when it read exactly the same string from a file. When I opened the file and manually added the header, the previous statement worked. So does this mean that we have to specifically remember to handle these two cases differently, or can this be corrected? Regards Soumanjoy -----Original Message----- From: Wilson, Terry [mailto:Terry.Wilson@...] Sent: Wednesday, May 01, 2002 11:02 PM To: 'James Strachan'; 'dom4j-user' Subject: RE: [dom4j-user] Namespaces and writeOpen() I believe my problem is caused by my approach and lack of understanding of the technology rather than something in dom4j. Here's what I do. I have a document like: Because in real life the document is too big to hold in memory all at once I need to apply XSLT in intermediate steps. I start reading in the document and creating the dom4j document object. Once I have the root element I apply a transformation and just write the open tag of the result with XMLWriter.writeOpen(). I then remove the root from the document object and read in a block of n records into the document. I then style the document and serialize each record with just plain XMLWriter.write(). Finally after all records have been processed I do a writeClose() with the root element to close the document. So the immediate problem I see is that when I am serializing the root node there are no other nodes in memory and no way of knowing if a namespace definition is actually needed. This is the first time I'm doing this so you guys out there with more experience, does this problem make my approach invalid? Can I get around it somehow or totally rethink my strategy? Is my thinking just plain naive? ;-) The idea is to produce the same output that I would get by applying a stylesheet to the whole dodument. When I do this, the namespaces do appear in the output document. I'll also take a look at writing some code to demonstrate this if I get a chance, but I hope you get the picture. Thanks, Terry -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: Wednesday, May 01, 2002 9:51 AM To: Wilson, Terry; Dom4j-User (E-mail) Subject: Re: [dom4j-user] Namespaces and writeOpen() Internally XMLWriter uses a NamespaceStack to know if it needs to output new namespace declarations with new nodes. It could be that the way that you're using it, the XMLWriter isn't properly popping the namespace stack, so that the required namespace definitions don't appear. Any chance you could create a little unit test to demonstrate the problem? I.e. a bit of code and a test document. Then it'd be easier to see the problem. If you could add an existing test method to an existing test case, such as in dom4j/src/test/org/dom4j/TestXMLWriter, that'd be even better! :-) James Sent: Wednesday, May 01, 2002 5:36 PM Subject: [dom4j-user] Namespaces and writeOpen() from file interface. a I namespaces be _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Namespaces and writeOpen()</header>
    <date>Fri May 03 15:38:00 CEST 2002</date>
    <body>Add this You need to close the XMLWriter to close the underlying output stream. The XML probably hasn't been output yet. Try looking at the file after the close() to see if it looks OK. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] parsing DTD and other entity data in XML documents</header>
    <date>Mon May 06 23:41:00 CEST 2002</date>
    <body>I'm working on a simply pretty printer application for an XML editor and can't seem to find the correct API to use to solve one particular problem. Whenever I encounter a &amp;lt;!DOCTYPE,, or similar entity in a document, my code, which extends DefaultHandler and implements LexicalHandler can identify certain portions of the DTD information via the startDTD() method. However, when I was reformatting the web.xml file for my tomcat server, I discovered that certain key elements of the DTD specification can't be received by my classes. Example: "-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN" " http://java.sun.com/j2ee/dtds/web-app_2_2.dtd When I catch the various strings via startDTD, all I get are "web-app", the "-//Sun...... etc." string, and the URL.  Neither the DOCTYPE or PUBLIC terms are returned in my implementation. Is there another method I'm ignoring here, or another API I need to use to get the entire entity.  I'm aware that DOM4J implements just about every XML API, so someone on this list can probably answer my question. Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] parsing DTD and other entity data in XML documents</header>
    <date>Wed May 08 09:27:00 CEST 2002</date>
    <body>Hi Robert startDTD() and endDTD() wrap the DOCTYPE. Then you want to look at the elementDecl() and attributeDecl() methods of SAX DeclHandler to get the contents of the DOCTYPE. Looking at the code for org.dom4j.io.SAXXContentHandler might help? James code, http://java.sun.com/j2ee/dtds/web-app_2_2.dtd the XML https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Licensing</header>
    <date>Tue May 07 17:54:00 CEST 2002</date>
    <body>I'm not a lawyer and I am having a hard time understanding the = requirements of your license. I am considering using the dom4j as a persistent store api for our = commercial product.  Our tool is not a commercial XML parser or XSLT or = browser. If I have to include all of the information included on your = license.html page, then I'm afraid our corporate lawyer will gag. Is = there an existing example of the minimum requirements you are looking = for us to use. Thanks, Jon</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Licensing</header>
    <date>Tue May 07 18:01:00 CEST 2002</date>
    <body>Huh? You may not realize it, this is shorter and easier than almost all other software licenses, free or otherwise. Count your blessings, show it to your lawyer, and don't try to ask for "alternative minimum requirements". The license is the license, like it or lump it, and there isn't much not to like.  This one is fairly short and sweet. For heaven's sake, you could have to use the GPL or something. -Tom On Tue, 7 May 2002, Jonathan Schedler wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Licensing</header>
    <date>Tue May 07 18:03:00 CEST 2002</date>
    <body>PS, please read http://www.toms.net/rb/license.html , that will help you feel better about this.  I can't emphasize enough, this is as easy as it gets, the BSD-style licenses are the shortest and sweetest.  You lawyer will love it, lawyers are used to much, much more tangled webs.  -Tom On Tue, 7 May 2002, Jonathan Schedler wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Licensing</header>
    <date>Tue May 07 18:06:00 CEST 2002</date>
    <body>The licence is a pretty standard BSD / Apache style licence. Its not = really any different than any other Jakarta / Apache style open source = software James From: Jonathan Schedler=20 To: dom4j-user@... Sent: Tuesday, May 07, 2002 6:46 PM Subject: [dom4j-user] Licensing I'm not a lawyer and I am having a hard time understanding the = requirements of your license. I am considering using the dom4j as a persistent store api for our = commercial product.  Our tool is not a commercial XML parser or XSLT or = browser. If I have to include all of the information included on your = license.html page, then I'm afraid our corporate lawyer will gag. Is = there an existing example of the minimum requirements you are looking = for us to use. Thanks, Jon</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Reuse of SAXReader?</header>
    <date>Tue May 07 13:51:00 CEST 2002</date>
    <body>I have been using a pool of SAX parsers for quite some time to handle lots of small XML documents we receive over the web. It works pretty well. As you noted the only requirement on reuse is that the parser not be used by more than one thread at a time. I created a PooledSAXReader that extends org.dom4j.io.SAXReader. The constructor saves a reference to the pool it belongs to. A close() method returns the SAXReader to its pool. Servlets checkout a SAXReader from a pool, use it to parse a document and return it to the pool by calling close() on the SAXReader. Chuck Simpson Chuck_Simpson@... |         |           "K.Gillies"                | |         |           &amp;lt;kgillies@...&amp;gt;      | |         |           Sent by:                   | |         |           dom4j-user-admin@...| |         |           ceforge.net                | |         |                                      | |         |                                      | |         |           05/03/02 05:48 PM          | |         |                                      | &amp;gt;----------------------------------------------------------------------------------------------------------------------------------| |                                                                                                                                  | |        To:      dom4j-user@...                                                                                 | |        cc:                                                                                                                       | |        Subject: [dom4j-user] Reuse of SAXReader?                                                                                 | &amp;gt;----------------------------------------------------------------------------------------------------------------------------------| Hi, Since I need to parse a lot of documents of a few different types (instances I guess), I'd like to create one or more XML parsers (as SAXReader instances) to reuse.  I'd like to treat these parsers as resources like database connections, for instance. So my question is, is it ok to reuse a SAXReader or do I need to create a new one each time I need to parse a document.  I know that the XML parser is not reentrant.  I've looked at the source for SAXReader, and I see that quite a bit is done when read is called but a new instance of the parser is not created if it already exists (getXMLReader) so this suggests to me that someone expected reuse of SAXReader.  Please comment on the use of SAXReaders as pooled objects. If you think this is a total waste of time, I'd be interested in hearing that too.  I've not done any benchmarking that suggests that this is really where I'm spending a lot of time, but I do think parsers are pretty heavyweight objects to create every time I parse a document. The following is from a newcomer to dom4j so take that into consideration too!  If you don't mind, please cc your email to kgillies@..., I'm not (yet) a list member.  I'm just testing dom4j. Thanks, K.Gillies _______________________________________________________________ Have big pipes? SourceForge.net is looking for download mirrors. We supply the hardware. You get the recognition. Email Us: bandwidth@... _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] char encoding</header>
    <date>Tue May 07 11:02:00 CEST 2002</date>
    <body>Hi I have a java app which return a requested XML document. The document in French and I have included in the documents XML pre-processing instruction.. I then use and send the document by PrintWriter, but I have a problem in IE 6. The xml encoding changes to UTF-8, and IE doesn't like the french characters. Any idea what I can do about this? Thanks Lea</body>
  </mail>
  <mail>
    <header>[dom4j-user] Reuse of SAXReader?</header>
    <date>Fri May 03 22:49:00 CEST 2002</date>
    <body>Hi, Since I need to parse a lot of documents of a few different types (instances I guess), I'd like to create one or more XML parsers (as SAXReader instances) to reuse.  I'd like to treat these parsers as resources like database connections, for instance. So my question is, is it ok to reuse a SAXReader or do I need to create a new one each time I need to parse a document.  I know that the XML parser is not reentrant.  I've looked at the source for SAXReader, and I see that quite a bit is done when read is called but a new instance of the parser is not created if it already exists (getXMLReader) so this suggests to me that someone expected reuse of SAXReader.  Please comment on the use of SAXReaders as pooled objects. If you think this is a total waste of time, I'd be interested in hearing that too.  I've not done any benchmarking that suggests that this is really where I'm spending a lot of time, but I do think parsers are pretty heavyweight objects to create every time I parse a document. The following is from a newcomer to dom4j so take that into consideration too!  If you don't mind, please cc your email to kgillies@..., I'm not (yet) a list member.  I'm just testing dom4j. Thanks, K.Gillies</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Reuse of SAXReader?</header>
    <date>Tue May 07 07:07:00 CEST 2002</date>
    <body>You can reuse SAXReader instances as many times as you like; the only issue is you cannot use a SAXReader concurrently in multiple threads. So creating an object pool of SAXReader objects makes a lot of sense. If you're looking for an object pool implementation, this one at Jakarta looks reasonable... http://jakarta.apache.org/commons/pool/index.html James Sent: Friday, May 03, 2002 11:48 PM Subject: [dom4j-user] Reuse of SAXReader? https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Can I use XPath expression as prepared statements?</header>
    <date>Fri May 03 11:01:00 CEST 2002</date>
    <body>Hi Is it possible to use XPath expressions as prepared statements? Example This is what I do now. .... The problem with this is that replace only handles char... kind of limiting... I know it is possible to make it more complex.... but... What I would like to do is to define the XPath as public final static XPath XPATH_EXP = ... Is this possible, or have I missed something fundamental? /Cheers Christian</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Can I use XPath expression as prepared statements?</header>
    <date>Fri May 03 12:18:00 CEST 2002</date>
    <body>Yes its very possible indeed. The trick is to use XPath variables. e.g. Then you can set whatever variable value you want for 'x' and apply the XPath to any node. etc. James Sent: Friday, May 03, 2002 12:01 PM Subject: [dom4j-user] Can I use XPath expression as prepared statements? https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Can I use XPath expression as prepared statements?</header>
    <date>Fri May 03 12:19:00 CEST 2002</date>
    <body>XPath supports variables. //foo[@doo=$bob_is_a_goober] Then, using a VariableContext, you can assign whatever value you with to the variable "bob_is_a_goober". -bob (goober) On Fri, 3 May 2002, Christian Holmqvist, IT, Posten wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Namespaces and writeOpen()</header>
    <date>Wed May 01 16:37:00 CEST 2002</date>
    <body>Hi all, I'm a new dom4j user and have a question I could not find an answer for from the api or other documentation. I have a fairly classical situation where I have a "database" type XML file (large, up to .5GB) that has a root node that has a set or child, record nodes. I need to apply XSLT transformations to this document, which I'm acchieving efficiently by utilizing the excellent ElementHandler interface. I apply the stylesheets to a chunk of records at a time, serialize the results and move on to the next chunk. This seems to work fine, but I hit a problem with the root node, which I also need to style. The root node has some namespace definitions that are causing me grief. If I print out the transformed root node with asXML() the namespace definitions are still there, but when I use the writeOpen(rootElement) method in the XMLWriter class to serialize the output, it is missing the namespace definitions. Is there something special I need to do to have the namespaces included when calling writeOpen()? The api doc says that attributes would be included in the writeOpen() output, but what about namespace definitions? Are they left out on purpose and if so, how can I have them included in my output? I've tried this with two separate daily builds, the latest I downloaded yesterday (4/30/02). Hope I made some sense, any help appreciated. Thanks, Terry</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Namespaces and writeOpen()</header>
    <date>Wed May 01 16:52:00 CEST 2002</date>
    <body>Internally XMLWriter uses a NamespaceStack to know if it needs to output new namespace declarations with new nodes. It could be that the way that you're using it, the XMLWriter isn't properly popping the namespace stack, so that the required namespace definitions don't appear. Any chance you could create a little unit test to demonstrate the problem? I.e. a bit of code and a test document. Then it'd be easier to see the problem. If you could add an existing test method to an existing test case, such as in dom4j/src/test/org/dom4j/TestXMLWriter, that'd be even better! :-) James Sent: Wednesday, May 01, 2002 5:36 PM Subject: [dom4j-user] Namespaces and writeOpen() from file interface. a I namespaces be _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] remembering line numbers of the xml source file</header>
    <date>Wed May 01 15:32:00 CEST 2002</date>
    <body>Hello, Our app uses xml files for configuration. The syntax is checked during loading and linenumbers are then provided. After loading all xml file as dom4j documents, they are checked amongst themselves for references to eachother. If a reference error is found I would like to give an nice error message with line number like: conf1.xml:34: tag TAG1 references conf2.xml/TAG2 but does not exist in conf2.xml This means I have to remember the linenumber 34 (TAG1) to use later while doing the reference checks using the dom4j documents. This means I need to collect line number info during the SAX parsing and store it separate from the dom4j document in some datastructure. Can someone point me to a starting point on how to add callbacks to the SAX parser which dom4j uses? Or maybe there is an easier way? best regards, Peter</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] remembering line numbers of the xml source file</header>
    <date>Wed May 01 15:56:00 CEST 2002</date>
    <body>Hi Peter SAX First off, we need to add extra information to Elements to store the line number etc that it comes from. The org.dom4j.util.UserDataElement might be useable as-is - you just need to write a 'user data' object that represents the location of the element. Or you could provide your own Element and DocumentFactory implementations if you wish. Then if you use the org.dom4j.util.UserDataDocumentFactory (or your own DocumentFactory) on the SAXReader, you'll create UserDataElements which you can then associate the location information with. Next you'll need to derive from the SAXContentHandler used by SAXReader and add support to associate the location information (accessible via the SAX Locator) with each new Element. You can do this in the startElement() method I think fairly easily. Then derive your own SAXReader to use your new SAXContentHandler (maybe overloading the createContentHandler() factory method). That should just about do it I think. Do let us know how you get on, it does sound kinda useful. Maybe we could add your work to a contribution directory in dom4j so others can share this stuff? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] schema needs/wants &amp;amp; MSV?</header>
    <date>Fri Jun 28 19:01:00 CEST 2002</date>
    <body>Hi, We have a need to parse a schema and basically denormalize it- expand everything out into one document.  For example, if the schema includes 4 other schemas and references complex datatypes, we'd like to be able to run this schema thru some engine and get back a document that has been expanded out to include the 4 separate schemas, and the complex datatypes should be expanded out into basic individual types. Any ideas?  Is MSV an option?  I've looked at it but it doesn't look like it does what I want right off the bat, and I'm not sure I could figure it out enough to make something work. Thanks! Brian W. Young Decade Systems Corporation</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: dom4j-user digest, Vol 1 #300 - 1 msg</header>
    <date>Fri Jun 28 23:09:00 CEST 2002</date>
    <body>Hi Yes it's entirely possible. A while ago I sent James some example code that I believe he has added to the distribution, which describes one approach. Over to you James :) Nick Sanderson -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@... Behalf Of dom4j-user-request@... Sent: 28 June 2002 20:07 To: dom4j-user@... Subject: dom4j-user digest, Vol 1 #300 - 1 msg Send dom4j-user mailing list submissions to dom4j-user@... To subscribe or unsubscribe via the World Wide Web, visit https://lists.sourceforge.net/lists/listinfo/dom4j-user or, via email, send a message with subject or body 'help' to dom4j-user-request@... You can reach the person managing the list at dom4j-user-admin@... When replying, please edit your Subject line so it is more specific than "Re: Contents of dom4j-user digest..." Today's Topics: 1. Element line number... (Mark Derricutt) --__--__-- Message: 1 Date: Fri, 28 Jun 2002 11:44:41 +1200 To: dom4j-user@... Subject: [dom4j-user] Element line number... Hiya, I'm using dom4j to load up an XML file and do some parsing on various elements/attributes, and want to report to the user when theirs a problem in the file. Now, I can easily just say "parse error in foo.xml", but what I'd love to do is include the line number of the element that caused the error, so that I can output a message in a way picked up by ide's, like: foo.xml:65: Parse error in file. Is this somehow possible, givin an Element object? Mark -- \m/ -- "...if I seem super human I have been misunderstood." (c) Dream Theater mark@... - ICQ: 1934853 JID: talios@... --__--__-- _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user End of dom4j-user Digest</body>
  </mail>
  <mail>
    <header>[dom4j-user] Element line number...</header>
    <date>Thu Jun 27 23:44:00 CEST 2002</date>
    <body>Hiya, I'm using dom4j to load up an XML file and do some parsing on various elements/attributes, and want to report to the user when theirs a problem in the file. Now, I can easily just say "parse error in foo.xml", but what I'd love to do is include the line number of the element that caused the error, so that I can output a message in a way picked up by ide's, like: foo.xml:65: Parse error in file. Is this somehow possible, givin an Element object? Mark -- \m/ -- "...if I seem super human I have been misunderstood." (c) Dream Theater mark@... - ICQ: 1934853 JID: talios@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath in addHandler</header>
    <date>Wed Jun 26 20:41:00 CEST 2002</date>
    <body>Hi all, Really need to be able to use XPath in the sax reader addHandler method.... or find a similar solution. I checked the archive and someone was talking about it being implemented soon - that was on 20th feb, has it been done yet? Regards, Beri __________________________________________________ Do You Yahoo!? Yahoo! - Official partner of 2002 FIFA World Cup http://fifaworldcup.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAX-like XPATH...?</header>
    <date>Tue Jun 25 20:06:00 CEST 2002</date>
    <body>Hi, Is there any way to use XPATH in a sax-like manner as opposed to executing XPATH statements on already parsed Document objects? Perhaps in a manner similar to Apache Digester, where the "pattern" would be an XPATH statement, which whenever matched, would execute an associated set of logic? Thanks. ===== spamcut@... __________________________________________________ Do You Yahoo!? Yahoo! - Official partner of 2002 FIFA World Cup http://fifaworldcup.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAX-like XPATH...?</header>
    <date>Wed Jun 26 06:28:00 CEST 2002</date>
    <body>Its a bit hard to do in the general case, but certainly a subset of XPath could be implemented such that a SAX parser could then extract the required path(s). This came up on the Jaxen list recently http://www.mail-archive.com/jaxen-interest%40lists.sourceforge.net/msg00790 . html the most interesting part of the discussion was Christian introducing us all to STX http://stx.gingerall.cz/stx/index.html which is kinda like XSLT for SAX which includes its own kind of XPath language that can operate directly on SAX. Interesting stuff. Incidentally, creating an Element with some attributes is usually pretty cheap, and I guess implementations of things like STX or a SAX XPath engine would have to do that anyways. So the SAX versus DOM issue on XPath / parsing seems to be just a question of how long the Nodes stay around for. So for example if you removed each Element after it were fully created, you'd have SAX like processing using a DOM like API. So maybe you could solve your problem using regular XPath on the dom4j API, but just use the pruning-while-parsing capability to ensure that only a small subset of the tree is in RAM at any time? e.g. using the ElementHandler callbacks during parsing to call element.detach() when you're done with an element. Then you can still use XPath to navigate around the fragment of document in RAM, while parsing is still occurring. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] building latest source from CVS</header>
    <date>Mon Jun 24 16:44:00 CEST 2002</date>
    <body>Hi, I recently tried rebuilding the source files I pulled from CVS (the link on the dom4j web page for a zipped up daily build has apparently not been updated since April 30 8P) The build ran fine, but I noticed that the org/xml/sax package does not appear in the resulting dom4j-full.jar file like it does in the jar file found in the distributions. Is there a particular implementation of the sax stuff in dom4j or should I just be using Xerces or something? Thanks, Andy ______________________________________________________________________ Post your ad for free now! http://personals.yahoo.ca</body>
  </mail>
  <mail>
    <header>[dom4j-user] Fw: [dom4j-dev] fix for writing numeric entities in XMLWriter</header>
    <date>Fri Jun 21 15:07:00 CEST 2002</date>
    <body>Oops - forgot to address this to the list - here it is. From: Terry Steichen=20 To: Dan Jacobs=20 Sent: Friday, June 21, 2002 10:47 AM Subject: Re: [dom4j-dev] fix for writing numeric entities in XMLWriter Let me clarify a bit.  I have an application that, among other tasks, = retrieves HTML files from an arbitrary source.  Let's assume that I = retrieve the following HTML file: This is a test &amp;amp;#150; and only a test. If I 'read' the above HTML file into a SAXReader, and then examine the = contents of 'body' (using either getText() or asXML()), it comes out as: This is a test ? and only a test.=20 Note that the &amp;amp;#150; got translated into a '?'.  Keeping in mind that I = have no control over the inclusion of these characters in the HTML page, = can anyone suggest how to properly handle this (that is, handle it in a = way that preserves the &amp;amp;#150; so it can later be rendered correctly)? Regards, Terry PS: I realize that if the sample file were valid XML, the 'body' section = should be defined to be CDATA.  But, alas, that's not in my control. From: Dan Jacobs=20 To: Terry Steichen=20 Cc: dom4j-dev@... Sent: Friday, June 21, 2002 7:51 AM Subject: Re: [dom4j-dev] fix for writing numeric entities in XMLWriter Hi Terry, The problem I fixed really just has to do with proper handling of = characters outside the normal XML character set, which is roughly 7-bit = ascii.  The $#150; character is outside that set, so my fix would get = the asXML method to produce the right thing. On the other hand, what you see when you render a String containing = "funny" characters depends on many other things that have nothing to do = with the XML.  In particular, if you try to display a character using a = font that has no glyph for the character code, it may well be displayed = as a "?" instead of as what you intend. I hope this information helps you to solve your problem. -- Dan Terry Steichen wrote: Hi Dan,I've had this nagging problem in that I read in an HTML file = with, forexample, &amp;amp;#150;&amp;amp;#150; in it.  I then 'Tidy' it up and use dom4j = to extractthe details and construct a Document and write it out using = XMLWriter.  WhatI end up seeing is ?? where the &amp;amp;#150;&amp;amp;#150; was.  It = should (sort of) looklike '--'.  Would your fix handle this, or will it = only handle charactersthat are actually embedded as raw = Wednesday, June 19, 2002 11:10 PMSubject: [dom4j-dev] fix for writing = numeric entities in XMLWriter I found and fixed a simple bug in XMLWriter.java.  A fixed version = isattached, but not checked into the source repository.  I'll leave = thatfor the folks who maintain the sources.If you parse and print out = (using asXML) an XML document containing anumeric entity reference such = as &amp;amp;#160; (the code for &amp;amp;nbsp;) the codewas just writing out a byte with = a value of 160 (decimal).  The fix(abstracted below) is to check for = characters with integer codes below32 and above 126 (excluding standard = whitespace characters) and encodethem as numeric entities.  The same fix = is made in two places inXMLWriter.java.Thanks for reading.-- Dan Jacobs  = char c;     // declaration and assignment added by Dan Jacobs  = entity =3D "&amp;amp;lt;";                    break;              = case '&amp;gt;' :     =20 entity =3D "&amp;amp;gt;";                    break;               = case '&amp;amp;' :                    entity =3D "&amp;amp;amp;";                    = break;                file://!!! Begin code added by Dan Jacobs !!!//    = case '\t': case '\n': case '\r':                    // don't = encode standard whitespace characters                    break;          = default:                    // encode low and high characters as = entities                    if ((c &amp;lt; 32) || (c &amp;gt;=3D 127))                = entity =3D "&amp;amp;#" + (int)c + ";";                    break;        = file://!!! End code added by Dan Jacobs !!!//            = EngineeringJava &amp;amp; Web Application Development -------------------------------------------------------------------------= ------- /* * Copyright 2001 (C) MetaStuff, Ltd. All Rights Reserved. * * This = software is open source. * See the bottom of this file for the licence. = * * $Id: XMLWriter.java,v 1.46 2002/02/14 11:55:46 jstrachan Exp $ = */package org.dom4j.io;import java.io.BufferedOutputStream;import = java.io.BufferedWriter;import java.io.ByteArrayOutputStream;import = java.io.IOException;import java.io.OutputStream;import = java.io.OutputStreamWriter;import java.io.StringWriter;import = java.io.UnsupportedEncodingException;import java.io.Writer;import = java.util.HashMap;import java.util.HashSet;import = java.util.Iterator;import java.util.LinkedList;import = java.util.List;import java.util.Map;import java.util.Set;import = java.util.StringTokenizer;import org.dom4j.Attribute;import = org.dom4j.CDATA;import org.dom4j.CharacterData;import = org.dom4j.Comment;import org.do m4j.DocumentType;import org.dom4j.Document;import = org.dom4j.Element;import org.dom4j.Entity;import = org.dom4j.Namespace;import org.dom4j.Node;import = org.dom4j.ProcessingInstruction;import org.dom4j.Text;import = org.dom4j.tree.NamespaceStack;import org.xml.sax.Attributes;import = org.xml.sax.ContentHandler;import org.xml.sax.DTDHandler;import = org.xml.sax.InputSource;import org.xml.sax.Locator;import = org.xml.sax.SAXException;import = org.xml.sax.SAXNotRecognizedException;import = org.xml.sax.SAXNotSupportedException;import org.xml.sax.XMLReader;import = org.xml.sax.ext.LexicalHandler;import = org.xml.sax.helpers.XMLFilterImpl;/**&amp;lt;p&amp;gt;&amp;lt;code&amp;gt;XMLWriter&amp;lt;/code&amp;gt; takes a = DOM4J tree and formats it to a  * stream as XML.  * It can also take SAX = events too so can be used by SAX clients as this object interfaces. * as well. This formatter performs typical document  * formatting.  = The XML declaration and processing instructions are  * always on their = whitespace is handled when printing and allows various * configuration options, such as to allow suppression of the XML declaration, * the encoding declaration or whether empty documents are = collapsed.&amp;lt;/p&amp;gt;  *  * &amp;lt;p&amp;gt; There are &amp;lt;code&amp;gt;write(...)&amp;lt;/code&amp;gt; methods to = print any of the  * standard DOM4J classes, including = your own  * &amp;lt;code&amp;gt;Writer&amp;lt;/code&amp;gt; may cause the writer's preferred = character  * encoding to be ignored.  If you use encodings other than = UTF8, we  * recommend using the method that takes an OutputStream = instead.  * &amp;lt;/p&amp;gt;  *  * @author &amp;lt;a = href=3D"mailto:jstrachan@... Strachan&amp;lt;/a&amp;gt;  * @author = Joseph Bowbeer  * @version $Revision: 1.46 $  */public class XMLWriter = extends XMLFilterImpl implements Lexic http://xml.org/sax/properties/lexical-handler ",        = " http://xml.org/sax/handlers/LexicalHandler final boolean ESCAPE_TEXT =3D true;    private static final boolean = SUPPORT_PAD_TEXT =3D false;    protected static final OutputFormat = DEFAULT_FORMAT =3D new /** Stores the last type of node written so algorithms can refer to the * previous node type */    protected int lastOutputNodeType;    = /** The Writer used to output to */    protected Writer writer;    /** = The Stack of namespaceStack written so far */    private NamespaceStack = namespaceStack =3D new NamespaceStack();    /** The format used by this = writer */    private OutputFormat format;    /** The initial number of = indentations (so you can print a whole        document indented, if you = like) **/    private int indentLevel =3D 0;    /** buffer used when = escaping strings */    private StringBuffer buffer =3D new = StringBuffer();    /** Whether a flush should occur after writing a = document */    private boolean autoFlush;    /** Lexical handler we = should delegate to */    private LexicalHandler lexicalHandler;    /** = Whether comments should appear inside DTD declarations - defaults to false */ private boolean showCommentsInDTDs;    /** Is the writer curerntly = inside a DTD definition? */    private boolean inDTD;    public = =3D new BufferedWriter( new out) throws UnsupportedEncodingException this.format =3D DEFAULT_FORMAT;        this.writer =3D = createWriter(out, format.getEncoding());        this.autoFlush =3D true; = this.format =3D format;        this.writer =3D createWriter(out, = XMLWriter(OutputFormat format) throws this.format =3D format;        this.writer =3D createWriter( = setOutputStream(OutputStream out) throws this.writer =3D createWriter(out, format.getEncoding());        = This can be used to output      * a document (or, more likely, an = element) starting at a given      * indent level, so it's not always = flush against the left margin.      * Default: 0      *      * @param = indentLevel the number of indents to start with      */    public void = wri to output.      */    public void write(Attribute attribute) throws = IOException *     * &amp;lt;p&amp;gt; Warning: using your own Writer may cause the writer's   = * preferred character encoding to be ignored.  If you use     * = encodings other than UTF8, we recommend using the method that     * = takes an OutputStream instead.  &amp;lt;/p&amp;gt;     *     * &amp;lt;p&amp;gt;Note: as with all = Writers, you may need to flush() yours     * after this method = returns.&amp;lt;/p&amp;gt;     *     * @param doc &amp;lt;code&amp;gt;Document&amp;lt;/code&amp;gt; to format.     = * @throws &amp;lt;code&amp;gt;IOException&amp;lt;/code&amp;gt; - if there's any problem writing.     = Node node =3D doc.node(i);            write and its value, and all      * its content (child nodes) to the current = Writer.&amp;lt;/p&amp;gt;      *      * @param element &amp;lt;code&amp;gt;Element&amp;lt;/code&amp;gt; to output. = cdata &amp;lt;code&amp;gt;CDATA&amp;lt;/code&amp;gt; to output.      */    public void write(CDATA = comment) throws IOException output.      */    public void write(DocumentType docType) throws = *      * @param entity &amp;lt;code&amp;gt;Entity&amp;lt;/code&amp;gt; to output.      */    = @param namespace &amp;lt;code&amp;gt;Namespace&amp;lt;/code&amp;gt; to output.      */    public *      * @param processingInstruction = output. */    public void write(ProcessingInstruction = processingInstruction) throws writeProcessingInstruction(processingInstruction);        if ( = whitespace stripping.&amp;lt;/p&amp;gt;      *      * @param text is the text to = text &amp;lt;code&amp;gt;Text&amp;lt;/code&amp;gt; to output.      */    public void write(Text = or a List      * of Nodes.      *      * @param object is the object to = throw new IOException( "Invalid object: " + object );        = @param element &amp;lt;code&amp;gt;Element&amp;lt;/code&amp;gt; to output.      */    public void = writer.write("&amp;lt;");        writer.write( element.getQualifiedName() );    = element &amp;lt;code&amp;gt;Element&amp;lt;/code&amp;gt; to output.      */    public void = file://------------------------------------------------------------------= ------- public void parse(InputSource source) throws IOException, = SAXException public void setProperty(String name, Object value) throws setLexicalHandler((LexicalHandler) value);                return;        = Object getProperty(String name) throws file://------------------------------------------------------------------= ------- startPrefixMapping(String prefix, String uri) throws namespaceURI, String localName, String writer.write("&amp;lt;");            writer.write(qName);            = writeAttributes( attributes );            writer.write("&amp;gt;");            = ++indentLevel;            lastOutputNodeType =3D Node.ELEMENT_NODE;      = super.startElement( namespaceURI, localName, qName, localName, String XXXX: need to determine this using a stack and checking for            = // content / children            boolean hadContent =3D true;            = lastOutputNodeType =3D Node.ELEMENT_NODE;            = public void characters(char[] ch, int start, int length) throws void ignorableWhitespace(char[] ch, int start, int length) void processingInstruction(String target, String data) throws writer.write(target);            writer.write(" ");            = writer.write(data);            writer.write("?&amp;gt;");            = writePrintln();            lastOutputNodeType =3D = Node.PROCESSING_INSTRUCTION_NODE;            = DTDHandler interface file://------------------------------------------------------------------= ------- public void notationDecl(String name, String publicID, String void unparsedEntityDecl(String name, String publicID, String systemID, String notationName) throws SAXException super.unparsedEntityDecl(name, publicID, systemID, = file://------------------------------------------------------------------= ------- public void startDTD(String name, String publicID, String systemID) public void endDTD() throws SAXException endEntity(String name) throws SAXException comment(char[] ch, int start, int length) throws Implementation methods file://------------------------------------------------------------------= ------- int size =3D element.nodeCount();        String qualifiedName =3D = element.getQualifiedName();        writePrintln();        indent();      = writer.write("&amp;lt;");        writer.write(qualifiedName);        int = previouslyDeclaredNamespaces =3D namespaceStack.size();        Namespace = ns =3D element.getNamespace();        if (isNamespaceDeclaration( ns ) ) = Node node =3D element.node(i);            if ( node instanceof = if (isNames namespaceStack.push(additional);                    = // we have at least one text node so lets assume                // that = above                ++indentLevel;                = writeElementContent(element);                --indentLevel;          =20 writer.write("&amp;lt;/");            writer.write(qualifiedName);            = from stack        while (namespaceStack.size() &amp;gt; = the content of the given element. If whitespace trimming is * enabled then all adjacent text nodes are appended together before = * the whitespace trimming occurs to avoid problems with multiple     = * text nodes being created due to text content that spans parser buffers * in a SAX parser.     */    protected void = writeElementContent(Element element) throws IOException text nodes together            // so that whitespace trimming works = properly            Text lastTextNode =3D null;            StringBuffer = buffer =3D null;            for ( int i =3D 0, size =3D = buffer.append( ((Text) node).getText() );        = if ( lastTextNode !=3D null ) writeString( buffer.toString() );                            buffer = writeString( lastTextNode.getText() );                = if ( lastTextNode !=3D null ) writeString( buffer.toString() );                    buffer =3D null;    = writer.write( "]]&amp;gt;" );        lastOutputNodeType =3D = writeDocType(DocumentType docType) throws IOExcep file://writeDocType ( docType.getElementName(), writeNamespace(Namespace namespace) throws IOException namespace.getPrefix();            writer.write(" xmlns");            if = writer.write("=3D\"");            = writer.write(namespace.getURI());            writer.write("\"");        = writeProcessingInstruction(ProcessingInstruction file://indent ();        writer.write( "&amp;lt;?" );        = writer.write( processingInstruction.getName() );        writer.write( " = " );        writer.write( processingInstruction.getText() );        = writer.write( "?&amp;gt;" );        writePrintln();        lastOutputNodeType = boolean first =3D true;                StringTokenizer tokenizer =3D = new StringTokenizer(text);                while = first =3D false;                        if ( lastOutputNodeType = =3D=3D Node.TEXT_NODE ) writer.write(token);                    lastOutputNodeType =3D = lastOutputNodeType =3D Node.TEXT_NODE;                = Node.ELEMENT_NODE:                writeElement((Element) node);          = break;            case Node.ATTRIBUTE_NODE:                = writeAttribute((Attribute) node);                break;            case = Node.TEXT_NODE:                writeString(node.getText());              = file://write((Text ) node);                break;            case = Node.CDATA_SECTION_NODE:                writeCDATA(node.getText());      = break;            case N ode.ENTITY_REFERENCE_NODE:                writeEntity((Entity) node);    = break;            case Node.PROCESSING_INSTRUCTION_NODE:     = writeProcessingInstruction((ProcessingInstruction) node);     = break;            case Node.COMMENT_NODE:                = writeComment(node.getText());                break;            case = Node.DOCUMENT_NODE:                write((Document) node);               = break;            case Node.DOCUMENT_TYPE_NODE:                = writeDocType((DocumentType) node);                break;            case = Node.NAMESPACE_NODE:                // Will be output with attributes    = file://write((Namespace ) node);                break;        = default:                throw new IOException( "Invalid node type: " = register for lexical events        for (int i =3D 0; i &amp;lt; = parent.setProperty(LEXICAL_HANDLER_NAMES[i], this);                = String boolean hasPublic =3D false;        writer.write("&amp;lt;!DOCTYPE ");  = writer.write(name);        if ((publicID !=3D null) &amp;amp;&amp;amp; = writer.write(publicID);            writer.write("\"");            = writer.write( name );        writer.write( ";" );        = void writeComment(String text) throws IOException writer.write( text );        writer.write( "--&amp;gt;" );        = /** Writes the attributes of the given element      *      */    = // I do not yet handle the case where the same prefix maps to       = // two different URIs. For attributes on the same element        // = this is illegal; but as yet we don't throw an exception        // if = someone tries to do this        for ( int i =3D 0, size =3D = lt; size; i++ ) Attribute attribute =3D element.attribute(i);            = Namespace ns =3D attribute.getNamespace();            if (ns !=3D null = &amp;amp;&amp;amp; ns !=3D Namespace.NO_NAMESPACE &amp;amp;&amp;amp; ns !=3D String prefix =3D ns.getPrefix();                String = uri =3D namespaceStack.getURI(prefix);                if = declaration writeNamespace(ns);                    = writer.write(" ");            = writer.write(attribute.getQualifiedName());            = writer.write("=3D\"");            = writeEscapeAttributeEntities(attribute.getValue());            = writeAttribute(Attribute attribute) throws IOException writer.write(" ");        = writer.write(attribute.getQualifiedName());        writer.write("=3D");  = writer.write("\"");                = writeEscapeAttributeEntities(attribute.getValue());                = writer.write("\"");        lastOutputNodeType =3D Node.ATTRIBUTE_NODE;   = writer.write(attributes.getQName(index));        writer.write("=3D\"");  = writeEscapeAttributeEntities(attributes.getValue(index));=20 line only if the newlines flag was set to true * &amp;lt;/p&amp;gt;     *     * @param out &amp;lt;code&amp;gt;Writer&amp;lt;/code&amp;gt; to write to     = OutputStreamWriter, use preferred encoding.     */    protected Writer = createWriter(OutputStream outStream, String encoding) return new feredWriter(=20 /**     * &amp;lt;p&amp;gt;     * This will write the declaration to the given = Writer.     *   Assumes XML version 1.0 since we don't directly know.    = String encoding =3D format.getEncoding();                // Only = print of declaration is not suppressed        if (! = writer.write("&amp;lt;?xml version=3D\"1.0\"");                = protected void writeEmptyElementClose(String qualifiedName) = writer.write(qualifiedName);            writer.write("&amp;gt;");    = pre-defined entities in XML 1.0 and      * convert their character = representation to the appropriate      * entity reference, suitable for = XML attributes.      */    protected String escapeElementEntities(String = entity =3D null;            char c; =20 // declaration and assignment added by Dan Jacobs            switch( = entity =3D "&amp;amp;lt;";                    break;                case '&amp;gt;' :   = entity =3D "&amp;amp;gt;";                    break;            = case '&amp;amp;' :                    entity =3D "&amp;amp;amp;";                    = break;                file://!!! Begin code added by Dan Jacobs !!!//    = case '\t': case '\n': case '\r':                    // don't = encode standard whitespace characters                    break;          = default:                    // encode low and high characters as = entities                    if ((c &amp;lt; 32) || (c &amp;gt;=3D 127))                = entity =3D "&amp;amp;#" + (int)c + ";";                    break;        = buffer.append(block, last, i - last);                = buffer.toString();        buffer.setLength(0);        return answer;    = escapeAttributeEntities( text );            writer.write( escapedText ); = and      * convert their character representation to the appropriate     = * entity reference, suitable for XML attributes.      */    protected = null;        int i, last =3D 0, size =3D text.length();        for ( i = char c;     // declaration and assignment added by Dan Jacobs            = entity =3D "&amp;amp;lt;";                    break;                ca se '&amp;gt;' :                    entity =3D "&amp;amp;gt;";                    break; = case '\'' :                    entity =3D "&amp;amp;apos;";       = break;                case '\"' :                    entity = =3D "&amp;amp;quot;";                    break;                case '&amp;amp;' :        = entity =3D "&amp;amp;amp;";                    break;                = file://!!! Begin code added by Dan Jacobs !!!//                case = '\t': case '\n': case '\r':                    // don't encode standard = whitespace characters                    break;                default:  = // encode low and high characters as entities          = if ((c &amp;lt; 32) || (c &amp;gt;=3D 127))                        entity = =3D "&amp;amp;#" + (int)c + ";";                    break;                = buffer.append(block, last, i - last);                = buffer.toString();        buffer.setLength(0);        return answer;    = if (ns !=3D null &amp;amp;&amp;amp; ns !=3D Namespace.NO_NAMESPACE &amp;amp;&amp;amp; ns !=3D String uri =3D ns.getURI();            if ( uri !=3D null &amp;amp;&amp;amp; = documentation * ("Software"), with or without modification, are = permitted provided * that the following conditions are met: * * 1. = Redistributions of source code must retain copyright *    statements and = notices.  Redistributions must also contai n a *    copy of this document. * * 2. Redistributions in binary form = must reproduce the *    above copyright notice, this list of conditions = and the *    following disclaimer in the documentation and/or other *    = materials provided with the distribution. * * 3. The name "DOM4J" must = not be used to endorse or promote *    products derived from this = Software without prior written *    permission of MetaStuff, Ltd.  For = written permission, *    please contact dom4j-info@.... * * 4. = Products derived from this Software may not be called "DOM4J" *    nor = may "DOM4J" appear in their names without prior written *    permission = of MetaStuff, Ltd. DOM4J is a registered *    trademark of MetaStuff, = Ltd. * * 5. Due credit should be given to the DOM4J Project *    (ht tp://dom4j.org/ ). * * THIS SOFTWARE IS PROVIDED BY METASTUFF, LTD. AND = CONTRIBUTORS * ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES, = INCLUDING, BUT * NOT LIMITED TO, THE IMPLIED WARRANTIES OF = MERCHANTABILITY AND * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  = IN NO EVENT SHALL * METASTUFF, LTD. OR ITS CONTRIBUTORS BE LIABLE FOR = ANY DIRECT, * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL = DAMAGES * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE = GOODS OR * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS = INTERRUPTION) * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER = IN CONTRACT, * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR = OTHERWISE) * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF = ADVISED * OF THE POSSIBILITY OF SUCH DAMAGE. * * Copyright 2001 (C) = MetaStuff, Ltd. All Rights Reserved. * * $Id: XMLWriter.java,v 1.46 = 2002/02/14 11:55:46 jstrachan Exp $ */ --=20 Daniel S. Jacobs President, Model Objects Group Object-Orient Software Engineering Java &amp;amp; Web Application Development</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] How set Document Encoding w/o OutputFormatter cl
	ass???</header>
    <date>Thu Jun 20 07:32:00 CEST 2002</date>
    <body>Another way to solv this is to treat the &amp;lt;!xml element as a node with default behaivor (needs to be there) and restrictions (there can only = be one...) I know that it might be best suited in the output class but there is a = big implementation advantage to move it into the normal behaivor pattern. = (i.e. treat it as a node). /Cheers Christian OutputFormatter encoding http://mail.yahoo.com http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] How set Document Encoding w/o OutputFormatter class???</header>
    <date>Tue Jun 18 17:24:00 CEST 2002</date>
    <body>A beginner question- is there a way of setting the Document encoding without I would like a way to just say: ... This previous way always gives document with encoding of UTF-8- is there a way of setting the encoding without going through OutputFormat class (for performance reasons) and getting the String xml through method asXML()? Thanks, Jim</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How set Document Encoding w/o OutputFormatter class???</header>
    <date>Thu Jun 20 07:14:00 CEST 2002</date>
    <body>without Right now there isn't a way to do that. Maybe Document could have an optional encoding property that could be used by the asXML() to set the encoding? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] How set Document Encoding w/o OutputFormatter cl
	ass???</header>
    <date>Wed Jun 19 13:48:00 CEST 2002</date>
    <body>Mike, I was under the impression that asXML() would bypass the outputFormat class, but I guess it does not. So, the only way to set the encoding is through setting the encoding on the outputFormat class. Thanks for the clarification. Jim -----Original Message----- From: Mike Skells [mailto:mike.skells@...] Sent: Wednesday, June 19, 2002 5:18 AM To: Jim Otte; dom4j-user@... Subject: RE: [dom4j-user] How set Document Encoding w/o OutputFormatter class??? Hi Jim, What is your performance issue? Document.asXML does use an outputFormat anyway Mike Skells -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Jim Otte Sent: Tuesday 18 June 2002 18:28 To: 'dom4j-user@...' Subject: [dom4j-user] How set Document Encoding w/o OutputFormatter class??? A beginner question- is there a way of setting the Document encoding I would like a way to just say: ... This previous way always gives document with encoding of UTF-8- is there a way of setting the encoding without going through OutputFormat class (for performance reasons) and getting the String xml through method asXML()? Thanks, Jim ------------------------------------------------------------------------ ---- Bringing you mounds of caffeinated joy http://thinkgeek.com/sf _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] How set Document Encoding w/o OutputFormatter class???</header>
    <date>Wed Jun 19 09:25:00 CEST 2002</date>
    <body>Hi Jim, What is your performance issue? Document.asXML does use an outputFormat anyway Mike Skells -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Jim Otte Sent: Tuesday 18 June 2002 18:28 To: 'dom4j-user@...' Subject: [dom4j-user] How set Document Encoding w/o OutputFormatter class??? A beginner question- is there a way of setting the Document encoding I would like a way to just say: ... This previous way always gives document with encoding of UTF-8- is there a way of setting the encoding without going through OutputFormat class (for performance reasons) and getting the String xml through method asXML()? Thanks, Jim ------------------------------------------------------------------------ ---- Bringing you mounds of caffeinated joy http://thinkgeek.com/sf _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Converting dom4j to saxon tree</header>
    <date>Thu Jun 13 18:51:00 CEST 2002</date>
    <body>I need to convert a dom4J Document into a Saxon tree to pass to Saxon during a transform.  Does anyone have some example code?  Does anyone know how to do it?  Even sample code for converting from a dom4j Document to another tree structure would be fine (JDOM for example). Thanks!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Converting dom4j to saxon tree</header>
    <date>Fri Jun 14 09:13:00 CEST 2002</date>
    <body>MessageHow about using the JAXP API?=20 see the end of the quick start guide for more details... http://dom4j.org/guide.html James From: David Hooker=20 To: dom4j-dev@... ; dom4j-user@... = Sent: Thursday, June 13, 2002 7:49 PM Subject: [dom4j-user] Converting dom4j to saxon tree I need to convert a dom4J Document into a Saxon tree to pass to Saxon = during a transform.  Does anyone have some example code?  Does anyone = know how to do it?  Even sample code for converting from a dom4j = Document to another tree structure would be fine (JDOM for example). Thanks!</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Converting dom4j to saxon tree</header>
    <date>Fri Jun 14 20:55:00 CEST 2002</date>
    <body>Saxon will only accept trees that are implemented by it's own tree model.  It doesn't understand dom4j trees.  Saxon does have a JDOM adapter which will convert trees.  What I am attempting is this: writer.write(document);        // a dom4j Document ByteArrayInputStream inBytes = new TinyBuilder is a Saxon class which creates a Saxon tree model from a SAXSource.  So in effect, I have to flatten the Document to XML in a buffer, and stream that into the builder. I haven't tested it yet, though. -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of James Strachan Sent: Friday, June 14, 2002 4:11 AM dom4j-user@... Subject: Re: [dom4j-user] Converting dom4j to saxon tree How about using the JAXP API? see the end of the quick start guide for more details... http://dom4j.org/guide.html James From: David  &amp;lt;mailto:dhooker@...&amp;gt; Hooker To: dom4j-dev@... ; dom4j-user@... Sent: Thursday, June 13, 2002 7:49 PM Subject: [dom4j-user] Converting dom4j to saxon tree I need to convert a dom4J Document into a Saxon tree to pass to Saxon during a transform.  Does anyone have some example code?  Does anyone know how to do it?  Even sample code for converting from a dom4j Document to another tree structure would be fine (JDOM for example). Thanks!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Converting dom4j to saxon tree</header>
    <date>Tue Jun 18 18:59:00 CEST 2002</date>
    <body>MessageDavid and I have shared a few off-list emails. Just to clarify for those on the list, to convert from dom4j into Saxon's TinyTree you can use the following code which David has checked works... // dom4j document // now convert to Saxon tiny tree... James From: David Hooker dom4j-user@... Sent: Friday, June 14, 2002 9:53 PM Subject: RE: [dom4j-user] Converting dom4j to saxon tree Saxon will only accept trees that are implemented by it's own tree model. It doesn't understand dom4j trees.  Saxon does have a JDOM adapter which will convert trees.  What I am attempting is this: writer.write(document);        // a dom4j Document ByteArrayInputStream inBytes = new TinyBuilder is a Saxon class which creates a Saxon tree model from a SAXSource.  So in effect, I have to flatten the Document to XML in a buffer, and stream that into the builder. I haven't tested it yet, though. -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of James Strachan Sent: Friday, June 14, 2002 4:11 AM dom4j-user@... Subject: Re: [dom4j-user] Converting dom4j to saxon tree How about using the JAXP API? see the end of the quick start guide for more details... http://dom4j.org/guide.html James From: David Hooker To: dom4j-dev@... ; dom4j-user@... Sent: Thursday, June 13, 2002 7:49 PM Subject: [dom4j-user] Converting dom4j to saxon tree I need to convert a dom4J Document into a Saxon tree to pass to Saxon during a transform.  Does anyone have some example code?  Does anyone know how to do it?  Even sample code for converting from a dom4j Document to another tree structure would be fine (JDOM for example). Thanks! _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-dev] Re: [dom4j-user] Converting dom4j to saxon tree</header>
    <date>Tue Jun 18 19:13:00 CEST 2002</date>
    <body>Most Saxon interfaces accept just a Source, so unless you *need* the tree, just passing the SAXSource (i.e. a dom4j DocumentSource) into Saxon works as well, if not better. -----Original Message----- From: dom4j-dev-admin@... [mailto:dom4j-dev-admin@...] On Behalf Of James Strachan Sent: Tuesday, June 18, 2002 1:57 PM dom4j-user@... Subject: [dom4j-dev] Re: [dom4j-user] Converting dom4j to saxon tree MessageDavid and I have shared a few off-list emails. Just to clarify for those on the list, to convert from dom4j into Saxon's TinyTree you can use the following code which David has checked works... // dom4j document // now convert to Saxon tiny tree... James From: David Hooker dom4j-user@... Sent: Friday, June 14, 2002 9:53 PM Subject: RE: [dom4j-user] Converting dom4j to saxon tree Saxon will only accept trees that are implemented by it's own tree model. It doesn't understand dom4j trees.  Saxon does have a JDOM adapter which will convert trees.  What I am attempting is this: writer.write(document);        // a dom4j Document ByteArrayInputStream inBytes = new TinyBuilder is a Saxon class which creates a Saxon tree model from a SAXSource.  So in effect, I have to flatten the Document to XML in a buffer, and stream that into the builder. I haven't tested it yet, though. -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of James Strachan Sent: Friday, June 14, 2002 4:11 AM dom4j-user@... Subject: Re: [dom4j-user] Converting dom4j to saxon tree How about using the JAXP API? see the end of the quick start guide for more details... http://dom4j.org/guide.html James From: David Hooker To: dom4j-dev@... ; dom4j-user@... Sent: Thursday, June 13, 2002 7:49 PM Subject: [dom4j-user] Converting dom4j to saxon tree I need to convert a dom4J Document into a Saxon tree to pass to Saxon during a transform.  Does anyone have some example code?  Does anyone know how to do it?  Even sample code for converting from a dom4j Document to another tree structure would be fine (JDOM for example). Thanks! _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com ------------------------------------------------------------------------ ---- Bringing you mounds of caffeinated joy http://thinkgeek.com/sf _______________________________________________ dom4j-dev mailing list dom4j-dev@... https://lists.sourceforge.net/lists/listinfo/dom4j-dev</body>
  </mail>
  <mail>
    <header>[dom4j-user] question about : xpathselector.selectSingleNode(doc)</header>
    <date>Tue Jun 18 15:11:00 CEST 2002</date>
    <body />
  </mail>
  <mail>
    <header>Re: [dom4j-user] question about : xpathselector.selectSingleNode(doc)</header>
    <date>Tue Jun 18 15:36:00 CEST 2002</date>
    <body>question about : xpathselector.selectSingleNode(doc)You should check the = element thats returned form selectSingleNode() - maybe it cannot be = found and you're getting a NullPointerException. Without a sample program and XML document its hard to know what the = problem is.... James From: PAULUS Fran=E7ois FTRD/DMI/REN=20 To: dom4j-user@... Sent: Tuesday, June 18, 2002 3:48 PM Subject: [dom4j-user] question about : = xpathselector.selectSingleNode(doc) Hi,=20 I am new with dom4j...=20 All works well but I have a question about this point :=20 I select an Element from its xpath address :=20 The two parts of code are working :=20 Element richText_Element =3D=20 (Element) = xpoix_Element.selectSingleNode("richDesc[@type=3D'product']/richText");=20 richText_Element =3D richText_Element.addText(rt + ", station : " + = nb);=20 or :=20 DocumentFactory I_DocumentFactory =3D new DocumentFactory();=20 XPath xpath =3D = I_DocumentFactory.createXPath("richDesc[@type=3D'product']/richText");=20 Element richText_Element =3D (Element) = xpath.selectSingleNode(xpoix_Element);=20 richText_Element =3D richText_Element.addText(rt + ", station : " + = nb);=20 But when the element "richDesc[@type=3D'product']/richText" is not = present in the document,=20 the program crashes without Exception...=20 Is it normal or Is sth missing in my code ?=20 Thank you for your help,=20 Regards.=20 Fran=E7ois Paulus.=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] unpredictable NoClassDefFoundError</header>
    <date>Mon Jun 17 10:04:00 CEST 2002</date>
    <body>Hi, I'm using DOM4J v1.3 with JDK 1.4.0, Ant 1.5Beta2, Torque 3 beta 2 and Tomcat 4.0.3 and am trying to run a piece of code that has several similar functions that work like the one shown below. Have you suffered this error before, or can you work out what it is? //... payment_.setCardNumber(pd.valueOf("./@number // ... //.... I get an ant message from DOM4J like this: [java] Warning: Error occurred using JAXP to load a SAXParser. Will use Aelfred instead I get an exception thrown like this: java.lang.NoClassDefFoundError: sun/reflect/ConstructorAccessorImpl at sun.misc.Unsafe.defineClass(Native Method) at sun.reflect.ClassDefiner.defineClass(ClassDefiner.java:45) at sun.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:381) at java.security.AccessController.doPrivileged(Native Method) at sun.reflect.MethodAccessorGenerator.generate(MethodAccessorGenerator.java:377) at sun.reflect.MethodAccessorGenerator.generateConstructor(MethodAccessorGenerator.j at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorIm at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAc ava:27) at java.lang.reflect.Constructor.newInstance(Constructor.java:274) at java.lang.Class.newInstance0(Class.java:296) at java.lang.Class.newInstance(Class.java:249) at org.saxpath.helpers.XPathReaderFactory.createReader(XPathReaderFactory.java:122) at org.saxpath.helpers.XPathReaderFactory.createReader(XPathReaderFactory.java:78) at org.jaxen.JaXPath.&amp;lt;init&amp;gt;(JaXPath.java:24) at org.jaxen.BaseXPath.&amp;lt;init&amp;gt;(BaseXPath.java:15) at org.jaxen.dom4j.XPath.&amp;lt;init&amp;gt;(XPath.java:14) at org.dom4j.xpath.DefaultXPath.parse(DefaultXPath.java:313) at org.dom4j.xpath.DefaultXPath.&amp;lt;init&amp;gt;(DefaultXPath.java:63) at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:182) at org.dom4j.DocumentHelper.createXPath(DocumentHelper.java:109) at uk.co.cpp.db2.tools.CardCoverApplicationProcessor.createPaymentsEntry(CardCoverAp at uk.co.cpp.db2.tools.CardCoverApplicationProcessor.processApplication(CardCoverApp at uk.co.cpp.db2.tools.TestApplicationComposerAndProcessor.main(TestApplicationCompo at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java at java.lang.reflect.Method.invoke(Method.java:324) at org.apache.tools.ant.taskdefs.ExecuteJava.run(ExecuteJava.java) at org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.java) at org.apache.tools.ant.taskdefs.Java.run(Java.java) at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java) at org.apache.tools.ant.taskdefs.Java.execute(Java.java) at org.apache.tools.ant.Task.perform(Task.java) at org.apache.tools.ant.Target.execute(Target.java) at org.apache.tools.ant.Target.performTasks(Target.java) at org.apache.tools.ant.Project.executeTarget(Project.java) at org.apache.tools.ant.Project.executeTargets(Project.java) at org.apache.tools.ant.Main.runBuild(Main.java) at org.apache.tools.ant.Main.start(Main.java) at org.apache.tools.ant.Main.main(Main.java) java.lang.Exception: java.lang.NoClassDefFoundError: sun/reflect/ConstructorAccessorImpl The funny thing is that if I rearrange the order in which my (all very similar) methods are called, the error crops up in a different function. Can you spot an obvious error, or is there some kind of jar file version error going on? Why does the thing run OK for 5 of the functions then die on the sixth? Thanks in advance, Andrew Matthews --------------------------------- Relive the FIFA World Cup goals with exclusive video highlights! http://fifaworldcup.yahoo.com/fc/en</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] unpredictable NoClassDefFoundError</header>
    <date>Mon Jun 17 19:48:00 CEST 2002</date>
    <body>This does look kinda wierd and I'm quite stumped. Its a Sun class thats = generating the exception, which leads me to think its some kinda JDK = bug.=20 Maybe its time to upgrade your JDK1.4 version to a newer one without as = many bugs in it ;-). Or try moving back to a stable JDK1.3.x? James From: Andrew Matthews=20 To: dom4j-user@... Sent: Monday, June 17, 2002 11:04 AM Subject: [dom4j-user] unpredictable NoClassDefFoundError Hi, I'm using DOM4J v1.3 with JDK 1.4.0, Ant 1.5Beta2, Torque 3 beta 2 and = Tomcat 4.0.3 and am trying to run a piece of code that has several = similar functions that work like the one shown below. Have you suffered = this error before, or can you work out what it is? //... XPath xpathSelector =3D = payment_.setCardNumber(pd.valueOf("./@number // ... //.... I get an ant message from DOM4J like this: [java] Warning: Error occurred using JAXP to load a SAXParser. Will = use Aelfred instead I get an exception thrown like this: java.lang.NoClassDefFoundError: sun/reflect/ConstructorAccessorImpl at sun.misc.Unsafe.defineClass(Native Method) at sun.reflect.ClassDefiner.defineClass(ClassDefiner.java:45) at = sun.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:38= 1) at java.security.AccessController.doPrivileged(Native Method) at = sun.reflect.MethodAccessorGenerator.generate(MethodAccessorGenerator.java= :377) at = sun.reflect.MethodAccessorGenerator.generateConstructor(MethodAccessorGen= erator.j at = sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAc= cessorIm at = sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConst= ructorAc ava:27) at java.lang.reflect.Constructor.newInstance(Constructor.java:274) at java.lang.Class.newInstance0(Class.java:296) at java.lang.Class.newInstance(Class.java:249) at = org.saxpath.helpers.XPathReaderFactory.createReader(XPathReaderFactory.ja= va:122) at = org.saxpath.helpers.XPathReaderFactory.createReader(XPathReaderFactory.ja= va:78) at org.jaxen.JaXPath.&amp;lt;init&amp;gt;(JaXPath.java:24) at org.jaxen.BaseXPath.&amp;lt;init&amp;gt;(BaseXPath.java:15) at org.jaxen.dom4j.XPath.&amp;lt;init&amp;gt;(XPath.java:14) at org.dom4j.xpath.DefaultXPath.parse(DefaultXPath.java:313) at org.dom4j.xpath.DefaultXPath.&amp;lt;init&amp;gt;(DefaultXPath.java:63) at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:182) at org.dom4j.DocumentHelper.createXPath(DocumentHelper.java:109) at = uk.co.cpp.db2.tools.CardCoverApplicationProcessor.createPaymentsEntry(Car= dCoverAp at = uk.co.cpp.db2.tools.CardCoverApplicationProcessor.processApplication(Card= CoverApp at = uk.co.cpp.db2.tools.TestApplicationComposerAndProcessor.main(TestApplicat= ionCompo at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at = sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java= :39) at = sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorI= mpl.java at java.lang.reflect.Method.invoke(Method.java:324) at org.apache.tools.ant.taskdefs.ExecuteJava.run(ExecuteJava.java) at = org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.java) at org.apache.tools.ant.taskdefs.Java.run(Java.java) at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java) at org.apache.tools.ant.taskdefs.Java.execute(Java.java) at org.apache.tools.ant.Task.perform(Task.java) at org.apache.tools.ant.Target.execute(Target.java) at org.apache.tools.ant.Target.performTasks(Target.java) at org.apache.tools.ant.Project.executeTarget(Project.java) at org.apache.tools.ant.Project.executeTargets(Project.java) at org.apache.tools.ant.Main.runBuild(Main.java) at org.apache.tools.ant.Main.start(Main.java) at org.apache.tools.ant.Main.main(Main.java) java.lang.Exception: java.lang.NoClassDefFoundError: = sun/reflect/ConstructorAccessorImpl The funny thing is that if I rearrange the order in which my (all very = similar) methods are called, the error crops up in a different function. = Can you spot an obvious error, or is there some kind of jar file version = error going on? Why does the thing run OK for 5 of the functions then = die on the sixth? Thanks in advance, Andrew Matthews -------------------------------------------------------------------------= ----- Relive the FIFA World Cup goals with exclusive video highlights! http://fifaworldcup.yahoo.com/fc/en</body>
  </mail>
  <mail>
    <header>[dom4j-user] Document Updates</header>
    <date>Fri Jun 14 12:04:00 CEST 2002</date>
    <body>Dear All Apologies if this is trivial, I am new to XML I have created a large document with dom4j nice and easy. However I now need to dynamically provide updates made to the document elements. Is there a standard way to do this or do I have to manually keep track of the modifications. Can anyone point me in the right direction? TIA Andrew Rendle +44 (0) 117 962 8131 +44 (0) 7973 878 454 (m) +44 (0) 117 976 1743 (f) NOTICE: This email message is for the sole use of the intended recipient(s) and may contain confidential information. Any unauthorized review, use, disclosure or distribution is prohibited. If you are not the intended recipient, please contact the sender by reply email and delete all copies of the original message.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Document Updates</header>
    <date>Fri Jun 14 17:45:00 CEST 2002</date>
    <body>You can just go ahead and modify the document. A Branch (Document or = Element) has methods to add new content... as well as to return an 'active' List of the nodes, so you can use the = List API from Java 2 Collections to modify the contents of a Document or = Element etc. You might find these documents useful... http://dom4j.org/guide.html http://dom4j.org/apidocs/index.html http://dom4j.org/cookbook/cookbook.html James From: Andrew Rendle=20 To: dom4j-user@... Sent: Friday, June 14, 2002 1:03 PM Subject: [dom4j-user] Document Updates Dear All =20 Apologies if this is trivial, I am new to XML =20 I have created a large document with dom4j nice and easy. =20 However I now need to dynamically provide updates made to the document = elements. Is there a standard way to do this or do I have to manually = keep track of the modifications. =20 Can anyone point me in the right direction? =20 TIA =20 Andrew Rendle =20 +44 (0) 117 962 8131 +44 (0) 7973 878 454 (m) +44 (0) 117 976 1743 (f) =20 NOTICE: This email message is for the sole use of the intended = recipient(s) and may contain confidential information. Any unauthorized = review, use, disclosure or distribution is prohibited. If you are not = the intended recipient, please contact the sender by reply email and = delete all copies of the original message. =20 =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAXWriter</header>
    <date>Fri Jun 14 09:59:00 CEST 2002</date>
    <body>I am looking for examples of using dom4j.io.SAXWriter. How do I use to write additional elements to the input source while doing the SAX parsing? --st.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Need help on using Stylesheets, Rules and Actions...</header>
    <date>Thu Jun 13 20:10:00 CEST 2002</date>
    <body>Hello, I've been experimenting with the org.dom4j.rule.* package and was wondering if there were plans to add support for named template rules and adding a callTemplate(String name) method to the Stylesheet class? Currently I extend Rule and Stylesheet to add this behavior, but if others could see a use for it, then I could work on a patch for Rule and Stylesheet. Also, I think the Action interface is somewhat deficient in that it has no way to get a reference to the associated Stylesheet. Actions might need their Stylsheet so that they can call applyTemplates(...). This is equiv. to the following xsl: would become the following Rule/Action: Or am I missing something about how to implement an Action? Regards, --mike</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Need help on using Stylesheets, Rules and Actions...</header>
    <date>Fri Jun 14 09:17:00 CEST 2002</date>
    <body>Hi Michael That'd be great! Actually I spotted this missing feature recently when implementing 'Jelly Stylesheet Language', JSL... http://jakarta.apache.org/commons/sandbox/jelly/ Agreed. Though an Action might need all kinds of extra information. You can always implement your own Action class that has whatever properties you wish. Also you can use anonymous inner classes... Would that do? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] AbstractMethodError</header>
    <date>Tue Jun 11 13:19:00 CEST 2002</date>
    <body>Dear Users, I am getting the following stack trace: ce function (uri=3D/servlet/com.inssites.auto.AutoSetup): = java.lang.AbstractMethodError, stack: ava.lang.AbstractMethodError at org.dom4j.io.DOMReader.readElement(DOMReader.java:181) at org.dom4j.io.DOMReader.readTree(DOMReader.java:106) at org.dom4j.io.DOMReader.read(DOMReader.java:88) at com.inssites.auto.XmlSessionMapper.getDriverNode(Unknown = Source) at com.inssites.auto.XmlSessionMapper.mapXmlToSession(Unknown = Source) at com.inssites.auto.AutoSetup.performTask(Unknown Source) at com.inssites.auto.AutoSetup.doGet(Unknown Source) at javax.servlet.http.HttpServlet.service(HttpServlet.java:740) at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) at = com.netscape.server.http.servlet.NSServletRunner.Service(NSServletRunner.= java:507) , root cause: I am using dom4j 1.3.  Does anyone know any news about this?  I searched = the past user messages and only turned up some discussion in 2001 about how = this may get fixed in the "future"?  Haven't found anything else on it. Any info pointing me on where to look will be appreciated.  Thanks! Jason Stortz Quotesmith.com, Inc. 8205 South Cass Avenue Darien, IL 60561 Phone (630)515-0170, ext 297 Fax   (630)515-0270 E-mail:  jstortz@... Website: http://www.quotesmith.com P.S.  We've just added some brand new life insurance plans at = http://www.quotesmith.com that you can buy online - without any medical exams, = long forms or mail delays.  What's more, these plans offer guaranteed = rates and are all backed by A+ rated companies.  Please visit us today = at http://www.quotesmith.com and tell me what you think. =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] AbstractMethodError</header>
    <date>Tue Jun 11 13:34:00 CEST 2002</date>
    <body>This looks like a classpath issue. You're using the DOMReader to read from a W3C DOM implementation. Could it be you've got an old DOM level 1 implementation on the classpath which doesn't implement level 2 DOM? dom4j only works with level 2 or later DOM implementations (i.e. ones that can handle namespaces). James Sent: Tuesday, June 11, 2002 2:19 PM Subject: [dom4j-user] AbstractMethodError Dear Users, I am getting the following stack trace: ce function (uri=/servlet/com.inssites.auto.AutoSetup): java.lang.AbstractMethodError, stack: ava.lang.AbstractMethodError at org.dom4j.io.DOMReader.readElement(DOMReader.java:181) at org.dom4j.io.DOMReader.readTree(DOMReader.java:106) at org.dom4j.io.DOMReader.read(DOMReader.java:88) at com.inssites.auto.XmlSessionMapper.getDriverNode(Unknown Source) at com.inssites.auto.XmlSessionMapper.mapXmlToSession(Unknown Source) at com.inssites.auto.AutoSetup.performTask(Unknown Source) at com.inssites.auto.AutoSetup.doGet(Unknown Source) at javax.servlet.http.HttpServlet.service(HttpServlet.java:740) at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) at com.netscape.server.http.servlet.NSServletRunner.Service(NSServletRunner.jav a:507) , root cause: I am using dom4j 1.3.  Does anyone know any news about this?  I searched the past user messages and only turned up some discussion in 2001 about how this may get fixed in the "future"?  Haven't found anything else on it. Any info pointing me on where to look will be appreciated.  Thanks! Jason Stortz Quotesmith.com, Inc. 8205 South Cass Avenue Darien, IL 60561 Phone (630)515-0170, ext 297 Fax   (630)515-0270 E-mail:  jstortz@... Website: http://www.quotesmith.com P.S.  We've just added some brand new life insurance plans at http://www.quotesmith.com that you can buy online - without any medical exams, long forms or mail delays.  What's more, these plans offer guaranteed rates and are all backed by A+ rated companies.  Please visit us today at http://www.quotesmith.com and tell me what you think. _______________________________________________________________ Don't miss the 2002 Sprint PCS Application Developer's Conference August 25-28 in Las Vegas - http://devcon.sprintpcs.com/adp/index.cfm?source=dntextlink _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Still have that strange exception</header>
    <date>Mon Jun 10 19:29:00 CEST 2002</date>
    <body>This is using Dom4j 1.3.  Sometimes when I run my app, I get the following exception: javax.xml.transform.TransformerConfigurationException: org.xml.sax.SAXException: Invalid Node in DOM4J content: [org.dom4j.tree.DefaultText@... [Text: "[/PERFTEST/atr1]"]] There is nothing wrong with my xslt or xml files... the application works fine until I turn the log level down to where it runs faster... which leads me to suspect threading isues such as a race condition somewhere.  My question for the list is - how could a race condition in my code cause dom4j to barf like this?  I thought bad pointers and memory corruption were a thing of the past with Java. I'm not blaming dom4j - I'm sure the problem is in my code somewhere - I just wonder if anyone who has more insight into the dom4j code could lend me a clue as to how this error could happen?  That would give me a better starting place to go hunting.  Thanks!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Still have that strange exception</header>
    <date>Tue Jun 11 13:32:00 CEST 2002</date>
    <body>MessageCould it be that your XSLT is generated textual output thats not = inside a root element? e.g. this XSLT document would create that error this is some text which should be in a root element If you output the result of your XSLT as text, is it valid XML? James From: David Hooker=20 To: dom4j-user@... Cc: dom4j-dev@... Sent: Monday, June 10, 2002 8:27 PM Subject: [dom4j-user] Still have that strange exception This is using Dom4j 1.3.  Sometimes when I run my app, I get the = following exception: javax.xml.transform.TransformerConfigurationException: = org.xml.sax.SAXException: Invalid Node in DOM4J content: = [org.dom4j.tree.DefaultText@... [Text: "[/PERFTEST/atr1]"]] There is nothing wrong with my xslt or xml files... the application = works fine until I turn the log level down to where it runs faster... = which leads me to suspect threading isues such as a race condition = somewhere.  My question for the list is - how could a race condition in = my code cause dom4j to barf like this?  I thought bad pointers and = memory corruption were a thing of the past with Java. I'm not blaming dom4j - I'm sure the problem is in my code somewhere - = I just wonder if anyone who has more insight into the dom4j code could = lend me a clue as to how this error could happen?  That would give me a = better starting place to go hunting.  Thanks!</body>
  </mail>
  <mail>
    <header>[dom4j-user] selecting a parser</header>
    <date>Thu Jun 06 15:54:00 CEST 2002</date>
    <body />
  </mail>
  <mail>
    <header>[dom4j-user] Renaming an Element</header>
    <date>Thu Jun 06 11:18:00 CEST 2002</date>
    <body>Dear All I have a large hierarchy of Elements and I need to change the name of an element near the top of the tree. Can anyone suggest the best way of doing this? I am unable to re create the descendant elements so is it a case of copying the tree below and attaching it to the new Elementsounds very processing intensive. Any help gratefully received Thanks Andrew Rendle +44 (0) 117 962 8131 +44 (0) 7973 878 454 (m) +44 (0) 117 976 1743 (f) NOTICE: This email message is for the sole use of the intended recipient(s) and may contain confidential information. Any unauthorized review, use, disclosure or distribution is prohibited. If you are not the intended recipient, please contact the sender by reply email and delete all copies of the original message.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Renaming an Element</header>
    <date>Thu Jun 06 11:31:00 CEST 2002</date>
    <body>How about using Element.setName()? James From: Andrew Rendle=20 To: dom4j-user@... Sent: Thursday, June 06, 2002 12:18 PM Subject: [dom4j-user] Renaming an Element Dear All =20 I have a large hierarchy of Elements and I need to change the name of = an element near the top of the tree. =20 Can anyone suggest the best way of doing this? =20 I am unable to re create the descendant elements so is it a case of = copying the tree below and attaching it to the new Element.sounds very = processing intensive. =20 Any help gratefully received =20 Thanks =20 Andrew Rendle =20 +44 (0) 117 962 8131 +44 (0) 7973 878 454 (m) +44 (0) 117 976 1743 (f) =20 NOTICE: This email message is for the sole use of the intended = recipient(s) and may contain confidential information. Any unauthorized = review, use, disclosure or distribution is prohibited. If you are not = the intended recipient, please contact the sender by reply email and = delete all copies of the original message. =20 =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] insert element in an existing XML document</header>
    <date>Wed Jun 05 22:41:00 CEST 2002</date>
    <body>I need to insert an element in an exisiting xml doc --- (need to insert another child here) I tried to take some help from this list regarding the same question.. but I was not succesfull in updating the XML document..can anyone suggest me a sample code... thanks..Jason.. _________________________________________________________________ Chat with friends online, try MSN Messenger: http://messenger.msn.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] insert element in an existing XML document</header>
    <date>Thu Jun 06 06:13:00 CEST 2002</date>
    <body>On Wed, Jun 05, 2002 at 09:27:49PM +0000, Jason Lee wrote: The attached source creates a child of the root element, and mutates some first-level children.  I also attached an XML file that matches my code. Hope this helps! -- http://mparaz.com &amp;gt;	Mobile: +63-916-423-7922 Imperium Technology, Inc.  &amp;lt;map@...&amp;gt;	Office: +63-2-812-3155</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] insert element in an existing XML document</header>
    <date>Thu Jun 06 07:28:00 CEST 2002</date>
    <body>Sent: Wednesday, June 05, 2002 10:27 PM Subject: [dom4j-user] insert element in an existing XML document me James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] given a Node, can i get its original position in
	formation?</header>
    <date>Wed Jun 05 07:22:00 CEST 2002</date>
    <body>Hi As far as I know (about 4 month since I gave up JDom) they don't = support it. Here is the last mail in the thread about line numbering ... look in = the mail archive for more info. ************* Hi Nicholas This sounds great. Fancy submitting it then we can add this to the = dom4j distribution? James Sent: Wednesday, May 08, 2002 10:50 PM Subject: [dom4j-user] re Collecting line numbers pretty much a then because in the cast the locator. getData depending supply bandwidth@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com _______________________________________________________________ Have big pipes? SourceForge.net is looking for download mirrors. We = supply the hardware. You get the recognition. Email Us: = bandwidth@... _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user ************* position the that http://devcon.sprintpcs.com/adp/index.cfm https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Adding CDATA</header>
    <date>Tue Jun 04 19:40:00 CEST 2002</date>
    <body>I'm creating a document, using logic like this: Now I want to add a third element, but it will be a mixture of text and = tags, such as "element3 &amp;lt;b&amp;gt;excellent&amp;lt;/b&amp;gt; text".  I believe this should = be treated as CDATA rather than text, but I'm not sure how to add it and = would appreciate a bit of advice on this. Regards, Terry</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding CDATA</header>
    <date>Tue Jun 04 20:01:00 CEST 2002</date>
    <body>I guess I was a bit slow - but it finally came to me. Added the = following: CDATA stuff =3D DocumentHelper.createCDATA("element3 &amp;lt;b&amp;gt;excellent&amp;lt;/b&amp;gt; = Works fine. Regards, Terry=20 From: Terry Steichen=20 To: dom4j-user=20 Sent: Tuesday, June 04, 2002 3:35 PM Subject: [dom4j-user] Adding CDATA I'm creating a document, using logic like this: Now I want to add a third element, but it will be a mixture of text = and tags, such as "element3 &amp;lt;b&amp;gt;excellent&amp;lt;/b&amp;gt; text".  I believe this = should be treated as CDATA rather than text, but I'm not sure how to add = it and would appreciate a bit of advice on this. Regards, Terry</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding CDATA</header>
    <date>Wed Jun 05 07:17:00 CEST 2002</date>
    <body>Or even James From: Terry Steichen=20 To: dom4j-user=20 Sent: Tuesday, June 04, 2002 8:57 PM Subject: Re: [dom4j-user] Adding CDATA I guess I was a bit slow - but it finally came to me. Added the = following: CDATA stuff =3D DocumentHelper.createCDATA("element3 &amp;lt;b&amp;gt;excellent&amp;lt;/b&amp;gt; = Works fine. Regards, Terry=20 From: Terry Steichen=20 To: dom4j-user=20 Sent: Tuesday, June 04, 2002 3:35 PM Subject: [dom4j-user] Adding CDATA I'm creating a document, using logic like this: Element em1 =3D root.addElement("element1").addText("element1 = Element em2 =3D root.addElement("element2").addText("element2 = Now I want to add a third element, but it will be a mixture of text = and tags, such as "element3 &amp;lt;b&amp;gt;excellent&amp;lt;/b&amp;gt; text".  I believe this = should be treated as CDATA rather than text, but I'm not sure how to add = it and would appreciate a bit of advice on this. Regards, Terry</body>
  </mail>
  <mail>
    <header>[dom4j-user] given a Node, can i get its original position information?</header>
    <date>Mon Jun 03 23:13:00 CEST 2002</date>
    <body>tsia, more or less. given a dom4j Node in a Document i've parsed from somewhere (from JTidy DOM or nekoHTML SAX, specifically), is it possible to get the position information (character offset, line/column number) for the Node's boundaries in the original source? - donald</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] given a Node, can i get its original position information?</header>
    <date>Tue Jun 04 17:40:00 CEST 2002</date>
    <body>Right now no. Someone was looking at implementing something like this; maybe using the UserDataDocumentFactory to create UserDataElement instances which could have some location information associated with each element. By deriving from SAXReader it should be possible to do this. James Sent: Tuesday, June 04, 2002 12:10 AM Subject: [dom4j-user] given a Node, can i get its original position information? http://devcon.sprintpcs.com/adp/index.cfm https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] given a Node, can i get its original position
	information?</header>
    <date>Tue Jun 04 22:49:00 CEST 2002</date>
    <body>On Tue, 2002-06-04 at 13:38, James Strachan wrote: do you happen to remember who or have a link to or search term for the earlier discussion? it would seem using the UserData stuff wouldn't fully address the situation since one may well want to know location information for text nodes and maybe even comments for the purpose of spell checking and the like. the UserData stuff seems to be limited to attributes and elements? might it instead be appropriate to add an api to Node for getting that information, provide a default -1 implementation, and to provide a method for SAXReader (and SAXContentHandler?) for turning it on if desired? i understand that most dom4j users don't care about position information, but for those that do, this would be _much_ easier than having to deal with sax input manually. and isn't that the point of dom4j anyway, to provide a sane, useful api for working with xml in java? :) is anyone else interested and able to work on this in the nearish future? finally, just to check - does anyone know if jdom supports this functionality? - donald</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentHelper.parseText(sXml) removing CR character</header>
    <date>Mon Jun 03 21:36:00 CEST 2002</date>
    <body>I noticed that when I call DocumentHelper.parseText(sXml) with a xml string that contains a CDATA element which contains the CR and LF characters, the CR character is removed when run on a Linux machine.  I am receiving the xml string from a windows client on a linux server, parsing the string into a Dom4J document, and will eventually return some of the CDATA string values back to the windows client.  Anyone know I can configure the dom parser so that it will not strip these extra control characters? Thanks. -Tom</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentHelper.parseText(sXml) removing CR character</header>
    <date>Tue Jun 04 19:41:00 CEST 2002</date>
    <body>I noticed that when I call DocumentHelper.parseText(sXml) with a xml string that contains a CDATA element which contains the CR and LF characters, the CR character is removed when run on a Linux machine.  I am receiving the xml string from a windows client on a linux server, parsing the string into a Dom4J document, and will eventually return some of the CDATA string values back to the windows client.  Anyone know I can configure the dom parser so that it will not strip these extra control characters? Thanks. -Tom</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j packages not found by compiler</header>
    <date>Tue Jun 04 12:55:00 CEST 2002</date>
    <body>Hello, I was trying to use dom4j API in my existing code, but when I tried to compile my class which imports 1) org.dom4j.Document 2) org.dom4j.io.DOMReader 3) org.dom4j.io.XMLWriter The compiler can't locate these packages.  I had included c:\dom4j-1.3\dom4j-pathched-1.3\dom4j-full.jar in my classpath. Would someone please advise me what I'm missing? thanks __________________________________________________ Do You Yahoo!? Yahoo! - Official partner of 2002 FIFA World Cup http://fifaworldcup.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j packages not found by compiler</header>
    <date>Tue Jun 04 17:39:00 CEST 2002</date>
    <body>It sounds like you've made a typeo and you're not really finding the dom4j-full.jar at all as these are core interfaces/classes. e.g. did you mean dom4j-patched rather than dom4j-pathched? James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Processinstructions placement bug?</header>
    <date>Mon Jun 03 14:27:00 CEST 2002</date>
    <body>Hi! I might be off because I don't know the XML standard good enogh but if I add a processinstruction to the document I would imagine that it should be placed between the &amp;lt;xml tag and the root element. I can't find any specifics about this in the standard, but all example document I have and my reference book always place it there. Is this a bug or ?? Cheers Christian</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Processinstructions placement bug?</header>
    <date>Tue Jun 04 17:35:00 CEST 2002</date>
    <body>A processing instruction can be anywhere in a document. e.g. this document is valid... Hello he &amp;lt;?middle value='something'?&amp;gt; said. http://dom4j.org"&amp;gt;The More text! James Sent: Monday, June 03, 2002 3:27 PM Subject: [dom4j-user] Processinstructions placement bug? add http://devcon.sprintpcs.com/adp/index.cfm https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Sorting selectNodes() results</header>
    <date>Sat Jun 01 21:56:00 CEST 2002</date>
    <body>Could anyone explain how you are supposed to use selectNodes(Xpath1, = Xpath2) such that Xpath2 results in a sorted node list? TIA and regards, Terry</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Sorting selectNodes() results</header>
    <date>Sun Jun 02 04:10:00 CEST 2002</date>
    <body>On Sat, 1 Jun 2002, Terry Steichen wrote: I'm just guessing, as I've never useed it, but here's what I divine from the javadocs... xpath1 is used to select the set of nodes to be sorted.  It's the normal 'xpath' paramter as in the simpler selectNodes(String xpath) method. The xpath2 parameter then, is used to select the key that's used to perform the sorting, which I assume in only natural order of strings.  (James? Does is handle numeric types, or anything?). So, given: And, given an Element representing the &amp;lt;doc&amp;gt; element, this docElem.selectNodes( "a", "@name" ) would produce a list of &amp;lt;a&amp;gt; elements sorted by the value of the 'name' attribute, producing: Hope that helps.  Heck, I hope it's an even marginally correct explanation. -bob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Sorting selectNodes() results</header>
    <date>Sun Jun 02 05:20:00 CEST 2002</date>
    <body>Hey Bob Yes that sounds like a correct explanation to me. I think numeric types will be supported too, though maybe the expression needs to be wrapped in a number() function call. docElem.selectNodes( "a", "number(@price)" ) Though I've never tested the above ;-) James Sent: Sunday, June 02, 2002 5:09 AM Subject: Re: [dom4j-user] Sorting selectNodes() results http://devcon.sprintpcs.com/adp/index.cfm https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Sorting selectNodes() results</header>
    <date>Sun Jun 02 16:09:00 CEST 2002</date>
    <body>Hi Terry I out assume This is a current limitation of Jaxen; I think Jaxen is navigating the document in bredth, rather than depth first leading to this issue. Hopefully we'll be able to fix this soon. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] XMLTableModel not Serializable</header>
    <date>Mon Jul 29 15:00:00 CEST 2002</date>
    <body>If I create an XMLTableModel and invoke getRowCount the following exception is generated when I try to serialize the XMLTableModel. java.io.NotSerializableException: org.dom4j.xpath.DefaultNamespaceContext at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1054) for example: Am I correct assuming this is a bug in DefaultXPath or DefaultNamespaceContext? thanks, bert</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XMLTableModel not Serializable</header>
    <date>Mon Jul 29 15:08:00 CEST 2002</date>
    <body>Hi Bert I think this is a bug in DefaultNamespaceContext. I've patched the code in CVS which should fix this issue. James Sent: Monday, July 29, 2002 1:09 PM Subject: [dom4j-user] XMLTableModel not Serializable http://seeker.dice.com/seeker.epl?rel_code=31 https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Encoding Blues - SOLVED!</header>
    <date>Sat Jul 20 21:43:00 CEST 2002</date>
    <body>Thanks for all the advice from Mike, Dan, James, etc. Turns out that the solution was to apply Dan Jacobs' patch to XMLWriter = - submitted to the list on 6/20/02.  The official version of XMLWriter = does not handle characters outside the normal range - Dan's version = does.  (A special thanks to Dan Jacobs.) I would have tried it sooner, but I incorrectly assumed Dan's patch had = been included in the latest release.  Hope this patch gets incorporated = into the next release - it's sorely needed. Regards, Terry PS: Of course, that I've (finally!!) tracked down this problem, my = "reward" is that I now have to rebuild my database of about 11,000 xml = documents.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Encoding Blues - SOLVED!</header>
    <date>Mon Jul 29 10:23:00 CEST 2002</date>
    <body>Dan's patch has been applied in CVS. You can download a current build of = dom4j here:- Also if anyone wants a pre-release build of dom4j with the patch applied = you can download it from here:- http://jakarta.apache.org/turbine/jars2/dom4j/jars/ the latest build is dom4j-1.4-dev-6.jar I'll hopefully get the 1.4 release build working ASAP (am still porting = the build system to Maven). James From: Terry Steichen=20 To: dom4j-user=20 Sent: Saturday, July 20, 2002 10:39 PM Subject: [dom4j-user] Encoding Blues - SOLVED! Thanks for all the advice from Mike, Dan, James, etc. Turns out that the solution was to apply Dan Jacobs' patch to = XMLWriter - submitted to the list on 6/20/02.  The official version of = XMLWriter does not handle characters outside the normal range - Dan's = version does.  (A special thanks to Dan Jacobs.) I would have tried it sooner, but I incorrectly assumed Dan's patch = had been included in the latest release.  Hope this patch gets = incorporated into the next release - it's sorely needed. Regards, Terry PS: Of course, that I've (finally!!) tracked down this problem, my = "reward" is that I now have to rebuild my database of about 11,000 xml = documents.</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOM4J Parsing Exception when XML file &amp;gt; 2k on VMS</header>
    <date>Tue Jul 23 18:52:00 CEST 2002</date>
    <body>Hi, We are using DOM4J for parsing XML data which we receive from other = systems. We have been developing our code on Windows and are trying to deploy and = test now on the target VMS environment. Our system takes data from Maxcim via XML files and we use this data to = update an RDB  database within our system. The code appears to work without any issues on Windows. The version of Java on Windows is java -version java version "1.3.1_03" Java(TM) 2 Runtime Environment, Standard Edition (build 1.3.1_03-b03) Java HotSpot(TM) Client VM (build 1.3.1_03-b03, mixed mode) The issue that we have come up with on VMS is as follows ERROR - Caught DocumentExceptionError on line 91 of document  : required = string (expected "Date") Nested exception: required string (expected "Date") org.dom4j.DocumentException: Error on line 91 of document  : required = string (ex pected "Date") Nested exception: required string (expected "Date") at org.dom4j.io.SAXReader.read(SAXReader.java, Compiled Code) at org.dom4j.io.SAXReader.read(SAXReader.java, Compiled Code) at TstDom4j.main(TstDom4j.java, Compiled Code) Nested exception: org.xml.sax.SAXParseException: required string = (expected "Date ") at org.dom4j.io.aelfred.SAXDriver.error(SAXDriver.java, Compiled = Code) at org.dom4j.io.aelfred.XmlParser.error(XmlParser.java, Compiled = Code) at org.dom4j.io.aelfred.XmlParser.require(XmlParser.java, = Compiled Code) at org.dom4j.io.aelfred.XmlParser.parseETag(XmlParser.java, = Compiled Code) at org.dom4j.io.aelfred.XmlParser.parseContent(XmlParser.java, = Compiled Code) at org.dom4j.io.aelfred.XmlParser.parseElement(XmlParser.java, = Compiled Code) at org.dom4j.io.aelfred.XmlParser.parseContent(XmlParser.java, = Compiled Code) at org.dom4j.io.aelfred.XmlParser.parseElement(XmlParser.java, = Compiled Code) at org.dom4j.io.aelfred.XmlParser.parseContent(XmlParser.java, = Compiled Code) at org.dom4j.io.aelfred.XmlParser.parseElement(XmlParser.java, = Compiled Code) at org.dom4j.io.aelfred.XmlParser.parseDocument(XmlParser.java, = Compiled Code) at org.dom4j.io.aelfred.XmlParser.doParse(XmlParser.java, = Compiled Code) at org.dom4j.io.aelfred.SAXDriver.parse(SAXDriver.java, Compiled = Code) at org.dom4j.io.SAXReader.read(SAXReader.java, Compiled Code) at org.dom4j.io.SAXReader.read(SAXReader.java, Compiled Code) at TstDom4j.main(TstDom4j.java, Compiled Code) This program is only parsing XML files - nothing else !. We have implemented the technique for processing large XML files as per = the FAQ on the DOM4J site but this has made no difference. Basically the code fails as illustrated on VMS once the XML file is = larger then 4 blocks i.e. 2K. The version of Java on the VMS system is $ java -version java version "1.3.1" Java(TM) 2 Runtime Environment, Standard Edition Classic VM (build 1.3.1-3, 03/29/2002-10:47, native threads, jit) The VMS system details are $ ucx sho ver Compaq TCP/IP Services for OpenVMS Alpha Version V5.3 on a AlphaServer 4000 5/400 4MB running OpenVMS V7.2-2 I can mail the code and XML to anybody who may need it to follow up on = this issue. Any suggestions or assistance would be appreciated. Thanks &amp;amp; Regards, -Gerry.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Encoding Blues</header>
    <date>Fri Jul 19 20:39:00 CEST 2002</date>
    <body>Hi, I've got a small Java test routine, as follows: I pass to this routine the following XML file as arg[0]: where xx is actually two embedded hex 96 characters (I can't put them in literally because the e-mail strips them out). What I get out (in a new file specified by arg[1]) is a copy of the input file with the xx characters replaced with ??.  What I want is to have these xx characters displayed as they do in a browser, in the form of a couple of dashes. How do I do that? Regards, Terry</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Encoding Blues</header>
    <date>Sat Jul 20 21:10:00 CEST 2002</date>
    <body>Terry, I think that the problem is the use of the FileWriter class, as the encoding is set to the 'platform default' This way the FileOutputStream can be configured appropriately See notes in FileWriter javadoc Convenience class for writing character files. The constructors of this class assume that the default character encoding and the default byte-buffer size are acceptable. To specify these values yourself, construct an OutputStreamWriter on a FileOutputStream. I guess that there should be a health warning in the javadoc, as there is no alignment check for a writer to ensure that the mapping will work. Anyway -  Try this XMLWriter xw = new XMLWriter(new http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] SchemaParser Class</header>
    <date>Fri Jul 19 12:55:00 CEST 2002</date>
    <body>Hi, how can I work with this Class? Looks like all the methods are protected? Is it possible to get all the qNames in the order they appear in the xsd schema file? On that way i could build sort of a tree... record book titles main title ... Regards -- Bram</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SchemaParser Class</header>
    <date>Fri Jul 19 13:22:00 CEST 2002</date>
    <body>The SchemaParser isn't meant to be used as an API to represent schema information. An XML schema document is XML so you can just use XPath to find things like this. It might be a bit heavy going but also the MSV library from Sun has an abstract API for accessing schemas; though due to the complexity of the schema languages it supports (XML Schema, RelaxNG, DTDs etc) you might find it heavy going. It might be easier just to process the schema XML via XPath and your own java code. James __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.comm</body>
  </mail>
  <mail>
    <header>[dom4j-user] A quick question</header>
    <date>Tue Jul 16 20:38:00 CEST 2002</date>
    <body>I have a lot of this: // dunno... //throw new ProcessException(2102,"Policy not found. Is there a better way to do this?  I don't want to use Xpath all the time (as it is expensive), but was wondering if others had come up with a better way of doing this that does not involve the big if statement. Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, ITS, AEGON Financial Partners</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] A quick question</header>
    <date>Wed Jul 17 05:18:00 CEST 2002</date>
    <body>ElementHandler! Register some handlers to your elements, and just deal with the subtrees as they flow in. You can detach as you go.  So, you actually are processing the doc as it's read, pretty much, plus you're given the ability, if you app can process sequentially, of releasing the subtrees when you're done with them, freeing memory. -bob On Tue, 16 Jul 2002, Brain, Jim wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] A quick question</header>
    <date>Fri Jul 19 12:03:00 CEST 2002</date>
    <body>Another way to handle this kind of problem is either just to have your own Map of Action objects and you could look up the right Action object based on the element name. Or you could try using the org.dom4j.rule package which allows you to attach arbitrary processing to a document then use declarative XSLT style matching to invoke custom Actions on a kind of node. e.g. // lets define a stylesheet... rule.setPattern( DocumentHelper.createPattern( "foo" ) rule.setAction( ... do something rule.setPattern( DocumentHelper.createPattern( "bar[@x='123']" ) rule.setAction( ... do something then when you have a node or document you can evaluate the stylesheet via... The advantage of using the above is you can declaratively walk a document or document fragment, in the same way XSLT does, processing each node in a well defined way, using XSLT pattern matching James Sent: Tuesday, July 16, 2002 9:37 PM Subject: [dom4j-user] A quick question found. better http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.comm</body>
  </mail>
  <mail>
    <header>[dom4j-user] Sequence in an XML-document</header>
    <date>Fri Jul 19 09:23:00 CEST 2002</date>
    <body>Hi, is it possible with DOM4j to make/build an XML file from scratch if there is a sequence according to the Schema? Can I insert a tag &amp;lt;location&amp;gt; for example after i added &amp;lt;edition&amp;gt;? How do I know if it will be inserted on the right position? Because if it's not on the good position i will get a sequence error. http://www.w3.org/2001/XMLSchema " Can you add elements and let dom4j take care of the good position (with the schema)?? Regards -- Bram</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Sequence in an XML-document</header>
    <date>Fri Jul 19 09:33:00 CEST 2002</date>
    <body>There is no facility right now to handle this kind of thing. I guess you could always write your schema so that order is not important ;-) James Sent: Friday, July 19, 2002 10:15 AM Subject: [dom4j-user] Sequence in an XML-document is I http://www.w3.org/2001/XMLSchema " the http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.comm</body>
  </mail>
  <mail>
    <header>[dom4j-user] Reading XML without proper end-tags</header>
    <date>Mon Jul 15 19:41:00 CEST 2002</date>
    <body>I'd like to use Dom4j and I have to read some XML request messages that are not fully XML conforming. In particular, some of the elements do not have end-tags.  As expected, Dom4j complains, with a messge such as: The element type "APPVER" must be terminated by the matching end-tag "&amp;lt;/APPVER&amp;gt;". Nested exception: The element type "APPVER" must be terminated by the matching end-tag "&amp;lt;/APPVER&amp;gt;". What can I do, to get dom4j or the xml parser to ignore this problem and "imply" the end-tags?  Note that some of the XML tags are closed... If they contain only text data, then they are NOT closed, but if they contain other XML tags, then they are closed. As an example, see this XML block: generated elsewhere, so it is not possible for me to change those. Any suggestions would be appreciated. Thanks, Marc</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Reading XML without proper end-tags</header>
    <date>Mon Jul 15 19:50:00 CEST 2002</date>
    <body>On Mon, 2002-07-15 at 15:39, Limotte, Marc [IT] wrote: then it's not xml. it's a structured markup language that resembles xml, it may even be sgml, but it's not xml. i think you would have to write your own parser, honestly. you might find inspiration from andy clark's nekohtml parser, which can convert most html into xml. see http://www.apache.org/~andyc/ . or you might manually massage your data into xml and then parse it. - donald</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Reading XML without proper end-tags</header>
    <date>Tue Jul 16 09:25:00 CEST 2002</date>
    <body>are they other http://www.apache.org/~andyc/ . or you might Agreed. In fact I think Andy's NeckoHTML parser might do just what you need - its certainly worth a try James __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.comm</body>
  </mail>
  <mail>
    <header>[dom4j-user] Writing SAX Filters</header>
    <date>Tue Jul 16 08:27:00 CEST 2002</date>
    <body>All examples available on XML filters show how to convert What they do is, in startElement(name, ...), check if name is foo and call handler's startElement with name as bar. I am looking for a way to convert ie., insert XML elements. The problem is with generating sax events: Am I supposed to do if name is foo then startElement foo startElement bar end-if and similarly for endElement. I  can do this provided the xml I providing as replacement is known in advance, i can generate sax events at design time. What if I dont know that xml. For example, startElement(name, ...) if (name is foo) then Element e = transform(foo) // Now how do I generate // eventsnt 'e' // note that it is more than // one level deep. In other words, is there a way to push new xml fragment back into the input source so that the parser continues reading it as if it were originally available in that xml source. I am looking for a parser-independant soln. thanks! --st</body>
  </mail>
  <mail>
    <header>[dom4j-user] elementByID problems</header>
    <date>Mon Jul 15 14:59:00 CEST 2002</date>
    <body>Hi, I am converting existing w3c-dom stuff to dom4j. In the w3c stuff, there is code using "getElementById()". When I parse into dom4j, both "elementByID()" and the "getElementById()" of DOMs from DOMWriter give null. The documentation says something about the tree not being capable of knowing what attribute to use- but I can't figure out what is necessary to make it work, or, best, make the DOM from DOMWriter work, the way the existing DOM code works... -Tom</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] elementByID problems</header>
    <date>Mon Jul 15 16:12:00 CEST 2002</date>
    <body>Are you using an "ID" attribute, or "id"? From memory, at one stage dom4j did not process the latter. - Thomas. At 10:59 15/07/2002 -0400, Tom Oehser wrote: http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] elementByID problems</header>
    <date>Mon Jul 15 17:26:00 CEST 2002</date>
    <body>They use "Id".  -Tom On Mon, 15 Jul 2002, Thomas Nichols wrote: http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] elementByID problems</header>
    <date>Mon Jul 15 17:33:00 CEST 2002</date>
    <body>Note, they do have stuff in the DTD like: and Maybe w3c-dom works with this and dom4j doesn't? -Tom On Mon, 15 Jul 2002, Tom Oehser wrote: http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] elementByID problems</header>
    <date>Mon Jul 15 17:42:00 CEST 2002</date>
    <body>Right now dom4j doesn't notice the attribute types when parsing XML with a DTD so cannot find the ID attributes properly. James Sent: Monday, July 15, 2002 6:33 PM Subject: Re: [dom4j-user] elementByID problems dom4j http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.comm</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] elementByID problems</header>
    <date>Mon Jul 15 17:45:00 CEST 2002</date>
    <body>What is the best workaround to select?  I can hardcode the "Id". Is there an xpath expression or something that is the best performing way to pick out a node by an "Id"? -Tom On Mon, 15 Jul 2002, James Strachan wrote: http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user http://uk.my.yahoo.comm http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] elementByID problems</header>
    <date>Tue Jul 16 08:25:00 CEST 2002</date>
    <body>Right now dom4j looks for attributes called "ID". You could always create your own Element derivation, overriding the String elementID(Element) method to extract the ID in whatever manner you wish. //foo[@Id='something'] James __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.comm</body>
  </mail>
  <mail>
    <header>[dom4j-user] Forcing a parser?</header>
    <date>Mon Jul 15 17:49:00 CEST 2002</date>
    <body>Hello, I'm using dom4j in an applet. Is there a way I can force HTMLWriter, for example, to use a specific parser instead of it trying to create one from the system properties (Applets aren't allowed to access the system properties) or use the default parser? Or can I forcibly set the default parser in the applet's context? Thanks in advance, Jerry Pommer</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Forcing a parser?</header>
    <date>Mon Jul 15 17:52:00 CEST 2002</date>
    <body>The SAX parser is used by the SAXReader class which supports a setXMLReader() method, or a constructor that takes a SAX XMLReader, so either way you can explicitly create the SAX XMLReader however you wish and pass it into dom4j's SAXReader. James __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.comm</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Forcing a parser?</header>
    <date>Mon Jul 15 18:17:00 CEST 2002</date>
    <body>James Strachan wrote: http://uk.my.yahoo.comm I'm sorry. I wasn't clear in asking my question. I can create a SAXReader, but how can I associate it with HTMLWriter so that HTMLWriter won't need to try to create one? The following code for example: org.dom4j.io.SAXReader saxreader = new //  missing code here?</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] How to printing large XML files</header>
    <date>Mon Jul 15 13:29:00 CEST 2002</date>
    <body>Why don't just use the XMLWriter as it is, there is a write(Element) = method in it... Like this: =20 doc.getRootElement().add(DocumentHelper.createElement("InsideRootElement= Or did I not understand what you wanted to do? Cheers Christian http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to printing large XML files</header>
    <date>Mon Jul 15 13:59:00 CEST 2002</date>
    <body>&amp;gt; Why don't just use the XMLWriter as it is, there is a write(Element) method The issue is that the complete DOM model of the XML file I am writing can't be loaded into memory at once. Or, put differently, I need to be able to print as I read. XmlWriter of course always prints complete trees, which results in the following output if one attempts to print a document element by element without keeping all elements in memory: As a workaround one could manually print the root begin and end tags. Unfortunately this strategy interferes with the proper placing of namespace prefixes as well as the indentation: This is what the output should look like: Perhaps the proper solution would be to write the tree of each element to a SAX content handler. Does anyone know where to find a pretty-printing SAX handler? Seems like a rather basic thing, but I couldn't find anything... -- Eric Jain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to printing large XML files</header>
    <date>Mon Jul 15 14:15:00 CEST 2002</date>
    <body>can't As Christian just said, you can do exactly this. As you read each Element you can call write(Element) on the XMLWriter. So you don't need the whole document in memory at once. Also notice you can write the open and close of elements. So if you're XML was ... Then you could do... // foreach row ... That should do the trick. Also note that you can use the above mechanism from inside ElementHandlers, so if you want to perform some filtering/transforming logic in Java then dom4j's ElementHandler and XMLWriter should allow you just to keep as little of the document in RAM as you need, while still using XPath etc. James __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.comm</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] How to printing large XML files</header>
    <date>Mon Jul 15 14:18:00 CEST 2002</date>
    <body>Oki, but why don't you print the element as you go along, whitout = bathering about the indention and then when the operation is completed let a loop parse through the tree and indent it as you wich.... I think it is more of a hazzel to create a sax pretty printer.... but = then again it is always nice to get all the work done at once.=20 (but on the other hand again, I think a such a tool already exist that = fixes a XML file so it look good.... but I can't remember it's name right = now...) Cheers Christian write(Element) the</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to printing large XML files</header>
    <date>Mon Jul 15 14:34:00 CEST 2002</date>
    <body>a BTW dom4j's XMLWriter is also a pretty printing SAX writer! So you can mix and match, outputting dom4j Nodes or SAX events to the same XMLWriter instance. http://dom4j.org/javadoc/org/dom4j/io/XMLWriter.html If you need to change the pretty-printing stuff you can explicitly get/set the indentLevel property. James __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.comm</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to printing large XML files</header>
    <date>Mon Jul 15 16:10:00 CEST 2002</date>
    <body>&amp;gt; BTW dom4j's XMLWriter is also a pretty printing SAX writer! Thanks, this is great, perfect, just what I need! I shouldn't have been converting my object structure into DOM just for printing, anyways. -- Eric Jain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to printing large XML files</header>
    <date>Mon Jul 15 16:12:00 CEST 2002</date>
    <body>&amp;gt; As Christian just said, you can do exactly this. As you read each Element of That's not bad, but this still leaves unnecessary namespace declarations floating around. Directly sending SAX events to the XMLWriter solves the problem. -- Eric Jain</body>
  </mail>
  <mail>
    <header>[dom4j-user] Casting problem between org.w3c.dom.Node &amp;amp; org.dom4j.Node</header>
    <date>Thu Jul 11 14:45:00 CEST 2002</date>
    <body>Dear readers &amp;amp; problemsolvers, while programming i had the next error: Cannot convert: org.dom4j.tree.DefaultElement@... [Element: &amp;lt;book att ributes: []/&amp;gt;] into a W3C DOM Node Exception in thread "main" org.w3c.dom.DOMException: Not supported yet at org.dom4j.dom.DOMNodeHelper.notSupported(DOMNodeHelper.java:429) at org.dom4j.dom.DOMNodeHelper.asDOMNode(DOMNodeHelper.java:366) at dom4jTest.main(dom4jTest.java:84) The problem is that i can't cast a dom4j.Node to a w3cNode! .... // parse a document into a DOMDocument. org.w3c.dom.Document domDocument = builder.parse(new // Convert the DOMDocument to a DOM4J-Document // Casting the Object Node dom4jBookNode = org.w3c.dom.Node BookNode = ... None of the conversions are working. When i use DOMWriter i can get a valid W3C Document. The problem is I should be able to convert the Nodes! Any help is welcome... Regards -- Huenaerts Bram</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Casting problem between org.w3c.dom.Node &amp;amp; org.dom4j.Node</header>
    <date>Mon Jul 15 16:07:00 CEST 2002</date>
    <body>To convert from dom4j nodes to W3C DOM nodes you can use the DOMReader and DOMWriter classes. Out of the box a dom4j Node is not a W3C DOM Node. Though if you want a dom4j node to also implement the W3C DOM API then you can use the org.dom4j.dom.DOMDocumentFactory which creates a dom4j implementation which does implement the W3C DOM API. ... or James Sent: Thursday, July 11, 2002 3:37 PM org.dom4j.Node org.dom4j.dom.DOMNodeHelper.notSupported(DOMNodeHelper.java:429) http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.comm</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] schema needs/wants &amp;amp; MSV?</header>
    <date>Tue Jul 02 09:09:00 CEST 2002</date>
    <body>Could you use XSLT for this? Essentially copying everything through as is but just processing the &amp;lt;xsd:include&amp;gt; elements to actually include, in place, the referenced schema documents? Or you could just parse the document as a dom4j Document object then find the &amp;lt;include&amp;gt; elements then swap them with the root elements of the included documents. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] schema needs/wants &amp;amp; MSV?</header>
    <date>Fri Jul 12 16:04:00 CEST 2002</date>
    <body>Well, unfortunately we have some fairly specific needs to have programatic access to the data in a schema.  I think we've worked out some of the basic problems (like "includes") but we've still got some difficulty with MSV: 1) We need to locate a simple example of using the MVS AGM to construct an object containing the element/attribute structure including cardinality 2) or, we need to determine how to obtain/capture cardinality while using an ExpressionWalker to capture the element/attribute structure If anybody can help here, I'd be very grateful. Thanks James Strachan wrote: http://mail.yahoo.com http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] schema needs/wants &amp;amp; MSV?</header>
    <date>Mon Jul 15 14:48:00 CEST 2002</date>
    <body>You might want to try sending this to the MSV list to see if they can help. http://groups.yahoo.com/group/msv-interest/ I notice that the W3C DOM group just decided to push back on the abstract schema API, as I guess this is kinda hard stuff. One thought could be, try make an XSLT to turn your schema documents into something a little bit more understandable, then just use a simple XML model to represent this stuff. Then you could just use regular XPath on it? Though this a massive simplification of the problem - I've often found code-generator type of things just need a simple flat model of types and their properties. James Sent: Friday, July 12, 2002 5:04 PM Subject: Re: [dom4j-user] schema needs/wants &amp;amp; MSV? included http://mail.yahoo.com http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.comm</body>
  </mail>
  <mail>
    <header>[dom4j-user] Displaying XML attributes in the associated JTree</header>
    <date>Thu Jul 11 16:16:00 CEST 2002</date>
    <body>Hello, Is there a simple way to display the attributes of the xml document in = the JTree, using James dom4j.swing objects ? Thx -- David</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Displaying XML attributes in the associated JTree</header>
    <date>Mon Jul 15 14:28:00 CEST 2002</date>
    <body>You should be able to derive from the code to do as you wish. e.g. if you derive from the BranchTreeNode and override the createChildList() and createChildTreeNode() methods you should be able to do whatever you want. I've just patched the code in CVS to make it a little easier to do this. James Sent: Thursday, July 11, 2002 5:09 PM Subject: [dom4j-user] Displaying XML attributes in the associated JTree Hello, Is there a simple way to display the attributes of the xml document in the JTree, using James dom4j.swing objects ? Thx -- David ------------------------------------------------------- This sf.net email is sponsored by:ThinkGeek Gadgets, caffeine, t-shirts, fun stuff. http://thinkgeek.com/sf _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.comm</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to printing large XML files</header>
    <date>Mon Jul 15 13:17:00 CEST 2002</date>
    <body>While I am aware that large XML files can be read efficiently by providing custom ElementHandlers, is there any corresponding way to print out elements on the fly rather than printing complete trees? This would probably have to be accomplished by providing an option for the XMLWriter to suppress the begin and/or end tags of the root element of the tree that is being printed. Of course one could simply print out a start tag, and then loop through all elements printing them out. This approach however gets somewhat messy if multiple namespaces are used and you don't want to have the namespace declarations repeated for each element. Any ideas? -- Eric Jain</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] Document, setting the rootElement and Comments</header>
    <date>Mon Jul 15 08:38:00 CEST 2002</date>
    <body>Hi=20 I could reproduce your problem with the code that I attached. Unfurtunally I don't have access to the DOM4J source here (at work...) = so I can't see whats the real problem is. But with the debugger it seems = like the setRootElement(&amp;lt;Element&amp;gt;) method in document writes over the already = created comment. I have attacked a code snipe that will reprodce the error. (Great catch btw Jeff, I have been doing the same thing for month now without even noticing that the comment are missing *smile*) /Christian Holmqvist relation http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Document, setting the rootElement and Comments</header>
    <date>Thu Jul 11 15:45:00 CEST 2002</date>
    <body>I'm experiancing the following situation and I don't know if it is this way on purpose or not. 1. I use the DocumentHelper to get an instance of Document - let's call it 'doc'. 2. I add a comment to 'doc' using the following method: 3. I set the root element: doc.setRootElement(rootElement); - rootElement being an Element instance created by DocumentHelper. I use an instance of XMLWriter (called 'writer') to output the XML (I'm using the prettyPrint of OutputFormat). The output xml does not include the comment. However, if I set the root element before adding the comment, the comment will appear at the end of the XML document.  Is there anyway to sequence the order in which the document's comments appear in relation to the root element?  I'd like the comment to appear before the root element in the resulting xml. I could not find anything in the archives addressing a question of this nature; if there is one, please direct me to that message. Regards, Jeff</body>
  </mail>
  <mail>
    <header>Fw: [dom4j-user] Parsing CDATA</header>
    <date>Sat Jul 06 14:37:00 CEST 2002</date>
    <body>Let me expand a bit on my earlier question. I created an XML file (using XMLWriter) with an element called 'body' = that contains a CDATA mixture of paragraphs (using the &amp;lt;p&amp;gt; and &amp;lt;/p&amp;gt; = tags), bold text(delineated with &amp;lt;b&amp;gt; and &amp;lt;/b&amp;gt; tags) and ordinary text. I = then read and parsed this XML file into Document doc1. =20 =20 Next, I extract doc1.element("body").asXML() into a String called = 'stuff'. =20 What I want to do is parse the contents of "body" into the component = paragraph, highlighted text and regular text parts.  So, I created a = string something like "&amp;lt;doc&amp;gt;" + stuff + "&amp;lt;/doc&amp;gt;", used that to create a = StringReader 's_in' and used a SAXReader.read(s_in) to create a new = Document doc2. Unfortunately, doc2 now contains an element 'body', instead of a set of = 'p' elements. No matter what I do, I still end up with the 'body' = element with all of its contents treated as a (CDATA) lump.  So I am = unable to selectively extract the 'p', 'b' tags or text.=20 That's where I'm stumped. Regards, Terry From: Terry Steichen=20 To: dom4j-user=20 Sent: Saturday, July 06, 2002 8:22 AM Subject: [dom4j-user] Parsing CDATA Probably a dumb question, but here goes.... I have an XML document that contains a 'body' element containing CDATA = content - that is, a mixture of tags and content.  What I'd like to do = is extract that content and parse it to separate the tags and text and = then selectively display it. =20 =20 I know how to create another document and add elements and so forth.  = But I'm stumped on how to do the parsing.  Any advice/insight would be = much appreciated. Regards, Terry</body>
  </mail>
  <mail>
    <header>Re: Fw: [dom4j-user] Parsing CDATA</header>
    <date>Sat Jul 06 14:43:00 CEST 2002</date>
    <body>Instead of doing text manipulation, can you use selectNode(...) to find the &amp;lt;body&amp;gt; node, then use the dom4j to get the textual content? You may then have to do some text manip to wrap some outter tags around the content, though, as a well-formed XML doc has exactly 1 root element. ie: Then, you have some (hopefully) well-formed XML you can parse again. -bob On Sat, 6 Jul 2002, Terry Steichen wrote:</body>
  </mail>
  <mail>
    <header>Re: Fw: [dom4j-user] Parsing CDATA</header>
    <date>Sat Jul 06 20:09:00 CEST 2002</date>
    <body>Bob, I did end up doing something like your suggestion.  It seems pretty hokey (not your suggestion - what I did) to me, but -- it does work. What I did was extract the body text and then did two substring operations to remove the '&amp;lt;![CDATA[' and ']]'.  Then I enclosed the resultant string inside a root tag ('&amp;lt;doc&amp;gt;mystring&amp;lt;/doc&amp;gt;') and parsed that. As I said, I'm not really happy with this hack, but it lets me move ahead. Any suggestions on a more elegant solution would be much appreciated. Regards, Terry Sent: Saturday, July 06, 2002 10:43 AM Subject: Re: Fw: [dom4j-user] Parsing CDATA tags), http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: Fw: [dom4j-user] Parsing CDATA</header>
    <date>Mon Jul 08 09:34:00 CEST 2002</date>
    <body>I'm still not quite sure what you really want to do. You should not need to parse text or do substring operations. The dom4j Element will contain a tree of Node implementations which in your case will probably be a mixture of Element, Text and CDATA nodes. So you should just be able to use regular Java 2 Collections code and use 'instanceof' to determine which nodes you want to process and which you don't. When you say... paragraph, highlighted text and regular text parts you could just iterate over the contents of &amp;lt;body&amp;gt; and process things however you wish... ... process this element, could be a &amp;lt;b&amp;gt; or &amp;lt;p&amp;gt; etc. .. its a block of text... James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: Fw: [dom4j-user] Parsing CDATA</header>
    <date>Tue Jul 09 17:29:00 CEST 2002</date>
    <body>James, Thanks for the comments.  Unfortunately, however, your suggestion doesn't seem to work.  It seems that the List that's returned ('content' in your suggested code below) only contains one item: the CDATA section.  So it still doesn't let me decompose that into the component &amp;lt;p&amp;gt; and &amp;lt;b&amp;gt; elements that exist within the CDATA.  Maybe I'm doing something wrong, but that seems to be the behavior. Regards, Terry Sent: Monday, July 08, 2002 5:32 AM Subject: Re: Fw: [dom4j-user] Parsing CDATA hokey operations string ahead. to tree http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: Fw: [dom4j-user] Parsing CDATA</header>
    <date>Wed Jul 10 06:21:00 CEST 2002</date>
    <body>Have you got an example XML document and a little bit of code that you're running? Believe me, you can use the content() List of a Branch (Document or Element) to walk the entire XML tree. It must just be that you're looking at the wrong element? Or that XML elements are actually embedded inside a CDATA section? An example XML document would help here... James Sent: Tuesday, July 09, 2002 6:25 PM Subject: Re: Fw: [dom4j-user] Parsing CDATA elements you http://mail.yahoo.com _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] I am a new user. Downloaded the dom4j and
	includedin my classpath.</header>
    <date>Wed Jul 03 14:59:00 CEST 2002</date>
    <body>Donald: I tried the dom4j-full-1.2.jar. Still got the same error. Please help. Qin On Tue, 2002-07-02 at 16:24, Qin Ding wrote: the [snip] try using dom4j-full-x.x.jar instead of dom4j-x.x.jar. it includes the support libraries like sax. - donald</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] I am a new user. Downloaded the dom4j andincludedin my classpath.</header>
    <date>Mon Jul 08 09:50:00 CEST 2002</date>
    <body>This sounds very strange. Have you tried looking in the dom4j-full-1.2.jar to check that the class is there? jar tf dom4j-full-1.2.jar | fgrep XMLReader Try cleaning out your classpath; this sounds to me like pilot error. Also watch out for directory names that have spaces in them on Windows. James http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Handling Whitespace OT</header>
    <date>Fri Jul 05 17:39:00 CEST 2002</date>
    <body>I using the JAXM which uses dom4j.  When adding a text-node with trailing spaces they are trimed.  I tried putting quotes around the String by escaping them in, but that didn't seem to work right either. Any suggestions would help. Using DOM4J 1.1 but I also tried 1.3 with same result. Snip: accountElement.addChildElement( S_ACCOUNT_TITLE ).addTextNode("Keith Thanks Keith</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Handling Whitespace OT</header>
    <date>Mon Jul 08 09:45:00 CEST 2002</date>
    <body>Handling Whitespace OTI guess this could well be a problem with the JAXM = codebase. (Sun are meant to make the code available JAXM soon I think). Just a quick question; does the text get trimmed on reparsing the SOAP = message, or does the text get trimmed on output? Either way without = delving into the JAXM code I'm not sure what we could do at the dom4j = level. James From: Dalia, Keith A - TOS-DITT1=20 To: 'dom4j-user@... Sent: Friday, July 05, 2002 6:39 PM Subject: [dom4j-user] Handling Whitespace OT I using the JAXM which uses dom4j.  When adding a text-node with = trailing spaces they are trimed.  I tried putting quotes around the = String by escaping them in, but that didn't seem to work right either. Any suggestions would help.=20 Using DOM4J 1.1 but I also tried 1.3 with same result.=20 Snip:=20 accountElement.addChildElement( S_ACCOUNT_TITLE ).addTextNode("Keith   = ");=20 Thanks Keith=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Parsing CDATA</header>
    <date>Sat Jul 06 12:29:00 CEST 2002</date>
    <body>Probably a dumb question, but here goes.... I have an XML document that contains a 'body' element containing CDATA = content - that is, a mixture of tags and content.  What I'd like to do = is extract that content and parse it to separate the tags and text and = then selectively display it. =20 I know how to create another document and add elements and so forth.  = But I'm stumped on how to do the parsing.  Any advice/insight would be = much appreciated. Regards, Terry</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOMDocumentFactory problems</header>
    <date>Fri Jul 05 08:04:00 CEST 2002</date>
    <body>I am getting the following warnings: Warning: missing namespace prefix ignored: eb Warning: missing namespace prefix ignored: xsi Warning: missing namespace prefix ignored: xlink Warning: missing namespace prefix ignored: SOAP-ENV When I run SAXReader reader = new Using this example (also attached) xmlns:SOAP-ENV=" http://schemas.xmlsoap.org/soap/envelope/ " xmlns:xlink=" http://www.w3.org/1999/xlink " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation=" http://schemas.xmlsoap.org/soap/envelope/ http://www.oasis-open.org/committees/ebxml-msg/schema/envelope.xsd xmlns:eb=" http://www.oasis-open.org/committees/ebxml-msg/schema/msg-header-2 _0.xsd" xsi:schemaLocation=" http://www.oasis-open.org/committees/ebxml-msg/schema/ms g-header-2_0.xsd http://www.oasis-open.org/committees/ebxml-msg/schema/msg-header-2_0.xsd</body>
  </mail>
  <mail>
    <header>[dom4j-user] I am a new user. Downloaded the dom4j and included in my
 classpath.</header>
    <date>Tue Jul 02 20:28:00 CEST 2002</date>
    <body>I am a new user. Downloaded the dom4j and included in my classpath. Copy the sample code from dom4j cookbook. Compiled fine. When run the code the error. Here is is the code and error. /** dom4j object model representation of a xml document. Note: We use the interface(!) not its implementation */ /** * Loads a document from a file. * * @throw a org.dom4j.DocumentException occurs whenever the buildprocess fails. */ Error: java.lang.NoClassDefFoundError: org/xml/sax/XMLReader Please help.  Thank you very much.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] I am a new user. Downloaded the dom4j and included
	in my classpath.</header>
    <date>Tue Jul 02 20:36:00 CEST 2002</date>
    <body>On Tue, 2002-07-02 at 16:24, Qin Ding wrote: [snip] try using dom4j-full-x.x.jar instead of dom4j-x.x.jar. it includes the support libraries like sax. - donald</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How set Document Encoding w/o OutputFormatter class???</header>
    <date>Tue Jul 02 11:14:00 CEST 2002</date>
    <body>I'm not sure if it should be a Node, particularly as its not really visible to XPath, though certainly the encoding scheme should be a property of a Document (since there is only one document). James Sent: Thursday, June 20, 2002 8:32 AM Subject: SV: [dom4j-user] How set Document Encoding w/o OutputFormatter class??? Another way to solv this is to treat the &amp;lt;!xml element as a node with default behaivor (needs to be there) and restrictions (there can only be one...) I know that it might be best suited in the output class but there is a big implementation advantage to move it into the normal behaivor pattern. (i.e. treat it as a node). /Cheers Christian http://mail.yahoo.com http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------- Bringing you mounds of caffeinated joy http://thinkgeek.com/sf _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] RE: dom4j-user digest, Vol 1 #300 - 1 msg</header>
    <date>Tue Jul 02 03:03:00 CEST 2002</date>
    <body>Cool, I look forward to reading what James has to say on this... --On Saturday, 29 June 2002 12:27 a.m. +0100 Nicholas Sanderson -- \m/ -- "...if I seem super human I have been misunderstood." (c) Dream Theater mark@... - ICQ: 1934853 JID: talios@...</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] RE: dom4j-user digest, Vol 1 #300 - 1 msg</header>
    <date>Tue Jul 02 09:08:00 CEST 2002</date>
    <body>that Yep - its all my fault :-) I've nearly got things sorted out. Sorry for the delay; been snowed under I'll CC this list when I commit it to CVS... James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath in addHandler</header>
    <date>Tue Jul 02 08:58:00 CEST 2002</date>
    <body>Hi Beri Right now only a subset of XPath is supported, so a path like /foo/bar which only matches element names. Hopefully we'll get full XPath support real soon - by all means dive in if someone fancies some hacking. Am still attempting to Maven-ize the build process then get the line number patches applied. James _________________________________________________________ Do You Yahoo!? Get your free @yahoo.com address at http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] newbie question</header>
    <date>Thu Aug 29 16:00:00 CEST 2002</date>
    <body>I am new to XPATH and I have to convert a string containing an XML tree into a document then search the document for specific elements and attribute values. Here's a small example of my code...  I just do not know how to access the values of the FirstName, LastName elements and the '@Type' attributes of these.. Please help.  Thank you. Greg -- XML -- -- code -- // create the document from the string searchPath = // last name // first name // country searchPath = "//Parms/CAP/RelationshipRecord/Customer" + // city</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] newbie question</header>
    <date>Fri Aug 30 07:42:00 CEST 2002</date>
    <body>Hi Gregory Once you have found the nodes that you want it is probably as easy to use the dom4j API set to read the data E.g. in XPATH Or For the xpath queries you can use the node.selectSingleNode to do the relative queries So for the city searchPath = searchPath + "/AdministrativeArea[ @Type='State' Becomes Node nodeCity = countryNode.selectSingleNode( Also do you really need to use the // at the start of the search. This will seach every node in the document! Mike Skells Ebizz consulting http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Does XPath consider the namespace of attributes?</header>
    <date>Wed Aug 28 14:08:00 CEST 2002</date>
    <body>Hello, my question is whether XPath does consider the namespace of attributes or not ? for example: http://www.w3.org/2001/XMLSchema-instance " xmlns:ims=" http://www.imsglobal.org/xsd/imsmd_v1p2 " xsi:noNamespaceSchemaLocation="movii-kern.xsd" xsi:schemaLocation=" http://www.imsglobal.org/xsd/imsmd_v1p2 ... ... If I start the following XPath query rootElement.selectNodes("//ims:title[@ims:lang='de']") on the XML document below, I get an empty List. But if I remove the namespace for the 'lang' attribute in the document (&amp;lt;ims:title lang="de"&amp;gt;...&amp;lt;/ims:title&amp;gt;) and in the XPath query ("//ims:title[@lang='de']") I get the expected list of elements. Has somebody similar experiences or can tell me what XPath is doing? -- Andreas</body>
  </mail>
  <mail>
    <header>[dom4j-user] Does XPath consider the namespace of attributes?</header>
    <date>Wed Aug 28 14:24:00 CEST 2002</date>
    <body>Hello, my question is whether XPath does consider the namespace of attributes or not ? for example: http://www.w3.org/2001/XMLSchema-instance " xmlns:ims=" http://www.imsglobal.org/xsd/imsmd_v1p2 " xsi:noNamespaceSchemaLocation="movii-kern.xsd" xsi:schemaLocation=" http://www.imsglobal.org/xsd/imsmd_v1p2 ... ... If I start the following XPath query rootElement.selectNodes("//ims:title[@ims:lang='de']") on the XML document below, I get an empty List. But if I remove the namespace for the 'lang' attribute in the document (&amp;lt;ims:title lang="de"&amp;gt;...&amp;lt;/ims:title&amp;gt;) and in the XPath query ("//ims:title[@lang='de']") I get the expected list of elements. Has somebody similar experiences or can tell me what XPath is doing? -- Andreas -- berlin.de - meine stadt im netz. Jetzt eigene eMail-adresse @berlin.de sichern! http://webmail.berlin.de</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Does XPath consider the namespace of attributes?</header>
    <date>Wed Aug 28 14:27:00 CEST 2002</date>
    <body>&amp;gt; Has somebody similar experiences or can tell me what XPath is doing? As always when this question comes up: Have you configured the prefix-URI mappings for the XML?  I see them in the document, but how does XPath know what ims: maps to? Have you fiddled with that?  NamespaceContext is your friend. -bob</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Does XPath consider the namespace of attributes?</header>
    <date>Wed Aug 28 18:32:00 CEST 2002</date>
    <body>I cant reproduce the problem --- code --- ---- output ----- http://www.w3.org/2001/XMLSchema-instance " xmlns:ims=" http://www.imsglobal.org/xsd/imsmd_v1p2 " xsi:noNamespaceSchemaLocation="movii-kern.xsd" xsi:schemaLocation=" http://www.imsglobal.org/xsd/imsmd_v1p2 [org.dom4j.tree.DefaultElement@... [Element: &amp;lt;ims:title uri: http://www.imsglobal.org/xsd/imsmd_v1p2 attributes: [org.dom4j.tree.DefaultAttribute@... [Attribute: name ims:lang value "de"]]/&amp;gt;]] -- end --- http://www.w3.org/2001/XMLSchema-instance " http://www.imsglobal.org/xsd/imsmd_v1p2 " http://www.imsglobal.org/xsd/imsmd_v1p2 http://webmail.berlin.de http://www.jabber.com/osdn/xim https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Does XPath consider the namespace of attributes?</header>
    <date>Thu Aug 29 09:03:00 CEST 2002</date>
    <body>Hi, you are rigth. The problem does only appear when I'm creating a new document in memory and then execute the mentioned XPath query. If I read an existing XML document, like your example class b2, everything is all right. So, is this behaviour normal to newly-created documents and if yes, is the only alternative solution to store the document and then read it again before executing the XPath query ? -- Andreas http://www.w3.org/2001/XMLSchema-instance " http://www.imsglobal.org/xsd/imsmd_v1p2 " http://www.imsglobal.org/xsd/imsmd_v1p2 http://www.imsglobal.org/xsd/imsmd_v1p2 attributes: http://www.w3.org/2001/XMLSchema-instance " http://www.imsglobal.org/xsd/imsmd_v1p2 " http://www.imsglobal.org/xsd/imsmd_v1p2 http://webmail.berlin.de http://www.jabber.com/osdn/xim https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user</body>
  </mail>
  <mail>
    <header>AW: [dom4j-user] Does XPath consider the namespace of attributes?</header>
    <date>Thu Aug 29 14:01:00 CEST 2002</date>
    <body>Hi Mike, here is a small example code which hopefully demonstrates my problem. Every time when I add a new element, the XPath result list is empty. The same XPath query after reading the document yields the expected elements. As you can see in the code, I used NamespaceContext/NamespaceURI but that seems to have no effect at all. But if you remove the namespace from the "xml:lang" attribute (keeping just "lang") in the document and in the XPath query then everything is ok. I don't know why. Andreas -- code -- uris.put("xml", " http://www.w3.org/XML/1998/namespace uris.put("ims", " http://www.imsglobal.org/xsd/imsmd_v1p2 XMLWriter writer = new XMLWriter(new Element kern = document.addElement("kern") .addNamespace("xsi", " http://www.w3.org/2001/XMLSchema-instance ") .addAttribute("xsi:noNamespaceSchemaLocation", "movii-kern.xsd") .addAttribute("xsi:schemaLocation", " http://www.imsglobal.org/xsd/imsmd_v1p2 imsmd_v1p2p2.xsd") .addNamespace("xml", " http://www.w3.org/XML/1998/namespace ") .addNamespace("ims", " http://www.imsglobal.org/xsd/imsmd_v1p2 title.addElement("ims:langstring") title.addElement("ims:langstring") uris.put("xml", " http://www.w3.org/XML/1998/namespace uris.put("ims", " http://www.imsglobal.org/xsd/imsmd_v1p2 //xpath.setNamespaceContext(new -- code -- http://www.w3.org/2001/XMLSchema-instance " http://www.imsglobal.org/xsd/imsmd_v1p2 " http://www.imsglobal.org/xsd/imsmd_v1p2 http://www.imsglobal.org/xsd/imsmd_v1p2 attributes: http://www.w3.org/2001/XMLSchema-instance " http://www.imsglobal.org/xsd/imsmd_v1p2 " http://www.imsglobal.org/xsd/imsmd_v1p2 http://webmail.berlin.de http://www.jabber.com/osdn/xim https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Does XPath consider the namespace of attributes?</header>
    <date>Thu Aug 29 14:13:00 CEST 2002</date>
    <body>How are you created the document in memory? Could you give us some example code? Maybe its how you're setting the namespaces on the attributes... James ------- http://radio.weblogs.com/0112098/ Sent: Thursday, August 29, 2002 9:43 AM Subject: Re: [dom4j-user] Does XPath consider the namespace of attributes? and http://www.w3.org/2001/XMLSchema-instance " http://www.imsglobal.org/xsd/imsmd_v1p2 " http://www.imsglobal.org/xsd/imsmd_v1p2 http://www.imsglobal.org/xsd/imsmd_v1p2 attributes: http://www.w3.org/2001/XMLSchema-instance " http://www.imsglobal.org/xsd/imsmd_v1p2 " http://www.imsglobal.org/xsd/imsmd_v1p2 http://webmail.berlin.de http://www.jabber.com/osdn/xim https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>AW: [dom4j-user] Does XPath consider the namespace of attributes?</header>
    <date>Thu Aug 29 15:26:00 CEST 2002</date>
    <body>Hi, thanks for all your helpful comments. After thinking about your hints and tips, I think, I've found the answer to my problem: I used the wrong methods to add my attributes (and maybe even my elements but that didn't seem to make a difference). new:  QName qname = DocumentFactory.getInstance().createQName("lang", "xml", " http://www.w3.org/XML/1998/namespace Now, my XPath queries deliver the desired elements (so far ;-) -- Andreas http://radio.weblogs.com/0112098/ http://www.w3.org/2001/XMLSchema-instance " http://www.imsglobal.org/xsd/imsmd_v1p2 " http://www.imsglobal.org/xsd/imsmd_v1p2 http://www.imsglobal.org/xsd/imsmd_v1p2 attributes: http://www.w3.org/2001/XMLSchema-instance " http://www.imsglobal.org/xsd/imsmd_v1p2 " http://www.imsglobal.org/xsd/imsmd_v1p2 http://webmail.berlin.de http://www.jabber.com/osdn/xim https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] what version of Java is required?</header>
    <date>Wed Aug 28 22:16:00 CEST 2002</date>
    <body>Does anyone know what version of Java dom4j requires?  Jaxen? Thanks, Steve</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] what version of Java is required?</header>
    <date>Thu Aug 29 07:20:00 CEST 2002</date>
    <body>Typically its used heavily on 1.2 onwards though both use the Java 2 collections, which are available on JDK 1.1, though it requires a package change. I think the builds of both dom4j and jaxen can still create a JDK 1.1 compatible version, though it doesn't get used that much so you might have to tinker a little to get it to work. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] DOMReader related problem (Performace)</header>
    <date>Thu Aug 29 07:12:00 CEST 2002</date>
    <body>Hi, sorry, but the problem is already solved. After debugging I found out that it was another problem The problem was that I used XPath on a big XML Document (&amp;gt;1MB) When i used the code below, it was very ,very slow. XPath xpathSelector = DocumentHelper.createXPath("//collection/item[" + ... After changing the XPath to this code, the performance increased. Thanks -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: Wednesday, August 28, 2002 5:13 PM To: David Hooker; 'DOM4J-user (E-mail)' Subject: Re: [dom4j-user] DOMReader related problem (Performace) Just like the example I coded below. i.e. by reusing the same SAXReader instance in the same thread. Creating a new instance each time results in a new underlying SAX parser, the XMLReader, being created which tends to reinitialize the underlying parser each time. Another approach to using ThreadLocal could be to use an object pool implementation. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com ------------------------------------------------------- This sf.net email is sponsored by: Jabber - The world's fastest growing real-time communications platform! Don't just IM. Build it in! http://www.jabber.com/osdn/xim _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DOMReader related problem (Performace)</header>
    <date>Thu Aug 29 07:19:00 CEST 2002</date>
    <body>Cool, glad your problems fixed. Its easy to make a slow XPath expression that has to trawl the entire document. Using // in an XPath expression is probably the easiest way to slow things down :-) James ------- http://radio.weblogs.com/0112098/ Sent: Thursday, August 29, 2002 8:03 AM Subject: RE: [dom4j-user] DOMReader related problem (Performace) a http://radio.weblogs.com/0112098/ http://uk.my.yahoo.com http://www.jabber.com/osdn/xim https://lists.sourceforge.net/lists/listinfo/dom4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] default order of selectNodes</header>
    <date>Wed Aug 28 18:02:00 CEST 2002</date>
    <body>I see that you can get a sorted list when using myNode.selectNodes( String xpath, String compXpath ) Is there any guarantee that if I just use myDoc.selectNodes( String xpath ) the resulting order will correlate to the order in the physical XML file? Thanks, Al</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] default order of selectNodes</header>
    <date>Wed Aug 28 18:05:00 CEST 2002</date>
    <body>Howdy Al-- Nope..  Absolutely none.  90% of the time, they will be in roughly document-order, which is defined as the order of the start &amp;lt;tag&amp;gt; when processed sequentially, with extra rules about where attributes and namespace decls fall (which we ignore completely). We're non-conformant on paths that include //, since we're apparently doing a bredth-first instead of a depth-first walk of the document. Relatively trivial fix and may even improve efficiency if we move away from recursion and towards a simple stack-based walk of the tree. Does that help?  What are you actually trying to do? Anyhow, glad to hear you're not playing with bare metal SAX anymore. :) -bob On Wed, 28 Aug 2002, Alan Herod wrote: -- Bob McWhirter        bob@... The Werken Company http://werken.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOMReader related problem (Performace)</header>
    <date>Tue Aug 27 07:55:00 CEST 2002</date>
    <body>Hi, I wonder what i can do about the following problem. I want to create a dom4j document from a org.w3c document. The code below works fine for xml-files under the +-100k. // Parse the file to an org.w3c.dom.Document // Create an org.dom4j.Document Is this a performance problem or am I using the API not correctly? Can i go around this somehow? Any help is appreciated. regards Bram</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] DOMReader related problem (Performace)</header>
    <date>Wed Aug 28 09:37:00 CEST 2002</date>
    <body>Bram, You forgot to mention that the actual problem is! BTW are there any specific reasons why you need both documents. Do you = need the w3c document for any particular additional API, or could you use the = w3c dom support in dom4j? Mike https://www.inphonic.com/r.asp?r=3Dsourceforge1 &amp;gt; &amp;amp;refcode1=3Dvs3390 https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DOMReader related problem (Performace)</header>
    <date>Wed Aug 28 12:53:00 CEST 2002</date>
    <body>Creating a W3C DOM tree just to create a dom4j tree seems a bit excessive. Why not just use the SAXReader? Also, if ever you have an XML parsing performance problem, try caching the parser. Often parsers take quite a while to 'warm up' particularly things like Xerces. e.g. if using the dom4j SAXReader, it can often be useful to use ThreadLocal to pool them by thread. e.g. ... James ------- http://radio.weblogs.com/0112098/ Sent: Tuesday, August 27, 2002 8:46 AM Subject: [dom4j-user] DOMReader related problem (Performace) https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] DOMReader related problem (Performace)</header>
    <date>Wed Aug 28 15:05:00 CEST 2002</date>
    <body>How do you cache the parser? -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of James Strachan Sent: Wednesday, August 28, 2002 7:50 AM To: Bram Huenaerts; DOM4J-user (E-mail) Subject: Re: [dom4j-user] DOMReader related problem (Performace) Creating a W3C DOM tree just to create a dom4j tree seems a bit excessive. Why not just use the SAXReader? Also, if ever you have an XML parsing performance problem, try caching the parser. Often parsers take quite a while to 'warm up' particularly things like Xerces. e.g. if using the dom4j SAXReader, it can often be useful to use ThreadLocal to pool them by thread. e.g. ... James ------- http://radio.weblogs.com/0112098/ Sent: Tuesday, August 27, 2002 8:46 AM Subject: [dom4j-user] DOMReader related problem (Performace) https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com ------------------------------------------------------- This sf.net email is sponsored by: Jabber - The world's fastest growing real-time communications platform! Don't just IM. Build it in! http://www.jabber.com/osdn/xim _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DOMReader related problem (Performace)</header>
    <date>Wed Aug 28 15:16:00 CEST 2002</date>
    <body>Just like the example I coded below. i.e. by reusing the same SAXReader instance in the same thread. Creating a new instance each time results in a new underlying SAX parser, the XMLReader, being created which tends to reinitialize the underlying parser each time. Another approach to using ThreadLocal could be to use an object pool implementation. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Container Managed Security with Session Document</header>
    <date>Thu Aug 22 17:40:00 CEST 2002</date>
    <body>We are developing a large scale application that requires extremely volatile and complex roles to be set to users, i.e. you may have permission to view Projects 45, 84, and 95; but for each one you have different roles specified. My thought would be to actually create a Principal with an internal Document representing a user's roles.  I'm just wondering how feasible, or if anyone else has done this since there could possibly be a document for each of the hundred concurrent users. Validation in servlet via: The Realm would interpret the role call as an XPath statement and return true if 1 or more Nodes where returned. Jacob Hookom Comprehensive Computer Science University of Wisconsin, Eau Claire --- Outgoing mail is certified Virus Free. Checked by AVG anti-virus system ( http://www.grisoft.com ). Version: 6.0.381 / Virus Database: 214 - Release Date: 8/2/2002</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Container Managed Security with Session Document</header>
    <date>Fri Aug 23 09:02:00 CEST 2002</date>
    <body>Hi Jacob Which web server/app server are you using. The role management interface is not part of the web container/app server spec just the role lookup (please tell me if I am wrong!) so an implementation is tied to (e.g. ) Tomcat/weblogic, and may ever be version speific. If you are using Tomcat then there is the source for the MemoryRealm which is a simple basis to start with, but there are issues regarding running on miltiple nodes. Are the roles hierarchical, i.e. will you be looking for=20 isUserInRole("/project/45") and=20 isUserInRole("/project/45/owner") As most (?all) web servers/app server support DB based roles you could have these as role names, but it depends how many 1000 of role updates you need I remember that there was some discussion of web servesr/app servesr supporting the JAAS service. I don=92t know what the official status of this is but here is some info on using it with tomcat http://java.sun.com/javaone/javaone2001/pdfs/1356.pdf and=20 http://www.theserverside.com/resources/article.jsp?l=3DJAAS With jaas you should have full api control access to be able to do what you want=20 (I have never used it myself so take the above with the usual health warnings :-( ) Mike http://www.grisoft.com ). https://www.inphonic.com/r.asp?r=3Dsourceforge1 &amp;gt; &amp;amp;refcode1=3Dvs3390 https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Procession Instruction issue</header>
    <date>Thu Aug 08 21:31:00 CEST 2002</date>
    <body>All, Though my xml file has &amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt; processing Instruction. when i tried document.removeProcessingInstruction("xml"); it's not removing PI from my xml. Since it was not removing that PI i thought of trying first to check what it returns with document.processingInstructions(); method, but it returns empty list. Could anyone tell me why it's not removing PI from xml ? am using dom4j-full-1.3 and JDK1.3. Thanks, Vicky --------------------------------- Do You Yahoo!? HotJobs, a Yahoo! service - Search Thousands of New Jobs</body>
  </mail>
  <mail>
    <header>[dom4j-user] read with ignore of false dtd link</header>
    <date>Thu Aug 22 12:37:00 CEST 2002</date>
    <body>Hello! I want to read a XML Document with org.dom4j.io.SAXReader in a dom4j Document. The Problem is, that the given DTD in the Document is not at the given Position, so the Method (read) failed. I want to ignore the DTD... -- Beste Grüße / Best Regards, Marc Pellmann __________________________________________________________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] read with ignore of false dtd link</header>
    <date>Thu Aug 22 12:56:00 CEST 2002</date>
    <body>Marc, To accomplish this I believe it will be necessary to write a custom entity resolver that won't choke on an external entity that really isn't there.  I know it has been discussed here before- but I don't remember if any sample code was posted, but you may want to search the list archive anyway. Brian Marc Pellmann wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] read with ignore of false dtd link</header>
    <date>Thu Aug 22 15:07:00 CEST 2002</date>
    <body>DTD... Whether you turn validation on or off, any SAX parser will always try to find the DTD if it is mentioned in an XML document. The typical way to solve this problem is to attacha SAX EntityResolver to the SAXReader so that you can read the DTD or schema file from whereever you wish, the classpath, ServletContext, a website near you or whatever. There's details here... James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Got into another problem</header>
    <date>Thu Aug 22 14:54:00 CEST 2002</date>
    <body>Hi santosh Please post these emails to the dom4j-user list. FWIW you will be iterating over &amp;lt;SettlementDetail&amp;gt; instances. If you want to iterate through their children do this.,.. List list = // now iterate through children System.out.println( "text for: " + child.getName() + " is: " + James ------- http://radio.weblogs.com/0112098/ Sent: Thursday, August 22, 2002 1:59 PM Subject: Got into another problem Hi, have a look at the belo XML: and then i have three &amp;lt;settlementDetail&amp;gt;s. when i do a XpathExression like //TerminalSettlement/SettlementDetail i am getting a List of 3 three objects thats perfect. But the problem is i am not able to traverse through each object. code: List list = int capCode= ;//Here this has to print all the three different values. System.out.println(capCode) int stan= ;//same as above. I am trying in so many ways but it is not working in the way i want. if i complete this bit then i will be done with XML so can u please solve this problem. thanks, santosh __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] XSL Transformation issues...</header>
    <date>Wed Aug 21 19:07:00 CEST 2002</date>
    <body>XSL_Debugger and XML Spy for transforming my data.&amp;amp;nbsp;= Unfortunately when I use DOM4J to do the same transformation I= version=3D&amp;amp;quot;4.0&amp;amp;quot; omit-xml-declaration=3D&amp;amp;quot;yes&amp;amp;quot;= indent=3D&amp;amp;quot;yes&amp;amp;quot;= name=3D&amp;amp;quot;onClick&amp;amp;quot;&amp;amp;gt;javascript:MakeWin('generic_frame')&amp;amp;= href=3D" http://www.somewhere.com""&amp;gt;http://www.somewhere.com&amp;amp;quot&amp;lt;/= a&amp;gt;;= onClick=3D&amp;amp;quot;javascript:MakeWin(&amp;amp;amp;apos;generic_frame&amp;amp;amp;apo= transformation.&amp;amp;nbsp; DOM4J does something REALLY odd with any= tag that contains the &amp;amp;quot;disable-output-escaping&amp;amp;quot;= disable-output-escaping=3D&amp;amp;quot;yes&amp;amp;quot;&amp;amp;gt;&amp;amp;amp;lt;/tr&amp;amp;amp;gt;= ?&amp;amp;gt;&amp;amp;amp;lt;/tr&amp;amp;amp;gt;= &amp;amp;amp;lt;tr&amp;amp;amp;gt;&amp;amp;lt;?javax.xml.transform.enable-output-escapin= &amp;amp;quot;&amp;amp;lt;/tr&amp;amp;gt;&amp;amp;lt;tr&amp;amp;gt;&amp;amp;quot;, which is exactly what I= things?&amp;amp;nbsp; If so, do you have any idea how I can get them to=</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: SchemaValidation problem:please looking for quick reply</header>
    <date>Wed Aug 21 11:21:00 CEST 2002</date>
    <body>Hi Santosh You need to explicitly set the correct SAXDriver implementation on the = SAXReader, either via creating the right Xerces/Crimson XMLReader = implementation, or by adding xml-apis.jar and xerces.jar to your = classpath, then JAXP will be used to find the Xerces parser. James ------- http://radio.weblogs.com/0112098/ From: Sahu, Santosh Kumar=20 To: James Strachan=20 Sent: Wednesday, August 21, 2002 12:13 PM Subject: SchemaValidation problem:please looking for quick reply Hi, i am using the below code: reader.setProperty( = " http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocati= on", "gateconex.xsd" XMLWriter errorWriter =3D new XMLWriter(out, = when i am running this programe i am getting the below exception: org.dom4j.DocumentException: Validation not supported for XMLReader: = org.dom4j.io.aelfred.SAXDriver@... Nested exception: = http://xml.org/sax/feat es/validation Nested exception: Validation not supported for = XMLReader: org.dom4j.io.aelfred.SAXDriver@... Nested exception: = http://xml.org/sax/f tures/validation org.dom4j.Document = org.dom4j.io.SAXReader.read(org.xml.sax.InputSource) org.dom4j.Document = org.dom4j.io.SAXReader.read(java.io.InputStream) void = XMLRequestHandler.&amp;lt;init&amp;gt;(javax.servlet.http.HttpServletRequest, = javax.servlet.http.HttpServletResponse, EventBasedSocket, int) void GateConex.doPost(javax.servlet.http.HttpServletRequest, = javax.servlet.http.HttpServletResponse) void = javax.servlet.http.HttpServlet.service(com.evermind.server.http.EvermindH= ttpServletRequest, com.evermind.server.http.EvermindHttpS vletResponse) void = javax.servlet.http.HttpServlet.service(javax.servlet.http.HttpServletRequ= est, javax.servlet.http.HttpServletResponse) void = javax.servlet.http.HttpServlet.service(javax.servlet.ServletRequest, = javax.servlet.ServletResponse) void = com.evermind.server.http.ServletRequestDispatcher.invoke(javax.servlet.Se= rvletRequest, javax.servlet.ServletResponse) void = com.evermind.server.http.ServletRequestDispatcher.forwardInternal(javax.s= ervlet.ServletRequest, javax.servlet.http.HttpServletResp se) boolean = com.evermind.server.http.HttpRequestHandler.processRequest(com.evermind.s= erver.ApplicationServerThread, com.evermind.server.htt EvermindHttpServletRequest, = com.evermind.server.http.EvermindHttpServletResponse, = java.io.InputStream, java.io.OutputStream, boolean) void = com.evermind.server.http.HttpRequestHandler.run(java.lang.Thread) void com.evermind.util.ThreadPoolThread.run() Nested exception: org.dom4j.DocumentException: Validation not = supported for XMLReader: org.dom4j.io.aelfred.SAXDriver@... Nested = exception: http: xml.org/sax/features/validation void = org.dom4j.io.SAXReader.configureReader(org.xml.sax.XMLReader, = org.xml.sax.helpers.DefaultHandler) org.dom4j.Document = org.dom4j.io.SAXReader.read(org.xml.sax.InputSource) org.dom4j.Document = org.dom4j.io.SAXReader.read(java.io.InputStream) void = XMLRequestHandler.&amp;lt;init&amp;gt;(javax.servlet.http.HttpServletRequest, = javax.servlet.http.HttpServletResponse, EventBasedSocket, int) void GateConex.doPost(javax.servlet.http.HttpServletRequest, = javax.servlet.http.HttpServletResponse) void = javax.servlet.http.HttpServlet.service(com.evermind.server.http.EvermindH= ttpServletRequest, com.evermind.server.http.EvermindHttpS vletResponse) void = javax.servlet.http.HttpServlet.service(javax.servlet.http.HttpServletRequ= est, javax.servlet.http.HttpServletResponse) void = javax.servlet.http.HttpServlet.service(javax.servlet.ServletRequest, = javax.servlet.ServletResponse) void = com.evermind.server.http.ServletRequestDispatcher.invoke(javax.servlet.Se= rvletRequest, javax.servlet.ServletResponse) void = com.evermind.server.http.ServletRequestDispatcher.forwardInternal(javax.s= ervlet.ServletRequest, javax.servlet.http.HttpServletResp se) boolean = com.evermind.server.http.HttpRequestHandler.processRequest(com.evermind.s= erver.ApplicationServerThread, com.evermind.server.htt EvermindHttpServletRequest, = com.evermind.server.http.EvermindHttpServletResponse, = java.io.InputStream, java.io.OutputStream, boolean) void = com.evermind.server.http.HttpRequestHandler.run(java.lang.Thread) void com.evermind.util.ThreadPoolThread.run() Nested exception: org.xml.sax.SAXNotSupportedException: = http://xml.org/sax/features/validation void = org.dom4j.io.aelfred.SAXDriver.setFeature(java.lang.String, boolean) void = org.dom4j.io.SAXReader.configureReader(org.xml.sax.XMLReader, = org.xml.sax.helpers.DefaultHandler) org.dom4j.Document = org.dom4j.io.SAXReader.read(org.xml.sax.InputSource) org.dom4j.Document = org.dom4j.io.SAXReader.read(java.io.InputStream) void = XMLRequestHandler.&amp;lt;init&amp;gt;(javax.servlet.http.HttpServletRequest, = javax.servlet.http.HttpServletResponse, EventBasedSocket, int) void GateConex.doPost(javax.servlet.http.HttpServletRequest, = javax.servlet.http.HttpServletResponse) void = javax.servlet.http.HttpServlet.service(com.evermind.server.http.EvermindH= ttpServletRequest, com.evermind.server.http.EvermindHttpS vletResponse) void = javax.servlet.http.HttpServlet.service(javax.servlet.http.HttpServletRequ= est, javax.servlet.http.HttpServletResponse) void = javax.servlet.http.HttpServlet.service(javax.servlet.ServletRequest, = javax.servlet.ServletResponse) void = com.evermind.server.http.ServletRequestDispatcher.invoke(javax.servlet.Se= rvletRequest, javax.servlet.ServletResponse) void = com.evermind.server.http.ServletRequestDispatcher.forwardInternal(javax.s= ervlet.ServletRequest, javax.servlet.http.HttpServletResp se) boolean = com.evermind.server.http.HttpRequestHandler.processRequest(com.evermind.s= erver.ApplicationServerThread, com.evermind.server.htt EvermindHttpServletRequest, = com.evermind.server.http.EvermindHttpServletResponse, = java.io.InputStream, java.io.OutputStream, boolean) void = com.evermind.server.http.HttpRequestHandler.run(java.lang.Thread) void com.evermind.util.ThreadPoolThread.run() -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 19 August 2002 11:15 To: Sahu, Santosh Kumar Subject: Re: XercesDemo.java example in dom4j is not working. Try using this script instead. (I've just added this to CVS also). James ------- http://james.weblogger.com/ From: Sahu, Santosh Kumar=20 To: James Strachan=20 Sent: Monday, August 19, 2002 10:56 AM Subject: RE: XercesDemo.java example in dom4j is not working. hi thanks for reply, i am using the build.bat and run.bat provided by dom4j. i don`t have a explicit classpath to run this programe. c:\dom4j\dom4j&amp;gt;run validate.XercesDemo xml\web.xml Exception occurred: org.xml.sax.SAXNotRecognizedException: = Property: = http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocatio= n org.xml.sax.SAXNotRecognizedException: Property: = http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocatio= n void = org.apache.crimson.parser.XMLReaderImpl.setProperty(java.lang.String, = java.lang.Object) void org.dom4j.io.SAXReader.setProperty(java.lang.String, = java.lang.Object) org.dom4j.Document = validate.XercesDemo.parse(java.lang.String) void validate.XercesDemo.run(java.lang.String[]) void AbstractDemo.run(AbstractDemo, java.lang.String[]) void validate.XercesDemo.main(java.lang.String[]) Myclasspath: = .;c:\jdk1.3.1\lib;c:\antbin\lib;c:\oc4j\j2ee\home\ejb.jar;c:\oc4j\j2ee\ho= = c:\oc4j\j2ee\home\oc4jclient.jar;c:\oc4j\j2ee\home\orionconsole.jar;c:\oc= = c:\oc4j\jdk\jre\lib\ext\jndi.jar;c:\oc4j\j2ee\home\applicationlauncher.ja= this doesn`t contain any crimson or xerces. your help will be much appreciated. can i get u r contact details please. =20 thanks, santosh -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 19 August 2002 10:34 To: Sahu, Santosh Kumar Subject: Re: XercesDemo.java example in dom4j is not working. The stack trace demonstrates the problem - crimson is on your = classpath first, so its not actually using Xerces. You'll need to mess = around with your classpath to put xerces in front of crimson. James ------- http://james.weblogger.com/ From: Sahu, Santosh Kumar=20 To: jstrachan@... Sent: Monday, August 19, 2002 10:23 AM Subject: XercesDemo.java example in dom4j is not working. Hi , i will be very thankful if i see a response quickly. i am getting the below error when i use XercesDemo.java = example. Exception occurred: org.xml.sax.SAXNotRecognizedException: = Property: http://apache.org/xml/properties/schema org.xml.sax.SAXNotRecognizedException: Property: = http://apache.org/xml/properties/schema/external-noNamespac void = org.apache.crimson.parser.XMLReaderImpl.setProperty(java.lang.String, = java.lang.Object) void = org.dom4j.io.SAXReader.setProperty(java.lang.String, java.lang.Object) org.dom4j.Document = validate.XercesDemo.parse(java.lang.String) void validate.XercesDemo.run(java.lang.String[]) void AbstractDemo.run(AbstractDemo, = java.lang.String[]) void validate.XercesDemo.main(java.lang.String[]) i don`t know why? Thanks, santosh</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: SchemaValidation problem:please looking for quick reply</header>
    <date>Wed Aug 21 12:12:00 CEST 2002</date>
    <body>If you have xerces.jar on your classpath and want to ensure that you use the Xerces parser with dom4j, irrespective of the presense or configuration of JAXP or the SAX system property you can do the following... SAXReader reader = new SAXReader( new ... That will hardwire xerces in and can save you trouble if your app server, such as OC4j, tries to force its own parser on you. James ------- http://radio.weblogs.com/0112098/ From: Sahu, Santosh Kumar To: James Strachan Sent: Wednesday, August 21, 2002 1:02 PM Subject: RE: SchemaValidation problem:please looking for quick reply thaks but OC4j appserver from oracle always looking for its own parsers xmlparserv2.jar but i don `t want to use that. i have to stop oc4j to use its own parsers which is not possible. even if i put xerces jar file also it is reading its own. so as u said i am need to overwrite SAXDRIVER calss to use oracle parser and then use it. am i correct? -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 21 August 2002 12:49 To: Sahu, Santosh Kumar Subject: Re: SchemaValidation problem:please looking for quick reply Which SAX parser do you wish to use? The bundled aelfred parser doesn't do validation very well, so I'd suggest using xerces or crimson. I would have though that one of those comes with Oracle. In which case either add the JAXP jars (these days its called xml-apis.jar and comes with xerces) to your classpath or explicitly create the XMLReader / SAXDriver / SAXParser implementation that comes with the parser you're using, like Xerces. this line... org.dom4j.io.aelfred.SAXDriver  saxdriver=new will ensure that the Aelfred parser will always be used, irrespectively of whether Xerces is on the classpath or not. James ------- http://radio.weblogs.com/0112098/ From: Sahu, Santosh Kumar To: James Strachan Sent: Wednesday, August 21, 2002 12:45 PM Subject: RE: SchemaValidation problem:please looking for quick reply Hi , i am trying to use everything from dom4j only. the code which i am using is as below this : org.dom4j.io.aelfred.SAXDriver  saxdriver=new saxdriver.setProperty( " http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation " , "gateconex.xsd" thanks , santosh -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 21 August 2002 12:36 To: Sahu, Santosh Kumar Subject: Re: SchemaValidation problem:please looking for quick reply which package is SAXDriver from? Which parser (and version) are you trying to use? James ------- http://radio.weblogs.com/0112098/ From: Sahu, Santosh Kumar To: James Strachan Sent: Wednesday, August 21, 2002 12:30 PM Subject: RE: SchemaValidation problem:please looking for quick reply it is also not working can u please provide a working model using SAXDriver please. -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 21 August 2002 12:18 To: Sahu, Santosh Kumar; dom4j-user@... Subject: Re: SchemaValidation problem:please looking for quick reply Hi Santosh You need to explicitly set the correct SAXDriver implementation on the SAXReader, either via creating the right Xerces/Crimson XMLReader implementation, or by adding xml-apis.jar and xerces.jar to your classpath, then JAXP will be used to find the Xerces parser. James ------- http://radio.weblogs.com/0112098/ From: Sahu, Santosh Kumar To: James Strachan Sent: Wednesday, August 21, 2002 12:13 PM Subject: SchemaValidation problem:please looking for quick reply Hi, i am using the below code: reader.setProperty( " http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation " , "gateconex.xsd" when i am running this programe i am getting the below exception: org.dom4j.DocumentException: Validation not supported for XMLReader: org.dom4j.io.aelfred.SAXDriver@... Nested exception: http://xml.org/sax/feat es/validation Nested exception: Validation not supported for XMLReader: org.dom4j.io.aelfred.SAXDriver@... Nested exception: http://xml.org/sax/f tures/validation org.dom4j.Document org.dom4j.io.SAXReader.read(org.xml.sax.InputSource) org.dom4j.Document org.dom4j.io.SAXReader.read(java.io.InputStream) void XMLRequestHandler.&amp;lt;init&amp;gt;(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, EventBasedSocket, int) void GateConex.doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) void javax.servlet.http.HttpServlet.service(com.evermind.server.http.EvermindHttp ServletRequest, com.evermind.server.http.EvermindHttpS vletResponse) void javax.servlet.http.HttpServlet.service(javax.servlet.http.HttpServletRequest , javax.servlet.http.HttpServletResponse) void javax.servlet.http.HttpServlet.service(javax.servlet.ServletRequest, javax.servlet.ServletResponse) void com.evermind.server.http.ServletRequestDispatcher.invoke(javax.servlet.Servl etRequest, javax.servlet.ServletResponse) void com.evermind.server.http.ServletRequestDispatcher.forwardInternal(javax.serv let.ServletRequest, javax.servlet.http.HttpServletResp se) boolean com.evermind.server.http.HttpRequestHandler.processRequest(com.evermind.serv er.ApplicationServerThread, com.evermind.server.htt EvermindHttpServletRequest, com.evermind.server.http.EvermindHttpServletResponse, java.io.InputStream, java.io.OutputStream, boolean) void com.evermind.server.http.HttpRequestHandler.run(java.lang.Thread) void com.evermind.util.ThreadPoolThread.run() Nested exception: org.dom4j.DocumentException: Validation not supported for XMLReader: org.dom4j.io.aelfred.SAXDriver@... Nested exception: http: xml.org/sax/features/validation void org.dom4j.io.SAXReader.configureReader(org.xml.sax.XMLReader, org.xml.sax.helpers.DefaultHandler) org.dom4j.Document org.dom4j.io.SAXReader.read(org.xml.sax.InputSource) org.dom4j.Document org.dom4j.io.SAXReader.read(java.io.InputStream) void XMLRequestHandler.&amp;lt;init&amp;gt;(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, EventBasedSocket, int) void GateConex.doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) void javax.servlet.http.HttpServlet.service(com.evermind.server.http.EvermindHttp ServletRequest, com.evermind.server.http.EvermindHttpS vletResponse) void javax.servlet.http.HttpServlet.service(javax.servlet.http.HttpServletRequest , javax.servlet.http.HttpServletResponse) void javax.servlet.http.HttpServlet.service(javax.servlet.ServletRequest, javax.servlet.ServletResponse) void com.evermind.server.http.ServletRequestDispatcher.invoke(javax.servlet.Servl etRequest, javax.servlet.ServletResponse) void com.evermind.server.http.ServletRequestDispatcher.forwardInternal(javax.serv let.ServletRequest, javax.servlet.http.HttpServletResp se) boolean com.evermind.server.http.HttpRequestHandler.processRequest(com.evermind.serv er.ApplicationServerThread, com.evermind.server.htt EvermindHttpServletRequest, com.evermind.server.http.EvermindHttpServletResponse, java.io.InputStream, java.io.OutputStream, boolean) void com.evermind.server.http.HttpRequestHandler.run(java.lang.Thread) void com.evermind.util.ThreadPoolThread.run() Nested exception: org.xml.sax.SAXNotSupportedException: http://xml.org/sax/features/validation void org.dom4j.io.aelfred.SAXDriver.setFeature(java.lang.String, boolean) void org.dom4j.io.SAXReader.configureReader(org.xml.sax.XMLReader, org.xml.sax.helpers.DefaultHandler) org.dom4j.Document org.dom4j.io.SAXReader.read(org.xml.sax.InputSource) org.dom4j.Document org.dom4j.io.SAXReader.read(java.io.InputStream) void XMLRequestHandler.&amp;lt;init&amp;gt;(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, EventBasedSocket, int) void GateConex.doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) void javax.servlet.http.HttpServlet.service(com.evermind.server.http.EvermindHttp ServletRequest, com.evermind.server.http.EvermindHttpS vletResponse) void javax.servlet.http.HttpServlet.service(javax.servlet.http.HttpServletRequest , javax.servlet.http.HttpServletResponse) void javax.servlet.http.HttpServlet.service(javax.servlet.ServletRequest, javax.servlet.ServletResponse) void com.evermind.server.http.ServletRequestDispatcher.invoke(javax.servlet.Servl etRequest, javax.servlet.ServletResponse) void com.evermind.server.http.ServletRequestDispatcher.forwardInternal(javax.serv let.ServletRequest, javax.servlet.http.HttpServletResp se) boolean com.evermind.server.http.HttpRequestHandler.processRequest(com.evermind.serv er.ApplicationServerThread, com.evermind.server.htt EvermindHttpServletRequest, com.evermind.server.http.EvermindHttpServletResponse, java.io.InputStream, java.io.OutputStream, boolean) void com.evermind.server.http.HttpRequestHandler.run(java.lang.Thread) void com.evermind.util.ThreadPoolThread.run() -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 19 August 2002 11:15 To: Sahu, Santosh Kumar Subject: Re: XercesDemo.java example in dom4j is not working. Try using this script instead. (I've just added this to CVS also). James ------- http://james.weblogger.com/ From: Sahu, Santosh Kumar To: James Strachan Sent: Monday, August 19, 2002 10:56 AM Subject: RE: XercesDemo.java example in dom4j is not working. hi thanks for reply, i am using the build.bat and run.bat provided by dom4j. i don`t have a explicit classpath to run this programe. c:\dom4j\dom4j&amp;gt;run validate.XercesDemo xml\web.xml Exception occurred: org.xml.sax.SAXNotRecognizedException: Property: http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation org.xml.sax.SAXNotRecognizedException: Property: http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation void org.apache.crimson.parser.XMLReaderImpl.setProperty(java.lang.String, java.lang.Object) void org.dom4j.io.SAXReader.setProperty(java.lang.String, java.lang.Object) org.dom4j.Document validate.XercesDemo.parse(java.lang.String) void validate.XercesDemo.run(java.lang.String[]) void AbstractDemo.run(AbstractDemo, java.lang.String[]) void validate.XercesDemo.main(java.lang.String[]) Myclasspath: .;c:\jdk1.3.1\lib;c:\antbin\lib;c:\oc4j\j2ee\home\ejb.jar;c:\oc4j\j2ee\home\ c:\oc4j\j2ee\home\oc4jclient.jar;c:\oc4j\j2ee\home\orionconsole.jar;c:\oc4j\ c:\oc4j\jdk\jre\lib\ext\jndi.jar;c:\oc4j\j2ee\home\applicationlauncher.jar;c this doesn`t contain any crimson or xerces. your help will be much appreciated. can i get u r contact details please. thanks, santosh -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 19 August 2002 10:34 To: Sahu, Santosh Kumar Subject: Re: XercesDemo.java example in dom4j is not working. The stack trace demonstrates the problem - crimson is on your classpath first, so its not actually using Xerces. You'll need to mess around with your classpath to put xerces in front of crimson. James ------- http://james.weblogger.com/ From: Sahu, Santosh Kumar To: jstrachan@... Sent: Monday, August 19, 2002 10:23 AM Subject: XercesDemo.java example in dom4j is not working. Hi , i will be very thankful if i see a response quickly. i am getting the below error when i use XercesDemo.java example. Exception occurred: org.xml.sax.SAXNotRecognizedException: Property: http://apache.org/xml/properties/schema org.xml.sax.SAXNotRecognizedException: Property: http://apache.org/xml/properties/schema/external-noNamespac void org.apache.crimson.parser.XMLReaderImpl.setProperty(java.lang.String, java.lang.Object) void org.dom4j.io.SAXReader.setProperty(java.lang.String, java.lang.Object) org.dom4j.Document validate.XercesDemo.parse(java.lang.String) void validate.XercesDemo.run(java.lang.String[]) void AbstractDemo.run(AbstractDemo, java.lang.String[]) void validate.XercesDemo.main(java.lang.String[]) i don`t know why? Thanks, santosh __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: SchemaValidation problem:please looking for quick reply</header>
    <date>Wed Aug 21 13:33:00 CEST 2002</date>
    <body>This is because when you run code inside an application server you typically don't have much control over the current working directory. So when you parse some XML using request.getInputStream() the parser has no idea where to look for the DTD / XSD file other than the current directory and hence it can't find it. The typical way to solve this problem is to attacha SAX EntityResolver to the SAXReader so that you can read the DTD or schema file from whereever you wish, the classpath, ServletContext, a website near you or whatever. There's details here... James ------- http://radio.weblogs.com/0112098/ Sent: Wednesday, August 21, 2002 2:07 PM Subject: RE: SchemaValidation problem:please looking for quick reply HI , Thant progme is working fine as a standlalone programe. but when i run it in OC4j: i am getting the below:error: this is expecting a DTD all the time when i am running in OC4j. Below is the code: org.dom4j.io.SAXReader reader = new org.dom4j.io.SAXReader( new reader.setProperty( " http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation " , "gateconex.xsd" if (error.hasContent()) -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 21 August 2002 13:25 To: Sahu, Santosh Kumar Subject: Re: SchemaValidation problem:please looking for quick reply Cool. i will call. Hey this is open source. Its a voluntary thing, so it doesn't come with phone support. Unless you wanna support contract and gimme some money :-). James ------- http://radio.weblogs.com/0112098/ Sent: Wednesday, August 21, 2002 1:26 PM Subject: RE: SchemaValidation problem:please looking for quick reply öps thats working great. can i get u r contact phone number just if there are any production issues i will call. thanks a million. -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 21 August 2002 13:09 To: Sahu, Santosh Kumar; dom4j-user@... Subject: Re: SchemaValidation problem:please looking for quick reply If you have xerces.jar on your classpath and want to ensure that you use the Xerces parser with dom4j, irrespective of the presense or configuration of JAXP or the SAX system property you can do the following... SAXReader reader = new SAXReader( new ... That will hardwire xerces in and can save you trouble if your app server, such as OC4j, tries to force its own parser on you. James ------- http://radio.weblogs.com/0112098/ From: Sahu, Santosh Kumar To: James Strachan Sent: Wednesday, August 21, 2002 1:02 PM Subject: RE: SchemaValidation problem:please looking for quick reply thaks but OC4j appserver from oracle always looking for its own parsers xmlparserv2.jar but i don `t want to use that. i have to stop oc4j to use its own parsers which is not possible. even if i put xerces jar file also it is reading its own. so as u said i am need to overwrite SAXDRIVER calss to use oracle parser and then use it. am i correct? -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 21 August 2002 12:49 To: Sahu, Santosh Kumar Subject: Re: SchemaValidation problem:please looking for quick reply Which SAX parser do you wish to use? The bundled aelfred parser doesn't do validation very well, so I'd suggest using xerces or crimson. I would have though that one of those comes with Oracle. In which case either add the JAXP jars (these days its called xml-apis.jar and comes with xerces) to your classpath or explicitly create the XMLReader / SAXDriver / SAXParser implementation that comes with the parser you're using, like Xerces. this line... org.dom4j.io.aelfred.SAXDriver  saxdriver=new will ensure that the Aelfred parser will always be used, irrespectively of whether Xerces is on the classpath or not. James ------- http://radio.weblogs.com/0112098/ From: Sahu, Santosh Kumar To: James Strachan Sent: Wednesday, August 21, 2002 12:45 PM Subject: RE: SchemaValidation problem:please looking for quick reply Hi , i am trying to use everything from dom4j only. the code which i am using is as below this : org.dom4j.io.aelfred.SAXDriver  saxdriver=new saxdriver.setProperty( " http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation " , "gateconex.xsd" thanks , santosh -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 21 August 2002 12:36 To: Sahu, Santosh Kumar Subject: Re: SchemaValidation problem:please looking for quick reply which package is SAXDriver from? Which parser (and version) are you trying to use? James ------- http://radio.weblogs.com/0112098/ From: Sahu, Santosh Kumar To: James Strachan Sent: Wednesday, August 21, 2002 12:30 PM Subject: RE: SchemaValidation problem:please looking for quick reply it is also not working can u please provide a working model using SAXDriver please. -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 21 August 2002 12:18 To: Sahu, Santosh Kumar; dom4j-user@... Subject: Re: SchemaValidation problem:please looking for quick reply Hi Santosh You need to explicitly set the correct SAXDriver implementation on the SAXReader, either via creating the right Xerces/Crimson XMLReader implementation, or by adding xml-apis.jar and xerces.jar to your classpath, then JAXP will be used to find the Xerces parser. James ------- http://radio.weblogs.com/0112098/ From: Sahu, Santosh Kumar To: James Strachan Sent: Wednesday, August 21, 2002 12:13 PM Subject: SchemaValidation problem:please looking for quick reply Hi, i am using the below code: reader.setProperty( " http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation " , "gateconex.xsd" when i am running this programe i am getting the below exception: org.dom4j.DocumentException: Validation not supported for XMLReader: org.dom4j.io.aelfred.SAXDriver@... Nested exception: http://xml.org/sax/feat es/validation Nested exception: Validation not supported for XMLReader: org.dom4j.io.aelfred.SAXDriver@... Nested exception: http://xml.org/sax/f tures/validation org.dom4j.Document org.dom4j.io.SAXReader.read(org.xml.sax.InputSource) org.dom4j.Document org.dom4j.io.SAXReader.read(java.io.InputStream) void XMLRequestHandler.&amp;lt;init&amp;gt;(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, EventBasedSocket, int) void GateConex.doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) void javax.servlet.http.HttpServlet.service(com.evermind.server.http.EvermindHttp ServletRequest, com.evermind.server.http.EvermindHttpS vletResponse) void javax.servlet.http.HttpServlet.service(javax.servlet.http.HttpServletRequest , javax.servlet.http.HttpServletResponse) void javax.servlet.http.HttpServlet.service(javax.servlet.ServletRequest, javax.servlet.ServletResponse) void com.evermind.server.http.ServletRequestDispatcher.invoke(javax.servlet.Servl etRequest, javax.servlet.ServletResponse) void com.evermind.server.http.ServletRequestDispatcher.forwardInternal(javax.serv let.ServletRequest, javax.servlet.http.HttpServletResp se) boolean com.evermind.server.http.HttpRequestHandler.processRequest(com.evermind.serv er.ApplicationServerThread, com.evermind.server.htt EvermindHttpServletRequest, com.evermind.server.http.EvermindHttpServletResponse, java.io.InputStream, java.io.OutputStream, boolean) void com.evermind.server.http.HttpRequestHandler.run(java.lang.Thread) void com.evermind.util.ThreadPoolThread.run() Nested exception: org.dom4j.DocumentException: Validation not supported for XMLReader: org.dom4j.io.aelfred.SAXDriver@... Nested exception: http: xml.org/sax/features/validation void org.dom4j.io.SAXReader.configureReader(org.xml.sax.XMLReader, org.xml.sax.helpers.DefaultHandler) org.dom4j.Document org.dom4j.io.SAXReader.read(org.xml.sax.InputSource) org.dom4j.Document org.dom4j.io.SAXReader.read(java.io.InputStream) void XMLRequestHandler.&amp;lt;init&amp;gt;(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, EventBasedSocket, int) void GateConex.doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) void javax.servlet.http.HttpServlet.service(com.evermind.server.http.EvermindHttp ServletRequest, com.evermind.server.http.EvermindHttpS vletResponse) void javax.servlet.http.HttpServlet.service(javax.servlet.http.HttpServletRequest , javax.servlet.http.HttpServletResponse) void javax.servlet.http.HttpServlet.service(javax.servlet.ServletRequest, javax.servlet.ServletResponse) void com.evermind.server.http.ServletRequestDispatcher.invoke(javax.servlet.Servl etRequest, javax.servlet.ServletResponse) void com.evermind.server.http.ServletRequestDispatcher.forwardInternal(javax.serv let.ServletRequest, javax.servlet.http.HttpServletResp se) boolean com.evermind.server.http.HttpRequestHandler.processRequest(com.evermind.serv er.ApplicationServerThread, com.evermind.server.htt EvermindHttpServletRequest, com.evermind.server.http.EvermindHttpServletResponse, java.io.InputStream, java.io.OutputStream, boolean) void com.evermind.server.http.HttpRequestHandler.run(java.lang.Thread) void com.evermind.util.ThreadPoolThread.run() Nested exception: org.xml.sax.SAXNotSupportedException: http://xml.org/sax/features/validation void org.dom4j.io.aelfred.SAXDriver.setFeature(java.lang.String, boolean) void org.dom4j.io.SAXReader.configureReader(org.xml.sax.XMLReader, org.xml.sax.helpers.DefaultHandler) org.dom4j.Document org.dom4j.io.SAXReader.read(org.xml.sax.InputSource) org.dom4j.Document org.dom4j.io.SAXReader.read(java.io.InputStream) void XMLRequestHandler.&amp;lt;init&amp;gt;(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, EventBasedSocket, int) void GateConex.doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) void javax.servlet.http.HttpServlet.service(com.evermind.server.http.EvermindHttp ServletRequest, com.evermind.server.http.EvermindHttpS vletResponse) void javax.servlet.http.HttpServlet.service(javax.servlet.http.HttpServletRequest , javax.servlet.http.HttpServletResponse) void javax.servlet.http.HttpServlet.service(javax.servlet.ServletRequest, javax.servlet.ServletResponse) void com.evermind.server.http.ServletRequestDispatcher.invoke(javax.servlet.Servl etRequest, javax.servlet.ServletResponse) void com.evermind.server.http.ServletRequestDispatcher.forwardInternal(javax.serv let.ServletRequest, javax.servlet.http.HttpServletResp se) boolean com.evermind.server.http.HttpRequestHandler.processRequest(com.evermind.serv er.ApplicationServerThread, com.evermind.server.htt EvermindHttpServletRequest, com.evermind.server.http.EvermindHttpServletResponse, java.io.InputStream, java.io.OutputStream, boolean) void com.evermind.server.http.HttpRequestHandler.run(java.lang.Thread) void com.evermind.util.ThreadPoolThread.run() -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 19 August 2002 11:15 To: Sahu, Santosh Kumar Subject: Re: XercesDemo.java example in dom4j is not working. Try using this script instead. (I've just added this to CVS also). James ------- http://james.weblogger.com/ From: Sahu, Santosh Kumar To: James Strachan Sent: Monday, August 19, 2002 10:56 AM Subject: RE: XercesDemo.java example in dom4j is not working. hi thanks for reply, i am using the build.bat and run.bat provided by dom4j. i don`t have a explicit classpath to run this programe. c:\dom4j\dom4j&amp;gt;run validate.XercesDemo xml\web.xml Exception occurred: org.xml.sax.SAXNotRecognizedException: Property: http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation org.xml.sax.SAXNotRecognizedException: Property: http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation void org.apache.crimson.parser.XMLReaderImpl.setProperty(java.lang.String, java.lang.Object) void org.dom4j.io.SAXReader.setProperty(java.lang.String, java.lang.Object) org.dom4j.Document validate.XercesDemo.parse(java.lang.String) void validate.XercesDemo.run(java.lang.String[]) void AbstractDemo.run(AbstractDemo, java.lang.String[]) void validate.XercesDemo.main(java.lang.String[]) Myclasspath: .;c:\jdk1.3.1\lib;c:\antbin\lib;c:\oc4j\j2ee\home\ejb.jar;c:\oc4j\j2ee\home\ c:\oc4j\j2ee\home\oc4jclient.jar;c:\oc4j\j2ee\home\orionconsole.jar;c:\oc4j\ c:\oc4j\jdk\jre\lib\ext\jndi.jar;c:\oc4j\j2ee\home\applicationlauncher.jar;c this doesn`t contain any crimson or xerces. your help will be much appreciated. can i get u r contact details please. thanks, santosh -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: 19 August 2002 10:34 To: Sahu, Santosh Kumar Subject: Re: XercesDemo.java example in dom4j is not working. The stack trace demonstrates the problem - crimson is on your classpath first, so its not actually using Xerces. You'll need to mess around with your classpath to put xerces in front of crimson. James ------- http://james.weblogger.com/ From: Sahu, Santosh Kumar To: jstrachan@... Sent: Monday, August 19, 2002 10:23 AM Subject: XercesDemo.java example in dom4j is not working. Hi , i will be very thankful if i see a response quickly. i am getting the below error when i use XercesDemo.java example. Exception occurred: org.xml.sax.SAXNotRecognizedException: Property: http://apache.org/xml/properties/schema org.xml.sax.SAXNotRecognizedException: Property: http://apache.org/xml/properties/schema/external-noNamespac void org.apache.crimson.parser.XMLReaderImpl.setProperty(java.lang.String, java.lang.Object) void org.dom4j.io.SAXReader.setProperty(java.lang.String, java.lang.Object) org.dom4j.Document validate.XercesDemo.parse(java.lang.String) void validate.XercesDemo.run(java.lang.String[]) void AbstractDemo.run(AbstractDemo, java.lang.String[]) void validate.XercesDemo.main(java.lang.String[]) i don`t know why? Thanks, santosh __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] XMLWriter use as a simple document generator ?</header>
    <date>Tue Aug 20 15:45:00 CEST 2002</date>
    <body>Hi, I have to generate a very simple XML from scratch for B2B, programmatically. I thought about using the XmlWriter and making looped calls to startElement/endElement - for those who are familiar with .NET, in the same way as an XmlTextWriter. Is the XmlWriter the preferred way of doing this ? I don't want to create a full document in memory, just to generate on-the-fly document to a stream with a low memory footprint. Any ideas/pointers welcome Cheers, Thibaut</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XMLWriter use as a simple document generator ?</header>
    <date>Tue Aug 20 16:28:00 CEST 2002</date>
    <body>programmatically. same a The XMLWriter also implements the SAX ContentHandler interface, so you can fire SAX events directly into the XMLWriter. So the XMLWriter class can take XML fragments (Element subtrees), whole XML documents, nodes or SAX events. FWIW there's a JSR being defined to create a pull parsing API, called StAX, which is going to be vagulely similar to .NET's XmlReader/XmlWriter classes. Once its done we'll integrate support for it into dom4j. http://jcp.org/jsr/detail/173.jsp James ------- http://james.weblogger.com/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] [Q] How do I create an XPath with a NamespaceCon
	 text?</header>
    <date>Tue Aug 20 15:52:00 CEST 2002</date>
    <body>Well, that's what I'm trying to do, but I thought I have to register it with the XPath object.  And since the expression won't parse, I don't get an XPath object.  I guess I could register the function with the global FunctionContext (XPathFunctionContext.getInstance()), but I haven't tried that yet.  And further, I guess I have to register the namespace with some global NamespaceContext as well, and I don't know how to do that... -- knut http://www.w3.org/TR/xpath#NT-LocationPath ), but I can't http://www.w3.org/TR/xpath#NT-FunctionCall ).  So http://werken.com/ https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 https://lists.sourceforge.net/lists/listinfo/dom4j-user http://werken.com/ https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] [Q] How do I create an XPath with a NamespaceCon
	 text?</header>
    <date>Tue Aug 20 16:01:00 CEST 2002</date>
    <body>Yes, I bound the function to the correct URI (specified in XPathFunctionContext.registerFunction()), and the prefix to the same URI for the NamespaceContext.  But I never get to the point where I can ever register the contexts. As the expression won't even parse correctly I imagine there is something wrong further down.  (I haven't tried to debug the code to locate it, but it's somewhere beyond the org.jaxen.dom4j.XPath(String) constructor.) Can somebody think of a workaround besides not using any namespace at all? -- knut http://james.weblogger.com/ http://uk.my.yahoo.com https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] [Q] How do I create an XPath with a NamespaceCon
	text?</header>
    <date>Tue Aug 20 15:21:00 CEST 2002</date>
    <body>Doing it the way you suggest seems to work for LocationPath expressions ( http://www.w3.org/TR/xpath#NT-LocationPath ), but I can't get it to work for a FunctionCall expression ( http://www.w3.org/TR/xpath#NT-FunctionCall ).  So If you try: or: XPath xpath = DocumentFactory.getInstance.createXPath( "bar:baz()" you get an exception.  Is this a bug in the implementation? -- knut http://werken.com/ https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] [Q] How do I create an XPath with a NamespaceCon text?</header>
    <date>Tue Aug 20 15:27:00 CEST 2002</date>
    <body>I think jaxen -may- have an issue with functions in a namespace. You've registered bar:baz() with a FunctionContext? -bob On Tue, 20 Aug 2002, Wannheden, Knut wrote: http://www.w3.org/TR/xpath#NT-LocationPath ), but I can't get it to work for http://www.w3.org/TR/xpath#NT-FunctionCall ).  So http://werken.com/ https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Bob McWhirter        bob@... The Werken Company http://werken.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] [Q] How do I create an XPath with a NamespaceCon text?</header>
    <date>Tue Aug 20 15:41:00 CEST 2002</date>
    <body>And you'll need both your function bound to the URI and 'bar' prefix bound to the same URI, I would imagine. James ------- http://james.weblogger.com/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] [Q] How do I create an XPath with a NamespaceContext?</header>
    <date>Tue Aug 20 15:04:00 CEST 2002</date>
    <body>Hi, I would like to evaluate an XPath expression which uses a function from a custom library, which is associated with a namespace.  So the expression looks like this: re:match('abc', '?b?') As I understand it I have to create an XPath object and associate a NamespaceContext and a FunctionContext with it using XPath.setNamespaceContext() and XPath.setFunctionContext() respectively. But I already get an exception when I try to create the XPath object: org.dom4j.InvalidXPathException: Invalid XPath expression: re:match('abc', '?b?') Unexpected '(' at org.dom4j.xpath.DefaultXPath.parse(DefaultXPath.java:316) at org.dom4j.xpath.DefaultXPath.&amp;lt;init&amp;gt;(DefaultXPath.java:63) at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:182) If I however remove the namespace from the expression (yielding "match('abc', '?b?')") it works! I just can't figure out how to do this... Can someone tell me what I have to do? Regards, -- knut</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] [Q] How do I create an XPath with a NamespaceContext?</header>
    <date>Tue Aug 20 15:09:00 CEST 2002</date>
    <body>/* or */ See the API docs for org.dom4j.Node and org.dom4j.XPath. -bob On Tue, 20 Aug 2002, Wannheden, Knut wrote: -- Bob McWhirter        bob@... The Werken Company http://werken.com/</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] (no subject)</header>
    <date>Mon Aug 19 13:41:00 CEST 2002</date>
    <body>I don't understand your question! What do you want to do with XPath? = and what is a XPath processor...=20 First of all, the jar file you are trying to referns to is called dom4j-full.jar and not dom4full.jar. If you want to use it you have to do as with all other jar files, put = it in your classpath or in the ext catalog in the jdk installation. /Christian http://photos.msn.com/support/worldwide.aspx https://www.inphonic.com/r.asp?r=3Dsourceforge1&amp;amp;refcode1=3Dvs3390 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Thu Aug 08 21:25:00 CEST 2002</date>
    <body>All, Though my xml file has &amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt; processing Instruction. when i tried document.removeProcessingInstruction("xml"); it's not removing PI from my xml. Since it was not removing that PI i thought of trying first to check what it returns with document.processingInstructions(); method, but it returns empty list. Could anyone tell me why it's not removing PI from xml ? am using dom4j-full-1.3 and JDK1.3. Thanks, Vicky --------------------------------- Do You Yahoo!? HotJobs, a Yahoo! service - Search Thousands of New Jobs</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Fri Aug 09 10:30:00 CEST 2002</date>
    <body>Hi, I have problems getting an XPath expression to work which uses a custom function I have written.  The expression looks like this: and as soon as I create the XPath (I've tried DocumentFactory.createXPath(), DefaultXPath(), org.jaxen.dom4j.XPath()) I get a InvalidXPathException with '('". I know that there is a FunctionContext and a NamespeceContext in Jaxen, but to set those I thought I first needed the XPath object... I've also tried using DocumentFactory.setXPathNamespaceURIs() but without avail. Without using the "re" namespace there isn't any problem, so the problem seems to be that the XPath constructor tries to resolve it but can't because it isn't registered yet. The "re" namespace is not declared in the document I process, it just provides a function I want to use internally in the application when processing the document. Can somebody help out here? TIA, -- knut</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Mon Aug 19 11:53:00 CEST 2002</date>
    <body>Hello! Do you know in which directory do I have to put dom4j.jar in order to use the XPath processor? Thank you. Leticia _________________________________________________________________ Chat with friends online, try MSN Messenger: http://messenger.msn.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Mon Aug 19 13:04:00 CEST 2002</date>
    <body>Hello! What must I do exactly to use correctly the Xpath processor? Where do I have to put dom4full.jar? Thank you. Leticia _________________________________________________________________ MSN Photos is the easiest way to share and print your photos: http://photos.msn.com/support/worldwide.aspx</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with CDATA and XSL - funny output</header>
    <date>Thu Aug 15 08:19:00 CEST 2002</date>
    <body>Hello, Im using dom4j version 3 together with jdk1.4.1b and tomcat 4.0. e.g xalan,crimson Somewhere in my xsl file I have following: when I transform the cdata with dom4j i get this in the output document: java code is something like Transformer transformer = any ideas? regards john -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with CDATA and XSL - funny output</header>
    <date>Thu Aug 15 08:30:00 CEST 2002</date>
    <body>Sorry, doubtlessness its dom4j version 1.3 stable and windows 2000 http://www.gmx.net https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 https://lists.sourceforge.net/lists/listinfo/dom4j-user -- GMX - Die Kommunikationsplattform im Internet. http://www.gmx.net</body>
  </mail>
  <mail>
    <header>[dom4j-user] helpful information for outputting non-English characters</header>
    <date>Tue Aug 13 18:13:00 CEST 2002</date>
    <body>I was having trouble outputting special characters in French and German from a document created with dom4j. The characters originated in the text body of an element. The document would be generated on the server (in a web application) and transmitted to a client (Java applet), where the French or German text would be displayed. But on the client, the characters (like an "e" with an accent) would show up corrupted. I managed to fix this problem by using an org.dom4j.io.XMLWriter instead of a regular OutputStreamWriter. Here's the server-side code that worked: Here's the server-side code that failed: My next task is to output and transmit double-byte (Japanese) characters in the text of an element. I am hoping the above change will suffice.</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath expression not work!?</header>
    <date>Fri Aug 02 08:20:00 CEST 2002</date>
    <body>Hi! I want to use a XPath Expression like: //*[name()='DDD'] I have tested this under http://www.zvon.org:9001/saxon/cgi-bin/XLab/XML/extras.html and it works well, but it do not work with dom4j. Any suggestions? -- Beste Grüße / Best Regards, Marc Pellmann __________________________________________________________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath expression not work!?</header>
    <date>Fri Aug 02 10:19:00 CEST 2002</date>
    <body>Hi! I want to use a XPath Expression like: //*[name()='DDD'] I have tested this under http://www.zvon.org:9001/saxon/cgi-bin/XLab/XML/extras.html and it works well, but it do not work with dom4j. Any suggestions? -- Beste Grüße / Best Regards, Marc Pellmann __________________________________________________________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath expression not work!?</header>
    <date>Fri Aug 02 10:56:00 CEST 2002</date>
    <body>On Fri, 2 Aug 2002, Marc Pellmann wrote: http://www.zvon.org:9001/saxon/cgi-bin/XLab/XML/extras.html and it works Can't really help without a sample document. -bob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath expression not work!?</header>
    <date>Fri Aug 09 15:29:00 CEST 2002</date>
    <body>It certainly looks liek a valid XPath expression that should work with dom4j and Jaxen. Do you have an example of it not working? James ------- http://james.weblogger.com/ Sent: Friday, August 02, 2002 9:12 AM Subject: [dom4j-user] XPath expression not work!? http://www.zvon.org:9001/saxon/cgi-bin/XLab/XML/extras.html and it works http://www.inubit.com http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath expression not work!?</header>
    <date>Mon Aug 12 12:31:00 CEST 2002</date>
    <body>James Strachan wrote: My failure was, that I used  //*[name()='DDD'] on a branch and not an a document. How Bob McWhirter wrote me, I need to use a point before.. because it is relativ. -- Beste Grüße / Best Regards, Marc Pellmann __________________________________________________________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Processing Instruction problem with removeProcessingInstruction() method</header>
    <date>Fri Aug 09 13:02:00 CEST 2002</date>
    <body />
  </mail>
  <mail>
    <header>RE: [dom4j-user] Processing Instruction problem with removeProcessingInstruction() method</header>
    <date>Fri Aug 09 13:59:00 CEST 2002</date>
    <body>Hi, This is not treated as a PI, it is a declaration The XMLWriter has an OutputFormat object associated with it. On the OutputFormat there is a boolean property to suppress the declaration Mike Skells -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of JavaXML Developer Sent: Friday 9 August 2002 14:03 To: dom4j-user@... Subject: [dom4j-user] Processing Instruction problem with removeProcessingInstruction() method Hi All, I badly need help to get removeProcessingInstruction() method wrok. If anybody could suggest me a solution, would highly be appreciated. _____ Do You Yahoo!? http://rd.yahoo.com/careers/mailsig/new/*http://www.hotjobs.com a Yahoo! service - Search Thousands of New Jobs</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Processing Instruction problem with removeProcessingInstruction() method</header>
    <date>Fri Aug 09 14:04:00 CEST 2002</date>
    <body>Hi, The xml declaration is not a processing instruction. So you cannot remove it this way. Use the setSuppressDeclaration() method of OutputFormat and feed it to your XMLWriter constructor. Cheers /Mattias -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of JavaXML Developer Sent: den 9 augusti 2002 14:03 To: dom4j-user@... Subject: [dom4j-user] Processing Instruction problem with removeProcessingInstruction() method Hi All, I badly need help to get removeProcessingInstruction() method wrok. If anybody could suggest me a solution, would highly be appreciated. _____ Do You Yahoo!? HotJobs, http://rd.yahoo.com/careers/mailsig/new/*http:/www.hotjobs.com &amp;gt;  a Yahoo! service - Search Thousands of New Jobs</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Processing Instruction problem with removeProcessingInstruction() method</header>
    <date>Fri Aug 09 14:53:00 CEST 2002</date>
    <body>Thank you so much but in my case on the fly dom4j document is getting generated and before displaying or storing it i need to remove xml declaration. I am not using XMLWriter and so OutputFormat. Is there any other way i could remove xml declaration from dom4j document directly instead of setSuppressDeclaration(true); ? Thanks, Vicky Mattias Reichel wrote: Hi, The xml declaration is not a processing instruction. So you cannot remove it this way. Use the setSuppressDeclaration() method of OutputFormat and feed it to your XMLWriter constructor. Cheers /Mattias -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of JavaXML Developer Sent: den 9 augusti 2002 14:03 To: dom4j-user@... Subject: [dom4j-user] Processing Instruction problem with removeProcessingInstruction() method Hi All, I badly need help to get removeProcessingInstruction() method wrok. If anybody could suggest me a solution, would highly be appreciated. --------------------------------- Do You Yahoo!? HotJobs, a Yahoo! service - Search Thousands of New Jobs --------------------------------- Do You Yahoo!? HotJobs, a Yahoo! service - Search Thousands of New Jobs</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Processing Instruction problem with removeProcessingInstruction() method</header>
    <date>Fri Aug 09 15:26:00 CEST 2002</date>
    <body>Both Mike and Mattias are both correct. The XML declaration is exactly = that, an XML declaration and it is not a processing instruction. It may = look like a processing instruction though (one of XML's quirks). So I take it that you are using document.asXML() or = document.write(Writer) to turn the Document back into into XML text? If = so, the only way to supress the XML declaration is to use the XMLWriter = and OutputFormat(). The XML declaration is not really there, in a dom4j = Document. It is just added by default in the asXML() or write() methods = of Document. Another option is to just output the root element and not the document. Note that the above is a bit of a back and would loose any comments or = processing instructions outside of the root element. for example = consider this XML document, however for data-centric XML programs it = could work. James ------- http://james.weblogger.com/ From: JavaXML Developer=20 To: Mattias Reichel=20 Cc: dom4j-user@... Sent: Friday, August 09, 2002 3:53 PM Subject: RE: [dom4j-user] Processing Instruction problem with = removeProcessingInstruction() method Thank you so much but in my case on the fly dom4j document is getting = generated and before displaying or storing it i need to remove xml = declaration. I am not using XMLWriter and so OutputFormat. Is there any = other way i could remove xml declaration from dom4j document directly = instead of setSuppressDeclaration(true); ?=20 Thanks,=20 Vicky=20 Mattias Reichel wrote:=20 Hi, The xml declaration is not a processing instruction. So you cannot remove it this way. Use the setSuppressDeclaration() method of OutputFormat and feed it = to your XMLWriter constructor. Cheers /Mattias -----Original Message----- From: dom4j-user-admin@... = [mailto:dom4j-user-admin@...] On Behalf Of JavaXML = Developer Sent: den 9 augusti 2002 14:03 To: dom4j-user@... Subject: [dom4j-user] Processing Instruction problem with = removeProcessingInstruction() method Hi All,=20 I badly need help to get removeProcessingInstruction() method wrok. = If anybody could suggest me a solution, would highly be appreciated. -------------------------------------------------------------------------= --- Do You Yahoo!? HotJobs, a Yahoo! service - Search Thousands of New Jobs -------------------------------------------------------------------------= ----- Do You Yahoo!? HotJobs, a Yahoo! service - Search Thousands of New Jobs</body>
  </mail>
  <mail>
    <header>[dom4j-user] problem with custom function in xpath expression</header>
    <date>Thu Aug 08 13:32:00 CEST 2002</date>
    <body>Hi, I have problems getting an XPath expression to work which uses a custom function I have written.  The expression looks like this: and as soon as I create the XPath (I've tried DocumentFactory.createXPath(), DefaultXPath(), org.jaxen.dom4j.XPath()) I get a InvalidXPathException with '('". I know that there is a FunctionContext and a NamespeceContext in Jaxen, but to set those I thought I first needed the XPath object... I've also tried using DocumentFactory.setXPathNamespaceURIs() but without avail. The "re" namespace is not declared in the document I process, it just provides a function I want to use internally when processing the document. Can somebody help out here? TIA, -- knut</body>
  </mail>
  <mail>
    <header>[dom4j-user] [Patch] Migrating Apache's xtag taglib to dom4j 1.3</header>
    <date>Sun Aug 04 21:10:00 CEST 2002</date>
    <body />
  </mail>
  <mail>
    <header>[dom4j-user] Creating a document w/a schema</header>
    <date>Tue Aug 06 21:40:00 CEST 2002</date>
    <body>If I create a document with DocumentHelper.createDocument(), how do I tell it what schema to specify in the document?  I want .asXML() to return something like: http://www.w3.org/2001/XMLSchema-instance " xsi:noNamespaceSchemaLocation=" http://localhost/ItemMaster.xsd ... I just can't find how to do that in the AP docs.  Any thoughts?  Thanks! -- Jason Lee - Programmer 405.745.1789 Hobby Lobby Stores, Inc.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Serializing XMLTableModel</header>
    <date>Fri Aug 02 18:04:00 CEST 2002</date>
    <body>Should serializing an XMLTableModel save then entire contents of the table or just the definition and restore the contents of the table by evaluating the row and column XPath expressions against the restored source.  If the XPath expression is time sensitive or the source dynamic, as well as other cases,  this would have different results. I think this boils down to whether the rows field of XMLTableModel is declared transient or not. thanks, bert</body>
  </mail>
  <mail>
    <header>[dom4j-user] Not quite XML, using XMLFilter to fix</header>
    <date>Thu Aug 01 19:51:00 CEST 2002</date>
    <body>[I asked a question similar to this one previously, but that was a general question and now I'm looking for some guidance on a specific approach.] I'm trying to read a document that's not quite XML.  The problem is that in some cases, the end tags are not there.  For example, As you can see, &amp;lt;NAME&amp;gt; has no end tag. However, I can determine when the end tag should appear, based on the context.  If I see any character data (other than whitespace), then I know there should be an end tag following the character data.  So, I thought I could correct this by using an XMLFilter.  Look for the sequence startElement(), character() and startElement() again; then call super.endElement() from within the overriden startElement() method before calling super.startElement().  I've done this in the code sample at the end of this message. However, I still get a SAXParseException saying the element XXX must be terminated.  I believe that I am generating the proper events to keep the dom4j document legal, but how can I prevent the SAXParser from complaining and to just continue parsing?  Or otherwise slip the extra &amp;lt;/XXX&amp;gt; end tag into the stream so the SAX parser can see it? Thanks for any help. Marc</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XPATH expression problem: Am I trying to use an unimplemented feature?</header>
    <date>Thu Aug 01 10:56:00 CEST 2002</date>
    <body>Edwin, I do this kind of stuff all the time and it works. As a matter of fact I exclusively use subelement selections instead of attributes because I read somewhere, who knows where, that it is faster (can anyone confirm this?). Soo...can you post your java method, maybe I can try running it over here? It should work! -jason -----Original Message----- From: Bulter, Edwin [mailto:EBulter@...] Sent: Thursday, August 01, 2002 4:19 AM To: 'dom4j-user@...' Subject: [dom4j-user] XPATH expression problem: Am I trying to use an unimplemented feature? I am using the xpath-syntax for filtering an XML-document and pass the result through. To filter the nodes I use the method "public List selectNodes(String xpathExpression)" on my document. Example :=20 Selecting an element on attribute-values works fine, i.e.:=20 expression:=20 /AAA/BBB[@A=3D'2'] result:=09 Selecting an element on the element-text of an inner-element is a = problem, i.e.:=20 expression: /AAA/BBB[C=3D'b'] result: In this last case I would expect only the second BBB-element as the = result. I used xpath-expressions like this before in XSL-documents which worked fine. Why doesn't it with DOM4J? Regards, Edwin **********Internet Email Confidentiality Footer**********=20 Privileged/Confidential Information may be contained in this message.  = If you are not the addressee indicated in this message (or responsible for delivery of the message to such person), you may not copy or deliver = this message to anyone. In such case, you should destroy this message and = kindly notify the sender by reply email. Please advise immediately if you or = your employer do not consent to Internet email for messages of this kind. Opinions, conclusions and other information in this message that do not relate to the official business of my firm shall be understood as = neither given nor endorsed by it. ------------------------------------------------------- This sf.net email is sponsored by:ThinkGeek Welcome to geek heaven. http://thinkgeek.com/sf _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XPATH expression problem: Am I trying to use an unimplemented feature?</header>
    <date>Thu Aug 01 12:04:00 CEST 2002</date>
    <body>Edwin, Okay, here we go.  We've got a lot to talk about.  First off, the way you're doing properties is probably screwing you up.  If this is my properties file: /AAA/BBB[@A=3D'1'] Then the actual KEY you get back is /AAA/BBB[@A which is what I saw when I put a print statement in your filter method.  The easiest way around this if you still want to use a properties method is to make the key something like value1 and make the expression the value: value1=3D/AAA/BBB[@A=3D'1'] This works because properties file only pays attention to the first equal sign. Next, once I got that working the attribute worked fine and so did the element.  I have attached my example xml file, my properties file and my modified version of your java app.  My modifications are marked with comments.  You can find my comments by looking for JASON. Hope this helps. -Jason</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XPATH expression problem: Am I trying to use an 
	unimplemented feature?</header>
    <date>Thu Aug 01 11:05:00 CEST 2002</date>
    <body>Jason, Thanks for your response! I'm probably doing something wrong then. The source is almost self-explaining. I use a properties-file to supply the xpath-expressions. The keys of it are the expressions, the values are not used. Greetings, Edwin ---------------------------------------------------------------------------- ------------------------------------------------------ public class DomFilter public DomFilter( String input_file, String filter_file, String output_file ) try in_doc = saxReader.read( new FileInputStream( String root_name = out_doc = Enumeration filter_keys = while (filter_keys.hasMoreElements()) String filter_key = FileOutputStream out = new FileOutputStream( OutputFormat outformat = catch (Exception e) public void filter( String filter_key ) for (int i=0; i&amp;lt;nodes.size(); i++) if (node.getNodeType()==Node.ELEMENT_NODE) public void add_to_result( Element el, String path ) while (st.hasMoreTokens()) if (nodes.size()!=0) else public static void logMessage(String msg) public static void usage() public static void main( String[] args ) if (args.length&amp;lt;3) ---------------------------------------------------------------------------- ---------------------------------------------------- http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user **********Internet Email Confidentiality Footer********** Privileged/Confidential Information may be contained in this message.  If you are not the addressee indicated in this message (or responsible for delivery of the message to such person), you may not copy or deliver this message to anyone. In such case, you should destroy this message and kindly notify the sender by reply email. Please advise immediately if you or your employer do not consent to Internet email for messages of this kind. Opinions, conclusions and other information in this message that do not relate to the official business of my firm shall be understood as neither given nor endorsed by it.</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPATH expression problem: Am I trying to use an unimplemented fea
 ture?</header>
    <date>Thu Aug 01 09:19:00 CEST 2002</date>
    <body>I am using the xpath-syntax for filtering an XML-document and pass the result through. To filter the nodes I use the method "public List selectNodes(String xpathExpression)" on my document. Example : Selecting an element on attribute-values works fine, i.e.: expression: /AAA/BBB[@A='2'] result: Selecting an element on the element-text of an inner-element is a problem, i.e.: expression: /AAA/BBB[C='b'] result: In this last case I would expect only the second BBB-element as the result. I used xpath-expressions like this before in XSL-documents which worked fine. Why doesn't it with DOM4J? Regards, Edwin **********Internet Email Confidentiality Footer********** Privileged/Confidential Information may be contained in this message.  If you are not the addressee indicated in this message (or responsible for delivery of the message to such person), you may not copy or deliver this message to anyone. In such case, you should destroy this message and kindly notify the sender by reply email. Please advise immediately if you or your employer do not consent to Internet email for messages of this kind. Opinions, conclusions and other information in this message that do not relate to the official business of my firm shall be understood as neither given nor endorsed by it.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Namespace issue</header>
    <date>Mon Sep 30 13:41:00 CEST 2002</date>
    <body>Hello. I want to be able to add and delete namespaces (dynamically) to/from documents as part of an integration project.  We obviously need namespaces for validation, we are storing xml in a database as blobs (and we don't want to use namespaces there), we are querying subsets of the data using XPath, and we need to transform our xml to 3rd-party formats using XSLT stylesheets.  All of this functionality has been implemented in a pilot project using proprietary Java solutions.  I would like to recast the implementation using dom4j. I _have_ been able to add namespaces appropriately in order to allow dom4j's XPath implementation to perform the subset querying (where the documents were using "default namespace").  I'm now asking whether it is possible to use the Namespace class on a given Node to dynamically "delete" a namespace, and/or dynamically "add" a namespace to the Node, and whether that Node must be the document Node or can be any Node. Sorry if this is redundant but I haven't seen this particular issue addressed in the archives, and I have just joined the listserver. Thanks. Michael McDonough AIG Trading Group -------------------------------------------------------------------------- Important:  This electronic mail message and any attached files contain information intended for the exclusive use of the individual or entity to whom it is addressed and may contain information that is proprietary, privileged, confidential and/or exempt from disclosure under applicable law.  If you are not the intended recipient, you are hereby notified that any viewing, dissemination, distribution or copying of this communication may be subject to legal restriction or sanction.  Please notify us immediately of any unintended recipients and delete the original message without making any copies. --------------------------------------------------------------------------</body>
  </mail>
  <mail>
    <header>[dom4j-user] Parsing and encoding</header>
    <date>Mon Sep 30 07:10:00 CEST 2002</date>
    <body>Hi everybody! When parsing a xml file the parser seems to change the encoding to UTF-8 despite that the sourse xml file has another encoding (in my case ISO-88591-). When serializing the xml file one have to explitcly change the encoding so that no error occurs when parsing it again (i.e. if there are unallowed characters according to UTF-8). Is this correct behaviour? If not is there a workaround or some property that I have missed? /Theis.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Regenerating Cleaned up XML</header>
    <date>Sat Sep 28 20:37:00 CEST 2002</date>
    <body>Hi, I'm trying to strip out some erroneous 'para' elements (under a parent = 'body' element) from an XML file and write out the corrected version.  = What I'm doing is getting the list of 'para' elements from its parent = element 'body', iterating through the 'para' elements with various = checks.  When I find a bad one, I call (pseudo code) = BodyElement.remove(BadParaElement). To check whether it worked, I then produce a new listing of 'para' = elements. This listing shows that all the erroneous ones have been = removed, while the 'good' ones have been retained. =20 However, when I try to write out a new version of the XML file (using = XMLWriter) I end up with an XML file in which all 'para' elements that = contain only "&amp;lt;&amp;gt;".  The file has the correct number of 'para' elements, = and all the other elements are correct. I'm sure I'm overlooking something simple and I'd appreciate some = insight as to what that might be. =20 Regards, Terry</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Regenerating Cleaned up XML</header>
    <date>Sun Sep 29 02:41:00 CEST 2002</date>
    <body>Terry, Not sure how you're getting the "&amp;lt;&amp;gt;" results. Here's a little test program that works as I think you're looking for. However, I did discover the code that's commented out to give a java.util.ConcurrentModificationException, since I was attempting to modify the list while iterating through it. Don't think that is causing you problems since you stated you were getting the list printed out. HTH steve // create body element with para children // now remove, say 4 and 7 //   if ( text.endsWith("4") || text.endsWith("7") ) // now remove, say 4 and 7 Terry Steichen wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Disabling escaping entities in writing</header>
    <date>Fri Sep 27 16:58:00 CEST 2002</date>
    <body>We are writing an xslt file to disk, and it contains lines such as: When this is flattened via XMLWriter, the single qoutes are written as &amp;amp;apos.  Looking at the XMLWriter code, this behavior seems un-alterable. Am I missing something?  Is there a way to write nodes with apostrophies etc. without encoding them as &amp;amp;apos and such? Thanks.</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to handle this?</header>
    <date>Fri Sep 27 16:02:00 CEST 2002</date>
    <body>I use an ejb that returns a dom4j tree that may not have certain nodes depending on the data in the database. I'm using XPATH and it seems Node myNode = (Node) doc.selectSingleNode( "/some missing node" ) throws an NullPointerException. Is it possible to check for '/some missing node' ?   Any example would be greatly appreciated! Thanks, Greg</body>
  </mail>
  <mail>
    <header>[dom4j-user] Extracting Text Fragments</header>
    <date>Mon Sep 23 20:19:00 CEST 2002</date>
    <body>Assume I have an XML document including the following fragment: How do you extract text1 separately from text2 - that is, = programmatically distinguish where text1 ends and text2 begins? Regards, Terry =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Extracting Text Fragments</header>
    <date>Mon Sep 23 22:36:00 CEST 2002</date>
    <body>Terry, text1 and text2 are TEXT nodes within the piece Node (or if you grab can get either an Iterator (using nodeIterator()) or a List (using content()) of the piece node, and then test if they are TEXT nodes (using getNodeType()), then do you want with them. HTH steve Terry Steichen wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Extracting Text Fragments</header>
    <date>Tue Sep 24 06:59:00 CEST 2002</date>
    <body>I think in XPath something like the following would work... piece/text()[1] or as Steve just said in a seperate mail, you could just iterate through = the Text nodes, using the first one you find. James ------- http://radio.weblogs.com/0112098/ From: Terry Steichen=20 To: dom4j-user=20 Sent: Monday, September 23, 2002 9:18 PM Subject: [dom4j-user] Extracting Text Fragments Assume I have an XML document including the following fragment: How do you extract text1 separately from text2 - that is, = programmatically distinguish where text1 ends and text2 begins? Regards, Terry =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Extracting Text Fragments</header>
    <date>Tue Sep 24 13:57:00 CEST 2002</date>
    <body>Approach 1 is the best - then it'll make a List of all the Text nodes = and you can just index into the List if you like List fragments =3D root.selectNodes("text()") Probably the fastest way though is just to iterate through the content = looking for Text nodes... for (Iterator iter =3D root.content().iterator(); iter.hasNext(); ) = ... James ------- http://radio.weblogs.com/0112098/ From: Terry Steichen=20 To: James Strachan=20 Sent: Tuesday, September 24, 2002 2:49 PM Subject: Re: [dom4j-user] Extracting Text Fragments James, Yes, that works fine too.  Thank you. Question: Assuming that I needed to pick out several text segments = (separated by other tags), it would seem that there are at least two = ways to go about this. Approach 1 fragments =3D root.selectNodes("text()") .. Approach 2 .. Which one would be more efficient? (I presume - but don't know - that = Approach 1 would be.) Regards, Terry From: James Strachan=20 To: Terry Steichen ; dom4j-user=20 Sent: Tuesday, September 24, 2002 2:59 AM Subject: Re: [dom4j-user] Extracting Text Fragments I think in XPath something like the following would work... piece/text()[1] or as Steve just said in a seperate mail, you could just iterate = through the Text nodes, using the first one you find. James ------- http://radio.weblogs.com/0112098/ From: Terry Steichen=20 To: dom4j-user=20 Sent: Monday, September 23, 2002 9:18 PM Subject: [dom4j-user] Extracting Text Fragments Assume I have an XML document including the following fragment: How do you extract text1 separately from text2 - that is, = programmatically distinguish where text1 ends and text2 begins? Regards, Terry =20</body>
  </mail>
  <mail>
    <header>Fw: [dom4j-user] Extracting Text Fragments</header>
    <date>Tue Sep 24 13:35:00 CEST 2002</date>
    <body>Oops - forgot to send this to the list as well as to Steve. Terry Sent: Monday, September 23, 2002 5:16 PM Subject: Re: [dom4j-user] Extracting Text Fragments</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with XSLT in dom4j 1.3 (Part II)</header>
    <date>Tue Sep 24 11:40:00 CEST 2002</date>
    <body>Hello and sorry, due to mailing problems, you did not recieve the whole message. Here comes another try: I have a problem trying to transform a SOAPMessage using a dom4j.DocumentResult I do not have any problem to transform the SOAPMessage without dom4j using xalan directly (CLI or via JAXP); however I am not an expert in XSLT and maybe dom4j is more restrict? Here is part of the code: .... Here the error happens: private Result transformAttribute2Table(Source source) throws TransformerException, TransformerConfigurationException, // no problem here ... // ... but with DocumetResult</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with XSLT in dom4j 1.3 (Part II)</header>
    <date>Tue Sep 24 12:09:00 CEST 2002</date>
    <body>Hello and sorry again, due to mailing problems, you did not recieve the whole message. Here comes the third try (this is not funny annymore. I reordered the contents of the mail, since it seems, my mail-client is confused....) I have a problem trying to transform a SOAPMessage using a dom4j.DocumentResult I do not have any problem to transform the SOAPMessage without dom4j using xalan directly (CLI or via JAXP); however I am not an expert in XSLT and maybe dom4j is more restrict? Please find attached the soap message and the error focussed stylesheet. Best regards, Sven. Here is the stacktrace: javax.xml.transform.TransformerException: org.dom4j.IllegalAddException: The node "org.dom4j.tree.DefaultElement@... [Element: &amp;lt;t011_obj_data attributes: []/&amp;gt;]" could not be added to the branch "null" because: Cannot add another element to this Document as it already has  a root element of: t011_obj_data at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1226) at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:638) at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1088) at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1066) at de.disy.wwwudk.soap.SOAPUDKServerTest.transformAttribute2Table(SOAPUDKServerTest.java:120) Here is part of the code: .... Here the error happens: private Result transformAttribute2Table(Source source) throws TransformerException, TransformerConfigurationException, // no problem here ... // ... but with DocumetResult</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with XSLT in dom4j 1.3 (Part II)</header>
    <date>Tue Sep 24 13:01:00 CEST 2002</date>
    <body>Hello, please ignore this thread completely. I found the mistake myself when I tried SAXReader to build a Document. The ExceptionMessage below said it all: I should not add more than one root element ... Best regards, Sven. Sven Behrens wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with XSLT in dom4j 1.3</header>
    <date>Tue Sep 24 11:33:00 CEST 2002</date>
    <body>Hello, I have a problem trying to transform a SOAPMessage using a dom4j.DocumentResult I do not have any problem to transform the SOAPMessage without dom4j using xalan directly (CLI or via JAXP); however I am not an expert in XSLT and maybe dom4j is more restrict? Here is part of the code: ....</body>
  </mail>
  <mail>
    <header>[dom4j-user] daily build updated...</header>
    <date>Tue Sep 24 10:29:00 CEST 2002</date>
    <body>The daily build hasn't been running for some time. The daily build is now up to date with all the recent patches and fixes that have been added over the last couple of months. I'd like to get a firm 1.4 release out by the end of the week, then from 1.5 onwards the build process should hopefully be using Maven now. Incidentally I've been getting into the habit of late of creating snapshot builds of dom4j, before the release goes out, at Maven's repository here... http://www.ibiblio.org/maven/dom4j/jars/ James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] DocumentFragments</header>
    <date>Tue Sep 17 17:59:00 CEST 2002</date>
    <body>Actually, I guess I'm really trying to answer this higher level = question: Is there a lighter weight way to create an Element from an XML fragment=20 String than: Thanks Jon -----Original Message----- From: Jonathan Locke=20 Sent: Tuesday, September 17, 2002 10:28 AM To: Dom4j-User (E-mail) Subject: [dom4j-user] DocumentFragments DOM4J has some of the plumbing to do DocumentFragments, but the = DOMDocument implementation says this: does this mean that DOM4J does not actually support DocumentFragments or = is there some other way to construct one? Thanks!! Jon ------------------------------------------------------- This SF.NET email is sponsored by: AMD - Your access to the experts on Hammer Technology! Open Source &amp;amp; Linux Developers, register now for the AMD Developer Symposium. Code: EX8664 http://www.developwithamd.com/developerlab _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DocumentFragments</header>
    <date>Tue Sep 24 09:19:00 CEST 2002</date>
    <body>Unfortunately not. Other than via using the API itself... ... James ------- http://radio.weblogs.com/0112098/ Sent: Tuesday, September 17, 2002 6:54 PM Subject: RE: [dom4j-user] DocumentFragments Actually, I guess I'm really trying to answer this higher level question: Is there a lighter weight way to create an Element from an XML fragment String than: Thanks Jon -----Original Message----- From: Jonathan Locke Sent: Tuesday, September 17, 2002 10:28 AM To: Dom4j-User (E-mail) Subject: [dom4j-user] DocumentFragments DOM4J has some of the plumbing to do DocumentFragments, but the DOMDocument implementation says this: does this mean that DOM4J does not actually support DocumentFragments or is there some other way to construct one? Thanks!! Jon ------------------------------------------------------- This SF.NET email is sponsored by: AMD - Your access to the experts on Hammer Technology! Open Source &amp;amp; Linux Developers, register now for the AMD Developer Symposium. Code: EX8664 http://www.developwithamd.com/developerlab _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------- This SF.NET email is sponsored by: AMD - Your access to the experts on Hammer Technology! Open Source &amp;amp; Linux Developers, register now for the AMD Developer Symposium. Code: EX8664 http://www.developwithamd.com/developerlab _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] java.lang.NoClassDefFoundError: org/dom4j/Node</header>
    <date>Mon Sep 23 15:06:00 CEST 2002</date>
    <body>I have added the new package for Dom4j 1.3 in my code (running JVM 1.4.0). I configured a new library using JBuilder that includes c:/dom4j=patched-1.3/dom4j-full.jar. My application complies without errors. However, when executing my code I receive the following error message. java.lang.NoClassDefFoundError: org/dom4j/Node I suspect that I am missing some kind of dependency jar. Thanks for the help. Frank Sharpless Paperhost.com, Inc. Manager, Application Development 770.998.9172.611</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] java.lang.NoClassDefFoundError: org/dom4j/Node</header>
    <date>Mon Sep 23 16:20:00 CEST 2002</date>
    <body>org.dom4j.Node is a core interface for dom4j. The only thing it depends = on is JDK 1.2 or later for Java 2 Collections. Maybe this is a wierd IDE = issue. I don't really use JBuilder so don't know - could it be to do = with having different compile and execution classpaths? James ------- http://radio.weblogs.com/0112098/ From: Frank Sharpless=20 To: Dom4j List (dom4j-user@... Sent: Monday, September 23, 2002 4:00 PM Subject: [dom4j-user] java.lang.NoClassDefFoundError: org/dom4j/Node I have added the new package for Dom4j 1.3 in my code (running JVM = 1.4.0). I configured a new library using JBuilder that includes = c:/dom4j=3Dpatched-1.3/dom4j-full.jar. My application complies without = errors. However, when executing my code I receive the following error = message. java.lang.NoClassDefFoundError: org/dom4j/Node I suspect that I am missing some kind of dependency jar.=20 Thanks for the help. Frank Sharpless Paperhost.com, Inc. Manager, Application Development 770.998.9172.611 fSharpless@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] Connection refused: connect Nested exception: Connection refused:
 connect</header>
    <date>Mon Sep 23 15:53:00 CEST 2002</date>
    <body>One more Issues (I promise ;) Since I have upgraded to using 1.4.0 JVM I am receiving the following error message: Connection refused: connect Nested exception: Connection refused: When I switch my project back to 1.3.1 JVM the parser works fine. Here is the code I'm trying to execute: Whether I pass a string or a file object I get the same exception. I am currently running DOM4j 1.3. Thanks, Frank Sharpless Paperhost.com, Inc. Manager, Application Development 770.998.9172.611</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Connection refused: connect Nested exception: Connection refused: connect</header>
    <date>Mon Sep 23 16:18:00 CEST 2002</date>
    <body>Any chance your XML document has a DOCTYPE statement in it which points = to a DTD thats on the web somewhere and you're offine? James ------- http://radio.weblogs.com/0112098/ From: Frank Sharpless=20 To: Dom4j List (dom4j-user@... Sent: Monday, September 23, 2002 4:47 PM Subject: [dom4j-user] Connection refused: connect Nested exception: = Connection refused: connect One more Issues (I promise ;) Since I have upgraded to using 1.4.0 JVM I am receiving the following = error message: Connection refused: connect Nested exception: Connection refused:=20 When I switch my project back to 1.3.1 JVM the parser works fine. Here = is the code I'm trying to execute: Whether I pass a string or a file object I get the same exception. I = am currently running DOM4j 1.3. Thanks, Frank Sharpless Paperhost.com, Inc. Manager, Application Development 770.998.9172.611 fSharpless@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] JVM 1.4.0 Support</header>
    <date>Mon Sep 23 13:20:00 CEST 2002</date>
    <body>Hello All, Does the latest release of DOM4j 1.3 support JVM 1.4 or greater? Thanks, Frank Sharpless Paperhost.com, Inc. Manager, Application Development 770.998.9172.611</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] JVM 1.4.0 Support</header>
    <date>Mon Sep 23 13:49:00 CEST 2002</date>
    <body>I run it at 1.4.0_01 =20 Mike -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Frank = Sharpless Sent: Monday 23 September 2002 14:14 To: Dom4j List (dom4j-user@...) Subject: [dom4j-user] JVM 1.4.0 Support =20 Hello All, =20 Does the latest release of DOM4j 1.3 support JVM 1.4 or greater? =20 Thanks, =20 Frank Sharpless Paperhost.com, Inc. Manager, Application Development 770.998.9172.611 fSharpless@... =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] whitespace, NodeComparator, and SAXReader question</header>
    <date>Thu Sep 19 09:04:00 CEST 2002</date>
    <body>I'm trying to compare to xml files, such that the comparison is insensitive to whitespace.  I used the method "setStripWhitespaceText()" in the hope of making the SAXReader insensitive to whitespace.  However, when I use NodeComparator.compareContent(), I do not get the desired zero even if the only difference between the two xml docs is whitespace within an element.  Below is my code: System.out.println("Result of comparison:  " + c.compareContent(docTest, Thanks for your reply! BTW, dom4j is definitely the best XML API I've ever used, and I actively endorse it to all my friends.  Thanks to the project owners and all the contributors for creating an API that is making me look good with my bosses. ;)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] whitespace, NodeComparator, and SAXReader question</header>
    <date>Thu Sep 19 16:06:00 CEST 2002</date>
    <body>Another property that might help is to explicitly combine adjacent text SAX events into a single Text node. Note that the whitespace stripping only strips whitespace from end element/start element blocks. So this XML would have no whitespace. However this would have lots. We could probably do with a 'normalizeWhitespace' method that would turn any continuous whitespace into a single ' ' character or something. Maybe you could write one and submit it for inclusing in the distribution? :-) James ------- http://radio.weblogs.com/0112098/ Sent: Thursday, September 19, 2002 10:03 AM Subject: [dom4j-user] whitespace, NodeComparator, and SAXReader question http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] reading the encoding from an XML doc</header>
    <date>Thu Sep 19 10:49:00 CEST 2002</date>
    <body>Hi can anyway tell me how to read the encoding attribute from an XML document? eg: I need to get out 'UTF-8' Thanks! Lea ================================== This message contains confidential information and is intended solely for the use of the individual or entity to whom it is addressed. If you are not the named addressee you should not disseminate, distribute or copy this email. Please inform the sender immediately if you have received this e-mail by mistake and delete this email from your system. Email transmission cannot be guaranteed to be secure or error-free as information could be intercepted, corrupted, lost, destroyed, arrive late or be incomplete. The sender therefore does not accept liability for any errors or omissions in the contents of this message, which arise as a result of email transmission. If verification is required please request a hard copy version. No contracts may be concluded on behalf of Virgin Express SA/NV by means of email communication. Finally, the recipient should check this e-mail and any attachments for the presence of viruses. The company accepts no liability for any damage caused by any virus transmitted by this email. ==================================</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] CDATA, Carriage Returns and Line Feeds</header>
    <date>Wed Sep 18 22:49:00 CEST 2002</date>
    <body>I can't be sure that there are actually going to be "\r" in the data so I don't know if I should them or not. -----Original Message----- From: Brian W. Young [mailto:byoung@...] Sent: Tuesday, September 17, 2002 6:07 PM To: Inns, Jeff Cc: 'dom4j-user@...' Subject: Re: [dom4j-user] CDATA, Carriage Returns and Line Feeds I'm not sure there is a way around this.  I experienced the same thing a while back and ended up having to use a ReplaceString("\n", "\r\n") method.  Quite a hack but it seemed the only way around it.  Looked like most of the XML parsers out there would get rid of the CR. Sorry.... Inns, Jeff wrote: a returns that and http://www.developwithamd.com/developerlab https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Brian W. Young Senior Software Engineer/Project Manager 1309 Sutton Park Drive South, Suite 320 Jacksonville, FL 32224 byoung@... voice: 904.482.4209 fax:   904.482.4220</body>
  </mail>
  <mail>
    <header>[dom4j-user] CDATA, Carriage Returns and Line Feeds</header>
    <date>Tue Sep 17 17:22:00 CEST 2002</date>
    <body>I am experiencing a problem when I parse an XML document that contains a CDATA section. The CDATA section in the DOM model does not contain the same content as the physical XML document.  The CDATA section is the content of an Element. The CDATA section in the physical XML document contains carriage returns and line feeds.  However, after the file is parsed and I access the CDATA section (by means of Element.getText() - or - Element.getData()), the carriage return characters are gone and only the line feed characters are left.  It appears that the parser is removing the carriage returns. It should be noted that I am using DOM4J to create the XML document that I am parsing.  In other words, I use DOM4J to create the xml document, persist it to disk using XMLWriter; then another process comes along and uses DOM4J to parse and read the document. The OS is Win2K, JVM is Sun 1.4.0_01, DOM4J version is the latest nightly build as of 1:00 PM EST 9/17/2002. I doubt this is a DOM4J problem, but rather something I need to configure at a lower level.  Any help will be greatly appreciated. Regards, Jeff</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] CDATA, Carriage Returns and Line Feeds</header>
    <date>Tue Sep 17 22:03:00 CEST 2002</date>
    <body>I'm not sure there is a way around this.  I experienced the same thing a while back and ended up having to use a ReplaceString("\n", "\r\n") method.  Quite a hack but it seemed the only way around it.  Looked like most of the XML parsers out there would get rid of the CR. Sorry.... Inns, Jeff wrote: http://www.developwithamd.com/developerlab https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Brian W. Young Senior Software Engineer/Project Manager 1309 Sutton Park Drive South, Suite 320 Jacksonville, FL 32224 byoung@... voice: 904.482.4209 fax:   904.482.4220</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] CDATA, Carriage Returns and Line Feeds</header>
    <date>Wed Sep 18 10:14:00 CEST 2002</date>
    <body>Hi, If you cant fix it in the parsers (I defer to others)then you can fix it in the document factory (quick and very dirty, no flames please) Extend the document factory that you want to use, and override the createCDATA //fix the text http://www.developwithamd.com/developerlab https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.developwithamd.com/developerlab https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentFragments</header>
    <date>Tue Sep 17 17:33:00 CEST 2002</date>
    <body>DOM4J has some of the plumbing to do DocumentFragments, but the = DOMDocument implementation says this: does this mean that DOM4J does not actually support DocumentFragments or = is there some other way to construct one? Thanks!! Jon</body>
  </mail>
  <mail>
    <header>[dom4j-user] Parsing Problem</header>
    <date>Mon Sep 16 14:48:00 CEST 2002</date>
    <body>Here is a segment from a document I'm parsing and displaying via an HTML = browser: This line is the XML representation of the 'para' element node.  When I = display it, here's what happens: =20 - using para.asXML() displays the line literally as described above. - using para.getText() displays the properly formatted line. However, what I want to do is remove the part bracketed by the &amp;lt;b&amp;gt; tags = to get is a properly formatted line reflecting the following: So I then added the following code to my module: Then, using that for displaying, here's what I get: - using parad.asXML() displays the line literally as described above - using parad.getText() displays the line with a '?' character = substituted for '&amp;amp;#8226;' [this is the problem] In other words, when I use the getText() method on elements from a = document created by DocumentHelper.parse(), the normal encoding doesn't = seem to work (resulting in translating '&amp;amp;#8226;' into '?'. Am I missing something (highly likely), or is this possibly a bug (and = if so, can anyone suggest a workaround)? Regards, Terry</body>
  </mail>
  <mail>
    <header>[dom4j-user] Out Of Memory Exception</header>
    <date>Sat Sep 14 10:00:00 CEST 2002</date>
    <body>Hi I could probably solve this myself by trawling through the source code but I wonder if anyone has experienced similar problems and could save me some time. I am processing very large (20 Meg plus) XML files and inserting the contents in to a database using an Element Handler and detaching the element once it has been processed. The basic process is - point application at a directory. Recurse through file structure and make a list of all relevant XML files. Process list sequentially using element handler /detach approach. The average file size is about 25 Meg. The first processes fine, but after processing the second file for a few minutes I always get a VM out of memory error. (If the files are a bit smaller - I sometimes get 2 files processed completely before this happens). I have finished the processing for a while - a bit of a pain as I had to watch the processes and keep restarting them. However I can't see any memory leaks in my application and I was definitely detaching the element so is there a memory leak somewhere in dom4j ? Regards Nick Sanderson</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Xml Restructuring</header>
    <date>Wed Sep 11 09:25:00 CEST 2002</date>
    <body>facing is file. tag validates Element.content() (and Element.elements())) returns a List which can be manipulated directly using the standard List interface. Changes to the List will be reflected in the document. So you could add an element, then move it to the correct position. Or just create a new element then add it at the // add bar at a specific index James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Xml Restructuring</header>
    <date>Wed Sep 11 10:57:00 CEST 2002</date>
    <body>basic it You could always make an order-independant schema, then you won't have any ordering problems. Thats probably the easiest way around the problem. Other than that, you need to somehow parse your schema into a structure that you can use to know the correct place to add your new elements to. There's no feature in dom4j to do this automatically for you. You could try implementing your own special RecordElement (using your above example) such that when elements are added, they are automagically added to the correct place in the list. So adding an &amp;lt;Author&amp;gt; tag would go after the James ------- http://radio.weblogs.com/0112098/ which List it http://radio.weblogs.com/0112098/ http://uk.my.yahoo.com __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Namespace output problem</header>
    <date>Sat Sep 07 10:22:00 CEST 2002</date>
    <body>I've submitted a fix for a similar problem in XMLWriter to James, so hopefully this one should be easy to fix. https://www.inphonic.com/r.asp?r=sourceforge1 &amp;gt; &amp;amp;refcode1=vs3390 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Namespace output problem</header>
    <date>Sat Sep 07 02:12:00 CEST 2002</date>
    <body>I think the output of the following snippet comes out wrong: document.addElement(new QName("foo", n0)) =20 When I run this, I get What I expect is for the bar element to be &amp;lt;bar xmlns=3D""/&amp;gt;. Since I cre= ated it=20 with no namespace, I expect it to be output so that if I read it back in = it=20 would again have no namespace. If I read this output back in, it'll wind = up=20 inheriting the foo tag's namespace. =09Ben</body>
  </mail>
  <mail>
    <header>[dom4j-user] selectSingleNode() and namespaces</header>
    <date>Wed Sep 04 23:05:00 CEST 2002</date>
    <body>Hi- Two questions: (1) Ok, I have about a dozen places througout my system where I call Document.selectSingleNode("some xpath").  This has been working fine since the XML I've been processing has no default namespace. (I'm assuming that "default namespace" is a xmlns="..." attribute in the root element.) Now, all of the sudden, I'm getting a document that has a root element with a xmlns="something" attribute, and all my selectSingleNodes are returning zilch. How can I compensate for this... without having to bother with creating namespace contexts and such... with as little change to my code as possible? ==== (2) As a related question, the XML I'm processing is actually the output of a transform which I read back into a dom4j Document, do some things, then write to XML using Document.asXML().  It is this call that is writing the xmlns attribute to the root element.  Why?  Here's the relevant part of the xslt: xmlns:xsl=" http://www.w3.org/1999/XSL/Transform " xmlns=" http://www.a4networks.com/schemas/opl " xmlns:conversions="conversions.uri" ...... ...... The output looks like this: xmlns=" http://www.a4networks.com/schemas/opl ...... [It is this namespace that is causing my problem in question (1) above. If I take out this xmlns attribute, all my selectSingleNode() calls work.] All help appreciated.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] selectSingleNode() and namespaces</header>
    <date>Thu Sep 05 16:33:00 CEST 2002</date>
    <body>Ok, I found *some* help in the list archives: http://www.geocrawler.com/archives/3/8797/2002/3/0/8220162/ It was even an answer to one of my own questions! From that post, I think what I should do is create a prefix for the default namespace and use the prefix in my XPath expression I am passing to selectSingleNode().  If that's correct, my question now is: what's the best way to get the default namespace URI from a Document? -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Hooker Sent: Wednesday, September 04, 2002 6:03 PM To: 'DOM4J-user (E-mail)' Subject: [dom4j-user] selectSingleNode() and namespaces Hi- Two questions: (1) Ok, I have about a dozen places througout my system where I call Document.selectSingleNode("some xpath").  This has been working fine since the XML I've been processing has no default namespace. (I'm assuming that "default namespace" is a xmlns="..." attribute in the root element.) Now, all of the sudden, I'm getting a document that has a root element with a xmlns="something" attribute, and all my selectSingleNodes are returning zilch. How can I compensate for this... without having to bother with creating namespace contexts and such... with as little change to my code as possible? ==== (2) As a related question, the XML I'm processing is actually the output of a transform which I read back into a dom4j Document, do some things, then write to XML using Document.asXML().  It is this call that is writing the xmlns attribute to the root element.  Why?  Here's the relevant part of the xslt: xmlns:xsl=" http://www.w3.org/1999/XSL/Transform " xmlns=" http://www.a4networks.com/schemas/opl " xmlns:conversions="conversions.uri" ...... ...... The output looks like this: xmlns=" http://www.a4networks.com/schemas/opl ...... [It is this namespace that is causing my problem in question (1) above. If I take out this xmlns attribute, all my selectSingleNode() calls work.] All help appreciated. ------------------------------------------------------- This sf.net email is sponsored by: OSDN - Tired of that same old cell phone?  Get a new here for FREE! https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] selectSingleNode() and namespaces</header>
    <date>Fri Sep 06 15:38:00 CEST 2002</date>
    <body>I know, it seems I'm having a conversation with myself. After much struggling and investigation, I've determined that what I need to do is remove the default namespace from a Document.  That is, the namespace without a prefix.  I need to do this because I am not in control of the XPath statement that will be used to query the document, so I can't create my own prefix in the code for the query.  For instance, given the following document: xmlns=" http://www.a4networks.com/schemas/opl stuff ... I need this XPAth to work: /Pip3A4PurchaseOrderRequest/fromRole So my question is: what is the best/easiest way to remove this namespace??? -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Hooker Sent: Thursday, September 05, 2002 11:31 AM To: 'DOM4J-user (E-mail)' Subject: RE: [dom4j-user] selectSingleNode() and namespaces Ok, I found *some* help in the list archives: http://www.geocrawler.com/archives/3/8797/2002/3/0/8220162/ It was even an answer to one of my own questions! From that post, I think what I should do is create a prefix for the default namespace and use the prefix in my XPath expression I am passing to selectSingleNode().  If that's correct, my question now is: what's the best way to get the default namespace URI from a Document? -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Hooker Sent: Wednesday, September 04, 2002 6:03 PM To: 'DOM4J-user (E-mail)' Subject: [dom4j-user] selectSingleNode() and namespaces Hi- Two questions: (1) Ok, I have about a dozen places througout my system where I call Document.selectSingleNode("some xpath").  This has been working fine since the XML I've been processing has no default namespace. (I'm assuming that "default namespace" is a xmlns="..." attribute in the root element.) Now, all of the sudden, I'm getting a document that has a root element with a xmlns="something" attribute, and all my selectSingleNodes are returning zilch. How can I compensate for this... without having to bother with creating namespace contexts and such... with as little change to my code as possible? ==== (2) As a related question, the XML I'm processing is actually the output of a transform which I read back into a dom4j Document, do some things, then write to XML using Document.asXML().  It is this call that is writing the xmlns attribute to the root element.  Why?  Here's the relevant part of the xslt: xmlns:xsl=" http://www.w3.org/1999/XSL/Transform " xmlns=" http://www.a4networks.com/schemas/opl " xmlns:conversions="conversions.uri" ...... ...... The output looks like this: xmlns=" http://www.a4networks.com/schemas/opl ...... [It is this namespace that is causing my problem in question (1) above. If I take out this xmlns attribute, all my selectSingleNode() calls work.] All help appreciated. ------------------------------------------------------- This sf.net email is sponsored by: OSDN - Tired of that same old cell phone?  Get a new here for FREE! https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------- This sf.net email is sponsored by: OSDN - Tired of that same old cell phone?  Get a new here for FREE! https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] setExpandEmptyElements</header>
    <date>Thu Sep 05 21:26:00 CEST 2002</date>
    <body>I'm having trouble with OutputFormat.setExpandEmptyElements().  Seems that whether I call with true, or false... I get the same results.... i.e. What is even more strange is apparently my project used to default to newer xerces.jar.... and now I get &amp;lt;tag&amp;gt;&amp;lt;/tag&amp;gt; no matter what I do. P.S. Yes I know both representations mean the same thing, effectively. I'd still like to have it work correctly- can you point me in the right direction? Thanks!! ||</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] setExpandEmptyElements</header>
    <date>Fri Sep 06 11:20:00 CEST 2002</date>
    <body>Just out of interest, there's no whitespace between the tags at all? So you get and not or &amp;lt;tag&amp;gt;  &amp;lt;/tag&amp;gt;? James ------- http://radio.weblogs.com/0112098/ Sent: Thursday, September 05, 2002 10:26 PM Subject: [dom4j-user] setExpandEmptyElements https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] setExpandEmptyElements</header>
    <date>Fri Sep 06 13:07:00 CEST 2002</date>
    <body>No, there is no whitespace... just &amp;lt;tag&amp;gt;&amp;lt;/tag&amp;gt;... Here is the code I am using... maybe someone can point out my error if I've made one... Thanks, Brian James Strachan wrote: http://radio.weblogs.com/0112098/ https://www.inphonic.com/r.asp?r=sourceforge1&amp;amp;refcode1=vs3390 https://lists.sourceforge.net/lists/listinfo/dom4j-user http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] RFI - Example on XSLT</header>
    <date>Thu Sep 05 18:37:00 CEST 2002</date>
    <body>Here's an example from my code that sets a parameter in the stylesheet = to an externally-computed value.  Also includes a simple cache for = Templates. Ken /* * Utils.java * * Created on March 18, 2002, 11:01 AM * *2002 04 11: KJM Changed tool to cache templates, not transformer = objects. *            Apparently, transformers aren't thread-safe. *            Also, moved template/transformer caching to a separate = method getTransformer */ // General classes // Import dom4j classes // Classes needed for XSL // Import log4j classes. /** * * @author  melke01 */ private static String libStyles =3D = =20 private static TransformerFactory factory =3D = private static java.util.Map templates =3D new = =20 =20 // I could put an API here, but not yet.... // Get a starting category /** Creates a new instance of Utils */ public static void setStyleLib (String lib)=20 =20 if (templ =3D=3D null) // create a template for the transformer using JAXP cat.debug("Creating template from stylesheet: " + libStyles + = style + ".xsl");=20 templ =3D factory.newTemplates(=20 new StreamSource( new File ( libStyles + style + ".xsl" ) = catch (Exception e) // create a transformer for the transformer using JAXP cat.debug("Creating a new transformer from stylesheet: " + = libStyles + style + ".xsl");=20 Transformer trans =3D factory.newTransformer(=20 new StreamSource( new File ( libStyles + style + ".xsl" ) = =20 catch (Exception e) =20 return getTransformer(style).getOutputProperty = public static void styleOutput(Document document, String style, = // now lets style the given document javax.xml.transform.stream.StreamResult result =3D new = if (! props.isPortal) hostPortal =3D props.protocol + "://" + props.host +":" + = =20 =20 catch (Exception e)</body>
  </mail>
  <mail>
    <header>[dom4j-user] TCP/IP stream to XML document ?</header>
    <date>Thu Sep 05 13:16:00 CEST 2002</date>
    <body>------------------------------------------------ Changed your e-mail?  Keep your contacts!  Use this free e-mail change of address service from Return Path.  Register now!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] TCP/IP stream to XML document ?</header>
    <date>Thu Sep 05 18:12:00 CEST 2002</date>
    <body>When reading XML over a socket, generically, you need to use a protocol = which denotes when the XML stops. Looking for the last &amp;gt; doesn't work = since comments, whitespace and processing instructions can occur outside = of the root element. So if you were to send multiple documents on the = same socket, the end of one document could invalidate the begiinning of = the next document (since the XML declaration must be the first line) So try using, say, HTTP or MIME encoding or writing the length of the = XML file first then you know how many bytes to read etc. This has been discussed in this thread... http://www.mail-archive.com/dom4j-dev%40lists.sourceforge.net/msg00400.ht= ml Details of how to disable DTD validation, or at least to fetch DTDs from = local files or inside jars on the classpath are here... l James ------- http://radio.weblogs.com/0112098/ From: bluepuma@... To: dom4j-user@... Sent: Thursday, September 05, 2002 2:16 PM Subject: [dom4j-user] TCP/IP stream to XML document ? Hi there, I would like to read XML messages from a TCP/IP stream. One = issue=20 is determining the end of an XML message. My latest solution = just=20 tries to parse the message everytime it receives a "&amp;gt;". Now the Problem: the parsing always automatically tries to = retrieve=20 the DTD and do a validation. But if the DTD does not exist, = every=20 parsing attempt takes forever. Question: How can I completely disable DTD retrieval and = validation ? Any sugegstion how I should modify my sample code below ? thanx Mike -------------------- cut here -------------------- /** * Read XML from TCP/IP connection and create a document. */ static Category log =3D = // open server socket // wait for an incoming connection log.info("run() - new connection from " + = // read every character from input stream // if I get here, I have a complete document -------------------------------------------------------------------------= ----- Changed your e-mail? Keep your contacts! Use this free e-mail change = of address service from Return Path. Register now!=20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] TCP/IP stream to XML document ?</header>
    <date>Thu Sep 05 18:36:00 CEST 2002</date>
    <body>Just my 2 cents. I'm solving the same problem for a Jabber API that I'm writing for a distributed project that I'm apart of.  I'm using JDK 1.4.1 so I take advantage of the regex library to tokenize the stream and NIO to prevent blocking caused by the parser trying to buffer the XML content.  I've had to customized a couple of the regular I/O classes to reduce the number of transient objects (garbage) required to go from channels (nio) to streams.  If you are interested we can talk off list. Dane Foster Equity Technology Group, Inc. http://www.equitytg.com 954.360.9800 Sent: Thursday, September 05, 2002 14:09 Subject: Re: [dom4j-user] TCP/IP stream to XML document ? When reading XML over a socket, generically, you need to use a protocol which denotes when the XML stops. Looking for the last &amp;gt; doesn't work since comments, whitespace and processing instructions can occur outside of the root element. So if you were to send multiple documents on the same socket, the end of one document could invalidate the begiinning of the next document (since the XML declaration must be the first line) So try using, say, HTTP or MIME encoding or writing the length of the XML file first then you know how many bytes to read etc. This has been discussed in this thread... http://www.mail-archive.com/dom4j-dev%40lists.sourceforge.net/msg00400.html Details of how to disable DTD validation, or at least to fetch DTDs from local files or inside jars on the classpath are here... James ------- http://radio.weblogs.com/0112098/ From: bluepuma@... To: dom4j-user@... Sent: Thursday, September 05, 2002 2:16 PM Subject: [dom4j-user] TCP/IP stream to XML document ? Hi there, I would like to read XML messages from a TCP/IP stream. One issue is determining the end of an XML message. My latest solution just tries to parse the message everytime it receives a "&amp;gt;". Now the Problem: the parsing always automatically tries to retrieve the DTD and do a validation. But if the DTD does not exist, every parsing attempt takes forever. Question: How can I completely disable DTD retrieval and validation ? Any sugegstion how I should modify my sample code below ? thanx Mike -------------------- cut here -------------------- /** * Read XML from TCP/IP connection and create a document. */ // open server socket // wait for an incoming connection // read every character from input stream // if I get here, I have a complete document ------------------------------------------------------------------------------ Changed your e-mail? Keep your contacts! Use this free e-mail change of address service from Return Path. Register now!</body>
  </mail>
  <mail>
    <header>[dom4j-user] RFI - Example on XSLT</header>
    <date>Thu Sep 05 16:45:00 CEST 2002</date>
    <body>Greetings All, I am in dire need of a "quick sample" of the usage of DOM4J with a stylesheet. The point is that the stylesheet needs to be assemble in code. I assume the Stylesheet class will help me there but I don't have any sample code to get me started. What I need to do is create an expression evaluator that handles a user supplied "XPath expression" and "the variables + values" that need to be plugged into it. Since the XPath expression is user supplied and the values computed, I need to "make the stylesheet" and the "source document" - my thought was - in code as objects and evaluate the two from code. Any ideas or sample code to get me going will be greatly appreciated. René Raynier A. van Egmond Vashon (WA) 98070, USA --- Outgoing mail is certified Virus Free. Checked by AVG anti-virus system ( http://www.grisoft.com ). Version: 6.0.384 / Virus Database: 216 - Release Date: 8/21/2002</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: [dom4j-dev] RE: Thread Safety</header>
    <date>Mon Oct 28 16:34:00 CET 2002</date>
    <body>This concerns me: "The expectation is still the same.  You only operate on a  document / element in the same thread throughout the life of that document/element. The changes to the document factory I made, converts it from a singleton, to a singleton per thread.  That final change actually allowed our threading tests to pass." In my code, I do a lot of "handing off" of Documents from one thread to another.  Any multi-threaded access to the same document are carefully synchronized, or they are only retrieving values from the document.  In these cases, there should be no problems, correct?</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: [dom4j-dev] RE: Thread Safety</header>
    <date>Mon Oct 28 16:54:00 CET 2002</date>
    <body>I see a problem. If thread A creates a namespace and adds it to the Cache, then the doc is handed off to another thread and the new thread adds some more data, the cache would not be there, as a new document factory would be in place. Now, though, it may not matter, other than some duplicated cache entries, but I don't know. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, ITS, AEGON FINANCIAL PARTNERS -----Original Message----- From: 	David Hooker [mailto:dhooker@...] Sent:	Monday, October 28, 2002 10:31 AM To:	'David D. Lucas'; 'Brain, Jim' Cc:	dom4j-user@...; dom4j-dev@... Subject:	RE: [dom4j-dev] RE: Thread Safety This concerns me: "The expectation is still the same.  You only operate on a  document / element in the same thread throughout the life of that document/element. The changes to the document factory I made, converts it from a singleton, to a singleton per thread.  That final change actually allowed our threading tests to pass." In my code, I do a lot of "handing off" of Documents from one thread to another.  Any multi-threaded access to the same document are carefully synchronized, or they are only retrieving values from the document.  In these cases, there should be no problems, correct?</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] RE: [dom4j-dev] RE: Thread Safety</header>
    <date>Tue Oct 29 07:11:00 CET 2002</date>
    <body>I don't know anything about dom4J internals.  Anyone have time to build a simple test for this?  I don't :-( -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Brain, Jim Sent: Monday, October 28, 2002 10:54 AM To: 'David Hooker'; 'David D. Lucas'; Brain, Jim Cc: dom4j-user@...; dom4j-dev@... Subject: [dom4j-user] RE: [dom4j-dev] RE: Thread Safety I see a problem. If thread A creates a namespace and adds it to the Cache, then the doc is handed off to another thread and the new thread adds some more data, the cache would not be there, as a new document factory would be in place. Now, though, it may not matter, other than some duplicated cache entries, but I don't know. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, ITS, AEGON FINANCIAL PARTNERS -----Original Message----- From: 	David Hooker [mailto:dhooker@...] Sent:	Monday, October 28, 2002 10:31 AM To:	'David D. Lucas'; 'Brain, Jim' dom4j-dev@... Subject:	RE: [dom4j-dev] RE: Thread Safety This concerns me: "The expectation is still the same.  You only operate on a  document / element in the same thread throughout the life of that document/element. The changes to the document factory I made, converts it from a singleton, to a singleton per thread.  That final change actually allowed our threading tests to pass." In my code, I do a lot of "handing off" of Documents from one thread to another.  Any multi-threaded access to the same document are carefully synchronized, or they are only retrieving values from the document.  In these cases, there should be no problems, correct? ------------------------------------------------------- This sf.net email is sponsored by:ThinkGeek Welcome to geek heaven. http://thinkgeek.com/sf _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: Thread Safety</header>
    <date>Tue Oct 22 15:59:00 CEST 2002</date>
    <body>I also echo a need to resolve this.  We are currently having this issue in production on a mission critical (probably everyone says that, but it is an app entry system for an insurance carrier, so I hope that qualifies) application running on IBM OS/390 (ye old mainframe).  Before I pull the HashTable version, I'd like to hear what the longer term plans are, since there is a considerable ramp time on getting new cuts of code through our integration management process. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, ITS, AEGON FINANCIAL PARTNERS -----Original Message----- From: 	David D. Lucas [mailto:ddlucas@...] Sent:	Tuesday, October 22, 2002 9:34 AM To:	dom4j-user@...; dom4j-dev@... Cc:	Brain, Jim Subject:	Thread Safety Sorry for the cross post, but I have not seen any feedback on the thread safety issues.  I have taken the stock CVS and changed all the HashMaps to Hashtables to get things to work in our server environment. I would like to know what the long term direction is for thread safety and if anyone would like my changes? Basically I took all the classes in org.dom4j.* and org.dom4j.tree.* and changed them to use Hashtable.  The methods out there with synchronization are probably no longer needed now that we have a Hashtable.  I am looking at an alternative approach to keep the HashMap and performance without having thread related failures. All this came from the QNameCache getting corrupted when two threads hit it at the same time.  It appears that one did a put while another did a get and resulted in a null coming back. Please let me know what I should do next with the code.  If you want I can post it or check it in (given access to development CVS). Thanks in advance, Dave -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: [dom4j-dev] RE: Thread Safety</header>
    <date>Tue Oct 22 16:09:00 CEST 2002</date>
    <body>I second this (or is it third?) also.  I've seen some weird exceptions coming out of DOM4J on SMP (multi-cpu) machines.  While I can't definitively blame Dom4J, it would at least lessen the risk in this area. -----Original Message----- From: dom4j-dev-admin@... [mailto:dom4j-dev-admin@...] On Behalf Of Brain, Jim Sent: Tuesday, October 22, 2002 10:59 AM dom4j-dev@... Cc: Brain, Jim Subject: [dom4j-dev] RE: Thread Safety I also echo a need to resolve this.  We are currently having this issue in production on a mission critical (probably everyone says that, but it is an app entry system for an insurance carrier, so I hope that qualifies) application running on IBM OS/390 (ye old mainframe).  Before I pull the HashTable version, I'd like to hear what the longer term plans are, since there is a considerable ramp time on getting new cuts of code through our integration management process. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, ITS, AEGON FINANCIAL PARTNERS -----Original Message----- From: 	David D. Lucas [mailto:ddlucas@...] Sent:	Tuesday, October 22, 2002 9:34 AM dom4j-dev@... Cc:	Brain, Jim Subject:	Thread Safety Sorry for the cross post, but I have not seen any feedback on the thread safety issues.  I have taken the stock CVS and changed all the HashMaps to Hashtables to get things to work in our server environment. I would like to know what the long term direction is for thread safety and if anyone would like my changes? Basically I took all the classes in org.dom4j.* and org.dom4j.tree.* and changed them to use Hashtable.  The methods out there with synchronization are probably no longer needed now that we have a Hashtable.  I am looking at an alternative approach to keep the HashMap and performance without having thread related failures. All this came from the QNameCache getting corrupted when two threads hit it at the same time.  It appears that one did a put while another did a get and resulted in a null coming back. Please let me know what I should do next with the code.  If you want I can post it or check it in (given access to development CVS). Thanks in advance, Dave -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners. ------------------------------------------------------- This sf.net emial is sponsored by: Influence the future of Java(TM) technology. Join the Java Community Process(SM) (JCP(SM)) program now. http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javav ote _______________________________________________ dom4j-dev mailing list dom4j-dev@... https://lists.sourceforge.net/lists/listinfo/dom4j-dev</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] RE: Thread Safety</header>
    <date>Tue Oct 22 16:55:00 CEST 2002</date>
    <body>I saw the original post here, But can someone in basic terms explain where there may be a threading issue?  We use dom4j as part of a fully threaded server and I'd like to know if there is anything I need to look out for. In many cases I use a shared dom4j document that many threads can read, but modification of course is done through proper synchronization in my own code.  Is this enough?  I think I'm hearing that it isn't. Thanks! Brain, Jim wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: [dom4j-dev] RE: Thread Safety</header>
    <date>Tue Oct 22 17:04:00 CEST 2002</date>
    <body>In the simple case where multiple threads are building separate documents simultaneously you only need to change the static data structures: QNameCache and NamespaceCache that I know of. Using non-threadsafe code for these static data structures is a true bug in the current dom4j implementation, and should be fixed. If you actually want to support multiple threads accessing a writable document (even if only one is doing the writing) the problems go far beyond HashMap. You'd need to synchronize *all* calls (including read-only access calls to elements and such, since another thread could be modifying the data at the same time as your reader is accessing it). In order to avoid deadlock problems you'd probably want to use the document root object for all the synchronizations. The cleanest way of implementing this is by doing it in your own code, wrapping the dom4j calls with a synchronize on the document object. - Dennis David Hooker wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: [dom4j-dev] RE: Thread Safety</header>
    <date>Tue Oct 22 17:23:00 CEST 2002</date>
    <body>Actually, on looking at this in more detail it looks like the NamespaceCache already handles the multiple threads with separate documents case properly, with synchronized methods. QNameCache just needs the same type of change. I don't know why this was addressed in NamespaceCache but not in QNameCache - James, are you out there for comment? - Dennis Dennis Sosnoski wrote: http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-dev</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] RE: [dom4j-dev] RE: Thread Safety</header>
    <date>Tue Oct 22 18:50:00 CEST 2002</date>
    <body>BTW, the weird exception I see, which I've now also seen on single-cpu machines usually looks something like this: javax.xml.transform.TransformerConfigurationException: org.xml.sax.SAXException: Invalid Node in DOM4J content: [org.dom4j.tree.DefaultText@... [Text: "E"]] Sometimes there's different things in the "Text:" part of that exception message. Can someone take a glance in the source and see if this could possibly be a thread safety issue or not? -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Hooker Sent: Tuesday, October 22, 2002 11:07 AM To: dom4j-user@...; dom4j-dev@... Subject: [dom4j-user] RE: [dom4j-dev] RE: Thread Safety I second this (or is it third?) also.  I've seen some weird exceptions coming out of DOM4J on SMP (multi-cpu) machines.  While I can't definitively blame Dom4J, it would at least lessen the risk in this area. -----Original Message----- From: dom4j-dev-admin@... [mailto:dom4j-dev-admin@...] On Behalf Of Brain, Jim Sent: Tuesday, October 22, 2002 10:59 AM dom4j-dev@... Cc: Brain, Jim Subject: [dom4j-dev] RE: Thread Safety I also echo a need to resolve this.  We are currently having this issue in production on a mission critical (probably everyone says that, but it is an app entry system for an insurance carrier, so I hope that qualifies) application running on IBM OS/390 (ye old mainframe).  Before I pull the HashTable version, I'd like to hear what the longer term plans are, since there is a considerable ramp time on getting new cuts of code through our integration management process. Jim</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: [dom4j-dev] RE: Thread Safety</header>
    <date>Wed Oct 23 01:13:00 CEST 2002</date>
    <body>In the case I have, we are doing: According to Java rules, multiple threads calling doThis should get an instance of Element on the local heap, and no two threads are using the same Element.  However, under the covers, the ELement are using a singleton documentFactory (createElement sets that up).  I guess I could create my own documentFactory for each thread (threadlocal storage), but I hesitate to go there just yet. Jim Dennis Sosnoski wrote: http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-dev http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Jim Brain, Embedded System Designer, Brain Innovations, Inc. (BII)(offline sig) bii@... "Above views DO reflect my employer, since I'm my employer" Dabbling in WWW, Embedded Systems, Old CBM computers, and Good Times!      -Me- BII Home: http://www.jbrain.com CBM Info: http://www.jbrain.com/vicug/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: [dom4j-dev] RE: Thread Safety</header>
    <date>Wed Oct 23 05:18:00 CEST 2002</date>
    <body>It doesn't matter that a singleton DocumentFactory is being used, because all that DocumentFactory does is call the constructor for the Element. The only time when thread safety becomes an issue for shared classes is when there is state information stored in the class. DocumentFactory doesn't appear to do this, except by way of the static QNameCache instance. - Dennis Jim Brain wrote: http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-dev http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: [dom4j-dev] RE: Thread Safety</header>
    <date>Wed Oct 23 08:50:00 CEST 2002</date>
    <body>Great stuff David. Either you can just mail the patches to the list and someone will commit them, or I can give you CVS access if you wish to modify CVS directly? James ------- http://radio.weblogs.com/0112098/ Sent: Wednesday, October 23, 2002 2:56 AM Subject: Re: [dom4j-user] Re: [dom4j-dev] RE: Thread Safety exceptions Jim issue environment. http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-dev http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.lse.com/~ddlucas/pgpblock.txt __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] RE: [dom4j-dev] RE: Thread Safety</header>
    <date>Wed Oct 23 08:52:00 CEST 2002</date>
    <body>Do you ever get more of a stack trace of what causes the exception? That might help track it down. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] RE: Thread Safety</header>
    <date>Wed Oct 23 08:59:00 CEST 2002</date>
    <body>One minor point. For optmisation, dom4j uses lazy evaluation; it tries for example not to create List implementations until it absolutely has to. So if you want to create a Document that is shared, in a read only state, across many threads, I'd recommend using the NonLazyDocumentFactory (in the org.dom4j.util package) to construct your documents. Its slower but should avoid any issues caused by multi-threaded access to the same document instance. James ------- http://radio.weblogs.com/0112098/ in an http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: [dom4j-dev] RE: Thread Safety</header>
    <date>Wed Oct 23 13:38:00 CEST 2002</date>
    <body>You are correct, in my haste to post, I oversimplified the statement. We traced the issue to the QNameCache stuff (the HashMap inside) as you stated. Jim Dennis Sosnoski wrote: http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-dev http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Re: [dom4j-dev] RE: Thread Safety</header>
    <date>Wed Oct 23 19:26:00 CEST 2002</date>
    <body>I hope these changes can get into the code soon, and we can get a release containing them on the website. When is the next release? -----Original Message----- From: dom4j-dev-admin@... [mailto:dom4j-dev-admin@...] On Behalf Of James Strachan Sent: Wednesday, October 23, 2002 3:50 AM To: David D. Lucas; Jim Brain Cc: dom4j-dev@...; dom4j-user@... Subject: Re: [dom4j-user] Re: [dom4j-dev] RE: Thread Safety Great stuff David. Either you can just mail the patches to the list and someone will commit them, or I can give you CVS access if you wish to modify CVS directly? James ------- http://radio.weblogs.com/0112098/ Sent: Wednesday, October 23, 2002 2:56 AM Subject: Re: [dom4j-user] Re: [dom4j-dev] RE: Thread Safety QName, propogated much an the could but in in writable far exceptions this Brain, Jim issue but qualifies) pull are, through Tuesday, environment. org.dom4j.tree.* threads another want Java(TM) http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javav ote https://lists.sourceforge.net/lists/listinfo/dom4j-dev now. http://ad.doubleclick.net/clk;4699841;7576301;v?http://www.sun.com/javav ote https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.lse.com/~ddlucas/pgpblock.txt __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com ------------------------------------------------------- This sf.net emial is sponsored by: Influence the future of Java(TM) technology. Join the Java Community Process(SM) (JCP(SM)) program now. http://ads.sourceforge.net/cgi-bin/redirect.pl?sunm0002en _______________________________________________ dom4j-dev mailing list dom4j-dev@... https://lists.sourceforge.net/lists/listinfo/dom4j-dev</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: [dom4j-dev] RE: Thread Safety</header>
    <date>Thu Oct 24 09:45:00 CEST 2002</date>
    <body>How about we add your patches, test it out and then do a release? James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] re: Can I use XPath expression as prepared statements?</header>
    <date>Wed Oct 16 20:43:00 CEST 2002</date>
    <body>Back in May, James Strachan answered a query with this: Yes its very possible indeed. The trick is to use XPath variables. e.g. Then you can set whatever variable value you want for 'x' and apply the XPath to any node. I've been trying to get this to go, and having a problem. Here is my program: (new XPathTest()).go(s1+s2+s3+s4+s5+s6+s7, "/StateTable/Action[InputEvent=\"Cash\"]/ProcessFile", (new XPathTest()).go(s1+s2+s3+s4+s5+s6+s7, "/StateTable/Action[InputEvent=$x]/ProcessFile", try catch (Exception e) The first call to go(), not using a variable, works fine. The second bombs with: org.dom4j.XPathException: Exception occurred evaluting XPath: /StateTable/Action I'd much appreciate some assistance in finding out what's wrong. Cheers Tony __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] re: Can I use XPath expression as prepared statements?</header>
    <date>Thu Oct 17 02:55:00 CEST 2002</date>
    <body>Tony, There was an error in James example. Replace your line with this: "/StateTable/Action[InputEvent=\"$x\"]/ProcessFile", with the escaped quotes around the variable, and it works fine. I get "Cash.xsl" as the output. steve Tony Ms wrote: http://uk.my.yahoo.com http://ad.doubleclick.net/clk;4749864;7604308;v? http://www.viaverio.com/consolidator/osdn.cfm https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] re: Can I use XPath expression as prepared statements?</header>
    <date>Thu Oct 17 22:02:00 CEST 2002</date>
    <body>Steve, thanks for your prompt response. I can see the quotes make better sense. However, it still won't work on my machine - it's failing to do the substitution. I'd expect getText() to return the string with the substitution in place already. To illustrate, I've changed the System.out.println()s to: The output I get is: A /StateTable/Action[InputEvent="Cash"]/ProcessFile B Cash.xsl A /StateTable/Action[InputEvent="$x"]/ProcessFile B Maybe I'm using a different version. I have jaxen-1.0-FCS and dom4j-patched-1.3 Cheers Tony bombs https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] re: Can I use XPath expression as prepared statements?</header>
    <date>Fri Oct 18 14:13:00 CEST 2002</date>
    <body>Tony, Yea, I'm going to have to go back and hit the books (aka docs). I got this to work for your example, but can't not get some of my stuff to work, which is only a little more complicated, i.e., I use  "and" as part of my selection criteria. However, to answer your question, I'm using the dom4j-full.jar dated 9/24/02 (one of the daily builds, as I was having problems with the XMLWriter on another problem). I'm not sure what version of jaxen it's using (when I unpack the jar, it appears the dates on the jaxen classes are 4/26/02) good luck steve BtOW wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] re: Can I use XPath expression as prepared statements?</header>
    <date>Mon Oct 21 21:29:00 CEST 2002</date>
    <body>Steve Thanks. Can you point me to the class that is meant to do the substitution, so that I can put in some diags of my own? Cheers Tony Sent: Friday, October 18, 2002 1:50 PM Subject: Re: [dom4j-user] re: Can I use XPath expression as prepared statements? to is only criteria. 9/24/02 another jar, the e.g. the my https://lists.sourceforge.net/lists/listinfo/dom4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] re: Can I use XPath expression as prepared statements?</header>
    <date>Tue Oct 22 01:31:00 CEST 2002</date>
    <body>Tony, My guess is the DocumentHelper.createXPath method, and how it uses the org.jaxen.SimpleVariableContext. I was assuming the createXPath method would "convert" the XPath string with the variable context's replaced, but that doesn't seem to be it. That is where I plan on starting - when I get back to it. I've put it aside and have just used a StringBuffer to create my XPath String instead. Little more cumbersome, but I know that IT works! good luck steve Tony Ms wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user http://uk.my.yahoo.com http://ad.doubleclick.net/clk;4699841;7576298;k?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] re: Can I use XPath expression as prepared statements?</header>
    <date>Wed Oct 23 09:07:00 CEST 2002</date>
    <body>XPath variables are not quoted. So the XPath expression should be... /StateTable/Action[InputEvent=$x]/ProcessFile James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] re: Can I use XPath expression as prepared statements?</header>
    <date>Wed Oct 23 09:09:00 CEST 2002</date>
    <body>Tony, You're code is fine but for 1 line. You're creating the XPath properly, setting variables in the context, then not using the XPath object directly. See below... Change this like to... Then you will actually use the XPath object with its variable context. The line you had just takes the XPath String, ignores the variable context and evaluates the XPath expression in an empty variable context. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] re: Can I use XPath expression as prepared statements?</header>
    <date>Wed Oct 23 21:38:00 CEST 2002</date>
    <body>James Brilliant! Thanks very much. Be good to have an example - why not this one - in the FAQ Cheers Tony Sent: Wednesday, October 23, 2002 10:09 AM Subject: Re: [dom4j-user] re: Can I use XPath expression as prepared statements? directly. http://radio.weblogs.com/0112098/ http://uk.my.yahoo.com __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Namespace class question(s)</header>
    <date>Wed Oct 23 13:14:00 CEST 2002</date>
    <body>I sent this back on 9/30 to the list, but haven't heard anything. Generally, the question reflects my lack of comprehension of how the Namespace class interacts with classes that implement the Node interface, I think. Now that the traffic seems to be improving, I'd like to ask again: __________________ I want to be able to add and delete namespaces (dynamically) to/from documents as part of an integration project.  We obviously need namespaces for validation, we are storing xml in a database as blobs (and we don't want to use namespaces there), we are querying subsets of the data using XPath, and we need to transform our xml to 3rd-party formats using XSLT stylesheets.  All of this functionality has been implemented in a pilot project using proprietary Java solutions.  I would like to recast the implementation using dom4j. I _have_ been able to add namespaces appropriately in order to allow dom4j's XPath implementation to perform the subset querying (where the documents were using "default namespace").  I'm now asking whether it is possible to use the Namespace class on a given Node to dynamically "delete" a namespace, and/or dynamically "add" a namespace to the Node, and whether that Node must be the document Node or can be any Node. Sorry if this is redundant but I haven't seen this particular issue addressed in the archives, and I have just joined the listserver. Thanks. Michael McDonough AIG Trading Group -------------------------------------------------------------------------- Important:  This electronic mail message and any attached files contain information intended for the exclusive use of the individual or entity to whom it is addressed and may contain information that is proprietary, privileged, confidential and/or exempt from disclosure under applicable law.  If you are not the intended recipient, you are hereby notified that any viewing, dissemination, distribution or copying of this communication may be subject to legal restriction or sanction.  Please notify us immediately of any unintended recipients and delete the original message without making any copies. --------------------------------------------------------------------------</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Namespace class question(s)</header>
    <date>Wed Oct 23 13:41:00 CEST 2002</date>
    <body>Hi Michael Sure you can add or remove namespaces if you like. Though namespaces by themselves don't do very much; its typically the QNames on an Element or Attribute which define the namespace of parts of the document. So probably you want to change the QNames of Elements and Attributes to change the namespace they are in, or just add new elements/attributes anywhere in a document in a new namespace. James ------- http://radio.weblogs.com/0112098/ Sent: Wednesday, October 23, 2002 2:13 PM Subject: [dom4j-user] Namespace class question(s) I "delete" - - http://ads.sourceforge.net/cgi-bin/redirect.pl?sunm0002en https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] help!</header>
    <date>Thu Oct 17 10:20:00 CEST 2002</date>
    <body>I'm trying to xml load a file to process. But using SAXReader directly it doesn't work! I've to read it with DOM and then convert it to dom4j... I think it's very weird.... Any idea? Thanks a lot! Federico (Document url: http://www.informatik.uni-freiburg.de/~may/Mondial/mondial - 3.0.xml it's almost 2mb!) SAX reader code: List list = document.selectNodes( "//religions", ".", DOM to SAX code: DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] help!</header>
    <date>Thu Oct 17 19:11:00 CEST 2002</date>
    <body>Hi, When you say that they are failing without message, you would not know, as you are not doing anything with the message! Mike http://www.informatik.uni-freiburg.de/~may/Mondial/mondial - http://ad.doubleclick.net/clk;4749864;7604308 ;&amp;gt; v? http://www.viaverio.com/consolidator/osdn.cfm _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] help!</header>
    <date>Sun Oct 20 11:03:00 CEST 2002</date>
    <body>you're completly right! it seems that there's some problem with the dtd even if I don't understand why as eiht dom there's no problem... actually my solution is to remove the dtd specification line from the xml file... but I bet there's a way to skip it. doesn't seem to affect it. BTW I've to say that dom4j is much more performant than dom! Before using that the bottleneck in my software was the preprossing of the xml file! Now is the mining data package! My teacher may kill me because of that ;o) Federico http://chicco.grafedi.it ------------------------------------------------------------------------------------------------- "In the book of life, the answers aren't in the back" Charlie Brown Sent: Thursday, October 17, 2002 9:04 PM Subject: RE: [dom4j-user] help! http://www.informatik.uni-freiburg.de/~may/Mondial/mondial - http://ad.doubleclick.net/clk;4749864;7604308 ;&amp;gt; v? http://www.viaverio.com/consolidator/osdn.cfm https://lists.sourceforge.net/lists/listinfo/dom4j-user http://ad.doubleclick.net/clk;4749864;7604308;v? http://www.viaverio.com/consolidator/osdn.cfm https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] help!</header>
    <date>Wed Oct 23 09:35:00 CEST 2002</date>
    <body>BTW when parsing documents with DTDs or schemas referenced in them, its often preferable to give the parser a help by parsing the URL String rather than giving it an InputStream. So rather than... just do then the parser knows where the document is coming from then it can deduce relative URLs for DTDs and schemas etc. James ------- http://radio.weblogs.com/0112098/ Sent: Friday, October 18, 2002 7:40 PM Subject: Re: [dom4j-user] help! why skip it. http://chicco.grafedi.it ----------------------- http://www.informatik.uni-freiburg.de/~may/Mondial/mondial - http://ad.doubleclick.net/clk;4749864;7604308 ;&amp;gt; v? http://www.viaverio.com/consolidator/osdn.cfm https://lists.sourceforge.net/lists/listinfo/dom4j-user http://ad.doubleclick.net/clk;4749864;7604308;v? http://www.viaverio.com/consolidator/osdn.cfm https://lists.sourceforge.net/lists/listinfo/dom4j-user https://www.gotomypc.com/s/OSND/DD https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Help with XPath and big xml files</header>
    <date>Tue Oct 15 13:54:00 CEST 2002</date>
    <body>Does anyone can give me any suggestion about this topic? The problem is that I've a big xml file (128mb) and I've to finds some Xpath iterating through it. I'm doing it with dom... an it works only on a pc with 1GB of ram! the other says out of memory error. But as I may have to handle also bigger files, I was searching for a better solution. I noticed that j4dom as an handler in SAXReader and I was thinking I may use that in someway... do you have any clue about that?!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Help with XPath and big xml files</header>
    <date>Wed Oct 23 09:32:00 CEST 2002</date>
    <body>You could use XPath expressions to determine when to prune the tree while parsing is occurring. reader.setDefaultHandler( // process this element if its one I need. // do I need to prune this element? James ------- http://radio.weblogs.com/0112098/ Sent: Tuesday, October 15, 2002 2:51 PM Subject: [dom4j-user] Help with XPath and big xml files http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Creating a Document from a Node</header>
    <date>Mon Oct 21 18:09:00 CEST 2002</date>
    <body>I would like to be able create a Document object from a Node object. I tried using node.GetDocument() but this retrieves the parent Document. How can I efficiently create a new Document from a Node? Thanks G</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Creating a Document from a Node</header>
    <date>Mon Oct 21 22:11:00 CEST 2002</date>
    <body>Gary, Under the DOM model (the W3C DOM), the Document IS the root object (it is, itself a Node though), and therefore, I don't think you are able to create a Document from a Node. Others, more experienced in the DOM, may provide better guidance. HTH steve Gary Johnson wrote: http://ad.doubleclick.net/clk;4699841;7576298;k?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Creating a Document from a Node</header>
    <date>Wed Oct 23 09:27:00 CEST 2002</date>
    <body>It depends what your Node is. If it already is a Document then its just a cast. If its an Element then you can create a document and it can be the single root element. If its something else (an Attribute, Text node etc) then you'll need to create an Element to put it in first. James ------- http://radio.weblogs.com/0112098/ Sent: Monday, October 21, 2002 7:09 PM Subject: [dom4j-user] Creating a Document from a Node http://ad.doubleclick.net/clk;4699841;7576298;k?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Processing Multiple XML Datagrams</header>
    <date>Tue Oct 22 00:37:00 CEST 2002</date>
    <body>I am attempting to process a number of XML datagrams that are coming back from a web service.  Essentially, there are multiple full XML documents being returned as one stream, and I would like to create a Document for each of them.  Can anyone give me a pointer as to where I should start looking?  I was thinking that some sort of SAX reader could separate each datagram into a String object, and then I could use the SAXReader.read(String) method to construct a Document object.  Does anyone here have experience doing something like this?  If so, I would appreciate a pointer in the right direction... Thanks in advance, C.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Processing Multiple XML Datagrams</header>
    <date>Tue Oct 22 17:17:00 CEST 2002</date>
    <body>On 10/21/02 5:36 PM, "Cory C. Omand" &amp;lt;Cory.Omand@...&amp;gt; wrote: Hi, I'm doing something similar and was able to handle things with a custom lightweight pre-parser (we haven't gotten to the profiling stage to see how much of a hit it will be but I don't think it will be too significant). Unfortunately the code is part of a commercial product under development so I can't share it (we can discuss licensing offline if you're interested). I also had to jump through  a few extra hoops because we're using nio (so everything is async CharBuffer). However, the basic procedure is pretty straightforward. I started with the XPP parser from http://www.xmlpull.org (it's fast and the entire parser is in one file). Then you just need to extract the parts that properly detect tags (skips over CDATA, comments, etc) and track the depth of your parse. Then break off the strings at the right positions (depth == 0) and feed it to the normal document builder. Since you already have the char data in memory, you can remove the character reading and buffering that the parser normally does and avoid creating entity strings which saves a lot of time and GC activity. You'll have to be prepared to devote a thread to the parser if you're reading a stream. If you're using java.nio you'll have to modify the parser further to allow you to push data into the parser rather than have it pull it from a stream. This lets you share/pool threads. Very helpful if the streams will be long lived and you have enough simultaneous connections that you can't devote a thread per connection. It sounds a bit more complex than it really is. I'd guess about 2 days to get it working correctly for your application. And of course, you can spend many more tweaking it for better performance. :) Hope that helps. -iain</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Processing Multiple XML Datagrams</header>
    <date>Wed Oct 23 09:25:00 CEST 2002</date>
    <body>Strictly speaking, if you want to handle any XML document over your stream you must use some protocol to specify how long the XML document is. According to the XML specification it is not possible to just terminate XML parsing when the last close element occurs. The way things like SOAP work is by using transport protocols like HTTP which sends the length of the document first, then the document. Then the InputStream can just read n bytes and know its got to the end of the datagram. http://www.mail-archive.com/dom4j-user%40lists.sourceforge.net/msg01031.html e.g. this stream of XML data grams will probably break any generic solution, thats not clever enough to spot the 2nd XML declaration... parsing will fail so the comment from document 1 could well break the parse of this document James ------- http://radio.weblogs.com/0112098/ Sent: Tuesday, October 22, 2002 1:36 AM Subject: [dom4j-user] Processing Multiple XML Datagrams from a web service.  Essentially, there are multiple full XML documents being returned as one stream, and I would like to create a Document for each of them.  Can anyone give me a pointer as to where I should start looking? I was thinking that some sort of SAX reader could separate each datagram into a String object, and then I could use the SAXReader.read(String) method to construct a Document object.  Does anyone here have experience doing something like this?  If so, I would appreciate a pointer in the right direction... http://ad.doubleclick.net/clk;4699841;7576298;k?http://www.sun.com/javavote https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Using JAXP/Trax</header>
    <date>Wed Oct 23 07:47:00 CEST 2002</date>
    <body>Hello, I'm actually using JAXP/Trax with Xerces/Xalan. I'm setting three systems properties : javax.xml.parsers.DocumentBuilderFactory = org.apache.xerces.jaxp.DocumentBuilderFactoryImpl javax.xml.transform.TransformerFactory = org.apache.xalan.processor.TransformerFactoryImpl javax.xml.parsers.SAXParserFactory = org.apache.xerces.jaxp.SAXParserFactoryImpl What are values in order to use DOM4J ? Olivier</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Using JAXP/Trax</header>
    <date>Wed Oct 23 09:01:00 CEST 2002</date>
    <body>dom4j doesn't implement the JAXP DOM builder API right now. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Is DocumentFactory threadsafe?</header>
    <date>Fri Oct 18 16:18:00 CEST 2002</date>
    <body>We are running 1.1 of Dom4J on OS/390 (mainframe), and IBM helped us isolate a problem within dom4j. The code is thus: We create an element using DocumentHelper. We then addElement(String) to the element. IBM's look at our WAS trace showed that, at time of failure, we have two threads in this code, and each one of them does this: 0000045e    java/util/HashMap.rehash()V 00000234    java/util/HashMap.put(Ljava/lang/Object;Ljava/lang/Object;) 00000534    mmipSelectInvokeJavaMethod  (org/dom4j/tree/QNameCache.get) 00000534    mmipSelectInvokeJavaMethod (org/dom4j/DocumentFactory.createQName) 00000534    mmipSelectInvokeJavaMethod (org/dom4j/tree/AbstractElement.addElement) 00000534    mmipSelectInvokeJavaMethod (org/acord/xmlife/io/XMLifeWriter.buildPolicy) Our added Element has no namespace.  (I should probably add one, but have not)  I think I traced the operation down to: AddElement called getDocumentFactory, which noticed no namespace so returns the default factory, which is a singleton CreateElement is called (I think, it does not reflect in stack trace), which tries to get an entry from QnameCache, which fails and a new Qname is put in the Qname cache, which is a HashMap. What I need to know is: If we move to 1.3, will this problem go away (HashTables in DocumentFactory, or synchronized methods?) If not, what can we do to make this go away.  From our perspective, we have an instance variable of Element, and we thought it was thread safe. Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, ITS, AEGON Financial Partners</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] DocumentFactory Methods Not Being Called for All Elements</header>
    <date>Fri Oct 18 08:32:00 CEST 2002</date>
    <body>Hi, The model of the communication between the saxparser and the system, is a very small part of the API sets that can generate XML nodes, so the model correctly chosen was to use the nodes to determine the creation mechanism. If the model chosen was the one that you suggest there would be a reduction in the flexibility, for no great advantage, and subsiquent creation on nodes done via XSLT, programatic access ..... would not use the factory. -----Original Message----- From: O'neil, Jerome [mailto:joneil@...] Sent: Thursday 17 October 2002 22:55 To: 'Mike Skells' Subject: RE: [dom4j-user] DocumentFactory Methods Not Being Called for All Elements I understand what it's doing.  I just don't think that's how it aught to do it.  Allow me to pontificate for a bit.  :) QName. The QName is works without you My position is that nothing generated by a factory needs to be aware of the factory that generated it.  The SAX parser should be making calls to the factory assigned to it as it parses it's input stream.  I don't want to rely on one node's state for future generation of it's children. It is not relying on the state, it is relying on the semantic behavior. What is the behavior that you expect the node to have for future child node creation? aware of the This is only true if I use the passed in QName, and not a String, as the argument to DefaultElement's constructor.  If I use a string, the behavior of DefaultElement is to go to a new instance of DocumentFactory, and ignore the factory I set on the SAX parser.  I can't override getInstance() in my factory, as it's static. This means I must override getQName() to set it's factory to reliably create Elements.  This is the heart of my beef. No, as I said, the QName createion is wired by default of the document factory that created it. Look at the code in the document factory. It is inherently aware on the document factory instance. When you designed your application I am sure that you considered the detail of what you had to enhance, and therefore as a general rule you should look at the existing code base. I presume that you looked at the DocumentFactory.createElement methods, and you would see that they all use the qualified name constructor for the element. As such when you change the model of behavior, you need to assess the impact. If you had used the same semantics, and passed a QName then you would have the problem would you? In Jerome's Perfect World(tm), there is no need for any factory artifact to be aware of the factory that created it. The parser makes calls to the factory as it parses, and populates its tree with the result. And that is the way that it would have worked, if you hadnot broken it ;( One way to solve this is to define DocumentFactory as an interface, and create DefaultDocumentFactory, and it's derivatives that implement it. The SAXReader is assigned a DocumentFactory to use.  All elements are then generated from that factory, and that factory only. AS I explained, the parse fro SAX is one of the many ways that a document can be changed. I am personally if favor of having the DocumentFactory as a publically accessable bahavior of the Node, and have interface/base class etc model. It would not however solve this issue, which is the semantics of the factory. The factory is a tools to be used in the application, what you are proposing is a constraint, which only works during the parse, and then only from SAX. JDOM works this way, and despite JDOM's many warts, this isn't one of them. JDOM does not use factory properly at all last time I looked. (I used to develop with it) document factory Exactly.  I don't want it to (nor should it) use any document factory other than the one I assign it, and I shouldn't need to assign it more than once. And that is the was that it works! The problem was that you deassigned it by calling the wrong constructor.AS a rule of thumb look at the working code as use the same semantics, unless you understand the impact. Was there a good reason for not using the QName constructor I've attached a package that demonstrates what I'm talking about.  You can see that the direct descendents of my DefaultElement derivative are never handed to my factory. I would be supprised if the default elements pass the calls back either as you are using getQualifiedName (which is a qualified name string) and passing it into a string based constructor, what is expecting a name (i.e. no qualification). This is broken! Do not confuse the QName and the qualified name, and the name. Your document factory method was given a prefectly formed QName, which was aware of the document factory, namespace etc, and you disgarded the namespace, the documentfactory, and passed the qualifed name (i.e. x:fred) to a constructor that is expecting a non qualified name, in the default namespace. You have therefore taken away the capability to use namespace in you application. (NB if you used your code in a documant that had namespaces, some code may work, and the XML will probably be generated OK back to disk, but getNamespace(), or xpath queries will fail) why wasnt your code if(&amp;lt;some condition&amp;gt;) else I really like the dom4j model (it's vastly superior to JDOM's), but the factory behavior is much more complicated than it needs to be. It is actually simple if you dont throw away the information thatyou are given ;) I agree that there needs to be some more guidance for implementing custom document factories, so that the semantics are presented, however the model is correct. As a general point, you should always use the QName based methods, but this is just common sense, as it promotes encapsulation. The model assumes that this would be the default mechanism that is used, to support standard software engineering practice, and the most basic principles of OO. Thanks for the feedback. -Jerome I hope that the above makes sense Mike</body>
  </mail>
  <mail>
    <header>[dom4j-user] Entity expansion</header>
    <date>Thu Oct 17 07:42:00 CEST 2002</date>
    <body>Hello all, I've just started using dom4j, and have a very basic question which I haven't  been able to find the answer to in the documentation: How to I make dom4j automatically expand the entities in my XML document? If i have the following document: , and the following piece of code: ... I'd like node.getStringValue() to return "bar". Unfortunately, it returns "&amp;amp;foo;". Any help greatly appreciated! Regards, Tobias Moberg</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Help with XPath and big xml files</header>
    <date>Tue Oct 15 16:34:00 CEST 2002</date>
    <body>Hi Frederico, You could try switching on string interning in your saxparser, which may give you some more headroom. In your Xpath exprissions are not too complex that you can use the ContentHandler interface and process the elements as they stream in, and never build the entire document Mike http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Help with XPath and big xml files</header>
    <date>Tue Oct 15 17:45:00 CEST 2002</date>
    <body>I would like my expression to be flat... but the requirements for my thesis project don't... I'm making a tool for datamining of association rules on xml files... the Xpath expression must be generic... :o( Thanks, Federico http://chicco.grafedi.it ------------------------------------------------------------------------------------------------- "In the book of life, the answers aren't in the back" Charlie Brown Sent: Tuesday, October 15, 2002 6:27 PM Subject: RE: [dom4j-user] Help with XPath and big xml files</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentFactory Methods Not Being Called for All Elements</header>
    <date>Fri Oct 11 20:11:00 CEST 2002</date>
    <body>I have a custom document DocumentFactory derived from DocumentFactory that isn't calling createElement() for some elements in the document.  I override all three createElement methods. For example, given the following XML snippet, createElement(...) is called for map, but not mapImage.  driveSteps, but not driveStep mapMan and manStrongTxt, but not mapImage. I would think createElement would be called for each element in any given document.  Is this not the case, or am I misunderstanding how dom4j uses document factories? Thanks! -Jerome O'Neil ... http://preview.vicinity.com/]]&amp;gt;&amp;lt;/mapImage driveTimeMins="1" driveTimeSecs="0" driveDist="0.17" driveUnits="MI" manTimeMins="0" manTimeSecs="24" manSumTimeHours="0" manSumTimeMins="0" manSumTimeSecs="24" manDist="0.17" manSumDist="0.17" http://preview.vicinity.com/]]&amp;gt;&amp;lt;/mapImage</body>
  </mail>
  <mail>
    <header>[dom4j-user] XMLTableModel data types</header>
    <date>Thu Oct 10 18:44:00 CEST 2002</date>
    <body>Hi, I've started looking at the update requirements for XMLTableModel and came across what may be an additional enhancement request. The XMLTableModel does not appear to easily support Boolean types - either directly from the document or via one of the helper XMLTableColumnDefinition() classes.  How about adding a XMLTableColumnDefinition(String name, Object expression, int type) method where the type would be :- XMLTableColumnDefinition.BOOLEAN_TYPE Also Is anyone using table model updates in their projects ? There is little mention of this in the archive. How best to support types other than the current node,number, object, string types ? John. -- Texas Instruments Inc  Product Development    tel:214 480 4253 PO BOX 660199          MS: 8645 FORE/A-3101   fax:214 480 4401 12500 TI Boulevard     Dallas, TX 75266-0199 nawk nawk,  Who's there ?   Aho, Weinberger and Kerninghan.</body>
  </mail>
  <mail>
    <header>[dom4j-user] handle very large XML documents</header>
    <date>Thu Oct 10 09:53:00 CEST 2002</date>
    <body>I've read the FAQ,and dom4j look quite interesting to solve my problem of java.lang.outofmemory I get parsing big files with DOM. But how to use the handler if I don't know the XML document structure?!</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] Bug or feature?</header>
    <date>Tue Oct 08 07:47:00 CEST 2002</date>
    <body>Se documentation for createPrettyPrint: --- public static OutputFormat createPrettyPrint() A static helper method to create the default pretty printing format. = This format consists of an indent of 2 spaces, newlines after each element = and all other whitespace trimmed, and XMTML is false.=20 --- This is doing exactly how it should be doing. If you want to strip your element text of whitespace I would suggest = that you either do a walker that moves throw your document and removes the whitespace. Or create your own implementation of the node that should = ignore whitespace (i.e. element). Cheers Christian out snippet have http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: SV: [dom4j-user] Bug or feature?</header>
    <date>Tue Oct 08 10:56:00 CEST 2002</date>
    <body>Christian, I agree with your reading of the documentation of createPrettyPrint. Howe= ver, it was doing *more* than what it said it was doing. Here's my element (for example): BlueSensors createPrettyPrint *should* produce (according to the documentation): but instead, I get: createPrettyPrint stripped my content, and the documentation clearly stat= es that it should not do that, and I don't believe that is what was intended. It = does this for elements that have embedded newlines. createPrettyPrint works fi= ne if the whitespace is only spaces, for example: So maybe my definition of whitespace was incorrect? From the XML Schema P= art 2: Datatypes W3C Recommendation 02 May 2001(partial): "4.3.6 whiteSpace [Definition:]   whiteSpace constrains the =B7value space=B7 of typ= es =B7derived=B7 from string such that the various behaviors specified in Attribute Value Normalization in [X= ML 1.0 (Second Edition)] are e, preserve No normalization is done, the value is not changed (this is th= e behavior required by [XML 1.0 (Second Edition)] for element content) replace All occurrences of #x9 (tab), #xA (line feed) and #xD (carriag= e return) are replaced with #x20 (space) collapse After the processing implied by replace, contiguous sequences = of #x20's are collapsed to a single #x20, and leading and trailing #x20's are removed. " I assumed createPrettyPrint would be *collapsing* as defined. However, th= is may all be moot, as I recalled an earlier email regarding a possible bug in XMLWriter, so that when I retrieved the latest daily build my problem wen= t away! I apologize for speaking too soon. thanx steve "Christian Holmqvist, IT, Posten" wrote: is nd at gnore t t e http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] stripWhiteSpaceText</header>
    <date>Tue Oct 08 07:42:00 CEST 2002</date>
    <body>to change the contens of the element you have to work with the elements = and not on the document. Se the documentation for this: --- setStripWhitespaceText(boolean) - Method in class = org.dom4j.io.SAXReader=20 Sets whether whitespace between element start and end tags should be ignored.=20 setStripWhitespaceText(boolean) - Method in class org.dom4j.io.SAXContentHandler=20 Sets whether whitespace between element start and end tags should be ignored.=20 --- If a io class starts messing with the contens of the io then there is something wrong in the design. /Christian NoSensor http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Bug or feature?</header>
    <date>Tue Oct 08 01:37:00 CEST 2002</date>
    <body>I read in the first snippet (identified by INPUT below) using SAXReader (both with setStripWhitespaceText to true and false). I then write out using XMLWriter with createPrettyPrint OutputFormat. I get the snippet identified below OUTPUT. Seems that the text of the elements that have newlines embedded in the element text get deleted along with the newlines. Obviously not what I want (well, maybe not obvious ;-) Suggestions? thanx steve p.s. this was my workaround to an earlier question about stripping whitespace within an element. ********* INPUT *********** BlueSensor Blue1 BlueMovement viewSensors movement BlueMovementComponents ************ OUTPUT ********** ***********</body>
  </mail>
  <mail>
    <header>[dom4j-user] stripWhiteSpaceText</header>
    <date>Mon Oct 07 20:50:00 CEST 2002</date>
    <body>Is there a method to strip whitespace within an element's text while reading in? For example, I'd like to strip out the whitespace before and after "NoSensor" in the snippet below. I'm doing this for XPath reasons, i.e., I'd like to have //Sensor[name="NoSensor"] instead of //Sensor[normalizespace(name)="NoSensor"] or //Sensor[name=" NoSensor "]. I tried setStripWhitespaceText for the SAXReader, but this doesn't do it (I noticed in the archives there's a email concerning this, but looks like strips the whitespace outside of the elements or between elements, but not within. thanx steve</body>
  </mail>
  <mail>
    <header>[dom4j-user] Xpath and Namespace in .xml file</header>
    <date>Sun Oct 06 21:58:00 CEST 2002</date>
    <body>Hey guys, I just started to use dom4j today and I have an .xml file that has the following in it: ... when I try to use Xpath on this file (i.e. something like "//AAA"), i get zero results... I googled for it, and found out that this is a known issue perhaps?  If anyone has experience with this.. could you let me know #1 if this is a known issue, #2 if i can somehow get around it.  Thanks in advance. -Will. --------------------------------- Do you Yahoo!? Faith Hill - Exclusive Performances, Videos, &amp;amp; more faith.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Can I use dom4j to parse an XML Schema? (urgent)</header>
    <date>Fri Oct 04 12:38:00 CEST 2002</date>
    <body>Hi everybody My requirement is to parse an XML schema document and represent the structure of the XML as a JTree in Swing. For that purpose I want an API that would parse an XML schema document for me,something similar to wutka parser for DTD. Can I use dom4j for the same and if so, how to go about it? Its use was not very clear to me from the API. Thanks in advance, Arati</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Can I use dom4j to parse an XML Schema? (urgent)</header>
    <date>Fri Oct 04 21:28:00 CEST 2002</date>
    <body>Hi, I asked the same question a while ago and spent loads of time researching it so I'll communicate what I found here to save you some time, perhaps. Dom4j will of course parse any valid XML document, an a schema is valid XML.  However there is a lot more to it, if you actually want your program to understand the schema in a way that you can display it in a JTree, for example.  The dom4j folks suggested the MSV library, but conversations here and over at the MSV mailing list proved that it wouldn't work for what we wanted.  In our case, we wanted cardinality info as well as all the addtional info/constraints stored by the Schema. We finally implemented code which is now in production that uses the Castor library.  I can't remember but I think it is from IBM.  Anyway, it let us walk the schema and grab all the info we wanted as we went. Have fun Arati wrote: http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Brian W. Young Senior Software Engineer/Project Manager 1309 Sutton Park Drive South, Suite 320 Jacksonville, FL 32224 byoung@... voice: 904.482.4209 fax:   904.482.4220</body>
  </mail>
  <mail>
    <header>[dom4j-user] XMLTableModel Update capability</header>
    <date>Thu Oct 03 16:02:00 CEST 2002</date>
    <body>Hello, Some time back there was discussion on making the document updateable throught the XMLTableModel. Is any work being done on this ? I'm about to start a project where I need to edit XML through swing table/tree components. I may be able to contribute - if pointed in the right direction. I also need the ability through XPath to show different views of the data.  The XML source will be fairly large and I was thinking it may be possible to build the document once and then get different document "views" from using XPath on the original document ? I'm very new to XML etc, but have JAVA experience. John. -- Texas Instruments Inc  Product Development    tel:214 480 4253 PO BOX 660199          MS: 8645 FORE/A-3101   fax:214 480 4401 12500 TI Boulevard     Dallas, TX 75266-0199 nawk nawk,  Who's there ?   Aho, Weinberger and Kerninghan.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XMLTableModel Update capability</header>
    <date>Thu Oct 03 22:51:00 CEST 2002</date>
    <body>Ok, its bad form to follow up on one's own post. So, as a penance I will sign up for (trying) to make XMLTableModel updateable. Now that I've found this thread on the Archive, James suggested using XPath to find the Node for the cell under edit.  I'm very new to all this, but if I understand correctly, I would use the getColumnXPath(int columnIndex) from the XMLTableModel definition to get the XPath object.  Then, assuming there were more than one matching Nodes, use the table row index to find the index into the Node list.  ( or perhaps in this case the XPath returned would be something like "/AAA/BBB[4]" ? ). I'll start on this tomorrow. Kind regards, John. -- Texas Instruments Inc  Product Development    tel:214 480 4253 PO BOX 660199          MS: 8645 FORE/A-3101   fax:214 480 4401 12500 TI Boulevard     Dallas, TX 75266-0199 nawk nawk,  Who's there ?   Aho, Weinberger and Kerninghan. John Sharp wrote: http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Disabling escaping entities in writing</header>
    <date>Thu Oct 03 17:02:00 CEST 2002</date>
    <body>Second request... -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Hooker Sent: Friday, September 27, 2002 11:56 AM To: 'DOM4J-user (E-mail)' Subject: [dom4j-user] Disabling escaping entities in writing We are writing an xslt file to disk, and it contains lines such as: When this is flattened via XMLWriter, the single qoutes are written as &amp;amp;apos.  Looking at the XMLWriter code, this behavior seems un-alterable. Am I missing something?  Is there a way to write nodes with apostrophies etc. without encoding them as &amp;amp;apos and such? Thanks.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Error converting DOM to dom4j with default namespace</header>
    <date>Thu Oct 03 13:58:00 CEST 2002</date>
    <body>Hi, I encountered an error trying to convert an org.w3c.dom.Document to an org.dom4j.Document. Consider the following XML document: http://www.aaa.com " xmlns:nsa=" http://www.aaa.com " xmlns:nsb=" http://www.bbb.com It has a default namespace (" http://www.aaa.com "). The prefix "nsa" is associated with this namespace too. I need to get such a document as an org.w3c.dom.Document. So I parsed the file containing the above document into an org.w3c.dom.Document using namespace awareness. Than, I converted it into an org.dom4j.Document and tried to access the elements through XPath expressions. But only the &amp;lt;nsb:elemb&amp;gt; element could be accessed. Parsing the document with namespace awareness off and converting it to dom4j created elements such as Does anybody have an idea how to solve this problem? Igor Take a look at the java code and it's output comparing the same document parsed with W3C DOM Parser and with the SAXReader: DocumentBuilderFactory dbf = System.out.println("         XPath = " + ((elem != null) ? System.out.println("         XPath = " + ((elem != null) ? Here's the output: Trying //nsa:elema dom ===&amp;gt; null XPath = no xpath sax ===&amp;gt; org.dom4j.tree.DefaultElement@... [Element: &amp;lt;elema uri: http://www.aaa.com attributes: []/&amp;gt;] XPath = /*[name()='xmltest']/*[name()='elema'] Trying //nsa:elemA dom ===&amp;gt; null XPath = no xpath sax ===&amp;gt; org.dom4j.tree.DefaultElement@... [Element: &amp;lt;nsa:elemA uri: http://www.aaa.com attributes: []/&amp;gt;] XPath = /*[name()='xmltest']/nsa:elemA Trying //nsb:elemb dom ===&amp;gt; org.dom4j.tree.DefaultElement@... [Element: &amp;lt;nsb:elemb uri: http://www.bbb.com attributes: []/&amp;gt;] XPath = /*[name()='xmltest']/nsb:elemb sax ===&amp;gt; org.dom4j.tree.DefaultElement@... [Element: &amp;lt;nsb:elemb uri: http://www.bbb.com attributes: []/&amp;gt;] XPath = /*[name()='xmltest']/nsb:elemb Trying //*[name()='elema'] dom ===&amp;gt; org.dom4j.tree.DefaultElement@... [Element: &amp;lt;elema uri: http://www.aaa.com attributes: []/&amp;gt;] XPath = /*[name()='xmltest']/*[name()='elema'] sax ===&amp;gt; org.dom4j.tree.DefaultElement@... [Element: &amp;lt;elema uri: http://www.aaa.com attributes: []/&amp;gt;] XPath = /*[name()='xmltest']/*[name()='elema']</body>
  </mail>
  <mail>
    <header>[dom4j-user] pretty formatted HTML via transform</header>
    <date>Tue Oct 01 20:13:00 CEST 2002</date>
    <body>Hi, I would like to do a transform to "pretty-printed" HTML and get the result as a byte array. I am doing this by using an XMLResult wrapping an HTMLWriter. Besides finding a possible bug ([ 616561 ] XMLResult/HTMLWriter output cut short) where the XMLResult's XMLWriter is not being closed by the end of the transform, I am having trouble getting the special features of HTMLWriter to work in conjunction with the XMLResult. In particular, the main point of the HTMLWriter as I see it, is that it knows which elements are preformatted (such as script tags). However, using an XMLResult with an HTMLWriter apparently doesn't use this feature. Is this meant to be the case? Sample code HTMLWriter htmlWriter = new HTMLWriter(out, Doing a transform in the usePrettyPrint case results in indented HTML, but script tags have whitespace (carriage returns) stripped. In the other case, I get no indenting, but the script tags are properly handled (assuming the XSL file's output method="html"). I notice that the special preformatted tag handling in HTMLWriter occurs on the writeElement method, whereas XMLResult apparently fires the HTMLWriter.startElement method which is lacking this handling. Is there a way to do get the "pretty" HTML bytes directly via a transform? Thanks, Rob</body>
  </mail>
  <mail>
    <header>[dom4j-user] Working with datatypes</header>
    <date>Wed Oct 02 00:20:00 CEST 2002</date>
    <body>Hi, I'm looking for the best way to work with a datatyped xml document. I've read the validation section in the cookbook and had a flick over the relevant jdocs, but I am still unsure of how to accomplish what I want. For instance, lets say I have an xsd schema and document po.xsd and po.xml. (PurchaseOrder) And one of the elements is a Price which is required and typed as Integer I first validate the po.xml against po.xsd then create the Document. (&amp;lt;-- not quite sure how to do this but it shouldn't be too hard) Now that I have the document, I want to be able to determine the Datatype of an element or attribute so I can act accordingly, how do I this? I would need this in a situation where I have a List of PO's and would like to sum the prices of all the PO's. However, the above situation is determined dynamically and I can't hard code anything in because I don't know what type of document I'll be getting, I just know that I might have to add different fields in any schema and document pair. I would like to be able to do something like: Element price1 = doc1.getElement("Price") Element price2 = doc2.getElement("Price") etc etc Whats the best way to go about something like this? Regards, Beri __________________________________________________ Do you Yahoo!? New DSL Internet Access from SBC &amp;amp; Yahoo! http://sbc.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] IDREF/ID</header>
    <date>Sun Nov 24 09:58:00 CET 2002</date>
    <body>Hi, I'm wondering there is a way to get IDREFs working with dom4j?  And if = that is not possible, are there tactics to work around this design = issue? Best Regards, Jacob Hookom</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] IDREF/ID</header>
    <date>Mon Nov 25 17:30:00 CET 2002</date>
    <body>Sorry, more specifically, when reading data in as a Document From: Jacob Hookom=20 To: dom4j-user@... Sent: Sunday, November 24, 2002 3:56 AM Subject: [dom4j-user] IDREF/ID Hi, I'm wondering there is a way to get IDREFs working with dom4j?  And if = that is not possible, are there tactics to work around this design = issue? Best Regards, Jacob Hookom</body>
  </mail>
  <mail>
    <header>[dom4j-user] UP &amp;amp; DOWN an element</header>
    <date>Mon Nov 25 07:58:00 CET 2002</date>
    <body>Hi all, I need to manipulate some elements into an XML like this: =20 Usually CCC elements are sorted by id.=20 How can I move an CCC element one position UP or DOWN? Any ideas? What = about BBB elements? Thanx, Stefan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] UP &amp;amp; DOWN an element</header>
    <date>Mon Nov 25 11:22:00 CET 2002</date>
    <body>The content() method returns a backed List implementation so that you can use the java.util.List API to move items around to change order. e.g. // move the 3rd item to the head of the list James ------- http://radio.weblogs.com/0112098/ From: Stefanos Kaklamanis To: dom4j-user@... Sent: Monday, November 25, 2002 7:57 AM Subject: [dom4j-user] UP &amp;amp; DOWN an element Hi all, I need to manipulate some elements into an XML like this: Usually CCC elements are sorted by id. How can I move an CCC element one position UP or DOWN? Any ideas? What about BBB elements? Thanx, Stefan __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [Re: [dom4j-user] trying to remove a nested element]</header>
    <date>Thu Nov 21 02:44:00 CET 2002</date>
    <body>Sorry about the post. You're exactly right about what was causing the exception. It had nothing to do with the remove. "James Strachan" &amp;lt;james_strachan@...&amp;gt; wrote: I don't understand how calling parentElement.remove() can invoke the setRootElement() method on Document. Any chance you could show us a snipp= et of the code you're using, or maybe a full stack trace. =46rom the stack trace you've provided it looks like you're trying to add= an Element to a Document which is already connected to another Document - he= nce the exception. If you want to remove an Element from one document so that you can add it= to another, use detach(). // remove the root element of one and add it to two James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Modifying a DocumentTreeModel</header>
    <date>Fri Nov 22 17:24:00 CET 2002</date>
    <body>Hi, Once you create a DocumentTreeModel of an XML document, is it possible to edit the model directly? Thanks, George</body>
  </mail>
  <mail>
    <header>[dom4j-user] Modifying a DocumentTreeModel</header>
    <date>Sat Nov 23 11:58:00 CET 2002</date>
    <body>Hi George have a look at : http://java.sun.com/docs/books/tutorial/uiswing/components/tree.html#dynamic (uses super class DefaultTreeModel's [insertNodeInto(child, parent, index)] method) Thierry --------------------------------------------------- - IXELIS -  Systèmes d'Information Sémantique 17 rue des Cèdres, 67200 STRASBOURG Tél      : 03 88 27 81 39 Portable : 06 30 07 65 73 E-mail   : mail@... Fax      : 03 88 27 81 39 ---------------------------------------------------</body>
  </mail>
  <mail>
    <header>[dom4j-user] very odd- apparently Document corruption?</header>
    <date>Fri Nov 22 21:09:00 CET 2002</date>
    <body>I have a very odd problem that is proving difficult to track down. I have a document in memory that is used in a read-only scenerio by web photo album software I've written.  I have problems in random places with about 1% of the times when I use XPath in my code (simple doc.valueOf("//something") expressions.)  Around 1% of the time, valueOf doesn't return the string as it appears in the document on disk (if viewed directly, like notepad) but instead with a single space inserted somewhere in the result string. What is strange is the problem is never with the same nodes, if the document is reloaded from disk.  And, to top all, the nodes are all just boring occurences of filenames that all adhere to a common convention (i.e. img001.jpg).  This is happening to multiple users all using 1.4.1 on XP I believe.  Oddly, I've not ever seen this problem on Linux 1.4.0. Has anybody seen this or have any wild ideas on something stupid I might be doing that could so cleverly clobber my document?  Thanks!</body>
  </mail>
  <mail>
    <header>[dom4j-user] Mapping Schema - DataTypes to Objects</header>
    <date>Wed Nov 20 13:47:00 CET 2002</date>
    <body>Hi, I wonder how to use the dom4j Schema capabilities to get Java Objects mapped from XML elements like this : From the cookbook-example I got the impression that receiving a java.lang.String object is quite that simple : // snip Object obj = if (obj instanceof java.lang.String) // snip but it's not that simple, is it ? :) (I just got an ClassCastException from DefaultElement to DatatypeElement) help would be greatly appreciated ! -- Florian</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Mapping Schema - DataTypes to Objects</header>
    <date>Wed Nov 20 14:23:00 CET 2002</date>
    <body>Try the following... // snip Object obj = if (obj instanceof java.lang.String) // snip Florian Georg wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>AW: [dom4j-user] Mapping Schema - DataTypes to Objects</header>
    <date>Wed Nov 20 15:14:00 CET 2002</date>
    <body>Hi, hmmm ... getData() just returns the same as getText(). My problem is, that I only have a Document with elements containing a 'type'-attribute, which contains names of (simple) Schema datatypes (int,long,date,....) .. e.g. Element should map to an java.lang.Integer(not String!) with the value 12345 - or throw an Exception if the mapping couldn't be performed. (think of a method like "Object mapElementToObject (Element element)") I thought dom4j would perhaps provide necessary mappers/wrappers to do the mapping in a simple manner. thanks for your help Florian -----Ursprungliche Nachricht----- Von: David D. Lucas [mailto:ddlucas@...] Gesendet: Mittwoch, 20. November 2002 15:22 An: Florian Georg Cc: dom4j-user@... Betreff: Re: [dom4j-user] Mapping Schema - DataTypes to Objects Try the following... // snip Object obj = if (obj instanceof java.lang.String) // snip Florian Georg wrote: DatatypeElement) -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Mapping Schema - DataTypes to Objects</header>
    <date>Wed Nov 20 15:27:00 CET 2002</date>
    <body>&amp;gt; From the cookbook-example I got the impression that receiving Hi Georges, Your problem is not an XML but a JAVA problem ;-) The getValue method returns a String object and since your DatatypeElement class is not a sublass of String it will never be possible to cast a String to a DatatypeElement. Since the getValue() returns a String (that is what you are looking for anyway) you do not need to cast and you do not even need to test the class type : // Get the string value of the node Thierry</body>
  </mail>
  <mail>
    <header>Re: AW: [dom4j-user] Mapping Schema - DataTypes to Objects</header>
    <date>Wed Nov 20 17:33:00 CET 2002</date>
    <body>Sorry, I missed the Schema comment. How are you reading in the schema?  Which Document class did you use? It would help if you sent a snippet of code as to how you read in the XML Schema.  My guess is that it ended up with the standard DocumentFactory. DatatypeElement is extended from DefaultElement, so the instance you have apparently is not a DatatypeElement. Check and make sure the read looks something like this: Try that.  ;-) Dave Florian Georg wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] trying to remove a nested element</header>
    <date>Wed Nov 20 07:08:00 CET 2002</date>
    <body>I'm trying to drill down a few levels from the root element of a document and then remove an element. I obtain a reference to the element I want to remove plus its parent, and I call: I get an org.dom4j.IllegalAddException. What's interesting about the exception is that it describes the addition of the root element to a null branch. It's like dom4j doesn't know to stop before it gets to this point: org.dom4j.IllegalAddException: The node "org.dom4j.tree.DefaultElement@... [Element: &amp;lt;wsdl:definitions uri: http://schemas.xmlsoap.org/wsdl/ attributes: [org .dom4j.tree.DefaultAttribute@... [Attribute: name targetNamespace value "urn: other.root"]]/&amp;gt;]" could not be added to the branch "null" because: The Node alr eady has an existing document: org.dom4j.tree.DefaultDocument@... [Document: name file:/C:/ALLDOCS/CODE/GENERAL/output/deploy/idea.wsdl] at org.dom4j.tree.DefaultDocument.addNode(DefaultDocument.java:253) at org.dom4j.tree.AbstractBranch.add(AbstractBranch.java:221) at org.dom4j.tree.AbstractDocument.setRootElement(AbstractDocument.java: 166) ... I tried catching this exception within my code by putting a try block around the remove() call, but that was just ignored. So how do I go about removing an element within the DOM tree?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] trying to remove a nested element</header>
    <date>Wed Nov 20 13:45:00 CET 2002</date>
    <body>Mitch Gitman wrote: Instead of doing a remove, why not just call childElement.detach(); ? Also, are you certain that childElement is not null? Just a few changes and try again. Later, Dave -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] trying to remove a nested element</header>
    <date>Wed Nov 20 14:56:00 CET 2002</date>
    <body>Mitch, Can you make a simple test case and send us the code snippet. It is tough trying to guess what you are doing without actually viewing the code. -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] trying to remove a nested element</header>
    <date>Wed Nov 20 14:52:00 CET 2002</date>
    <body>Just tried childElement.detach(). Get the same exception. Have already null-checked the child element, the parent, etc. -- "is the element to be removed null? false" At 0844 20.11.02 -0500, David D. Lucas wrote Instead of doing a remove, why not just call childElement.detach(); ? Also, are you certain that childElement is not null? Just a few changes and try again. ORIGINAL MESSAGE: I'm trying to drill down a few levels from the root element of a document and then remove an element. I obtain a reference to the element I want to remove plus its parent, and I call: I get an org.dom4j.IllegalAddException. What's interesting about the exception is that it describes the addition of the root element to a null branch. It's like dom4j doesn't know to stop before it gets to this point: org.dom4j.IllegalAddException: The node "org.dom4j.tree.DefaultElement@... [Element: &amp;lt;wsdl:definitions uri: http://schemas.xmlsoap.org/wsdl/ attributes: [org .dom4j.tree.DefaultAttribute@... [Attribute: name targetNamespace value "urn: other.root"]]/&amp;gt;]" could not be added to the branch "null" because: The Node alr eady has an existing document: org.dom4j.tree.DefaultDocument@... [Document: name file:/C:/ALLDOCS/CODE/GENERAL/output/deploy/idea.wsdl] at org.dom4j.tree.DefaultDocument.addNode(DefaultDocument.java:253) at org.dom4j.tree.AbstractBranch.add(AbstractBranch.java:221) at org.dom4j.tree.AbstractDocument.setRootElement(AbstractDocument.java: 166) ... I tried catching this exception within my code by putting a try block around the remove() call, but that was just ignored. So how do I go about removing an element within the DOM tree?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] trying to remove a nested element</header>
    <date>Wed Nov 20 15:04:00 CET 2002</date>
    <body>&amp;gt; I'm trying to drill down a few levels from the root element of a document your problem is quite strange. The remove method usually works fine and the exception you mention seems out of context. Can you send the part of the code implied in this problem? Thierry</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] trying to remove a nested element</header>
    <date>Wed Nov 20 15:07:00 CET 2002</date>
    <body>http://schemas.xmlsoap.org/wsdl/ attributes: [org Node alr org.dom4j.tree.DefaultDocument.addNode(DefaultDocument.java:253) I don't understand how calling parentElement.remove() can invoke the setRootElement() method on Document. Any chance you could show us a snippet of the code you're using, or maybe a full stack trace. From the stack trace you've provided it looks like you're trying to add an Element to a Document which is already connected to another Document - hence the exception. If you want to remove an Element from one document so that you can add it to another, use detach(). // remove the root element of one and add it to two James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Sat Nov 16 20:52:00 CET 2002</date>
    <body>Say we have an XML document as follows: And we use the XPath to only get the &amp;lt;ContactInfo&amp;gt;, e.g., My question is: [Q] Is there way to get the rest of XML document in a simple Any comments? Thank you. Regards, Pae</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOM4J User Archives</header>
    <date>Sat Nov 16 22:45:00 CET 2002</date>
    <body>I was trying to get to the User Archives from the [1]Web page by clicking the link, "dom4j-user Archives" on that page. And it takes to the [2]Web page saying as follows: ERROR Either your mailing list name was misspelled or your mailing list has = not been archived yet. If this list has just been created, please retry = in 2-4 hours So another attempt made later as it said, but the same problem. Based on the welcome message from dom4j-user-request@... with subject, "Welcome to the "dom4j-user" mailing list" has a = timestamp, "Saturday, November 16, 2002 12:22 PM." Now, it's about 5:42PM so it's about 5 hours after the subscription. Would you let me know what is going on. It's ridiculous! Pae [1] http://lists.sourceforge.net/lists/listinfo/dom4j-user [2] http://sourceforge.net/mailarchive/forum.php?forum=3Ddom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Sun Nov 17 12:08:00 CET 2002</date>
    <body>element: Then you can use the Node API to traverse the &amp;lt;Patient&amp;gt; element returned. Also, if &amp;lt;Patient&amp;gt; is the root element, then you can do the following: Best regards Ben On Sat, 2002-11-16 at 23:52, Pae Choi wrote: Say we have an XML document as follows: And we use the XPath to only get the &amp;lt;ContactInfo&amp;gt;, e.g., My question is: [Q] Is there way to get the rest of XML document in a simple Any comments? Thank you. Regards, Pae -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Sun Nov 17 13:12:00 CET 2002</date>
    <body>Thank you for your reply as well as code snippet. But that's not = exactlly what I was looking for. My applogies if I did not explained well in my prevous message. The subemelement fine. And I have no problem to getting that. My question was to get the rest of XML DOM, excluding the prviously selected sublelement, &amp;lt;ContactInfo&amp;gt;. To wit, I am looking for a simple way to get the result without parsing the XML document by excluding the previously selected subelement. The result I am expecting to get is as follows: Initial XML: The result XML: Thank you. Any more comments? Regards, Pae From: Benjamin Kopic=20 To: Pae Choi=20 Cc: dom4j-user@... Sent: Sunday, November 17, 2002 4:07 AM Subject: Re: [dom4j-user] XPath result from a DOM and the Rest of DOM If I understand you correctly, the following will return &amp;lt;Patient&amp;gt; = element:=20 SAXReader reader =3D new SAXReader();=20 Document document =3D reader.read( new File( "patient_records.xml" ) = );=20 Element contactInfo =3D document.selectSingleNode( "//ContactInfo", = "." );=20 Element patient =3D contactInfor.getParent();=20 Then you can use the Node API to traverse the &amp;lt;Patient&amp;gt; element = returned.=20 Also, if &amp;lt;Patient&amp;gt; is the root element, then you can do the following: = SAXReader reader =3D new SAXReader();=20 Document document =3D reader.read( new File( "patient_records.xml" ) = );=20 Element patient =3D document.getRootElement();=20 Best regards=20 Ben=20 On Sat, 2002-11-16 at 23:52, Pae Choi wrote:=20 Say we have an XML document as follows:=20 And we use the XPath to only get the &amp;lt;ContactInfo&amp;gt;, e.g.,=20 "//ContactInfo" which should get the result as follows;=20 My question is:=20 [Q] Is there way to get the rest of XML document in a simple=20 way. The rest of XML document should be as follows;=20 Any comments? Thank you.=20 Regards,=20 Pae=20 --=20 benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/ =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Sun Nov 17 14:51:00 CET 2002</date>
    <body>I just check that out and play with it some. But I don't see that the XPE tool does much for what I need. I maybe missing the point(?) in your previous message, but that tool does only show the XPath based on the selection made in the tree. The negation was a good sugsestion, and I was exploring the way I can get the DOM by excluding the sublement. But Jaxen and DOM4J are not doing much for that unless I am missing something. Thanks. Regards, Pae http://sourceforge.net/projects/xpe/ . exactlly DOM following: follows:/// is:/// http://www.panContext.com/ http://www.lse.com/~ddlucas/pgpblock.txt</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Mon Nov 18 01:38:00 CET 2002</date>
    <body>Try the XPath syntax "/*/*[local-name()!='ContactInfo']" . That should give you what you want.  I verified it with XPE, but have not tried it on DOM4J. Let me know if it works.  :-) Later, Dave Pae Choi wrote: follows:/// is:/// http://www.panContext.com/ -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Mon Nov 18 08:07:00 CET 2002</date>
    <body>Dave, It is partially working though, that was a nice XPath you gave. I tested both Jaxen with DOM4J and XPE(seems like XPE also uses Jaxen as well), the result was same as follows: It returns other sibing nodes excluding the &amp;lt;ContactInfo&amp;gt; element. That's I wanted to see in that level, but I also need the other elements, including their parent node, e.g., &amp;lt;Patient&amp;gt; element. To wit, the result should be as follows: Any more comments? Thank you. Regards, Pae Sent: Sunday, November 17, 2002 5:37 PM Subject: Re: [dom4j-user] XPath result from a DOM and the Rest of DOM exactlly DOM following: follows:/// is:/// http://www.panContext.com/ http://www.lse.com/~ddlucas/pgpblock.txt</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Mon Nov 18 13:38:00 CET 2002</date>
    <body>So, what you really want is: "//*[not( ancestor-or-self::ContactInfo ) ]" Try that out and see what you get. Enjoy! Dave Pae Choi wrote: follows:/// is:/// http://www.panContext.com/ http://www.lse.com/~ddlucas/pgpblock.txt -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Mon Nov 18 21:09:00 CET 2002</date>
    <body>Dave, With the XPE tool(under the Matching Nodes tab), it returns as follows: Both with Xalan and Jaxen with DOM4J, it returns as follows: More comments? Thank you. Regards, Pae Sent: Monday, November 18, 2002 5:36 AM Subject: Re: [dom4j-user] XPath result from a DOM and the Rest of DOM follows:/// is:/// simple/// http://www.panContext.com/ http://www.lse.com/~ddlucas/pgpblock.txt http://www.lse.com/~ddlucas/pgpblock.txt http://www.gothawte.com/rd524.html https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Tue Nov 19 02:46:00 CET 2002</date>
    <body>Are you just trying to filter the hierachy or find the elements? Perhaps if you tell us more about what you need instead of trying to solve a piece of the puzzle we could help more.  The first option I showed you is probably the one you should use and just create a new root element called Patient and add the nodes that come back from the select to it to fulfill your filtering. Sorry I could not be of more help, but, XPath returns matching nodes. Unfortunately Patient is now seen as a peer to Age and Gender.  Using "/*/*[local-name()!='ContactInfo']" will return the nodes under Patient. Another option is to simply delete ContactInfo once it is found. Do a selectNodes on "/*/*[local-name()='ContactInfo']" and then remove the items by "detach()" so they no longer show up in the parent.  Then the root element would no longer have ContactInfo as a child. Try this out //... Document document = reader.read( //... Not sure why, but the whitespace from the asXML on the root the second time seems to have some extra &amp;lt;CR&amp;gt; embedded.  Anyone know why? Best Wishes, Dave Pae Choi wrote: follows:/// is:/// http://www.panContext.com/ http://www.lse.com/~ddlucas/pgpblock.txt http://www.lse.com/~ddlucas/pgpblock.txt http://www.gothawte.com/rd524.html https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Validation</header>
    <date>Tue Nov 19 03:11:00 CET 2002</date>
    <body>Hello, has anybody written a method that performs a validation of an xml document vs. an xml schema with one of the following signatures: boolean validateDocument(org.w3c.dom.Document document, org.w3c.dom.Document boolean validateDocument(org.dom4j.Document document, org.dom4j.Document The method should return true if and only if the document is valid. Thanks, Igor</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Tue Nov 19 05:16:00 CET 2002</date>
    <body>Just remove the ContactInfo element from the document and what you have = left will be what you need.. // remove it // now the patient document looks like the expected result James ------- http://radio.weblogs.com/0112098/ From: Pae Choi=20 To: Benjamin Kopic=20 Cc: dom4j-user@... Sent: Sunday, November 17, 2002 4:12 PM Subject: Re: [dom4j-user] XPath result from a DOM and the Rest of DOM Thank you for your reply as well as code snippet. But that's not = exactlly what I was looking for. My applogies if I did not explained well in my prevous message. The subemelement fine. And I have no problem to getting that. My question was to get the rest of XML DOM, excluding the prviously selected sublelement, &amp;lt;ContactInfo&amp;gt;. To wit, I am looking for a simple way to get the result without parsing the XML document by excluding the previously selected subelement. The result I am expecting to get is as follows: Initial XML: The result XML: Thank you. Any more comments? Regards, Pae From: Benjamin Kopic=20 To: Pae Choi=20 Cc: dom4j-user@... Sent: Sunday, November 17, 2002 4:07 AM Subject: Re: [dom4j-user] XPath result from a DOM and the Rest of = DOM If I understand you correctly, the following will return &amp;lt;Patient&amp;gt; = element:=20 SAXReader reader =3D new SAXReader();=20 Document document =3D reader.read( new File( "patient_records.xml" ) = );=20 Element contactInfo =3D document.selectSingleNode( "//ContactInfo", = "." );=20 Element patient =3D contactInfor.getParent();=20 Then you can use the Node API to traverse the &amp;lt;Patient&amp;gt; element = returned.=20 Also, if &amp;lt;Patient&amp;gt; is the root element, then you can do the = following:=20 SAXReader reader =3D new SAXReader();=20 Document document =3D reader.read( new File( "patient_records.xml" ) = );=20 Element patient =3D document.getRootElement();=20 Best regards=20 Ben=20 On Sat, 2002-11-16 at 23:52, Pae Choi wrote:=20 Say we have an XML document as follows:=20 And we use the XPath to only get the &amp;lt;ContactInfo&amp;gt;, e.g.,=20 "//ContactInfo" which should get the result as follows;=20 My question is:=20 [Q] Is there way to get the rest of XML document in a simple=20 way. The rest of XML document should be as follows;=20 Any comments? Thank you.=20 Regards,=20 Pae=20 --=20 benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/ =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Tue Nov 19 05:23:00 CET 2002</date>
    <body>My appologies for not being clarify my intention earlier. I am trying to identify a element in the DOM using XPath and replace it with new element. I have realized that how dumb I am that I could get help a lot sooner and make everyone's life easier as well. Your "detach" suggestion will work for what I need. Then how can I add a new element at the same location where we detach the old element, i.e., kinda replacing an old element with a new element. Thank you. Regards, Pae simple of follows:/// is:/// http://www.panContext.com/ http://www.lse.com/~ddlucas/pgpblock.txt http://www.lse.com/~ddlucas/pgpblock.txt http://www.gothawte.com/rd524.html https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.lse.com/~ddlucas/pgpblock.txt</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Tue Nov 19 05:27:00 CET 2002</date>
    <body>James, I have realized that the right approach will be the one Dave and you = suggested. The last question(i think) for this thread will be how can I add a new = element at the same location where we removed the old element. In Xerces, it's easy to do it with one method. But I am new to DOM4J. = How can we do it with DOM4J. Thank you. Regards, Pae From: James Strachan=20 To: Pae Choi ; Benjamin Kopic=20 Cc: dom4j-user@... Sent: Monday, November 18, 2002 9:09 AM Subject: Re: [dom4j-user] XPath result from a DOM and the Rest of DOM Just remove the ContactInfo element from the document and what you = have left will be what you need.. // remove it // now the patient document looks like the expected result James ------- http://radio.weblogs.com/0112098/ From: Pae Choi=20 To: Benjamin Kopic=20 Cc: dom4j-user@... Sent: Sunday, November 17, 2002 4:12 PM Subject: Re: [dom4j-user] XPath result from a DOM and the Rest of = DOM Thank you for your reply as well as code snippet. But that's not = exactlly what I was looking for. My applogies if I did not explained well in my prevous message. The subemelement fine. And I have no problem to getting that. My question was to get the rest of XML DOM, excluding the prviously selected sublelement, &amp;lt;ContactInfo&amp;gt;. To wit, I am looking for a = simple way to get the result without parsing the XML document by excluding the previously selected subelement. The result I am expecting to get is as follows: Initial XML: The result XML: Thank you. Any more comments? Regards, Pae From: Benjamin Kopic=20 To: Pae Choi=20 Cc: dom4j-user@... Sent: Sunday, November 17, 2002 4:07 AM Subject: Re: [dom4j-user] XPath result from a DOM and the Rest of = DOM If I understand you correctly, the following will return &amp;lt;Patient&amp;gt; = element:=20 SAXReader reader =3D new SAXReader();=20 Document document =3D reader.read( new File( "patient_records.xml" = ) );=20 Element contactInfo =3D document.selectSingleNode( = "//ContactInfo", "." );=20 Element patient =3D contactInfor.getParent();=20 Then you can use the Node API to traverse the &amp;lt;Patient&amp;gt; element = returned.=20 Also, if &amp;lt;Patient&amp;gt; is the root element, then you can do the = following:=20 SAXReader reader =3D new SAXReader();=20 Document document =3D reader.read( new File( "patient_records.xml" = ) );=20 Element patient =3D document.getRootElement();=20 Best regards=20 Ben=20 On Sat, 2002-11-16 at 23:52, Pae Choi wrote:=20 Say we have an XML document as follows:=20 And we use the XPath to only get the &amp;lt;ContactInfo&amp;gt;, e.g.,=20 "//ContactInfo" which should get the result as follows;=20 My question is:=20 [Q] Is there way to get the rest of XML document in a simple=20 way. The rest of XML document should be as follows;=20 Any comments? Thank you.=20 Regards,=20 Pae=20 --=20 benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/ =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Tue Nov 19 09:56:00 CET 2002</date>
    <body>Ben, Dave, James, After a journey with you folks' help, I finally find a way to move forward. My THANKS to Ben who responsed my initial posting. And my THANKS to James for a right suggestion it came out about the same time Dave suggested though. My Special THANKS to Dave who helped me in great details while providing me different suggestions and guidances from the very beginning to up to this point where I can close this thread. It was my first thread in this group, but I quite enjoyed and appreciated. THANKS all, again. Best regards, Pae</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath result from a DOM and the Rest of DOM</header>
    <date>Tue Nov 19 15:34:00 CET 2002</date>
    <body>You're welcome, from me too. Terry From: Pae Choi=20 To: David D. Lucas ; Benjamin Kopic ; James Strachan=20 Cc: dom4j-user@... Sent: Tuesday, November 19, 2002 7:56 AM Subject: Re: [dom4j-user] XPath result from a DOM and the Rest of DOM Ben, Dave, James, =20 After a journey with you folks' help, I finally find a way to move forward. =20 My THANKS to Ben who responsed my initial posting. And my THANKS to James for a right suggestion it came out about the same time Dave suggested though. =20 My Special THANKS to Dave who helped me in great details while providing me different suggestions and guidances from the very beginning to up to this point where I can close this thread. =20 It was my first thread in this group, but I quite enjoyed and appreciated. THANKS all, again. =20 Best regards, =20 =20 Pae =20 =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Sun Nov 17 15:58:00 CET 2002</date>
    <body>DocumentHelper.createDocument(Element) objElement) Your method seems to provide a document objElement element. This occures probably in your container Document? Hi Thierry, Thanx a lot for your help, I managed to fix the problem with your explanations. Basically, the toXML method was itself using DocumentHelper.createDocument(), adding elements to the created document, and then returning doc.getRootElement(). The element returned was therefore a root element. I am now using DocumentHelper.createElement() and returning this element on completion. Regards, Cedric Picard, Software Engineer Kainos Software Ltd. -- This e-mail is confidential and is intended for the named recipient = only. If you receive it in error please destroy the message and all copies. = Kainos Software Ltd. does not accept liability for damage sustained as a result = of malicious software (e.g. viruses). Kainos does not accept liability for, = or permit, the creation of contracts on its behalf by e-mail, the = publication of any defamatory statement by its employees by e-mail, or changes = subsequently made to the original message. The Company's registered office is located = at 4-6 Upper Crescent, Belfast, BT7 1NT, Northern Ireland, Tel +44 28 9057 = 1100.</body>
  </mail>
  <mail>
    <header>[dom4j-user] a XMLWriter bug?</header>
    <date>Sun Nov 17 15:06:00 CET 2002</date>
    <body>http://g.msn.com/8HMNEN/2016"&amp;gt;the</body>
  </mail>
  <mail>
    <header>[dom4j-user] [REQ] Problem with DocumentHelper.createDocument(Element)</header>
    <date>Fri Nov 15 14:46:00 CET 2002</date>
    <body>Hello, I am experiencing some problems with dom4j version 1.1, when I am attempting to create a document using the DocumentHelper.createDocument(Element); method. This is the code that invokes the createDocument method : = //=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D= =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D= =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D // Convert the CXmlElement to an XML Element = //=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D= =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D= =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D = //=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D= =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D= =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D // Create an empty XML Document, passing its root element = //=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D= =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D= =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D And here is the error returned: org.dom4j.IllegalAddException:The node "org.dom4j.tree.DefaultElement@... [Element: &amp;lt;object attributes: org.dom4j.tree.DefaultAttribute@... [Attribute: name name value "root"], org.dom4j.tree.DefaultAttribute@... [Attribute: name class value "com.kainos.core.CUserPK"]]/&amp;gt;]" could not be added to the branch "null" because: The Node already has an existing document: org.dom4j.tree.DefaultDocument@... [Document: name null] I have also tried 1. Which generates the same error. 2. The objElement contains the following XML Any ideas what could cause this problem? Regards, Cedric Picard, Software Engineer Kainos Software Ltd. -- This e-mail is confidential and is intended for the named recipient = only. If you receive it in error please destroy the message and all copies. = Kainos Software Ltd. does not accept liability for damage sustained as a result = of malicious software (e.g. viruses). Kainos does not accept liability for, = or permit, the creation of contracts on its behalf by e-mail, the = publication of any defamatory statement by its employees by e-mail, or changes = subsequently made to the original message. The Company's registered office is located = at 4-6 Upper Crescent, Belfast, BT7 1NT, Northern Ireland, Tel +44 28 9057 = 1100.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] [REQ] Problem with DocumentHelper.createDocument(Element)</header>
    <date>Sat Nov 16 00:12:00 CET 2002</date>
    <body>Hi Cedric The problem comme from the way you create the root element (i.e. objElement) Your method seems to provide a document (in this case a org.dom4j.tree.DefaultDocument) as owner of the objElement element. This occures probably in your toXML(..) method. Is there a way for you to create your element without providing the container Document? Thierry</body>
  </mail>
  <mail>
    <header>[dom4j-user] Xpath for table model node update</header>
    <date>Fri Nov 15 22:55:00 CET 2002</date>
    <body>Hi, I'm following from an earlier suggestion to make  XMLTableModel updates.  The method was to use XPath to map back from the table row/col to the Node at this location in the document. The following code does update the document (via the node handle) but at the wrong place - always at the second last row. org.dom4j.tree.DefaultElement defaultElement = System.err.println( "name:" + ((org.dom4j.Node) The xml data file is follows:- xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " -- John.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Xpath for table model node update</header>
    <date>Fri Nov 15 23:46:00 CET 2002</date>
    <body>Typical, I bang my head all afternoon, post, then it finally dawns on me - I now have it sort of working. However, could someone in the know tell me if this is the "correct" approach ?  I'm especially not sure about the "node(0)"  line. Iterator i = for ( Iterator iter = i; iter.hasNext(); ) John Sharp wrote: http://www.w3.org/2001/XMLSchema-instance " http://www.gothawte.com/rd524.html https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Texas Instruments Inc  Product Development    tel:214 480 4253 PO BOX 660199          MS: 8645 FORE/A-3101   fax:214 480 4401 12500 TI Boulevard     Dallas, TX 75266-0199 nawk nawk,  Who's there ?   Aho, Weinberger and Kerninghan.</body>
  </mail>
  <mail>
    <header>[dom4j-user] ElementPath to use XPath expression</header>
    <date>Thu Nov 14 13:16:00 CET 2002</date>
    <body>Hi I am trying to use XPath expression as the path value when registering ElementHandler, and it seems that ElementPath is not an equivalent to XPath (which makes sense). However, I need to get the below test to work: Unfortunately, the files manipulated are huge and hence we need to process them only when a particular element is reached. Has anyone done anything similar? (BTW: This is along the lines to James Strachan's message @: http://www.mail-archive.com/jaxen-interest@...&amp;gt;) Best regards -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] ElementPath to use XPath expression</header>
    <date>Fri Nov 15 07:27:00 CET 2002</date>
    <body>Unfortunately true XPath (or XSLT-patterns) style matching hasn't been = added yet to the ElementHandlers.=20 Though you could always split your XPath into 2 and register the = ElementHandler for ("/table/metaData/record") then when you get each = Element evaluate the XPath expression "field[@fID=3D':1']" Another approach, if you don't want to splitup your XPaths, is to just = register an ElementHandler and on each Element perform an XPath test. = Though the previous suggestion will be a bit more efficient, since most = of the XPath has already been evaluated for you. James ------- http://radio.weblogs.com/0112098/ From: Benjamin Kopic=20 To: dom4j-user@... Sent: Thursday, November 14, 2002 1:15 PM Subject: [dom4j-user] ElementPath to use XPath expression Hi=20 I am trying to use XPath expression as the path value when registering = ElementHandler, and it seems that ElementPath is not an equivalent to = XPath (which makes sense).=20 However, I need to get the below test to work:=20 saxReader.addHandler("/table/metaData/record/field[@fID=3D':1']", = assertTrue("ID read ("+fmdh.getFId()+") does not match expected = Unfortunately, the files manipulated are huge and hence we need to = process them only when a particular element is reached.=20 Has anyone done anything similar? (BTW: This is along the lines to James = Strachan's message @: = .html)=20 Best regards --=20 benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] ElementPath to use XPath expression</header>
    <date>Fri Nov 15 10:13:00 CET 2002</date>
    <body>Thanks James. Is this something in TODO for dom4j (i.e. is there a need for XPath support in ElementHandlers)? Best regards Ben On Fri, 2002-11-15 at 07:27, James Strachan wrote: =EF=BB=BF Unfortunately true XPath (or XSLT-patterns) style matching hasn't been added yet to the ElementHandlers.=20 =20 Though you could always split your XPath into 2 and register the ElementHandler for ("/table/metaData/record") then when you get each Element evaluate the XPath expression "field[@fID=3D':1']" =20 Another approach, if you don't want to splitup your XPaths, is to just register an ElementHandler and on each Element perform an XPath test. Though the previous suggestion will be a bit more efficient, since most of the XPath has already been evaluated for you. James ------- http://radio.weblogs.com/0112098/ From: Benjamin Kopic=20 To: dom4j-user@... Sent: Thursday, November 14, 2002 1:15 PM Subject: [dom4j-user] ElementPath to use XPath expression =20 =20 Hi=20 =20 I am trying to use XPath expression as the path value when registering ElementHandler, and it seems that ElementPath is not an equivalent to XPath (which makes sense).=20 =20 However, I need to get the below test to work:=20 =20 saxReader.addHandler("/table/metaData/record/field[@fID=3D':1']", assertTrue("ID read ("+fmdh.getFId()+") does not match expected =20 =20 Unfortunately, the files manipulated are huge and hence we need to process them only when a particular element is reached.=20 =20 Has anyone done anything similar? (BTW: This is along the lines to James Strachan's message @: 93.html)=20 =20 Best regards --=20 benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/ --=20 benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] ElementPath to use XPath expression</header>
    <date>Fri Nov 15 11:19:00 CET 2002</date>
    <body>&amp;gt; Thanks James. Is this something in TODO for dom4j (i.e. is there a need for XPath support in ElementHandlers)? Yes. I think it'd be a cool addition yes. There's already the XSLT-pattern matching code in the org.dom4j.rule package which is capable of performing XSLT style template pattern matching. We just need to hook that up as an ElementHandler. Shouldn't be too hard if anyone fancies taking a stab at it. James ------- http://radio.weblogs.com/0112098/ From: Benjamin Kopic To: dom4j-user@... Sent: Friday, November 15, 2002 10:12 AM Subject: Re: [dom4j-user] ElementPath to use XPath expression Thanks James. Is this something in TODO for dom4j (i.e. is there a need for XPath support in ElementHandlers)? Best regards Ben On Fri, 2002-11-15 at 07:27, James Strachan wrote: ﻿ Unfortunately true XPath (or XSLT-patterns) style matching hasn't been added yet to the ElementHandlers. Though you could always split your XPath into 2 and register the ElementHandler for ("/table/metaData/record") then when you get each Element evaluate the XPath expression "field[@fID=':1']" Another approach, if you don't want to splitup your XPaths, is to just register an ElementHandler and on each Element perform an XPath test. Though the previous suggestion will be a bit more efficient, since most of the XPath has already been evaluated for you. James ------- http://radio.weblogs.com/0112098/ From: Benjamin Kopic To: dom4j-user@... Sent: Thursday, November 14, 2002 1:15 PM Subject: [dom4j-user] ElementPath to use XPath expression Hi I am trying to use XPath expression as the path value when registering ElementHandler, and it seems that ElementPath is not an equivalent to XPath (which makes sense). However, I need to get the below test to work: assertTrue("ID read ("+fmdh.getFId()+") does not match expected (:1)", Unfortunately, the files manipulated are huge and hence we need to process them only when a particular element is reached. Has anyone done anything similar? (BTW: This is along the lines to James Strachan's message @: ml) Best regards -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/ -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem in remove element</header>
    <date>Fri Nov 15 10:05:00 CET 2002</date>
    <body>Hello :) I have a problem with removing elements from document.=20 Here is the code: for (int i =3D 0; i &amp;lt; vec.size(); i++) List listNodesKey =3D = for(int j=3D0; j&amp;lt;listNodesKey.size(); j++) = if(recibo.selectSingleNode("NumeroRecibo").getText().compareTo(value)=3D=3D= 0) = xmlPersistente.getDocument().getRootElement().remove(xmlPersistente.getDo= Were is the xml.. I want delete the "sinistrados" element where the = "numerorecibo" is equal to a value ( http://www.xmlspy.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] [PATCH] Invalid xmlns attribute output</header>
    <date>Thu Nov 14 22:26:00 CET 2002</date>
    <body>Found this while trying to embed Jelly into my app.  The closing quote is not written for the xmlns attribute in certain cases. Calvin</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to Set a DTD for a xml element that i</header>
    <date>Fri Nov 15 06:28:00 CET 2002</date>
    <body>http://graphics.hotmail.com/emsmile.gif " style="HEIGHT: 14px; WIDTH: 17px" width=12&amp;gt;&amp;amp;nbsp;&amp;lt;STRONG&amp;gt;Ramanujam&amp;lt;/STRONG&amp;gt; &amp;lt;IMG height=12 src=" http://graphics.hotmail.com/emsmile.gif http://g.msn.com/8HMBEN/2023"&amp;gt;ELIMINATE</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to Set a DTD for a xml element that i</header>
    <date>Fri Nov 15 07:20:00 CET 2002</date>
    <body>... James ------- http://radio.weblogs.com/0112098/ From: Ramanujam Ragavan=20 To: dom4j-user@... Sent: Friday, November 15, 2002 6:28 AM Subject: [dom4j-user] How to Set a DTD for a xml element that i I have created an XML structure(Document) using dom4j, to which i want = to add a &amp;lt;!DOCTYPE&amp;gt; statement. i.e, the XML that I generate is defined = by this DTD and I want the DTD statement to appear as part of the XML = Structure. How do i do it? Ramanujam=20 -------------------------------------------------------------------------= ----- MSN 8 helps ELIMINATE E-MAIL VIRUSES. Get 2 months FREE*. = ------------------------------------------------------- This sf.net = email is sponsored by: To learn the basics of securing your web site = with SSL, click here to get a FREE TRIAL of a Thawte Server Certificate: = http://www.gothawte.com/rd524.html = _______________________________________________ dom4j-user mailing list = dom4j-user@... = https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] inserting/moving nodes?</header>
    <date>Wed Nov 13 14:16:00 CET 2002</date>
    <body>I have several  JTables and JLists with  custom models that return data from a dom4j Document.  In a couple of these cases, I need to be able to easily move nodes from once place to another or insert a node. Detaching nodes is easy enough, but I've not found a good solution for inserting or moving a node.  Like this example below.  Say I wanted to insert a new &amp;lt;Row&amp;gt; structure through an insert feature in my JTable between BBB and CCC.  Or detach BBB and move it before AAA. It is almost like there should be a Document.selectNodes(//Row) that returns a backed list.  The only way to date I've found to get a backed list didn't work- it had too much stuff in it.  Couldn't get just the "Row" elements.  So, for now I'm stuck almost completely rebuilding documents when a user requests a move or insert.  Can someone help me out here!?! Thanks, Brian</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] inserting/moving nodes?</header>
    <date>Wed Nov 13 20:40:00 CET 2002</date>
    <body>Hi, I think maybe you are right.  For some reason the only way I came up with before to get a backed list was Branch.content(), which I think returned all the nested children recursively and was too much. I've give Element.elements() a shot.   If true,  it seems like a JTable data  model would be more suited to using the list returned from Element.elements() than the actual Document...at least if you have a potential for needed to shift things around. Thanks Steen Lehmann wrote: http://www.gothawte.com/rd523.html https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] inserting/moving nodes?</header>
    <date>Wed Nov 13 19:53:00 CET 2002</date>
    <body>Hi Brian, As I understand it, Element.elements() is a backed list of the child elements of a given Element. In your example, document.getRootElement().elements() (or 'elements("Row")') would then give you a backed list of elements named Row that you should be able to swap about as you please. Is this what you were looking for? -- Steen slehmann@... http://www.gothawte.com/rd523.html https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] character escaping</header>
    <date>Thu Nov 07 22:43:00 CET 2002</date>
    <body>Hi, I am generating a xml document using=20 Element author1 =3D root.addElement( "author" ) .addText(  strData ); =20 =2E.. I do not have control over what is in the data, so there could be &amp;lt; or &amp;gt; = etc.=20 in it. What is the best practice to handle this? There used to be a DocumentHelper.encodeString(), but that seems to be go= ne? I assume that dom4j is not doing any escaping/encoding by default!? What if there are illegal characters (control characters like 0x7)  in th= e=20 data? Is a binary encoding (e.g. base64) the only way to go? Thanks Michael</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] character escaping</header>
    <date>Fri Nov 08 09:51:00 CET 2002</date>
    <body>--- Thierry Hanser wrote: Thats true, but of course I write it out and it is going to be parsed. Forgot to mention it. But good point. will You =2E Thanxs, that is what I was looking for.=20 Just did not look at the right place ;-) Writer e</body>
  </mail>
  <mail>
    <header>[dom4j-user] Validating a document</header>
    <date>Mon Nov 04 16:40:00 CET 2002</date>
    <body>Hi How do I in a simple way validate a Document that I have created. I thought (as I designed my program) that this would work.. ... &amp;lt;lots of text that creates a Document that is invalid when = validated with a DTD&amp;gt; ... make missmatching elements in the docOrg does anything happen here. But = leaving So is there a easy way to validate a document from the inside?? /Christian Holmqvist ------------------------- Christian Holmqvist Posten Sverige AB Posten IT 105 00 Stockholm Bes=F6ksadress: Ekensbergsv=E4gen 113 ,Solna Tel: 08 - 781 61 48 Mobil: 070 - 985 00 28 christian.holmqvist@... http://www.posten.se=20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Validating a document</header>
    <date>Wed Nov 06 15:44:00 CET 2002</date>
    <body>Validation is often done at parser time by (say) a SAX parser. If you have created a document programatically and you want to validate it you've 2 choices * output the document, then reparse it with a validating parser. So you could say use a SAXReader then setValidation(true); assuming the document you ouptput has a DTD or XML Schema reference in it * try use the JARV API to validate the document. There is an example of this in action in src/samples/validate/JARVDemo.java which uses Sun's MSV to validate a document against a DTD, XML Schema, RelaxNG etc James ------- http://radio.weblogs.com/0112098/ Sent: Monday, November 04, 2002 4:40 PM Subject: [dom4j-user] Validating a document Hi How do I in a simple way validate a Document that I have created. I thought (as I designed my program) that this would work.. ... &amp;lt;lots of text that creates a Document that is invalid when validated with a DTD&amp;gt; ... missmatching elements in the docOrg does anything happen here. But leaving So is there a easy way to validate a document from the inside?? /Christian Holmqvist ------------------------- Christian Holmqvist Posten Sverige AB Posten IT 105 00 Stockholm Besöksadress: Ekensbergsvägen 113 ,Solna Tel: 08 - 781 61 48 Mobil: 070 - 985 00 28 christian.holmqvist@... http://www.posten.se ------------------------------------------------------- This SF.net email is sponsored by: ApacheCon, November 18-21 in Las Vegas (supported by COMDEX), the only Apache event to be fully supported by the ASF. http://www.apachecon.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding comments to XML files</header>
    <date>Wed Nov 06 15:42:00 CET 2002</date>
    <body>When you say 'default printout' what do you mean? Using Node.asXML()? You could try using XMLWriter to see if that helps. James ------- http://radio.weblogs.com/0112098/ Sent: Thursday, October 31, 2002 9:48 AM Subject: [dom4j-user] Adding comments to XML files Hello! I'm having a print problem with comments. I see that the default printout of the DOM-tree always put a newline between a comment node and the next non-comment node. How can I avoid this? Any setting I might use? Best regards, Helge Fredriksen ------------------------------------------------------- This sf.net email is sponsored by: Influence the future of Java(TM) technology. Join the Java Community Process(SM) (JCP(SM)) program now. http://ads.sourceforge.net/cgi-bin/redirect.pl?sunm0004en _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Howto to set the encoding attribute...</header>
    <date>Tue Nov 05 11:23:00 CET 2002</date>
    <body>Hy there. I'm a starter. Can someone please tell me how can I set the encoding attribute of  "&amp;lt;?xml version='1.0' encoding='UTF-8'?&amp;gt;", to something diferente like"ISO-8859-1" when I create a document from scratch? Thanks.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Howto to set the encoding attribute...</header>
    <date>Wed Nov 06 15:40:00 CET 2002</date>
    <body>to You can specify the encoding of a Document when using the XMLWriter class to output XML to a file. e.g. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] I need a method</header>
    <date>Tue Nov 05 20:50:00 CET 2002</date>
    <body>like this: boolean Attribute::getSpecified () =20 Returns true if the attribute received its value explicitly in the XML document, or if a value was assigned programatically with the = setValue function.=20 Returns false if the attribute value came from the default value declared in the document's DTD.=20 Any such stuff around? I couldn't find it in the Java Doc. Best regards, Helge F. =20</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] Howto to set the encoding attribute...</header>
    <date>Tue Nov 05 11:36:00 CET 2002</date>
    <body>Hi! The encoding is set on the OutputFormat object for example: // p_resp is a HttpServletResponse object XMLWriter out =3D new HTMLWriter(p_resp.getOutputStream(), = // xmlDocument is the created XML Document Cheers Christian http://ads.sourceforge.net/cgi-bin/redirect.pl?palm0001en https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] W3C DOM interfaces</header>
    <date>Mon Nov 04 12:11:00 CET 2002</date>
    <body>Hi, We've been using dom4j for quite some time in a number of apps and having great success with it. One area though that we seem to do a lot of is conversion to and from W3C DOM Documents, primarily stuff going in and out of Xindice amongst other various API's. I've used Electric XML in some other apps and it does a good job of making this easier by implementing the DOM interfaces directly making passing document to different API's that expect org.w3c.dom.Document's easier. The comparison page on the web site makes note of DOM4J optionally implementing the DOM interfaces natively, this sounds exactly like what we'd like but I can't seem to find a way to turn this on. Is there a way to do this that I've just missed somewhere in the docs? Thanks, peter w.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] W3C DOM interfaces</header>
    <date>Mon Nov 04 13:12:00 CET 2002</date>
    <body>&amp;gt; Subject: Re: [dom4j-user] W3C DOM interfaces Steve, That's what we've been using so far and has been working fine with a few issues. We use: The issues we are running into are: There is some (relatively) considerable processing overhead in the DOMWriter - creating a W3C DOM Document takes longer than either creating the doc from scratch in code or parsing the doc from a file. The timings I've used for testing DOMWriter use the simple performance testing code on the dom4j website. I've made an equivalent EXML version for our own testing and the createW3CDOM method basically becomes a no-op as it's already a DOM document. In our testing we get: (all times in millis) 100 Elements -------------------- Creation time  			:  59.4 W3C Creation time for 		:1359 DOM4J File write time 		:344 Parsing time for 		:346.9 The other issue is purely the convenience of not having to go through that step each of extra code compared to the way Electric XML does it by implementing the DOM interfaces directly. Also I could well have stuffed something up with my testing code or general understanding of how these work and would welcome and hints on possibilities in increasing the performance of writing the DOM. peter w.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] W3C DOM interfaces</header>
    <date>Mon Nov 04 13:04:00 CET 2002</date>
    <body>&amp;gt; Subject: Re: [dom4j-user] W3C DOM interfaces Steve, That's what we've been using so far and has been working fine with a few issues. We use: The issues we are running into are: There is some (relatively) considerable processing overhead in the DOMWriter - creating a W3C DOM Document takes longer than either creating the doc from scratch in code or parsing the doc from a file. The timings I've used for testing DOMWriter use the simple performance testing code on the dom4j website. I've made an equivalent EXML version for our own testing and the createW3CDOM method basically becomes a no-op as it's already a DOM document. In our testing we get: (all times in millis) 100 Elements -------------------- Creation time  			:  59.4 W3C Creation time for 		:1359 DOM4J File write time 		:344 Parsing time for 		:346.9 The other issue is purely the convenience of not having to go through that step each of extra code compared to the way Electric XML does it by implementing the DOM interfaces directly. Also I could well have stuffed something up with my testing code or general understanding of how these work and would welcome and hints on possibilities in increasing the performance of writing the DOM. peter w.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] W3C DOM interfaces</header>
    <date>Mon Nov 04 14:05:00 CET 2002</date>
    <body>&amp;gt; Subject: Re: [dom4j-user] W3C DOM interfaces that transfer/conversion, dom4j Steve, Thanks that looks like what I need. I'd been looking around the site and the standard API docs that are part of the download and didn't run across that package - looking at the full javadocs link sorted me out. James, having this poses the question as to why the default API i.e. Document, Element etc don't support the DOM API directly by default. Is it just that way for size of the resulting jar file or is there some overhead in performance of the DOM* versions? peter wilkinson.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] W3C DOM interfaces</header>
    <date>Mon Nov 04 15:18:00 CET 2002</date>
    <body>Peter, Take a look at DOMReader and DOMWriter. steve pw-dom4j@... wrote: http://www.apachecon.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] W3C DOM interfaces</header>
    <date>Mon Nov 04 16:18:00 CET 2002</date>
    <body>Sorry Peter. I'll try again - how about the classes in org.dom4j.dom that support w3c dom interfaces, in particular DOMDocument implements org.w3c.dom.Document? Not sure how you'd go about the transfer/conversion, though. :-( I would guess these might be easier than converting the DOM tree to a dom4j tree. HTH steve pw-dom4j@... wrote: http://www.apachecon.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>FW: [dom4j-user] RE: [dom4j-dev] RE: Thread Safety</header>
    <date>Sat Nov 02 08:33:00 CET 2002</date>
    <body />
  </mail>
  <mail>
    <header>[dom4j-user] Parsing WSDL files using XPATH</header>
    <date>Sat Dec 21 18:55:00 CET 2002</date>
    <body>Hello all, I am trying to parse a WSDL file using XPATH. However, the result is always coming out with empty nodes. But when I type in the same XPATH in XML-SPY's XPath Evaluator, it works. Can anyone tell me what I'm doing wrong? Here is the query I am using: //binding/operation/@name By the way, dom4j is IMO the easiest XML framework for Java. Thank you. Vinu. __________________________________________________ Do you Yahoo!? Yahoo! Mail Plus - Powerful. Affordable. Sign up now. http://mailplus.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Document to DerivedDocument</header>
    <date>Sat Dec 28 09:27:00 CET 2002</date>
    <body>Hi, I have a Document object created from an xml file. I need to transfer the node tree from that Document object into an instance of another class (Derived from DefaultDocument). This class adds application-specific methods etc to a Document. How can I go about doing this, I've tried walking the tree and transfering node for node but I can't figure out how to maintain parent-child relationships. Is there any better way to do what I am trying? Regards, Joe __________________________________________________ Do you Yahoo!? Yahoo! Mail Plus - Powerful. Affordable. Sign up now. http://mailplus.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to write file</header>
    <date>Thu Dec 19 16:57:00 CET 2002</date>
    <body>How do you write a DOM object to a file without it including the xml "header" information? In other words, I don't want the following line included at the top of the file: Thanks, Frank Sharpless Manager, Application Development Paperhost.com, Inc. 770.998.9172.611</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to write file</header>
    <date>Thu Dec 19 20:50:00 CET 2002</date>
    <body>The OutputFormat controls how the document is "dumped" in XML. Set the suppress declaration to true to turn off the xml instruction header. It should look something like this.. Document document = ... org.dom4j.io.OutputFormat of = java.io.ByteArrayOutputStream os = new java.io.BufferedOutputStream bos= new Enjoy! Dave Frank Sharpless wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Deleting Node</header>
    <date>Thu Dec 19 15:42:00 CET 2002</date>
    <body>I am trying to remove a node. I am using the following code: Node node = _xmlDocument.selectSingleNode("/Resultslist/Resultsrow/Resultsfield[@name = It appears to work. However when I display the contents of _xmlDocument, the node is still there. Any help would be appreciated. Thanks, Frank Sharpless Manager, Application Development Paperhost.com, Inc. 770.998.9172.611</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Deleting Node</header>
    <date>Thu Dec 19 15:54:00 CET 2002</date>
    <body>I guess define how you are displaying the contents of _xmlDocument when you are still seeing the node?  If you can't access the node anymore from code, and when you output the Document to text using an output class it doesn't show up, I'd say it is gone. Frank Sharpless wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] is www.dom4j.org down?</header>
    <date>Mon Dec 16 10:11:00 CET 2002</date>
    <body>I am unable to access the dom4j site (www.dom4j.org). Is the site down? Best regards -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] is www.dom4j.org down?</header>
    <date>Mon Dec 16 10:26:00 CET 2002</date>
    <body>SourceForge recently changed their IP addresses. I've updated the DNS entry so it should be back soon. James ------- http://radio.weblogs.com/0112098/ From: Benjamin Kopic To: dom4j-user@... Sent: Monday, December 16, 2002 11:11 AM Subject: [dom4j-user] is http://www.dom4j.org down? I am unable to access the dom4j site (www.dom4j.org). Is the site down? Best regards -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] is www.dom4j.org down?</header>
    <date>Mon Dec 16 10:57:00 CET 2002</date>
    <body>Incidentally until the DNS entries refresh you can use this URL instead. http://dom4j.sf.net James ------- http://radio.weblogs.com/0112098/ Sent: Monday, December 16, 2002 10:26 AM Subject: Re: [dom4j-user] is http://www.dom4j.org down? entry http://radio.weblogs.com/0112098/ http://www.dom4j.org down? http://www.panContext.com/ http://uk.my.yahoo.com http://hpc.devchannel.org/ https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] is www.dom4j.org down?</header>
    <date>Mon Dec 16 14:24:00 CET 2002</date>
    <body>James-- I think you have bigger problems than that, no? Domain Name: DOM4J.ORG Created on..............: Wed, Nov 29, 2000 Expires on..............: Fri, Nov 29, 2002 Record last updated on..: Mon, Dec 16, 2002 The dom4j.org domain name expired a few weeks ago. -bob On Mon, 16 Dec 2002, James Strachan wrote: http://radio.weblogs.com/0112098/ http://www.dom4j.org down? http://www.panContext.com/ http://uk.my.yahoo.com http://hpc.devchannel.org/ https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Bob McWhirter        bob@... The Werken Company http://werken.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] is www.dom4j.org down?</header>
    <date>Mon Dec 16 16:08:00 CET 2002</date>
    <body>Well spotted bob! Have just renewed it! Phew. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] API benchmarks</header>
    <date>Mon Dec 16 14:11:00 CET 2002</date>
    <body>Thanks for the tip. But the is there any benchmarks regarding the actual versions? The versions of Sosnoski's benchmarks, which are great are a little out of date. -----Original Message----- From: Benjamin Kopic [mailto:benjamin.kopic@...] Sent: segunda-feira, 16 de Dezembro de 2002 13:28 To: Carlos Barroso Cc: dom4j-user@... Subject: Re: [dom4j-user] API benchmarks I presume you are looking for Denis Sosnoski's XML Benchmark: http://www.sosnoski.com/opensrc/xmlbench/index.html http://www.sosnoski.com/opensrc/xmlbench/index.html Best regards Ben On Mon, 2002-12-16 at 11:06, Carlos Barroso wrote: Hy there. Can anyone tell me a good site for benchmarks regarding dom4j against other API's like dom, jdom, xpp, etc. Thanks. ------------------------------------------------------- This sf.net email is sponsored by: With Great Power, Comes Great Responsibility Learn to use your power at OSDN's High Performance Computing Channel http://hpc.devchannel.org/ http://hpc.devchannel.org/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] API benchmarks</header>
    <date>Mon Dec 16 11:06:00 CET 2002</date>
    <body>Hy there. Can anyone tell me a good site for benchmarks regarding dom4j against other API's like dom, jdom, xpp, etc. Thanks.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] API benchmarks</header>
    <date>Mon Dec 16 12:27:00 CET 2002</date>
    <body>I presume you are looking for Denis Sosnoski's XML Benchmark: http://www.sosnoski.com/opensrc/xmlbench/index.html Best regards Ben On Mon, 2002-12-16 at 11:06, Carlos Barroso wrote: http://hpc.devchannel.org/ https://lists.sourceforge.net/lists/listinfo/dom4j-user -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] [dom4j-dev] XMLWriter &amp;amp;&amp;amp; Attributes with \0 ... :/</header>
    <date>Sun Dec 15 21:16:00 CET 2002</date>
    <body>[ *g* Man was I still tired two days back in the morning; not noticing that there is a dom4j-USER list as well...         ] ...unfortunately, nobody answered to it so far, which is why I am reposting this here... Hi there, *g* before this seems too negative... ;-)  Dom4j is GREAT... ;-) I seem to have a problem with dom4j-1.3; I'm generating an XML document from within a javacc-Parser. That part works nicely. But I noticed, that *sometimes* (rarely, though), some of the literals, that the parser puts into XML attributes can contain a 0-byte. When dom4j writes this to a file, and later tries to read that file, I'm getting at org.dom4j.io.SAXReader.read(SAXReader.java:339) at org.dom4j.io.SAXReader.read(SAXReader.java:256) at org.dom4j.DocumentHelper.parseText(DocumentHelper.java:215) at org.yinyap.frame.JMSReceiver.next(JMSReceiver.java:125) ... 2 more (the only special character in there is a \0 byte right in an attribute value) The xml had been written using a normal dom4j XMLWriter, without any special options... Shouldn't dom4j escape the \0-bytes?  (or did I just forget the neccessary options to the XMLWriter to make it do so?) The fact, that dom4j writes xml-Files, that it can't read back itself, doesn't look all that smart, does it? Benedikt BEAUTY, n.  The power by which a woman charms a lover and terrifies a husband. (Ambrose Bierce, The Devil's Dictionary)</body>
  </mail>
  <mail>
    <header>[dom4j-user] TransformerFactory.newTransformer() very slow ?</header>
    <date>Wed Dec 11 17:15:00 CET 2002</date>
    <body>Hi there, I am just trying to do some XSLT with the help of dom4j. I took a sample from the dom4j "Quick Start" and it works: // load the transformer using JAXP // --&amp;gt; this one takes 20 seconds !?! // now lets style the given document // return the transformed document The problem is that the TransformerFactory.newTransformer() call takes about 20 seconds to finish - way too long. I even added proxy settings because I thought it may be stopped when retrieving some XML/DTD/Schema/NameSpace/whatever from W3, but it didn't speed up at all. My question is simple: HELP ? cheers   Mike</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] TransformerFactory.newTransformer() very slow ?</header>
    <date>Fri Dec 13 11:44:00 CET 2002</date>
    <body>TransformerFactory.newTransformer() very slow ? is a JAXP thing and nothing to do with dom4j. Other than the cost of class loading, I'm not aware of any reason for this to be particularly slow. Do you have any wierd ClassLoaders installed? James ------- http://radio.weblogs.com/0112098/ From: Bingel, Michael To: 'dom4j-user@...' Sent: Wednesday, December 11, 2002 5:17 PM Subject: [dom4j-user] TransformerFactory.newTransformer() very slow ? Hi there, I am just trying to do some XSLT with the help of dom4j. I took a sample from the dom4j "Quick Start" and it works: // load the transformer using JAXP // --&amp;gt; this one takes 20 seconds !?! // now lets style the given document // return the transformed document The problem is that the TransformerFactory.newTransformer() call takes about 20 seconds to finish - way too long. I even added proxy settings because I thought it may be stopped when retrieving some XML/DTD/Schema/NameSpace/whatever from W3, but it didn't speed up at all. My question is simple: HELP ? cheers   Mike __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Reading document with norwegian characters</header>
    <date>Tue Dec 10 11:13:00 CET 2002</date>
    <body>Hello,=20 I have a problem with lot's of XML-files I want to parse with the SAXReader object. They all start with this heading: Even if the attribute=20 'encoding=3D"UTF-8"'=20 is not there in the preamble, it seems that my parser implements this as default, since norwegian charcters are not recognized as valid. Is there anyway I can override this default? Guess I need to=20 enforce the setting 'encoding=3D"ISO-8859-1"', but it would be reeealy neat if I could do this in the code, not having to edit all the files manually... Best regards, Helge Fredriksen</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Reading document with norwegian characters</header>
    <date>Tue Dec 10 11:23:00 CET 2002</date>
    <body>Not a direct answer, but.... $ find . -name "*.xml" | xargs perl -i.bak \ -p -e "s/?&amp;gt;/ encoding='iso-8859-1'?&amp;gt;/" will do the bulk change for you. On Tue, Dec 10, 2002 at 12:14:19PM +0100, helge.fredriksen@... wrote: http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Fergus Gallagher          Tel: +44 (20) 8742 1600 Orbis                     Fax: +44 (20) 8742 2649 414 Chiswick High Street  email: Fergus.Gallagher@... London  W4 5TL            Web: http://www.orbisuk.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Reading document with norwegian characters</header>
    <date>Tue Dec 10 12:27:00 CET 2002</date>
    <body>Once you've parsed a document, you can output it using another character encoding mechanism via the XMLWriter. James ------- http://radio.weblogs.com/0112098/ Sent: Tuesday, December 10, 2002 11:14 AM Subject: [dom4j-user] Reading document with norwegian characters Hello, I have a problem with lot's of XML-files I want to parse with the SAXReader object. They all start with this heading: Even if the attribute 'encoding="UTF-8"' is not there in the preamble, it seems that my parser implements this as default, since norwegian charcters are not recognized as valid. Is there anyway I can override this default? Guess I need to enforce the setting 'encoding="ISO-8859-1"', but it would be reeealy neat if I could do this in the code, not having to edit all the files manually... Best regards, Helge Fredriksen ------------------------------------------------------- This sf.net email is sponsored by:ThinkGeek Welcome to geek heaven. http://thinkgeek.com/sf _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Reading document with norwegian characters</header>
    <date>Fri Dec 13 10:56:00 CET 2002</date>
    <body>Hi Helge, If your documents are encoded in ISO-8859-1 they should indicate this property with the encoding attribute in Since UTF-8 is the default encoding (due to the XML specifications) your parser is right but your documents are not correctly defined. Therefore I would suggest that you use a cotrective approach like the script proposed by Fergus. This way you would not only solve your problem but at the same time correct your documents. Sincerely, Thierry Hanser PS: I am not perl expert but does Fregus' expression apply only to the xml prolog (which is required) or to all processing instruction (ending by '?&amp;gt;') in which case you need to check that you do not have other useful processing instructions. ----------------------------------------------------------------------- IXELIS -  Semantic Information Systems Web: http://www.ixelis.com E-mail   : mail@... ----------------------------------------------------------------------- http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Removing Comments</header>
    <date>Thu Dec 12 01:07:00 CET 2002</date>
    <body>I am having an incredibly frustrating time attempting to remove comments from a document.  More specifically, an object in my system holds a reference to an XML structure: I then process this node heavily, removing single elements and replacing them with more complicated structures, as well as comment nodes: At the end of processing, I would like to remove all of the comments from the document.  This is proving to be next to impossible.  I am using the following code: When I add the 'suite' element above to a document and output the result, all of the comments are still in the document.  I have tried many, many variations of removing the nodes, including removing directly from the content list, using the parent node 'remove()' method, and gathering the comment node XPath expressions using getUniquePath and processing them individually in a number of ways. Does anyone have any advice as to why these comments are proving so difficult to remove? Thanks in advance, Cory.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Outputting a large document as SAX events</header>
    <date>Sun Dec 08 18:30:00 CET 2002</date>
    <body>Hi I am trying to figure out how to output a large XML document as SAX events. Basically, I parse a large XML file using ElementHandler interface to perform specific operation on the given element and then I would like to output that element to another file. So far I have created a SAXWriter which uses XMLWriter as its ContentHandler, but I am not sure how to initialise the output document declaration. Any help is appreciated. Best regards -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Outputting a large document as SAX events</header>
    <date>Tue Dec 10 14:28:00 CET 2002</date>
    <body>If you have a SAXWriter you can write out individual elements via the write(Element) methods. However be sure to ensure that you also invoke startDocument() and endDocument() on your underlying ContentHandler. James ------- http://radio.weblogs.com/0112098/ From: Benjamin Kopic To: dom4j-user@... Sent: Sunday, December 08, 2002 6:28 PM Subject: [dom4j-user] Outputting a large document as SAX events Hi I am trying to figure out how to output a large XML document as SAX events. Basically, I parse a large XML file using ElementHandler interface to perform specific operation on the given element and then I would like to output that element to another file. So far I have created a SAXWriter which uses XMLWriter as its ContentHandler, but I am not sure how to initialise the output document declaration. Any help is appreciated. Best regards -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Transforming/Encoding problem...</header>
    <date>Tue Dec 10 10:17:00 CET 2002</date>
    <body>Hy Fergus. Thank you very very much the help. I forgot that. It's working now. -----Original Message----- From: Fergus Gallagher [mailto:Fergus.Gallagher@...] Sent: ter=E7a-feira, 10 de Dezembro de 2002 10:13 To: Carlos Barroso Cc: dom4j-user@... Subject: Re: [dom4j-user] Transforming/Encoding problem... The encoding you specify is only for input, the output is utf8. You = need to specify the output encoding explicitly: On Tue, Dec 10, 2002 at 10:04:43AM -0000, Carlos Barroso wrote: http://www.w3.org/1999/XSL/Transform StreamSource(new "presta????o". http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user --=20 Fergus Gallagher          Tel: +44 (20) 8742 1600 Orbis                     Fax: +44 (20) 8742 2649 414 Chiswick High Street  email: Fergus.Gallagher@... London  W4 5TL            Web: http://www.orbisuk.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Transforming/Encoding problem...</header>
    <date>Tue Dec 10 10:30:00 CET 2002</date>
    <body>I've made the test with: And it still is transforming wrong. Now instead of putting "presta????o" it's appearing "presta??o", i. e. one "?" for each accented character. What can be wrong? -----Original Message----- From: Carlos Barroso [mailto:est-c-barroso@...] Sent: ter=E7a-feira, 10 de Dezembro de 2002 10:17 To: dom4j-user@... Subject: RE: [dom4j-user] Transforming/Encoding problem... Hy Fergus. Thank you very very much the help. I forgot that. It's working now. -----Original Message----- From: Fergus Gallagher [mailto:Fergus.Gallagher@...] Sent: ter=E7a-feira, 10 de Dezembro de 2002 10:13 To: Carlos Barroso Cc: dom4j-user@... Subject: Re: [dom4j-user] Transforming/Encoding problem... The encoding you specify is only for input, the output is utf8. You = need to specify the output encoding explicitly: On Tue, Dec 10, 2002 at 10:04:43AM -0000, Carlos Barroso wrote: http://www.w3.org/1999/XSL/Transform StreamSource(new "presta????o". http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user --=20 Fergus Gallagher          Tel: +44 (20) 8742 1600 Orbis                     Fax: +44 (20) 8742 2649 414 Chiswick High Street  email: Fergus.Gallagher@... London  W4 5TL            Web: http://www.orbisuk.com ------------------------------------------------------- This sf.net email is sponsored by:ThinkGeek Welcome to geek heaven. http://thinkgeek.com/sf _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Transforming/Encoding problem...</header>
    <date>Tue Dec 10 10:04:00 CET 2002</date>
    <body>Hy there. ----------------------------------------------- I have a XML document like: ----------------------------------------------- ( ... ) ----------------------------------------------- And I have a XSL stylesheet like: ----------------------------------------------- xmlns:xsl=3D' http://www.w3.org/1999/XSL/Transform ( ... ) ----------------------------------------------- My transformation class is like: ----------------------------------------------- Transformer transformer =3D factory.newTransformer(new = StreamSource(new The problem is that words like "presta=E7=E3o" are coming out = "presta????o". Words that have accents (=E3, =E7, =E1,...) are coming out bad. I'm using encoding "ISO-8859-1". So what can be the problem!? Can someplease help me.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Transforming/Encoding problem...</header>
    <date>Tue Dec 10 10:13:00 CET 2002</date>
    <body>The encoding you specify is only for input, the output is utf8. You need to specify the output encoding explicitly: On Tue, Dec 10, 2002 at 10:04:43AM -0000, Carlos Barroso wrote: http://www.w3.org/1999/XSL/Transform http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Fergus Gallagher          Tel: +44 (20) 8742 1600 Orbis                     Fax: +44 (20) 8742 2649 414 Chiswick High Street  email: Fergus.Gallagher@... London  W4 5TL            Web: http://www.orbisuk.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Getting iterated attributes ?</header>
    <date>Mon Dec 09 12:46:00 CET 2002</date>
    <body>Hi there, I am trying to iterate through sub-nodes and have a little problem. I get the sub-nodes fine, but I can't access the attributes. XML: SOURCE: Iterator i = System.out.println("ID=" + Can someone give me a hint ? cheers   Mike</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Getting iterated attributes ?</header>
    <date>Mon Dec 09 13:00:00 CET 2002</date>
    <body>Getting iterated attributes ?Try use the relative XPath expression. So instead of /Transaction/@transactionidsender try @id Also instead of node.selectSingleNode(path).getText() you can use James ------- http://radio.weblogs.com/0112098/ From: Bingel, Michael To: 'dom4j-user@...' Sent: Monday, December 09, 2002 12:48 PM Subject: [dom4j-user] Getting iterated attributes ? Hi there, I am trying to iterate through sub-nodes and have a little problem. I get the sub-nodes fine, but I can't access the attributes. XML: SOURCE: Iterator i = System.out.println("ID=" + Can someone give me a hint ? cheers   Mike __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] ResultSets::NewBie Question</header>
    <date>Thu Dec 05 10:28:00 CET 2002</date>
    <body>Dear All! I want to transform a resultdet into a XML-Document. Is there anything similar in Dom4Jto the "appendChild" method of Xerces? Sorry if this is a stupid question, but I haven't found anything in the APi or the sample sources regards, achim __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] ResultSets::NewBie Question</header>
    <date>Thu Dec 05 14:14:00 CET 2002</date>
    <body>How about Element element = ... There's a quick guide on creating documents here... http://dom4j.org/guide.html James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] New release ?</header>
    <date>Thu Dec 05 03:45:00 CET 2002</date>
    <body>Hi, When will a new release of dom4j be available? I specifically require an official release that uses the latest official release of jaxen (1.0-FCS), because I need to use the "translate" XPath function. Regards, Adrian Lewty.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] New release ?</header>
    <date>Thu Dec 05 14:03:00 CET 2002</date>
    <body>We're nearly there. The new Maven build is almost there now, just one or two unit tests failing so I do hope by next wednesday for it to be out. Also there's a new Jaxen release out soon, so the next dom4j will use that. FWIW if you ever need to use a newer version of Jaxen, you could try using just the dom4j-core.jar along with jaxen*.jar and saxpath*.jar and that should work. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Source of libraries included with dom4j ?</header>
    <date>Thu Dec 05 02:55:00 CET 2002</date>
    <body>Hi folks, First of all, let me say that I am a huge dom4j fan. I think dom4j is one of the most useful libraries around. I now put dom4j on my cereal every morning instead of milk! I'm currently packaging a release of an open-source project that includes dom4j ( http://www.xmltester.org ).   Naturally, I am going to give due credit to the dom4j project.  I think it is also my responsibility to provide credit to the authors of libraries included WITH dom4j.  However, it's not clear to me how to do so.  Hence this missive. The Dom4j 1.3 distribution includes the jars shown below, but does not (as far as I can tell) include a file identifying the source of each jar, the type of license that jar carries, or what version of the library is included. I don't want to be a weenie, but isn't this sort of a minor violation of the license of at least the apache components (xalan, xerces, ant, etc.)?  Redistribution of these jars requires including a statement in the documentation like "This product includes software developed by the Apache Software Foundation ( http://www.apache.org/)"? I know it's a pain-in-the-editor to attribute all this stuff, but isn't that one of the debts we owe each other as open source developers? I know what a lot of these jars are.  I can go search and find out where each of the other files comes from, but it won't be easy for me to guess what version is included. It sure would be nice to have an authoritative list of credits from the authors. If I simply missed these attributions in the documentation, I beg of you a thousand pardons. Your Pal, Bulby (aka Stu Baurmann) Included in dom4j/lib ---------------------------------------- PullParser11.jar PullParser2.jar Tidy.jar ant.jar crimson.jar isorelax.jar jakarta-ant-1.4.1-optional.jar jaxen.jar jaxp.jar junit.jar msv.jar relaxngDatatype.jar saxpath.jar xalan.jar xerces-1.2.3.jar xmldb.jar xsdlib.jar ./fop: avalon-framework-4.0.jar batik.jar fop.jar jimi-1.0.jar logkit-1.0b4.jar xalanj1compat.jar ./tool: saxon.jar xerces.jar</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Source of libraries included with dom4j ?</header>
    <date>Thu Dec 05 13:58:00 CET 2002</date>
    <body>:-) http://www.xmltester.org ).   Naturally, You don't have to at all, but its nice if you do. It should do really. http://www.apache.org/)"? AFAIK you don't need to make that statement, though the licences should be included in the distribution. So we should ship a copy of the ASF licence with dom4j. The Maven build of dom4j (which is nearly complete now) has explicit references to the dependencies, all of which are hosted at Maven's repository. It should be possible to get Maven to automatically copy licences &amp;amp; a list of credits as part of any Maven build. (This is a common problem in all open source software builds). Note also that inside the manifest of each JAR should be a reference to who makes the software, what its version is, its website etc. So these typically should be inside the jars themselves. Again using Maven can help make this happen. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Source of libraries included with dom4j ?</header>
    <date>Thu Dec 05 14:01:00 CET 2002</date>
    <body>http://www.xmltester.org ). BTW the JellyUnit project might well be worth tracking, it could be useful to XMLTester... http://jakarta.apache.org/commons/sandbox/jelly/jellyunit.html In terms of XML unit testing it currently supports * schema validation via the validate library: testing XML against DTDs, XML Schema, RelaxNG etc * comparing 2 documents for equality using the new XMLUnit library * performing XSLT on some XML and then then performing any of the above * parsing HTML via the Neko parser and treating it as XML in any of the above (oh and it uses dom4j and Jaxen too) James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Invalid InvalidXPathException ?</header>
    <date>Tue Dec 03 15:29:00 CET 2002</date>
    <body>Hi there, when trying to use a Document.selectSingleNode("") I received the following Exception: org.dom4j.InvalidXPathException: Invalid XPath expression: //* wrapped exception at org.dom4j.xpath.DefaultXPath.parse(DefaultXPath.java:316) at org.dom4j.xpath.DefaultXPath.&amp;lt;init&amp;gt;(DefaultXPath.java:63) at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:182) at org.dom4j.tree.AbstractNode.createXPath(AbstractNode.java:207) at org.dom4j.tree.AbstractNode.selectNodes(AbstractNode.java:163) It took me 2 days to figure out that the problem was not actually with an invalid XPath, but that JBuilder didn't include the complete JAR because I selected only "Required classes and known resources" instead of "Always include all". Suggestion: Shouldn't a ClassNotFoundException be thrown instead ??? cheers   Mike</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: dom4j-user digest, Vol 1 #442 - 1 msg</header>
    <date>Fri Jan 31 07:53:00 CET 2003</date>
    <body>Try this: con.setDoOutput(true);  &amp;lt;--- sets read/write access to your connection (HttpURLConnection) I use: InputSource inSrc = new outDoc = reader.read(inSrc);   ---- for reading, and: OutputFormat format = new OutputFormat(" ",true,"ISO-8859-1"); // it may be UTF-8! XMLWriter writer = new writer.flush();   ---- for writing. I hope that I helped you, stefka --- dom4j-user-request@... wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do you Yahoo!? Yahoo! Mail Plus - Powerful. Affordable. Sign up now. http://mailplus.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] sending and receiving dom4j XML msgs over java sockets</header>
    <date>Wed Jan 29 20:14:00 CET 2003</date>
    <body>Hello I would be grateful to get any info re: how to send/receive dom4j XML documents over java sockets : I am using the SAX XMLWriter and can read the client-sent message as XML on the server-socket side, but when I try to write back to the client-socket it is already closed. Opening an OutputStream on the client-side after the message has been written, locks the READ on the server side. These XML docs are small (&amp;lt; 1000 bytes) and are being carried over an internal network. Thankyou, Regards, tim.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Multiple ElementHandler instances for the same element path</header>
    <date>Wed Jan 29 00:43:00 CET 2003</date>
    <body>Hi I have multiple instances of ElementHandler for the same element path, e.g. I have insertHandler, updateHandler and errorHandler, all having '/table/data' as their element path. However, only one of them (the last one added) gets invoked by SAXReader.read(), while the others do not. Is there a way so they all get invoked when onStart() and onEnd() events are broadcast? Best regards -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAXReader.addHandler() path arg</header>
    <date>Mon Jan 27 16:43:00 CET 2003</date>
    <body>James wrote: or fancies around +1. I started using DOM4J yesterday and have already run into a situation where I could use this feature. A quick look at the source suggests the element handler key should be checked against a rule or pattern.  Rule &amp;amp; Pattern appear to be node based though and it isn't clear to me how nodes relate to the data structures available in the Dispatch/Element Handler.  Until I know the DOM4J internals a little better I'll and let someone else patch this one.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Trying again: Node.matches() not working</header>
    <date>Fri Jan 24 02:39:00 CET 2003</date>
    <body>Sent: Wednesday, January 22, 2003 7:25 AM Subject: Trying again: Node.matches() not working</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: Trying again: Node.matches() not working</header>
    <date>Fri Jan 24 08:54:00 CET 2003</date>
    <body>Hi Dave, According to the Dom4j API documentation and your example variable 'exists' should return true as you expect. But according to the method's name this is no more true. My guess is that since 1.3 the behaviour of the matches() method has been *corrected* to do what the meaning of the method's name let us assume. Howeever the the API documentation for this method remains missleading. According to the method's name i would say that node.matches(XPathExp) returns true *only* if  'node' is contained in the nodeset resulting of the XPathExp evaluation. In other words, using your example : node.matches( "/order/customer/name" ) is equivalent to: in 1.3 :  node.selectNodes( "/order/customer/name").contains(node) which reflects the meaning of the method's name and not in 1.2 :  !node.selectNodes( "/order/customer/name").isEmpty() which reflects the API but is not in accordance with the name "matches()" Thus exists should be only if your node is in the nodeset "/order/customer/name", that is your node is a 'name' element in a 'customer' etc... Again this is my guess, i am not 100% sure about it and it has to be confirmed by the Dom4J team. If confirmed, Dom4J API could be update to avoid ambiguity API Doc for matches(): 'matches' returns true if evaluating the given XPath expression on this node returns *[true or a non-empty node set. So calling this method is equivalent to calling &amp;lt;xsl:if test="xpathExpression"/&amp;gt;  in XSLT.]* could become something like: *matches* returns true if evaluating the given XPath expression on this node  a non-empty node set containing the node itself. Talking API since Node.matches() does now the right job shouldn't we considere adding a test() method in the Node API in Node : boolean test(String "XPathExp") that would take over the 1.2 behaviour of matches() and fit to the deprecated API documentation so that we got again a method equivalent to element. Sincerely, Thierry ----------------------------------------------------------------------- IXELIS -  Systèmes d'Information Sémantique http://www.ixelis.com 17 rue des Cèdres, F67200 STRASBOURG (France) Tél      : +33 (0)3 88 27 81 39  Portable : 06 30 07 65 73 E-mail   : mail@...       Fax      : +33 (0)3 88 27 81 39 -----------------------------------------------------------------------</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: Trying again: Node.matches() not working</header>
    <date>Fri Jan 24 14:48:00 CET 2003</date>
    <body>And if this is the case there should be an API added to perform this functionality I think. thanks - dave Sent: Friday, January 24, 2003 3:15 AM Subject: Re: [dom4j-user] Re: Trying again: Node.matches() not working http://www.ixelis.com http://www.vasoftware.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: Trying again: Node.matches() not working</header>
    <date>Fri Jan 24 17:21:00 CET 2003</date>
    <body>&amp;gt;And if this is the case there should be an API added to perform this &amp;gt;functionality I think. &amp;gt;thanks - dave I guess it is the case. I am not involved in the Dom4J project though i think it is a very good project, a good answer to the XML/JAVA problem (DOM is too abstract and JDom does not take enough advantage of inheritance (its hierachy is quite flat)) So i think Dom4J is a good compromise. According to my recent tests the matches() method behaves like one would expect from its name. The node istself must be in the nodeset (List) resulting from the XPath évaluation. Thus returns 'true' if (and only if) 'node' belongs to the nodeset resulting from the 'xpath' evaluation using 'node' as reference node. Actually Dom4J delegates XPath evaluation to the Jaxen technology that itself implements the SaxPath interface. So there is a free space (e.g. in class Node) for a test() method with a prototype like : boolean test(String xpath) --- could a Dom4j team member confirm this assertion ? Thierry</body>
  </mail>
  <mail>
    <header>[dom4j-user] Transformer Error Help!</header>
    <date>Thu Jan 23 08:42:00 CET 2003</date>
    <body>Hi Hope you can help me here. I get the following error.... javax.xml.transform.TransformerConfigurationException: javax.xml.transform.TransformerException: org.xml.sax.SAXException: Namespace not supported by SAXParser Here's the really simple XSL... xmlns:xsl=" http://www.w3.org/1999/XSL/Transform Here's the Java Code... // load the transformer using JAXP // now lets style the given document // return the transformed document the error occurs on What have i done wrong? hope you can help thanx don</body>
  </mail>
  <mail>
    <header>[dom4j-user] Transformation Error. Help!</header>
    <date>Thu Jan 23 08:34:00 CET 2003</date>
    <body>Hi I have a problem with the XSL Transformation of a simple XML Doc. Here's the XSL... xmlns:xsl=" http://www.w3.org/1999/XSL/Transform right, you can see it does nothing... heres the Java Code // load the transformer using JAXP // now lets style the given document // return the transformed document Here's the Error javax.xml.transform.TransformerConfigurationException: javax.xml.transform.TransformerException: org.xml.sax.SAXException: Namespace not supported by SAXParser What is it that i haven't done? Hope you can help thanx don</body>
  </mail>
  <mail>
    <header>[dom4j-user] Trying again: Node.matches() not working</header>
    <date>Wed Jan 22 14:25:00 CET 2003</date>
    <body>Sent: Monday, January 20, 2003 3:25 PM Subject: Node.matches() not working give</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Cannot read file on windows server</header>
    <date>Tue Jan 21 11:21:00 CET 2003</date>
    <body>Hi (Dag :-) Hans, I believe this should work: reader.read( new URL(" file:////server/path/file.xml Wonne -----Original Message----- From: Hans.Vanbellingen@... To: dom4j-user@... Sent: 1/21/2003 11:26 AM Subject: [dom4j-user] Cannot read file on windows server Hello, I want to access open an xml file located on a distant server " \\server\path\myxml.xml". If I try to open the file with the java File class, all goes perfectly well. If I try to execute following code I get a connection error: throw new error If the last line contains "file:" or not does not make a difference. After some debugging I noticed that an URL is made and that it is the URL that is opened. in the debugger I stopped on the error and noticed that in Handler.openConnection(URL) the protocol is file but in the URL(String, String, String) that is called from this one, the protocol changed into ftp. (since no ftp server is running on the windows machine, this error is logical) I tried to do but even when I pass an inputstream that is open and has access to the file, an URL is made and used. I hope someone can help me with this. Thank you Hans ------------------------------------------------------- This SF.NET email is sponsored by: SourceForge Enterprise Edition + IBM + LinuxWorld = Something 2 See! http://www.vasoftware.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Cannot read file on windows server</header>
    <date>Tue Jan 21 14:12:00 CET 2003</date>
    <body>RE: [dom4j-user] Cannot read file on windows serverAgreed. The read = method can take a File, a URL, or a String url as well as an InputStream = or Reader - though the first 3 are preferred as it gives the default = EntityResolver implementation a chance.. James ------- http://radio.weblogs.com/0112098/ From: Keysers, Wonne=20 To: 'dom4j-user@... '=20 Sent: Tuesday, January 21, 2003 11:14 AM Subject: RE: [dom4j-user] Cannot read file on windows server Hi (Dag :-) Hans,=20 I believe this should work:=20 reader.read( new URL(" file:////server/path/file.xml ") );=20 Wonne=20 -----Original Message-----=20 From: Hans.Vanbellingen@... To: dom4j-user@... Sent: 1/21/2003 11:26 AM=20 Subject: [dom4j-user] Cannot read file on windows server=20 Hello,=20 I want to access open an xml file located on a distant server "=20 \\server\path\myxml.xml".=20 If I try to open the file with the java File class, all goes perfectly = well.=20 If I try to execute following code I get a connection error:=20 f =3D new File(_fileName);=20 throw new error=20 reader =3D new SAXReader();=20 document =3D reader.read("file:".concat(_fileName));=20 If the last line contains "file:" or not does not make a difference.=20 After some debugging I noticed that an URL is made and that it is the=20 URL=20 that is opened.=20 in the debugger I stopped on the error and noticed that in=20 Handler.openConnection(URL) the protocol is file but in the = URL(String,=20 String, String) that is called from this one, the protocol changed = into=20 ftp. (since no ftp server is running on the windows machine, this = error=20 is=20 logical)=20 I tried to do=20 document =3D reader.read(filereader);=20 but even when I pass an inputstream that is open and has access to the = file, an URL is made and used.=20 I hope someone can help me with this.=20 Thank you=20 Hans=20 -------------------------------------------------------=20 This SF.NET email is sponsored by:=20 SourceForge Enterprise Edition + IBM + LinuxWorld =3D Something 2 See! = http://www.vasoftware.com=20 _______________________________________________=20 dom4j-user mailing list=20 dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user=20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Cannot read file on windows server</header>
    <date>Tue Jan 21 14:28:00 CET 2003</date>
    <body>for the help, but it does not solve the problem completely.&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;&amp;amp;nbsp;&amp;lt;/= P&amp;gt;&amp;lt;P&amp;gt;I did some debugging and indeed with file:////server/path/xmlfile.xml = it doesn't try to do an ftp, but my filename gets changed to&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;/server/= path/xmlfile.xml&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;The // that I need to indicate a network path in win= dows is lost &amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;&amp;lt;BR&amp;gt;hans&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D2&amp;gt;&amp;lt;B&amp;gt;&amp;amp;quot;James Strach= an&amp;amp;quot; &amp;amp;lt;james=5Fstrachan@... SIZE=3D2&amp;gt;= Sent by: dom4j-user-admin@... SIZE=3D2&amp;gt;21= /01/2003 14:11 GMT&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt; &amp;lt;FONT SIZE=3D2&amp;gt;To:&amp;lt;/FONT&amp;gt; &amp;lt;FONT SIZE=3D2&amp;gt;= &amp;amp;quot;Keysers, Wonne&amp;amp;quot; &amp;amp;lt;wonne.keysers@...;, &amp;amp;lt;dom4j= -user@...&amp;gt; &amp;lt;FONT SIZE=3D2&amp;gt;cc:&amp;lt;/FONT&amp;gt; &amp;lt;BR&amp;gt; &amp;lt;= FONT SIZE=3D2&amp;gt;bcc:&amp;lt;/FONT&amp;gt; &amp;lt;BR&amp;gt; &amp;lt;FONT SIZE=3D2&amp;gt;Subject:&amp;lt;/FONT&amp;gt; &amp;lt;FONT SIZE=3D= 2&amp;gt;Re: [dom4j-user] Cannot read file on windows server&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt; &amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;/= P&amp;gt;&amp;lt;P&amp;gt;Agreed. The read method can take a File, a URL, or a String url as wel= l as an InputStream or Reader&amp;amp;nbsp;- though the first 3 are preferred as it= gives the default EntityResolver implementation a chance..&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SI= ZE=3D4&amp;gt;James&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt;-------&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D4 COLO= R=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF= 3Dhttp://radio.weblogs.com/0112098/&amp;gt;http://radio.weblog= s.com/0112098/&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLACK&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt;= be&amp;gt;Keysers, Wonne&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4 COLOR=3DBLACK&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;F= ONT SIZE=3D4&amp;gt;&amp;lt;B&amp;gt;To:&amp;lt;/B&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4 COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmai= lto:'dom4j-user@... '&amp;gt;'dom4j-user@... &amp;lt;= /A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLACK&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt;&amp;lt;B&amp;gt;Sent:&amp;lt;/B&amp;gt; Tu= esday, January 21, 2003 11:14 AM&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt;&amp;lt;B&amp;gt;Subject:&amp;lt;/B&amp;gt; R= E: [dom4j-user] Cannot read file on windows server&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;Hi (Dag :-= ) Hans,&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;I believe this should work:&amp;lt;FONT SIZE= =3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;reader.read( new URL(&amp;amp;quot;&amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF= = 3Dfile:////server/path/file.xml&amp;gt;file:////server/path/file.xml&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FON= T&amp;gt;&amp;lt;FONT COLOR=3DBLACK&amp;gt;&amp;amp;quot;) );&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;Wonne= FONT&amp;gt;&amp;lt;BR&amp;gt;From: &amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmailto:Hans.Vanbellingen@...= ria.be&amp;gt;Hans.Vanbellingen@... SIZE=3D4 COLOR=3DBLA= CK&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;To: &amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmailto:dom4j-user@....= sourceforge.net&amp;gt;dom4j-user@... SIZE= =3D4 COLOR=3DBLACK&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;Sent: 1/21/2003 11:26 AM&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FO= NT&amp;gt;&amp;lt;BR&amp;gt;Subject: [dom4j-user] Cannot read file on windows server&amp;lt;FONT SIZE= =3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;Hello,&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;I want to access = open an xml file located on a distant server &amp;lt;BR&amp;gt;\\server\path\myxml.xml&amp;amp;qu= ot;.&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;If I try to open the file with the java File= class, all goes perfectly&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;well.&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;= /FONT&amp;gt;&amp;lt;BR&amp;gt;If I try to execute following code I get a connection error:&amp;lt;FONT= SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; f =3D = new File(=5FfileName);&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;n= nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; throw new error&amp;lt;FONT = =3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; reader =3D new = SAXReader();&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;= &amp;amp;nbsp; document =3D reader.read(&amp;amp;quot;file:&amp;amp;quot;.concat(=5FfileName));&amp;lt;FON= T SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;If the last line contains &amp;amp;quot;file:&amp;amp;quot; or n= ot does not make a difference.&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;After some debuggi= ng I noticed that an URL is made and that it is the&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;= BR&amp;gt;URL&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;that is opened.&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;= in the debugger I stopped on the error and noticed that in&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;= /FONT&amp;gt;&amp;lt;BR&amp;gt;Handler.openConnection(URL) the protocol is file but in the URL(S= tring,&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;String, String) that is called from this o= ne, the protocol changed into&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;ftp. (since no ftp = server is running on the windows machine, this error&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;= ried to do&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;n= bsp; document =3D reader.read(filereader);&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;but ev= en when I pass an inputstream that is open and has access to the&amp;lt;FONT SIZE= =3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;file, an URL is made and used.&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;= BR&amp;gt;I hope someone can help me with this.&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;Than= k you&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;Hans&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;----= ---------------------------------------------------&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;= BR&amp;gt;This SF.NET email is sponsored by:&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;SourceForge= Enterprise Edition + IBM + LinuxWorld =3D Something 2 See!&amp;lt;FONT SIZE=3D4&amp;gt; = 3Dhttp://www.vasoftware.com&amp;gt;http:/= /www.vasoftware.com&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4 COLOR=3DBLACK&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;= =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F= =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F&amp;lt;FONT SIZ= E=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;dom4j-user mailing list&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;dom4j-u= ser@... SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;= A HREF= 3Dhttps://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;gt;https://li= sts.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4 = COLOR=3DBLACK&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;/P&amp;gt;=</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Cannot read file on windows server</header>
    <date>Tue Jan 21 14:46:00 CET 2003</date>
    <body>Hi This works fine on NT: I'm not sure, but if you work on Unix, it might also be: Best regards Wonne -----Original Message----- From: Hans.Vanbellingen@... To: James Strachan Cc: Keysers, Wonne; dom4j-user@... Sent: 1/21/2003 3:40 PM Subject: Re: [dom4j-user] Cannot read file on windows server Hello, Wonne, James Thank you (dank u ;) for the help, but it does not solve the problem completely. I did some debugging and indeed with file:////server/path/xmlfile.xml it doesn't try to do an ftp, but my filename gets changed to /server/path/xmlfile.xml The // that I need to indicate a network path in windows is lost hans Sent by: dom4j-user-admin@... 21/01/2003 14:11 GMT To: "Keysers, Wonne" &amp;lt;wonne.keysers@...&amp;gt;, cc: bcc: Subject: Re: [dom4j-user] Cannot read file on windows server Agreed. The read method can take a File, a URL, or a String url as well as an InputStream or Reader - though the first 3 are preferred as it gives the default EntityResolver implementation a chance.. James ------- http://radio.weblogs.com/0112098/ http://radio.weblogs.com/0112098/ Sent: Tuesday, January 21, 2003 11:14 AM Subject: RE: [dom4j-user] Cannot read file on windows server Hi (Dag :-) Hans, I believe this should work: reader.read( new URL(" file:////server/path/file.xml file:////server/path/file.xml Wonne -----Original Message----- To: dom4j-user@... Sent: 1/21/2003 11:26 AM Subject: [dom4j-user] Cannot read file on windows server Hello, I want to access open an xml file located on a distant server \\server\path\myxml.xml". If I try to open the file with the java File class, all goes perfectly well. If I try to execute following code I get a connection error: throw new error If the last line contains "file:" or not does not make a difference. After some debugging I noticed that an URL is made and that it is the URL that is opened. in the debugger I stopped on the error and noticed that in Handler.openConnection(URL) the protocol is file but in the URL(String, String, String) that is called from this one, the protocol changed into ftp. (since no ftp server is running on the windows machine, this error is logical) I tried to do but even when I pass an inputstream that is open and has access to the file, an URL is made and used. I hope someone can help me with this. Thank you Hans ------------------------------------------------------- This SF.NET email is sponsored by: SourceForge Enterprise Edition + IBM + LinuxWorld = Something 2 See! http://www.vasoftware.com http://www.vasoftware.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Cannot read file on windows server</header>
    <date>Tue Jan 21 15:23:00 CET 2003</date>
    <body>er();&amp;lt;BR&amp;gt; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;Document document =3D reader.read(new = URL(&amp;amp;quot;file&amp;amp;quot;, &amp;amp;quot;server&amp;amp;quot;, &amp;amp;quot;/path/xmlfile.xml&amp;amp;quot;));&amp;lt;= /P&amp;gt;&amp;lt;P&amp;gt;&amp;amp;nbsp;&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;stacktrace&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;Thread[main,5,main] (Vivant): Exception= d&amp;amp;eacute;tect&amp;amp;eacute;e : java.lang.ClassNotFoundException&amp;lt;BR&amp;gt;Class.forName= 0(String, boolean, ClassLoader)&amp;lt;BR&amp;gt;Class.forName(String)&amp;lt;BR&amp;gt;URL.getURLStrea= mHandler(String)&amp;lt;BR&amp;gt;URL(String, String, int, String, URLStreamHandler)&amp;lt;BR&amp;gt;U= RL(String, String, int, String)&amp;lt;BR&amp;gt;URL(String, String, String) &amp;amp;nbsp; &amp;amp;nbsp= ; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;(2)&amp;lt;BR&amp;gt;Handler.openConnection(UR= L) &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;(1)&amp;lt;BR&amp;gt;URL.openConnection()&amp;lt;BR&amp;gt;XmlPars= er.pushURL(String, String, String, Reader, InputStream, String)&amp;lt;BR&amp;gt;XmlParse= r.doParse(String, String, Reader, InputStream, String)&amp;lt;BR&amp;gt;SAXDriver.parse(I= nputSource)&amp;lt;BR&amp;gt;SAXReader.read(InputSource)&amp;lt;BR&amp;gt;SAXReader.read(URL)&amp;lt;BR&amp;gt;Test.m= ain(String [])&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;&amp;amp;nbsp;&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;at (1) the protocol =3D file; at (2) the = protocol equals ftp&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;&amp;amp;nbsp;&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;I'm on windows&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;and the ultimat= e goal is to load a file when I only now \\server\\path\\xmlfile.xml&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;= &amp;amp;nbsp;&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;hans&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D2&amp;gt;&amp;lt;B&amp;gt;&amp;amp;quot;Keysers, Wonne&amp;amp;quot= ; &amp;amp;lt;wonne.keysers@... SIZE=3D2&amp;gt;Sent b= y: dom4j-user-admin@... SIZE=3D2&amp;gt;21/01/20= 03 15:40&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt; &amp;lt;FONT SIZE=3D2&amp;gt;To:&amp;lt;/FONT&amp;gt; &amp;lt;FONT SIZE=3D2&amp;gt;&amp;amp;quot;'dom= 4j-user@... '&amp;amp;quot; &amp;amp;lt;dom4j-user@...;= gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt; &amp;lt;FONT SIZE=3D2&amp;gt;cc:&amp;lt;/FONT&amp;gt; &amp;lt;BR&amp;gt; &amp;lt;FONT SIZE=3D2&amp;gt;bcc:&amp;lt;/FONT&amp;gt; &amp;lt;B= R&amp;gt; &amp;lt;FONT SIZE=3D2&amp;gt;Subject:&amp;lt;/FONT&amp;gt; &amp;lt;FONT SIZE=3D2&amp;gt;RE: [dom4j-user] Cannot re= ad file on windows server&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt; &amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;Hi&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FON= T&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;This works fine on NT:&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;reader.read( new= URL( &amp;amp;quot;file&amp;amp;quot;, &amp;amp;quot;host&amp;amp;quot;, &amp;amp;quot;/full/path/file.xml&amp;amp;quot;) = );&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;I'm not sure, but if you work on Unix, it = might also be:&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;reader.read( new URL( &amp;amp;quot;smb&amp;amp;qu= ot;, &amp;amp;quot;host&amp;amp;quot;, &amp;amp;quot;/full/path/file.xml&amp;amp;quot;) );&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;= /FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;Best regards&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;Wonne&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;= /FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;-----Original Message-----&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;From: Ha= ns.Vanbellingen@... SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;To: James Strachan&amp;lt;FONT= SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;Cc: Keysers, Wonne; dom4j-user@...;= FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;Sent: 1/21/2003 3:40 PM&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR= it does not solve the problem&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;completely.&amp;lt;FONT S= IZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;I did some debugging= and indeed with &amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF= 3Dfile:////server/path/xmlfi= file:////server/path/xmlfile.xml&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLACK&amp;gt; = it&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;doesn't try to do an ftp, but my filena= me gets changed to&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;/server/path/xmlfile.xml&amp;lt;F= ONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;The // that I need to indicate a network path = in windows is lost &amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;hans&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;amp;quot;James S= trachan&amp;amp;quot; &amp;amp;lt;james=5Fstrachan@... SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;B= R&amp;gt;Sent by: dom4j-user-admin@... SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR= e&amp;amp;quot; &amp;amp;lt;wonne.keysers@... SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;amp;l= t;dom4j-user@... SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;cc: &amp;lt;BR&amp;gt;bc= c: &amp;lt;BR&amp;gt;Subject: Re: [dom4j-user] Cannot read file on windows server&amp;lt;FONT SI= ZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;Agreed. The read method can take a File, a U= RL, or a String url as well&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;as an InputStream or = Reader - though the first 3 are preferred as it&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;g= ives the default EntityResolver implementation a chance..&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/= FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;James&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;-------&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;= 3Dhttp://radio.weblogs.com/0112098/&amp;gt;http:= //radio.weblogs.com/0112098/&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLACK&amp;gt; &amp;amp;lt;&amp;lt;/FONT&amp;gt;= 3Dhttp://radio.weblogs.com/0112098/&amp;gt;http://ra= dio.weblogs.com/0112098/&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLACK&amp;gt;&amp;amp;gt; &amp;lt;BR&amp;gt;----- O= riginal Message ----- &amp;lt;BR&amp;gt;From: Keysers, Wonne &amp;amp;lt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLU= E&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmailto:wonne.keysers@...= alsoftware.be&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLACK&amp;gt;&amp;amp;gt;&amp;amp;nbsp; &amp;lt;BR&amp;gt;To: 'dom4j-u= ser@...; &amp;amp;lt;mailto:&amp;amp;gt; &amp;lt;BR&amp;gt;Sent: Tuesday, January = 21, 2003 11:14 AM&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;Subject: RE: [dom4j-user= ] Cannot read file on windows server&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;Hi (Dag = :-) Hans, &amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;I believe this should work: &amp;lt;BR&amp;gt;reader.read( new URL(&amp;amp;quo= t; &amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF= 3Dfile:////server/path/file.xml&amp;gt;file:////s= erver/path/file.xml&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4 COLOR=3DBLACK&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;= &amp;amp;lt;&amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF= 3Dfile:////server/path/file.xml&amp;gt;file:////= server/path/file.xml&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLACK&amp;gt;&amp;amp;gt; &amp;amp;quot;) ); &amp;lt;BR&amp;gt;= eria.be &amp;amp;lt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmailto:Hans.Vanbellingen= @steria.be&amp;gt;mailto:Hans.Vanbellingen@... COLOR=3DB= LACK&amp;gt;&amp;amp;gt;&amp;amp;nbsp; &amp;lt;BR&amp;gt;To: dom4j-user@... SIZE= =3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;amp;lt;&amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmailto:dom4j-user@...= s.sourceforge.net&amp;gt;mailto:dom4j-user@...= NT COLOR=3DBLACK&amp;gt;&amp;amp;gt;&amp;amp;nbsp; &amp;lt;BR&amp;gt;Sent: 1/21/2003 11:26 AM &amp;lt;BR&amp;gt;Subject: [dom4= j-user] Cannot read file on windows server &amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;Hello, &amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;I want to= access open an xml file located on a distant server &amp;lt;BR&amp;gt;\\server\path\myxm= l.xml&amp;amp;quot;. &amp;lt;BR&amp;gt;If I try to open the file with the java File class, all go= es perfectly &amp;lt;BR&amp;gt;well. &amp;lt;BR&amp;gt;If I try to execute following code I get a conne= ction error: &amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; f =3D new F= ile(=5FfileName); &amp;lt;BR&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; if (!f.exi= nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; reader =3D new SAXReader(); &amp;lt;BR&amp;gt;&amp;amp;= nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; document =3D reader.read(&amp;amp;quot;fi= le:&amp;amp;quot;.concat(=5FfileName)); &amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;If the last line contains &amp;amp;quot;fil= e:&amp;amp;quot; or not does not make a difference. &amp;lt;BR&amp;gt;After some debugging I noti= ced that an URL is made and that it is the &amp;lt;BR&amp;gt;URL &amp;lt;BR&amp;gt;that is opened. &amp;lt;BR&amp;gt;= in the debugger I stopped on the error and noticed that in &amp;lt;BR&amp;gt;Handler.open= Connection(URL) the protocol is file but in the URL(String, &amp;lt;BR&amp;gt;String, Str= ing) that is called from this one, the protocol changed into &amp;lt;BR&amp;gt;ftp. (sinc= e no ftp server is running on the windows machine, this error &amp;lt;BR&amp;gt;is &amp;lt;BR&amp;gt;lo= gical) &amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;I tried to do &amp;lt;BR&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;= document =3D reader.read(filereader); &amp;lt;BR&amp;gt;but even when I pass an inputstr= eam that is open and has access to the &amp;lt;BR&amp;gt;file, an URL is made and used. &amp;lt;= BR&amp;gt;&amp;lt;BR&amp;gt;I hope someone can help me with this. &amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;Thank you &amp;lt;BR&amp;gt;Hans &amp;lt;BR= T email is sponsored by: &amp;lt;BR&amp;gt;SourceForge Enterprise Edition + IBM + LinuxWo= rld =3D Something 2 See! &amp;lt;BR&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF= 3Dhttp://= http://www.vasoftware.com&amp;gt;http://www.vasoftware.com&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBL= ACK&amp;gt; &amp;amp;lt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF= 3Dhttp://www.vasoftware.com&amp;gt;h= ttp://www.vasoftware.com&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLACK&amp;gt;&amp;amp;gt;&amp;amp;nbsp; &amp;lt;BR&amp;gt;= =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F= =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F &amp;lt;BR&amp;gt;dom4= j-user mailing list &amp;lt;BR&amp;gt;dom4j-user@... &amp;lt;BR&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT C= OLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF= 3Dhttps://lists.sourceforge.net/lists/listinfo/dom4j= https://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT= = 3Dhttps://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;gt;https://lists.so= urceforge.net/lists/listinfo/dom4j-user&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLACK&amp;gt;&amp;amp;= gt;&amp;amp;nbsp; &amp;lt;/FONT&amp;gt;&amp;lt;/P&amp;gt;=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Cannot read file on windows server</header>
    <date>Tue Jan 21 16:37:00 CET 2003</date>
    <body>"server" is a directory name right? And this is all available on the = local file system? Why not just try using Unix style paths on windows which often gets = around the backslash woes. James ------- http://radio.weblogs.com/0112098/ From: Hans.Vanbellingen@... To: Keysers, Wonne=20 Cc: 'dom4j-user@... '=20 Sent: Tuesday, January 21, 2003 3:35 PM Subject: RE: [dom4j-user] Cannot read file on windows server I tried what you said and I'm back in situation number 1 (ftp) code: Document document =3D reader.read(new URL("file", "server", = stacktrace Thread[main,5,main] (Vivant): Exception d=E9tect=E9e : = java.lang.ClassNotFoundException Class.forName0(String, boolean, ClassLoader) Class.forName(String) URL.getURLStreamHandler(String) URL(String, String, int, String, URLStreamHandler) URL(String, String, int, String) URL(String, String, String)                (2) Handler.openConnection(URL)          (1) URL.openConnection() XmlParser.pushURL(String, String, String, Reader, InputStream, String) XmlParser.doParse(String, String, Reader, InputStream, String) SAXDriver.parse(InputSource) SAXReader.read(InputSource) SAXReader.read(URL) Test.main(String []) at (1) the protocol =3D file; at (2) the protocol equals ftp I'm on windows and the ultimate goal is to load a file when I only now = \\server\\path\\xmlfile.xml hans Sent by: dom4j-user-admin@... 21/01/2003 15:40 To: "'dom4j-user@... '" = cc:=20 bcc:=20 Subject: RE: [dom4j-user] Cannot read file on windows server Hi=20 This works fine on NT:=20 reader.read( new URL( "file", "host", "/full/path/file.xml") );=20 I'm not sure, but if you work on Unix, it might also be:=20 reader.read( new URL( "smb", "host", "/full/path/file.xml") );=20 Best regards=20 Wonne=20 -----Original Message-----=20 From: Hans.Vanbellingen@... To: James Strachan=20 Cc: Keysers, Wonne; dom4j-user@... Sent: 1/21/2003 3:40 PM=20 Subject: Re: [dom4j-user] Cannot read file on windows server=20 Hello,=20 Wonne, James=20 Thank you (dank u ;) for the help, but it does not solve the problem=20 completely.=20 I did some debugging and indeed with file:////server/path/xmlfile.xml = it=20 doesn't try to do an ftp, but my filename gets changed to=20 /server/path/xmlfile.xml=20 The // that I need to indicate a network path in windows is lost=20 hans=20 "James Strachan" &amp;lt;james_strachan@... Sent by: dom4j-user-admin@... 21/01/2003 14:11 GMT=20 To: "Keysers, Wonne" &amp;lt;wonne.keysers@... cc:=20 bcc:=20 Subject: Re: [dom4j-user] Cannot read file on windows server=20 Agreed. The read method can take a File, a URL, or a String url as = well=20 as an InputStream or Reader - though the first 3 are preferred as it=20 gives the default EntityResolver implementation a chance..=20 James=20 -------=20 http://radio.weblogs.com/0112098/ http://radio.weblogs.com/0112098/&amp;gt;=20 From: Keysers, Wonne &amp;lt;mailto:wonne.keysers@...&amp;gt; =20 To: 'dom4j-user@...  &amp;lt;mailto:&amp;gt;=20 Sent: Tuesday, January 21, 2003 11:14 AM=20 Subject: RE: [dom4j-user] Cannot read file on windows server=20 Hi (Dag :-) Hans,=20 I believe this should work:=20 reader.read( new URL(" file:////server/path/file.xml=20 file:////server/path/file.xml &amp;gt; ") );=20 Wonne=20 -----Original Message-----=20 From: Hans.Vanbellingen@... &amp;lt;mailto:Hans.Vanbellingen@...&amp;gt; = =20 To: dom4j-user@... Sent: 1/21/2003 11:26 AM=20 Subject: [dom4j-user] Cannot read file on windows server=20 Hello,=20 I want to access open an xml file located on a distant server=20 \\server\path\myxml.xml".=20 If I try to open the file with the java File class, all goes perfectly = well.=20 If I try to execute following code I get a connection error:=20 f =3D new File(_fileName);=20 throw new error=20 reader =3D new SAXReader();=20 document =3D reader.read("file:".concat(_fileName));=20 If the last line contains "file:" or not does not make a difference.=20 After some debugging I noticed that an URL is made and that it is the=20 URL=20 that is opened.=20 in the debugger I stopped on the error and noticed that in=20 Handler.openConnection(URL) the protocol is file but in the = URL(String,=20 String, String) that is called from this one, the protocol changed = into=20 ftp. (since no ftp server is running on the windows machine, this = error=20 is=20 logical)=20 I tried to do=20 document =3D reader.read(filereader);=20 but even when I pass an inputstream that is open and has access to the = file, an URL is made and used.=20 I hope someone can help me with this.=20 Thank you=20 Hans=20 -------------------------------------------------------=20 This SF.NET email is sponsored by:=20 SourceForge Enterprise Edition + IBM + LinuxWorld =3D Something 2 See! = http://www.vasoftware.com http://www.vasoftware.com &amp;gt; =20 _______________________________________________=20 dom4j-user mailing list=20 dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user=20 https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt; =20 ------------------------------------------------------- This SF.net = email is sponsored by: Scholarships for Techies! Can't afford IT = training? All 2003 ictp students receive scholarships. Get hands-on = training in Microsoft, Cisco, Sun, Linux/UNIX, and more. = http://www.ictp.com/training/sourceforge.asp = _______________________________________________ dom4j-user mailing list = dom4j-user@... = https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Cannot read file on windows server</header>
    <date>Tue Jan 21 16:51:00 CET 2003</date>
    <body>I've never tried to upen those kinds of URIs in Java yet so can't really = help. My only tip could be to try encoding the \\. e.g. James ------- http://radio.weblogs.com/0112098/ From: Hans.Vanbellingen@... To: James Strachan=20 Sent: Tuesday, January 21, 2003 4:54 PM Subject: Re: [dom4j-user] Cannot read file on windows server No, server means really a server name it is like in the windows explorer \\server\path\file if I use something like /path/file or d:/path/file everything works = fine hans 21/01/2003 16:36 GMT To: "Keysers, Wonne" &amp;lt;wonne.keysers@...&amp;gt;, = bcc:=20 Subject: Re: [dom4j-user] Cannot read file on windows server "server" is a directory name right? And this is all available on the = local file system? Why not just try using Unix style paths on windows which often gets = around the backslash woes. James ------- http://radio.weblogs.com/0112098/ From: Hans.Vanbellingen@... To: Keysers, Wonne=20 Cc:=20 Sent: Tuesday, January 21, 2003 3:35 PM Subject: RE: [dom4j-user] Cannot read file on windows server I tried what you said and I'm back in situation number 1 (ftp) code: Document document =3D reader.read(new URL("file", "server", = stacktrace Thread[main,5,main] (Vivant): Exception d=E9tect=E9e : = java.lang.ClassNotFoundException Class.forName0(String, boolean, ClassLoader) Class.forName(String) URL.getURLStreamHandler(String) URL(String, String, int, String, URLStreamHandler) URL(String, String, int, String) URL(String, String, String)                (2) Handler.openConnection(URL)          (1) URL.openConnection() XmlParser.pushURL(String, String, String, Reader, InputStream, String) XmlParser.doParse(String, String, Reader, InputStream, String) SAXDriver.parse(InputSource) SAXReader.read(InputSource) SAXReader.read(URL) Test.main(String []) at (1) the protocol =3D file; at (2) the protocol equals ftp I'm on windows and the ultimate goal is to load a file when I only now = \\server\\path\\xmlfile.xml hans Sent by: dom4j-user-admin@... 21/01/2003 15:40 To: "'dom4j-user@... '" = cc:=20 bcc:=20 Subject: RE: [dom4j-user] Cannot read file on windows server Hi=20 This works fine on NT:=20 reader.read( new URL( "file", "host", "/full/path/file.xml") );=20 I'm not sure, but if you work on Unix, it might also be:=20 reader.read( new URL( "smb", "host", "/full/path/file.xml") );=20 Best regards=20 Wonne=20 -----Original Message-----=20 From: Hans.Vanbellingen@... To: James Strachan=20 Cc: Keysers, Wonne; dom4j-user@... Sent: 1/21/2003 3:40 PM=20 Subject: Re: [dom4j-user] Cannot read file on windows server=20 Hello,=20 Wonne, James=20 Thank you (dank u ;) for the help, but it does not solve the problem=20 completely.=20 I did some debugging and indeed with file:////server/path/xmlfile.xml = it=20 doesn't try to do an ftp, but my filename gets changed to=20 /server/path/xmlfile.xml=20 The // that I need to indicate a network path in windows is lost=20 hans=20 "James Strachan" &amp;lt;james_strachan@... Sent by: dom4j-user-admin@... 21/01/2003 14:11 GMT=20 To: "Keysers, Wonne" &amp;lt;wonne.keysers@... cc:=20 bcc:=20 Subject: Re: [dom4j-user] Cannot read file on windows server=20 Agreed. The read method can take a File, a URL, or a String url as = well=20 as an InputStream or Reader - though the first 3 are preferred as it=20 gives the default EntityResolver implementation a chance..=20 James=20 -------=20 http://radio.weblogs.com/0112098/ http://radio.weblogs.com/0112098/&amp;gt;=20 From: Keysers, Wonne &amp;lt;mailto:wonne.keysers@...&amp;gt; =20 To: 'dom4j-user@...  &amp;lt;mailto:&amp;gt;=20 Sent: Tuesday, January 21, 2003 11:14 AM=20 Subject: RE: [dom4j-user] Cannot read file on windows server=20 Hi (Dag :-) Hans,=20 I believe this should work:=20 reader.read( new URL(" file:////server/path/file.xml=20 file:////server/path/file.xml &amp;gt; ") );=20 Wonne=20 -----Original Message-----=20 From: Hans.Vanbellingen@... &amp;lt;mailto:Hans.Vanbellingen@...&amp;gt; = =20 To: dom4j-user@... Sent: 1/21/2003 11:26 AM=20 Subject: [dom4j-user] Cannot read file on windows server=20 Hello,=20 I want to access open an xml file located on a distant server=20 \\server\path\myxml.xml".=20 If I try to open the file with the java File class, all goes perfectly = well.=20 If I try to execute following code I get a connection error:=20 f =3D new File(_fileName);=20 throw new error=20 reader =3D new SAXReader();=20 document =3D reader.read("file:".concat(_fileName));=20 If the last line contains "file:" or not does not make a difference.=20 After some debugging I noticed that an URL is made and that it is the=20 URL=20 that is opened.=20 in the debugger I stopped on the error and noticed that in=20 Handler.openConnection(URL) the protocol is file but in the = URL(String,=20 String, String) that is called from this one, the protocol changed = into=20 ftp. (since no ftp server is running on the windows machine, this = error=20 is=20 logical)=20 I tried to do=20 document =3D reader.read(filereader);=20 but even when I pass an inputstream that is open and has access to the = file, an URL is made and used.=20 I hope someone can help me with this.=20 Thank you=20 Hans=20 -------------------------------------------------------=20 This SF.NET email is sponsored by:=20 SourceForge Enterprise Edition + IBM + LinuxWorld =3D Something 2 See! = http://www.vasoftware.com http://www.vasoftware.com &amp;gt; =20 _______________________________________________=20 dom4j-user mailing list=20 dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user=20 https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt; =20 ------------------------------------------------------- This SF.net = email is sponsored by: Scholarships for Techies! Can't afford IT = training? All 2003 ictp students receive scholarships. Get hands-on = training in Microsoft, Cisco, Sun, Linux/UNIX, and more. = http://www.ictp.com/training/sourceforge.asp = _______________________________________________ dom4j-user mailing list = dom4j-user@... = https://lists.sourceforge.net/lists/listinfo/dom4j-user=20</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Cannot read file on windows server</header>
    <date>Tue Jan 21 16:56:00 CET 2003</date>
    <body>why you don't used the file protocol: =20 =20 Othmane -----Message d'origine----- De : James Strachan [mailto:james_strachan@...] Envoy=E9 : mardi 21 janvier 2003 17:51 =C0 : Hans.Vanbellingen@...; dom4j-user@... Objet : Re: [dom4j-user] Cannot read file on windows server I've never tried to upen those kinds of URIs in Java yet so can't = really help. My only tip could be to try encoding the \\. =20 e.g. =20 James ------- http://radio.weblogs.com/0112098/ http://radio.weblogs.com/0112098/&amp;gt;=20 From: Hans.Vanbellingen@... &amp;lt;mailto:Hans.Vanbellingen@...&amp;gt;  = To: James Strachan &amp;lt;mailto:james_strachan@...&amp;gt; =20 Sent: Tuesday, January 21, 2003 4:54 PM Subject: Re: [dom4j-user] Cannot read file on windows server No, server means really a server name it is like in the windows explorer \\server\path\file file://\\server\path\file&amp;gt;=20 if I use something like /path/file or d:/path/file everything works = fine =20 hans "James Strachan" &amp;lt; james_strachan@... 21/01/2003 16:36 GMT To: "Keysers, Wonne" &amp;lt; wonne.keysers@... cc: &amp;lt; dom4j-user@... bcc:=20 Subject: Re: [dom4j-user] Cannot read file on windows server "server" is a directory name right? And this is all available on the = local file system? Why not just try using Unix style paths on windows which often gets = around the backslash woes. James ------- http://radio.weblogs.com/0112098/ http://radio.weblogs.com/0112098/&amp;gt;=20 From: Hans.Vanbellingen@... &amp;lt;mailto:Hans.Vanbellingen@...&amp;gt;  = To: Keysers,  &amp;lt;mailto:wonne.keysers@...&amp;gt; Wonne=20 Cc:  &amp;lt;mailto:'dom4j-user@... Sent: Tuesday, January 21, 2003 3:35 PM Subject: RE: [dom4j-user] Cannot read file on windows server I tried what you said and I'm back in situation number 1 (ftp) code: Document document =3D reader.read(new URL("file", "server", stacktrace Thread[main,5,main] (Vivant): Exception d=E9tect=E9e : java.lang.ClassNotFoundException Class.forName0(String, boolean, ClassLoader) Class.forName(String) URL.getURLStreamHandler(String) URL(String, String, int, String, URLStreamHandler) URL(String, String, int, String) URL(String, String, String)                (2) Handler.openConnection(URL)          (1) URL.openConnection() XmlParser.pushURL(String, String, String, Reader, InputStream, String) XmlParser.doParse(String, String, Reader, InputStream, String) SAXDriver.parse(InputSource) SAXReader.read(InputSource) SAXReader.read(URL) Test.main(String []) at (1) the protocol =3D file; at (2) the protocol equals ftp I'm on windows and the ultimate goal is to load a file when I only now \\server\\path\\xmlfile.xml hans Sent by: dom4j-user-admin@... 21/01/2003 15:40 To: "'dom4j-user@... '" = cc:=20 bcc:=20 Subject: RE: [dom4j-user] Cannot read file on windows server Hi=20 This works fine on NT:=20 reader.read( new URL( "file", "host", "/full/path/file.xml") );=20 I'm not sure, but if you work on Unix, it might also be:=20 reader.read( new URL( "smb", "host", "/full/path/file.xml") );=20 Best regards=20 Wonne=20 -----Original Message-----=20 From: Hans.Vanbellingen@... To: James Strachan=20 Cc: Keysers, Wonne; dom4j-user@... Sent: 1/21/2003 3:40 PM=20 Subject: Re: [dom4j-user] Cannot read file on windows server=20 Hello,=20 Wonne, James=20 Thank you (dank u ;) for the help, but it does not solve the problem=20 completely.=20 I did some debugging and indeed with file:////server/path/xmlfile.xml file:////server/path/xmlfile.xml &amp;gt;  it=20 doesn't try to do an ftp, but my filename gets changed to=20 /server/path/xmlfile.xml=20 The // that I need to indicate a network path in windows is lost=20 hans=20 "James Strachan" &amp;lt;james_strachan@... Sent by: dom4j-user-admin@... 21/01/2003 14:11 GMT=20 To: "Keysers, Wonne" &amp;lt;wonne.keysers@... cc:=20 bcc:=20 Subject: Re: [dom4j-user] Cannot read file on windows server=20 Agreed. The read method can take a File, a URL, or a String url as well = as an InputStream or Reader - though the first 3 are preferred as it=20 gives the default EntityResolver implementation a chance..=20 James=20 -------=20 http://radio.weblogs.com/0112098/ http://radio.weblogs.com/0112098/ &amp;gt;  = http://radio.weblogs.com/0112098/ http://radio.weblogs.com/0112098/ &amp;gt; &amp;gt; = From: Keysers, Wonne &amp;lt; mailto:wonne.keysers@... To: 'dom4j-user@...  &amp;lt;mailto:&amp;gt;=20 Sent: Tuesday, January 21, 2003 11:14 AM=20 Subject: RE: [dom4j-user] Cannot read file on windows server=20 Hi (Dag :-) Hans,=20 I believe this should work:=20 reader.read( new URL(" file:////server/path/file.xml file:////server/path/file.xml &amp;gt; =20 file:////server/path/file.xml file:////server/path/file.xml &amp;gt; &amp;gt; ") ); = Wonne=20 -----Original Message-----=20 From: Hans.Vanbellingen@... &amp;lt; mailto:Hans.Vanbellingen@... To: dom4j-user@... Sent: 1/21/2003 11:26 AM=20 Subject: [dom4j-user] Cannot read file on windows server=20 Hello,=20 I want to access open an xml file located on a distant server=20 \\server\path\myxml.xml".=20 If I try to open the file with the java File class, all goes perfectly=20 well.=20 If I try to execute following code I get a connection error:=20 f =3D new File(_fileName);=20 throw new error=20 reader =3D new SAXReader();=20 document =3D reader.read("file:".concat(_fileName));=20 If the last line contains "file:" or not does not make a difference.=20 After some debugging I noticed that an URL is made and that it is the=20 URL=20 that is opened.=20 in the debugger I stopped on the error and noticed that in=20 Handler.openConnection(URL) the protocol is file but in the URL(String, = String, String) that is called from this one, the protocol changed into = ftp. (since no ftp server is running on the windows machine, this error = is=20 logical)=20 I tried to do=20 document =3D reader.read(filereader);=20 but even when I pass an inputstream that is open and has access to the=20 file, an URL is made and used.=20 I hope someone can help me with this.=20 Thank you=20 Hans=20 -------------------------------------------------------=20 This SF.NET email is sponsored by:=20 SourceForge Enterprise Edition + IBM + LinuxWorld =3D Something 2 See!=20 http://www.vasoftware.com http://www.vasoftware.com http://www.vasoftware.com http://www.vasoftware.com &amp;gt; &amp;gt; =20 _______________________________________________=20 dom4j-user mailing list=20 dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt; =20 https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt; &amp;gt; =20 ------------------------------------------------------- This SF.net = email is sponsored by: Scholarships for Techies! Can't afford IT training? All = 2003 ictp students receive scholarships. Get hands-on training in Microsoft, Cisco, Sun, Linux/UNIX, and more. http://www.ictp.com/training/sourceforge.asp _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt; =20</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Cannot read file on windows server</header>
    <date>Tue Jan 21 17:22:00 CET 2003</date>
    <body>file:////server/path/file , but then I get at some point &amp;amp;nbsp;/s= erver/path/file (even tried file://///server/path/file)&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;this makes me= loose the fact that server is the name of the server and not part an ordin= ary path.&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;&amp;amp;nbsp;&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;if I try to open the same file with: new File(= &amp;amp;quot;//server/path/file&amp;amp;quot;)&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;I have no problem at all accessing th= e file&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;&amp;amp;nbsp;&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;hans&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D2&amp;gt;&amp;lt;B&amp;gt;NADJEMI Othmane &amp;amp;lt= ;Othmane.NADJEMI@... SIZE=3D2&amp;gt;21/01/2003 17:54&amp;lt;/= FONT&amp;gt;&amp;lt;BR&amp;gt; &amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;/P&amp;gt;&amp;lt;P&amp;gt;why you don't used the file protocol:&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;reade= r.read(&amp;amp;quot;file:/you path&amp;amp;quot;);&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;Othmane&amp;lt;BR&amp;gt;-----Message d'origin= e-----&amp;lt;BR&amp;gt;&amp;lt;B&amp;gt;De&amp;amp;nbsp;:&amp;lt;/B&amp;gt; James Strachan [mailto:james=5Fstrachan@...= .uk]&amp;lt;BR&amp;gt;&amp;lt;B&amp;gt;Envoy&amp;amp;eacute;&amp;amp;nbsp;:&amp;lt;/B&amp;gt; mardi 21 janvier 2003 17:51&amp;lt;BR&amp;gt;&amp;lt;B&amp;gt;&amp;amp;Agra= ve;&amp;amp;nbsp;:&amp;lt;/B&amp;gt; Hans.Vanbellingen@...; dom4j-user@...= t&amp;lt;BR&amp;gt;&amp;lt;B&amp;gt;Objet&amp;amp;nbsp;:&amp;lt;/B&amp;gt; Re: [dom4j-user] Cannot read file on windows serve= r&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;I've never tried to upen those kinds of URIs in Java yet so ca= n't really help. My only tip could be to try encoding the \\.&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;e.g.&amp;lt;B= R&amp;gt;&amp;lt;BR&amp;gt;reader.read( &amp;amp;quot;\\\\server\\path\\file&amp;amp;quot; &amp;lt;FONT SIZE=3D4&amp;gt;);&amp;lt;/FO= NT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt;James&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt;-------&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;= 3Dhttp://radio.weblogs.com/0112098/&amp;gt;= http://radio.weblogs.com/0112098/&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLACK&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;/F= B&amp;gt;From:&amp;lt;/B&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4 COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmailto:Hans.Van= bellingen@... SIZE=3D= 4 COLOR=3DBLACK&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt;&amp;lt;B&amp;gt;To:&amp;lt;/B&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4= COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmailto:james=5Fstrachan@... Strach= an&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4 COLOR=3DBLACK&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt;&amp;lt;B= bject:&amp;lt;/B&amp;gt; Re: [dom4j-user] Cannot read file on windows server&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;B= R&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt;&amp;amp;nbsp;No, server means really a server name&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;= OR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF= 3Dfile://\server\path=0Cile&amp;gt;\\server\path\file&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;= like /path/file or d:/path/file everything works fine&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;B= R&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt;hans&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;B&amp;gt;&amp;amp;quot;James Strachan&amp;amp;quot; &amp;amp;lt;&amp;lt;/B&amp;gt;&amp;lt;= FONT COLOR=3DBLUE&amp;gt;&amp;lt;B&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmailto:james=5Fstrachan@...= =5Fstrachan@... COLOR=3DBLACK&amp;gt;&amp;lt;B&amp;gt;&amp;amp;gt;&amp;lt;/B&amp;gt;&amp;lt;B= R&amp;gt;21/01/2003 16:36 GMT&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;To:&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;amp;quot;Keyser= s, Wonne&amp;amp;quot; &amp;amp;lt;&amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmailto:wonne.keysers@...= lsoftware.be&amp;gt;wonne.keysers@... COLOR=3DBLAC= K&amp;gt;&amp;amp;gt;, &amp;amp;lt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmailto:Hans.Vanbellingen= @steria.be&amp;gt;Hans.Vanbellingen@... COLOR=3DBLACK&amp;gt;&amp;amp;g= t;&amp;lt;BR&amp;gt;cc:&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;&amp;amp;lt;&amp;lt;FONT COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3D= mailto:dom4j-user@...= BR&amp;gt;Subject:&amp;lt;FONT SIZE=3D4&amp;gt; &amp;lt;/FONT&amp;gt;Re: [dom4j-user] Cannot read file on wind= ows server&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt;&amp;amp;quot;server&amp;amp;quot; is a directory name= right? And this is all available on the local file system?&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;= FONT SIZE=3D4&amp;gt;Why not just try using Unix style paths on windows which ofte= n gets around the backslash woes.&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D4&amp;gt;Document doc= =3D reader.read( &amp;amp;quot;/&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;server/path/xmlfile.xml&amp;amp;quot= ; );&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;James&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;-------&amp;lt;/F= ONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF= 3Dhttp://radio.weblogs.com/0= http://radio.weblogs.com/0112098/&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT COLOR=3DBLACK= ZE=3D5&amp;gt;&amp;lt;B&amp;gt;From:&amp;lt;/B&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmailto:= Hans.Vanbellingen@...= SIZE=3D5 COLOR=3DBLACK&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;B&amp;gt;To:&amp;lt;/B&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;FONT = SIZE=3D5 COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;&amp;lt;A HREF=3Dmailto:wonne.keysers@...= sers, Wonne&amp;lt;/A&amp;gt;&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLACK&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SI= ZE=3D5&amp;gt;&amp;lt;B&amp;gt;Cc:&amp;lt;/B&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;B&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user= @lists.sourceforge.net&amp;gt;Sent:&amp;lt;/A&amp;gt;&amp;lt;/B&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= ceforge.net&amp;gt; Tuesday, January 21, 2003 3:35 PM&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5= REF=3Dmailto:'dom4j-user@...&amp;gt; RE: [dom4j-user] Cannot rea= d file on windows server&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:= 'dom4j-user@... tried what you said and I'm back = in situation number 1 (ftp)&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmail= to:'dom4j-user@... SIZE=3D5= bsp; SAXReader reader =3D new SAXReader();&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A = HREF=3Dmailto:'dom4j-user@...; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;= Document document =3D reader.read(new URL(&amp;amp;quot;file&amp;amp;quot;, &amp;amp;quot;server&amp;amp;qu= ot;, &amp;amp;quot;/path/xmlfile.xml&amp;amp;quot;));&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE= =3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= T&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= .ClassNotFoundException&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4= j-user@..., boolean, ClassLoader)&amp;lt;/= A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@....= net&amp;gt;Class.forName(String)&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'do= m4j-user@...= R&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= ing, String, int, String, URLStreamHandler)&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A= HREF=3Dmailto:'dom4j-user@..., String, int, S= tring)&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= ceforge.net&amp;gt;URL(String, String, String) &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; = &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;(2)&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4= j-user@...) &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbs= p; &amp;amp;nbsp; &amp;amp;nbsp;(1)&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-us= er@... SIZE=3D5&amp;gt;= , String, String, Reader, InputStream, String)&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5= g, String, Reader, InputStream, String)&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HRE= F=3Dmailto:'dom4j-user@...;/= A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@....= net&amp;gt;SAXReader.read(InputSource)&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmail= to:'dom4j-user@...= T SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= ing [])&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-us= er@... (1) the protocol =3D file; at (2) the protocol = equals ftp&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j= -user@... on windows&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5= s to load a file when I only now \\server\\path\\xmlfile.xml&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;= et&amp;gt;hans&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;B&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j= -user@..., Wonne&amp;amp;quot; &amp;amp;lt;wonne.keysers@...= alsoftware.be&amp;amp;gt;&amp;lt;/A&amp;gt;&amp;lt;/B&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-= user@... by: dom4j-user-admin@...;= /A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= .net&amp;gt;21/01/2003 15:40&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'do= m4j-user@...: &amp;amp;quot;'dom4j-user@... = '&amp;amp;quot; &amp;amp;lt;dom4j-user@... SIZE= =3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...: &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;= t&amp;gt;Subject: RE: [dom4j-user] Cannot read file on windows server&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;B= R&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= .net&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@....= sourceforge.net&amp;gt;This works fine on NT:&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt;&amp;lt;A HREF=3Dm= ailto:'dom4j-user@...&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A H= REF=3Dmailto:'dom4j-user@...( new URL( &amp;amp;quot;= file&amp;amp;quot;, &amp;amp;quot;host&amp;amp;quot;, &amp;amp;quot;/full/path/file.xml&amp;amp;quot;) );&amp;lt;/A&amp;gt;&amp;lt;/FONT= ONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= et&amp;gt;I'm not sure, but if you work on Unix, it might also be:&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT= SIZE=3D6&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;B= R&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@....= read( new URL( &amp;amp;quot;smb&amp;amp;quot;, &amp;amp;quot;host&amp;amp;quot;, &amp;amp;quot;/full/path/file.xml= &amp;amp;quot;) );&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= ceforge.net&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user= @lists.sourceforge.net&amp;gt;Best regards&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt;&amp;lt;A HREF=3Dmail= to:'dom4j-user@...&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF= =3Dmailto:'dom4j-user@... SIZE=3D6&amp;gt;= T SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= Message-----&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= ourceforge.net&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@= lists.sourceforge.net&amp;gt;From: Hans.Vanbellingen@... SIZ= E=3D6&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;F= ONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...: James S= trachan&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= orge.net&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@....= sourceforge.net&amp;gt;Cc: Keysers, Wonne; dom4j-user@...= ONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...&amp;gt; &amp;lt;/A&amp;gt;= t&amp;gt;Sent: 1/21/2003 3:40 PM&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-= user@...&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:= 'dom4j-user@...: Re: [dom4j-user] Cannot read fil= e on windows server&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= ists.sourceforge.net&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'d= om4j-user@... SIZE=3D6&amp;gt;&amp;lt;A HR= EF=3Dmailto:'dom4j-user@...&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;= FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@..., Jam= es &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= rceforge.net&amp;gt;Thank you (dank u ;) for the help, but it does not solve the p= roblem&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= rge.net&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j-user@...= ourceforge.net&amp;gt;completely.&amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt;&amp;lt;A HREF=3Dmailto:'dom4j= -user@...&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;lt;A H= REF=3Dmailto:'dom4j-user@... did some debugging and ind= file:////server/path/xml= file.xml&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt; it&amp;lt;/A&amp;gt;&amp;lt;/FON= T&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE= =3D5&amp;gt;doesn't try to do an ftp, but my filename gets changed to&amp;lt;/FONT&amp;gt;&amp;lt;FONT = SIZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;/server/path/xmlfile.xml&amp;lt;/FONT&amp;gt;&amp;lt;FON= T SIZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;The // that I need to indicate a = network path in windows is lost &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;hans&amp;lt;/FONT&amp;gt;&amp;lt;F= ONT SIZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;amp;quot;James Strachan&amp;amp;quot; &amp;amp;lt;= james=5Fstrachan@... SIZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZ= E=3D5&amp;gt;Sent by: dom4j-user-admin@... SIZE=3D6&amp;gt;= T&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;To: &amp;amp;quot;Keysers, Wonne&amp;amp;quot; &amp;amp;lt;wonne.keysers@...= ealsoftware.be&amp;amp;gt;,&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;amp;lt;dom= 4j-user@... SIZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SI= ZE=3D5&amp;gt;cc: &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;bcc: &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;Subject= : Re: [dom4j-user] Cannot read file on windows server&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt;= ile, a URL, or a String url as well&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT = SIZE=3D5&amp;gt;as an InputStream or Reader - though the first 3 are preferred as = it&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;gives the default Entity= Resolver implementation a chance..&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FO= NT SIZE=3D5&amp;gt;James&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;-------&amp;lt;/= http://r= adio.weblogs.com/0112098/&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3D= http://radio.weblogs.co= m/0112098/&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt;&amp;amp;gt; &amp;lt;/A&amp;gt;&amp;lt;= R=3DBLUE&amp;gt;&amp;lt;U&amp;gt;mailto:wonne.keysers@... SIZE=3D5 C= OLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt;&amp;amp;gt;&amp;amp;nbsp; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT = SIZE=3D5&amp;gt;To: 'dom4j-user@...; &amp;amp;lt;mailto:&amp;amp;gt; &amp;lt;/FONT= ZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;Subject: RE: [dom4j-user] Cannot read fil= e on windows server&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;Hi = (Dag :-) Hans, &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;I believe this should work: &amp;lt;/= FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;reader.read( new URL(&amp;amp;quot; &amp;lt;/FONT&amp;gt;&amp;lt;/A&amp;gt;&amp;lt;FONT SIZE= file:////server/path/file.xml&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6= COLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5= file:////server/path/file.xm= l&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt;&amp;amp;gt; &amp;amp;quot;) ); &amp;lt;/A= ZE=3D5&amp;gt;-----Original Message----- &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;From: Hans.Vanb= ellingen@... &amp;amp;lt;&amp;lt;/FONT&amp;gt;&amp;lt;/A&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;mailto:Han= s.Vanbellingen@... SIZE=3D5 COLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3Dn= ull&amp;gt;&amp;amp;gt;&amp;amp;nbsp; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;To: dom4j-user@= lists.sourceforge.net&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6&amp;gt; &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;amp;lt;&amp;lt;= /FONT&amp;gt;&amp;lt;/A&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;mailto:dom4j-user@...= e.net&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt;&amp;amp;gt;&amp;amp;nbsp; &amp;lt;/A&amp;gt;= R&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;Subject: [dom4j-user] Cannot read file on windows server &amp;lt;= /FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;Hello, &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;I want to= access open an xml file located on a distant server &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE= =3D5&amp;gt;\\server\path\myxml.xml&amp;amp;quot;. &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;If I try to o= pen the file with the java File class, all goes perfectly &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT = SIZE=3D5&amp;gt;well. &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;If I try to execute following code= I get a connection error: &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;= &amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; f =3D new File(=5FfileName); &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE= BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nb= sp;&amp;amp;nbsp; throw new error &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp= sp;&amp;amp;nbsp;&amp;amp;nbsp; reader =3D new SAXReader(); &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;amp;nbsp= ;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; document =3D reader.read(&amp;amp;quot;file:&amp;amp;= quot;.concat(=5FfileName)); &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;If the last line = contains &amp;amp;quot;file:&amp;amp;quot; or not does not make a difference. &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;F= ONT SIZE=3D5&amp;gt;After some debugging I noticed that an URL is made and that it= is the &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;URL &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;that is ope= ned. &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;in the debugger I stopped on the error and n= oticed that in &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;Handler.openConnection(URL) the pr= otocol is file but in the URL(String, &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;String, Str= ing) that is called from this one, the protocol changed into &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FO= NT SIZE=3D5&amp;gt;ftp. (since no ftp server is running on the windows machine, th= is error &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;is &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;logical) &amp;lt;/= FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;I tried to do &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;amp;nbsp;&amp;amp;= nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; document =3D reader.read(filereader); &amp;lt;= /FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;but even when I pass an inputstream that is open a= nd has access to the &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;file, an URL is made and use= d. &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;I hope someone can help me with this. &amp;lt;/FO= NT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;Thank you &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;Hans &amp;lt;/FONT&amp;gt;&amp;lt;= BR&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;-----------------------------------------------------= -- &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;This SF.NET email is sponsored by: &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;= http://www.vasoftw= are.com&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt; &amp;amp;lt;&amp;lt;/A&amp;gt;&amp;lt;/FO= http://www.vasoftware.com&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT= SIZE=3D5 COLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt;&amp;amp;gt;&amp;amp;nbsp; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;A HREF=3Dnull= =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F= =5F=5F=5F=5F &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;dom4j-user mailing list &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;= FONT SIZE=3D5&amp;gt;dom4j-user@... &amp;lt;/FONT&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;/A&amp;gt;&amp;lt;FONT SIZE=3D= https://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/= U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D6 COLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;A HREF=3D= null&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FONT SIZE=3D5&amp;gt;&amp;amp;lt;&amp;lt;/FONT&amp;gt;&amp;lt;/A&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLUE&amp;gt;&amp;lt;U&amp;gt;https= ://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D5= COLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt;&amp;amp;gt;&amp;amp;nbsp; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt;&amp;lt;BR&amp;gt;&amp;lt;FON= T SIZE=3D5&amp;gt;------------------------------------------------------- This SF.= net email is sponsored by: Scholarships for Techies! Can't afford IT traini= ng? All 2003 ictp students receive scholarships. Get hands-on training in M= icrosoft, Cisco, Sun, Linux/UNIX, and more. http://www.ictp.com/training/sourcefor= ge.asp =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F= =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F= dom4j-user mailing list dom4j-user@... &amp;lt;/FONT&amp;gt;&amp;lt;/A&amp;gt;&amp;lt;FONT = https://lists.sourceforge.net/lists/listinfo/dom4j= -user&amp;lt;/U&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;FONT SIZE=3D5 COLOR=3DBLACK&amp;gt;&amp;lt;A HREF=3Dnull&amp;gt; &amp;lt;/A&amp;gt;&amp;lt;/FONT&amp;gt;&amp;lt;/P=</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Cannot read file on windows server</header>
    <date>Tue Jan 21 17:30:00 CET 2003</date>
    <body>java.lang.ClassNotFoundException doesn't sound like a URL problem to me. =20 Can you find out what Class is missing? What's you classpath? =20 Wonne -----Oorspronkelijk bericht----- Van: Hans.Vanbellingen@... [mailto:Hans.Vanbellingen@... Verzonden: dinsdag 21 januari 2003 16:35 Aan: Keysers, Wonne CC: 'dom4j-user@... ' Onderwerp: RE: [dom4j-user] Cannot read file on windows server I tried what you said and I'm back in situation number 1 (ftp) code: Document document =3D reader.read(new URL("file", "server", =20 stacktrace Thread[main,5,main] (Vivant): Exception d=E9tect=E9e : java.lang.ClassNotFoundException Class.forName0(String, boolean, ClassLoader) Class.forName(String) URL.getURLStreamHandler(String) URL(String, String, int, String, URLStreamHandler) URL(String, String, int, String) URL(String, String, String)                (2) Handler.openConnection(URL)          (1) URL.openConnection() XmlParser.pushURL(String, String, String, Reader, InputStream, String) XmlParser.doParse(String, String, Reader, InputStream, String) SAXDriver.parse(InputSource) SAXReader.read(InputSource) SAXReader.read(URL) Test.main(String []) =20 at (1) the protocol =3D file; at (2) the protocol equals ftp =20 I'm on windows and the ultimate goal is to load a file when I only now \\server\\path\\xmlfile.xml =20 hans Sent by: dom4j-user-admin@... 21/01/2003 15:40 To: "'dom4j-user@... '" cc:=20 bcc:=20 Subject: RE: [dom4j-user] Cannot read file on windows server Hi=20 This works fine on NT:=20 reader.read( new URL( "file", "host", "/full/path/file.xml") );=20 I'm not sure, but if you work on Unix, it might also be:=20 reader.read( new URL( "smb", "host", "/full/path/file.xml") );=20 Best regards=20 Wonne=20 -----Original Message-----=20 From: Hans.Vanbellingen@... To: James Strachan=20 Cc: Keysers, Wonne; dom4j-user@... Sent: 1/21/2003 3:40 PM=20 Subject: Re: [dom4j-user] Cannot read file on windows server=20 Hello,=20 Wonne, James=20 Thank you (dank u ;) for the help, but it does not solve the problem=20 completely.=20 I did some debugging and indeed with file:////server/path/xmlfile.xml it doesn't try to do an ftp, but my filename gets changed to=20 /server/path/xmlfile.xml=20 The // that I need to indicate a network path in windows is lost=20 hans=20 "James Strachan" &amp;lt;james_strachan@... Sent by: dom4j-user-admin@... 21/01/2003 14:11 GMT=20 To: "Keysers, Wonne" &amp;lt;wonne.keysers@... cc:=20 bcc:=20 Subject: Re: [dom4j-user] Cannot read file on windows server=20 Agreed. The read method can take a File, a URL, or a String url as well=20 as an InputStream or Reader - though the first 3 are preferred as it=20 gives the default EntityResolver implementation a chance..=20 James=20 -------=20 http://radio.weblogs.com/0112098/ http://radio.weblogs.com/0112098/&amp;gt;=20 From: Keysers, Wonne &amp;lt;mailto:wonne.keysers@...&amp;gt; =20 To: 'dom4j-user@...  &amp;lt;mailto:&amp;gt;=20 Sent: Tuesday, January 21, 2003 11:14 AM=20 Subject: RE: [dom4j-user] Cannot read file on windows server=20 Hi (Dag :-) Hans,=20 I believe this should work:=20 reader.read( new URL(" file:////server/path/file.xml=20 file:////server/path/file.xml &amp;gt; ") );=20 Wonne=20 -----Original Message-----=20 From: Hans.Vanbellingen@... &amp;lt;mailto:Hans.Vanbellingen@...&amp;gt; =20 To: dom4j-user@... Sent: 1/21/2003 11:26 AM=20 Subject: [dom4j-user] Cannot read file on windows server=20 Hello,=20 I want to access open an xml file located on a distant server=20 \\server\path\myxml.xml".=20 If I try to open the file with the java File class, all goes perfectly=20 well.=20 If I try to execute following code I get a connection error:=20 f =3D new File(_fileName);=20 throw new error=20 reader =3D new SAXReader();=20 document =3D reader.read("file:".concat(_fileName));=20 If the last line contains "file:" or not does not make a difference.=20 After some debugging I noticed that an URL is made and that it is the=20 URL=20 that is opened.=20 in the debugger I stopped on the error and noticed that in=20 Handler.openConnection(URL) the protocol is file but in the URL(String,=20 String, String) that is called from this one, the protocol changed into=20 ftp. (since no ftp server is running on the windows machine, this error=20 is=20 logical)=20 I tried to do=20 document =3D reader.read(filereader);=20 but even when I pass an inputstream that is open and has access to the=20 file, an URL is made and used.=20 I hope someone can help me with this.=20 Thank you=20 Hans=20 -------------------------------------------------------=20 This SF.NET email is sponsored by:=20 SourceForge Enterprise Edition + IBM + LinuxWorld =3D Something 2 See!=20 http://www.vasoftware.com http://www.vasoftware.com &amp;gt; =20 _______________________________________________=20 dom4j-user mailing list=20 dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user=20 https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt; =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Cannot read file on windows server</header>
    <date>Tue Jan 21 18:01:00 CET 2003</date>
    <body>OK so why not use James ------- http://radio.weblogs.com/0112098/ From: Hans.Vanbellingen@... To: dom4j-user@... Sent: Tuesday, January 21, 2003 5:34 PM Subject: RE: [dom4j-user] Cannot read file on windows server I tried file:////server/path/file , but then I get at some point  = /server/path/file (even tried file://///server/path/file ) this makes me loose the fact that server is the name of the server and = not part an ordinary path. if I try to open the same file with: new File("//server/path/file") I have no problem at all accessing the file hans 21/01/2003 17:54 why you don't used the file protocol: Othmane -----Message d'origine----- De : James Strachan [mailto:james_strachan@...] Envoy=E9 : mardi 21 janvier 2003 17:51 =C0 : Hans.Vanbellingen@...; dom4j-user@... Objet : Re: [dom4j-user] Cannot read file on windows server I've never tried to upen those kinds of URIs in Java yet so can't = really help. My only tip could be to try encoding the \\. e.g. James ------- http://radio.weblogs.com/0112098/ From: Hans.Vanbellingen@... To: James Strachan=20 Sent: Tuesday, January 21, 2003 4:54 PM Subject: Re: [dom4j-user] Cannot read file on windows server No, server means really a server name it is like in the windows explorer \\server\path\file if I use something like /path/file or d:/path/file everything works = fine hans 21/01/2003 16:36 GMT To: "Keysers, Wonne" &amp;lt;wonne.keysers@...&amp;gt;, = bcc:=20 Subject: Re: [dom4j-user] Cannot read file on windows server "server" is a directory name right? And this is all available on the = local file system? Why not just try using Unix style paths on windows which often gets = around the backslash woes. James ------- http://radio.weblogs.com/0112098/ From: Hans.Vanbellingen@... To: Keysers, Wonne=20 Cc:=20 Sent: Tuesday, January 21, 2003 3:35 PM Subject: RE: [dom4j-user] Cannot read file on windows server I tried what you said and I'm back in situation number 1 (ftp) code: Document document =3D reader.read(new URL("file", "server", = stacktrace Thread[main,5,main] (Vivant): Exception d=E9tect=E9e : = java.lang.ClassNotFoundException Class.forName0(String, boolean, ClassLoader) Class.forName(String) URL.getURLStreamHandler(String) URL(String, String, int, String, URLStreamHandler) URL(String, String, int, String) URL(String, String, String)                (2) Handler.openConnection(URL)          (1) URL.openConnection() XmlParser.pushURL(String, String, String, Reader, InputStream, String) XmlParser.doParse(String, String, Reader, InputStream, String) SAXDriver.parse(InputSource) SAXReader.read(InputSource) SAXReader.read(URL) Test.main(String []) at (1) the protocol =3D file; at (2) the protocol equals ftp I'm on windows and the ultimate goal is to load a file when I only now = \\server\\path\\xmlfile.xml hans Sent by: dom4j-user-admin@... 21/01/2003 15:40 To: "'dom4j-user@... '" = cc:=20 bcc:=20 Subject: RE: [dom4j-user] Cannot read file on windows server Hi=20 This works fine on NT:=20 reader.read( new URL( "file", "host", "/full/path/file.xml") );=20 I'm not sure, but if you work on Unix, it might also be:=20 reader.read( new URL( "smb", "host", "/full/path/file.xml") );=20 Best regards=20 Wonne=20 -----Original Message-----=20 From: Hans.Vanbellingen@... To: James Strachan=20 Cc: Keysers, Wonne; dom4j-user@... Sent: 1/21/2003 3:40 PM=20 Subject: Re: [dom4j-user] Cannot read file on windows server=20 Hello,=20 Wonne, James=20 Thank you (dank u ;) for the help, but it does not solve the problem=20 completely.=20 I did some debugging and indeed with file:////server/path/xmlfile.xml = it=20 doesn't try to do an ftp, but my filename gets changed to=20 /server/path/xmlfile.xml=20 The // that I need to indicate a network path in windows is lost=20 hans=20 "James Strachan" &amp;lt;james_strachan@... Sent by: dom4j-user-admin@... 21/01/2003 14:11 GMT=20 To: "Keysers, Wonne" &amp;lt;wonne.keysers@... cc:=20 bcc:=20 Subject: Re: [dom4j-user] Cannot read file on windows server=20 Agreed. The read method can take a File, a URL, or a String url as = well=20 as an InputStream or Reader - though the first 3 are preferred as it=20 gives the default EntityResolver implementation a chance..=20 James=20 -------=20 http://radio.weblogs.com/0112098/ http://radio.weblogs.com/0112098/&amp;gt;=20 From: Keysers, Wonne &amp;lt;mailto:wonne.keysers@...&amp;gt; =20 To: 'dom4j-user@...  &amp;lt;mailto:&amp;gt;=20 Sent: Tuesday, January 21, 2003 11:14 AM=20 Subject: RE: [dom4j-user] Cannot read file on windows server=20 Hi (Dag :-) Hans,=20 I believe this should work:=20 reader.read( new URL(" file:////server/path/file.xml=20 file:////server/path/file.xml &amp;gt; ") );=20 Wonne=20 -----Original Message-----=20 From: Hans.Vanbellingen@... &amp;lt;mailto:Hans.Vanbellingen@...&amp;gt; = =20 To: dom4j-user@... Sent: 1/21/2003 11:26 AM=20 Subject: [dom4j-user] Cannot read file on windows server=20 Hello,=20 I want to access open an xml file located on a distant server=20 \\server\path\myxml.xml".=20 If I try to open the file with the java File class, all goes perfectly = well.=20 If I try to execute following code I get a connection error:=20 f =3D new File(_fileName);=20 throw new error=20 reader =3D new SAXReader();=20 document =3D reader.read("file:".concat(_fileName));=20 If the last line contains "file:" or not does not make a difference.=20 After some debugging I noticed that an URL is made and that it is the=20 URL=20 that is opened.=20 in the debugger I stopped on the error and noticed that in=20 Handler.openConnection(URL) the protocol is file but in the = URL(String,=20 String, String) that is called from this one, the protocol changed = into=20 ftp. (since no ftp server is running on the windows machine, this = error=20 is=20 logical)=20 I tried to do=20 document =3D reader.read(filereader);=20 but even when I pass an inputstream that is open and has access to the = file, an URL is made and used.=20 I hope someone can help me with this.=20 Thank you=20 Hans=20 -------------------------------------------------------=20 This SF.NET email is sponsored by:=20 SourceForge Enterprise Edition + IBM + LinuxWorld =3D Something 2 See! = http://www.vasoftware.com http://www.vasoftware.com &amp;gt; =20 _______________________________________________=20 dom4j-user mailing list=20 dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user=20 https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt; =20 ------------------------------------------------------- This SF.net = email is sponsored by: Scholarships for Techies! Can't afford IT = training? All 2003 ictp students receive scholarships. Get hands-on = training in Microsoft, Cisco, Sun, Linux/UNIX, and more. = http://www.ictp.com/training/sourceforge.asp = _______________________________________________ dom4j-user mailing list = dom4j-user@... = https://lists.sourceforge.net/lists/listinfo/dom4j-user=20 ------------------------------------------------------- This SF.net = email is sponsored by: Scholarships for Techies! Can't afford IT = training? All 2003 ictp students receive scholarships. Get hands-on = training in Microsoft, Cisco, Sun, Linux/UNIX, and more. = http://www.ictp.com/training/sourceforge.asp = _______________________________________________ dom4j-user mailing list = dom4j-user@... = https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Cannot read file on windows server</header>
    <date>Tue Jan 21 10:14:00 CET 2003</date>
    <body>Hello, I want to access open an xml file located on a distant server " \\server\path\myxml.xml". If I try to open the file with the java File class, all goes perfectly well. If I try to execute following code I get a connection error: throw new error If the last line contains "file:" or not does not make a difference. After some debugging I noticed that an URL is made and that it is the URL that is opened. in the debugger I stopped on the error and noticed that in Handler.openConnection(URL) the protocol is file but in the URL(String, String, String) that is called from this one, the protocol changed into ftp. (since no ftp server is running on the windows machine, this error is logical) I tried to do but even when I pass an inputstream that is open and has access to the file, an URL is made and used. I hope someone can help me with this. Thank you Hans</body>
  </mail>
  <mail>
    <header>[dom4j-user] Node.matches() not working</header>
    <date>Mon Jan 20 22:25:00 CET 2003</date>
    <body>In 1.2 matches worked for me but when I upgraded to 1.3 it doesn't. To give an example. exists will return false yet nodeList will be a legit list of nodes (usually 1). Any ideas? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Node.matches() not working</header>
    <date>Mon Jan 20 21:07:00 CET 2003</date>
    <body>In 1.2 matches worked for me but when I upgraded to 1.3 it doesn't. To = give an example. exists will return false yet nodeList will be a legit list of nodes = (usually 1). Any ideas? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Node.matches() not working</header>
    <date>Mon Jan 20 21:32:00 CET 2003</date>
    <body>In 1.2 matches worked for me but when I upgraded to 1.3 it doesn't. To give an example. exists will return false yet nodeList will be a legit list of nodes (usually 1). Any ideas? thanks - dave</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XML is valid BEFORE but invalid AFTER writing fi
	le.</header>
    <date>Mon Jan 20 12:22:00 CET 2003</date>
    <body>Hello again, I managed to solve the problem myself... :-) Instead of using a java.io.FileWriter, I took the = java.io.FileOutputStream and it works. It seems the provided = OutputFormat.getEncoding() is not used when using the FileWriter... OutputFormat format =3D OutputFormat.createPrettyPrint();=20 writer.write( Document );=20 writer.close();=20 Regards, Wonne -----Original Message----- From: Keysers, Wonne To: 'dom4j-user@... ' Cc: Keunen, Patrick Sent: 1/20/2003 11:59 AM Subject: [dom4j-user] XML is valid BEFORE but invalid AFTER writing = file. Importance: High Hi,=20 I have the following problem writing XML with special characters into a file...=20 I create the following Document structure:=20 Using the MSV validator, the Document Structure seems to be valid according to the xsd.=20 But then I write the XML content to a file, with the following code:=20 FileWriter fileWriter =3D new FileWriter( path );=20 XMLWriter writer =3D new XMLWriter( fileWriter );=20 OutputFormat format =3D OutputFormat.createPrettyPrint();=20 writer =3D new XMLWriter( fileWriter, format );=20 writer.write( Document );=20 writer.close();=20 When I re-read this file from file system and validate again, it is invalid, giving me the following error:=20 If I write the file using the "UTF-16", the validator gives me the following error:=20 may be too low)&amp;gt;&amp;gt;=20 When I write the file using encoding "windows-1252", there's no problem at all.=20 A bug?=20 Any suggestions? I'd like to use UTF-8!=20 Thanks in advance=20 Wonne Keysers=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] XML is valid BEFORE but invalid AFTER writing file.</header>
    <date>Mon Jan 20 11:15:00 CET 2003</date>
    <body>Hi,=20 I have the following problem writing XML with special characters into a = file...=20 I create the following Document structure:=20 Using the MSV validator, the Document Structure seems to be valid = according to the xsd.=20 But then I write the XML content to a file, with the following code:=20 FileWriter fileWriter =3D new FileWriter( path );=20 XMLWriter writer =3D new XMLWriter( fileWriter );=20 OutputFormat format =3D OutputFormat.createPrettyPrint();=20 writer =3D new XMLWriter( fileWriter, format );=20 writer.write( Document );=20 writer.close();=20 When I re-read this file from file system and validate again, it is = invalid, giving me the following error: If I write the file using the "UTF-16", the validator gives me the = following error:=20 When I write the file using encoding "windows-1252", there's no problem = at all. A bug? Any suggestions? I'd like to use UTF-8! Thanks in advance=20 Wonne Keysers</body>
  </mail>
  <mail>
    <header>[dom4j-user] custom OutputFormat</header>
    <date>Sat Jan 18 10:03:00 CET 2003</date>
    <body>Hi I need to output large feed files in XML format. Using a standard OutputFormat I get the following structure: For a large number of records with large-ish number of fields (say 20) the XML files become huge (say for 2 MB CSV file, and equivalent XML is closer to 10MB). I would like to reduce the number of whitespaces so that I would get: How do I create a custom output rules, i.e. to instruct the output when to insert a whitespace after an element? Best regards -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] custom OutputFormat</header>
    <date>Mon Jan 20 08:34:00 CET 2003</date>
    <body>format.&amp;lt;../../../org/dom4j/io/OutputFormat.htm#setTrimText(boolean)&amp;gt;setTrimText ...etc... See: http://www.dom4j.org/apidocs/org/dom4j/io/OutputFormat.html Use JavaDoc power before asking on the mailing list, you'll get your answers quicker ! ( http://www.dom4j.org/apidocs/index.html ) + use http://www.dom4j.org/guide.html , and http://www.dom4j.org/cookbook/cookbook.html ! If you want more control on OutputFormat than what is provided, post a specific feature request. Cheers, Dan/ At 11:07 18/01/2003 +0000, you wrote:</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] custom OutputFormat</header>
    <date>Mon Jan 20 08:29:00 CET 2003</date>
    <body />
  </mail>
  <mail>
    <header>[dom4j-user] problem resolving entities (jelly)</header>
    <date>Sun Jan 19 12:28:00 CET 2003</date>
    <body>Hello, I'd like to use jelly to transform an XML doc to another, but I ran into = a=20 problem. ---------------------- Source XML (try.xml): ------------- Jelly script: xml"=20 ---------- Result: [echo] Loading document [echo] ....loaded &amp;amp;eacute;EACUTE &amp;amp;oacute;OACUTE Can anybody help me? Thanks in advance czinkos</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with using EntityResolver</header>
    <date>Fri Jan 17 20:03:00 CET 2003</date>
    <body>Hello, I would like to use my own EntityResolver since I would like to load en= tity=20 declaration from a file at run-time. I saw at dom4j.org (FAQ) that it is possible, but that code seems to be=20 outdated or buggy. =2E..=20 ^^^^^ it should be read, I guess =2E.. -------------------------------------------------- My code which doesn't work: public InputSource resolveEntity(String publicId, String syst= emId) throws FileNotFoundException return new InputSource(new=20 =20 SAXReader r =3D new SAXReader(new=20 It stops with Exception: org.dom4j.DocumentException: Error on line 14 of document=20 file:///usr/local/Lexikon/sgml2xml/12_XML/01jav.xml : The entity "oacute"= was=20 referenced, but not declared. Nested exception: The entity "oacute" was=20 referenced, but not declared. at org.dom4j.io.SAXReader.read(SAXReader.java:339) at org.dom4j.io.SAXReader.read(SAXReader.java:236) at hu.emnl.tools.MNLTransformer.main(MNLTransformer.java:134) Nested exception: org.xml.sax.SAXParseException: The entity "oacute" was referenced, but no= t=20 declared. at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Sour= ce) at org.dom4j.io.SAXReader.read(SAXReader.java:323) at org.dom4j.io.SAXReader.read(SAXReader.java:236) at hu.emnl.tools.MNLTransformer.main(MNLTransformer.java:134) Nested exception: org.xml.sax.SAXParseException: The entity "oacute" was=20 referenced, but not declared. at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Sour= ce) at org.dom4j.io.SAXReader.read(SAXReader.java:323) at org.dom4j.io.SAXReader.read(SAXReader.java:236) at hu.emnl.tools.MNLTransformer.main(MNLTransformer.java:134) What am I missing? Thank you in advance czinkos</body>
  </mail>
  <mail>
    <header>[dom4j-user] Setting appropriate parser (configuration problem)</header>
    <date>Fri Jan 17 17:17:00 CET 2003</date>
    <body>Hi, I'm trying to add a set of automatic validation of tests of documents being created against a particular schema.  I'm using JBuilder 6, and I have both Xerces 2.1.0 and dom4j 1.3 libraries set as required libraries in my project, in that order. JBuilder later appends a bunch of its own stuff to the classpath, but I don't see any specific jar files that I know contain any SAX parsers.  The class being executed is called TestProductFactory, and it extends JUnit's TestCase.  It's main method is as follows: public static void main (String[] args) System.out.println ("org.xml.sax.driver=" + System.getProperty //          System.setProperty("org.xml.sax.driver", The problem:  Whether I set the "default parser" using the JVM invocation (-D) parameter, or by using the System.setProperty() call commented out above, I get the same exception each time: Warning: Error occurred using JAXP to load a SAXParser. Will use Aelfred instead com.aigtg.tgml.TgMLException: org.dom4j.DocumentException: SAX2 driver class org.apache.xerces.parsers.SAXParser does not implement XMLReader Nested exception: SAX2 driver class org.apache.xerces.parsers.SAXParser does not implement XMLReader at com.aigtg.tgml.ProductFactory.strategyCreate(ProductFactory.java:73) at com.aigtg.tgml.TestProductFactory.testStrategyCreate(TestProductFactory.java:89) at java.lang.reflect.Method.invoke(Native Method) at junit.framework.TestCase.runTest(TestCase.java:166) at junit.framework.TestCase.runBare(TestCase.java:140) at junit.framework.TestResult$1.protect(TestResult.java:106) at junit.framework.TestResult.runProtected(TestResult.java:124) at junit.framework.TestResult.run(TestResult.java:109) at junit.framework.TestCase.run(TestCase.java:131) at junit.framework.TestSuite.runTest(TestSuite.java:173) at junit.framework.TestSuite.run(TestSuite.java:168) at junit.swingui.TestRunner$17.run(TestRunner.java:644) I'm wondering if it is plain to anybody what I'm doing wrong here.  Dom4j clearly believes that whatever version of Xerces I'm trying to use is not a SAX2 parser, but I believe that 2.1.0 is, in fact, a SAX2 parser (and thus implements the XMLReader interface). BTW, the other tests in the class all execute as before, I just get this exception. -------------------------------------------------------------------------- Important:  This electronic mail message and any attached files contain information intended for the exclusive use of the individual or entity to whom it is addressed and may contain information that is proprietary, privileged, confidential and/or exempt from disclosure under applicable law.  If you are not the intended recipient, you are hereby notified that any viewing, dissemination, distribution or copying of this communication may be subject to legal restriction or sanction.  Please notify us immediately of any unintended recipients and delete the original message without making any copies. --------------------------------------------------------------------------</body>
  </mail>
  <mail>
    <header>[dom4j-user] Slow parsing - solved</header>
    <date>Thu Jan 16 13:56:00 CET 2003</date>
    <body>FYI: Earlier I reported dom4j was taking 900ms to parse 5 lines of XML code. Turns out first-time initialization was at fault. I found that if I run my processing function a second time immediately afterwards it only takes 2ms of processing time. Thanks for your help! Gili</body>
  </mail>
  <mail>
    <header>[dom4j-user] Slow parsing</header>
    <date>Thu Jan 16 13:21:00 CET 2003</date>
    <body>Hi, It takes DOM4J approximately 900ms to parse a 5 line XML document off a ByteInputStream *with validation disabled*. Is that normal? I'm expecting times under 500ms .. more like 200ms. Gili</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Slow parsing</header>
    <date>Thu Jan 16 13:36:00 CET 2003</date>
    <body>Even with validation disabled it has to resolve and parse the DTDs, since some things like default attributes take effect even without validation. There are various ways you can speed up this process, such as having your own EntityResolver that caches or just fails to return stuff, of course, if you remove the DTDs then you may get a different document... -Tom On Thu, 16 Jan 2003, Gili wrote: http://ads.sourceforge.net/cgi-bin/redirect.pl?thaw0029en https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Slow parsing</header>
    <date>Thu Jan 16 13:43:00 CET 2003</date>
    <body>times under It should be way less that 200ms! e.g. on my laptop (a 900MHz win2k machine with JDK1.3.1) I can run the performance.ParseLoop sample program parsing xml\web.xml (which is fairly small, 37 lines long), which parsers the file *100* times in 1020ms and that includes the startup overhead of classloading and warming up the parser, which is probably about half of that time. Running performance.ParseTest on the same file I get 561ms for the first run (mostly due to class loading) then an average of 3ms per parse after that. My guess is that 900ms is the time it takes to classload and initialise the parser - it should be pretty snappy after that. Incidentally the easiest way to boost XML parsing performance is to cache and reuse SAXReader instances (which cache and reuse the underlying SAX parser - often parsers take a while to warm up). James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Ordered insert based on DTD</header>
    <date>Wed Jan 15 17:57:00 CET 2003</date>
    <body>Hi, I am dealing with J2EE web app XML web.xml based on the the DTD which defines the top level element as context-param*, filter*, filter-mapping*, listener*, servlet*, servlet-mapping*, session-config?, mime-mapping*, welcome-file-list?, error-page*, taglib*, resource-env-ref*, resource-ref*, security-constraint*, I have the web.xml in memory as a dom4j tree. When user asks me to insert a node, I can not simply append it but insert it at a point dictated by DTD. If I simply append it, the document is invalid as per DTD. Is there any API that will let me insert an element at the right spot based on the order dictated by DTD? Without such APIs, if some user asks me to insert servlet-mapping, then I will have to search for any existing servlet-mapping and insert after them. If there are no servlet-mapping, then search if there are any servlet then insert after them, If no servlets ..., you get the idea. Even if there is no API in dom4j, this seem like such a common problem, I am sure somebody has already written generic code that I could use. Please pass me any info you may have on that.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Ordered insert based on DTD</header>
    <date>Thu Jan 16 11:38:00 CET 2003</date>
    <body>Hi, &amp;gt; Is there any API that will let me insert an element at the right spot &amp;gt; based on the order dictated by DTD? &amp;gt; Without such APIs, if some user asks me to insert servlet-mapping, &amp;gt; then I will have to search for any existing servlet-mapping and insert &amp;gt; after them. If there are no servlet-mapping, then search if there are &amp;gt; any servlet then insert after them, If no servlets ..., you get then &amp;gt; idea. Well actually your problem is not that simple since the insertion point is not necessarely defined in a unique way by the DTD.The DTD can tell you if the insertion point you choosed is valid, but in the reverse way a DTD might be ambigous.  Imagine simply adding a &amp;lt;table&amp;gt; element using an HTML DTD, since &amp;lt;table&amp;gt; may contain other &amp;lt;table&amp;gt; how could the DTD help you ?. In other word DTD (and any XML schema) do not give a one way relationship between elements and elements positions, therefore it is not really possible to produce a general algorithm for providing the service you are asking. However it is possible to work this out for a specific non ambigous DTD, but this will remain a DTD specific code. You may also imagine a more general code that warns you if the DTD were it applies is ambigous and therefore not suitable. This kind of functionnality will cover a very small set of DTD (i.e. the DTDs where each element may appear only at one place and once in a document). Without using DTD you could still use XPath to speed up looking for your insertion point For general XML update API, you may be interested by looking at : http://www.xmldb.org/xupdate/ Sincerely, Thierry ----------------------------------------------------------------------- IXELIS -  Systèmes d'Information Sémantique http://www.ixelis.com 17 rue des Cèdres, F67200 STRASBOURG (France) Tél      : +33 (0)3 88 27 81 39  Portable : 06 30 07 65 73 E-mail   : mail@...       Fax      : +33 (0)3 88 27 81 39 -----------------------------------------------------------------------</body>
  </mail>
  <mail>
    <header>[dom4j-user] Bug in remove functions?</header>
    <date>Thu Jan 16 10:28:00 CET 2003</date>
    <body />
  </mail>
  <mail>
    <header>[dom4j-user] Process Instruction placement problem</header>
    <date>Thu Jan 16 08:33:00 CET 2003</date>
    <body />
  </mail>
  <mail>
    <header>[dom4j-user] Bug when adding attributes using Qualified Name. Please help !</header>
    <date>Wed Jan 15 17:53:00 CET 2003</date>
    <body>Hi ! Here is my xml file: --------------------------- http://www.w3.org/2001/SMIL20/Language --------------------------- In my code, the variable "headElement" (of type org.dom4j.Element) points to the &amp;lt;head&amp;gt; element of my xml file. if I do "headElement.declaredNamespaces();", I get a list that contains one org.dom4j.Namespace, and this is the one declared in the &amp;lt;smil&amp;gt; element of my xml document. (With prefix=="" and uri==" http://www.w3.org/2001/SMIL20/Language ") Now, I want to add the "xml:lang" attribute to headElement. I first create a QName: Namespace myNamespace = new Namespace("xml", " http://dummyURI.com This works fine as the attribute is properly added. My problem is when using XMLWriter to serialize the document. I get: --------------------------- http://www.w3.org/2001/SMIL20/Language http://dummyURI.com --------------------------- In fact there are 2 problems: - The first one seems to be a bug: it writes "xmlns:xm" instead of "xmlns:xml" - The second is that I don't want xmlns:xm=" http://dummyURI.com " to be written out at all, as xml is a default namespace prefix that should never be declared in an xml document (a validating parser will generate an error) Is there any way to prevent dom4j for creating a namespace attribute as soon as I add an attribute with a namespace that is not already declared in the document ? And another very last question: the xmlns attribute of my &amp;lt;smil&amp;gt; element doesn't appear as an attribute in the dom4j tree, but as a child (the first one) of the &amp;lt;smil&amp;gt; element, with the "org.dom4j.Namespace" type. Is it standard amongst dom-like xml libraries ? (using specific child nodes instead of "normal" attributes) Thank you very much for your replies ! Cheers, Daniel</body>
  </mail>
  <mail>
    <header>[dom4j-user] attribute value encodings for the apostrophe</header>
    <date>Wed Jan 15 17:32:00 CET 2003</date>
    <body>Hello, using dom4j I've noticed that within attribute values apostrophes are replaced by the &amp;amp;apos; character. I believe that this is unnecessary, one would only need to encode the apostrophe this way if this character was also the attribute value delimiter. Since it appears that the dom4j document model always uses quotes (and overrides cases where one might have used apostrophes) it appears that there is no reason to encode the apostrophes within the attribute value the way it is done now. Incidentally this caused me a lot of trouble when trying to use javascript calls in href attributes. While Mozilla handles the &amp;amp;apos; characters properly IE needs an ' Making a long story short, I "fixed" this issue in my local copy by dropping the corresponding entry of the escapeAttributeEntities method in XMLWriter.java. My gut feeling is that this is the correct behavior (at least most transformers that I tried work the way I described above). thanks, dom4j is the best -- Istvan Albert http://www-users.cs.umn.edu/~ialbert/ Grouplens Research -- University of Minnesota</body>
  </mail>
  <mail>
    <header>[dom4j-user] Multiline text problem</header>
    <date>Wed Jan 15 15:31:00 CET 2003</date>
    <body>Hi, I've put a multiline text into a FlyweightText object and expected it to be multiline when serializing it to XML file, however the line separators are missing in the XML file, i.e. when serializing, dom4j made a single- line string from the multiline one. I've made the following steps: I've created the text in a java.lang.String object separated by '\n' characters. Then created a FlyweightText from the String and added it to added to a org.dom4j.Element element. Finally serialized it to XML. Any ideas? Regards, Zoltan</body>
  </mail>
  <mail>
    <header>[dom4j-user] Multiline text problem</header>
    <date>Wed Jan 15 15:08:00 CET 2003</date>
    <body>Hi, I've put a multiline text into a FlyweightText object and expected it to be multiline when serializing it to XML file, however the line separators are missing in the XML file, i.e. when serializing, dom4j made a single- line string from the multiline one. I've made the following steps: I've created the text in a java.lang.String object separated by '\n' characters. Then created a FlyweightText from the String and added it to added to a org.dom4j.Element element. Finally serialized it to XML. Any ideas? Regards, Zoltan</body>
  </mail>
  <mail>
    <header>[dom4j-user] can't find an XSD file (was Re: Can you please help?)</header>
    <date>Tue Jan 14 10:09:00 CET 2003</date>
    <body>The quickest answer to your problem is the last item in the FAQ http://dom4j.org/faq.html here http://dom4j.org/faq.html#Cannot%20find%20DTD;%20how%20can%20I%20tell%20dom4 j%20where%20to%20find%20the%20DTD%20from%20a%20DOCTYPE? its to use an EntityResolver James ------- http://radio.weblogs.com/0112098/ From: anorbert@... To: james.strachan@... Sent: Tuesday, January 14, 2003 9:46 AM Subject: Can you please help? Hi, I was using dom4j to read and validate an xml file.  At present I am specifying the location of my xsd file as given below. http://www.mycomp.com " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation=" http://www.mycomp.com When test.xsd is in the working directory it validates against the schema. I would like to include the xml file and the test.xsd in a jar file.  I can use myclass.class.getResourceAsStream() to read the xml file.  My question is how to specify the path to the test.xsd within the xml header or is there another way to do this? Ideally is there a way to modify this method  which I have in my code to specify the relative path of the test.xsd ? public void parseWithSAX(InputStream inStream, boolean validate) throws DocumentException Thank  you. Amila. __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Parsing text and entities</header>
    <date>Mon Jan 13 15:28:00 CET 2003</date>
    <body>Hey all, I'm developing a content management system with cocoon, torque and dom4j. I have a problem with parsing text from database in to a XML-document. My app stores (X)HTML as XML into a database. I store only elements not full XML-documents. Here is an example: ---- ---- I use DocumentHelper.parseText()-method for creating XML-document. But etc.) The result is an exception complaining about missing entity declarations. Is there a quick solution with DocumentHelper? Is it possible to parse text into existing XML-document, where I could have the entities declared in forehand? Thanks for reading this far... -Jani</body>
  </mail>
  <mail>
    <header>[dom4j-user] translation and verification best practices</header>
    <date>Fri Jan 10 15:20:00 CET 2003</date>
    <body>I will be receiving XML messages from a third party (e.g. an InputStream). In my application, I do all my work on a DOM4J Document object. I would like have the option for an implementor to perform XSLT and / or XML Schema validation on the incoming XML. Are there some best practices for doing this? For example, initially I was thinking that I would first make a DOM4J Document object (org.dom4j.tree.DefaultDocument), translate the XML (as shown in the FAQ), and then validate with the MultiSchema Validation package (MSV / JARV). However, the JARV Verifier.verify() method requires an org.w3c.dom.Node instead of a preferred org.dom4j.Node. The JARVDemo examples in the samples folder seem to do the validation during either reading or writing the Document. Will I need to generate the Document object twice? (Once for validation - once for my use) Thanks, Al Herod</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] translation and verification best practices</header>
    <date>Mon Jan 13 08:24:00 CET 2003</date>
    <body>translation and verification best practicesIf you want to validate while = you parse the XML, then you've 2 main choices... * try using a validating parser such as Xerces using either DTD or XML = Schema validation, use SAXReader(true) to enable validation. You will = probably have to create an EntityResolver to be able to resolve the DTD = or Schema documents. * use JARV as a SAX filter so you can validate across any schema = language (my favourite, RelaxNG as well as DTD, XML Schema, Relax or = Trex). Using JARV as a SAX filter allows you to parse the document once = into SAX events and create a dom4j Document and perform the validation. There are sample programs demonstrating both of these approaches in dom4j/src/samples/validate XercesDemo.java - shows how to validate using Xerces JARVDemo2.java - shows how to use JARV as a SAX filter James ------- http://radio.weblogs.com/0112098/ From: Alan Herod=20 To: 'dom4j-user@... Sent: Friday, January 10, 2003 3:19 PM Subject: [dom4j-user] translation and verification best practices I will be receiving XML messages from a third party (e.g. an = InputStream). In my application, I do all my work on a DOM4J Document = object. I would like have the option for an implementor to perform XSLT = and / or XML Schema validation on the incoming XML. Are there some best = practices for doing this? For example, initially I was thinking that I would first make a DOM4J = Document object (org.dom4j.tree.DefaultDocument), translate the XML (as = shown in the FAQ), and then validate with the MultiSchema Validation = package (MSV / JARV). However, the JARV Verifier.verify() method = requires an org.w3c.dom.Node instead of a preferred org.dom4j.Node. The = JARVDemo examples in the samples folder seem to do the validation during = either reading or writing the Document. Will I need to generate the = Document object twice? (Once for validation - once for my use) Thanks,=20 Al Herod=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath Problems</header>
    <date>Sat Jan 11 11:21:00 CET 2003</date>
    <body>Hi, Firstly, how do you do an xpath search on just an element? ... ... So lets say you have the &amp;lt;Person&amp;gt; element  with id = "282" in an Element object, how do you perform an xpath *relatve to just that element*. personElement.selectNodes("/People/Person/FirstName") works fine, but personElement.selectNodes("/Person/FirstName") does not, so each xpath search is *still* performed on the document as a whole, regardless if you perform it on a sub element. So how do you perform a *relative* search? The "//" is not suitable here. Example: perhaps &amp;lt;PhoneNumber/&amp;gt;'s element is 1 -&amp;gt; Infinity and you only want Jenny's phone numbers and not every one in the entire document. And the second question is about namespaces and xpath. How do you do a search when you don't know what the xml namespace will be in the document, only the structure. So it might be &amp;lt;cool:People/&amp;gt;, requires you to include the namespace in the path, "/cool:People/cool:Person/..." and so on. What would be the best way to do this dynamically? Regards, Joe __________________________________________________ Do you Yahoo!? Yahoo! Mail Plus - Powerful. Affordable. Sign up now. http://mailplus.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XPath Problems</header>
    <date>Sat Jan 11 12:51:00 CET 2003</date>
    <body>&amp;gt; Firstly, how do you do an xpath search on just an If you want to search relative to the &amp;lt;Person&amp;gt; Element, just leave out the initial "/" (which means start with the document) and do something like: personElement.selectNodes("FirstName") Leaving out the initial slash makes the search relative to the element you invoke selectNodes on. -- Steen</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath Problems</header>
    <date>Sat Jan 11 12:59:00 CET 2003</date>
    <body>First off, your xml is invalid, you should send us what you are actually using.  But after fixing your example (some of the end tags have the "/" at the end instead of something like "&amp;lt;/FirstName&amp;gt;") you should do the following: This will select from the people element all Person tags with and id attribute of 282. I highly recommend using XPE to play with the correct XPath expressions. It will allow you to "click" on the tag in question and tell you what the XPath would be to reach it.  The nicely done tool can be found at http://www.purpletech.com/xpe . Also, take a look at the XPath local-name() function, that should help you get around the unknown namespace.  You can also do indexing on your list like "//Person[1]" or "//Person[22]" etc. Hope that helps! Dave Joe wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath Problems</header>
    <date>Sat Jan 11 13:08:00 CET 2003</date>
    <body>BTW, you will need to cast the selectNodes to an element. -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath Problems</header>
    <date>Sat Jan 11 16:26:00 CET 2003</date>
    <body>And it would be wrong to use Nodes (it returns a List), use Node to return only one. What a morning... -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] weird behaviour using selectNodes</header>
    <date>Wed Jan 08 18:51:00 CET 2003</date>
    <body>Hi, I am trying to read the Type of an element ie. integer type, however, i have 2 results depending whether i declare my xml instance with a using a "noNamespaceSchemaLocation" or a "schemaLocation" attribute. If i declare xml instance with a "noNamespaceSchemaLocation" attribute, i would get the right type i.e. java.math.BigInteger, however if i declare the xml instance with a "schemaLocation" attribute, then i will get a java.lang.String which is incorrect. Is this a bug or a feature? did i miss something? would be grateful if someone could help to shed some light... Below are the details of the schema, xml-instance and my java app. am using dom4j v 1.3 Thanks in advance.. chung-onn schema --------- http://www.w3.org/2001/XMLSchema " targetNamespace=" http://my.integer.org " xml-instance with noNamespace ------------------------------------------ xmlns:xsi=' http://www.w3.org/2001/XMLSchema-instance ' xml-instance with namespace -------------------------------------- http://my.integer.org ' xmlns:xsi=' http://www.w3.org/2001/XMLSchema-instance ' xsi:schemaLocation=' http://my.integer.org java app ---------- /** Creates a new instance of MyInteger */ String urlString = //            ns.put("my"," http://my.integer.org System.out.println( "Did not find an attribute or /** * @param args the command line arguments */ -- Your favorite stores, helpful shopping tools and great gift ideas. Experience the convenience of buying online with Shop@...! http://shopnow.netscape.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath - functions not working ?</header>
    <date>Wed Jan 08 14:04:00 CET 2003</date>
    <body>Hi, I try to select Nodes from a document with this statement: document.selectNodes ("/user-list/user/@id[(number(text()) &amp;lt;= 1000) and and although this xpath-expression seems to work for the containing XML (tested with XPath Explorer), the method always returns &amp;lt;null&amp;gt;. Perhaps dom4J doesn't like those number(..) and text() - functions ? Simple expressions like "/user-list/user/@id" just work fine. I haven't found notes about limitations concerning those xpath-functions in the docs ... Any help would be greatly appreciated thanks -Florian</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] How do I convert a DOM element tree into a DOM4J
	 document</header>
    <date>Tue Jan 07 15:23:00 CET 2003</date>
    <body>No, I want to turn a DOM element into something DOM4J can use.  The below code uses DOM to add the element to a new Document and then uses the code you sent, but I want to skip the DocumentBuilderFactory stuff listed below. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, ITS, AEGON FINANCIAL PARTNERS -----Original Message----- From: 	James Strachan [mailto:james_strachan@...] Sent:	Tuesday, January 07, 2003 12:32 AM To:	Brain, Jim; DOM4J Mailing List (E-mail) Subject:	Re: [dom4j-user] How do I convert a DOM element tree into a DOM4J document You want to run a W3C DOM into a dom4j document? Try James ------- http://radio.weblogs.com/0112098/ Sent: Friday, January 03, 2003 7:05 PM Subject: [dom4j-user] How do I convert a DOM element tree into a DOM4J document http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How do I convert a DOM element tree into a DOM4J
  document</header>
    <date>Tue Jan 07 17:38:00 CET 2003</date>
    <body>You should be able to create a method for either direction ( based off the code below) that takes in a dom4j element and returns a w3c node by manipulating the org.w3c.dom.Document interface and remove/detach the first child and return it. The opposite direction would be the same, take in a node, and return it as an element by getRootElement and detaching it. Does that help? Dave // I use this code to convert from dom4j to a w3c DOM Element input = ... // I use this code to convert from w3c DOM to dom4j // do whatever with the element (top of tree) -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] How do I convert a DOM element tree into a DOM4J
	 document</header>
    <date>Tue Jan 07 17:45:00 CET 2003</date>
    <body>Yes, but DOMReader only has a read method for org.w3c.dom.Document.  I need one that will read an org.w3c.dom.Element When working with Apache AXIS and/or JAXM, they both deliver you Element(s), not DOM Documents. Jim Jim Brain, jbrain@... "Researching tomorrow's decisions today." (319) 369-2070 (work) SYSTEMS ARCHITECT, ITS, AEGON FINANCIAL PARTNERS -----Original Message----- From: 	David D. Lucas [mailto:ddlucas@...] Sent:	Tuesday, January 07, 2003 11:37 AM To:	Brain, Jim Cc:	'James Strachan'; DOM4J Mailing List (E-mail) Subject:	Re: [dom4j-user] How do I convert a DOM element tree into a DOM4J document You should be able to create a method for either direction ( based off the code below) that takes in a dom4j element and returns a w3c node by manipulating the org.w3c.dom.Document interface and remove/detach the first child and return it. The opposite direction would be the same, take in a node, and return it as an element by getRootElement and detaching it. Does that help? Dave // I use this code to convert from dom4j to a w3c DOM Element input = ... // I use this code to convert from w3c DOM to dom4j // do whatever with the element (top of tree) -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How do I convert a DOM element tree into a DOM4J
  document</header>
    <date>Tue Jan 07 18:01:00 CET 2003</date>
    <body>Inside each document is a root element or node.  It is just how one wraps the information.  You can write a function that returns you the element / node and throw away the document.  I have not looked at the code base for AXIS or JAXM, but I wonder how they do their conversion? So, do I hear an enhancement request for the API to provide a conversion instead of a how-to ?  ;-) I once remember someone saying that DOM4J could be built where the Elements were W3C elements.  James, perhaps you can address this. Later, Dave Brain, Jim wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Release 1.4 / Maven 1.4dev 9: When ??</header>
    <date>Tue Jan 07 13:48:00 CET 2003</date>
    <body>Hi ! When will the 1.4 release be ready ? I looked at http://www.ibiblio.org/maven/dom4j/jars/ but there is only an old 1.4dev8 build available. I thought 1.4 was supposed to be released quite a few weeks ago (months ?). Thanks for a great xml lib anyway !! Dan/</body>
  </mail>
  <mail>
    <header>[dom4j-user] need help on using XML Schema</header>
    <date>Tue Jan 07 12:07:00 CET 2003</date>
    <body>Hi all, i really appreciate if someone can help me with this problem. I have been trying unsucessfully to read the Element's Type from an xml instance, i tried reading the docs and mail-list but doesnt seems to help. Essentially, i am trying to read the type of an element (e.g Integer, Date, String etc)  using both Element or DatatypeElement . When using Element, i only managed to get the type as java.lang.String but when i use DatatypeElement , i get a ClassCastException error. Any clue? Below are the details my Schema is ------------ http://www.w3.org/2001/XMLSchema " targetNamespace=" http://my.earth.org " xmlns="http:// my.earth.org" my xml instance is ------------------ http://my.earth.org ' xmlns:xsi=' http://www.w3.org/2001/XMLSchema-instance ' xsi:schemaLocation=' http://my.earth.org my java app is -------------- /** Creates a new instance of MyInteger */ DatatypeElement root        = (DatatypeElement) /** * @param args the command line arguments */ my error msg is --------------- Exception in thread "main" java.lang.ClassCastException: org.dom4j.tree.DefaultElement at MyInteger.&amp;lt;init&amp;gt;(MyInteger.java:34) at MyInteger.main(MyInteger.java:52)</body>
  </mail>
  <mail>
    <header>[dom4j-user] How do I convert a DOM element tree into a DOM4J document</header>
    <date>Fri Jan 03 19:05:00 CET 2003</date>
    <body>Is there a way to do this without doing this: DocumentBuilder builder = . . . I think I tried DOMDocument.addElement(el);, but it said the methods were not implemented. Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, ITS, AEGON Financial Partners</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How do I convert a DOM element tree into a DOM4J document</header>
    <date>Tue Jan 07 06:32:00 CET 2003</date>
    <body>You want to run a W3C DOM into a dom4j document? Try James ------- http://radio.weblogs.com/0112098/ Sent: Friday, January 03, 2003 7:05 PM Subject: [dom4j-user] How do I convert a DOM element tree into a DOM4J document http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Please Help on Extracting Text</header>
    <date>Fri Jan 03 08:40:00 CET 2003</date>
    <body>Try using a java.util.StringTokenizer on the text value? The example isn't a terribly good XML encoding. Something better would = be Then you'd be able to navigate this structure easily with XPath etc. James ------- http://radio.weblogs.com/0112098/ From: Old Man=20 To: dom4j-user@... Sent: Monday, December 30, 2002 10:36 AM Subject: [dom4j-user] Please Help on Extracting Text Hi dom4j users I have a problem on  breaking up the Text using dom4J. Can someone = give some tips on how to handle this problem. Let say I have have a node = called 2 def when i call the node.getText() on this Node, is there anyway that i = can extract the text fragments out of this Node. =20 thanx -------------------------------------------------------------------------= ----- Add photos to your messages with MSN 8. Get 3 months FREE*. = ------------------------------------------------------- This sf.net = email is sponsored by:ThinkGeek Welcome to geek heaven. = http://thinkgeek.com/sf _______________________________________________ = dom4j-user mailing list dom4j-user@... = https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] extending DefaultElement (igor)</header>
    <date>Fri Feb 28 19:10:00 CET 2003</date>
    <body>Igor, There does'nt seem to be any , check the source org.dom4j.tree.* regards dennis know they are accessible from "outside" without their interfaces. Igor _________________________________________________________________ Chatten met je online vrienden via MSN Messenger. http://messenger.msn.nl/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: WhiteSpace in elements</header>
    <date>Thu Feb 27 20:13:00 CET 2003</date>
    <body>Sorry, disregard that last email from me. It's a false alarm.  It's working as it should. Jeff</body>
  </mail>
  <mail>
    <header>[dom4j-user] WhiteSpace in elements</header>
    <date>Thu Feb 27 19:53:00 CET 2003</date>
    <body>I have an element "&amp;lt;enumeratedValue&amp;gt;&amp;lt;/enumeratedValue&amp;gt;" where the content is a single space (" ").  However, as you can see the by the element tags that the element contains no content, not even the space. The code I am using to write out the XML is: Is this a bug? Jeffrey Inns EXTOL International, Inc. phone: (570) 628 - 5500</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAX Parse Exception</header>
    <date>Thu Feb 27 18:18:00 CET 2003</date>
    <body>Try looking in the API docs for SAXReader: http://dom4j.org/apidocs/org/dom4j/Document.html http://java.sun.com/products/jdk/1.3/docs/api/java/io/InputStream.html http://java.sun.com/products/jdk/1.3/docs/api/java/lang/String.html http://dom4j.org/apidocs/org/dom4j/DocumentException.html |@param systemId| is the base URI for the input I think dom4j uses whichever parser it finds in your classpath. If you have Crimson AND Xerces, I'm not sure how you specify, but I know it is possible.  Seems like dom4j.org has info on it. Samuel Cheung wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAX Parse Exception</header>
    <date>Wed Feb 26 22:32:00 CET 2003</date>
    <body>Hi, I have the follow code to parse a file, and my file reference an external DTD ../style/modulesynopsis.dtd like this: .... but I got an Nested exception: org.xml.sax.SAXParseException: Relative URI "../style/modulesynopsis.dtd"; can not be resolved without a base URI. Could some one please tell me what did I miss? And How can I switch to use xerces instead of crimson parser? Thanks for any help Document document = reader.read( Nested exception: org.xml.sax.SAXParseException: Relative URI "../style/modulesynopsis.dtd"; can not be resolved without a base URI. at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3182) at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3176) at org.apache.crimson.parser.Parser2.resolveURI(Parser2.java:2758) at org.apache.crimson.parser.Parser2.maybeExternalID(Parser2.java:2730) at org.apache.crimson.parser.Parser2.maybeDoctypeDecl(Parser2.java:1129) at org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:489) at org.apache.crimson.parser.Parser2.parse(Parser2.java:305) at org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:442) at org.dom4j.io.SAXReader.read(SAXReader.java:323) at org.dom4j.io.SAXReader.read(SAXReader.java:24</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAX Parse Exception</header>
    <date>Thu Feb 27 13:52:00 CET 2003</date>
    <body>The error message is pretty accurate- since you're not loading your doc from a URL, there is no base URL to derive the relative URL of your DTD.  What does file.getContents() do? If it is just loading the contents of the file from disk into a string or something, you'd be better off just passing a URL to the sax reader.  Otherwise I believe you are able to set a base URL on the sax reader for entity resolution, you might give that a shot. Samuel Cheung wrote:</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] extending DefaultElement</header>
    <date>Tue Feb 25 21:35:00 CET 2003</date>
    <body>Hi, Have you overriddent the right createElement method ? you need to override the createElement(QName) Have you configured the saxreader to use you document factory? Mike Skells http://search.msn.nl http://thinkgeek.com/sf=20 https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] extending DefaultElement</header>
    <date>Wed Feb 26 21:55:00 CET 2003</date>
    <body>Where do I find documentation about classes like DefaultElement? I did not know they are accessible from "outside" without their interfaces. Igor http://search.msn.nl http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Tue Feb 04 11:03:00 CET 2003</date>
    <body>-- +++ GMX - Mail, Messaging &amp;amp; more http://www.gmx.net +++ NEU: Mit GMX ins Internet. Rund um die Uhr für 1 ct/ Min. surfen!</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Mon Feb 24 10:18:00 CET 2003</date>
    <body>Hi All, Please let me know the solution for the following problem which iam facing. I had upgraded to JVM 1.4.0 and I am receiving the error message: Connection refused When I switch  back to 1.3.1 JVM the parser works fine. My XML document has a DOCTYPE statement in it which points to a DTD that's on other Machine. iam following the UNC ( Universal naming conventions i.e. //machinename/shared_drive/xmlfilename.xml  ) Thanks, D Anja Reddy</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Wed Feb 26 21:51:00 CET 2003</date>
    <body>Mike, I indeed took the wrong one. Thanx dennis _________________________________________________________________ Hotmail en Messenger on the move http://www.msn.nl/communicatie/smsdiensten/hotmailsmsv2/</body>
  </mail>
  <mail>
    <header>[dom4j-user] extending DefaultElement</header>
    <date>Tue Feb 25 20:53:00 CET 2003</date>
    <body>Hello, I extend from defaultElement and want the saxreader to produce a document filled with these extended elements , what am i to do? I tried overriding documentfactory method createElement and pass this to the reader constructor , but it does not seem to be called (see nothing with system.out.print) regards dennis _________________________________________________________________ MSN Zoeken, voor duidelijke zoekresultaten! http://search.msn.nl</body>
  </mail>
  <mail>
    <header>[dom4j-user] AW: Lapse in JavaDoc - recantation</header>
    <date>Tue Feb 25 16:51:00 CET 2003</date>
    <body>My tests were wrong - now it works perfectly well. %-| Sorry for the confusion. Need to go home, get some sleep... ;-) Regards, Ilja http://www.dom4j.org/apidocs/org/dom4j/Element.html#elements () http://www.disy.net http://www.disy.net ++</body>
  </mail>
  <mail>
    <header>[dom4j-user] Lapse in JavaDoc</header>
    <date>Tue Feb 25 16:43:00 CET 2003</date>
    <body>Hi, At http://www.dom4j.org/apidocs/org/dom4j/Element.html#elements () (and similar places) it is stated that "The list is backed by the element such that changes to the list will be reflected in the element though the reverse is not the case." Tests show that this isn't the case - probably it's exactly the reverse (changes to the element are reflected in the list)? Regards, Ilja=20 --=20 ++ disy auf der CeBIT: Besuchen Sie uns vom 12. - 19. M=E4rz 2003 in Hannover im SUN-Partnerpavillon in Halle 1, Stand 8a1 ++ ++ disy Cadenza: Informationsintegration am i*net Arbeitsplatz ++ ++ disy Conference: The easy way of audio conferencing ++ ++ disy Call-Back Office: Call-Back-Buttons f=FCr Kundenservice im Web = ++ Ilja Preu=DF                                  preuss@... disy Informationssysteme GmbH http://www.disy.net Stephanienstr. 30                           Tel: +49 721 1 600 624 D-76133 Karlsruhe, Germany                  Fax: +49 721 1 600 605 ++ Weitere Informationen finden Sie unter http://www.disy.net ++=20</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XPath w/ Namespace</header>
    <date>Tue Feb 25 08:14:00 CET 2003</date>
    <body>By default, IIRC, the namespace mappings used in the XPath expression are the same as those in the Document you run the query against.  But using plain XPath you could do something like this): /aaa[namespace-uri(.) = ' http://www.dom4j.org']/bbb[namespace-uri (.) = ' http://www.dom4j.org '] alternatively (using the dom4j api) you could also do something like this: nsMap.put("foo", " http://www.dom4j.org Hope this helps, -- knut http://www.dom4j.org"&amp;gt;&amp;lt;nsa:bbb&amp;gt;foo&amp;lt;/nsa:bbb&amp;gt;&amp;lt;/nsa:aaa http://www.dom4j.org"&amp;gt;&amp;lt;nsb:bbb&amp;gt;foo&amp;lt;/nsb:bbb&amp;gt;&amp;lt;/nsb:aaa http://www.dom4j.org"&amp;gt;&amp;lt;bbb&amp;gt;foo&amp;lt;/bbb&amp;gt;&amp;lt;/aaa http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XPath w/ Namespace</header>
    <date>Tue Feb 25 10:04:00 CET 2003</date>
    <body>Thanks for your help, Knut. I already thought about using the XPath interface. But this requires much code rewriting for me and my partners. Could there be some other simple way like adding a new namespace declaration to the document and using it? Igor -----Original Message----- From: Wannheden, Knut [mailto:knut.wannheden@...] Sent: Tuesday, February 25, 2003 9:14 AM To: dom4j-user@... Cc: 'Igor Akkerman' Subject: RE: [dom4j-user] XPath w/ Namespace By default, IIRC, the namespace mappings used in the XPath expression are the same as those in the Document you run the query against.  But using plain XPath you could do something like this): /aaa[namespace-uri(.) = ' http://www.dom4j.org']/bbb[namespace-uri (.) = ' http://www.dom4j.org '] alternatively (using the dom4j api) you could also do something like this: nsMap.put("foo", " http://www.dom4j.org Hope this helps, -- knut http://www.dom4j.org"&amp;gt;&amp;lt;nsa:bbb&amp;gt;foo&amp;lt;/nsa:bbb&amp;gt;&amp;lt;/nsa:aaa http://www.dom4j.org"&amp;gt;&amp;lt;nsb:bbb&amp;gt;foo&amp;lt;/nsb:bbb&amp;gt;&amp;lt;/nsb:aaa http://www.dom4j.org"&amp;gt;&amp;lt;bbb&amp;gt;foo&amp;lt;/bbb&amp;gt;&amp;lt;/aaa http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XPath w/ Namespace</header>
    <date>Tue Feb 25 10:34:00 CET 2003</date>
    <body>/aaa[namespace-uri()=3D" http://www.dom4j.org "] won't work in plain = XPath. The name step 'aaa' with no prefix matches nodes with local name 'aaa' in no namespace. You could instead use (as does dom4j in the getPath() = method): /*[local-name()=3D"aaa" and namespace-uri()=3D" http://www.dom4j.org "] Not pretty but it works. -- Steen -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Wannheden, = Knut Sent: 25. februar 2003 09:14 To: dom4j-user@... Cc: 'Igor Akkerman' Subject: RE: [dom4j-user] XPath w/ Namespace By default, IIRC, the namespace mappings used in the XPath expression = are the same as those in the Document you run the query against.  But using plain XPath you could do something like this): /aaa[namespace-uri(.) =3D = ' http://www.dom4j.org']/bbb[namespace-uri (.) =3D ' http://www.dom4j.org']=20 alternatively (using the dom4j api) you could also do something like = this:=20 XPath xp =3D = DocumentFactory.getInstance().createXPath("/foo:aaa/foo:bbb");=20 Map nsMap =3D new HashMap();=20 nsMap.put("foo", " http://www.dom4j.org");=20 xp.setNamespaceURIs(nsMap);=20 xp.selectNodes(yourContextNode);=20 Hope this helps,=20 --=20 knut=20 http://www.dom4j.org"&amp;gt;&amp;lt;nsa:bbb&amp;gt;foo&amp;lt;/nsa:bbb&amp;gt;&amp;lt;/nsa:aaa&amp;gt;=20 http://www.dom4j.org"&amp;gt;&amp;lt;nsb:bbb&amp;gt;foo&amp;lt;/nsb:bbb&amp;gt;&amp;lt;/nsb:aaa&amp;gt;=20 http://www.dom4j.org"&amp;gt;&amp;lt;bbb&amp;gt;foo&amp;lt;/bbb&amp;gt;&amp;lt;/aaa&amp;gt;=20 http://thinkgeek.com/sf=20 https://lists.sourceforge.net/lists/listinfo/dom4j-user=20</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XPath w/ Namespace</header>
    <date>Tue Feb 25 13:26:00 CET 2003</date>
    <body>Igor, As Steen pointed out there was an error in the XPath expression I wrote in my last reply.  See his post for the correct expression.  I guess an other alternative would be to query the Document for the namespace prefix used in the Document. String fooNs = d.getRootElement().getNamespaceForURI(" http://www.dom4j.org").getPrefix But that's kind of ugly too. I don't see an easy way to add a namespace to the Document.  The namespace specification doesn't allow an element to declare two namespace mappings for the same URI (unless one of them is the default namespace).  So unless you of course know that the root element doesn't define a namespace mapping for the URI, this won't work. -- knut http://www.dom4j.org']/bbb[namespace-uri (.) http://www.dom4j.org '] http://www.dom4j.org http://www.dom4j.org"&amp;gt;&amp;lt;nsa:bbb&amp;gt;foo&amp;lt;/nsa:bbb&amp;gt;&amp;lt;/nsa:aaa http://www.dom4j.org"&amp;gt;&amp;lt;nsb:bbb&amp;gt;foo&amp;lt;/nsb:bbb&amp;gt;&amp;lt;/nsb:aaa http://www.dom4j.org"&amp;gt;&amp;lt;bbb&amp;gt;foo&amp;lt;/bbb&amp;gt;&amp;lt;/aaa http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath w/ Namespace</header>
    <date>Tue Feb 25 06:52:00 CET 2003</date>
    <body>Hi, how do I address an element with an xpath that has a namespace not knowing what prefix is set for the namespace? Here is an example document: http://www.dom4j.org"&amp;gt;&amp;lt;nsa:bbb&amp;gt;foo&amp;lt;/nsa:bbb&amp;gt;&amp;lt;/nsa:aaa I used the xpath expression "/nsa:aaa/nsa:bbb" to get the nsa:bbb element. But what if the document looks like this? http://www.dom4j.org"&amp;gt;&amp;lt;nsb:bbb&amp;gt;foo&amp;lt;/nsb:bbb&amp;gt;&amp;lt;/nsb:aaa The second document is absolutely equivalent to the first since the namespace prefix is only symbolic for the url which is equal for both documents. Also the following document is equivalent: http://www.dom4j.org"&amp;gt;&amp;lt;bbb&amp;gt;foo&amp;lt;/bbb&amp;gt;&amp;lt;/aaa How can I ignore the prefix for addressing elements? (The document may contain two or three different namespaces, so I cannot only use the local name!) Igor</body>
  </mail>
  <mail>
    <header>[dom4j-user] Even tried with JVM 1.4.0_01</header>
    <date>Mon Feb 24 10:52:00 CET 2003</date>
    <body>Hi All, I even tried with  JVM 1.4.0_01 but no use iam getting the same error. Please let me the solution if any had came across such a problem. Thanks, D Anja Reddy</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Even tried with JVM 1.4.0_01</header>
    <date>Mon Feb 24 17:16:00 CET 2003</date>
    <body>Dhadi How do you declare DocType in your XML file (can you copy/paste the declaration in an e-mail)? Also, which parser are you using and have you tried using some public ID (e.g. XHTML or something)? Have you changed any of the security (policy) settings in your JDK 1.3 installation? Best regards Ben On Mon, 2003-02-24 at 10:51, Dhadi Anja Reddy , Gurgaon wrote: http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem transforming with dom4j</header>
    <date>Mon Feb 24 16:53:00 CET 2003</date>
    <body>public String process(String xmlString, String xslFile) throws TransformerConfigurationException, TransformerException, DocumentException, Document document = reader.read(new InputSource(new Transformer transformer = factory.newTransformer(new StreamSource(new I've tested the two parameters ("xmlString" and "xslFile") and they have the information that I want. I'm using this class inside a bean and every time I try to transform the generated XML (which is valid! I tested it with XML Spy 5) it keeps giving me the following error: -------- javax.xml.transform.TransformerFactoryConfigurationError: Provider null could not be instantiated: java.lang.NullPointerException at javax.xml.transform.TransformerFactory.newInstance(Unknown Source) -------- I can't figure out what the problem is!? I've never had this problem before. Can someone help me please.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Has someone tested this?</header>
    <date>Fri Feb 21 09:01:00 CET 2003</date>
    <body>Hy there. I found recently a Java/XML parser by the name of "FastParser" from http://www.japisoft.com It says here that it can be faster than Xerces and JDK1.4 integrated parser up to 400%!!! And looking at there benchmarks, it looks like it can be faster than dom4j about 3 times! Can someone comment on this? Has anyone tried this parser?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Has someone tested this?</header>
    <date>Fri Feb 21 14:20:00 CET 2003</date>
    <body>But DOM4J still needs a parser.  So the numbers may have been with the JAXP stock parser for JDK1.4.1.  I am interested in comparing the performance of DOM4J under Xerces and FastParser. Anyone else interested? Later, Dave -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Has someone tested this?</header>
    <date>Sat Feb 22 02:54:00 CET 2003</date>
    <body>I ran a few of my JUnit tests and feel that the following represents the deltas in performance against dom4j 1.3+.  Keep in mind the test was the same using the same code accessing DOM4J.  The only differences between these tests was the SAX Parser being used.  Keep in mind that they may have a more effiecient use of SAX and DOM handlers and this comparison does not take in account the best options for each parser. Parser                   |      Gain =========================+=============== Xerces 2.0.1             |      0.98 Xerces 2.3.0             |      1.00 FastParser (JAPISoft)    |      1.16 JDK 1.4.1 (JAXP default) |      1.18 I still have more tests to run, but in the initial review, it does look like a simple test ran with different JAXP Sax Driver / Parsers and it appears that JDK 1.4.1 is the winner with an improvement over my baseline of 18% better.  FastParser came in at 16% better than my baseline of Xerces 2.3.0.  Of course I only saw about 2 to 5% improvement between 2.0.1 and 2.3.0. As soon as I get the latest DOM4J setup, I will run again.  Any additional news I will gladly publish. Thanks, Dave David D. Lucas wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Has someone tested this?</header>
    <date>Sat Feb 22 02:58:00 CET 2003</date>
    <body>Here is a link to a good overview on SAX Parsers. See http://piccolo.sourceforge.net/bench.html . Later, Dave -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Has someone tested this?</header>
    <date>Sat Feb 22 03:39:00 CET 2003</date>
    <body>My simple DOM4J test REVISED to include Piccolo 1.03, WOW! I see a 35% gain using Piccolo over Xerces 2.3.0.  Hmmm, I may end up packaging Piccolo with this boost. :-) Parser                   |      Gain =========================+=============== Xerces 2.0.1             |      0.98 Xerces 2.3.0             |      1.00 FastParser (JAPISoft)    |      1.16 JDK 1.4.1 (JAXP default) |      1.18 Piccolo 1.03             |      1.35 -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Persistent DOM</header>
    <date>Fri Feb 21 09:14:00 CET 2003</date>
    <body>I read somewhere that using a persistent DOM is possible to work with very big xml files without the need of a gigabytes of ram. Does anyone knows a working version of a persistent DOM?! Thanks, federico site: http://chicco.grafedi.it mobile: +393284087745 --------------------------------------------------------------- "A rock pile ceases to be a rock pile the moment a single man contemplates it, bearing within him the image of a cathedral." Antoine de Saint-Exupery</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Persistent DOM</header>
    <date>Fri Feb 21 23:56:00 CET 2003</date>
    <body>Maybe PDOM - from http://www.infonyte.com . A commercial product, which I have not used, and have no association with blah blah. - Thomas. At 10:13 21/02/2003 +0100, Federico Michele Facca wrote: http://chicco.grafedi.it https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] DTD Parser</header>
    <date>Fri Feb 21 17:29:00 CET 2003</date>
    <body>Hi, Can someone please tell me where can I find a DTD Parser? What kind of data structure it will build? I would like to do stuff like this: 1. given an ElementName, can that ElementName has a child named "aChildName"? 2. given an ElementName, what are the requried attributes? Thank you for pointer.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DTD Parser</header>
    <date>Fri Feb 21 18:28:00 CET 2003</date>
    <body>Try http://wutka.com/dtdparser.html The only other option is Sun's MSV but I find it difficult to use and overkill for what you're asking about. Wutka's parser builds a pretty usable structure of objects that you can access.  Check out his API docs. Have fun Samuel Cheung wrote:</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Has someone tested this?</header>
    <date>Fri Feb 21 10:43:00 CET 2003</date>
    <body>It is commercial software. The license states: This unregistered software is only for evaluation, any other usage is unauthorized. Evaluation is limited to 30 days. You may not, under any circumstances: C. Distribute or publish copies of the Software or resell, lease, rent, D. Create derivative works based upon the Software; or E. Attempt in any way to falsify the licensing file and/or or bypass the licensing procedures for the Software. -jason -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@... Behalf Of Carlos Barroso Sent: Friday, February 21, 2003 1:02 AM To: dom4j-user@... Subject: [dom4j-user] Has someone tested this? Hy there. I found recently a Java/XML parser by the name of "FastParser" from http://www.japisoft.com It says here that it can be faster than Xerces and JDK1.4 integrated parser up to 400%!!! And looking at there benchmarks, it looks like it can be faster than dom4j about 3 times! Can someone comment on this? Has anyone tried this parser? ------------------------------------------------------- This SF.net email is sponsored by: SlickEdit Inc. Develop an edge. The most comprehensive and flexible code editor you can use. Code faster. C/C++, C#, Java, HTML, XML, many more. FREE 30-Day Trial. http://www.slickedit.com/sourceforge _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Has someone tested this?</header>
    <date>Fri Feb 21 16:15:00 CET 2003</date>
    <body>Yes! -----Original Message----- From: David D. Lucas [mailto:ddlucas@... Sent: Friday, February 21, 2003 8:19 AM To: Carlos Barroso Cc: dom4j-user@... Subject: Re: [dom4j-user] Has someone tested this? But DOM4J still needs a parser.  So the numbers may have been with the=20 JAXP stock parser for JDK1.4.1.  I am interested in comparing the=20 performance of DOM4J under Xerces and FastParser. Anyone else interested? Later, Dave --=20 +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= 3Dhttp://www.lse.com/~ddlucas/pgpblock.txt IMHO=3D"in my humble opinion" IMHC=3D"in my humble conviction" All trademarks above are those of their respective owners. ------------------------------------------------------- This SF.net email is sponsored by: SlickEdit Inc. Develop an edge. The most comprehensive and flexible code editor you can use. Code faster. C/C++, C#, Java, HTML, XML, many more. FREE 30-Day Trial. http://www.slickedit.com/sourceforge _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] domfj read(URL) proxy server issue</header>
    <date>Fri Feb 21 10:31:00 CET 2003</date>
    <body>Hi, I use the following code to retrieve a remote XML document in my programme. The problem is that the programme needs to access the URL through a proxy server. I have tried to do this using the java code: which works for normal URL access, but as in the code below does not seem to work when retreiving by read( URL ) method. url = new URL( " http://www.testsite.com/test.xml ... Grateful for any help, Lea ================================== This message contains confidential information and is intended solely for the use of the individual or entity to whom it is addressed. If you are not the named addressee you should not disseminate, distribute or copy this email. Please inform the sender immediately if you have received this e-mail by mistake and delete this email from your system. Email transmission cannot be guaranteed to be secure or error-free as information could be intercepted, corrupted, lost, destroyed, arrive late or be incomplete. The sender therefore does not accept liability for any errors or omissions in the contents of this message, which arise as a result of email transmission. If verification is required please request a hard copy version. No contracts may be concluded on behalf of Virgin Express SA/NV by means of email communication. Finally, the recipient should check this e-mail and any attachments for the presence of viruses. The company accepts no liability for any damage caused by any virus transmitted by this email. ==================================</body>
  </mail>
  <mail>
    <header>[dom4j-user] Next version of dom4j</header>
    <date>Thu Feb 20 10:38:00 CET 2003</date>
    <body>Hy. Some months ago someone said that dom4j was being mavenized. When will we see the next final release of dom4j?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Validating XML with DTD</header>
    <date>Wed Feb 19 14:14:00 CET 2003</date>
    <body>Hi. Clarification on what I am trying to do is this: I have a Document, but I need to validate it against a DTD. So, I convert it into a String and feed the String into a StringReader. The StringReader is passed in as the parameter for creating a SaxReader. // convert dom4j Document to String // read stringified document with validation turned on for SaxReader instance The Document's looks like this: "StandingXML.dtd"&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;processinfo&amp;gt;&amp;lt;timestamp&amp;gt;Wed Feb 19 14:09:00 GMT - - org.dom4j.DocumentException: null Nested exception: null at org.dom4j.io.SAXReader.read(SAXReader.java:342) Nested exception: java.net.MalformedURLException at java.net.URL.&amp;lt;init&amp;gt;(URL.java:613) at java.net.URL.&amp;lt;init&amp;gt;(URL.java:476) I've put the StandingXML.dtd where the calling class gets compiled to, but to no avail. Any ideas? Thanks, Portia |         |           "James Strachan" | |         |           &amp;lt;james_strachan@...| |         |           ahoo.co.uk&amp;gt;      | |         |                            | |         |           19/02/2003 07:56 | |         |                            | &amp;gt;---------------------------------------------------------------------------------------------------------------| |                                                                                                               | |       To:       "Dom4j-User" &amp;lt;dom4j-user@...&amp;gt;, &amp;lt;Portia.Tung@...&amp;gt;                         | |       cc:                                                                                                     | |       Subject:  Re: [dom4j-user] Validating XML with DTD                                                      | &amp;gt;---------------------------------------------------------------------------------------------------------------| BTW if you look at your document via standingXML.asXML() does it look right? So is there a file called "standingXML" on your file system somewhere? Is it in the current directory, along with the DTD? XML doesn't use the classpath by default to load XML files. If you want to use the classpath or class loader mechanism then you need to pass in a URL yourself. e.g. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com ********************************************************************************** This email may contain confidential material. If you were not an intended recipient, please notify the sender and delete all copies. We may monitor email to and from our network.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Validating XML with DTD</header>
    <date>Wed Feb 19 18:54:00 CET 2003</date>
    <body>First off, when you use a StringReader (or any Reader) with an XML parser, its got no way of knowing where to look for related files like DTDs or XSDs. However if you were to write this file to disk somewhere then parse it via a URL then it'd find your DTD. Having said all that - if what you want to do is validate an XML document against a DTD, even though the DOCTYPE might not be in the XML document, you can use the JARV API and Sun's MSV library to do this. There's an example of doing that here... dom4j/src/samples/validate/ JARVDemo.java James ------- http://radio.weblogs.com/0112098/ Sent: Wednesday, February 19, 2003 2:14 PM Subject: Re: [dom4j-user] Validating XML with DTD SaxReader ------------------------------------| | | | ------------------------------------| compiling http://radio.weblogs.com/0112098/ http://uk.my.yahoo.com **************************************************************************** ****** __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Reading the euro symbol in a file using the
    SAXReader</header>
    <date>Wed Feb 19 12:20:00 CET 2003</date>
    <body>Turns out I wasn't encoding the actual content of my XML output as UTF-16, but because Windows Cp1252 (WinLatin1) charset resolves a paticular UTF-8 char to the euro symbol, it fooled me into thinking I was encoding the output simply by setting the output format on the OutputFormat class. This is because when I opened the file in Windows using XMLSpy, it displayed the euro symbol correctly. The complete and correct solution is: OutputStreamWriter out = new OutputStreamWriter(new XMLWriter writer = new XMLWriter(out, new OutputFormat("   ", true, Thanks! Portia |         |           "James Strachan" | |         |           &amp;lt;james_strachan@...| |         |           ahoo.co.uk&amp;gt;      | |         |                            | |         |           19/02/2003 08:03 | |         |                            | &amp;gt;---------------------------------------------------------------------------------------------------------------| |                                                                                                               | |       To:       &amp;lt;dom4j-user@...&amp;gt;, &amp;lt;Portia.Tung@...&amp;gt;                                      | |       cc:                                                                                                     | |       Subject:  Re: [dom4j-user] Reading the euro symbol in a file using the SAXReader                        | &amp;gt;---------------------------------------------------------------------------------------------------------------| euro (0x80) Java's Whats you XML document look like? Its probably to do with the encoding of the XML document. Do you include an encoding &amp;lt;?xml version="1.0" encoding="..."?&amp;gt; section? James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com ********************************************************************************** This email may contain confidential material. If you were not an intended recipient, please notify the sender and delete all copies. We may monitor email to and from our network.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] diff tool for xml</header>
    <date>Wed Feb 19 08:31:00 CET 2003</date>
    <body>There is also a Sourceforge project with a Java tool released under GPL license: http://diffxml.sourceforge.net/ http://diffxml.sourceforge.net/ -- knut -----Original Message----- From: James Strachan [mailto:james_strachan@...] Sent: Mittwoch, 19. Februar 2003 09:08 To: Samuel Cheung; dom4j-user@... Subject: Re: [dom4j-user] diff tool for xml Haven't tried any of them but google found me these... http://www.logilab.org/xmldiff/ http://www.logilab.org/xmldiff/ http://www-106.ibm.com/developerworks/xml/library/x-diff/ http://www-106.ibm.com/developerworks/xml/library/x-diff/ http://www.alphaworks.ibm.com/tech/xmldiffmerge http://www.alphaworks.ibm.com/tech/xmldiffmerge James ------- http://radio.weblogs.com/0112098/ http://radio.weblogs.com/0112098/ From: Samuel  &amp;lt;mailto:SCheung@...&amp;gt; Cheung To: 'dom4j-user@...' Sent: Saturday, February 15, 2003 7:26 PM Subject: [dom4j-user] diff tool for xml Hi, Does anyone know if there is a diff tool for xml in Java? A tool which compares dom structure instead of line by line comparison? Thank you.</body>
  </mail>
  <mail>
    <header>[dom4j-user] diff tool for xml</header>
    <date>Sat Feb 15 19:26:00 CET 2003</date>
    <body>Hi, Does anyone know if there is a diff tool for xml in Java? A tool which compares dom structure instead of line by line comparison? Thank you.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] diff tool for xml</header>
    <date>Wed Feb 19 08:10:00 CET 2003</date>
    <body>Haven't tried any of them but google found me these... http://www.logilab.org/xmldiff/ http://www-106.ibm.com/developerworks/xml/library/x-diff/ http://www.alphaworks.ibm.com/tech/xmldiffmerge James ------- http://radio.weblogs.com/0112098/ From: Samuel Cheung=20 To: 'dom4j-user@... Sent: Saturday, February 15, 2003 7:26 PM Subject: [dom4j-user] diff tool for xml Hi, Does anyone know if there is a diff tool for xml in Java? A tool which = compares dom structure instead of line by line comparison? Thank you.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Bug in remove functions?</header>
    <date>Mon Feb 10 08:21:00 CET 2003</date>
    <body />
  </mail>
  <mail>
    <header>Re: [dom4j-user] Bug in remove functions?</header>
    <date>Wed Feb 19 08:08:00 CET 2003</date>
    <body>I guess this is a bug that needs fixing. I suppose setRootElement() = should only remove any existing Element instances but keep any PI or = comments. I guess the Element should be appended to the end of the = Document's content() List. James ------- http://radio.weblogs.com/0112098/ From: Christian Holmqvist, IT, Posten=20 To: 'dom4j-user@... Sent: Monday, February 10, 2003 8:21 AM Subject: [dom4j-user] Bug in remove functions? (I posted this msg f=F6r about a month ago but did not get any feed = back, henc repost...) Hi I got a document that look like this: What I want to do is to move the Process instruction to be located = right after the xml tag (&amp;lt;?xml....?&amp;gt;). I can do this with these lines: And the result is like this: And this is correct. BUT if I instead do: The result looks like this: As you can see the Process instruction (&amp;lt;?kalle kalle?&amp;gt;) is removed = and it should not be since I only detached the rootelement and only set = a new root element... Is this a bug in dom4j or have I missed something in the = implementation? Thankfull for any input! Cheers Christian Holmqvist</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to know the encoding of the input file</header>
    <date>Wed Feb 12 09:50:00 CET 2003</date>
    <body>Hi! I want to read a File in dom4j - change some things - and than write to the File, with the same encoding. How to do this? I do not see a change to get the information of the encoding in the header of the xml file!? -- Beste Grüße / Best Regards, Marc Pellmann __________________________________________________________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to know the encoding of the input file</header>
    <date>Wed Feb 19 08:06:00 CET 2003</date>
    <body>We need to patch the code to preserve the encoding of the document in the Document instance so that by default writing out a document will preserve the orignal encoding. Right now you have to remember those details yourself and specify it to the OutputFormat for XMLWriter. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Reading the euro symbol in a file using the SAXReader</header>
    <date>Thu Feb 13 10:44:00 CET 2003</date>
    <body>I get the following exception when I try to read a file containing the euro symbol: org.dom4j.DocumentException: invalid byte 1 of 1-byte UTF-8 sequence (0x80) Nested exception: invalid byte 1 of 1-byte UTF-8 sequence (0x80) at org.dom4j.io.SAXReader.read(SAXReader.java:342) at org.dom4j.io.SAXReader.read(SAXReader.java:218) at org.dom4j.io.SAXReader.read(SAXReader.java:207) I know that the symbol has been encoded properly because when I use Java's BufferedReader to read in the file, the symbol is displayed correctly. Any ideas? Thanks, Portia ********************************************************************************** This email may contain confidential material. If you were not an intended recipient, please notify the sender and delete all copies. We may monitor email to and from our network.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Reading the euro symbol in a file using the SAXReader</header>
    <date>Wed Feb 19 08:05:00 CET 2003</date>
    <body>euro (0x80) Whats you XML document look like? Its probably to do with the encoding of the XML document. Do you include an encoding &amp;lt;?xml version="1.0" encoding="..."?&amp;gt; section? James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problems in configuring jaxp with dom4j</header>
    <date>Mon Feb 17 09:44:00 CET 2003</date>
    <body>Hy there. In my CLASSPATH I have: dom4j.jar, xercesImpl.jar, jaxp.jar I have created a "jaxp.properties" file in &amp;lt;JAVA_HOME&amp;gt;/jre/lib directory with the following line: javax.xml.parsers.SAXParserFactory=org.apache.xerces.jaxp.SAXParserFactoryIm pl ---------------------------------------- This is my small test class: ---------------------------------------- String file = " file:///d:\\tomcat\\conf\\apps-ROOT.xml ------------------ / ------------------ When I run this class it keeps giving me the warning: Warning: Error occurred using JAXP to load a SAXParser. Will use Aelfred instead It just can't find my xerces parser!? Is something missing? Can someone please help me.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problems in configuring jaxp with dom4j</header>
    <date>Wed Feb 19 08:04:00 CET 2003</date>
    <body>First off i'd recommend not using jaxp.jar any more and if you're using xerces then use either xmlParserAPIs.jar or xml-apis.jar from xml.apache.org. The former comes with Xerces and the latter is available seperately and comes with Xalan. xmlParserAPIs.jar = the parser part of JAXP xml-apis.jar = all of JAXP Basically JAXP has a way of configuring which parser to use via the META-INF/services/ mechanism. My guess is that the jaxp.jar contains the configuration for crimson. As described in the javadoc http://dom4j.org/javadoc/org/dom4j/io/SAXReader.html you can set the 'org.dom4j.verbose' system property to be "true" to see more detailed logging of why JAXP can't find a valid XML parser. James ------- http://radio.weblogs.com/0112098/ Sent: Monday, February 17, 2003 9:43 AM Subject: [dom4j-user] Problems in configuring jaxp with dom4j javax.xml.parsers.SAXParserFactory=org.apache.xerces.jaxp.SAXParserFactoryIm file:///d:\\tomcat\\conf\\apps-ROOT.xml http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Getting a comment, parsing &amp;gt; &amp;lt; "</header>
    <date>Wed Feb 19 01:13:00 CET 2003</date>
    <body>Hi I need to have something like this in my document: if((people.size() &amp;gt; 15) || (people == null)) However xml spec states that you can't have &amp;lt; (or &amp;gt; is it??? which one it is doesn't matter). So I assume dom4j wont parse this. So I thought I would do then use clauseElement.getText() and strip leading something like clauseElement.getComment().getText() ??? I couldn't find it in the JDocs. Just neater and simpler. Thanks, Joe __________________________________________________ Do you Yahoo!? Yahoo! Shopping - Send Flowers for Valentine's Day http://shopping.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Getting a comment, parsing &amp;gt; &amp;lt; "</header>
    <date>Wed Feb 19 05:53:00 CET 2003</date>
    <body>Joe, I couldn't find it anywhere, but I think you have to use ;&amp;amp;gt (or something like that) for the "&amp;gt;" sign within an element's value. Might even be in the w3c docs. HTH steve Joe wrote: http://shopping.yahoo.com http://www.slickedit.com/sourceforge https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Getting a comment, parsing &amp;gt; &amp;lt; "</header>
    <date>Wed Feb 19 08:00:00 CET 2003</date>
    <body>Stephen's right, characters like &amp;lt; &amp;gt; &amp;amp; must be encoded (escaped) as &amp;amp;lt; or &amp;amp;gt; or &amp;amp;amp;. Joe your other option is to use a CDATA section which can include &amp;lt; &amp;gt; etc if((people.size() &amp;gt; 15) || (people == null)) James ------- http://radio.weblogs.com/0112098/ Sent: Wednesday, February 19, 2003 1:38 AM Subject: Re: [dom4j-user] Getting a comment, parsing &amp;gt; &amp;lt; " http://shopping.yahoo.com http://www.slickedit.com/sourceforge https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.slickedit.com/sourceforge https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Validating XML with DTD</header>
    <date>Tue Feb 18 10:20:00 CET 2003</date>
    <body>(BTW, I've already looked at the following mail: and it didn't provide sufficient information for what I need.) Hi. I am currently doing the following: Document standingXML = and then: where "docIn" is "standingXML". However, I get the following exception: org.dom4j.DocumentException: null Nested exception: null at org.dom4j.io.SAXReader.read(SAXReader.java:342) at org.dom4j.io.SAXReader.read(SAXReader.java:256) Nested exception: java.net.MalformedURLException at java.net.URL.&amp;lt;init&amp;gt;(URL.java:613) at java.net.URL.&amp;lt;init&amp;gt;(URL.java:476) at java.net.URL.&amp;lt;init&amp;gt;(URL.java:425) I've already put "StandingXML.dtd" into the location where I am compiling my class "X" so that it will be picked up, but this does not work. Any ideas? I am don't think I need to use the EntityResolver interface. Thanks for your help! Portia ********************************************************************************** This email may contain confidential material. If you were not an intended recipient, please notify the sender and delete all copies. We may monitor email to and from our network.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Validating XML with DTD</header>
    <date>Wed Feb 19 07:58:00 CET 2003</date>
    <body>BTW if you look at your document via standingXML.asXML() does it look right? So is there a file called "standingXML" on your file system somewhere? Is it in the current directory, along with the DTD? XML doesn't use the classpath by default to load XML files. If you want to use the classpath or class loader mechanism then you need to pass in a URL yourself. e.g. James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Configuring jaxp</header>
    <date>Fri Feb 14 14:30:00 CET 2003</date>
    <body>Hy there. I=B4m having trouble configuring jaxp to use xerces for parsing a xml = file. It keeps giving me the following message: Warning: Error occurred using JAXP to load a SAXParser. Will use Aelfred instead I almost have the code right, but I don't know what is the property = that I have to change: parser.setProperty(    );    &amp;lt;&amp;lt;&amp;lt;&amp;lt;=20 What do I have to put in the above line so I can use the xerces parser? Please help.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Configuring jaxp</header>
    <date>Fri Feb 14 18:33:00 CET 2003</date>
    <body>Have you read this FAQ? http://dom4j.org/=20 faq.html#What%20does%20the%20following%20mean%20'Warning:%20Error%20occu=20= rred%20using%20JAXP%20to%20load%20a%20SAXParser.%20Will%20use%20Aelfred%=20= 20instead' I also believe that dom4j automatically picks up the first =20 JAXP-compliant parser in its classpath. If you want to be pick one (in =20= case you have 2 competing parsers), you probably can use this property =20= "javax.xml.parsers.SAXParserFactory", for example: -=20 D"javax.xml.parsers.SAXParserFactory=3Dorg.apache.xerces.jaxp.SAXParserFac= =20 toryImpl" Han Ming On Friday, February 14, 2003, at 06:30  AM, Carlos Barroso wrote: parser? issues. http://ads.sourceforge.net/cgi-bin/redirect.pl?thaw0026en https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Process Instruction placement problem</header>
    <date>Mon Feb 10 08:21:00 CET 2003</date>
    <body />
  </mail>
  <mail>
    <header>[dom4j-user] Re: formatting XML issue</header>
    <date>Sat Feb 08 10:34:00 CET 2003</date>
    <body>James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Create Document...</header>
    <date>Mon Feb 03 15:42:00 CET 2003</date>
    <body>Hi :) I would like to known if i can create a document from a specific xpath: "root/pages/page1" "root/pages/page2" "root/pages/page2" The document should represent the follow "tree": This is possible? Tks H=E9lder Sousa Departamento de  Projectos e-Business=20 I2S - Inform=E1tica Sistemas e Servi=E7os=20 http://www.i2s.pt/ Tel.: +351 22 834 04 00; Fax: +351 22 834 07 95=20 Portugal=20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Create Document...</header>
    <date>Thu Feb 06 09:00:00 CET 2003</date>
    <body>There's a helper method available for this. James ------- http://radio.weblogs.com/0112098/ Sent: Monday, February 03, 2003 3:42 PM Subject: [dom4j-user] Create Document... Hi :) I would like to known if i can create a document from a specific xpath: "root/pages/page1" "root/pages/page2" "root/pages/page2" The document should represent the follow "tree": This is possible? Tks Hélder Sousa Departamento de  Projectos e-Business I2S - Informática Sistemas e Serviços http://www.i2s.pt/ Tel.: +351 22 834 04 00; Fax: +351 22 834 07 95 Portugal ------------------------------------------------------- This SF.NET email is sponsored by: SourceForge Enterprise Edition + IBM + LinuxWorld =omething 2 See! http://www.vasoftware.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Create Document...</header>
    <date>Thu Feb 06 18:49:00 CET 2003</date>
    <body>On Thursday, February 6, 2003, at 12:59  AM, James Strachan wrote: Sorry for the nitpick but I suppose you meant Element page1 =3D DocumentHelper.makeElement(doc, = right? It would be super cool if you can do something like the following=20 though: Element page1 =3D = Element parent =3D ... int pos =3D ... // get pos from convoluted algorithm somewhere In this case, I can still use XPath to create element and have the=20 liberty to insert it anywhere. Thanks for the good work, Han Ming http://radio.weblogs.com/0112098/ xpath: http://www.i2s.pt/ http://www.vasoftware.com https://lists.sourceforge.net/lists/listinfo/dom4j-user http://uk.my.yahoo.com http://www.vasoftware.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Create Document...</header>
    <date>Thu Feb 06 19:20:00 CET 2003</date>
    <body>On Thursday, February 6, 2003, at 11:08  AM, James Strachan wrote: Sorry, the first line should be /* this would be the equivalent of slowly using DocumentFactory.createElement() to create "foo" and then "bar" */ and the last line should be Hope that it makes sense now, Han Ming</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Create Document...</header>
    <date>Thu Feb 06 19:09:00 CET 2003</date>
    <body>You're right, the makeElement method should have taken doc as the first parameter. I don't quite follow your second suggestion but I think it assumes a List containing all elements anywhere in the tree? In the document you describe the doc.content() will be a list of one element (&amp;lt;root&amp;gt;) James ------- http://radio.weblogs.com/0112098/ Sent: Thursday, February 06, 2003 6:49 PM Subject: Re: [dom4j-user] Create Document... On Thursday, February 6, 2003, at 12:59  AM, James Strachan wrote: Sorry for the nitpick but I suppose you meant right? It would be super cool if you can do something like the following though: Element parent = ... int pos = ... // get pos from convoluted algorithm somewhere In this case, I can still use XPath to create element and have the liberty to insert it anywhere. Thanks for the good work, Han Ming http://radio.weblogs.com/0112098/ http://www.i2s.pt/ http://www.vasoftware.com https://lists.sourceforge.net/lists/listinfo/dom4j-user http://uk.my.yahoo.com http://www.vasoftware.com https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------- This SF.NET email is sponsored by: SourceForge Enterprise Edition + IBM + LinuxWorld =omething 2 See! http://www.vasoftware.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Create Document...</header>
    <date>Fri Feb 07 08:47:00 CET 2003</date>
    <body>Unfortunately not :-) XML documents only have a single root element. So typically doc.content() will only contain one Element object. The reason that the makeElement() method takes a branch node is so that it can navigate down through the tree of nodes, adding new elements as it goes. e.g. The first call to makeElement() would add &amp;lt;a&amp;gt;, &amp;lt;b&amp;gt;, &amp;lt;c&amp;gt; elements to the document (and doc.content().size() would equal 1) The second call to makeElement() would only add a child &amp;lt;d&amp;gt; node on the existing &amp;lt;c&amp;gt; node. After running the above code these assertions would be true doc.content().size() == 1 doc.selectNodes("/a/b/*").size() = 2 b.content().size() == 2 Does that clear things up any? James ------- http://radio.weblogs.com/0112098/ __________________________________________________ Do You Yahoo!? Everything you'll ever need on one web page from News and Sport to Email and Music Charts http://uk.my.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentException: the reference to a not define entity &amp;amp;uuml".</header>
    <date>Tue Feb 04 11:15:00 CET 2003</date>
    <body>Hi, i need your help: i use the html-name "&amp;amp;uuml" for the german  letter "ü", but while i parse the file i receive a DocumentException: the reference to a not define entity &amp;amp;uuml". But I have to use the html-name "&amp;amp;uuml" and not the Unicode "&amp;amp;#252; ". Can anybody help me how to make dom4j  process html-name "&amp;amp;uuml" Thanks Pepe -- +++ GMX - Mail, Messaging &amp;amp; more http://www.gmx.net +++ NEU: Mit GMX ins Internet. Rund um die Uhr für 1 ct/ Min. surfen!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DocumentException: the reference to a not define
 entity &amp;amp;uuml".</header>
    <date>Wed Feb 05 01:10:00 CET 2003</date>
    <body>pepe.online@... wrote: to Can you could add a dummy DTD containing an entity declaration for those umla= uts: ... hth, Markus</body>
  </mail>
  <mail>
    <header>[dom4j-user] a bug?!?!</header>
    <date>Tue Feb 04 15:05:00 CET 2003</date>
    <body>Hi all, I'm using dom4j (I was using the 1.3, and today I've also downloaded the daily build, but my problem persist) but I've some little problems execut= ing XPath. In fact if I load from a file this xml : xmlns:xlink=3D" http://www.w3.org/1999/xlink " xmlns:fo=3D" http://www.w3.org/1999/XSL/Format " xmlns:gml=3D" http://www.opengis.net/gml " xmlns=3D" http://dr0id/gml http://www.opengis.net/gml/srs/epsg.xml#4326 and I try : I obtain an empty list. I tryed also with the expression "//provincia/[ID_PROVINCIA =3D '039084']= " but the result did not change. I've downloaded also the XPE and I've noted that it suffer the same probl= em. With this program I've selected the element "provincia" and it suggested me this expression : "/featureCollection/provincia", so I've tryed it, an= d I've got an empty response!! If I remove all the namespaces specification it works fine, specially usi= ng "//provincia" it select all the "provincia" element found in the document= , as I can expect. Anyone can tell me if it is a bug, or how can I correct this? Thanks. Paolo</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] a bug?!?!</header>
    <date>Tue Feb 04 15:23:00 CET 2003</date>
    <body>You document uses namespaces, and your xpath does not. Not certain about the dom4j API, but jaxen itself has a Namespace context that allows you to map a prefix-&amp;gt;URI for the XPath itself: So, you need to: 1) Use a prefix in your xpaths (no concept of 'default' namespace in xpath) 2) map the prefix to a URI via a NamespaceContext or some mechanism provided by dom4j. -bob</body>
  </mail>
  <mail>
    <header>[dom4j-user] long xpath - works in xtrans - not in dom4j</header>
    <date>Sun Mar 23 00:52:00 CET 2003</date>
    <body>Dear all, The following XPath returns the results expected from the xml (bottom) = using XPath tester tool (XTrans) but not in dom4j. XPath=3D /day/friday[starts-with(@a_current_status,'Replicate Operation = Complete')][contains(@title,'REDI')][contains(@title,'PREDI')=3Dfalse][co= ntains(@title,'CREDI')=3Dfalse]/@count In tester returns 7 14 2 in java: public int getTotalCompleteRediJobs() return new=20 Float = (DocumentHelper.createXPath("sum(/day/friday[starts-with(@a_current_statu= s,'Replicate Operation = Complete')][contains(@title,'REDI')][contains(@title,'PREDI')=3Dfalse][co= ntains(@title,'CREDI')=3Dfalse]/@count)").selectNodes(doc).get(0).toStrin= returns 0 !! All I want to do is return the sum of the rows containing REDI but not = CREDI or PREDI (of which REDI is a substring) that passed. Many thanks in advance for any help / more eligant solution. Kevin a_current_status=3D"Replicate Operation Complete" /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 a_current_status=3D"FAILED: Method xedi_replicate_folder return value = was 1." /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 a_current_status=3D"FAILED: Method xedi_replicate_folder return value = was 1." /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 a_current_status=3D"FAILED: Method xedi_replicate_folder return value = was 1." /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 DS (bio) - BS2EH" a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 DS (synth) - BS2EH" a_current_status=3D"Replicate Operation Complete." = /&amp;gt;=20 DS (synth) - EH2BS" a_current_status=3D"Replicate Operation Complete." = /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20 a_current_status=3D"Replicate Operation Complete." /&amp;gt;=20</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Problem transforming with dom4j</header>
    <date>Thu Mar 13 17:10:00 CET 2003</date>
    <body>You need Xerces.jar and Xalan.jar in your classpath... (Or any SAX and XSLT implementations)</body>
  </mail>
  <mail>
    <header>[dom4j-user] Connection refused: connect Nested exception: Connection refused: connect</header>
    <date>Wed Mar 12 19:25:00 CET 2003</date>
    <body>Dear James (or whoever reads this), Thanks for your DTD-tip, but unfortunately i get the same error since we switched to JDK 1.4. (connection refused) There is no DTD in the xml-file. Can You help us? Thank You Pascal Pascal Bohne at PasCAM_2000@... --------------------------------- Gesendet von http://mail.yahoo.de . Auto- und Motorradfahrer aufgepasst! Günstige Kfz-Versicherung bei der HUK24:  Sie sparen bis zu 30%.</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath expression and ampersand problem</header>
    <date>Sat Mar 08 21:09:00 CET 2003</date>
    <body>Hi I'm having a problem matching the text of elements that contain ampersands from within dom4j. My xml is as follows: This xpath expression selects the second category element as expected: This xpath expression fails to select the first category element or any element. Running the same expression in xpath explorer( http://www.purpletech.com/xpe/index.jsp ), it works fine Any thoughts on why this happens would be much appreciated. regards Nigel</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath expression and ampersand problem</header>
    <date>Sat Mar 15 08:53:00 CET 2003</date>
    <body>Hi I'm having a problem matching the text of elements that contain ampersands from within dom4j. My xml is as follows: This xpath expression selects the second category element as expected: This xpath expression fails to select the first category element or any element. Running the same expression in xpath explorer( http://www.purpletech.com/xpe/index.jsp ), it works fine Any thoughts on why this happens would be much appreciated. regards Nigel</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOMWriter not pulling over Namespaces?</header>
    <date>Fri Mar 07 21:41:00 CET 2003</date>
    <body>doc.getRootElement().addNamespace(""," http://ACORD.org/Standards/Life/2/ doc.asXML shows the xmlns="...", but the returned DOM tree does not have a namespace.  How do I add one? Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, ITS, AEGON Financial Partners</body>
  </mail>
  <mail>
    <header>[dom4j-user] casting org.w3c.dom.Node to org.dom4j.Node</header>
    <date>Thu Mar 27 22:39:00 CET 2003</date>
    <body>Hello, I need fast ID lookup on my xml files, but my xml file needs to use a DTD file. As I understand the dom4j parser cannot do ID lookup properly if the xml file uses a DTD, so am planning to use w3c's ID lookup as it is much faster than the selectSingleNode(using XPath for ID) - but now once I have org.w3c.dom.Node, I cannot convert it into org.dom4j.Node It keeps giving class cast exception. Any idea how to do that? Thanks, Sumitabh __________________________________________________ Do you Yahoo!? Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop! http://platinum.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Performance variation using dom4j</header>
    <date>Thu Mar 27 22:36:00 CET 2003</date>
    <body>Hello, I am evaluating various Java XML parsers for best performance. Some of the areas I am testing dom4j are - 1. Parsing the document. 2. Using XPath queries. 3. Manipulating the xml document, adding nodes, removing nodes etc. 4. Use FindByNode I see that the performance while doing selectNodes and specifying an XPath varies considerably across runs - for my 8MB xml file, sometimes it takes 3.2 seconds and sometimes 20 seconds. Any idea why it should be happenning? Thanks, Sumitabh __________________________________________________ Do you Yahoo!? Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop! http://platinum.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Is there an API to get the dom4j version number?</header>
    <date>Thu Mar 27 07:46:00 CET 2003</date>
    <body>thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Is there an API to get the dom4j version number?</header>
    <date>Thu Mar 27 13:50:00 CET 2003</date>
    <body>I've never seen a "getVersion()" but you could always read the manifest from the jar file- as long as your jar is built correctly it should have the version in the manifest. Brian David Thielen wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Is there an API to get the dom4j version number?</header>
    <date>Thu Mar 27 16:09:00 CET 2003</date>
    <body>Whoever updates the source - would you please consider adding this to the next release? thanks - dave Sent: Thursday, March 27, 2003 6:49 AM Subject: Re: [dom4j-user] Is there an API to get the dom4j version number?</body>
  </mail>
  <mail>
    <header>[dom4j-user] XSL Problem with textarea's</header>
    <date>Mon Mar 24 21:28:00 CET 2003</date>
    <body>I have forms with textarea's populated as: Some of the values have carriage returns, which are being removed. So, if attribute value is: first line second line third line The HTML is: Does anyone have insight on how I could fix this? Thanks! John</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XSL Problem with textarea's</header>
    <date>Tue Mar 25 17:15:00 CET 2003</date>
    <body>John Brayton wrote: try &amp;lt;xsl:copy-of select="@defaultValue"/&amp;gt;, AFAIK this should keep the whitespace. markus</body>
  </mail>
  <mail>
    <header>[dom4j-user] Efficient validation against W3C Schema</header>
    <date>Tue Mar 25 06:24:00 CET 2003</date>
    <body>Hi, what's the most efficient way to validate many dom4j documents against a single W3C shema? I get org.dom4j.Documents and the path name of an XSD file. Dozens of documents arrive per second needing to be validated. Thus the XSD file should only be loaded once from the disk. Igor</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOMElement.getParentNode() with a null parent</header>
    <date>Thu Mar 20 22:33:00 CET 2003</date>
    <body>Hi, We've got a bunch of code that uses org.w3c.dom interfaces and are evaluating dom4j for all of the great things it provides. Having the compatibility layer with org.w3c looks like it will make transitioning much more reasonable. We've got a utility function that generates XPaths by recursively calling getParent(). Right now, this fails when it gets up to the root node because DOMNodeHelper.getParentNode is trying to call asDOMNode on null. Is there any reason to not just return the null instead of calling asDOMNode? Thanks! Kevin Dangoor JSTOR</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DOMElement.getParentNode() with a null parent</header>
    <date>Fri Mar 21 15:12:00 CET 2003</date>
    <body>I undertand what you are asking but would also point out that dom4j has a helper function that will return the full XPath for a node.  If this would work for you it might clean up your code base a bit. Kevin Dangoor wrote: http://ads.sourceforge.net/cgi-bin/redirect.pl?micr5043en https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DOMElement.getParentNode() with a null parent</header>
    <date>Fri Mar 21 16:19:00 CET 2003</date>
    <body>True, I had noticed that function. We're trying to start out with dom4j by changing our unit tests to use dom4j without changing the main code, as a way to get comfortable with dom4j, its compatibility with our uses of org.w3c.dom and to get some experience with the cool features of dom4j. I brought this up because it seemed like something that should be able to work. Kevin Brian W. Young wrote: http://ads.sourceforge.net/cgi-bin/redirect.pl?micr5043en https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DOMElement.getParentNode() with a null parent</header>
    <date>Fri Mar 21 16:51:00 CET 2003</date>
    <body>Kevin Dangoor wrote: Err... yeah. It helps to write in comprehensible English :) What I meant was that I brought this up because I didn't think that getParent() on the root node should throw a not supported exception, particularly if there is an easy solution. That said, I must say that so far I'm quite happy with how easy it has been to plug dom4j into all of this code we've got. Kevin</body>
  </mail>
  <mail>
    <header>[dom4j-user] disable-output-escaping</header>
    <date>Thu Mar 20 15:12:00 CET 2003</date>
    <body>I am trying to use this in an XSL template: When I do this, the result I get is the attribute value escaped, with the following text both preceding and trailing the attribute: I was expecting the value of the attribute, with no escaping.  Then, my attribute value could have some HTML or XML that would be rendered by the browser.  Am I doing something wrong? John</body>
  </mail>
  <mail>
    <header>[dom4j-user] Serious XSLT Problem</header>
    <date>Wed Mar 19 15:37:00 CET 2003</date>
    <body>I am using dom4j in a XML course as it seemed to be the best available Java Parser; unfortunately I just have aproblem I cannot solve. I try to do an XSLT transformation as described in the F.A.Q. and it basically works (no exceptions), but the result document is not correct: one template is not processed, though the XSL is correct, as I cross checked it with the JEdit XSLT processor as well as with the Mozilla XSLT engine. Is this a dom4j problem? Help would be *very* welcome! Alex Transformation code is: // create the transformer // perform the transformation Stylesheet start with http://www.w3.org/1999/XSL/Transform " and the problem occurs at: one Atom the second one is not working in dom4j, but in all other processors! what could be the problem?? thank you -- +++ GMX - Mail, Messaging &amp;amp; more http://www.gmx.net +++ Bitte lächeln! Fotogalerie online mit GMX ohne eigene Homepage!</body>
  </mail>
  <mail>
    <header>[dom4j-user] Serious XSLT Problem</header>
    <date>Thu Mar 20 09:44:00 CET 2003</date>
    <body>Additional Information. I sent the following question yesterday, and received a comment, that I should provide more details. unfortunately the problem requires three documents, so I did not want to attach them. The necessary files can be found under: http://www.schatten.info/info/dom4j.zip it contains: out.xml which is the source xml file out-xslt.xml which is the wrong result after the transformation style.xsl which is the stylefile XmlXslt.java which contains the dom4j code and build.xml which is an ant buildfile thank you for the help! alex __________________________________________________________________________________ I am using dom4j in a XML course as it seemed to be the best available Java Parser; unfortunately I just have aproblem I cannot solve. I try to do an XSLT transformation as described in the F.A.Q. and it basically works (no exceptions), but the result document is not correct: one template is not processed, though the XSL is correct, as I cross checked it with the JEdit XSLT processor as well as with the Mozilla XSLT engine. Is this a dom4j problem? Help would be *very* welcome! Alex Transformation code is: // create the transformer // perform the transformation Stylesheet start with http://www.w3.org/1999/XSL/Transform " and the problem occurs at: one Atom the second one is not working in dom4j, but in all other processors! what could be the problem?? thank you -- +++ GMX - Mail, Messaging &amp;amp; more http://www.gmx.net +++ Bitte lächeln! Fotogalerie online mit GMX ohne eigene Homepage! -- +++ GMX - Mail, Messaging &amp;amp; more http://www.gmx.net +++ Bitte lächeln! Fotogalerie online mit GMX ohne eigene Homepage!</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath</header>
    <date>Mon Mar 17 20:25:00 CET 2003</date>
    <body>Are dom4j XPath objects Thread safe? Dane Foster</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] CDATA inserting \n\t</header>
    <date>Fri Mar 14 15:07:00 CET 2003</date>
    <body>Hi Dave, I dont know of an XPATH expression that will give you the result, I am not an XPATH expert. I think that XPath treats all text nodes as the the same,=20 =20 If you dont want to have any whitespace then you  call setStripWhitespaceText(true) on the SAXContentHandler, which will not give you the nodes in the first place =20 if your cadat section contains non whitespace only, and you only have one CDATA section as a child of the element, which I guess it would then you can=20 use getTopNode().valueOf( "/bitmap" ).trim();=20 =20 failing that navigate to the element and iterate through the content to get the result =20 Hope this helps Mike =20 -----Original Message----- From: David Thielen [mailto:dave@... Sent: Friday 14 March 2003 14:42 To: Mike Skells Subject: Re: [dom4j-user] CDATA inserting \n\t What call should I use then? =20 thanks - dave =20 From: Mike Skells &amp;lt;mailto:Mike.Skells@...&amp;gt; =20 To: David Thielen &amp;lt;mailto:dave@...&amp;gt; =20 Sent: Friday, March 14, 2003 1:10 AM Subject: RE: [dom4j-user] CDATA inserting \n\t Hi david, valueof looks at all of the text nodes, not just the CDATA =20 Mike -----Original Message----- From: David Thielen [mailto:dave@... Sent: Thursday 13 March 2003 23:58 To: dom4j-user@... Subject: [dom4j-user] CDATA inserting \n\t =20 This is my xml: =20 \n\tffd8ffe0\n\t =20 Any ideas? =20 thanks - dave =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] CDATA inserting \n\t</header>
    <date>Fri Mar 14 22:19:00 CET 2003</date>
    <body>MessageAnd the answer is... It is working as it is supposed bitmap has a value of "\n\t...cdata...\n - dave From: Mike Skells=20 To: David Thielen=20 Cc: dom4j-user@... Sent: Friday, March 14, 2003 8:08 AM Subject: RE: [dom4j-user] CDATA inserting \n\t Hi Dave, I dont know of an XPATH expression that will give you the result, I am = not an XPATH expert. I think that XPath treats all text nodes as the the = same,=20 If you dont want to have any whitespace then you  call = setStripWhitespaceText(true) on the SAXContentHandler, which will not = give you the nodes in the first place if your cadat section contains non whitespace only, and you only have = one CDATA section as a child of the element, which I guess it would then = you can=20 use getTopNode().valueOf( "/bitmap" ).trim();=20 failing that navigate to the element and iterate through the content = to get the result Hope this helps Mike -----Original Message----- From: David Thielen [mailto:dave@... Sent: Friday 14 March 2003 14:42 To: Mike Skells Subject: Re: [dom4j-user] CDATA inserting \n\t What call should I use then? thanks - dave From: Mike Skells=20 To: David Thielen=20 Sent: Friday, March 14, 2003 1:10 AM Subject: RE: [dom4j-user] CDATA inserting \n\t Hi david, valueof looks at all of the text nodes, not just the CDATA Mike -----Original Message----- From: David Thielen [mailto:dave@... Sent: Thursday 13 March 2003 23:58 To: dom4j-user@... Subject: [dom4j-user] CDATA inserting \n\t This is my xml: This is what I am getting from getTopNode().valueOf( "/bitmap" = \n\tffd8ffe0\n\t Any ideas? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] CDATA inserting \n\t</header>
    <date>Thu Mar 13 23:58:00 CET 2003</date>
    <body>This is my xml: \n\tffd8ffe0\n\t Any ideas? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] getTextTrim returns null</header>
    <date>Tue Mar 11 17:20:00 CET 2003</date>
    <body>I am using the Element.getTextTrim method on an empty element (e.g. = Is there a setting somewhere to have a non null return? Maybe a String = with one space? thanks, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] getTextTrim returns null</header>
    <date>Thu Mar 13 22:41:00 CET 2003</date>
    <body>HI: I am using the Element.getTextTrim method on an empty element (e.g. = is returning a NULL value. =20 Is there a setting somewhere to have a non null return? Maybe a String = with one space? =20 thanks, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem transforming with dom4j</header>
    <date>Mon Mar 03 17:07:00 CET 2003</date>
    <body>Hy there. I'm having problems transforming a XML file with dom4j. Here is the class source code. It's only a few lines: //---------------------- CODE ------------------------- public String process(String xmlString, String xslFile) throws TransformerConfigurationException, TransformerException, DocumentException, Document document = reader.read(new InputSource(new Transformer transformer = factory.newTransformer(new StreamSource(new //---------------------- END CODE ------------------------- I've tested the two parameters ("xmlString" and "xslFile") and they have the information that I want. I'm using this class inside a bean and every time I try to transform the generated XML (which is valid! I tested it with XML Spy 5) it keeps giving me the following error: -------- javax.xml.transform.TransformerFactoryConfigurationError: Provider null could not be instantiated: java.lang.NullPointerException at javax.xml.transform.TransformerFactory.newInstance(Unknown Source) -------- I can't figure out what the problem is!? I've never had this problem before. Can someone help me please.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem transforming with dom4j</header>
    <date>Thu Mar 13 16:52:00 CET 2003</date>
    <body>Hy there. I'm having problems transforming a XML file with dom4j. Here is the class source code. It's only a few lines: //---------------------- CODE ------------------------- // ** import's ** public String process(String xmlString, String xslFile) throws TransformerConfigurationException, TransformerException, DocumentException, Document document = reader.read(new InputSource(new Transformer transformer = factory.newTransformer(new StreamSource(new //---------------------- END CODE ------------------------- I've tested the two parameters ("xmlString" and "xslFile") and they have the information that I want. I'm using this class inside a bean and every time I try to transform the generated XML (which is valid! I tested it with XML Spy 5) it keeps giving me the following error: -------- javax.xml.transform.TransformerFactoryConfigurationError: Provider null could not be instantiated: java.lang.NullPointerException at javax.xml.transform.TransformerFactory.newInstance(Unknown Source) -------- I can't figure out what the problem is!? I've never had this problem before. Can someone help me please.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Text nodes in dom4j</header>
    <date>Thu Mar 13 16:21:00 CET 2003</date>
    <body>Hi, the number and typ of the nodes that you get is to do with the way that SAX parses things =20 If you want to only have one text node then you can=20 1. call normalise()  on the document/some parent element, which will combine the text nodes together or=20 2. when you parse the document call setMergeAdjacentText(true) on the SAXReader, which will do the merge as you read the document =20 Mike -----Original Message----- From: Samuel Cheung [mailto:SCheung@... Sent: Monday 10 March 2003 18:24 To: dom4j-user@... Subject: [dom4j-user] Text nodes in dom4j Hi,=20 node), does dom4j has 1 text node for the "\n" and another text node for the "\t"? and these text nodes (2) along with the name node are the children of the &amp;lt;person&amp;gt; node? thank you=20</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Attribute getObject() always returns String</header>
    <date>Thu Mar 13 16:21:00 CET 2003</date>
    <body>Hi, What document factory are you using. The default document factory is not schema aware, but the=20 DatatypeDocumentFactory is Mike http://join.msn.com/?page=3Dfeatures/junkmail http://ads.sourceforge.net/cgi -&amp;gt; bin/redirect.pl?thaw0031en https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Attribute getObject() always returns String</header>
    <date>Tue Mar 11 16:53:00 CET 2003</date>
    <body>Hi everybody, I am parsing an XML file with xml schema and I expected that when I call Attribute getObject() I get an object of a Java class corresponding to xml schema types, but in reality I am always getting a String. _________________________________________________________________ STOP MORE SPAM with the new MSN 8 and get 2 months FREE* http://join.msn.com/?page=features/junkmail</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOMWriter not pulling over Namespaces? (Repost)</header>
    <date>Mon Mar 10 20:42:00 CET 2003</date>
    <body>Repost:  not sure if it made it the first time. doc.getRootElement().addNamespace(""," http://ACORD.org/Standards/Life/2/ doc.asXML shows the xmlns="...", but the returned DOM tree does not have a namespace.  How do I add it to the DOM4J object so that it will come over to the DOM object? Jim "Researching tomorrow's decisions today." (319) 369-2070 (work) Systems Architect, ITS, AEGON Financial Partners</body>
  </mail>
  <mail>
    <header>[dom4j-user] Text nodes in dom4j</header>
    <date>Mon Mar 10 18:25:00 CET 2003</date>
    <body>Hi, node), does dom4j has 1 text node for the "\n" and another text node for the "\t"? and these text nodes (2) along with the name node are the children of the &amp;lt;person&amp;gt; node? thank you</body>
  </mail>
  <mail>
    <header>[dom4j-user] Suggestions/Requests: XML Validation/Formatting</header>
    <date>Tue Apr 29 08:23:00 CEST 2003</date>
    <body>At 01:41 25/04/2003 -0400, you wrote: -- 8&amp;lt; snip snip ---------------------------------------------- Hi, I'm wondering if it possible adding couple of new methods to org.dom4j.DocumentException like int getLine(), int getCol(), String getCauseMsg() or something like that. This doen't look like a big change but will give some extra flexibility for reporting. Regards, -Dmitri -- 8&amp;lt; snip snip ---------------------------------------------- I agree with Dmitri. For my own needs, I patched a few dom4j classes and I'd like to share it with you. It concerns [org.dom4j.io.OutputFormat], and classes that use it directly, including [org.dom4j.io.SAXValidator] or more accurately [org.dom4j.io.DocumentInputSource#getCharacterStream()], and of course [org.dom4j.io.XMLWriter]. I needed a XML formatter that would not display the attributes of elements on a single line, but rather, one underneath the other, with a nice indent matching the namespace declaration indent (right of fullyQualifiedElementName + one space) . It would typically look like this: -- BEGIN XML ---------------------------------------------------------------------------- http://www.w3.org/2000/svg " xmlns:foo=" http://www.w3.org/foo " left="23" -- END XML ---------------------------------------------------------------------------- This way, I could get more accurate errors from the validator, when errors associated to attributes occur. (The line number would match a line containing a single attribute) Remember, dom4j doesn't perform validation, this work is delegated to the SAX parser in use (I personnaly use Xerces). This is achieved by parsing an XML file (xmlReader.parse("FILE_URL")), or by using a DocumentInputSource to allow validation from an already loaded XML document (in a dom4j DOM-like structure). In fact, the dom4j SaxValidator wrapper does the job for us, so we don't have to care about all the InputSource stuff. Unfortunately, the default XML format used when performing validation through SaxValidator is a compact format, with no indent, no space... So this is pretty useless when we want to use line/column information. So my aim is to format the in-memory XML document (the dom4j document model) into a format that I need (with attributes new lines and stuff...), and then perform validation. To achieve that, I created 4 classes, directly inspired (most of them derivated) from the original dom4j classes. 1) MyOutputFormat 2) MyXMLWriter 3) MyDocumentInputSource 4) MySAXValidator /!\     It is important to mention that the dom4j JAR is included in my classpath, I'm not using the dom4j sources directly. (I haven't modified the original source code) ============================================================= 1) MyOutputFormat ============================================================= This is a subclass of [org.dom4j.io.OutputFormat]. [org.dom4j.io.OutputFormat] is public, so I put [MyOutputFormat] in the [whatever.Package.Namespace] package. -- BEGIN CODE ---------------------------------------------------------------------------- -- END CODE ---------------------------------------------------------------------------- ============================================================= 2) MyXMLWriter ============================================================= Here it gets a little more complicated as the original class uses a lot of references to the original [org.dom4j.io.OutputFormat] (That we simply have to replace by [whatever.Package.Namespace.MyOutputFormat] ) : -- BEGIN CODE ---------------------------------------------------------------------------- ... ... ... ... ... ... public XMLWriter(OutputStream out, OutputFormat format) throws ... ... ... ... -- END CODE ---------------------------------------------------------------------------- ...and we also need to patch [protected void writeAttributes(Element element) throws IOException] so that Attributes are written with new lines, if the format says so: -- BEGIN CODE ---------------------------------------------------------------------------- // I do not yet handle the case where the same prefix maps to // two different URIs. For attributes on the same element // this is illegal; but as yet we don't throw an exception // if someone tries to do this if (ns != null &amp;amp;&amp;amp; ns != Namespace.NO_NAMESPACE &amp;amp;&amp;amp; ns != declaration // ######################### BEGIN ADDED STUFF ############## // The Element name (prefix:localname) + the begin tag (&amp;lt;) + one space // ######################### END ADDED STUFF ############## -- END CODE ---------------------------------------------------------------------------- The nicest way to implement all these changes would have been to subclass [org.dom4j.io.XMLWriter], but because the private member [namespaceStack] is used in [writeAttributes], I finally decided to copy/paste the code to a new class [whateverPackageNamespace.MyXMLWriter], and apply the changes. Appart from the ugly code redondancy implied, this works nicely. ============================================================= 3) MyDocumentInputSource ============================================================= Now, we need to patch [org.dom4j.io.DocumentInputSource], so that [whateverPackageNamespace.MyOutputFormat] is used instead of [org.dom4j.io.OutputFormat]. Because this class is only public to the [org.dom4j.io] package, if I want to subclass it, I have to create the class in the [org.dom4j.io] package. Here is the result: -- BEGIN CODE ---------------------------------------------------------------------------- MyOutputFormat format = // this should never really happen // but for completeness we'll return a Reader // with the embedded exception inside it public int read(char ch[], int offset, int length) throws -- END CODE ---------------------------------------------------------------------------- ============================================================= 4) MySAXValidator ============================================================= Finally, we need to change [org.dom4j.io.SAXValidator] so that the new [org.dom4j.io.MyDocumentInputSource] is used. [org.dom4j.io.SAXValidator] is public, so I can put [MySAXValidator] in any package. -- BEGIN CODE ---------------------------------------------------------------------------- throw new RuntimeException("Caught and exception that should -- END CODE ---------------------------------------------------------------------------- ######################### AND FINALLY ! Now, here is how I validate the document, and get the errors: xmlReader.setFeature(" http://apache.org/xml/features/validation/warn-on-duplicate-attdef ", /*xmlReader.setFeature( " http://apache.org/xml/features/validation/warn-on-undeclared-elemdef ", true );*/ int columnToMatch = int lineToMatch = // DO SOME STUFF HERE ######################### CONCLUSION The nice thing is that I now can display the results in 2 panes: - one that contains a List widget which entries correspond to errors - the other one that contains a srolling hillighted text area corresponding to the formatted XML When I click on an List's element, the scrolling text scrolls to the line of the error, and a red marker points to the corresponding column. REQUESTS: - Please make [org.dom4j.io.XMLWriter#namespaceStack] protected or put a getter for it. That way, we could subclass XMLWriter easily. - Make [org.dom4j.io.DocumentInputSource] public, so that we can extend it outside of package - Integrate the new formatting scheme (new lines after each element's attribute) Hope this inspired some of you, and if you see any ways of improving things, please let me know. Thanks for your attention. Dan/</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to get all namespaces from an element</header>
    <date>Wed Apr 23 14:47:00 CEST 2003</date>
    <body>Hello! I want to get all Namespaces from an Element if it has more than one. Example: xmlns:SOAP-ENV=" http://schemas.xmlsoap.org/soap/envelope/ " xmlns:xsi=" http://www.w3.org/1999/XMLSchema-instance ..... If I use element.nodeIterator() or element.additionalNamespaces() I get the xsi but not the SOAP-ENV namespace. If I use getNamespace() I get the SOAP-ENV namespace.. BUT I get this too, at the Header element. thanks, marc.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to get all namespaces from an element</header>
    <date>Wed Apr 23 19:09:00 CEST 2003</date>
    <body>Could you send more XML example and some code snippets? additionalNamespace typically returns any other xmlns defined in that element not related to the namespace of the element.  getNamespace would return the namespace of the element. I am not sure I understand the problem. More input please.  ;-) Thanks, Dave Marc Pellmann wrote: http://schemas.xmlsoap.org/soap/envelope/ " http://www.w3.org/1999/XMLSchema-instance -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to get all namespaces from an element</header>
    <date>Fri Apr 25 09:18:00 CEST 2003</date>
    <body>Hallo David! Okay. For an Element I want to show the name and then all namespaces in the form how they are in the real xml document. I have: .... I want e.g. get something like this: 1. NAME: ns:element NAMESPACES: xmlns:ns="blah", xmlns:nstwo="blahblah" 2. NAME: ns:second If I use getNamespace() I get the xmlns:ns="blah" at ns:element. BUT I if I use getNamespace() at ns:second I get xmlns:ns="blah", too! And if I use additionalNamespaces() on ns:element I only get xmlns:nstwo="blahblah". So my main Problem is, that I get the namespace at ns:second, too - but in the xml text version there is no printed namespace. -- Beste Grüße / Best Regards, Marc Pellmann __________________________________________________________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to get all namespaces from an element</header>
    <date>Fri Apr 25 13:20:00 CEST 2003</date>
    <body>Hi Marc, Actually that is how it works. I think you really are looking for first occurances of xmlns. In XML xmlns defines a namespace prefix with a URI.  The prefix can then be used anywhere below that scope and to reference the URI.  So anytime you have the "ns" prefix, it means that element belongs to that releated URI.  So on any element that has a namespace, getNamespace() will return the Namespace that contains the prefix and URI that the element belongs to.  The additionalNamespaces will return any other xmlns defined on that element.  This is like declaring a variable in the beginning of a function, but using it way down inside a for loop.  The definition occurs up front, but referenced later on. The way XML allows xmlns to be forward declaring, it can be placed on the first element as an attribute and later be used in a lower node referenced by the prefix.  So any element that has a prefix, has a namespace associated to it and defined with xmlns.  If there is not a prefix, then it either defaults to chameleon (none defined) or can be globally set using xmlns=" http://xx.yy.zz ".  Then every element without a prefix would be from that Namespace. Does that make any sense? I believe what you are looking for is something to tell you where xmlns is defined at?  Is this what you want?  If all you want are the namespaces, then you could use the visitor pattern and visit all elements collecting all the namespaces. Does that help? Later, Dave -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to get all namespaces from an element</header>
    <date>Fri Apr 25 13:38:00 CEST 2003</date>
    <body>Hi David! Thanks for the answer! What I have is a swing-tree-view on the dom4j-document. And this should show all nodes (namespaces, too) like in the real xml text document. Hmm - it looks like, that I need to hold a list of namespaces in my model. If I add a node in the tree, I put the namespace (if there is one) in the list. In all deeper nodes I compare the namespac with the list and do not add the namespace if it is in the list. Or is there a way with dom4j directly? I do not see any.. -- Beste Grüße / Best Regards, Marc Pellmann __________________________________________________________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to get all namespaces from an element</header>
    <date>Fri Apr 25 14:24:00 CEST 2003</date>
    <body>Yes, you need a list of defined namespaces and you would create that as you encounter them for the first time.  Keep in mind that it should be on a stack basis. For example: http://xxx.com/t1 Can also be represented as: http://xxx.com/t1 http://xxx.com/t1 So if you dive into a node and find it defines a namespace for the first time, you would need to forget it when you go to the next sibling if you want to "represent" the xmlns if I understand what your GUI is doing correctly. Best Wishes, Dave Marc Pellmann wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] append element child to existing document and write it to file</header>
    <date>Thu Apr 24 12:33:00 CEST 2003</date>
    <body>hi, I'm a newbie in this XML especially DOM4j. I would like to ask th4e experts out there and I hope you will give me full details of the answers. I have existing document. I want to parse it 1st and then using XPATH I would like to append a child element to an existing file and then write it to the xml file. below is the sample I would like to add this line as last child of &amp;lt;progress&amp;gt; that means below this line the end result should look like this. I hope you will help me on this although I know this is quite basic. Hope your guys will help me and give as much as details as possible on how to implement this. thank you.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] append element child to existing document and
	write it to file</header>
    <date>Thu Apr 24 13:59:00 CEST 2003</date>
    <body>Hi You may want to use ElementHandler to register appropriate handlers for a given element path. For example, you may want to have: // modify your progress element by adding the new elements // do nothing Then you use the SAXReader to register your handler and to parse your XML (see http://www.dom4j.org/faq.html#large-doc ) For outputting, see XMLWriter class. Best regards Ben On Thu, 2003-04-24 at 13:32, Mohd-Taqiyuddin Zalfan wrote: http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Document life-span question</header>
    <date>Wed Apr 23 19:37:00 CEST 2003</date>
    <body>Second try... -----Original Message----- From: David Hooker=20 Sent: Wednesday, April 16, 2003 11:34 AM To: dom4j-dev@...; dom4j-user@... Subject: [dom4j-user] Document life-span question Not knowing the internals of the dom4j tree, I have a question. =20 Suppose I have a Document object in memory which I built from an xml file: =20 =20 If later on in my code I set doc to null, will the entire tree be eligible for garbage collection?  Or will it hang around forever due to internal references between objects? =20 If it does hang around, is there any API that I can use to dissolve the tree so that it can be gc'd? =20 Does anyone have a test to check any of this? =20 =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Document life-span question</header>
    <date>Wed Apr 23 20:21:00 CEST 2003</date>
    <body>Hi David, I like that name. :-) I can't say I have seen any issues with memory and DOM4J.  But with standard GC, it is difficult to say when a reference will get GCed. If you null out the Document reference and have no other Element references in use, the tree should be GCed with the exception of cached items like QNames, Namespaces, etc. Is there a particular problem you are trying to solve? Later, Dave -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Document life-span question</header>
    <date>Wed Apr 23 20:28:00 CEST 2003</date>
    <body>I'm building a cache within my system, and am considering using WeakReferences for objects that have been in the cache and not accessed for a long time (following a LRU mechanism). A WeakReference will allow the GC to unload the object if there are no strong references to the object.  So if I have a WeakReference to a Document object, I'm wondering if it will ever actually be eligible for reclaimation, or will any dom4j internal stuff prevent it from being reclaimed due to some internal strong references. -----Original Message----- From: David D. Lucas [mailto:ddlucas@... Sent: Wednesday, April 23, 2003 3:21 PM To: David Hooker Cc: dom4j-dev@...; dom4j-user@... Subject: Re: [dom4j-user] Document life-span question Hi David, I like that name. :-) I can't say I have seen any issues with memory and DOM4J.  But with=20 standard GC, it is difficult to say when a reference will get GCed. If you null out the Document reference and have no other Element=20 references in use, the tree should be GCed with the exception of cached=20 items like QNames, Namespaces, etc. Is there a particular problem you are trying to solve? Later, Dave --=20 +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= 3Dhttp://www.lse.com/~ddlucas/pgpblock.txt IMHO=3D"in my humble opinion" IMHC=3D"in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Document life-span question</header>
    <date>Wed Apr 23 20:39:00 CEST 2003</date>
    <body>That is something we should look into.  I am not sure if we are using Weak References vi WeakHashMap anywhere.  One reason would be that Weak References were introduced in JDK 1.2.  I am not sure if we are now only supporting JDK 1.2 or not.  If that decision is made, then moving to Weak References makes sense. As for DOM4J holding back due to references, I think the QNames and Namespaces are self contained. So they do not reference any nodes or elements with a link to other elements.  Based on that, I think when you are done with a document and its sub-elements/nodes, it will disappear as soon as the GC is ready. BTW, if you have a large document and only need one portion, you can detach the leaf that you want to work with, thus freeing up the remaining Document and nodes for a GC. James, any comments? Later, Dave David Hooker wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j mainfest.mf has wrong ver number</header>
    <date>Wed Apr 23 17:22:00 CEST 2003</date>
    <body>The manifest.mf file in dom4j.jar 1.4 says it's version 1.3. thanks - dave ps Another plea for a static member function that will return the = version number.</body>
  </mail>
  <mail>
    <header>[dom4j-user] xsl converting ' to &amp;amp;apos; with DocumentResult</header>
    <date>Fri Apr 18 03:29:00 CEST 2003</date>
    <body>I have an xsl that trasforms some xml into an html page. I am creating a javascript onclick attribute using xsl for an &amp;lt;a&amp;gt; tag. I have provided my transformation code (java, xsl , xml) below. The problem is that the ' (apostrophe) that I need for my javascript parameter keeps getting changed to an url encoded &amp;amp;apos;. I can't figure out how to prevent this from happening. I have used a simple StreamResult and it produces the proper result. However, I am not able to use the HTMLWriter that dom4j provides. Any suggestions? See comments in snippets for problem areas. =================================================== java code snippet =================================================== ... Transformer transformer = factory.newTransformer( //now lets style the given document // dom4j transformation // AT THIS POINT I CAN VIEW THE DOCUMENT BEFORE // THE HTML WRITER AND IT HAS CHANGED THE ... =================================================== xsl code snippet =================================================== ... ... =================================================== xml being transformed snippet =================================================== =================================================== results ARE: =================================================== onclick="specPopUpWin(&amp;amp;apos;/popup.do?image=/cms/uploads/49.jpg&amp;amp;apos;,640,48 =================================================== results SHOULD BE: =================================================== Brandon Goodin</body>
  </mail>
  <mail>
    <header>[dom4j-user] mailing list subscribe error</header>
    <date>Wed Apr 16 18:51:00 CEST 2003</date>
    <body>I tried to subscribe to the dev list from http://www.dom4j.org/mail-lists.html and got the following reply: =20 The following address(es) failed: dom4j-dev-subscribe@... unknown local-part "dom4j-dev-subscribe" in domain "lists.sourceforge.net" =20 Can someone fix that?</body>
  </mail>
  <mail>
    <header>[dom4j-user] Document life-span question</header>
    <date>Wed Apr 16 16:34:00 CEST 2003</date>
    <body>Not knowing the internals of the dom4j tree, I have a question. =20 Suppose I have a Document object in memory which I built from an xml file: =20 =20 If later on in my code I set doc to null, will the entire tree be eligible for garbage collection?  Or will it hang around forever due to internal references between objects? =20 If it does hang around, is there any API that I can use to dissolve the tree so that it can be gc'd? =20 Does anyone have a test to check any of this? =20 =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Pinpointing parsing problem</header>
    <date>Wed Apr 16 11:29:00 CEST 2003</date>
    <body>Hi Is there a way to pinpoint exactly what it was in a XML that triggered a = parsing error? Our problem is that we recive a XML file that is created in a non = parsing mannor (i.e. with writing raw xml to a file and sending it, = without any XML parser involved). It works great but in some cases we = get faulty characters (i.e. below ASCII 32) and the parser fails on = reading the input file. The information the parser provides us with it = that there is a parsing error on line one (the whole file is considered = as one line...). To parse the file at creation is not an option at this point. Thank you for your help and contribution to solving my problem. Cheers=20 Christian ------------------------- Christian Holmqvist Posten Sverige AB Posten IT 105 00 Stockholm Bes=F6ksadress: Ekensbergsv=E4gen 113 ,Solna Tel: 08 - 781 61 48 Mobil: 070 - 980 1357 christian.holmqvist@... http://www.posten.se=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Tue Apr 15 06:13:00 CEST 2003</date>
    <body>Hi I'm parsing an UTF-8 encoding XML file (&amp;lt;?xml version=3D"1.0" = encoding=3D"UTF-8"?&amp;gt;) and there are chinese character in the XML file. = (my platform is Mac OS X 10.2) If I run my code with JDK1.4.1, everything just works fine. This is my code snip EntityResolver resolver =3D new EntityResolver() public InputSource resolveEntity( String publicId, String systemId) InputStream in =3D =20 xmlReader.setEntityResolver(resolver);   =20 However, if I run the same code with Java 1.3.1, I got the following = error: org.dom4j.DocumentException: no more input Nested exception: no more = input If I modify my code as follow: FileReader fr =3D new FileReader(myXml);   =20 I'll get this error: org.dom4j.DocumentException: Error on line 175 of document  : required = string (expected "string") Nested exception: required string (expected = "string") (looks like it is not parsing the UTF-8 char correctly) Anyone could help me on this? Thanks in advance.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] EntityResolver and JDK1.3</header>
    <date>Tue Apr 15 12:08:00 CEST 2003</date>
    <body>Try using a Reader instead of an InputStream in your EntityResolver. StringReader in = new StringReader(""); //&amp;lt;----- -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] JDK1.3.1 vs JDK1.4.1</header>
    <date>Tue Apr 15 06:15:00 CEST 2003</date>
    <body>***I have forgotten to put a subject for my previous email, sorry Hi I'm parsing an UTF-8 encoding XML file (&amp;lt;?xml version=3D"1.0" = encoding=3D"UTF-8"?&amp;gt;) and there are chinese character in the XML file. = (my platform is Mac OS X 10.2) If I run my code with JDK1.4.1, everything just works fine. This is my code snip EntityResolver resolver =3D new EntityResolver() public InputSource resolveEntity( String publicId, String systemId) InputStream in =3D =20 xmlReader.setEntityResolver(resolver);   =20 However, if I run the same code with Java 1.3.1, I got the following = error: org.dom4j.DocumentException: no more input Nested exception: no more = input If I modify my code as follow: FileReader fr =3D new FileReader(myXml);   =20 I'll get this error: org.dom4j.DocumentException: Error on line 175 of document  : required = string (expected "string") Nested exception: required string (expected = "string") (looks like it is not parsing the UTF-8 char correctly) Anyone could help me on this? Thanks in advance.</body>
  </mail>
  <mail>
    <header>[dom4j-user] unsupported ASCII-derived encoding</header>
    <date>Mon Apr 14 12:59:00 CEST 2003</date>
    <body>Hi, While parsing XML file (&amp;lt;?xml version=3D"1.0" = encoding=3D"gb2312"?&amp;gt;...) using dom4j and jdk1.3.1 on Mac OS X 10.2, I = got the below error Error on line 1 of document = file:/Library/WebServer/Documents/photo/photo.xml : unsupported = ASCII-derived encoding (found "GB2312") (expected "UTF-8, US-ASCII, or = ISO-8859-1") Nested exception: unsupported ASCII-derived encoding (found = "GB2312") (expected "UTF-8, US-ASCII, or ISO-8859-1") However, if I run the code with jdk1.4.1, the code works perfectly. This is how I parse the XML SAXReader reader =3D new SAXReader();   =20 Element photoElem =3D What could I do to solve this problem? BTW, I tried to search the mail archive but got this error ht://Dig error htsearch detected an error. Please report this to the webmaster of this = site. The error message is: Unable to read word database file Did you run htmerge?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] unsupported ASCII-derived encoding</header>
    <date>Mon Apr 14 15:53:00 CEST 2003</date>
    <body>I might be remembering this incorrectly, but I think something with the InputSource in JDK 1.3 was using an InputStream instead of a Reader when opening the file. An InputStream is not safe when it comes to Unicode characters. Try opening the file yourself with an FileReader and pass that in. Something like: Hope that helps. Best Wishes, Dave Lee Peik Feng wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] unsupported ASCII-derived encoding</header>
    <date>Tue Apr 15 03:49:00 CEST 2003</date>
    <body>Great!!  This method does work!! Thanks a lot Sent: Monday, April 14, 2003 11:52 PM Subject: Re: [dom4j-user] unsupported ASCII-derived encoding http://www.lse.com/~ddlucas/pgpblock.txt</body>
  </mail>
  <mail>
    <header>[dom4j-user] Requesting again - a version method</header>
    <date>Mon Apr 14 16:40:00 CEST 2003</date>
    <body>Could you please in the next version of dom4j add a static method that = will return the version - either as an int (preferred) or a String? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] How do I copy an Element from one document and insert it into another
 Document?</header>
    <date>Mon Apr 14 10:45:00 CEST 2003</date>
    <body>Hi. I know this seems trivial, but I haven't got my head around the API. Help! Thanks, Portia ********************************************************************************** This email may contain confidential material. If you were not an intended recipient, please notify the sender and delete all copies. We may monitor email to and from our network.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Validating on the Schema given in the document</header>
    <date>Mon Apr 14 07:02:00 CEST 2003</date>
    <body>How do I validate a Document using the Schema given in the XML file? The cookbook only shows how to validate with MSV if I have a separate file name for the schema. Luke William Imhoff IT Honors</body>
  </mail>
  <mail>
    <header>[dom4j-user] Rpoblems with XHTML entities</header>
    <date>Fri Apr 11 13:54:00 CEST 2003</date>
    <body>Hi all... I have a little problem with the manipulation of XHTML entities... I have a source XHTML with i.e. &amp;amp;raquo; and I want to generate a XHTML document, but when I perform the tranformation I receive a null pointer... I never referer to the XHTML namespace... when I must do that? Thanks for replies and for the dom4j too :-)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Disable External DTD validation</header>
    <date>Fri Apr 11 08:16:00 CEST 2003</date>
    <body>Thanks to everybody I have got it work. Here is my code: EntityResolver resolver = new EntityResolver() public InputSource resolveEntity( String publicId, String systemId) Sent: Thursday, April 10, 2003 4:32 PM Subject: Re: [dom4j-user] Disable External DTD validation http://www.apple.com/DTDs/PropertyList-1.0.dtd&amp;gt;http://www.apple.com/DTDs/Pr http://www.apple.com/DTDs/PropertyList-1.0.dtd&amp;gt;dtd . first: http://www.mail-archive.com/cgi-bin/htsearch?method=and&amp;amp;format=short&amp;amp;c onfig=dom4j-user_lists_sourceforge_net&amp;amp;restrict=&amp;amp;exclude=&amp;amp;words=entityresolv er http://www.apple.com/DTDs/PropertyList-1.0.dtd&amp;gt;http://www.apple.com/DTDs/ http://www.apple.com&amp;gt;www.apple.com Nested http://www.apple.com&amp;gt;www.apple.com http://www.apple.com&amp;gt;www.apple.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Disable External DTD validation</header>
    <date>Thu Apr 10 08:18:00 CEST 2003</date>
    <body>Hi, I'm parsing an XML file with this header " http://www.apple.com/DTDs/PropertyList-1.0.dtd If I don't have network connection, I'll get the below error: org.dom4j.DocumentException: http://www.apple.com Nested exception: = http://www.apple.com at org.dom4j.io.SAXReader.read(SAXReader.java:342) at org.dom4j.io.SAXReader.read(SAXReader.java:218) at org.dom4j.io.SAXReader.read(SAXReader.java:207) at syabas.myihome.Test.main(Test.java:31) Nested exception:=20 java.net.UnknownHostException: http://www.apple.com at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:143) at java.net.Socket.connect(Socket.java:425) ... This is part of my code: Regards, Lee Peik Feng</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Disable External DTD validation</header>
    <date>Thu Apr 10 17:48:00 CEST 2003</date>
    <body>Check that the API is actually working with the underlying XML parser. =20= For example in this quick &amp;amp; dirty sample code here, I am making use of =20= javax.xml.transform.sax.SAXTransformerFactory, you could get it from =20 JAXP as well. // Simple sample code SAXParserFactory pfactory=3D = // We are using Xerces. =20 reader.setFeature(" http://apache.org/xml/features/nonvalidating/load-=20 // Too many to catch. Lump them here. The Xerces feature for not loading external DTD actually works. If setIncludeExternalDTDDeclarations() still doesn't work, you can give =20= it your own XMLReader in the constructor. Have you tried the latest 1.4 release yet? Good luck, Han Ming On Thursday, April 10, 2003, at 01:18  AM, Lee Peik Feng wrote: http://www.apple.com/DTDs/PropertyList-1.0.dtd http://www.apple.com Nested exception: =20 http://www.apple.com http://www.apple.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Disable External DTD validation</header>
    <date>Fri Apr 11 06:32:00 CEST 2003</date>
    <body>Even if you disable validation, XML parsers have to load the DTD anyway=20= to expand any entities etc. There could be some parser specific flags to disable the loading of the=20= DTD. Otherwise another approach is to use an EntityResolver to provide=20= your own version of the DTD from your classpath or some well known=20 directory etc. http://dom4j.org/faq.html#cannot-find-dtd On Thursday, April 10, 2003, at 09:18  am, Lee Peik Feng wrote: http://www.apple.com/DTDs/PropertyList-1.0.dtd http://www.apple.com Nested exception:=20 http://www.apple.com http://www.apple.com James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Need some help on namespaced attribute and SAXWriter..</header>
    <date>Fri Apr 11 06:32:00 CEST 2003</date>
    <body>Hi all, I send this again since it seems like didn't make to the mailing list? ---------- Could someone sheds some lights on the following issue, please? An element e1, with namespaced attribute xyz:a1, from an existing source document is added onto a new target document using the "createCopy" method. The namespace xyz of a1 is declared in one of the parent of e1 in the source document. However, when I use the SAXWriter on the new document, I didn't receive the "startPrefixMapping" event for the namespace "xyz". After investigation, seems like the namespace node of "xyz" is not appended onto the new document because it is not part of the content of the element e1, and therefore no startPrefixMapping... My question is, which step goes wrong? Should the createCopy "smart" enough to include the namespace of the attributes from the parent (which I doubt it should)? Or should the SAXWriter also dump out the namespaces of the attributes if required (which I'm not sure either)? Or should we manually walkthrough all namespaced attributes and add the corresponding namespace node manually after createCopy() (which I certain hope not the case!)... Any comment and/or suggestion is extremely appreciated. Thanks in advance for all your help. William. This message may contain privileged and/or confidential information.  If you have received this e-mail in error or are not the intended recipient, you may not use, copy, disseminate or distribute it; do not open any attachments, delete it immediately from your system and notify the sender promptly by e-mail that you have done so.  Thank you.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Need help on namespaced attribute and SAXWriter..</header>
    <date>Tue Apr 08 18:07:00 CEST 2003</date>
    <body>Hi all, Could someone shed some lights on the following issue, please? An element e1, with namespaced attribute xyz:a1, from an existing document is added onto a new document using the "createCopy" method. The namespace xyz of a1 is declared in one of the parent of e1. However, when I use the SAXWriter on the new document, I didn't receive the "startPrefixMapping" event for the namespace "xyz". After investigation, seems like the namespace node of "xyz" is not appended onto the new document because it is not part of the content of the element e1, and therefore no startPrefixMapping... My question is, which step goes wrong? Should the createCopy "smart" enough to include the namespace of the attributes from the parent (which I doubt it should)? Or should the SAXWriter also dump out the namespaces of the attributes if required (which I'm not sure either)? Or should we manually walkthrough all namespaced attributes and add the corresponding namespace node manually after createCopy() (which I certain hope not the case!)... Any comment and/or suggestion is extremely appreciated. Thanks in advance for all your help. William. This message may contain privileged and/or confidential information.  If you have received this e-mail in error or are not the intended recipient, you may not use, copy, disseminate or distribute it; do not open any attachments, delete it immediately from your system and notify the sender promptly by e-mail that you have done so.  Thank you.</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPP - status?</header>
    <date>Tue Apr 08 15:27:00 CEST 2003</date>
    <body>What's the status of integrating dom4j with a pull parser?  I remember something was going to be done, but never saw any definitive statements that it's done and works.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPP - status?</header>
    <date>Tue Apr 08 15:54:00 CEST 2003</date>
    <body>On Tuesday, April 8, 2003, at 04:27  pm, David Hooker wrote: remember=20 There's an XPPReader in the org.dom4j.io package which uses the pull=20 parser to create a dom4j Document. So you can create dom4j doucments=20 from a pull parser. However currently it just reads the whole document in one go - it'd be=20= cool if it just lazily pulled the document in as its required. So=20 modifying the XPPReader to lazily pull elements from XPP as they're=20 required would be a good idea one day. James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPP - status?</header>
    <date>Tue Apr 08 15:55:00 CEST 2003</date>
    <body>On Tuesday, April 8, 2003, at 04:54  pm, James Strachan wrote: Incidentally, the StAX API (Streaming API for XML) is out quite soon=20 via a JSR which will eventually be the Java standard API to XML pull=20 parsing &amp;amp; streaming. So it might be worth holding off on further XPP=20 work and just going ahead and implementing a StAX pull parser based=20 Document implementation. James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: Dom4j still alive?</header>
    <date>Thu Apr 03 07:37:00 CEST 2003</date>
    <body>I've been using dom4j for a little more than 6 months now, as part of a professional project. I managed to convice the hierarchy that dom4j/jaxen was worth considering instead of the typical W3C DOM Xerces/Xalan pair, saying that dom4j was faster, easier to use, while being "compatible" with the W3C model, and that is was "maintained and updated frequently"... I have to admit I'm getting more and more worried because of the lack of serious release since 1.3. I have the CVS checkout on my dev box, but I actually use the 1.4dev in my project. (from: http://www.ibiblio.org/maven/dom4j/jars/ ) James, we love your work and dom4j is definitely a worth-using xml document model. But please, keep up informed about the current status of your work. Late 2002, you said (in one of the mailing lists) that a new release was on the way out. The release didn't come out, and you said that it was due to some failed Junit tests... Since then, we had no more feedback from you, apart from the (always excelent) replies to the issues raised in the mailing lists. In fact, recently you seems to be out of the mailing lists...are you still maintaining this project at all ? dom4j has got numerous bugs to be fixed, and there's room for lots of improvements. A lot of developers that are using dom4j are willing to help with the updates, I'm sure. Please, at least, keep us up to date with the status of the ongoing work. Otherwise, rumors will soon appear saying dom4j is a stalled project, with no serious implication from its developers. Latest Jdom release is dated 03.28.2002 (JDOM Beta 8), latest dom4j release is dated March 13, 2002 (dom4j 1.3). Xerces is still a very active project, and most dom4j users actually use the SAX parser of the latest Xerces Java2 distribution in association with dom4j. ( http://xml.apache.org/xerces2-j/index.html ) My project being in early stages of developement, I sometimes wonder if I should switch back to W3C DOM, and give up with dom4j... Those issues raise serious concerns among the developers community, but we love dom4j for what it provides, we don't want it to die, and we are willing to help ! Thanks for your attention. - Dan I would like to echo this sentiment.  dom4j is a great package, and I would like to know that it is still a living effort. -bryan I've been recommended dom4j to developers for the last year and a half, but I'm growing increasingly concerned about the lack of any follow-up since the 1.3 release. I pointed out a serious performance issue with the 1.3 release a year ago, and there've also been a number of other fixes in CVS. This doesn't help most users who just download the latest release, though. I'm having an increasingly hard time justifying dom4j as a solution when it goes more than a year between releases. James, if you're unable to do a maintenance release perhaps one of the other developers can do this? I think dom4j is an excellent document model and I'd hate to see it die through neglect of basic maintenance after all the work that's gone into it. - Dennis For what it's worth, there are some 1.4 snapshots on ibiblio that lots of us are using, updated as late as 3-jan-2003. http://www.ibiblio.org/maven/dom4j/jars/ -bob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] RE: Dom4j still alive?</header>
    <date>Thu Apr 03 13:29:00 CEST 2003</date>
    <body>Hi, I agree Daniel, Dom4J is really a good project. In my opinion it is a very good designed set of packages for the java community. It has not all the heavy constraints (mainly due to implicite validation consideration in the DOM model leading to strange limitation in the DOM api) and still offers a nice hierarchical structure that is IMOO more consistent (in an object model point of view) than JDom. So I join 100% Daniel's comments and hope that : o James is still in good health :-) (independly from the Dom4J project) o No technical "cul de sac"/dead end arrose since the last release o James is still anthousiastic about his work o We will soon have news about the 1.4 release progress/roadmap Concerning the project itself. I would like to outline that Dom4j was first meant to provide a simple and efficient way to deal with XML in JAVA. This is almost achieved and the result is really great !! However my feeling is that the XMLSchema features (e.g. Datatypes) are not really part of XML. I mean that we can think of XMLSchema as an already specific application/extension of XML and thus I think DOM4J's core realease should not become late because of the XMLSchema features. XML validation is a complicated task and may follow many ways that have all there cons &amp;amp; pros (XML Schema but also DTD,Trex, Schematron, Examplotron, SOX,...). XML core is not dependant on validation  nor are the Dom4j core functionalities. Furthermore it is possible to validate XML in java with a lots of apis that do not depend on Dom4j. As you may have guessed, my concerne is about Dom4J loosing its simplicity and maybe its consistency just by trying to implement some XMLSchema features. I know it is not easy to resist to take into account new concepts like DataTypes but since these concepts are not part of the core concept of XML, shouldn't they belong to a separate project. For exemple datatype may be linked to elements and attibutes in many ways that are not necessarely based on an XMLSchema, this binding could be achieved in a interface based framework that is not dédicated to Dom4j but that supports Dom4J documents as an input source and so on...The same feeling appears regarding the XSLT extension in Dom4j. Thus i am affraid that energy on this project is spread over several sub-projects that are not really part of the initial goal of Dom4j and lead to a weaker overall mobilisation. Is it possible to consider some kind of Dom4j core  project (Object model + Xpath support + namespace support + I/O) and have a separate release strategy for XMLSchema and XSLT supports? This may help consolidate the core technology faster... But this is just my own (modest) feeling (exposed in a quick &amp;amp; dirty way), I would be glad to read other people opinions about these concerns In any cases Dom4J is a very nice project, thank you James for this great work! Thierry --- daniel.weck@... wrote: &amp;gt; I've been using dom4j for a little more than 6 months now, &amp;gt; as part of a professional project. &amp;gt; I managed to convice the hierarchy that dom4j/jaxen was worth considering &amp;gt; instead of the typical W3C DOM Xerces/Xalan pair, &amp;gt; saying that dom4j was faster, easier to use, while being "compatible" with &amp;gt; the W3C model, and that is was "maintained and updated frequently"... ... ---</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: Dom4j still alive?</header>
    <date>Thu Apr 03 08:46:00 CEST 2003</date>
    <body>I've been using dom4j for a little more than 6 months now, as part of a professional project. I managed to convice the hierarchy that dom4j/jaxen was worth considering instead of the typical W3C DOM Xerces/Xalan pair, saying that dom4j was faster, easier to use, while being "compatible" with the W3C model, and that is was "maintained and updated frequently"... I have to admit I'm getting more and more worried because of the lack of serious release since 1.3. I have the CVS checkout on my dev box, but I actually use the 1.4dev in my project. (from: http://www.ibiblio.org/maven/dom4j/jars/ ) James, we love your work and dom4j is definitely a worth-using xml document model. But please, keep up informed about the current status of your work. Late 2002, you said (in one of the mailing lists) that a new release was on the way out. The release didn't come out, and you said that it was due to some failed Junit tests... Since then, we had no more feedback from you, apart from the (always excelent) replies to the issues raised in the mailing lists. In fact, recently you seems to be out of the mailing lists...are you still maintaining this project at all ? dom4j has got numerous bugs to be fixed, and there's room for lots of improvements. A lot of developers that are using dom4j are willing to help with the updates, I'm sure. Please, at least, keep us up to date with the status of the ongoing work. Otherwise, rumors will soon appear saying dom4j is a stalled project, with no serious implication from its developers. Latest Jdom release is dated 03.28.2002 (JDOM Beta 8), latest dom4j release is dated March 13, 2002 (dom4j 1.3). Xerces is still a very active project, and most dom4j users actually use the SAX parser of the latest Xerces Java2 distribution in association with dom4j. ( http://xml.apache.org/xerces2-j/index.html ) My project being in early stages of developement, I sometimes wonder if I should switch back to W3C DOM, and give up with dom4j... Those issues raise serious concerns among the developers community, but we love dom4j for what it provides, we don't want it to die, and we are willing to help ! Thanks for your attention. - Dan http://www.ibiblio.org/maven/dom4j/jars/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] RE: Dom4j still alive?</header>
    <date>Mon Apr 07 20:32:00 CEST 2003</date>
    <body>Or if dom4j is abondonware, please let us know so we can start switching to another library. thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] RE: Dom4j still alive?</header>
    <date>Mon Apr 07 20:35:00 CEST 2003</date>
    <body>On Thursday, April 3, 2003, at 01:32 PM, Thierry Hanser wrote: project) I am well! Though the last few months I've been rushed off my feet with=20= day job work. Nope. For sure. I've been doing some incremental releases (about 10 or 11)=20 since 1.3 in the Maven repository... Though the release mechanism is so clumsy &amp;amp; fudged currently in dom4j=20 that I've yet to make the time to sort out the release mechanism... Am gonna try get a 1.4 release out ASAP... features. Agreed. Indeed maybe we could make dom4j a bit more modular so that its=20= got a small tight core. Agreed. I like JARV as an API for validation which can plug into=20 various validation mechanisms. Maybe we could add neater JARV support to dom4j? Thanks Thierry James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] RE: Dom4j still alive?</header>
    <date>Mon Apr 07 20:39:00 CEST 2003</date>
    <body>On Monday, April 7, 2003, at 09:32 PM, David Thielen wrote: Absolutely not. I've just not made time to do a release for many more months than I'd care to admit. Expect one soon... If anyone fancies volunteering as release manager in the future to help get releases out the door faster, I'd appreciate it. James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>[dom4j-user] What's that new stuff?!</header>
    <date>Tue Apr 08 13:36:00 CEST 2003</date>
    <body>I've seen that in dom4j 1.4 there're many new Packages. but they're not documented in cookbook or faq. e.g. what's the aim of org.dom4j.persistence?! PDOM?! Best regards, Federico                            mailto:list@...</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] What's that new stuff?!</header>
    <date>Tue Apr 08 14:20:00 CEST 2003</date>
    <body>On Tuesday, April 8, 2003, at 02:34  pm, Federico Michele Facca wrote: The packages are all now described in the new javadoc... http://dom4j.org/apidocs/ I think the org.dom4j.persistence package was Toby's attempt at a persistent DOM, though I've not looked too closely. James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>Re[2]: [dom4j-user] What's that new stuff?!</header>
    <date>Tue Apr 08 14:44:00 CEST 2003</date>
    <body>Hello James, yep. But no description of org.dom4j.persistence :-(... Anyway if it's persistent DOM is a very nice improvement! As is still not possible query very large XML document using XPath and a SAXHandler... (at least if I understood correctly!) Tuesday, April 8, 2003, 4:19:48 PM, you wrote: JS&amp;gt; On Tuesday, April 8, 2003, at 02:34  pm, Federico Michele Facca wrote: JS&amp;gt; The packages are all now described in the new javadoc... http://dom4j.org/apidocs/ JS&amp;gt; I think the org.dom4j.persistence package was Toby's attempt at a JS&amp;gt; persistent DOM, though I've not looked too closely. JS&amp;gt; James JS&amp;gt; ------- http://radio.weblogs.com/0112098/ -- Best regards, Federico                            mailto:list@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] UPGRADE: Dom4j 1.4 JAR files [Jaxen + SaxPath included]</header>
    <date>Tue Apr 08 10:53:00 CEST 2003</date>
    <body>Hi ! I'm trying to include the dom4j 1.4 library the best way I can in my applications. (Smallest dom4j JAR =&amp;gt; core distribution, and separate Jaxen and SaxPath JARs) This was fine before 1.4, but now: There are currently 3 ways of doing so, by getting the JAR file from: -  The Maven repository: http://www.ibiblio.org/maven/dom4j/jars/dom4j-1.4.jar - The main ZIP distribution: http://prdownloads.sourceforge.net/dom4j/dom4j-1.4.zip?download Choosing either: - dom4j-full.jar - dom4j.jar As far as I understand, [dom4j-1.4.jar] obtained from the Maven repository is the same JAR as [dom4j.jar] from the ZIP distribution (475 KB) So we are left with a "full" JAR and a "normal" JAR. The "full" JAR seems to contains all the JDOM/DOM stuff coming from the Jaxen distribution, whereas the "normal" JAR seems to only contain the Dom4j-related stuff. (Tell me if I'm wrong) Before 1.4, I used to have a dom4j CORE package which only contained the org/dom4j/** classes, and I had Jaxen and SaxPath in separate JARs: - [jaxen-core.jar] with org/jaxen/** classes - [jaxen-dom4j.jar] with org/jaxen/dom4j/** classes only both obtained from http://unc.dl.sourceforge.net/sourceforge/jaxen/jaxen-1.0-FCS.zip and: - [saxpath.jar] with org/saxpath/** and com/werken/saxpath/** classes obtained from http://prdownloads.sourceforge.net/saxpath/saxpath-1.0.zip?download ADDED CLASSES: I want to have the same layout while migrating to dom4j 1.4, but it seems that some classes have been added to SaxPath and Jaxen, it's easy to see by comparing: [jaxen-core.jar], [jaxen-dom4j.jar], [saxpath.jar] with [dom4j.jar]. Are those classes (seem to be test programs) necessary ? MODIFIED SOURCES ? : Jaxen and SaxPath are both available as 1.0 FCS, but some dom4j 1.4 bugfixes mention SaxPath issues, so I'm wondering the bundled Jaxen/SaxPath in dom4j 1.4 are modified versions of 1.0 FCS, or if the bugs have been fixed using workarounds in the dom4j code. If there hasn't been any modifications in Jaxen and SaxPath code since their FCS, then I'll just remove all Jaxen/SaxPath classes from dom4j.jar (including the Jaxen/dom4j special wrappers), in order to have my custom dom4j-core.jar ! (as it is not available out of the box) Then I'll just keep the separate Jaxen/SaxPath JARs from the 1.0 FCS releases. Can I do that, without risking to "downgrade" either Jaxen or SaxPath ? Thanks for a quick reply, as I'm looking forward to start using dom4j 1.4 ! Daniel/</body>
  </mail>
  <mail>
    <header>[dom4j-user] New WebSite Remarks</header>
    <date>Tue Apr 08 09:05:00 CEST 2003</date>
    <body>You said (James Strachan) that you are now waiting for any remark concerning the new website. Well, here are some remarks: - First, congrats, it looks much better than ever before. - Dead link: http://jakarta.apache.org/turbine/maven/development-process.html - &amp;lt;./task-list.htm&amp;gt;Task List  &amp;lt;./changelog-report.htm&amp;gt;Change&amp;lt;./changelog-report.htm&amp;gt; Log  are empty !! - The following page: http://dom4j.org/status.html is not very "readable"...I don't think you've used the right styles for the sections. See this page for model (section / sub-section...): http://jakarta.apache.org/commons/latka/index.html - Project Documentation -&amp;gt; &amp;lt;./index.htm&amp;gt;Front&amp;lt;./index.htm&amp;gt; Page points to [ http://dom4j.org/index.html ], which is redondant (See dom4j -&amp;gt; home) One less link in the menu ! ;) Thanks for the 1.4 release and the website refresh, it's great to have this kind of visibility to the project, no doubt now, we are all conviced that the dom4j project is alive !!!! Dom4j is a really cool, and I'm looking forward to the new improvements to come ! Daniel/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DOMWriter not pulling over Namespaces?</header>
    <date>Mon Apr 07 21:58:00 CEST 2003</date>
    <body>It looks like you have parsed in an XML file then changed the top element to have a new default namespace.  That will not work if you have already parsed the document.  Each element is loaded with a namespace that comes from the parse.  If you want each element to have a new namespace, you will have to add the namespace to each element by walking the tree from top to bottom and setting the namespace explicitly. Unless I am misunderstanding the problem. Later, Dave -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j 1.4 release is out</header>
    <date>Mon Apr 07 21:30:00 CEST 2003</date>
    <body>Its been so long since the last release and I never managed to fully port the build system over to Maven yet so I've done a full 1.4 FCS release of dom4j using the existing Ant mechanism. This release contains plenty of bug fixes and patches. Thanks to all those who've contributed. You can download the release from here... http://sourceforge.net/projects/dom4j/ Hopefully we'll do much more frequent releases after this one :) James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: [dom4j-dev] dom4j 1.4 release is out</header>
    <date>Mon Apr 07 21:51:00 CEST 2003</date>
    <body>BTW if you just want to use the 1.4 jar of dom4j you can get it from the Maven repository, its just called dom4j-1.4.jar http://www.ibiblio.org/maven/dom4j/jars/ On Monday, April 7, 2003, at 10:30 PM, James Strachan wrote: http://sourceforge.net/projects/dom4j/ http://radio.weblogs.com/0112098/ http://click.atdmt.com/AFF/go/sdnxxaff00300020aff/direct/01/ https://lists.sourceforge.net/lists/listinfo/dom4j-dev James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Avoid trimming of spaces in text</header>
    <date>Tue Apr 01 22:17:00 CEST 2003</date>
    <body>Hi , I am adding a text to an Element with the leading spaces..for example " command".But the space in front of " command" is trimmed while adding to an Element. So the final Element tag i am getting is &amp;lt;LINE&amp;gt;command&amp;lt;/LINE&amp;gt; instead of How to add spaces in text that will be preserved in the Element? Any ideas? Thanks Balaji</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Avoid trimming of spaces in text</header>
    <date>Mon Apr 07 21:48:00 CEST 2003</date>
    <body>Try using combination of the OutputFormat and XMLWriter to modify the default behavior of the XML output. It should look something like this: org.dom4j.Document doc = ... org.dom4j.io.OutputFormat of = Have fun! Dave -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Parse RDF</header>
    <date>Mon Apr 07 10:41:00 CEST 2003</date>
    <body>Hi, Do dom4j able to parse RDF? below is the sample RDF file: xmlns:rdf=3D" http://www.w3.org/1999/02/22-rdf-syntax-ns# " xmlns=3D" http://purl.org/rss/1.0/ " xmlns:dc=3D" http://purl.org/dc/elements/1.1/ " xmlns:taxo=3D" http://purl.org/rss/1.0/modules/taxonomy/ " xmlns:syn=3D" http://purl.org/rss/1.0/modules/syndication/ " rdf:about=3D" http://news.bbc.co.uk/hi/english/uk/england/default.stm http://news.bbc.co.uk/hi/english/uk/england/default.stm&amp;lt;/link rdf:resource=3D" http://news.bbc.co.uk/1/hi/england/2559639.stm http://news.bbc.co.uk/1/hi/uk/2557647.stm rdf:resource=3D" http://news.bbc.co.uk/1/hi/england/2557741.stm rdf:resource=3D" http://news.bbc.co.uk/1/hi/england/2559103.stm http://news.bbc.co.uk/1/hi/england/2559639.stm http://news.bbc.co.uk/1/hi/england/2559639.stm&amp;lt;/link http://news.bbc.co.uk/1/hi/uk/2557647.stm http://news.bbc.co.uk/1/hi/uk/2557647.stm&amp;lt;/link criminal justice system and problems in the police inquiry, two reports = http://news.bbc.co.uk/1/hi/england/2557741.stm http://news.bbc.co.uk/1/hi/england/2557741.stm&amp;lt;/link accompanied by a minder and should only shake hands with = http://news.bbc.co.uk/1/hi/england/2559103.stm http://news.bbc.co.uk/1/hi/england/2559103.stm&amp;lt;/link "failed to act" on advice about how he should have been =</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Parse RDF</header>
    <date>Mon Apr 07 20:26:00 CEST 2003</date>
    <body>On Monday, April 7, 2003, at 11:41 AM, Lee Peik Feng wrote: Yes. dom4j can parse any valid XML. Though if you want to work with RDF=20= structures, which has several serialization formats including XML, you=20= might want to use an RDF API like Jena http://www.w3.org/1999/02/22-rdf-syntax-ns# " http://purl.org/rss/1.0/ " http://purl.org/dc/elements/1.1/ " http://purl.org/rss/1.0/modules/taxonomy/ " http://purl.org/rss/1.0/modules/syndication/ " http://news.bbc.co.uk/hi/english/uk/england/default.stm http://news.bbc.co.uk/hi/english/uk/england/default.stm&amp;lt;/link http://news.bbc.co.uk/1/hi/england/2559639.stm http://news.bbc.co.uk/1/hi/uk/2557647.stm " = http://news.bbc.co.uk/1/hi/england/2557741.stm http://news.bbc.co.uk/1/hi/england/2559103.stm http://news.bbc.co.uk/1/hi/england/2559639.stm http://news.bbc.co.uk/1/hi/england/2559639.stm&amp;lt;/link http://news.bbc.co.uk/1/hi/uk/2557647.stm http://news.bbc.co.uk/1/hi/uk/2557647.stm&amp;lt;/link http://news.bbc.co.uk/1/hi/england/2557741.stm http://news.bbc.co.uk/1/hi/england/2557741.stm&amp;lt;/link http://news.bbc.co.uk/1/hi/england/2559103.stm http://news.bbc.co.uk/1/hi/england/2559103.stm&amp;lt;/link James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>[dom4j-user] xml with xml tags</header>
    <date>Mon Apr 07 17:58:00 CEST 2003</date>
    <body>hi. I have a problem while trying to get the content of a node. The problem appears when that node has html tags like &amp;lt;b&amp;gt;, &amp;lt;br&amp;gt; etc, becase they are manipulated as xml nodes (and they cannot be converted to &amp;amp;lt;b&amp;amp;gt; etc. because of an incompatibilty with the xalan parser) I have the following piece of code: so, when that node has html tags, these arent passed to the variable, and if as path I use "/document/context/title/*" only the html tags are passed. I almost solved it using the asXML() method to get the whole content of the node, but the problem is the tagname is also stored in the variable(for example, &amp;lt;title&amp;gt;this is the &amp;lt;b&amp;gt;title&amp;lt;/b&amp;gt;&amp;lt;/title&amp;gt;) Is there any way to solve it? that is: to get the whole content of the node, including html tags but without tag name. thx in advance.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] How to avoid trimming of spaces in text</header>
    <date>Wed Apr 02 14:58:00 CEST 2003</date>
    <body>Balaji, That should certainly not be the case.  Can you show some code which demonstrates the problem?  And what version of dom4j are you using? Regards, -- knut http://click.atdmt.com/AFF/go/sdnxxaff00300020aff/direct/01/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] How to avoid trimming of spaces in text</header>
    <date>Wed Apr 02 18:43:00 CEST 2003</date>
    <body>RE: [dom4j-user] How to avoid trimming of spaces in textHi, I am using 1.3 version of Dom4j. Here is the part of code i am using.some values are harcoded here When i use  the above code and get the element tag it displays Thanks Balaji -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@... Behalf Of Wannheden, Knut Sent: Wednesday, April 02, 2003 9:58 AM To: dom4j-user@... Subject: RE: [dom4j-user] How to avoid trimming of spaces in text Balaji, That should certainly not be the case.  Can you show some code which demonstrates the problem?  And what version of dom4j are you using? Regards, -- knut &amp;gt; -----Original Message----- &amp;gt; From: Balaji Varatharaj [mailto:bvaratharaj@...] &amp;gt; Sent: Mittwoch, 2. April 2003 16:41 &amp;gt; To: dom4j-user@... &amp;gt; Subject: [dom4j-user] How to avoid trimming of spaces in text &amp;gt; Hi , &amp;gt;       I am adding a text to an Element with the leading &amp;gt; spaces..for example " &amp;gt; command".But the space in front of " command" is trimmed &amp;gt; while adding to an &amp;gt; Element. &amp;gt; instead of &amp;gt; How to add spaces in text that will be preserved in the Element? &amp;gt; Any ideas? &amp;gt; Thanks &amp;gt; Balaji &amp;gt; ------------------------------------------------------- &amp;gt; This SF.net email is sponsored by: ValueWeb: &amp;gt; Dedicated Hosting for just $79/mo with 500 GB of bandwidth! &amp;gt; No other company gives more support or power for your dedicated server http://click.atdmt.com/AFF/go/sdnxxaff00300020aff/direct/01/ &amp;gt; _______________________________________________ &amp;gt; dom4j-user mailing list &amp;gt; dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] How to avoid trimming of spaces in text</header>
    <date>Thu Apr 03 07:12:00 CEST 2003</date>
    <body>Balaji, I can't reproduce your problem. You say "when you get the element tag it displays ...".  Do you mean that serializing the document as text gives you this result?  If so, what mechanism do you use to output the XML as text? The inherited Node#asXML() method or the org.dom4j.io.XMLWriter class?  (I couldn't reproduce the problem with either of these.) When I run the following snippet: (or even with the last line as "new XMLWriter().write(parent.element("LINE"));") I get the correct result "&amp;lt;LINE&amp;gt; MODELCNTCTR&amp;lt;/LINE&amp;gt;". -- knut -----Original Message----- From: Balaji Varatharaj [mailto:bvaratharaj@...] Sent: Mittwoch, 2. April 2003 20:52 To: Wannheden, Knut; dom4j-user@... Subject: RE: [dom4j-user] How to avoid trimming of spaces in text Hi, I am using 1.3 version of Dom4j. Here is the part of code i am using.some values are harcoded here When i use  the above code and get the element tag it displays Thanks Balaji -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@... Behalf Of Wannheden, Knut Sent: Wednesday, April 02, 2003 9:58 AM To: dom4j-user@... Subject: RE: [dom4j-user] How to avoid trimming of spaces in text Balaji, That should certainly not be the case.  Can you show some code which demonstrates the problem?  And what version of dom4j are you using? Regards, -- knut http://click.atdmt.com/AFF/go/sdnxxaff00300020aff/direct/01/ http://click.atdmt.com/AFF/go/sdnxxaff00300020aff/direct/01/ https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to avoid trimming of spaces in text</header>
    <date>Wed Apr 02 14:32:00 CEST 2003</date>
    <body>Hi , I am adding a text to an Element with the leading spaces..for example " command".But the space in front of " command" is trimmed while adding to an Element. So the final Element tag i am getting is &amp;lt;LINE&amp;gt;command&amp;lt;/LINE&amp;gt; instead of How to add spaces in text that will be preserved in the Element? Any ideas? Thanks Balaji</body>
  </mail>
  <mail>
    <header>[dom4j-user] Status?</header>
    <date>Tue Apr 01 18:05:00 CEST 2003</date>
    <body>It's been pretty quiet...  what's the status of 1.4?</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with xml and swing</header>
    <date>Sat May 24 08:08:00 CEST 2003</date>
    <body>Hi there, Here is my problem, I have a small application that parses an xml file. In that file, some nodes contains html pages that I need to display in a JEditorPane. So it parse the whole file, creates all JEditorPane and put them into a hashmap.  Afterwards, I go thru this hashmap and display the corresponding JEditorPane. This process is runnning well under my IDE but when I run the application from a self-created jar-file, nothing is displayed and the hashmap is empty. Did someone encounter that kind of problem and can help me. Thanks a lot in advance. Vince</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with xml and swing</header>
    <date>Sat May 24 13:39:00 CEST 2003</date>
    <body>Not experienced this personally, but since it works in your IDE you have a few things to look at. 1) Verify the same JDK in use inside and outside your IDE. 2) Verify your classpath (in/out). 3) If you have a log file, look for something that indicates a Class Not Found, Class cast exception, or Security exception. 4) Make sure you are using the same input (file, database connection, user id ). 5) Make sure you are using the same code base.  Inside IDE using classes directory or equivalent, outside IDE maybe a jar containing classes ??? 6) Make sure the hashmap is not a WeakHashMap (the GC might grab it). 7) Check if it is a memory issue, verify what the IDE runs the JVM with the default memory and what you run with outside IDE. 8) Have another set of eyes review the previous 1-7 steps. ;-) Best Wishes, Dave xvj wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with xml and swing</header>
    <date>Sat May 24 18:52:00 CEST 2003</date>
    <body>Thanks for your support,  here is what I have. 1) I am using FORTE for Java and I have only one JDK on my system namely java version "1.4.1_01" Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.1_01-b01) Java HotSpot(TM) Client VM (build 1.4.1_01-b01, mixed mode) 2) They look the same but I can not find out the classpath within the IDE 3) To make sure, I have hard-coded the filename but I have still the=20 same exception when "running" the jar-file :-(( org.dom4j.DocumentException: Error on line 1 of document=20 file://C:/Temp/directory.xml : El=E9ment racine de document manquant.=20 Nested exception: El=E9ment racine de document manquant. at org.dom4j.io.SAXReader.read(SAXReader.java:339) at org.dom4j.io.SAXReader.read(SAXReader.java:218) at be.vincent.slideshow.HTMLSlideShow.parse(HTMLSlideShow.java:19= 5) at be.vincent.slideshow.HTMLSlideShow.&amp;lt;init&amp;gt;(HTMLSlideShow.java:4= 6) at=20 be.vincent.application.SlideApplication.startSlideShow(SlideApplication.j= ava:23) and the corresponding code is URL thefile =3D new URL(" file://C:/Temp/directory.xml Really, I don't understand want is going on.....  If someone has an=20 idea, please feel free to propose..... I can test everything. :-) Thanks for your support Vince David D. Lucas wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: [dom4j-dev] Question on SAXReader</header>
    <date>Fri May 23 14:26:00 CEST 2003</date>
    <body>=20 =20 -----Original Message----- From: David Hooker=20 Sent: Friday, May 23, 2003 9:04 AM To: Srinivas Maram Subject: RE: [dom4j-dev] Question on SAXReader =20 You should also post this to dom4j-user -----Original Message----- From: Srinivas Maram=20 Sent: Friday, May 23, 2003 8:57 AM To: dom4j-dev@... Subject: [dom4j-dev] Question on SAXReader Hi, =20 I am trying to build a Document from an xml file using SAXReader by giving it the fullpath of that file. The problem I am having is that, this xml file includes an xsd whose path is relative to that file.The SAXReader seems to look at the included file's path from where I am running this program. =20 Is there an option in SAXReader to set it to look relative to the parent file and not from where it is run???? =20 =20 // some sample code to explain my problem =20 =20 =20 http://www.w3.org/2001/XMLSchema-instance " =20 this program is looking for test.xsd relative to where I am running this program and not relative to the fullPathOfFile. =20 Thanks, -Sri</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XPATH Question: How do I get just the text data?</header>
    <date>Fri May 23 08:55:00 CEST 2003</date>
    <body>Try this: Node node =3D (Node) list.get(i);  =20 -----Original Message----- From: Lou Fox [mailto:foulox@... Sent: sexta-feira, 23 de Maio de 2003 0:17 To: dom4j-user@... Subject: [dom4j-user] XPATH Question: How do I get just the text data? Here's my code: The print out is: field:org.dom4j.tree.DefaultText@... [Text: "id"] field:org.dom4j.tree.DefaultText@... [Text: "ownerID"] field:org.dom4j.tree.DefaultText@... [Text: "private"] field:org.dom4j.tree.DefaultText@... [Text: "name"] How can I get just field:id field:ownerID field:private field:name ------------------------------------------------------- This SF.net email is sponsored by: ObjectStore. If flattening out C++ or Java code to make your application fit in a relational database is painful, don't do it! Check out ObjectStore. Now part of Progress Software. http://www.objectstore.net/sourceforge _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPATH Question: How do I get just the text data?</header>
    <date>Thu May 22 23:17:00 CEST 2003</date>
    <body>Here's my code: The print out is: field:org.dom4j.tree.DefaultText@... [Text: "id"] field:org.dom4j.tree.DefaultText@... [Text: "ownerID"] field:org.dom4j.tree.DefaultText@... [Text: "private"] field:org.dom4j.tree.DefaultText@... [Text: "name"] How can I get just field:id field:ownerID field:private field:name</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: [dom4j-dev] Still getting this strange error - resolution for now</header>
    <date>Thu May 22 15:48:00 CEST 2003</date>
    <body>Follow up note: =20 The TrAX notes in the Xalan docs state the following for TrAX Sources: =20 Intent=20 Serve as a single vendor-neutral object for multiple types of input.=20 Responsibilities=20 Act as simple data holder for System IDs, DOM nodes, streams, etc.=20 Thread safety=20 must be synchronized for edit operations.=20 Note that this means that dom4j's DocumentSource should be thread-safe for read-only operations, which it is not. =20 -----Original Message----- From: David Hooker=20 Sent: Thursday, May 22, 2003 10:21 AM To: dom4j-dev@...; dom4j-user@... Subject: [dom4j-dev] Still getting this strange error - resolution for now After several conversations (thanks Dave Lucas) and some exploring in the code, it appears that the lazy creation of parts of the Elements may be causing my problem.  I haven't traced it all the way down to the exception I get, but I'm sure that that is the root cause. =20 Going forward, I plan on creating Saxon "Templates" objects from the xslt and storing those instead of the dom4j tree's of the xslt.  I can create Transformer objects from Templates much faster and in a thread-safe manner. =20 As for dom4j, apparently there is a NonLazyDocumentFactory which creates NonLazyElements - these seem to pre-build what is normally lazily created, which would probably also allievate my problem.  From the source: =20 /** &amp;lt;p&amp;gt;&amp;lt;code&amp;gt;NonLazyDocumentFactory&amp;lt;/code&amp;gt; is a factory of XML objects which=20 * avoid using the lazy creation pattern. This results in a slower * creation of a Document and uses more memory but it means that the * same Document instance can be shared across threads provided it is not Thanks again! =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: [dom4j-dev] Still getting this strange error - resolution for
 now</header>
    <date>Thu May 22 19:29:00 CEST 2003</date>
    <body>I strongly believe that content is the issue.  It is currently being used as an Object that morphs from a single node to a list depending on what has been added.  The SAXWriter error seems to indicate that two threads are manipulating a node inside the DOM4J Document.  Based on what you had mentioned was going on I do not understand the conditions that is causing the SAXWriter. What might help (for content and attributes) is to create a thin class that acts like a composite and handles both single and list instances for children.  Then we can control inside this class the read/write locking. David, if you can create a small test case to recreate the issue it would really help in fixing it.  Need more data, more input. ;-) Thanks, Dave David Hooker wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Still getting this strange error - resolution for now</header>
    <date>Thu May 22 15:20:00 CEST 2003</date>
    <body>After several conversations (thanks Dave Lucas) and some exploring in the code, it appears that the lazy creation of parts of the Elements may be causing my problem.  I haven't traced it all the way down to the exception I get, but I'm sure that that is the root cause. =20 Going forward, I plan on creating Saxon "Templates" objects from the xslt and storing those instead of the dom4j tree's of the xslt.  I can create Transformer objects from Templates much faster and in a thread-safe manner. =20 As for dom4j, apparently there is a NonLazyDocumentFactory which creates NonLazyElements - these seem to pre-build what is normally lazily created, which would probably also allievate my problem.  From the source: =20 /** &amp;lt;p&amp;gt;&amp;lt;code&amp;gt;NonLazyDocumentFactory&amp;lt;/code&amp;gt; is a factory of XML objects which=20 * avoid using the lazy creation pattern. This results in a slower * creation of a Document and uses more memory but it means that the * same Document instance can be shared across threads provided it is not Thanks again! -----Original Message----- From: David Hooker=20 Sent: Wednesday, May 21, 2003 1:39 PM dom4j-user@... Subject: RE: [dom4j-dev] Still getting this strange error. Also, I do only see the problem when there are multiple threads running this code at the same time.  I'd be willing to bet that SAXWriter or something it depends on is not thread-safe. -----Original Message----- From: David Hooker=20 Sent: Wednesday, May 21, 2003 1:35 PM To: dom4j-dev@...; dom4j-user@... Subject: RE: [dom4j-dev] Still getting this strange error. My system is heavily multi-threaded, and dom4j is integral to it's operation.  Synchronizing everything around dom4j would kill my throughput. =20 BTW - I was using the JAR file for version 1.4 downloaded from sourceforge.  I recompiled the jar file using the source for 1.4 (not from cvs, but the 1.4 source snapshot) and I no longer see the problem (at least for now).  Weird. -----Original Message----- From: Lee, William [mailto:William.Lee@... Sent: Wednesday, May 21, 2003 12:36 PM dom4j-user@... Subject: RE: [dom4j-dev] Still getting this strange error. Not sure if this is related, but we also hit this exception before, and seems like this is related to the read-lock/write-lock issue when accessing dom4j object in multi-threaded environment.... the current dom4j required "write-lock" even for read-only operation. Maybe you can check and see if this is the case, and protect all dom4j operations with a write-lock or exclusive-lock. =20 William. -----Original Message----- From: David Hooker [mailto:dhooker@... Sent: Wednesday, May 21, 2003 12:03 PM To: dom4j-dev@...; dom4j-user@... Subject: RE: [dom4j-dev] Still getting this strange error. Better stack trace: =20 org.xml.sax.SAXException: Invalid Node in DOM4J content: [] at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:509) at org.dom4j.io.SAXWriter.write(SAXWriter.java:584) at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:479) at org.dom4j.io.SAXWriter.write(SAXWriter.java:584) at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:479) at org.dom4j.io.SAXWriter.write(SAXWriter.java:180) at org.dom4j.io.SAXWriter.parse(SAXWriter.java:461) at com.icl.saxon.om.Builder.build(Builder.java:258) at com.icl.saxon.PreparedStyleSheet.prepare(PreparedStyleSheet.java:113) at com.icl.saxon.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl .java:127) at com.icl.saxon.TransformerFactoryImpl.newTransformer(TransformerFactoryIm pl.java:79) at com.a4networks.processors.TransformOpletProcessor.process(TransformOplet Processor.java:109) So I'm obviously using Saxon to parse/build an XSLT file when it's failing.  I can post the XSLT file if anyone is interested in trying to reproduce. =20 I'm using Saxon 6.5.2. =20 Any clues anyone on what I could do to debug this? -----Original Message----- From: David Hooker=20 Sent: Wednesday, May 21, 2003 10:48 AM To: dom4j-dev@...; dom4j-user@... Subject: [dom4j-dev] Still getting this strange error. com.a4networks.processors.ProcessingException: Transformation failed, configuration exception: javax.xml.transform.TransformerConfigurationException: org.xml.sax.SAXException: Invalid Node in DOM4J content: [org.dom4j.tree.DefaultText@... [Text: "[/docWrapper/payload/LoadTendered]"]] at com.a4networks.processors.TransformOpletProcessor.process(TransformOplet Processor.java:158) at com.a4networks.registry.tree.DispatchNode.dispatchToTransform(DispatchNo de.java:215) at com.a4networks.processors.EventOpletProcessor.processTransform(EventOple tProcessor.java:508) at com.a4networks.processors.EventOpletProcessor.processKeyword(EventOpletP rocessor.java:774) at com.a4networks.processors.EventOpletProcessor.processSection(EventOpletP rocessor.java:162) at com.a4networks.processors.EventOpletProcessor.process(EventOpletProcesso r..java:126) at com.a4networks.server.dispatch.EventDispatchTarget.dispatch(EventDispatc hTarget.java:64) at com.a4networks.server.dispatch.Dispatcher.dispatch(Dispatcher.java:490) at com.a4networks.server.dispatch.Dispatcher.dispatch(Dispatcher.java:347) at com.a4networks.server.dispatch.Dispatcher.doWork(Dispatcher.java:288) at com.a4networks.server.core.QueueWorker.run(QueueWorker.java:121) at com.a4networks.server.core.ThreadPool$PooledThread.run(ThreadPool.java:6 7) I'm using the 1.4 jar file.  I've had this problem since dom4j 1.2.  I guess I'll have to track it down now, we shouldn't go into production with this problem.  I'll update everyone as I work on this... maybe those experienced with the code can provide insights. This message may contain privileged and/or confidential information. If you have received this e-mail in error or are not the intended recipient, you may not use, copy, disseminate or distribute it; do not open any attachments, delete it immediately from your system and notify the sender promptly by e-mail that you have done so. Thank you.</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: [dom4j-dev] Still getting this strange error.</header>
    <date>Wed May 21 16:03:00 CEST 2003</date>
    <body>Better stack trace: =20 org.xml.sax.SAXException: Invalid Node in DOM4J content: [] at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:509) at org.dom4j.io.SAXWriter.write(SAXWriter.java:584) at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:479) at org.dom4j.io.SAXWriter.write(SAXWriter.java:584) at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:479) at org.dom4j.io.SAXWriter.write(SAXWriter.java:180) at org.dom4j.io.SAXWriter.parse(SAXWriter.java:461) at com.icl.saxon.om.Builder.build(Builder.java:258) at com.icl.saxon.PreparedStyleSheet.prepare(PreparedStyleSheet.java:113) at com.icl.saxon.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl .java:127) at com.icl.saxon.TransformerFactoryImpl.newTransformer(TransformerFactoryIm pl.java:79) at com.a4networks.processors.TransformOpletProcessor.process(TransformOplet Processor.java:109) So I'm obviously using Saxon to parse/build an XSLT file when it's failing.  I can post the XSLT file if anyone is interested in trying to reproduce. =20 I'm using Saxon 6.5.2. =20 Any clues anyone on what I could do to debug this? -----Original Message----- From: David Hooker=20 Sent: Wednesday, May 21, 2003 10:48 AM To: dom4j-dev@...; dom4j-user@... Subject: [dom4j-dev] Still getting this strange error. com.a4networks.processors.ProcessingException: Transformation failed, configuration exception: javax.xml.transform.TransformerConfigurationException: org.xml.sax.SAXException: Invalid Node in DOM4J content: [org.dom4j.tree.DefaultText@... [Text: "[/docWrapper/payload/LoadTendered]"]] at com.a4networks.processors.TransformOpletProcessor.process(TransformOplet Processor.java:158) at com.a4networks.registry.tree.DispatchNode.dispatchToTransform(DispatchNo de.java:215) at com.a4networks.processors.EventOpletProcessor.processTransform(EventOple tProcessor.java:508) at com.a4networks.processors.EventOpletProcessor.processKeyword(EventOpletP rocessor.java:774) at com.a4networks.processors.EventOpletProcessor.processSection(EventOpletP rocessor.java:162) at com.a4networks.processors.EventOpletProcessor.process(EventOpletProcesso r.java:126) at com.a4networks.server.dispatch.EventDispatchTarget.dispatch(EventDispatc hTarget.java:64) at com.a4networks.server.dispatch.Dispatcher.dispatch(Dispatcher.java:490) at com.a4networks.server.dispatch.Dispatcher.dispatch(Dispatcher.java:347) at com.a4networks.server.dispatch.Dispatcher.doWork(Dispatcher.java:288) at com.a4networks.server.core.QueueWorker.run(QueueWorker.java:121) at com.a4networks.server.core.ThreadPool$PooledThread.run(ThreadPool.java:6 7) I'm using the 1.4 jar file.  I've had this problem since dom4j 1.2.  I guess I'll have to track it down now, we shouldn't go into production with this problem.  I'll update everyone as I work on this... maybe those experienced with the code can provide insights.</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: [dom4j-dev] Still getting this strange error.</header>
    <date>Wed May 21 17:36:00 CEST 2003</date>
    <body>Not sure if this is related, but we also hit this exception before, and seems like this is related to the read-lock/write-lock issue when accessing dom4j object in multi-threaded environment.... the current dom4j required "write-lock" even for read-only operation. Maybe you can check and see if this is the case, and protect all dom4j operations with a write-lock or exclusive-lock. William. -----Original Message----- From: David Hooker [mailto:dhooker@...] Sent: Wednesday, May 21, 2003 12:03 PM To: dom4j-dev@...; dom4j-user@... Subject: RE: [dom4j-dev] Still getting this strange error. Better stack trace: org.xml.sax.SAXException: Invalid Node in DOM4J content: [] at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:509) at org.dom4j.io.SAXWriter.write(SAXWriter.java:584) at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:479) at org.dom4j.io.SAXWriter.write(SAXWriter.java:584) at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:479) at org.dom4j.io.SAXWriter.write(SAXWriter.java:180) at org.dom4j.io.SAXWriter.parse(SAXWriter.java:461) at com.icl.saxon.om.Builder.build(Builder.java:258) at com.icl.saxon.PreparedStyleSheet.prepare(PreparedStyleSheet.java:113) at com.icl.saxon.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.jav a:127) at com.icl.saxon.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.j ava:79) at com.a4networks.processors.TransformOpletProcessor.process(TransformOpletProc essor.java:109) So I'm obviously using Saxon to parse/build an XSLT file when it's failing. I can post the XSLT file if anyone is interested in trying to reproduce. I'm using Saxon 6.5.2. Any clues anyone on what I could do to debug this? -----Original Message----- From: David Hooker Sent: Wednesday, May 21, 2003 10:48 AM To: dom4j-dev@...; dom4j-user@... Subject: [dom4j-dev] Still getting this strange error. com.a4networks.processors.ProcessingException: Transformation failed, configuration exception: javax.xml.transform.TransformerConfigurationException: org.xml.sax.SAXException: Invalid Node in DOM4J content: [org.dom4j.tree.DefaultText@... [Text: "[/docWrapper/payload/LoadTendered]"]] at com.a4networks.processors.TransformOpletProcessor.process(TransformOpletProc essor.java:158) at com.a4networks.registry.tree.DispatchNode.dispatchToTransform(DispatchNode.j ava:215) at com.a4networks.processors.EventOpletProcessor.processTransform(EventOpletPro cessor.java:508) at com.a4networks.processors.EventOpletProcessor.processKeyword(EventOpletProce ssor.java:774) at com.a4networks.processors.EventOpletProcessor.processSection(EventOpletProce ssor.java:162) at com.a4networks.processors.EventOpletProcessor.process(EventOpletProcessor..j ava:126) at com.a4networks.server.dispatch.EventDispatchTarget.dispatch(EventDispatchTar get.java:64) at com.a4networks.server.dispatch.Dispatcher.dispatch(Dispatcher.java:490) at com.a4networks.server.dispatch.Dispatcher.dispatch(Dispatcher.java:347) at com.a4networks.server.dispatch.Dispatcher.doWork(Dispatcher.java:288) at com.a4networks.server.core.QueueWorker.run(QueueWorker.java:121) at com.a4networks.server.core.ThreadPool$PooledThread.run(ThreadPool.java:67) I'm using the 1.4 jar file.  I've had this problem since dom4j 1.2.  I guess I'll have to track it down now, we shouldn't go into production with this problem.  I'll update everyone as I work on this... maybe those experienced with the code can provide insights. This message may contain privileged and/or confidential information.  If you have received this e-mail in error or are not the intended recipient, you may not use, copy, disseminate or distribute it; do not open any attachments, delete it immediately from your system and notify the sender promptly by e-mail that you have done so.  Thank you.</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: [dom4j-dev] Still getting this strange error.</header>
    <date>Wed May 21 18:34:00 CEST 2003</date>
    <body>My system is heavily multi-threaded, and dom4j is integral to it's operation.  Synchronizing everything around dom4j would kill my throughput. =20 BTW - I was using the JAR file for version 1.4 downloaded from sourceforge.  I recompiled the jar file using the source for 1.4 (not from cvs, but the 1.4 source snapshot) and I no longer see the problem (at least for now).  Weird. -----Original Message----- From: Lee, William [mailto:William.Lee@... Sent: Wednesday, May 21, 2003 12:36 PM dom4j-user@... Subject: RE: [dom4j-dev] Still getting this strange error. Not sure if this is related, but we also hit this exception before, and seems like this is related to the read-lock/write-lock issue when accessing dom4j object in multi-threaded environment.... the current dom4j required "write-lock" even for read-only operation. Maybe you can check and see if this is the case, and protect all dom4j operations with a write-lock or exclusive-lock. =20 William. -----Original Message----- From: David Hooker [mailto:dhooker@... Sent: Wednesday, May 21, 2003 12:03 PM To: dom4j-dev@...; dom4j-user@... Subject: RE: [dom4j-dev] Still getting this strange error. Better stack trace: =20 org.xml.sax.SAXException: Invalid Node in DOM4J content: [] at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:509) at org.dom4j.io.SAXWriter.write(SAXWriter.java:584) at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:479) at org.dom4j.io.SAXWriter.write(SAXWriter.java:584) at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:479) at org.dom4j.io.SAXWriter.write(SAXWriter.java:180) at org.dom4j.io.SAXWriter.parse(SAXWriter.java:461) at com.icl.saxon.om.Builder.build(Builder.java:258) at com.icl.saxon.PreparedStyleSheet.prepare(PreparedStyleSheet.java:113) at com.icl.saxon.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl .java:127) at com.icl.saxon.TransformerFactoryImpl.newTransformer(TransformerFactoryIm pl.java:79) at com.a4networks.processors.TransformOpletProcessor.process(TransformOplet Processor.java:109) So I'm obviously using Saxon to parse/build an XSLT file when it's failing.  I can post the XSLT file if anyone is interested in trying to reproduce. =20 I'm using Saxon 6.5.2. =20 Any clues anyone on what I could do to debug this? -----Original Message----- From: David Hooker=20 Sent: Wednesday, May 21, 2003 10:48 AM To: dom4j-dev@...; dom4j-user@... Subject: [dom4j-dev] Still getting this strange error. com.a4networks.processors.ProcessingException: Transformation failed, configuration exception: javax.xml.transform.TransformerConfigurationException: org.xml.sax.SAXException: Invalid Node in DOM4J content: [org.dom4j.tree.DefaultText@... [Text: "[/docWrapper/payload/LoadTendered]"]] at com.a4networks.processors.TransformOpletProcessor.process(TransformOplet Processor.java:158) at com.a4networks.registry.tree.DispatchNode.dispatchToTransform(DispatchNo de.java:215) at com.a4networks.processors.EventOpletProcessor.processTransform(EventOple tProcessor.java:508) at com.a4networks.processors.EventOpletProcessor.processKeyword(EventOpletP rocessor.java:774) at com.a4networks.processors.EventOpletProcessor.processSection(EventOpletP rocessor.java:162) at com.a4networks.processors.EventOpletProcessor.process(EventOpletProcesso r..java:126) at com.a4networks.server.dispatch.EventDispatchTarget.dispatch(EventDispatc hTarget.java:64) at com.a4networks.server.dispatch.Dispatcher.dispatch(Dispatcher.java:490) at com.a4networks.server.dispatch.Dispatcher.dispatch(Dispatcher.java:347) at com.a4networks.server.dispatch.Dispatcher.doWork(Dispatcher.java:288) at com.a4networks.server.core.QueueWorker.run(QueueWorker.java:121) at com.a4networks.server.core.ThreadPool$PooledThread.run(ThreadPool.java:6 7) I'm using the 1.4 jar file.  I've had this problem since dom4j 1.2.  I guess I'll have to track it down now, we shouldn't go into production with this problem.  I'll update everyone as I work on this... maybe those experienced with the code can provide insights. This message may contain privileged and/or confidential information. If you have received this e-mail in error or are not the intended recipient, you may not use, copy, disseminate or distribute it; do not open any attachments, delete it immediately from your system and notify the sender promptly by e-mail that you have done so. Thank you.</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: [dom4j-dev] Still getting this strange error.</header>
    <date>Wed May 21 18:38:00 CEST 2003</date>
    <body>Also, I do only see the problem when there are multiple threads running this code at the same time.  I'd be willing to bet that SAXWriter or something it depends on is not thread-safe. -----Original Message----- From: David Hooker=20 Sent: Wednesday, May 21, 2003 1:35 PM To: dom4j-dev@...; dom4j-user@... Subject: RE: [dom4j-dev] Still getting this strange error. My system is heavily multi-threaded, and dom4j is integral to it's operation.  Synchronizing everything around dom4j would kill my throughput. =20 BTW - I was using the JAR file for version 1.4 downloaded from sourceforge.  I recompiled the jar file using the source for 1.4 (not from cvs, but the 1.4 source snapshot) and I no longer see the problem (at least for now).  Weird. -----Original Message----- From: Lee, William [mailto:William.Lee@... Sent: Wednesday, May 21, 2003 12:36 PM dom4j-user@... Subject: RE: [dom4j-dev] Still getting this strange error. Not sure if this is related, but we also hit this exception before, and seems like this is related to the read-lock/write-lock issue when accessing dom4j object in multi-threaded environment.... the current dom4j required "write-lock" even for read-only operation. Maybe you can check and see if this is the case, and protect all dom4j operations with a write-lock or exclusive-lock. =20 William. -----Original Message----- From: David Hooker [mailto:dhooker@... Sent: Wednesday, May 21, 2003 12:03 PM To: dom4j-dev@...; dom4j-user@... Subject: RE: [dom4j-dev] Still getting this strange error. Better stack trace: =20 org.xml.sax.SAXException: Invalid Node in DOM4J content: [] at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:509) at org.dom4j.io.SAXWriter.write(SAXWriter.java:584) at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:479) at org.dom4j.io.SAXWriter.write(SAXWriter.java:584) at org.dom4j.io.SAXWriter.writeContent(SAXWriter.java:479) at org.dom4j.io.SAXWriter.write(SAXWriter.java:180) at org.dom4j.io.SAXWriter.parse(SAXWriter.java:461) at com.icl.saxon.om.Builder.build(Builder.java:258) at com.icl.saxon.PreparedStyleSheet.prepare(PreparedStyleSheet.java:113) at com.icl.saxon.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl .java:127) at com.icl.saxon.TransformerFactoryImpl.newTransformer(TransformerFactoryIm pl.java:79) at com.a4networks.processors.TransformOpletProcessor.process(TransformOplet Processor.java:109) So I'm obviously using Saxon to parse/build an XSLT file when it's failing.  I can post the XSLT file if anyone is interested in trying to reproduce. =20 I'm using Saxon 6.5.2. =20 Any clues anyone on what I could do to debug this? -----Original Message----- From: David Hooker=20 Sent: Wednesday, May 21, 2003 10:48 AM To: dom4j-dev@...; dom4j-user@... Subject: [dom4j-dev] Still getting this strange error. com.a4networks.processors.ProcessingException: Transformation failed, configuration exception: javax.xml.transform.TransformerConfigurationException: org.xml.sax.SAXException: Invalid Node in DOM4J content: [org.dom4j.tree.DefaultText@... [Text: "[/docWrapper/payload/LoadTendered]"]] at com.a4networks.processors.TransformOpletProcessor.process(TransformOplet Processor.java:158) at com.a4networks.registry.tree.DispatchNode.dispatchToTransform(DispatchNo de.java:215) at com.a4networks.processors.EventOpletProcessor.processTransform(EventOple tProcessor.java:508) at com.a4networks.processors.EventOpletProcessor.processKeyword(EventOpletP rocessor.java:774) at com.a4networks.processors.EventOpletProcessor.processSection(EventOpletP rocessor.java:162) at com.a4networks.processors.EventOpletProcessor.process(EventOpletProcesso r..java:126) at com.a4networks.server.dispatch.EventDispatchTarget.dispatch(EventDispatc hTarget.java:64) at com.a4networks.server.dispatch.Dispatcher.dispatch(Dispatcher.java:490) at com.a4networks.server.dispatch.Dispatcher.dispatch(Dispatcher.java:347) at com.a4networks.server.dispatch.Dispatcher.doWork(Dispatcher.java:288) at com.a4networks.server.core.QueueWorker.run(QueueWorker.java:121) at com.a4networks.server.core.ThreadPool$PooledThread.run(ThreadPool.java:6 7) I'm using the 1.4 jar file.  I've had this problem since dom4j 1.2.  I guess I'll have to track it down now, we shouldn't go into production with this problem.  I'll update everyone as I work on this... maybe those experienced with the code can provide insights. This message may contain privileged and/or confidential information. If you have received this e-mail in error or are not the intended recipient, you may not use, copy, disseminate or distribute it; do not open any attachments, delete it immediately from your system and notify the sender promptly by e-mail that you have done so. Thank you.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Still getting this strange error.</header>
    <date>Wed May 21 18:58:00 CEST 2003</date>
    <body>I have a server that has multiple threads processing the same transform on different input data.  The transforms are Saxon Transformer objects I instantiate from a dom4j Document: TransformerFactory factory =3D factory.setAttribute(FeatureKeys.RECOVERY_POLICY, new Transformer transformer =3D factory.newTransformer(new When the Transformer is instantiated, the DocumentSource streams SAX events from the dom4J tree to Saxon.  It's during this time that the error occurs. This *shouldn't* be a problem, since I'm *reading* from the dom4J tree simutaneously in multiple threads - but it's looking like there is some non-reentrant code somewhere getting called or set up in or for the SAXWriter... which is strange.  I would assume that since each thread creates a new DocumentSource that I shouldn't have this kind of problem. I'm tied up now with some performance measuring now, or I'd build a small test program which would create 10 or so threads with DocumentSource objects streaming SAX events from the same Document to try to reproduce this.  If anyone else has the time....... it should take that long....... -----Original Message----- From: David D. Lucas [mailto:ddlucas@... Sent: Wednesday, May 21, 2003 1:48 PM To: David Hooker Cc: dom4j-dev@...; dom4j-user@... Subject: Re: [dom4j-user] Still getting this strange error. Can you describe how you use DOM4J in a multithreaded environment? Can you identify the thread names / operations that might run=20 concurrently on the same DOM4J Document/Element/Node ? Thanks, Dave --=20 +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= 3Dhttp://www.lse.com/~ddlucas/pgpblock.txt IMHO=3D"in my humble opinion" IMHC=3D"in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Still getting this strange error.</header>
    <date>Wed May 21 19:22:00 CEST 2003</date>
    <body>David, Are you trying to cache (read it once?) or dynamically create the xslt for processing in the transformer ? Do you use the transformer by reference in more than one thread at the same time? Thanks, Dave David Hooker wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Still getting this strange error.</header>
    <date>Wed May 21 19:27:00 CEST 2003</date>
    <body>I create the Document for the xslt file ONCE (on startup).  From that I create the Transformer many times in many (sometimes simultaneous) threads. No, the Transformer object goes out of scope at the end of the function. (I know I *should* cache the Templates object which would not only improve performance, but it might patch this hole... but I'd rather fix dom4J first :-) -----Original Message----- From: David D. Lucas [mailto:ddlucas@... Sent: Wednesday, May 21, 2003 2:22 PM To: David Hooker Cc: dom4j-dev@...; dom4j-user@... Subject: Re: [dom4j-user] Still getting this strange error. David, Are you trying to cache (read it once?) or dynamically create the xslt=20 for processing in the transformer ? Do you use the transformer by reference in more than one thread at the=20 same time? Thanks, Dave David Hooker wrote: transform I some problem. --=20 +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= 3Dhttp://www.lse.com/~ddlucas/pgpblock.txt IMHO=3D"in my humble opinion" IMHC=3D"in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Still getting this strange error.</header>
    <date>Wed May 21 20:22:00 CEST 2003</date>
    <body>David, For now, can you try at the startup of each thread, creating their own instance of the xslt Document (parsing it per thread) and then using the thread only instance.  This would be the equivalent of a singleton per thread instead of a singleton per program. Let me know what happens. Thanks, Dave David Hooker wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Still getting this strange error.</header>
    <date>Wed May 21 20:38:00 CEST 2003</date>
    <body>I can't do that... that's fundamental to the design of my system. Transforms are dynamically selected per thread from a registry. -----Original Message----- From: David D. Lucas [mailto:ddlucas@... Sent: Wednesday, May 21, 2003 3:22 PM To: David Hooker Cc: dom4j-dev@...; dom4j-user@... Subject: Re: [dom4j-user] Still getting this strange error. David, For now, can you try at the startup of each thread, creating their own=20 instance of the xslt Document (parsing it per thread) and then using the thread only instance.  This would be the equivalent of a singleton per=20 thread instead of a singleton per program. Let me know what happens. Thanks, Dave David Hooker wrote: I function. fix --=20 +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= 3Dhttp://www.lse.com/~ddlucas/pgpblock.txt IMHO=3D"in my humble opinion" IMHC=3D"in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-dev] RE: [dom4j-user] Still getting this strange error.</header>
    <date>Wed May 21 21:29:00 CEST 2003</date>
    <body>So the xlst is dynamicly performed on a particular XML per thread.  Each thread shares a common registry of XSLT Documents which are of the DOM4J type ??? DOM4J objects are not currently designed to be shared between different threads.  While the factories and other caching mechanisms within DOM4J are thread safe (different threads can use the API to create Document/Element/Node objects), the objects created are not thread-safe. This is true of trying to share a HashMap created by one thread and then manipulated by another. My recommendation is to populate a registry on a per thread basis. There would be significate performance boost if you do not access objects being synchronized.  I do not know your requirements for the registry or how big it is, but caching on a per thread basis can help you eliminate costly locks on otherwise shared resources. An example might be to create a class called Registry and in it's constructor, populate a member HashMap of XSLT file names as the key and the Document parsed in by DOM4J as the value. Perhaps add them as you go.  When they are added, parsing would be done inside the Registry object per instance. Then in each Transforming thread, use a ThreadLocal to cache these items. Does that make sense / help at all? Let me know, Dave David Hooker wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Still getting this strange error.</header>
    <date>Wed May 21 15:48:00 CEST 2003</date>
    <body>com.a4networks.processors.ProcessingException: Transformation failed, configuration exception: javax.xml.transform.TransformerConfigurationException: org.xml.sax.SAXException: Invalid Node in DOM4J content: [org.dom4j.tree.DefaultText@... [Text: "[/docWrapper/payload/LoadTendered]"]] at com.a4networks.processors.TransformOpletProcessor.process(TransformOplet Processor.java:158) at com.a4networks.registry.tree.DispatchNode.dispatchToTransform(DispatchNo de.java:215) at com.a4networks.processors.EventOpletProcessor.processTransform(EventOple tProcessor.java:508) at com.a4networks.processors.EventOpletProcessor.processKeyword(EventOpletP rocessor.java:774) at com.a4networks.processors.EventOpletProcessor.processSection(EventOpletP rocessor.java:162) at com.a4networks.processors.EventOpletProcessor.process(EventOpletProcesso r.java:126) at com.a4networks.server.dispatch.EventDispatchTarget.dispatch(EventDispatc hTarget.java:64) at com.a4networks.server.dispatch.Dispatcher.dispatch(Dispatcher.java:490) at com.a4networks.server.dispatch.Dispatcher.dispatch(Dispatcher.java:347) at com.a4networks.server.dispatch.Dispatcher.doWork(Dispatcher.java:288) at com.a4networks.server.core.QueueWorker.run(QueueWorker.java:121) at com.a4networks.server.core.ThreadPool$PooledThread.run(ThreadPool.java:6 7) I'm using the 1.4 jar file.  I've had this problem since dom4j 1.2.  I guess I'll have to track it down now, we shouldn't go into production with this problem.  I'll update everyone as I work on this... maybe those experienced with the code can provide insights.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Still getting this strange error.</header>
    <date>Wed May 21 18:48:00 CEST 2003</date>
    <body>Can you describe how you use DOM4J in a multithreaded environment? Can you identify the thread names / operations that might run concurrently on the same DOM4J Document/Element/Node ? Thanks, Dave -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOMDocument to w3c document</header>
    <date>Fri May 16 13:57:00 CEST 2003</date>
    <body />
  </mail>
  <mail>
    <header>[dom4j-user] Choosing between JDOM and DOM4J</header>
    <date>Mon May 12 01:14:00 CEST 2003</date>
    <body>Hello all, Please excuse my newbie questions. Been using JAXP and have just begun to look at JDOM and DOM4J as alternatives.  Any input as to what situations / needs would imply one or the other?  I am a bit concerned that the jdomb9 lib directory seems over 3x the size of the dom4j. Which classes are required in a WAR or EAR to deploy? Thank you.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Choosing between JDOM and DOM4J</header>
    <date>Mon May 12 14:52:00 CEST 2003</date>
    <body>IMHO always choose dom4j. It is: Faster Smaller mem footprint Integrated XPath More extensible/pluggable due to exceptional object oriented design. Stable Dane Foster Sent: Sunday, May 11, 2003 21:14 Subject: [dom4j-user] Choosing between JDOM and DOM4J Hello all, Please excuse my newbie questions. Been using JAXP and have just begun to look at JDOM and DOM4J as alternatives.  Any input as to what situations / needs would imply one or the other?  I am a bit concerned that the jdomb9 lib directory seems over 3x the size of the dom4j. Which classes are required in a WAR or EAR to deploy? Thank you. ------------------------------------------------------- Enterprise Linux Forum Conference &amp;amp; Expo, June 4-6, 2003, Santa Clara The only event dedicated to issues related to Linux enterprise solutions http://www.enterpriselinuxforum.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Jar-files</header>
    <date>Sun May 04 10:41:00 CEST 2003</date>
    <body>Hello everybody, First of all, I want to say that I am pretty new in the java world so=20 don't blame me if I say/do something stupid. For school, I build a small application with Forte 3.0 for Java.  I did=20 mount the dom4j-full.jar and parse my XML file without problem. Now I tried to create my own JAR-file thru the IDE and putting in the=20 Class-path of the manifest file ./Dom4j-full.jar. When I try to execute my newly created jar, I get the following=20 exception while both jar-files are in the same directory: org.dom4j.DocumentException: Error on line 1 of document=20 file:/C:/Temp/MonDiaporama.xml : El=E9ment racine de document manquant.=20 Nested exception: El=E9ment racine de document manquant. at org.dom4j.io.SAXReader.read(SAXReader.java:339) at org.dom4j.io.SAXReader.read(SAXReader.java:236) at be.vincent.slideshow.SlideShow.parse(SlideShow.java:187) at be.vincent.slideshow.SlideShow.&amp;lt;init&amp;gt;(SlideShow.java:38) at=20 be.vincent.application.SlideApplication.&amp;lt;init&amp;gt;(SlideApplication.java:13) at=20 be.vincent.application.SlideApplication.main(SlideApplication.java:24) Nested exception: org.xml.sax.SAXParseException: El=E9ment racine de document manquant. at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3182) at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3170) at=20 org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:501) at org.apache.crimson.parser.Parser2.parse(Parser2.java:305) at=20 org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:442) at org.dom4j.io.SAXReader.read(SAXReader.java:323) at org.dom4j.io.SAXReader.read(SAXReader.java:236) at be.vincent.slideshow.SlideShow.parse(SlideShow.java:187) at be.vincent.slideshow.SlideShow.&amp;lt;init&amp;gt;(SlideShow.java:38) at=20 be.vincent.application.SlideApplication.&amp;lt;init&amp;gt;(SlideApplication.java:13) at=20 be.vincent.application.SlideApplication.main(SlideApplication.java:24) Nested exception: org.xml.sax.SAXParseException: El=E9ment racine de=20 document manquant. at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3182) at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3170) at=20 org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:501) at org.apache.crimson.parser.Parser2.parse(Parser2.java:305) at=20 org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:442) at org.dom4j.io.SAXReader.read(SAXReader.java:323) at org.dom4j.io.SAXReader.read(SAXReader.java:236) at be.vincent.slideshow.SlideShow.parse(SlideShow.java:187) at be.vincent.slideshow.SlideShow.&amp;lt;init&amp;gt;(SlideShow.java:38) at=20 be.vincent.application.SlideApplication.&amp;lt;init&amp;gt;(SlideApplication.java:13) at=20 be.vincent.application.SlideApplication.main(SlideApplication.java:24) Can anyone explain me what I did wrong ? Thanks a lot in advance Vince</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Error- validation using xml schema with dom4j</header>
    <date>Fri Jun 27 20:32:00 CEST 2003</date>
    <body>Hi Dave, I did what u said but still i get the same error.. Actually Im trying to validate against a Schema...but it seems to be looking for DOCTYPE....I thought DOCTYPE is only required for validating against dtds... Am i right? I put the following in my xml then the DOCtype error goes away, but i get another error.. [java]   &amp;lt;fatalError column="3" line="1"&amp;gt;The markup declarations contained or pointed to by the document type declaration must be It seems to be looking for a DTD and not a schema... How do I tell the parser that I want to do a Schema validation (not DTD validataion)?? Naveen -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@... Behalf Of David D. Lucas Sent: Thursday, June 26, 2003 11:44 PM To: Naveen Murthy Cc: dom4j-user@... Subject: Re: [dom4j-user] Error- validation using xml schema with dom4j You xml instance needs to define what schema it is using.  Apparently there is nothing handling the "null" schema. Try something like: http://www.xxx.yyy.com " xmlns:xsi = " http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation = " http://www.xxx.yyy.com " http://www.xxx.yyy.com/enm.xsd ... Best wishes, Dave Naveen Murthy wrote: "eventNotificationMsg", xml. BURT&amp;lt;/CUST_NAME&amp;gt;&amp;lt;ESTIMATED_TIME&amp;gt;00:30&amp;lt;/ESTIMATED_TIME&amp;gt;&amp;lt;LOCATION&amp;gt;PTLDMEFO&amp;lt;/LO DO 0&amp;lt;/REPORT1&amp;gt;&amp;lt;STATUS&amp;gt;T&amp;lt;/STATUS&amp;gt;&amp;lt;TRACKING&amp;gt;2077739865&amp;lt;/TRACKING&amp;gt;&amp;lt;TRICK1&amp;gt;N1&amp;lt;/TRIC WORK_TYPE&amp;gt;NDSTA&amp;lt;/WORK_TYPE&amp;gt;&amp;lt;ENTRY_DATE_TIME&amp;gt;2003-06-24T08:53:00&amp;lt;/ENTRY_DATE_ TIME&amp;gt;&amp;lt;DUE_DATE_TIME&amp;gt;2003-06-25T16:10:00&amp;lt;/DUE_DATE_TIME&amp;gt;&amp;lt;STATUS_DATE_TIME&amp;gt;200 3-06-24T08:53:00&amp;lt;/STATUS_DATE_TIME&amp;gt;&amp;lt;REGION&amp;gt;NE&amp;lt;/REGION&amp;gt;&amp;lt;/WorkAGR&amp;gt;&amp;lt;/eventNotif http://www.w3.org/2001/XMLSchema http://www.inetu.net/partner/index.php https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners. ------------------------------------------------------- This SF.Net email is sponsored by: INetU Attention Web Developers &amp;amp; Consultants: Become An INetU Hosting Partner. Refer Dedicated Servers. We Manage Them. You Get 10% Monthly Commission! INetU Dedicated Managed Hosting http://www.inetu.net/partner/index.php _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error- validation using xml schema with dom4j</header>
    <date>Fri Jun 27 21:19:00 CEST 2003</date>
    <body>I have included a piece of code that should give you an idea of what to do.  I have renamed and cut out some of it to sanitize it for any IP. I setup the entity resolver to look for the system id that you would have seen if you put in the XML instance document the schema information.  This is how I do my XSD schema validation.  BTW, I could only use Xerces to properly validate my schema, others just did not work correctly. Hope that helps, Dave ================================= SNIP ================================ //... in = getClass().getResourceAsStream("my.xsd" public InputSource resolveEntity(String publicId, String systemId) // specify the schema to use reader.setFeature (" http://xml.org/sax/features/validation reader.setFeature (" http://apache.org/xml/features/validation/schema",true // add an error handler which turns any errors into XML //... ================================= SNIP ================================ Naveen Murthy wrote: http://www.xxx.yyy.com " http://www.w3.org/2001/XMLSchema-instance " http://www.xxx.yyy.com " http://www.xxx.yyy.com/enm.xsd http://www.w3.org/2001/XMLSchema http://www.inetu.net/partner/index.php https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.lse.com/~ddlucas/pgpblock.txt http://www.inetu.net/partner/index.php https://lists.sourceforge.net/lists/listinfo/dom4j-user http://aspnet.click-url.com/go/psa00100006ave/direct;at.asp_061203_01/01 https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] unsubscibe</header>
    <date>Fri Jun 27 17:55:00 CEST 2003</date>
    <body>Hello, How do I unsubscibe from the list? Dennis</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Content is not allowed in prolog</header>
    <date>Fri Jun 27 14:49:00 CEST 2003</date>
    <body>Hello, I found these lines in the dom4j src dir for SaxReader.java Pls look at the comment section..It may pertain to ur problem... * * @param file is the &amp;lt;code&amp;gt;File&amp;lt;/code&amp;gt; to read from. * @return the newly created Document instance * @throws DocumentException if an error occurs during parsing. * @throws MalformedURLException if a URL could not be made for the given File */ public Document read(File file) throws DocumentException, /* * We cannot convert the file to an URL because if the filename * contains '#' characters, there will be problems with the * URL in the InputSource (because a URL like * http://myhost.com/index#anchor is treated the same as * http://myhost.com/index ) * Thanks to Christian Oetterli */ THanks, Naveen -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@... Behalf Of Billy Ng Sent: Wednesday, June 25, 2003 8:41 PM To: dom4j-user@... Subject: [dom4j-user] Content is not allowed in prolog Hi folks, When I try to use Dom4j to read the file with "#" in the path, it will throw the following exception. org.dom4j.DocumentException: Error on line 1 of document file:/C:/Program Files/../../../#l/settings.xml: Content is not allowed in prolog. Nested exception: Content is not allowed in prolog. at org.dom4j.io.SAXReader.read(SAXReader.java:339) at org.dom4j.io.SAXReader.read(SAXReader.java:218) The exception says "Content is not allowed in prolog", but I am sure everything is legal in the xml.  It works if I change the "#" to a letter in the path. Why? Billy Ng</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] DatatypeElement</header>
    <date>Fri Jun 27 10:56:00 CEST 2003</date>
    <body>HI, You need to configure the DocumentFactory for the reader, so that it generates the required node types Look at the way that you create your SAXReader Mike https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user http://www.inetu.net/partner/index.php https://lists.sourceforge.net/lists/listinfo/d &amp;gt; om4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] DatatypeElement</header>
    <date>Thu Jun 26 15:00:00 CEST 2003</date>
    <body>Hello. I am copy/pasting five lines of code from chapter 7 of the dom4j cookbook: Document schema =  return reader.read(xmlFile) XPath xpathSelector = DocumentHelper.createXPath("xsd:schema/xsd:complexType[@name='Address']/ I am trying to do the same thing with my xml file to handle elements as datatype element but I get an ClassCastException. What's the catch? Thank you Stamatis</body>
  </mail>
  <mail>
    <header>[dom4j-user] DatatypeElement</header>
    <date>Fri Jun 27 09:26:00 CEST 2003</date>
    <body>Hello. I am copy/pasting five lines of code from chapter 7 of the dom4j cookbook: Document schema =  return reader.read(xmlFile) XPath xpathSelector = DocumentHelper.createXPath("xsd:schema/xsd:complexType[@name='Address']/ I am trying to do the same thing with my xml file to handle elements as datatype element but I get an ClassCastException. What's the catch? Thank you Stamatis --__--__-- _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user End of dom4j-user Digest</body>
  </mail>
  <mail>
    <header>[dom4j-user] Error- validation using xml schema with dom4j</header>
    <date>Wed Jun 25 17:00:00 CEST 2003</date>
    <body>Hello, Im using dom4j 1.4 and im trying to validate my xml against a schema. I tried using the SAXValidatorDemo.java (shipped along with dom4j) to test the validation. I get the following error from the errorhandler must Im using xml schemas, not dtds, so i didnot include the DOCTYPE for the xml. Any help is appreciated, Thank you. My xml is as follows: D N BURT&amp;lt;/CUST_NAME&amp;gt;&amp;lt;ESTIMATED_TIME&amp;gt;00:30&amp;lt;/ESTIMATED_TIME&amp;gt;&amp;lt;LOCATION&amp;gt;PTLDMEFO&amp;lt;/LO CATION&amp;gt;&amp;lt;ORDER&amp;gt;MEAR306188&amp;lt;/ORDER&amp;gt;&amp;lt;PRIORITY&amp;gt;29&amp;lt;/PRIORITY&amp;gt;&amp;lt;REPORT1&amp;gt;LETS SEE DO &amp;amp;amp; DI | CH N 0&amp;lt;/REPORT1&amp;gt;&amp;lt;STATUS&amp;gt;T&amp;lt;/STATUS&amp;gt;&amp;lt;TRACKING&amp;gt;2077739865&amp;lt;/TRACKING&amp;gt;&amp;lt;TRICK1&amp;gt;N1&amp;lt;/TRIC WORK_TYPE&amp;gt;NDSTA&amp;lt;/WORK_TYPE&amp;gt;&amp;lt;ENTRY_DATE_TIME&amp;gt;2003-06-24T08:53:00&amp;lt;/ENTRY_DATE_ TIME&amp;gt;&amp;lt;DUE_DATE_TIME&amp;gt;2003-06-25T16:10:00&amp;lt;/DUE_DATE_TIME&amp;gt;&amp;lt;STATUS_DATE_TIME&amp;gt;200 3-06-24T08:53:00&amp;lt;/STATUS_DATE_TIME&amp;gt;&amp;lt;REGION&amp;gt;NE&amp;lt;/REGION&amp;gt;&amp;lt;/WorkAGR&amp;gt;&amp;lt;/eventNotif my schema is as follows: http://www.w3.org/2001/XMLSchema thanks and regards, Naveen Srinivasa Murthy</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error- validation using xml schema with dom4j</header>
    <date>Fri Jun 27 04:03:00 CEST 2003</date>
    <body>You xml instance needs to define what schema it is using.  Apparently there is nothing handling the "null" schema. Try something like: http://www.xxx.yyy.com " xmlns:xsi = " http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation = " http://www.xxx.yyy.com " http://www.xxx.yyy.com/enm.xsd ... Best wishes, Dave Naveen Murthy wrote: http://www.w3.org/2001/XMLSchema http://www.inetu.net/partner/index.php https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Content is not allowed in prolog</header>
    <date>Thu Jun 26 00:40:00 CEST 2003</date>
    <body>Hi folks, When I try to use Dom4j to read the file with "#" in the path, it will = throw the following exception. org.dom4j.DocumentException: Error on line 1 of document = file:/C:/Program Files/../../../#l/settings.xml: Content is not allowed = in prolog. Nested exception: Content is not allowed in prolog. at org.dom4j.io.SAXReader.read(SAXReader.java:339) at org.dom4j.io.SAXReader.read(SAXReader.java:218) The exception says "Content is not allowed in prolog", but I am sure = everything is legal in the xml.  It works if I change the "#" to a = letter in the path. Why? Billy Ng</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOM document according to a schema (.xsd)....</header>
    <date>Tue Jun 24 19:12:00 CEST 2003</date>
    <body>Hello Folks, I have to build a DOM document according to a schema (.xsd).... Is there any way I can force the schema while constructing the DOM document? Or should i first build the DOM, serialize it and then run it thro a validating SaxReader? thanks and regards, Balaji</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] ignoring DTD reference</header>
    <date>Thu Jun 19 21:51:00 CEST 2003</date>
    <body>I believe there is a feature you can set on most parsers to turn off DTD loading.  For Xerces Java 1, it is http://apache.org/xml/features/nonvalidating/load-external-dtd . -----Original Message----- From: Christina Takara [mailto:ctakara@... Sent: Thursday, June 19, 2003 4:38 PM To: dom4j-user@... Subject: [dom4j-user] ignoring DTD reference I am trying to read an XML document with org.dom4j.io.SAXReader.  The DTD is referenced in the Document, so I still get the following exception when I set the SAXREader to be non-validating. org.dom4j.DocumentException: Connection refused: connect Nested exception: Conne ction refused: connect at org.dom4j.io.SAXReader.read(SAXReader.java:342) at org.dom4j.io.SAXReader.read(SAXReader.java:256) I referenced the following message and attempted to implement the EntityResolver: ml However, I do not want to change where the DTD is loaded from, I want to not reference the DTD. I attempted to implement the EntityResolver in this manner: But this gives me the same results.  Is there a way to ignore the DTD if it is referenced in the Document? Christina ------------------------------------------------------- This SF.Net email is sponsored by: INetU Attention Web Developers &amp;amp; Consultants: Become An INetU Hosting Partner. Refer Dedicated Servers. We Manage Them. You Get 10% Monthly Commission! INetU Dedicated Managed Hosting http://www.inetu.net/partner/index.php _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] ignoring DTD reference</header>
    <date>Thu Jun 19 21:38:00 CEST 2003</date>
    <body>I am trying to read an XML document with org.dom4j.io.SAXReader.  The DTD is referenced in the Document, so I still get the following exception when I set the SAXREader to be non-validating. org.dom4j.DocumentException: Connection refused: connect Nested exception: Conne ction refused: connect at org.dom4j.io.SAXReader.read(SAXReader.java:342) at org.dom4j.io.SAXReader.read(SAXReader.java:256) I referenced the following message and attempted to implement the EntityResolver: However, I do not want to change where the DTD is loaded from, I want to not reference the DTD. I attempted to implement the EntityResolver in this manner: But this gives me the same results.  Is there a way to ignore the DTD if it is referenced in the Document? Christina</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j to w3c.dom transformation</header>
    <date>Tue Jun 17 08:37:00 CEST 2003</date>
    <body>Hello. I am currently refactoring an application built with org.w3c.dom package using org.dom4j. I have tried the test code of the page 10 of the cookbook to transform an dom4j document to a w3c document but I can get it compiled! The example starts like: import org.w3c.dom.Document import org.dom4j.Document ..... When I compile it I get  Ambiguous class: org.dom4j.Document and org.w3c.dom.Document ^ Have anyone seen this before? Is it a java problem? Thanx Stam</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j to w3c.dom transformation</header>
    <date>Tue Jun 17 10:42:00 CEST 2003</date>
    <body>This is common in Java when two classes have the same name (but different packages).  You have to be explicit with your use in the code. Where you want a Document instance variable for DOM4J, use org.dom4j.Document.  And likewise for W3C, use org.w3c.Document in the code. For Example: //... Hope that helps, Dave Stamatis Karbounarakis wrote: http://www.inetu.net/partner/index.php https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j to w3c.dom transformation</header>
    <date>Tue Jun 17 14:27:00 CEST 2003</date>
    <body>Thank you very much. I will try it! Stam On Tue, 17 Jun 2003, David D. Lucas wrote: http://www.inetu.net/partner/index.php https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.lse.com/~ddlucas/pgpblock.txt</body>
  </mail>
  <mail>
    <header>[dom4j-user] Error while converting DOM to dom4j (VERY URGENT)</header>
    <date>Thu Jun 12 23:01:00 CEST 2003</date>
    <body>I have been trying to convert w3c DOM document into dom4j document using //where w3cDom is com.sun.xml.tree.XmlDocument. I keep getting following exception. java.lang.AbstractMethodError at org.dom4j.io.DOMReader.readElement(DOMReader.java:181) at org.dom4j.io.DOMReader.readTree(DOMReader.java:106) at org.dom4j.io.DOMReader.read(DOMReader.java:88) Can anyone tell , what could be the reason for this? I need to get this resolved ASAP. Thank you all. --------------------------------- Do you Yahoo!? Free online calendar with sync to Outlook(TM).</body>
  </mail>
  <mail>
    <header>[dom4j-user] Error while converting W3C DOM to dom4j document</header>
    <date>Thu Jun 12 02:00:00 CEST 2003</date>
    <body>I have been trying to convert w3c DOM document into dom4j document using //where w3cDom is com.sun.xml.tree.XmlDocument. I keep getting following exception. java.lang.AbstractMethodError at org.dom4j.io.DOMReader.readElement(DOMReader.java:181) at org.dom4j.io.DOMReader.readTree(DOMReader.java:106) at org.dom4j.io.DOMReader.read(DOMReader.java:88) Can anyone tell , what could be the reason for this? I need to get this resolved ASAP. Thank you all. --------------------------------- Do you Yahoo!? Free online calendar with sync to Outlook(TM).</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error while converting W3C DOM to dom4j document</header>
    <date>Thu Jun 12 03:53:00 CEST 2003</date>
    <body>The w3c DOM the DOM4J compiled with and the one Sun compiled with may be a mismatch.  Did you look at the DOM samples in the source distribution? They show how to use JAXP to parse into DOM and the parse DOM to get DOM4J. Later, Dave JavaXML Developer wrote: http://us.rd.yahoo.com/mail_us/tag/*http://calendar.yahoo.com &amp;gt; with -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error while converting W3C DOM to dom4j document</header>
    <date>Thu Jun 12 16:06:00 CEST 2003</date>
    <body>Dave, Thanks for your reply. could you point me where to find the sample which you are talking about? I am not able to see any example of converting JAXP created DOM into dom4j document. i would appreciate the early response. Thanks, Vikas "David D. Lucas" &amp;lt;ddlucas@...&amp;gt; wrote: The w3c DOM the DOM4J compiled with and the one Sun compiled with may be a mismatch. Did you look at the DOM samples in the source distribution? They show how to use JAXP to parse into DOM and the parse DOM to get DOM4J. Later, Dave JavaXML Developer wrote: -- +------------------------------------------------------------+ | David Lucas mailto:ddlucas@... | | Lucas Software Engineering, Inc. (740) 964-6248 Voice | | Unix,Java,C++,CORBA,XML,EJB (614) 668-4020 Mobile | | Middleware,Frameworks (888) 866-4728 Fax/Msg | +------------------------------------------------------------+ | GPS Location: 40.0150 deg Lat, -82.6378 deg Long | | IMHC: "Jesus Christ is the way, the truth, and the life." | | IMHC: "I know where I am; I know where I'm going." &amp;lt;&amp;gt;&amp;lt; | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners. ------------------------------------------------------- This SF.NET email is sponsored by: eBay Great deals on office technology -- on eBay now! Click here: http://adfarm.mediaplex.com/ad/ck/711-11697-6916-5 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Do you Yahoo!? Free online calendar with sync to Outlook(TM).</body>
  </mail>
  <mail>
    <header>[dom4j-user] Gary C Johnson/Develop/GB/DST/US is out of the office.</header>
    <date>Mon Jun 02 00:04:00 CEST 2003</date>
    <body>I will be out of the office starting  29/05/2003 and will not return until 03/06/2003.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Gary C Johnson/Develop/GB/DST/US is out of the office.</header>
    <date>Thu Jun 12 00:03:00 CEST 2003</date>
    <body>I will be out of the office starting  07/06/2003 and will not return until 23/06/2003.</body>
  </mail>
  <mail>
    <header>[dom4j-user] error while converting w3c DOM into dom4j</header>
    <date>Wed Jun 11 21:44:00 CEST 2003</date>
    <body>I have been trying to convert w3c DOM document into dom4j document using //where w3cDom is com.sun.xml.tree.XmlDocument. I keep getting following exception. java.lang.AbstractMethodError at org.dom4j.io.DOMReader.readElement(DOMReader.java:181) at org.dom4j.io.DOMReader.readTree(DOMReader.java:106) at org.dom4j.io.DOMReader.read(DOMReader.java:88) Can anyone tell , what could be the reason for this? I need to get this resolved ASAP. Thank you all. --------------------------------- Do you Yahoo!? Free online calendar with sync to Outlook(TM).</body>
  </mail>
  <mail>
    <header>[dom4j-user] error while converting w3c DOM into dom4j</header>
    <date>Wed Jun 11 21:45:00 CEST 2003</date>
    <body>I have been trying to convert w3c DOM document into dom4j document using //where w3cDom is com.sun.xml.tree.XmlDocument. I keep getting following exception. java.lang.AbstractMethodError at org.dom4j.io.DOMReader.readElement(DOMReader.java:181) at org.dom4j.io.DOMReader.readTree(DOMReader.java:106) at org.dom4j.io.DOMReader.read(DOMReader.java:88) Can anyone tell , what could be the reason for this? I need to get this resolved ASAP. Thank you all. --------------------------------- Do you Yahoo!? Free online calendar with sync to Outlook(TM).</body>
  </mail>
  <mail>
    <header>[dom4j-user] DatatypeDocumentFactory / Element setData Question</header>
    <date>Wed Jun 11 19:33:00 CEST 2003</date>
    <body>Hello, I have just started using the Datatype support in dom4j.  When the code below runs, the call to getData does not set the value of the element (and calling getData afterwards throws an exception).  When stepping into setData with a debugger, it steps into AbstractElement, which has the method below for getData: // ignore this method It looks like I have something set up wrong?  Any help is appreciated. Craig ========================================================================= QName simpleListQName = docFactory.createQName("SimpleListDescriptorType", "smp-lst", root.addNamespace(  "xsi", " http://www.w3.org/2001/XMLSchema-instance root.addAttribute(  "xsi:schemaLocation", QName keyQName = docFactory.createQName("key", "smp-lst",</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to encode an entity with dom4j</header>
    <date>Fri Jun 06 10:11:00 CEST 2003</date>
    <body>hi, this is probably a very basic question, but I still haven't found a solution for it by browsing through the list archive. I have written a web application that generates some xml files with iso-8859-1 encoding. in an dtd file I defined a entity e.g. &amp;lt;!ENTITY trademark "&amp;amp;#x99;"&amp;gt;. When I parse the document for reading everything works fine. The trademark symbol is properly displayed in the form field of my browser form. But when I submit my form, the trademark symbol is replaced by an If I write 'Test &amp;amp;trademark;' into the form field the following is How do I get the entity into the xml file with dom4j? best regards, martin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to encode an entity with dom4j</header>
    <date>Fri Jun 06 14:58:00 CEST 2003</date>
    <body>Martin, When you say submit, what do you do?  Can you provide snippets of the code?  How do you "write" out the DOM tree?  Are you using an org.dom4j.io.OutputFormat instance combined with the XmlWriter? More info please. ;-) Thanks, Dave Martin Gross wrote: http://www.etnus.com . https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re[2]: [dom4j-user] how to encode an entity with dom4j</header>
    <date>Fri Jun 06 16:43:00 CEST 2003</date>
    <body>The application is Jakarta Struts based. When the form is submitted the values are stored in Bean e.g. theItem and stored in the DOM tree: When everything is stored I write into a file with the following code: Thanks, Martin http://www.etnus.com . https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to encode an entity with dom4j</header>
    <date>Fri Jun 06 17:53:00 CEST 2003</date>
    <body>I was interested in what marks were available for TM myself and did some investigation.  Based on the information at the link http://www.pemberley.com/janeinfo/latin1.html iso-8859-1 does not support "TM" trade mark symbol.  It appears that maybe the tool you are using is converting on the console display the binary equivalent.  When you parse in the encoding, it will convert it to what your standard encoding is, thus a potential different map (i.e. a square or question mark looking character). I tried doing the (R) and (C) with no problems.  They are valid iso-8859-1 characters. You may want to try putting int the outgoing XML the unicode for CP1252 (Windows character set) "&amp;amp;#8482;" to see if the display comes up the way you want.  But your mileage may vary based on the native display text encoding. Not sure what to say other than verify the Unicode values and try adding it to the setText like. This will be converted to the correct "&amp;amp;#xxx;" number so it can travel over XML. Best Wishes! Dave Martin Gross wrote: http://www.etnus.com . https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.etnus.com . https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to encode an entity with dom4j</header>
    <date>Fri Jun 06 22:04:00 CEST 2003</date>
    <body>If you won't be searching against the XML in the database another option may be to save the XML as raw bytes and convert in to a string on the java side.  This option provides the added benefit of allowing you to compress the XML which reduces the amount of bytes that has to be shuffled between the database and your app, plus it makes for better disk space usage --which is really an over statement because the cost of disk space is so cheap--. Dane Foster Sent: Friday, June 06, 2003 13:31 Subject: Re: [dom4j-user] how to encode an entity with dom4j I was interested in what marks were available for TM myself and did some investigation.  Based on the information at the link http://www.pemberley.com/janeinfo/latin1.html iso-8859-1 does not support "TM" trade mark symbol.  It appears that maybe the tool you are using is converting on the console display the binary equivalent.  When you parse in the encoding, it will convert it to what your standard encoding is, thus a potential different map (i.e. a square or question mark looking character). I tried doing the (R) and (C) with no problems.  They are valid iso-8859-1 characters. You may want to try putting int the outgoing XML the unicode for CP1252 (Windows character set) "&amp;amp;#8482;" to see if the display comes up the way you want.  But your mileage may vary based on the native display text encoding. Not sure what to say other than verify the Unicode values and try adding it to the setText like. This will be converted to the correct "&amp;amp;#xxx;" number so it can travel over XML. Best Wishes! Dave Martin Gross wrote: http://www.etnus.com . https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.etnus.com . https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners. ------------------------------------------------------- This SF.net email is sponsored by:  Etnus, makers of TotalView, The best thread debugger on the planet. Designed with thread debugging features you've never dreamed of, try TotalView 6 free at http://www.etnus.com . _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] concat () problem</header>
    <date>Tue Jun 03 15:18:00 CEST 2003</date>
    <body>The following works in dom4j: concat(./../../@BLB_PTH,./FLD[@DSC=3D'PIC']/@BLB) But if I try the following: concat(/TOP/@BLB_PTH,./FLD[@DSC=3D'PIC']/@BLB) then it returns just the string from the first node and I don't get the = ,./FLD[@DSC=3D'PIC']/@BLB part. Any ideas? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: XPath concat () problem</header>
    <date>Thu Jun 05 13:44:00 CEST 2003</date>
    <body>Help please - this is hurting us. From: David Thielen=20 To: dom4j-user@... Sent: Tuesday, June 03, 2003 9:18 AM Subject: [dom4j-user] concat () problem The following works in dom4j: concat(./../../@BLB_PTH,./FLD[@DSC=3D'PIC']/@BLB) But if I try the following: concat(/TOP/@BLB_PTH,./FLD[@DSC=3D'PIC']/@BLB) then it returns just the string from the first node and I don't get = the ,./FLD[@DSC=3D'PIC']/@BLB part. Any ideas? thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: XPath concat () problem</header>
    <date>Thu Jun 05 14:49:00 CEST 2003</date>
    <body>Can you show us the XML ? Which class/interface are you calling concat on? Thanks, Dave David Thielen wrote: --=20 +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= 3Dhttp://www.lse.com/~ddlucas/pgpblock.txt IMHO=3D"in my humble opinion" IMHC=3D"in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Inserting an element at a precise location</header>
    <date>Thu Jun 05 00:33:00 CEST 2003</date>
    <body>I am new to the dom4j API and am having trouble figuring out how to do something. The best way to describe what I want to do is through an example. A "before" and "after" snapshot of XML are shown below. Any help on how to do this is appreciated. Before: ... [bar repeats many times, and I want to do the same for each bar] After: ... The main objective is to insert the &amp;lt;C&amp;gt; structure in a precise location of the &amp;lt;bar&amp;gt; structure. Thanks for your help, Rob __________________________________ Do you Yahoo!? Yahoo! Calendar - Free online calendar with sync to Outlook(TM). http://calendar.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Inserting an element at a precise location</header>
    <date>Thu Jun 05 01:04:00 CEST 2003</date>
    <body>DOM4J allows you interact w/ your XML as java.lang.List objects.  So, all you have to do is: for( int a = 0, z = bars.size(); a &amp;lt; z; a++ ) c.setText( "c" ) Dane Foster Equity Technology Group, Inc. http://www.equitytg.com 954.360.9800 Sent: Wednesday, June 04, 2003 20:33 Subject: [dom4j-user] Inserting an element at a precise location I am new to the dom4j API and am having trouble figuring out how to do something. The best way to describe what I want to do is through an example. A "before" and "after" snapshot of XML are shown below. Any help on how to do this is appreciated. Before: ... [bar repeats many times, and I want to do the same for each bar] After: ... The main objective is to insert the &amp;lt;C&amp;gt; structure in a precise location of the &amp;lt;bar&amp;gt; structure. Thanks for your help, Rob __________________________________ Do you Yahoo!? Yahoo! Calendar - Free online calendar with sync to Outlook(TM). http://calendar.yahoo.com ------------------------------------------------------- This SF.net email is sponsored by:  Etnus, makers of TotalView, The best thread debugger on the planet. Designed with thread debugging features you've never dreamed of, try TotalView 6 free at http://www.etnus.com . _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath Namespace Question</header>
    <date>Wed Jun 04 21:41:00 CEST 2003</date>
    <body>I know a variant of this question has come up before, but I couldn't = find it in a search of the archives.  Assume I have a file structured = something like this: If I convert it to a DOM, I can operate on it easily: However, when I get to the author element, the only way I can make work = is: String author =3D doc.selectSingleNode("*[local-name() =3D = Isn't there a more straightforward and robust way to get element values = when a namespace happens to be involved? I have a feeling this is a really dumb question with a *really* simple = answer, but I'm stuck, so here it is. Regards, Terry</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath Namespace Question</header>
    <date>Thu Jun 05 01:04:00 CEST 2003</date>
    <body>Try using a QName. Here is what it might look like: There are several different ways to get the QName.  This was just one example.  It depends on your needs.  This will be faster than doing an XPath select. Enjoy! Dave Terry Steichen wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] JTidy-&amp;gt;Dom4j-&amp;gt;NullPointerException</header>
    <date>Sun Jun 01 19:39:00 CEST 2003</date>
    <body>That works ! and with the namespace hint I configured Jtidy not to create a valid XML [setXmlOut(true)] instead of XHTML [setXHTML(true)]. Then JTidy doesn't create namespaces and "/html/body/table" works fine, also. Thank you, Dave ! Marco http://www.w3.org/1999/xhtml \"&amp;gt;")</body>
  </mail>
  <mail>
    <header>[dom4j-user] Trouble rendering non-breaking space entity</header>
    <date>Tue Jul 29 02:51:00 CEST 2003</date>
    <body>Hi all I am having trouble rendering non-breaking spaces.  I have an XHTML file with &amp;amp;#160; entities as non-breaking spaces (because &amp;amp;nbsp; could not be parsed with the SAXParser without an error).  When I write the file using the HTMLWriter with no OutputFormat or using an OutputFormat with "UTF-8" encoding, all the non-breaking spaces are rendered as =C2 ('A' with a ^ o= ver it, or an A Circumflex). If I use "UTF-16" encoding, the non-breaking spaces are actually converte= d into _spaces_, so any series of non-breaking spaces will collapse into a single space when rendered on a browser. Is there a way of keeping the non-breaking spaces as the actual entity of either &amp;amp;#160; or &amp;amp;nbsp;? Also, any &amp;amp;amp; loses any spacing either side of it.  For example, if I=20 had something like "Peaches &amp;amp;amp; Cream", it will render in HTML as=20 "Peaches&amp;amp;Cream"  How would I be able to keep the spaceing? =20 Thanks --Andrew ------------------ org.dom4j.io.OutputFormat format =3D new org.dom4j.io.OutputForma=</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: dom4j-user digest, Vol 1 #525 - 2 msgs</header>
    <date>Thu Jul 24 18:29:00 CEST 2003</date>
    <body>If you're interested, Christian, i've got an almost complete solution to this in Java. It'd be nice to get it *completely* licked though! G00se</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: dom4j-user digest, Vol 1 #525 - 2 msgs</header>
    <date>Thu Jul 24 18:41:00 CEST 2003</date>
    <body>Posting some code and a sample document to the list would be helpful to see what you might be doing wrong. It sounds like your problem has to do with your xpath though, or possibly you're not setting up the xpath environment correctly. best, christian. On Thursday, July 24, 2003, at 02:29  PM, CEHJohnson@... wrote: http://aspnet.click-url.com/go/psa00100003ave/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] namespace removal</header>
    <date>Wed Jul 23 03:40:00 CEST 2003</date>
    <body>Hi, I'm trying to remove a default namespace (xmlns=" http://xyz.com/abc ") from an Element using Element.remove(Namespace) but it's not working. I'm using dom4j 1.4 and jdk 1.4 Any help would be appreciated. Best Rgds, Amarendra. __________________________________ Do you Yahoo!? Yahoo! SiteBuilder - Free, easy-to-use web site design software http://sitebuilder.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath problem.</header>
    <date>Tue Jul 22 21:21:00 CEST 2003</date>
    <body>Xpath is....   =20 =20 substring-before(substring-after(/envelope/body/response/acknowledge/ack nowledgement/errorList/errorInfo/errorMessage/description[contains(trans late(., 'XML', 'xml'), '?xml')], '&amp;amp;lt;value&amp;amp;gt;'), '&amp;amp;lt;/value&amp;amp;gt;') When I execute this xpath inside a transform against a document using Saxon, I get the correct result.  If I do it using Jaxen (via dom4j), I get a 0-length String. =20 The source document has an element (at (/envelope/body/response/acknowledge/acknowledgement/errorList/errorInfo /errorMessage/description) that has a "flattened" xml document as its =20 Any thoughts/ideas?</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problems getting xpaths</header>
    <date>Tue Jul 22 12:46:00 CEST 2003</date>
    <body>Hi there, I am using dom4j version 1.4. I have started using dom4j just recently. I am facing problems getting DocumentHelper.selectNodes(xpathString, documentObject) to give me the reqd. list of Nodes. *But the problem is only with xml files which are based on schema(.xsd).* Did anyone else face problems with getting xpaths on xmls based schema? If so, how to resolve this? Another problem I am facing is that associating ElementHandler to a SAXReader is not working either. I use it as it has been mentioned in the FAQ. i.e.: ///so on.... ..... The above is failing to generate the onStart/onEnd events. What additional needs to be done? Thanks for any halp, Gurdev</body>
  </mail>
  <mail>
    <header>[dom4j-user] precompiled xslt, patched jdk</header>
    <date>Mon Jul 21 20:13:00 CEST 2003</date>
    <body>Hi dom4j community. I use dom4j very successfully in my web application for xslt transforming. (jboss3.2., jetty; ejbs; struts) Because of performance reasons I used pre compiled xslt's and since that require an JAXP 1.2 I had patched my jdk by storing newest versions of xalan.jar; xercesImpl.jar and xml-apis.jar in the "endorsed" folder under jdk/jre/lib. Working very fine! But now I have to use an external component that require the old versions of xerces, xml-apis and xalan. ;( Since the new versions are loaded with the jdk class loader I have no chance to use the jboss class loader hierarchy to use the old and new versions together. What can I do? Is there an way to chose the needed classes from the new versions manually in my code ? Set properties for using e.g. an special parser is useless since this property in global in the jdk - isn't? Thanks for any hints or links! Stefan</body>
  </mail>
  <mail>
    <header>[dom4j-user] Fwd: xhtml - no output!</header>
    <date>Sat Jul 19 16:04:00 CEST 2003</date>
    <body>The issue below i would guess is something to do with namespaces. Can some kind soul tell me the correct notation for the XPath expression?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Fwd: xhtml - no output!</header>
    <date>Sat Jul 19 17:35:00 CEST 2003</date>
    <body>This problem is a really common gotcha for people learning XPath, and I ran into it too. The problem is that since XPath expressions take advantage of namespace mappings in effect where the XPath is found, it's natural to assume the default mapping also is taken into consideration. However XPath says that any unprefixed component (axis) of the expression always maps to *no namespace* rather than the intuitive default mapping. The expression '/html' would NOT test for elements, but for an html element with no namespace. To fix your problems, all your xpath axes must include a prefix that is mapped to the XHTML namespace: /xhtml:html/xhtml:head/xhtml:meta . best, christian. On Saturday, July 19, 2003, at 12:04  PM, CEHJohnson@... wrote: http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd http://www.w3.org/1999/xhtml</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to make shallow copies?</header>
    <date>Fri Jul 18 20:55:00 CEST 2003</date>
    <body>Hello everybody! Just wondering what I should do if I want to make a shallow copy of an element? In JAXP's equivalent for createCopy() , which is importNode(Node importedNode, boolean deep), they have the option of specifying via a boolean whether I want a deep or shallow copy. I guess there must be an equivalent in dom4j. Can someone be kind enough to enlighten me? By the way, dom4j rulezz! Thanks Wali _________________________________________________________________ On the move? Get Hotmail on your mobile phone http://www.msn.co.uk/msnmobile</body>
  </mail>
  <mail>
    <header>[dom4j-user] xhtml - no output!</header>
    <date>Wed Jul 16 19:30:00 CEST 2003</date>
    <body>Querying the nodes in the following doesn't return anything. I must be making some obvious noobie mistake. Can someone enlighten me please? G00se " http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd http://www.w3.org/1999/xhtml content="mantex - educational software and books. free resources for teaching and learning. services in writing, editing, business communication. content="writing skills,style guides,essays,term papers,reports,study skills,revision,exams,essay-marking, guidance notes,tip sheets,english language,diagnostic tests,helpdisk,computer-based learning,cbl,cal,business communications,editing,book reviews,online learning,word-processors,typography,information technology,web design,educational software,notas en espanol,htm,html,style sheets,css,xml,xhtml,free notes,guidance notes,ebooks,e-books,free ebooks,electronic books,electronic publishing,free software,free fonts,free newsletter,dictionaries,bibliographies,reports,journalism,composition,writin ................</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xhtml - no output!</header>
    <date>Thu Jul 17 02:24:00 CEST 2003</date>
    <body>The tags have a namespace of xmlns=" http://www.w3.org/1999/xhtml ". Are you searching using the namespace? Dave CEHJohnson@... wrote: http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd http://www.w3.org/1999/xhtml http://www.vmware.com/wl/offer/345/0 https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] How do I download the Javadocs for dom4j?</header>
    <date>Wed Jul 16 00:27:00 CEST 2003</date>
    <body>Hello someone and everyone! I'm pretty new to dom4j (24 hours in fact!) and I was wondering where I could download the javadocs for the latest release (or receent releases) from. I would like to play around with the API while I'm offline. Hope to hear from someone soon. Thanks Wali _________________________________________________________________ Hotmail messages direct to your mobile phone http://www.msn.co.uk/msnmobile</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How do I download the Javadocs for dom4j?</header>
    <date>Wed Jul 16 12:24:00 CEST 2003</date>
    <body>Just download the current release from http://www.dom4j.org/download.html . The Javadoc is included. Regards, martin http://www.msn.co.uk/msnmobile http://www.vmware.com/wl/offer/345/0 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] getUniquePath and name() function</header>
    <date>Wed Jul 16 00:20:00 CEST 2003</date>
    <body>I am looking for some help retrieving xpath expressions using the getUniquePath() method.  I am trying to retrieve the absolute xpath expression from a another xpath expression that has a predicate condition. However, I need to have the xpath in a human readable form without the name()  function in the returned xpath, as this is be used for reporting purposes. e.g. my xml looks like http://namespace Note I have the same namespace declared as the prefixed and default namespace. The xpath expression will look something like this String xpath = /ns:a/ns:b:/ns:c[.=1234] when I use the above code I get an xpath expression that looks like /*[name()=a]/*[name()=b]/*[name()=c][1]. Unfortunately I cannot control what the xml data specially to include prefixes and also I am unable to modify the initial xpath. However, if I modify the data to look like http://namespace the returned expression looks great - /ns:a/ns:b/ns:c[1] - which is just what I am looking for. I could parse and pattern match the xpath containing the name function to make it look like the later, however that is going to be last resort. Is there anything I can do with the prefix mapping or contexts or xpath reporting to let dom4j handle the xpath reporting. thanks in advance Ismail</body>
  </mail>
  <mail>
    <header>[dom4j-user] Mapping Schema - DataTypes to Objects</header>
    <date>Tue Jul 08 20:06:00 CEST 2003</date>
    <body>Hello! I copy/pasted the part below from and older thread because I now have the same problem. I am using the following piece of code: Object obj = ((org.dom4j.Element)root.selectSingleNode("/fl:flowchart_root/fl:sequence/fl:task/fl:task_input_params/ where the corresponding node in the xml for this xpath is obj gets the value 1 but as a string. Do you have any idea why? Florian, have you solved your problem? Please help! Thanx -stam ------------------------------------------------------- Sorry, I missed the Schema comment. How are you reading in the schema? Which Document class did you use? It would help if you sent a snippet of code as to how you read in the XML Schema. My guess is that it ended up with the standard DocumentFactory. DatatypeElement is extended from DefaultElement, so the instance you have apparently is not a DatatypeElement. Check and make sure the read looks something like this: Try that. ;-) Dave Florian Georg wrote: Hi, hmmm ... getData() just returns the same as getText(). My problem is, that I only have a Document with elements containing a 'type'-attribute, which contains names of (simple) Schema datatypes (int,long,date,....) .. e.g. Element should map to an java.lang.Integer(not String!) with the value 12345 - or throw an Exception if the mapping couldn't be performed. (think of a method like "Object mapElementToObject (Element element)") I thought dom4j would perhaps provide necessary mappers/wrappers to do the mapping in a simple manner.</body>
  </mail>
  <mail>
    <header>[dom4j-user] String to DOMDocument</header>
    <date>Sun Jul 06 11:47:00 CEST 2003</date>
    <body>I wonder if you can tell me how to take a String of nodes and turn it into a DOMDocument? I am experienced in Java, yet i've tried to do this for a matter of hours without success! Perhaps i'm missing something obvious? Kind regards, G00se</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] String to DOMDocument</header>
    <date>Sun Jul 06 13:01:00 CEST 2003</date>
    <body>There may be another way, but I've always just wrapped a String in a StringReader and then pass it through a SAXReader. best, christian. On Sunday, July 6, 2003, at 07:47  AM, CEHJohnson@... wrote: http://aspnet.click-url.com/go/psa00100006ave/direct;at.asp_061203_01/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAXReader and xs:anySimpleType</header>
    <date>Thu Jul 03 12:57:00 CEST 2003</date>
    <body>Hello. I am using org.dom4j.io.SAXReader to parse my xml documents. In the definition of some elements I use xs:anySimpleType element but SAXReader does not seem to recognise it and throws an exception. Have anyone faced this problem before? Will I have to configure the Reader with some other parser? If yes have anyone done it before? Thanks! Stamatis</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XML no Declaration</header>
    <date>Thu Jul 03 14:17:00 CEST 2003</date>
    <body>How do you get an xml string with no declaration from a Document object? Karen Schaper Marketlink Integration Engineer DHL Danzas Air &amp;amp; Ocean 614 Corporate Way Suite 4M Valley Cottage, NY 10980 United States Phone +1 845 268-6300 Fax     +1 845 268-6390 http://www.us.danzas.com http://www.us.danzas.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XML no Declaration</header>
    <date>Fri Jul 04 22:51:00 CEST 2003</date>
    <body>Do you want just the root element (and its sub-nodes)? Try This will not include the "&amp;lt;?xml ...?&amp;gt; declaration, nor any initial comments, processing instructions etc. You can then print/modify/copy this branch as you like. Is that what you need? - Thomas. At 10:17 03/07/2003 -0400, Karen Schaper wrote: http://www.us.danzas.com https://lists.sourceforge.net/lists/listinfo/dom4j-user http://aspnet.click-url.com/go/psa00100006ave/direct;at.asp_061203_01/01 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Exposing w3c.dom.Document as a JAXP SAXSource?</header>
    <date>Wed Jul 02 21:04:00 CEST 2003</date>
    <body>Hi, Any suggestions as to how to get an org.w3c.dom.Document adapted to a JAXP javax.xml.transform.sax.SAXSource ? I'm using an API that requires a SAXSource, the best solution I can come up with so far is to serialize the DOM to a StringBuffer using dom4j and wrap this sb with a StringReader/InputSource/SAXSource. Any better suggestions, anyone? Thanks, Thomas.</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j comparing, whitespace, etc...</header>
    <date>Wed Jul 02 20:11:00 CEST 2003</date>
    <body>I found something interesting... =20 the "stripWhitespaceText" setting only takes effect when "mergeAdjacentText" is also turned on.  mergeAdjacentText is false by default. =20 So, this works: =20 =20 Documents created like this can be successfully compared with NodeComparator: =20 =20 =20 =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Checking for equality</header>
    <date>Wed Jul 02 18:33:00 CEST 2003</date>
    <body>At 13:18 02/07/2003 -0500, David Hooker wrote: Try using http://www.dom4j.org/apidocs/org/dom4j/util/NodeComparator.html on the root elements. - Thomas.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Checking for equality</header>
    <date>Wed Jul 02 18:19:00 CEST 2003</date>
    <body>Does anyone have any code that will check two dom4j for equality - both structurally and in content?  Basically that two XML files are the same, even though they may be formatted differently.</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAXReader and xs:anySimpleType</header>
    <date>Wed Jul 02 15:59:00 CEST 2003</date>
    <body>Hello. I am using org.dom4j.io.SAXReader to parse my xml documents. In the definition of some elements I use xs:anySimpleType element but SAXReader does not seem to recognise it and throws an exception. Have anyone faced this problem before? Will I have to configure the Reader with some other parser? If yes have anyone done it before? Thanks! Stamatis</body>
  </mail>
  <mail>
    <header>[dom4j-user] too many open files error</header>
    <date>Wed Aug 27 04:10:00 CEST 2003</date>
    <body>Hi, I'm using JDK1.4.2, WinXP I have a program that will read XML file and create XML document (I didn't write to file, i only need the Document). The program will be executed quite frequently and after somtimes, I'll get an IO exception: too many open files. did any one know why is the problem occur? how do I resolve this problem? Here is the code snip: // create xml doc ### logic to generate the complete xml ### // read xml file ### parse xml doc ### Regards, Peik Feng</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] too many open files error</header>
    <date>Wed Aug 27 11:31:00 CEST 2003</date>
    <body>I have to ask... What SAX Parser are you using? Does it happen every time? How much memory on your system?  In use and free during testing? Thanks, Dave Lee Peik Feng wrote: http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] Document root element is missing - but it isn't!</header>
    <date>Fri Aug 22 20:43:00 CEST 2003</date>
    <body>http://dom4j.org/apidocs/index.html /Christian 3Dhttp://www.lse.com/~ddlucas/pgpblock.txt http://aspnet.click-url.com/go/psa00100003ave/direct;at.aspnet https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.vmware.com/wl/offer/358/0 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Document root element is missing - but it isn't!</header>
    <date>Mon Aug 18 22:54:00 CEST 2003</date>
    <body>I am getting the following error on well formed xml (for a final check I = read the xml file with Internet Explorer and it is happy with it). Any = ideas? thanks - dave Exception occurred: org.dom4j.DocumentException: Error on line 1 of = document  : Document root element is missing. Nested exception: Document = root element is missing. org.dom4j.DocumentException: Error on line 1 of document  : Document = root element is missing. Nested exception: Document root element is = missing. at org.dom4j.io.SAXReader.read(SAXReader.java:355) at org.dom4j.io.SAXReader.read(SAXReader.java:261) at = net.windward.xmlreport.ProcessReport.class$net$windward$xmlreport$Process= Report(Unknown Source) at net.windward.xmlreport.ProcessReport.process(Unknown Source) at Example.main(Example.java:78) Nested exception:=20 org.xml.sax.SAXParseException: Document root element is missing. at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3182) at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3170) at = org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:501) at org.apache.crimson.parser.Parser2.parse(Parser2.java:305) at = org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:442) at org.dom4j.io.SAXReader.read(SAXReader.java:339) at org.dom4j.io.SAXReader.read(SAXReader.java:261) at = net.windward.xmlreport.ProcessReport.class$net$windward$xmlreport$Process= Report(Unknown Source) at net.windward.xmlreport.ProcessReport.process(Unknown Source) at Example.main(Example.java:78) Nested exception: org.xml.sax.SAXParseException: Document root element = is missing. at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3182) at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3170) at = org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:501) at org.apache.crimson.parser.Parser2.parse(Parser2.java:305) at = org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:442) at org.dom4j.io.SAXReader.read(SAXReader.java:339) at org.dom4j.io.SAXReader.read(SAXReader.java:261) at = net.windward.xmlreport.ProcessReport.class$net$windward$xmlreport$Process= Report(Unknown Source) at net.windward.xmlreport.ProcessReport.process(Unknown Source) at Example.main(Example.java:78)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Document root element is missing - but it isn't!</header>
    <date>Mon Aug 18 23:07:00 CEST 2003</date>
    <body>Oh, and this only happens on 1 computer - so it's some kind of = configuration error. From: David Thielen=20 To: dom4j-user@... Sent: Monday, August 18, 2003 4:54 PM Subject: [dom4j-user] Document root element is missing - but it isn't! I am getting the following error on well formed xml (for a final check = I read the xml file with Internet Explorer and it is happy with it). Any = ideas? thanks - dave Exception occurred: org.dom4j.DocumentException: Error on line 1 of = document  : Document root element is missing. Nested exception: Document = root element is missing. org.dom4j.DocumentException: Error on line 1 of document  : Document = root element is missing. Nested exception: Document root element is = missing. at org.dom4j.io.SAXReader.read(SAXReader.java:355) at org.dom4j.io.SAXReader.read(SAXReader.java:261) at = net.windward.xmlreport.ProcessReport.class$net$windward$xmlreport$Process= Report(Unknown Source) at net.windward.xmlreport.ProcessReport.process(Unknown Source) at Example.main(Example.java:78) Nested exception:=20 org.xml.sax.SAXParseException: Document root element is missing. at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3182) at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3170) at = org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:501) at org.apache.crimson.parser.Parser2.parse(Parser2.java:305) at = org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:442) at org.dom4j.io.SAXReader.read(SAXReader.java:339) at org.dom4j.io.SAXReader.read(SAXReader.java:261) at = net.windward.xmlreport.ProcessReport.class$net$windward$xmlreport$Process= Report(Unknown Source) at net.windward.xmlreport.ProcessReport.process(Unknown Source) at Example.main(Example.java:78) Nested exception: org.xml.sax.SAXParseException: Document root element = is missing. at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3182) at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3170) at = org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:501) at org.apache.crimson.parser.Parser2.parse(Parser2.java:305) at = org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:442) at org.dom4j.io.SAXReader.read(SAXReader.java:339) at org.dom4j.io.SAXReader.read(SAXReader.java:261) at = net.windward.xmlreport.ProcessReport.class$net$windward$xmlreport$Process= Report(Unknown Source) at net.windward.xmlreport.ProcessReport.process(Unknown Source) at Example.main(Example.java:78)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Document root element is missing - but it isn't!</header>
    <date>Tue Aug 19 03:48:00 CEST 2003</date>
    <body>If your XML file is not very big or if you can simplify the xml to a few lines that still creates the error, please give us some more info to go on. But, based on the error, it sounds like you have an xml file that does not have a high level root element.  IE may not care if there is a root element. Based on the error you might have a document that looks like this: It may look like well formed xml, but there is no root element like this: More info appreciated. Thanks, Dave David Thielen wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Document root element is missing - but it isn't!</header>
    <date>Fri Aug 22 04:36:00 CEST 2003</date>
    <body>It's weirder than that - it works on every system but 1. On that one system we get this error. Any ideas? thanks - dave this: I Document http://www.lse.com/~ddlucas/pgpblock.txt http://aspnet.click-url.com/go/psa00100003ave/direct;at.aspnet_072303_01/01 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Document root element is missing - but it isn't!</header>
    <date>Fri Aug 22 09:16:00 CEST 2003</date>
    <body>Please can anyone send me the dom4j documentation  zip file or can tell me the loaction to download it fron the dom4j site. i didnt get any link to download it . Thanks Pramod Sent: Tuesday, August 19, 2003 12:48 PM Subject: Re: [dom4j-user] Document root element is missing - but it isn't! on. missing. http://www.lse.com/~ddlucas/pgpblock.txt http://aspnet.click-url.com/go/psa00100003ave/direct;at.aspnet_072303_01/01 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Document root element is missing - but it isn't!</header>
    <date>Fri Aug 22 11:31:00 CEST 2003</date>
    <body>Two answers to two questions follow. 1) As for documentation with the previous by PRamod, take a look at: Guide: http://www.dom4j.org/guide.html FAQ: http://www.dom4j.org/faq.html JavaDoc: http://www.dom4j.org/apidocs/index.html Download: http://sourceforge.net/project/showfiles.php?group_id=16035 From the download page you can obtain the binary and source for either Zip or Tar/Gzip format.  Inside the file you can obtain the documentation for javadoc in the directory dom4j-1.4/doc/javadoc . 2) As for this "weird" error that only happens on one machine, I would want more specifics like the xml file being processed, the code being used to process it, the machine type (CPU, memory, Disks size/free/used,etc) and the OS (win95,win98,NT,w2k,XP,Linux,etc). The problem sounds like a classpath issue (similar to a PATH issue).  My guess is to send us your Environment CLASSPATH setting as well.  In it you may find a different XML parser being picked up instead of the one you expect.  If you are using JDK 1.4 it may be an issue with endorsed jar files being used over the ones you are using.  Anything is possible. To avoid sending too much data to the list, you can send it direct to me if you would like.  But it definately sounds like one machine has a different CLASSPATH or JDK configuration. At least that is my two cents.  Anyone else have ideas? Let me know. Dave David Thielen wrote: http://www.lse.com/~ddlucas/pgpblock.txt http://aspnet.click-url.com/go/psa00100003ave/direct;at.aspnet_072303_01/01 https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Fetching a list of elements that contains references to actual
 objects rather than copies</header>
    <date>Tue Aug 19 19:29:00 CEST 2003</date>
    <body>Any ideas how we do this apart from the long-winded use of someElement.elements()? Thanks, Portia |         |           James Strachan             | |         |           &amp;lt;james_strachan@...| |         |           &amp;gt;                          | |         |           Sent by:                   | |         |           dom4j-user-admin@...| |         |           ceforge.net                | |         |                                      | |         |                                      | |         |           19/08/2003 06:03           | |         |                                      | &amp;gt;-------------------------------------------------------------------------------------------------------| |                                                                                                       | |       To:       &amp;lt;portia@...&amp;gt;                                                                    | |       cc:       dom4j-user@...                                                      | |       Subject:  [dom4j-user] Re: Replacing an element in a document                                   | &amp;gt;-------------------------------------------------------------------------------------------------------| On Monday, August 18, 2003, at 07:16  pm, &amp;lt;portia@...&amp;gt; wrote: selectNodes() returns a query list and it is not editable. If you want to use a List to edit the elements use the elements() method James ------- http://radio.weblogs.com/0112098/ ------------------------------------------------------- This SF.Net email sponsored by: Free pre-built ASP.NET sites including Data Reports, E-commerce, Portals, and Forums are available now. Download today and enter to win an XBOX or Visual Studio .NET. http://aspnet.click-url.com/go/psa00100003ave/direct;at.aspnet_072303_01/01 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user ********************************************************************************** This email may contain confidential material. If you were not an intended recipient, please notify the sender and delete all copies. We may monitor email to and from our network.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Replacing an element in a document</header>
    <date>Tue Aug 19 06:03:00 CEST 2003</date>
    <body>On Monday, August 18, 2003, at 07:16  pm, &amp;lt;portia@...&amp;gt; wrote: selectNodes() returns a query list and it is not editable. If you want to use a List to edit the elements use the elements() method James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with selectSingleNode</header>
    <date>Fri Aug 15 15:10:00 CEST 2003</date>
    <body>Hi, I'm new of this list, and this is my first message on it. I have a problem with XPath (I think). I have the following code : public class TDOM public static void main(String[] args) xml += "&amp;lt;car&amp;gt;&amp;lt;name&amp;gt;Lancer EVO try for(int i = 0; i &amp;lt; cars.size(); i++) catch(Exception e) And i need to get the "name" of each "car" but the selectSingleNode refer to entire document instead of the current node. I search on google but without success :-( Thanks in advance Ciao emiliano</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode</header>
    <date>Fri Aug 15 16:29:00 CEST 2003</date>
    <body>Unless I'm missing some detail, I believe your problem lies with the XPath expression you're using: you have a car element, and the xpath says "select the name element, of each car child element within the given car". Which would match the name element in the following document: so what you want is just to select the name element beneath the current car: By the way, the speedier way of getting the name text would be: or to get the element: This way, you needn't parse and execute a whole XPath, just iterate through the internal List. christian.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode</header>
    <date>Sat Aug 16 02:20:00 CEST 2003</date>
    <body>As Christian put it, use the elementText("name") to get the child element "name" from the car.  But looking just at you XPath, you are at the current element "." which is already named "car", so there is no children named "car" below this one.  Only the element "name" is available. selectXXXXNode methods use XPath and are slower than going directly at the element from the tree.  If you already know the pattern, then just go direct and save some CPU cycles by using the element("name") or elementText("name") methods. Enjoy! Dave emiliano carlesi wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] JDOM article</header>
    <date>Fri Aug 15 16:55:00 CEST 2003</date>
    <body>An article appeared in my online version of XML &amp;amp; Web Services magazine hilighting JDOM. Someone ought to write them a letter or another article about dom4j! =20 http://www.ftponline.com/xmlmag/2002_03/magazine/columns/collaboration/k jones/ =20 =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] JDOM article</header>
    <date>Sat Aug 16 02:10:00 CEST 2003</date>
    <body>Although not an article in a magazine, I will be giving a tutorial on DOM4J at this year's Borland Conference (Nov 1-4). Maybe I can put together something small for an online magazine afterwards. If you are at the conference, feel free to stop by. Later, Dave David Hooker wrote: http://www.ftponline.com/xmlmag/2002_03/magazine/columns/collaboration/kjones/ -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Node returning value not encoded</header>
    <date>Tue Aug 12 21:50:00 CEST 2003</date>
    <body>I have the following line in a function: The returned value contains the text, but it is not encoded. For example, I want the string "test+hello+&amp;amp;#38;" to be returned not "test hello &amp;amp;". The original value stored in the XML file is encoded. Many Thanks in advance. Frank Sharpless Manager, Application Development Paperhost.com, Inc. 770.998.9172.611</body>
  </mail>
  <mail>
    <header>[dom4j-user] Fwd: Using PrettyPrint &amp;amp; Retaining New Line Chars</header>
    <date>Sun Aug 10 14:50:00 CEST 2003</date>
    <body>I just found the answer... setTrimText(false) Thanks! Begin forwarded message:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Using PrettyPrint &amp;amp; Retaining New Line Chars</header>
    <date>Sun Aug 10 14:34:00 CEST 2003</date>
    <body>Without success, I've been trying to get XMLWriter use pretty print but also preserve new line chars; e.g. \n. I discovered that when I do not use a custom OutputFormat, the document DOES retain the new line chars. I've tried the following idea but it still will not preserve the new line chars: How can I use pretty print and still have it preserve new line chars? Or should I just go about encoding the return chars myself before saving the XML document? Thanks, Philip Weaver</body>
  </mail>
  <mail>
    <header>[dom4j-user] Question on Attribute Value</header>
    <date>Fri Aug 08 14:43:00 CEST 2003</date>
    <body>Hi, I have an Attribute of an element whose value contains newLine = characters. When I read this dom into memory, the dom does not have the = newLine characters. Is there a property or configuration on SAXReader that I can set for = this to be retained. Thanks for your help. Thanks, -Sri</body>
  </mail>
  <mail>
    <header>[dom4j-user] Automatic Insertion of Attribute Defaults</header>
    <date>Thu Aug 07 20:33:00 CEST 2003</date>
    <body>Hey, I'm using DOM4J with Xerces and XML Schema and after reading in a file new attributes appear in the tree which aren't in the file. These attributes seem to be the ones that have defaults defined in the Schema. How do I turn this off or detect that the attribute wasn't in the file? Thanks, Tim</body>
  </mail>
  <mail>
    <header>[dom4j-user] encoding for reader</header>
    <date>Thu Aug 07 12:38:00 CEST 2003</date>
    <body>Hi, how to set the ecoding for the reader? Is there a way? The default reader always uses UTF-8. Juraj</body>
  </mail>
  <mail>
    <header>[dom4j-user] asXML sets allways utf-8 ?</header>
    <date>Thu Aug 07 11:51:00 CEST 2003</date>
    <body>&amp;gt; Hi, http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2001/XMLSchema-instance</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentTreeModel modification - removal?</header>
    <date>Wed Aug 06 17:34:00 CEST 2003</date>
    <body>I am using the DocumentTreeModel to create a JTree and then I want to do a little modification, including removing some nodes.  Here's the problem, the only way to remove a node within the context of my program is to use DefaultTreeModel.removeNodeFromParent(MutableTreeNode t) but, of course, I have LeafTreeNodes and BranchTreeNodes, which cannot be cast as MutableTreeNodes.  Has anyone found a way around this? Thanks, Amy Hawthorne</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j being maintained?</header>
    <date>Fri Sep 26 03:57:00 CEST 2003</date>
    <body>Is dom4j still being maintained? I tried to build a jar today using 'maven jar', and came across the following - the xsdlib version used is not available on ibiblio (I substituted a later one). - the tests fail in several places with Nested exception: java.net.MalformedURLException: no protocol: xml/test/xpath/tests.xml at java.net.URL.&amp;lt;init&amp;gt;(URL.java:537) at java.net.URL.&amp;lt;init&amp;gt;(URL.java:434) at java.net.URL.&amp;lt;init&amp;gt;(URL.java:383) at org.apache.xerces.impl.XMLEntityManager.startEntity(XMLEntityManager.java:796) at org.apache.xerces.impl.XMLEntityManager.startDocumentEntity(XMLEntityManager.java:7 Are these known issues? -- dIon Gillard, Multitask Consulting Blog: http://blogs.codehaus.org/people/dion/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j being maintained?</header>
    <date>Fri Sep 26 04:39:00 CEST 2003</date>
    <body>If you are doing this from the CVS repository, then yes, it is in flux. Try using the prepackaged files. Thanks, Dave dion@... wrote: http://blogs.codehaus.org/people/dion/ http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j being maintained?</header>
    <date>Fri Sep 26 05:48:00 CEST 2003</date>
    <body>The pre-packaged files have bugs I'd like to fix :-) Difficult to do without being able to run the tests. -- dIon Gillard, Multitask Consulting Blog: http://blogs.codehaus.org/people/dion/ "David D. Lucas" &amp;lt;ddlucas@...&amp;gt; wrote on 26/09/2003 02:38:58 PM: http://blogs.codehaus.org/people/dion/ http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.lse.com/~ddlucas/pgpblock.txt</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Is XSLT an issue in dom4j</header>
    <date>Tue Sep 23 15:24:00 CEST 2003</date>
    <body>Dom4J does not do transformation itself... it is simply an alternative DOM implementation, providing an in-memory tree structure and APIs.  How are you doing the transformation? -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Gurdev Parmar Sent: Tuesday, September 23, 2003 1:41 AM To: dom4j-user@... Subject: [dom4j-user] Is XSLT an issue in dom4j Hi, Just wanted to know if there are any known issue with dom4j handling XSLT? I ask this because I found that dom4j was not able to handle a transformation fine which xalan did very nicely. Thanks, Gurdev ------------------------------------------------------- This sf.net email is sponsored by:ThinkGeek Welcome to geek heaven. http://thinkgeek.com/sf _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Is XSLT an issue in dom4j</header>
    <date>Thu Sep 25 13:32:00 CEST 2003</date>
    <body>I do not have the code I had written, now(as i converted it to use solely JAXP based on xalan). But I had done something like this: Transformer transformer = I know that the TransformerFactory being used in the dom4j approach is also xalan's but it didn't do it. Is this the right way to do transformation using dom4j? Thanks, Gurdev David Hooker wrote: http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath, entities... and so forth</header>
    <date>Wed Sep 24 13:18:00 CEST 2003</date>
    <body>I seem to have stumbled on a couple of production problems with my product related to XPath.  After much research, I think I understand the issues but would like to confirm. The original problem was that I was dynamically building XPath strings that contained quotes and/or apostrophes.  It looks like there is no way with XPath to substitute entities into the string to make the statement work.  In other words, if you need to execute: Since the search string contains both quotes and an apostrophe and there is no way to escape either of them- it is game over isn't it? Secondly, while researching this, I noticed that my instance documents that I write from my app with XMLWriter contain chars that I thought were being escaped but aren't.  After reading about it, it sounds like dom4j provides no mechanism (not even a static encode method) for encoding strings with the correct entities for problematic chars, namely external systems, they are just re-parsed by dom4j, and dom4j doesn't seem to care if I have good practice I think I should wrap all these in CDATA or escape them myself, going forward- wouldn't you think? Thanks Brian</body>
  </mail>
  <mail>
    <header>[dom4j-user] Is XSLT an issue in dom4j</header>
    <date>Tue Sep 23 06:45:00 CEST 2003</date>
    <body>Hi, Just wanted to know if there are any known issue with dom4j handling XSLT? I ask this because I found that dom4j was not able to handle a transformation fine which xalan did very nicely. Thanks, Gurdev</body>
  </mail>
  <mail>
    <header>[dom4j-user] Special Encoding Issue</header>
    <date>Mon Sep 22 21:38:00 CEST 2003</date>
    <body>Hello All, =20 I am trying to use some "special characters" for the value of an attribute. See the code below: =20 Document document =3D new Attribute att =3D =20 The system.out.println line display the proper character "&amp;amp;#62;". However when I attempt to print this data out to a file, something is encoding the "&amp;amp;" and replaces it with "&amp;amp;amp;" - I need the value element to remain "&amp;amp;#62;" not "&amp;amp;amp;#62;". This is an example of the out file: =20 =20 Any help would be most appreciated. Many thanks in advance. =20 Frank Sharpless Manager, Application Development Paperhost.com, Inc. 770.998.9172.611 =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Special Encoding Issue</header>
    <date>Tue Sep 23 01:13:00 CEST 2003</date>
    <body>If I understand your request, you want to store the character decimal 62 , hex 3e, octal 76 in the attribute and have it processed throught the xml.  Remember, the string going into the attribute is what will come out of the attribute.  So the "&amp;amp;" is being escaped because it will marshall it safely through XML and back so you have &amp;amp;#62.   But I think you want to have the "&amp;gt;", greater than sign, pass to the next environment.  If so, use the octal representation in the String. Try: att.setValue("\076");  //octal 76 = decimal 62 = "&amp;gt;" That will show it in the xml as &amp;amp;gt; , but when it comes back from XML, it will be the greater than sign again. Hope that helps, Dave -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Multiple XML files</header>
    <date>Sun Sep 21 20:56:00 CEST 2003</date>
    <body>Is there a way to set up dom4j where I can give it multiple xml files = and treat it as a single document? (So dom4j does the work of handling = namespaces, etc.) And if the answer is no, any suggestions for a good way to handle a case = where I need to perform xpath on 3 xml files at once aside from parsing = it for the namespaces myself? thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Multiple XML files</header>
    <date>Mon Sep 22 01:16:00 CEST 2003</date>
    <body>Perhaps if you could describe the problem and how you arrived at your current approach we might be able to help.  There is no support to my knowledge of XLink-ing. You might be able to pre-process the file and wrap the three files in one root element.  Or parse each seperately and grab their root elements.  Then detach those roots from the documents, add them to a wrapper element that had a document that included all possible namesapces that might occur in the three documents. This is off the top of my head, I am sure there are lots of ways to approach this, but I still wonder how you got to this approach. Let us know more... Dave David Thielen wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Multiple XML files</header>
    <date>Mon Sep 22 02:16:00 CEST 2003</date>
    <body>It's for a client. They have 3 xml files, each with a different namespace. And they want all of them to be used while processing a file that substitutes in xml in places. I already have it working for a single xml file using dom4j. So if I can just somehow "add" that additional xml files to the same dom4j Document, then I can process the file substituting from multiple xml files. The alternative is to process one at a time. But I think in that case I am left having to do the namespace checking. thanks - dave Sent: Sunday, September 21, 2003 7:16 PM Subject: Re: [dom4j-user] Multiple XML files http://www.lse.com/~ddlucas/pgpblock.txt http://thinkgeek.com/sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Want \r\n in node attribute values</header>
    <date>Sun Sep 21 19:25:00 CEST 2003</date>
    <body>If I have: Then Node.valueOf("/node") will return "line 1\r\nline 2" which is what = I want. But if I have: Then Node.valueOf (/node/@atr) will return "line 1 line 2" - ie no \r\n. = Is there any way to get the \r\n? thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Want \r\n in node attribute values</header>
    <date>Mon Sep 22 01:48:00 CEST 2003</date>
    <body>I believe the spec describes why best.  Unfortunately, I think the behavior you do not want is actually correct. This came from http://www.w3.org/TR/REC-xml ============================================================================ 3.3.3 Attribute-Value Normalization Before the value of an attribute is passed to the application or checked for validity, the XML processor must normalize the attribute value by applying the algorithm below, or by using some other method such that the value passed to the application is the same as that produced by the algorithm. 1. All line breaks must have been normalized on input to #xA as described in 2.11 End-of-Line Handling, so the rest of this algorithm operates on text normalized in this way. 2. Begin with a normalized value consisting of the empty string. 3. For each character, entity reference, or character reference in the unnormalized attribute value, beginning with the first and continuing to the last, do the following: * For a character reference, append the referenced character to the normalized value. * For an entity reference, recursively apply step 3 of this algorithm to the replacement text of the entity. * For a white space character (#x20, #xD, #xA, #x9), append a space character (#x20) to the normalized value. * For another character, append the character to the normalized value. If the attribute type is not CDATA, then the XML processor must further process the normalized attribute value by discarding any leading and trailing space (#x20) characters, and by replacing sequences of space (#x20) characters by a single space (#x20) character. Note that if the unnormalized attribute value contains a character reference to a white space character other than space (#x20), the normalized value contains the referenced character itself (#xD, #xA or #x9). This contrasts with the case where the unnormalized value contains a white space character (not a reference), which is replaced with a space character (#x20) in the normalized value and also contrasts with the case where the unnormalized value contains an entity reference whose replacement text contains a white space character; being recursively processed, the white space character is replaced with a space character (#x20) in the normalized value. All attributes for which no declaration has been read should be treated by a non-validating processor as if declared CDATA. ============================================================================ Hope that helps. Dave David Thielen wrote: -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Want \r\n in node attribute values</header>
    <date>Mon Sep 22 02:13:00 CEST 2003</date>
    <body>oh right - I keep forgetting about that. thanks - dave Sent: Sunday, September 21, 2003 7:48 PM Subject: Re: [dom4j-user] Want \r\n in node attribute values http://www.w3.org/TR/REC-xml ============================================================================ ============================================================================ http://www.lse.com/~ddlucas/pgpblock.txt</body>
  </mail>
  <mail>
    <header>[dom4j-user] Any books that cover dom4j?</header>
    <date>Sat Sep 13 20:25:00 CEST 2003</date>
    <body>And that do a good job of it? thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Any books that cover dom4j?</header>
    <date>Sun Sep 21 03:50:00 CEST 2003</date>
    <body>James, are there any books that cover DOM4J? I am interested in helping write a book if there is interest? I am currently putting together a presentation for this years Borland Conference 2003 in CA, November 1-4.  If there is interest in a birds of a feather session , let me know and those of us there can meet. Thanks, Dave -- +------------------------------------------------------------+ | David Lucas                        mailto:ddlucas@...  | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath binary expressions</header>
    <date>Thu Sep 18 22:21:00 CEST 2003</date>
    <body>Following is an example of an XPath expression that evaluates to either "true" or "false": "//strategy[2]/fxSimpleOption[productType='PUT'] and //strategy[2]/fxSimpleOption[productType='CALL']" I would like to be able to use dom4j's XPath support to be able to get such a boolean result as such, in one step, rather than having to get Lists or Elements and then testing their values, which is what I am doing at present, something like the following: boolean yesOrNo = myDoc.evaluate ("//strategy[2]/fxSimpleOption[productType Is such functionality available, and if so, what is the class.method() to use? Thanks, Michael McDonough -------------------------------------------------------------------------- Important:  This electronic mail message and any attached files contain information intended for the exclusive use of the individual or entity to whom it is addressed and may contain information that is proprietary, privileged, confidential and/or exempt from disclosure under applicable law.  If you are not the intended recipient, you are hereby notified that any viewing, dissemination, distribution or copying of this communication may be subject to legal restriction or sanction.  Please notify us immediately of any unintended recipients and delete the original message without making any copies. --------------------------------------------------------------------------</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] How to: Java object -&amp;gt; xml</header>
    <date>Mon Sep 01 08:07:00 CEST 2003</date>
    <body>Check out the Jakarta Commons projects, I think they have stuff like that: http://jakarta.apache.org/commons/index.html cheers, Mike -----Original Message----- From: David Thielen [mailto:dave@...] Sent: Sonntag, 31. August 2003 18:42 To: dom4j-user@... Subject: [dom4j-user] How to: Java object -&amp;gt; xml Is there any easy way to convert a Java object to an xml DOM? What I want is something that walks through all the getters creating attributes or nodes with the getter name (must be a node for collections) and the value of the getter as the entry. So it's not the actual java object, just it's properties. ??? - thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to: Java object -&amp;gt; xml</header>
    <date>Wed Sep 03 14:04:00 CEST 2003</date>
    <body>RE: [dom4j-user] How to: Java object -&amp;gt; xmlcommons has betwixt - which = is perfect From: Bingel, Michael=20 To: 'dom4j-user@... Sent: Monday, September 01, 2003 2:06 AM Subject: RE: [dom4j-user] How to: Java object -&amp;gt; xml Check out the Jakarta Commons projects, I think they have stuff like = that:=20 http://jakarta.apache.org/commons/index.html=20 cheers,=20 Mike=20 -----Original Message-----=20 From: David Thielen [mailto:dave@... Sent: Sonntag, 31. August 2003 18:42=20 To: dom4j-user@... Subject: [dom4j-user] How to: Java object -&amp;gt; xml=20 Hi;=20 Is there any easy way to convert a Java object to an xml DOM? What I = want is something that walks through all the getters creating attributes = or nodes with the getter name (must be a node for collections) and the = value of the getter as the entry. So it's not the actual java object, = just it's properties. ??? - thanks - dave=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Help on evaluating xpath expressions against xml based on schema
 required</header>
    <date>Tue Sep 02 07:07:00 CEST 2003</date>
    <body>Hi, I am using dom4j to evaluate xpath expressions against xml documents. And a few of these are based on schemas. I have been stuck with the an xpath for quite some time. I have attached the testcase with the mail as a zip file. It has a couple of scripts(batch scripts, i am afraid) for compiling and running. All I have been able to figure is that the path I am interested in lies in default namespace. I have also read at some places that xpaths using default namespace is a problem. Could any of you tell what's wrong here and how I can resolve this issue. A gist of my problem is as follows (details are in the zip file): -------------------dataset.xml--------------------------------------- xmlns=" http://www.elsevier.com/xml/schema/transport/journal-1.0/s100 " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation=" http://www.elsevier.com/xml/schema/transport/journal-1.0/s100 ....... The referred xsd files are present in the zip file. And I am interested in the xpath: /dataset/dataset-unique-ids/supplier-code Pls Note: the batch scripts will have to be tweaked according to your environment. Thanks a lot, Gurdev</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to: Java object -&amp;gt; xml</header>
    <date>Mon Sep 01 08:30:00 CEST 2003</date>
    <body>hi dave, take a look at http://jakarta.apache.org/commons/digester.html . It is about XML -&amp;gt; Java object mapping and vice versa, afaik. cheers, martin</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j - get xml encoding?</header>
    <date>Sun Oct 26 22:39:00 CET 2003</date>
    <body>If the first line of my xml file is: How do I get the encoding (big5) from dom4j? thanks - dave</body>
  </mail>
  <mail>
    <header>Asking again: [dom4j-user] dom4j - get xml encoding?</header>
    <date>Tue Oct 28 14:47:00 CET 2003</date>
    <body>From: David Thielen=20 To: dom4j-user@... Sent: Sunday, October 26, 2003 3:39 PM Subject: [dom4j-user] dom4j - get xml encoding? If the first line of my xml file is: How do I get the encoding (big5) from dom4j? thanks - dave</body>
  </mail>
  <mail>
    <header>Re: Asking again: [dom4j-user] dom4j - get xml encoding?</header>
    <date>Wed Oct 29 02:25:00 CET 2003</date>
    <body>Just out of curiosity - why??? Sent: Tuesday, October 28, 2003 9:01 AM Subject: Re: Asking again: [dom4j-user] dom4j - get xml encoding? XML http://www.w3.org/TR/REC-xml#sec-guessing http://www.cladonia.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Tue Oct 28 15:52:00 CET 2003</date>
    <body>unsubscribe</body>
  </mail>
  <mail>
    <header>[dom4j-user] Large XML files</header>
    <date>Tue Oct 28 15:01:00 CET 2003</date>
    <body>Hi all, =20 Okay...I'm pretty confused at the moment... I have a potentially large xml file 40 Megs (used for importing data).  The file has the basic structure of:=20 .... =20 It's pretty basic... there's just a lot of data.  Sometimes, the XML file will have a &amp;lt;users&amp;gt; node, sometimes not (the same for the definitions... there are actually a lot of second level nodes... not just the users and definitions).=20 =20 The thought is to use Xpath to select the node (//system/users or //system/definitions).  There are times when I just want the User node or the definition node and don't want to load the entire XML document into memory (via creating a DOM). =20 I was reading about using the Dom4j's Sax Reader, but can't seem to figure out how to write the code... Any help is greatly appreciated. =20 Note: I used the code in the FAQ, but, honestly, don't really understand what it's doing... and it didn't work. =20 Thanks Doug =20 =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] JDBC Resultset to XML Document</header>
    <date>Sat Oct 25 18:32:00 CEST 2003</date>
    <body>I am writing an application for the AvantGo Mobile platform for the Palm that uses an existing SQL Server DB. =20 AvantGo uses XML to store all HTTP form posts while the Palm is "offline". It then sync's that data back to the Database Server when it goes online. =20 I'm using SQL Server 2000, and while a competent java programmer, am a newbie with XML. =20 I want to take a jdbc ResultSet and produce an XML document to send over to the Palm device. =20 Any help is greatly appreciated. =20 Matthew Mamet Developer embarc, inc. 781-788-966 x298 http://www.embarcgroup.com =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Insert Element thanks to XPath</header>
    <date>Thu Oct 23 20:38:00 CEST 2003</date>
    <body>Not sure if this is the only way, but... Use XPath (if you like) to get the Node where you want to add, then invoke node.add([&amp;lt;Element&amp;gt;|&amp;lt;Attribute&amp;gt; object]) or    addElement("Name").setText("text") or    addAttribute("Name").setText("text") for example. jean pujol &amp;gt;                                  cc: Sent by:                           Subject:  [dom4j-user] Insert Element thanks to XPath dom4j-user-admin@... ceforge.net 10/23/2003 12:06 PM Hello, I've been using DOM4J since...this morning, and I would like to know if it's possible to insert an Element at a location specified by an XPath of the form "/node()[1]/node()[3]/.../node()[2]". I've read some threads on this mailing list related to inserting elements at chosen locations, but I didn't figure out how to do that. Thanks in advance, Jean ------------------------------------------------------- This SF.net email is sponsored by: The SF.net Donation Program. Do you like what SourceForge.net is doing for the Open Source Community?  Make a contribution, and help us add new features and functionality. Click here: http://sourceforge.net/donate/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Insert Element thanks to XPath</header>
    <date>Thu Oct 23 18:58:00 CEST 2003</date>
    <body>Hello, I've been using DOM4J since...this morning, and I would like to know if it's possible to insert an Element at a location specified by an XPath of the form "/node()[1]/node()[3]/.../node()[2]". I've read some threads on this mailing list related to inserting elements at chosen locations, but I didn't figure out how to do that. Thanks in advance, Jean</body>
  </mail>
  <mail>
    <header>[dom4j-user] Finding the line number</header>
    <date>Tue Oct 21 17:15:00 CEST 2003</date>
    <body>How can I find the line number for a given Element in a given parsed DOM-tree? Best regards, Helge Fredriksen, System Developer Dreyfushammarn 35 NO-8002 BOD=D8 Direct line: +47 75512482 Switchboard: +47 75512400 Fax: +47 75512401 Mobile: +47 90972759 e-mail: Helge.Fredriksen@... web: http://www.edbtelesciences.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with document() function, followed by an AND</header>
    <date>Mon Oct 20 17:58:00 CEST 2003</date>
    <body>I'm having a problem with the following type of expression in Jaxen: =20 =20 document("../data/someFile.xml")/a/b/c AND /x/y/z =20 =20 I've stepped through the code, and into the Jaxen code, and it seems that the expression following the AND is being evaluated against the context supplied by the document function.  We thought that the /a/b/c would be evaluated against the document stored on disk, and the /x/y/z against the current document we are running the xpath against. =20 We are using dom4j, so the expression is being evaluated like this: =20 =20 where expr is the string containing the xpath. =20 If we break the expression into just the LHS and RHS, each evaluates true standing alone.  But when combined with the AND, the LHS evals true and the RHS evals false.  I noticed in the expression when stepping through Jaxen that the RHS context references the document returned from the document() function in the LHS.  This is not what I expected. =20 Are we doing something wrong here, or is this a Jaxen bug???? =20 Thanks... =20 -David Hooker- -Sr. Architect, Platform-</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] Moving elements from one document to another</header>
    <date>Tue Oct 14 07:28:00 CEST 2003</date>
    <body>SGkNCiANClRoYXQgaXMgd2hhdCB0aGUgY29ja2Jvb2sgdGVsbHMgbWUgdG8gZG8sIGJ1dCB0aGUg cmVzdWx0IGlzIHRoYXQgcm9vdCBlbGVtZW50IGZyb20gZG9jMSBpcyBwbGFjZWQgaW4gdGhlIHJv b3QgZWxlbWVudCBvZiBkb2MyLiBJIGp1c3Qgd2FudCB0aGUgY29udGVudHMgb2YgZG9jMSByb290 IGVsZW1lbnQgdG8gYmUgcGxhY2VkIGluIHRoZSByb290IGVsZW1lbnQgb2YgZG9jMi4NCiANClRo ZSBuYXR1cmFsIHRoaW5nIHdvdWxkIHRoZW4gYmUgdG8gbWFrZSBhIGxvb3AgcmV0cml2aW5nIGVh Y2ggTm9kZSBpbiB0aGUgcm9vdCBlbGVtZW50IGFuZCBhZGRpbmcgdGhlbSBvbmUgYnkgb25lIGlu IGRvYzIgYnV0IGhvdyBkbyBJIGdldCBhIGxpc3QgdGhhdCBjYW4gYmUgY2hhbmdlZCAod2hlbiBh IGRldGFjaCBpcyBkb25lIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCAuLi4p IHdpdGhvdXQgdGhyb3dpbmcgYSBDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uLi4uPw0K IA0KL0NocmlzdGlhbg0KDQotLS0tLVVyc3BydW5nbGlndCBtZWRkZWxhbmRlLS0tLS0NCkZyw6Vu OiBCZW5qYW1pbiBLb3BpYyBbbWFpbHRvOmJlbmphbWluLmtvcGljQHBhbkNvbnRleHQuY29tXQ0K U2tpY2thdDogZGVuIDE0IG9rdG9iZXIgMjAwMyAwMDowMA0KVGlsbDogQ2hyaXN0aWFuIEhvbG1x dmlzdCwgSVQsIFBvc3Rlbg0Kw4RtbmU6IFJlOiBbZG9tNGotdXNlcl0gTW92aW5nIGVsZW1lbnRz IGZyb20gb25lIGRvY3VtZW50IHRvIGFub3RoZXINCg0KDQpoYXZlIHlvdSB0cmllZCBkZXRhY2hp bmcgdGhlIHJvb3QgZmlyc3QgZnJvbSB0aGUgZmlyc3QgZG9jdW1lbnQgYmVmb3JlIGFkZGluZyBp dCB0byB0aGUgc2Vjb25kIG9uZT8gaS5lLg0KDQpFbGVtZW50IHJvb3REb2MxID0gZG9jMS5nZXRS b290RWxlbWVudCgpOw0KZG9jMi5zZXRSb290RWxlbWVudChyb290RG9jMS5kZXRhY2goKSk7DQoN CklmIHRoZSBzZWNvbmQgZG9jdW1lbnQgaGFzIHRoZSByb290IGFscmVhZHkgc2V0IHlvdSBtYXkg aGF2ZSB0byBkZXRhY2ggaXQgZmlyc3Q7IGUuZy4NCmRvYzIuZ2V0Um9vdEVsZW1lbnQoKS5kZXRh Y2goKQ0KDQpCZXN0IHJlZ2FyZHMNCg0KQmVuDQoNCk9uIE1vbiwgMjAwMy0xMC0xMyBhdCAxNToy OCwgQ2hyaXN0aWFuIEhvbG1xdmlzdCwgSVQsIFBvc3RlbiB3cm90ZTogDQoNCkhpDQoNCg0KDQpJ cyB0aGVyZSBhIGVhc3kgd2F5IHRvIG1vdmUgYWxsIGVsZW1lbnQgaW4gdGhlIHJvb3QgZWxlbWVu dCBvZiBvbmUgZG9jdW1lbnQgdG8gdGhlIHJvb3QgZWxlbWVudCBpbiBhbm90aGVyIGRvY3VtZW50 LiBJLmUuIG1lcmdlIHR3byBkb2N1bWVudD8NCg0KDQoNCkkgYmVlbiB0cnlpbmcgZGlmZmVyZW50 IHdheXMgYnV0IGtlZXAgb24gcnVubmluZyBpbnRvIGVpdGhlciBJbGxlZ2FsQWRkRXhjZXB0aW9u IG9yIENvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb24gOi0vDQoNCg0KDQpUaGFuayB5b3Ug Zm9yIHlvdXIgdGltZSBhbmQgZWZmb3J0IQ0KDQoNCg0KL0NocmlzdGlhbg0KDQoNCg0KDQotLSAN Cg0KYmVuamFtaW4ga29waWMNCg0KbTogKzQ0ICgwKTc4MCAxNTQgNzY0Mw0KDQp0OiArNDQgKDAp MjAgNzc5NCAzMDkwDQoNCmU6IGJlbmphbWluLmtvcGljQHBhbkNvbnRleHQuY29tDQoNCnc6IGh0 dHA6Ly93d3cucGFuQ29udGV4dC5jb20vDQoNCg==</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPATH</header>
    <date>Fri Oct 17 05:11:00 CEST 2003</date>
    <body>Hello , I am developing an application, which compares data from xml  files with size around 1mb each . currently i am using  th traditional DOM api i.e org.w3c.xml.in Java I want to know whether using Xpath will help me in increase the speed , as we can directly specify the paths of the nodes while searching . should i go for XPath  or use the same Dom apis to traverse various nodes in the document. Thanks Pramod</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPATH</header>
    <date>Fri Oct 17 05:23:00 CEST 2003</date>
    <body>Well, Jaxen, the xpath engine that dom4j uses, is an abstraction above bare-metal dom APIs, so will be slightly slower.  Jaxen is continuously improving to reduce the amount of overhead added. Though, for developers hours spent, xpath will save you tons. Much easier to write: /foo/bar/baz[cheese='gouda'] than the equivalent using bare-metal APIs.  Plus, time to debug, etc. I'd say give xpath a chance, and if it underperforms, tell the jaxen team, and only after exhausting those possibilities, go to the bare-metal. -bob On Fri, 17 Oct 2003, pramod wrote: -- Bob McWhirter        bob@... The Werken Company http://werken.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Incorrect behavior in OutputFormat class</header>
    <date>Wed Oct 15 13:46:00 CEST 2003</date>
    <body>Hi, I am not sure if this is correct behavior of OutputFormat class, as it = is trimming the text of an element. I thought white spaces in the text = are relevant. And when I uncomment the line above, it retains the value in the element = text but keeps adding more white spaces and indentation everytime I save = the same file. Thanks for your help. Thanks, -Sri</body>
  </mail>
  <mail>
    <header>[dom4j-user] xpath function for getData()</header>
    <date>Mon Oct 13 21:42:00 CEST 2003</date>
    <body>Hi, Is there a xpath function that returns the data value associated with a Attribute/Element Mike</body>
  </mail>
  <mail>
    <header>[dom4j-user] Moving elements from one document to another</header>
    <date>Mon Oct 13 14:28:00 CEST 2003</date>
    <body>SGkNCg0KSXMgdGhlcmUgYSBlYXN5IHdheSB0byBtb3ZlIGFsbCBlbGVtZW50IGluIHRoZSByb290 IGVsZW1lbnQgb2Ygb25lIGRvY3VtZW50IHRvIHRoZSByb290IGVsZW1lbnQgaW4gYW5vdGhlciBk b2N1bWVudC4gSS5lLiBtZXJnZSB0d28gZG9jdW1lbnQ/DQoNCkkgYmVlbiB0cnlpbmcgZGlmZmVy ZW50IHdheXMgYnV0IGtlZXAgb24gcnVubmluZyBpbnRvIGVpdGhlciBJbGxlZ2FsQWRkRXhjZXB0 aW9uIG9yIENvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb24gOi0vDQoNClRoYW5rIHlvdSBm b3IgeW91ciB0aW1lIGFuZCBlZmZvcnQhDQoNCi9DaHJpc3RpYW4NCg==</body>
  </mail>
  <mail>
    <header>[dom4j-user] disable-output-escaping</header>
    <date>Mon Oct 06 19:01:00 CEST 2003</date>
    <body>Hello folks, Here's what I'm trying to do.  I have a database which contains content=20= for the creation of a document. Part of that content may be HTML. I'm=20 generating an XML document that represents the content of the DB using=20= WebObjects. This all works fine. My intent is to provide a set of XSLT style sheets which will transform=20= the xml to provide different "views" of the our Document. Part of that=20= content is HTML and I have that content wrapped in a CData. here's an example: I have an XSLT template that looks like this: When I process this style sheet and xml with a test app that lets me=20 pick the XSLT processor, each of the following does just fine:=20 Sablotron, Libxslt, Saxon, Xalan-J.   Each one does the "right" thing. =20= and gives me: However, when I try to use dom4 and code I've written, I get the=20 following output: DocumentPart  of XML I've seen a few other questions about this kind of problem and have=20 read enough to know that disable-output-escaping is kind of a "bad=20 idea"... However, for my purposes it's really needed.  Is this a=20 "feature" of Dom4j, that output escaping doesn't work or might I have=20 something not configured properly in my code? Any assistance that might be given would be helpful. If=20 disable-output-escaping is not functional in dom4j, then my only other =20= alternative is to switch to a different XSLT engine, and I'd rather not=20= do that. Tony Giaccone =EF=A3=BFApple Learning Platform http://ali.apple.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Inserting Elements</header>
    <date>Fri Oct 03 11:30:00 CEST 2003</date>
    <body>Hi, I am new to dom4j and wanted to see if was a better way to insert new elements than I have coded.  The insert example uses cloning, but cloning is not an option for me as I may not have a suitable element laying around to clone.  When I try to construct an Element, I am told I cannot.  so I end up adding the element which will place it in an uncontrollable index position, detaching it, an then using the example method to insert.  This seems cluncky, especially when I usually just want it added as the last child of the parent element.  Thanks for any ideas of a better way to do this.  Example below: Node nodeToInsertAfter = insertElementAt( root, (Element) nodeToInsert.detach(), public void insertElementAt( Element parent, Element newElement,</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] ignore the dtd file</header>
    <date>Wed Oct 01 19:36:00 CEST 2003</date>
    <body>This is really an XML question, and is specific to your particular = parser. I'm using XercesJ version 1.4.4, so I turn off DTD loading like this: = r.setFeature(" http://apache.org/xml/features/nonvalidating/load-external-= Your mileage may vary. -----Original Message----- From: dom4j-user-admin@... = [mailto:dom4j-user-admin@...] On Behalf Of Borja = Mart=EDn Sent: Wednesday, October 01, 2003 11:25 AM To: dom4j-user@... Subject: [dom4j-user] ignore the dtd file hi. I want to read a xml file that has a reference to a dtd file. But the=20 problem is that that dtd file contains errors(the file has not a utf-8 = format). I know I could convert this dtd file with the utf-8 enconding, but I = would=20 like to control this error in further occasions just by ignoring the=20 reference. By searching in the mailiing list archive I read that I could = use the EntityResolver class to solve especify another dtd file, but I=20 would like just to ignore it... can that be done? thx in advance. ------------------------------------------------------- This sf.net email is sponsored by:ThinkGeek Welcome to geek heaven. http://thinkgeek.com/sf _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] ignore the dtd file</header>
    <date>Thu Oct 02 16:31:00 CEST 2003</date>
    <body>hi! it worked fine. I had a few problems trying to indicate dom4j to use the=20 xerces parser, but eventually I got it. thx a lot. At 14:35 01/10/2003 -0500, David Hooker wrote: http://apache.org/xml/features/nonvalidating/load-external-dt= d",=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] ignore the dtd file</header>
    <date>Wed Oct 01 16:23:00 CEST 2003</date>
    <body>hi. I want to read a xml file that has a reference to a dtd file. But the problem is that that dtd file contains errors(the file has not a utf-8 format). I know I could convert this dtd file with the utf-8 enconding, but I would like to control this error in further occasions just by ignoring the reference. By searching in the mailiing list archive I read that I could use the EntityResolver class to solve especify another dtd file, but I would like just to ignore it... can that be done? thx in advance.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to know the encoding of the input file</header>
    <date>Wed Oct 01 13:43:00 CEST 2003</date>
    <body>Hello! Is there a patch, now? -- Beste Grüße / Best Regards, Marc Pellmann __________________________________________________________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAXReader.parse behavior with InputStream and Reader</header>
    <date>Thu Nov 27 15:52:00 CET 2003</date>
    <body>Hi, Is it a known issue that the SAXReader.parse closes the Reader that is passed and doesn't close the InputStream that is passed. Why this different behavior? And is it registered with the dom4j as a bug? Sorry, don't where to look for this. Thanks, Gurdev</body>
  </mail>
  <mail>
    <header>[dom4j-user] The entity name must immediately follow the '&amp;amp;' in the entity reference</header>
    <date>Mon Dec 01 07:32:00 CET 2003</date>
    <body>Hi, I have an XML file containing the line as follow: When I try to parse the file Document document = reader.read(myfile);    ---&amp;gt; error occur here I get the error below: org.dom4j.DocumentException: Error on line 45 of document  : The entity name must immediately follow the '&amp;amp;' in the entity reference. Nested exception: The entity name must immediately follow the '&amp;amp;' in the entity reference. at org.dom4j.io.SAXReader.read(SAXReader.java:339) at org.dom4j.io.SAXReader.read(SAXReader.java:256) I understand that when parser encounters the special char "&amp;amp;", it expects an entity reference. By changing the "&amp;amp;" to "&amp;amp;amp;" could solve my prob but the XML file is generated by another program. Currently I will read the xml file, assign the content to a String and then replace all "&amp;amp;" but this method is not secure as if the "&amp;amp;" do mean an entity reference, then I'll get error. How could I overcome this issue? Any workaround? Any help is appreciated. Thank you.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] The entity name must immediately follow the '&amp;amp;' in the entity reference</header>
    <date>Mon Dec 01 07:57:00 CET 2003</date>
    <body>Hi, you say you have an xml file, but you really don't according to: http://www.w3.org/TR/REC-xml#syntax / Mattias Reichel in entity exception: reference. expects http://sourceforge.net/donate/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] additions to dom4j</header>
    <date>Tue Nov 25 15:14:00 CET 2003</date>
    <body>I really need to additions to dom4j (what the file encoding is and does = a node exist). If I write these is there someone who knows dom4j well = enough who can check them and bless them for a new build? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Hack for determining the encoding of a document</header>
    <date>Mon Nov 24 20:21:00 CET 2003</date>
    <body>SGVsbG8NCg0KV2UgaGFkIHRoZSBzYW1lIHByb2JsZW0gb2YgZGV0ZXJtaW5pbmcgdGhlIGVuY29k aW5nIG9mIGFuIHhtbC1kb2N1bWVudA0KaW4gb3VyIGNvbXBhbnkgYSB5ZWFyIGFnby4gQmVjYXVz ZSB3ZSBjb3VsZG4ndCBmaW5kIGFueSBjb2RlIG9uIHRoZQ0KbmV0IHRoYXQgc2VydmVkIHRoaXMg cHVycG9zZSB3ZSBkZWNpZGVkIHRvIGltcGxlbWVudCBhICJoYWNrIiBieSBvdXJzZWx2ZXMuDQpC ZWNhdXNlIGl0IHNlZW1zIHRoYXQgdGhlIHRpbWUgaGFzbid0IGNoYW5nZWQsIEkgZGVjaWRlZCB0 byBwb3N0IHRoaXMgY29kZQ0KaGVyZS4gSSBob3BlIGl0IHdpbGwgYmUgdXNlZnVsIChhdCBsZWFz dCBhcyBhIHRlbXBvcmFyeSBzb2x1dGlvbikuDQoNCkJ5ZQ0KQWxhaW4gU2NobmVibGUNCg0KUmVh bGl6ZSBJVCBHbWJIDQpDSCAtIDg2NDAgUmFwcGVyc3dpbA0KDQpzbyBoZXJlIGlzIHRoZSBoYWNr Og0KKGl0IGNvdWxkIGJlIHRoYXQgYSBwYXJ0IG9mIHRoZSBnZXRFbmNvZGluZ05hbWUgbWV0aG9k IGNvbWVzIGZyb20NCmEgdmVyc2lvbiBvZiB0aGUgeGVyY2VzIHNvdXJjZXMsIGJ1dCBJJ20gbm90 IDEwMCUgc3VyZSBhbnltb3JlLi4uKQ0KDQpwdWJsaWMgZmluYWwgY2xhc3MgQ2hhcnNldEZldGNo ZXIgDQp7DQogcHVibGljIHN0YXRpYyBDaGFyc2V0IGdldEVuY29kaW5nKFVSTCB1cmxYTUwpIA0K IHsNCiAgLyoNCiAgICogbGV0J3MgZ2V0IHRoZSAocGh5c2ljYWwpIGVuY29kaW5nDQogICAqLw0K ICBCdWZmZXJlZElucHV0U3RyZWFtIGJpcyA9IG5ldyBCdWZmZXJlZElucHV0U3RyZWFtKHVybFhN TC5vcGVuU3RyZWFtKCkpOw0KDQogIGJ5dGVbXSBiID0gbmV3IGJ5dGVbNF07DQogIGJpcy5yZWFk KGIpOw0KICBiaXMuY2xvc2UoKTsNCiAgICAgIA0KICBPYmplY3RbXSBlbmNvZGluZyA9IGdldEVu Y29kaW5nTmFtZShiLCA0KTsNCiAgICAgIA0KICBjaGFyW10gY2J1ZiA9IG5ldyBjaGFyWzEyOF07 DQogICAgICANCg0KICBJbnB1dFN0cmVhbVJlYWRlciBpc3I7DQogICAgICANCiAgLyogDQogICAq IHRoaXMgaXMgYSBoYWNrDQogICAqIHdlIG5lZWQgdG8gc3VwcG9ydCBvbmx5IFVURi04IG9yIFVU Ri0xNiBmaWxlcw0KICAgKi8NCiAgaWYgKGVuY29kaW5nWzBdID09ICJVVEYtOCIpIA0KICB7DQog ICBpc3IgPSBuZXcgSW5wdXRTdHJlYW1SZWFkZXIodXJsWE1MLm9wZW5TdHJlYW0oKSwgIlVURi04 Iik7ICAgICAgICAgDQogIH0gDQogIGVsc2UgDQogIHsNCiAgIGlzciA9IG5ldyBJbnB1dFN0cmVh bVJlYWRlcih1cmxYTUwub3BlblN0cmVhbSgpLCAiVVRGLTE2Iik7DQogIH0NCiAgICAgIA0KICBp c3IucmVhZChjYnVmLCAwLCAxMjgpOw0KICBpc3IuY2xvc2UoKTsNCiAgICAgIA0KICAvKg0KICAg KiBvaywgbm93IHJlYWQgd2hhdCdzIHJlYWxseSBpbnNpZGUgdGhlIGVuY29kaW5nIGF0dHJpYnV0 ZQ0KICAgKiBkZWZpbmVkIGluIHRoZSB4bWwgZmlsZQ0KICAgKi8NCiAgU3RyaW5nIHMgPSBuZXcg U3RyaW5nKGNidWYpOw0KICBzID0gcy50b1VwcGVyQ2FzZSgpOw0KICBpbnQgbkVuYyA9IHMuaW5k ZXhPZigiRU5DT0RJTkciKSArICJFTkNPRElORyIubGVuZ3RoKCk7DQogICAgICANCiAgaW50IG5R dW90QmVnaW4gPSBzLmluZGV4T2YoIlwiIiwgbkVuYykgKyAxOw0KICBpbnQgblF1b3RFbmQgPSBz LmluZGV4T2YoIlwiIiwgblF1b3RCZWdpbik7DQogICAgICANCiAgcyA9IHMuc3Vic3RyaW5nKG5R dW90QmVnaW4sIG5RdW90RW5kKTsgICANCiAgICAgIA0KICAvKg0KICAgKiB0aGUgZW5jb2Rpbmcg bmFtZSB3aWxsIG5vdyBiZWNvbWUgb3VyICJXb3JraW5nLUNoYXJzZXQiDQogICAqIHVzZWQgbWFp bmx5IGZvciBzYXZpbmcgdGhlIGZpbGUgYmFjayB3aXRoIHRoZSBzYW1lIGVuY29kaW5nIHR5cGUN CiAgICogYXMgdGhlIG9yaWdpbmFsIGZpbGUNCiAgICovDQogIHJldHVybiBDaGFyc2V0LmZvck5h bWUocyk7DQogfQ0KDQogLyogDQogICogUmV0dXJucyB0aGUgKHBoeXNpY2FsKSBFbmNvZGluZyBu YW1lIHRoYXQgY291bGQgYmUgZGV0ZXJtaW5lZCBiYXNlZA0KICAqIG9uIHRoZSBieXRlIHJlcHJl c2VudGF0aW9ucyBvZiB0aGUgY2hhcmFjdGVycyBpbiB0aGUgZmlyc3QgZm91ciBieXRlcw0KICAq IG9mIGEgdGV4dCBmaWxlDQogICovDQogcHJpdmF0ZSBzdGF0aWMgT2JqZWN0W10gZ2V0RW5jb2Rp bmdOYW1lKGJ5dGVbXSBiNCwgaW50IGNvdW50KSANCiB7DQogIGlmIChjb3VudCA8IDIpIA0KICB7 DQogICByZXR1cm4gbmV3IE9iamVjdFtdeyJVVEYtOCIsIG51bGx9Ow0KICB9DQogICAgICANCiAg Ly8gVVRGLTE2LCB3aXRoIEJPTQ0KICBpbnQgYjAgPSBiNFswXSAmIDB4RkY7DQogIGludCBiMSA9 IGI0WzFdICYgMHhGRjsNCiAgaWYgKGIwID09IDB4RkUgJiYgYjEgPT0gMHhGRikgDQogIHsNCiAg IC8vIFVURi0xNiwgYmlnLWVuZGlhbg0KICAgcmV0dXJuIG5ldyBPYmplY3QgW10geyJVVEYtMTZC RSIsIG5ldyBCb29sZWFuKHRydWUpfTsNCiAgfQ0KICBpZiAoYjAgPT0gMHhGRiAmJiBiMSA9PSAw eEZFKSANCiAgew0KICAgLy8gVVRGLTE2LCBsaXR0bGUtZW5kaWFuDQogICByZXR1cm4gbmV3IE9i amVjdCBbXSB7IlVURi0xNkxFIiwgbmV3IEJvb2xlYW4oZmFsc2UpfTsNCiAgfQ0KICAgICAgDQog IC8vIGRlZmF1bHQgdG8gVVRGLTggaWYgd2UgZG9uJ3QgaGF2ZSBlbm91Z2ggYnl0ZXMgdG8gbWFr ZSBhDQogIC8vIGdvb2QgZGV0ZXJtaW5hdGlvbiBvZiB0aGUgZW5jb2RpbmcNCiAgaWYgKGNvdW50 IDwgMykgDQogIHsNCiAgIHJldHVybiBuZXcgT2JqZWN0IFtdIHsiVVRGLTgiLCBudWxsfTsNCiAg fQ0KICAgICAgDQogIC8vIFVURi04IHdpdGggYSBCT00NCiAgaW50IGIyID0gYjRbMl0gJiAweEZG Ow0KICBpZiAoYjAgPT0gMHhFRiAmJiBiMSA9PSAweEJCICYmIGIyID09IDB4QkYpIA0KICB7DQog ICByZXR1cm4gbmV3IE9iamVjdCBbXSB7IlVURi04IiwgbnVsbH07DQogIH0NCiAgICAgIA0KICAv LyBkZWZhdWx0IHRvIFVURi04IGlmIHdlIGRvbid0IGhhdmUgZW5vdWdoIGJ5dGVzIHRvIG1ha2Ug YQ0KICAvLyBnb29kIGRldGVybWluYXRpb24gb2YgdGhlIGVuY29kaW5nDQogIGlmIChjb3VudCA8 IDQpIA0KICB7DQogICByZXR1cm4gbmV3IE9iamVjdCBbXSB7IlVURi04IiwgbnVsbH07DQogIH0N CiAgICAgIA0KICAvLyBvdGhlciBlbmNvZGluZ3MNCiAgaW50IGIzID0gYjRbM10gJiAweEZGOw0K ICBpZiAoYjAgPT0gMHgwMCAmJiBiMSA9PSAweDAwICYmIGIyID09IDB4MDAgJiYgYjMgPT0gMHgz QykgDQogIHsNCiAgIC8vIFVDUy00LCBiaWcgZW5kaWFuICgxMjM0KQ0KICAgcmV0dXJuIG5ldyBP YmplY3QgW10geyJJU08tMTA2NDYtVUNTLTQiLCBuZXcgQm9vbGVhbih0cnVlKX07DQogIH0NCiAg aWYgKGIwID09IDB4M0MgJiYgYjEgPT0gMHgwMCAmJiBiMiA9PSAweDAwICYmIGIzID09IDB4MDAp IA0KICB7DQogICAvLyBVQ1MtNCwgbGl0dGxlIGVuZGlhbiAoNDMyMSkNCiAgIHJldHVybiBuZXcg T2JqZWN0IFtdIHsiSVNPLTEwNjQ2LVVDUy00IiwgbmV3IEJvb2xlYW4oZmFsc2UpfTsNCiAgfQ0K ICBpZiAoYjAgPT0gMHgwMCAmJiBiMSA9PSAweDAwICYmIGIyID09IDB4M0MgJiYgYjMgPT0gMHgw MCkgDQogIHsNCiAgIC8vIFVDUy00LCB1bnVzdWFsIG9jdGV0IG9yZGVyICgyMTQzKQ0KICAgLy8g UkVWSVNJVDogV2hhdCBzaG91bGQgdGhpcyBiZT8NCiAgIHJldHVybiBuZXcgT2JqZWN0IFtdIHsi SVNPLTEwNjQ2LVVDUy00IiwgbnVsbH07DQogIH0NCiAgaWYgKGIwID09IDB4MDAgJiYgYjEgPT0g MHgzQyAmJiBiMiA9PSAweDAwICYmIGIzID09IDB4MDApIA0KICB7DQogICAvLyBVQ1MtNCwgdW51 c3VhbCBvY3RlY3Qgb3JkZXIgKDM0MTIpDQogICAvLyBSRVZJU0lUOiBXaGF0IHNob3VsZCB0aGlz IGJlPw0KICAgcmV0dXJuIG5ldyBPYmplY3QgW10geyJJU08tMTA2NDYtVUNTLTQiLCBudWxsfTsN CiAgfQ0KICBpZiAoYjAgPT0gMHgwMCAmJiBiMSA9PSAweDNDICYmIGIyID09IDB4MDAgJiYgYjMg PT0gMHgzRikgDQogIHsNCiAgIC8vIFVURi0xNiwgYmlnLWVuZGlhbiwgbm8gQk9NDQogICAvLyAo b3IgY291bGQgdHVybiBvdXQgdG8gYmUgVUNTLTIuLi4NCiAgIC8vIFJFVklTSVQ6IFdoYXQgc2hv dWxkIHRoaXMgYmU/DQogICByZXR1cm4gbmV3IE9iamVjdCBbXSB7IlVURi0xNkJFIiwgbmV3IEJv b2xlYW4odHJ1ZSl9Ow0KICB9DQogIGlmIChiMCA9PSAweDNDICYmIGIxID09IDB4MDAgJiYgYjIg PT0gMHgzRiAmJiBiMyA9PSAweDAwKSANCiAgew0KICAgLy8gVVRGLTE2LCBsaXR0bGUtZW5kaWFu LCBubyBCT00NCiAgIC8vIChvciBjb3VsZCB0dXJuIG91dCB0byBiZSBVQ1MtMi4uLg0KICAgcmV0 dXJuIG5ldyBPYmplY3QgW10geyJVVEYtMTZMRSIsIG5ldyBCb29sZWFuKGZhbHNlKX07DQogIH0N CiAgaWYgKGIwID09IDB4NEMgJiYgYjEgPT0gMHg2RiAmJiBiMiA9PSAweEE3ICYmIGIzID09IDB4 OTQpIA0KICB7DQogICAvLyBFQkNESUMNCiAgIC8vIHJldHVybiBDUDAzNyBpbnN0ZWFkIG9mIEVC Q0RJQyBoZXJlDQogICByZXR1cm4gbmV3IE9iamVjdCBbXSB7IkNQMDM3IiwgbnVsbH07DQogIH0N CiAgICAgIA0KICAvLyBkZWZhdWx0IGVuY29kaW5nDQogIHJldHVybiBuZXcgT2JqZWN0IFtdIHsi VVRGLTgiLCBudWxsfTsNCiAgICAgIA0KIH0NCn0NCg0KDQo=</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to remove default namespace !!!</header>
    <date>Tue Nov 25 10:09:00 CET 2003</date>
    <body>hi, I want to remove the standard / default namespace from a org.dom4j.Document after parsing. How can i do this? Is this possible? I tried it with removing it from rootElement, but it does not work. Every Namespace can be removed but not the default namespace. Please help me thanx stefan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to remove default namespace !!!</header>
    <date>Tue Nov 25 10:35:00 CET 2003</date>
    <body>You'll have to remove the namespace from every element in the tree. Try something like this: private void setDefaultNamespace( AbstractElement element, String namespace) Good luck, Edwin Sent: Tuesday, November 25, 2003 10:08 AM Subject: [dom4j-user] how to remove default namespace !!! hi, I want to remove the standard / default namespace from a org.dom4j.Document after parsing. How can i do this? Is this possible? I tried it with removing it from rootElement, but it does not work. Every Namespace can be removed but not the default namespace. Please help me thanx stefan ------------------------------------------------------- This SF.net email is sponsored by: SF.net Giveback Program. Does SourceForge.net help you be more productive?  Does it help you create better code?  SHARE THE LOVE, and help us help YOU!  Click Here: http://sourceforge.net/donate/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Re: How do I get the encoding in a document?</header>
    <date>Mon Nov 24 16:55:00 CET 2003</date>
    <body>Hi, I tried doing the same but still got the illegal characters.=20 OutputFormat format =3D OutputFormat.createPrettyPrint();=20 xmlWriter.write(docXML);=09 In the generated xml file, all the apostrophies(') are not = readable....Any clues? bejoy -----Original Message----- From: James Strachan [mailto:james_strachan@... Sent: Monday, November 24, 2003 9:39 AM To: dom4j-user@...; Klaus Engelhardt Subject: [dom4j-user] Re: How do I get the encoding in a document? The trick is to use the XMLWriter and use an OutputFormat object to set = the encoding. format.setEncoding(...) On 24 Nov 2003, at 13:24, Klaus Engelhardt wrote: resulting James ------- http://radio.weblogs.com/0112098/ ------------------------------------------------------- This SF.net email is sponsored by: SF.net Giveback Program. Does SourceForge.net help you be more productive?  Does it help you create better code?  SHARE THE LOVE, and help us help YOU!  Click Here: http://sourceforge.net/donate/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Re: How do I get the encoding in a document?</header>
    <date>Mon Nov 24 19:54:00 CET 2003</date>
    <body>Hi , I worked on it a bit more and found that the problem is not with = writing but with reading the xml file. While reading the xml file the = apostrophe is converted to some illegal character..The xml file being read is a Word document saved as xml usng word2003. Tried using inputsource to resolve = the problem but without any success. Here is the code I used: org.dom4j.io.SAXReader xmlReader =3D new SAXReader(); // Using a SAX parsing reader. =09 InputSource source =3D new InputSource(new I will appreciate if someone could help me with this. Thanks, Bejoy Nair -----Original Message----- From: Nair, Bejoy=20 Sent: Monday, November 24, 2003 11:55 AM To: 'dom4j-user@...' Subject: RE: [dom4j-user] Re: How do I get the encoding in a document? Hi, I tried doing the same but still got the illegal characters.=20 OutputFormat format =3D OutputFormat.createPrettyPrint();=20 xmlWriter.write(docXML);=09 In the generated xml file, all the apostrophies(') are not = readable....Any clues? bejoy -----Original Message----- From: James Strachan [mailto:james_strachan@... Sent: Monday, November 24, 2003 9:39 AM To: dom4j-user@...; Klaus Engelhardt Subject: [dom4j-user] Re: How do I get the encoding in a document? The trick is to use the XMLWriter and use an OutputFormat object to set = the encoding. format.setEncoding(...) On 24 Nov 2003, at 13:24, Klaus Engelhardt wrote: resulting James ------- http://radio.weblogs.com/0112098/ ------------------------------------------------------- This SF.net email is sponsored by: SF.net Giveback Program. Does SourceForge.net help you be more productive?  Does it help you create better code?  SHARE THE LOVE, and help us help YOU!  Click Here: http://sourceforge.net/donate/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------- This SF.net email is sponsored by: SF.net Giveback Program. Does SourceForge.net help you be more productive?  Does it help you create better code?  SHARE THE LOVE, and help us help YOU!  Click Here: http://sourceforge.net/donate/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: How do I get the encoding in a document?</header>
    <date>Mon Nov 24 14:39:00 CET 2003</date>
    <body>The trick is to use the XMLWriter and use an OutputFormat object to set=20= the encoding. format.setEncoding(...) On 24 Nov 2003, at 13:24, Klaus Engelhardt wrote: resulting James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: How do I get the encoding in a document?</header>
    <date>Mon Nov 24 15:09:00 CET 2003</date>
    <body>Ah gotcha. We need an encoding property on Document that we can set when parsing;=20= then this can be defaulted into the XMLWriter by default. Shouldn't be=20= too hard to do; any volunteers? :) On 24 Nov 2003, at 14:57, Klaus Engelhardt wrote: to James ------- http://radio.weblogs.com/0112098/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] selectingNodes with xpath and namespace</header>
    <date>Fri Nov 21 19:19:00 CET 2003</date>
    <body>Stefan, Below is copied and pasted from a Java class I use: /** Applying a technique suggested by James Strachan of dom4j.org to overcome the default namespace/XPath issue.  XPath maps namespaces to elements based upon the namespaceURI, not the prefix in the source document.  When there is a default prefix, i.e., "xmlns=&amp;lt;namespaceURI&amp;gt;", each non-prefixed element STILL matches the URI, but there is no prefix available for use in XPath expressions.  So we tell XPath to map the same namespaceURI to a non-"" prefix, which we then use in our XPath expressions.  XPath will match the URIs, and find the non-prefixed elements in the source document as a result. Ex: In source document: xmlns=" http://www.aigtrading.com/tgML/2002/07 " By defining an XPath-only prefix, "tg" for the same namespace, I can match: elem.selectNodes("/tg:tgML/tg:trade/@ID") to get the value of the ID attribute. */ public static Document getDom4jDocument ( String xml, String xPathPrefix ) throws DocumentException // register prefixes with my factory // don't allow "default" prefix if (xPathPrefix == null || xPathPrefix.equals("")) uris.put (xPathPrefix, " http://www.aigtrading.com/tgML/2002/07 // create the actual Document /** * * @param xml String containing any form of XML for which a document is desired, but without any *   namespace. * @return org.dom4j.Document * @throws org.dom4j.DocumentException */ public static Document getNoNamespaceDocument (String xml) throws DocumentException /** * * @param xml String containing any form of XML for which a document is desired. * @param uris List of URIs that will be used as namespace attributes. * @return org.dom4j.Document * @throws org.dom4j.DocumentException */ protected static Document getDocFromString (String xml, Map uris) throws DocumentException // create my own factory // maybe add namespace nodes if (uris != null) // create a string Reader wrapped around the String parameter // now parse and return a document using my factory Stefan Lischke Sent by:                           cc:       dom4j-user@... dom4j-user-admin@...        Subject:  [dom4j-user] selectingNodes with xpath and namespace ceforge.net 11/21/2003 01:43 PM Hi, I want to select a singleNode by Xpath with Node member = this.e.selectSingleNode("/association/member[topicRef/@xlink:href=' It worked, when there was no namespace xlink for the @href attribute, but with xlink namespace it does not work. How can i specifiy a namespace when selecting a single node. this.e.asXML() is as follow: ------------------------------------------------------------------------------------------------------------------- http://exist.sourceforge.net/NS/exist " exist:id="ATMSWSS03gehs@..." exist:source ="/db/xtm4xmldb/ivsData.xtm/assocs/ATMSWSS03gehs@..." http://www.w3.org/1999/xlink " http://www.w3.org/1999/xlink " http://www.w3.org/1999/xlink " http://www.w3.org/1999/xlink " http://www.w3.org/1999/xlink " xlink:href=" ------------------------------------------------------- This SF.net email is sponsored by: SF.net Giveback Program. Does SourceForge.net help you be more productive?  Does it help you create better code?  SHARE THE LOVE, and help us help YOU!  Click Here: http://sourceforge.net/donate/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Beginner Question: .write() method for Elements</header>
    <date>Tue Nov 18 18:58:00 CET 2003</date>
    <body>Beginner Question:  .write() method for Elements I just downloaded DOM4J and got it working.  I can read XML files and prettyPrint them, no problem. But I'm having some trouble getting the .write() method to work for Elements.  I did check a year of archives, but couldn't find anything. The Quick start guide says "A quick and easy way to write a Document (or any Node) to a Writer is via the write() method. document.write(out);" OK.  But when I try something similar, passing a good pointer to Document to the following method, using .selectNodes() to collect &amp;lt;data&amp;gt; elements (there are five of them in the document), and then using .write() to write them, I get no output. Could some kind soul tell this beginner what he's doing wrong? static public void printData(Document document) List list = document.selectNodes("//data") ;  // collect &amp;lt;data&amp;gt; elements System.out.flush() ;   // this prints out '5' e.write(osr) ;    // no output The above produces no output, whereas the following works perfectly, printing out the five elements. static public void printData(Document document) Thanks in advance, Ken ********************************************************************** Kenneth R. Beesley		ken.beesley@... Xerox Research Centre Europe    Tel from France:    04  76 61 50 64 6, chemin de Maupertuis		Tel from Abroad: +33 4  76 61 50 64 38240 MEYLAN			Fax from France:    04  76 61 50 99 France				Fax from Abroad: +33 4  76 61 50 99 XRCE page: http://www.xrce.xerox.com Personal page: http://www.xrce.xerox.com/people/beesley/beesley.html **********************************************************************</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Beginner Question: .write() method for Elements</header>
    <date>Wed Nov 19 04:49:00 CET 2003</date>
    <body>You should call osr.flush() for the xml elements to be seen on the System.out or any Writer that is used. -Gurdev Ken Beesley wrote: http://www.xrce.xerox.com http://www.xrce.xerox.com/people/beesley/beesley.html http://sourceforge.net/donate/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] selectingNodes with xpath and namespace</header>
    <date>Fri Nov 21 18:44:00 CET 2003</date>
    <body>Hi, I want to select a singleNode by Xpath with Node member = It worked, when there was no namespace xlink for the @href attribute, but with xlink namespace it does not work. How can i specifiy a namespace when selecting a single node. this.e.asXML() is as follow: ------------------------------------------------------------------------------------------------------------------- http://exist.sourceforge.net/NS/exist " exist:id="ATMSWSS03gehs@..." exist:source="/db/xtm4xmldb/ivsData.xtm/assocs/ATMSWSS03gehs@..." http://www.w3.org/1999/xlink " http://www.w3.org/1999/xlink " http://www.w3.org/1999/xlink " http://www.w3.org/1999/xlink " http://www.w3.org/1999/xlink</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Asking again - Does node exist</header>
    <date>Wed Nov 19 20:59:00 CET 2003</date>
    <body>We need this for arbitrary nodes that are entered at runtime. Date:  Wed, 19 Nov 2003 15:39:12 -0500 http://www.dom4j.org/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Asking again - Does node exist</header>
    <date>Wed Nov 19 21:06:00 CET 2003</date>
    <body>Then XPath is your best bet. You'll want to pre-compile any XPaths you=20= intend to keep around for awhile to save from parsing the string all=20 the time. You might look at directly using the Jaxen interfaces, since=20= they have some more specific functions, such as XPath.booleanValueOf().=20= I'm not sure that these are any more performant than selectNodes(), but=20= may be clearer in your code. best, christian. On Wednesday, November 19, 2003, at 03:59  PM, david wrote: http://www.dom4j.org/ arbitrary</body>
  </mail>
  <mail>
    <header>[dom4j-user] Asking again - Does node exist</header>
    <date>Wed Nov 19 05:39:00 CET 2003</date>
    <body>From: David Thielen=20 To: dom4j-user@... Sent: Sunday, November 16, 2003 2:59 PM Subject: Re: [dom4j-user] [dom4j] - Does node exist Actually this doesn't always work either. The best I have some up with = is: node.selectNodes(text).size() &amp;gt; 0 which I am assuming is not very efficient. Is there a better way???? thanks - dave From: David Thielen=20 To: dom4j-user@... Sent: Sunday, November 16, 2003 1:45 PM Subject: [dom4j-user] [dom4j] - Does node exist What is the most efficient way to determine if a node exists. The = only way I have founs so far is: if (node.matches(text)) where text is the xpath to the node I am looking for and node is a = Node I start the search from. thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Asking again - Does node exist</header>
    <date>Wed Nov 19 20:39:00 CET 2003</date>
    <body>To risk stating the obvious, you look for the node ;) In essence, you'd=20= just hand-code the XPath using the DOM4J methods such as=20 Element.element(String). So, to search for the /html/head element, Document doc =3D new SAXReader().read(" http://www.dom4j.org/ // node exists This is more efficient, but requires you to know the document structure=20= beforehand. Use XPath to either save yourself coding when performance=20 isn't an issue, or when you need to be able to search for an arbitrary=20= node. christian. On Wednesday, November 19, 2003, at 12:39  AM, David Thielen wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] parsing a string?</header>
    <date>Wed Nov 19 04:10:00 CET 2003</date>
    <body>How can an instance of a String, containing XML, be parsed? The javadocs work show Saxparsers for File and URL only. thanks</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] parsing a string?</header>
    <date>Wed Nov 19 04:38:00 CET 2003</date>
    <body>Hi, You can always convert a string into a Reader like this: Now, SAXReader.read() takes a reader. So that should do it. Hope this helps. -Gurdev Hanasaki JiJi wrote: http://sourceforge.net/donate/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] [dom4j] - Does node exist</header>
    <date>Sun Nov 16 20:45:00 CET 2003</date>
    <body>What is the most efficient way to determine if a node exists. The only = way I have founs so far is: if (node.matches(text)) where text is the xpath to the node I am looking for and node is a Node = I start the search from. thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] [dom4j] - Does node exist</header>
    <date>Sun Nov 16 21:59:00 CET 2003</date>
    <body>Actually this doesn't always work either. The best I have some up with = is: node.selectNodes(text).size() &amp;gt; 0 which I am assuming is not very efficient. Is there a better way???? thanks - dave From: David Thielen=20 To: dom4j-user@... Sent: Sunday, November 16, 2003 1:45 PM Subject: [dom4j-user] [dom4j] - Does node exist What is the most efficient way to determine if a node exists. The only = way I have founs so far is: if (node.matches(text)) where text is the xpath to the node I am looking for and node is a = Node I start the search from. thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] remove standard namespace</header>
    <date>Sat Nov 15 14:41:00 CET 2003</date>
    <body>Hi, I'm trying to remove a standard NameSpace, but it doesn't work. I searched the net and found some hints about a bug in removing standard namespaces. Does someone know something about this bug? stefan</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to</header>
    <date>Thu Nov 13 11:11:00 CET 2003</date>
    <body>How to unsubscribe from this mailing list</body>
  </mail>
  <mail>
    <header>[dom4j-user] formating with pdf version of dom4j cookbook</header>
    <date>Wed Nov 12 18:55:00 CET 2003</date>
    <body>There is a problem with the formatting of comments in the PDF version of = the dom4j cookbook, i.e. the comments in code snippets. For example in acrobat, the comment: /** dom4j object model representation of a xml document. Note: We use runs off the page such that "use" is not visible. Also, it is not = possible to scroll to the right, i.e. the scroll bar is inactive. There = seem to be many other instances of this problem as well. Thanks Chuck</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to unsubscribe</header>
    <date>Tue Nov 04 21:46:00 CET 2003</date>
    <body>Hi, How to unsubscribe from this dom4j list Thanks Balaji</body>
  </mail>
  <mail>
    <header>[dom4j-user] Please check your anti-virus</header>
    <date>Tue Dec 30 03:09:00 CET 2003</date>
    <body>I am getting a bunch of the fake Microsoft worm e-mails and I am = guessing it might be from someone on the e-mail list. If you don't have an up to date anti-virus installed on your computer, = you can do a free scan using http://housecall.trendmicro.com/ . thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Stylesheet and Rule problem</header>
    <date>Tue Dec 23 16:22:00 CET 2003</date>
    <body>Hi, I am trying to use the new rule package instead of writing an XSLT and call a java class. It seemed so much easier to use the rule in dom4j, notice that I said seemed. It probably is my fault but I can't get it to work. I am trying to insert one document into another at a spcific location in the second document. The first file is based on information from the node that the rule finds. .... .... List content = parent.content(); &amp;lt;--- Exception cause the parent is null. .... The core of my problem is that I can't get the parent, it always is null no matter what I do. And without that I am a little bit stuck. Anybody have any suggestions? Anywhere I can read on how to do it? // Jens</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Tue Dec 02 17:32:00 CET 2003</date>
    <body />
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Wed Dec 17 08:59:00 CET 2003</date>
    <body>I am trying to validate the document and create dom4j document using the following code But unfortunately the attributes defines in DTD but not in document are also loaded in the new document. How to avoid this? Thanks and Regards Sachin This e-mail is for the use of the intended recipient(s) only.  If you have received this e-mail in error, please notify the sender immediately and then delete it.  If you are not the intended recipient, you must not use, disclose or distribute this e-mail without the author's permission.  We have taken precautions to minimise the risk of transmitting software viruses, but we advise you to carry out your own virus checks on any attachment to this e-mail. We cannot accept liability for any loss or damage caused by software viruses.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Element.createCopy() root problem</header>
    <date>Fri Dec 12 04:20:00 CET 2003</date>
    <body>Element.createCopy() is not handling XPath as I would expect - it won't = accept a "/base" as an argument - it requires "./base" The code: Document document =3D = DocumentHelper.parseText("&amp;lt;root&amp;gt;&amp;lt;first&amp;gt;&amp;lt;last&amp;gt;dave&amp;lt;/last&amp;gt;&amp;lt;/first&amp;gt;&amp;lt;/root&amp;gt;")= produces: starting document =3D org.dom4j.tree.DefaultDocument@... [Document: name null] node =3D org.dom4j.tree.DefaultElement@... [Element: &amp;lt;first = attributes: []/&amp;gt;] str =3D dave elem =3D org.dom4j.tree.DefaultElement@... [Element: &amp;lt;first = attributes: []/&amp;gt;] new elem =3D org.dom4j.tree.DefaultElement@... [Element: &amp;lt;first = attributes: []/&amp;gt;] new parent =3D null str =3D                             &amp;lt;*************** this should return = dave!!!!! str =3D dave all done help - thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Element.createCopy() root problem</header>
    <date>Mon Dec 15 14:19:00 CET 2003</date>
    <body>David, dom4j behaved correctly, since you are requesting wrong element from the context of your XPath. You are retrieving &amp;lt;first&amp;gt; element in this line of the code: Then you create a copy of that node. At that point you only have &amp;lt;first&amp;gt; element, i.e. if you try this: You will get null. Your context at the point when you create the copy becomes &amp;lt;first&amp;gt; element, and it has no parent node (this is why you get nothing when you call elem.getParent()). If you do this, you'll also get 'Dave': I hope this helps you. Best regards Ben P.S. To check if your XPath expression is correct for what you require try using XPath Explorer by Purple Technologies: http://www.purpletech.com/xpe/ On Fri, 2003-12-12 at 04:20, David Thielen wrote: -- benjamin kopic m: +44 (0)780 154 7643 t: +44 (0)20 7794 3090 e: benjamin.kopic@... w: http://www.panContext.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Major bug</header>
    <date>Wed Dec 10 04:46:00 CET 2003</date>
    <body>If I call Node.selectNodes("select * from demo where demoId =3D 6"), it = will return an iterator the returns true for hasNext(). But when you = call next() it throws an exception. Any idea how to test for this? thanks - dave ps - I know this is sql and not xpath - but I have a program where I can = get both sql and xml so I try the xml first and if it fails I try the = sql.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: [dom4j-dev] Major bug</header>
    <date>Thu Dec 11 04:15:00 CET 2003</date>
    <body>[Replying in dom4j-user only. Let's try to keep cross-posting to the minimum guys.] David Thielen wrote: &amp;gt; If I call Node.selectNodes("select * from demo where demoId = 6"), &amp;gt; it will return an iterator the returns true for hasNext(). But when &amp;gt; you call next() it throws an exception. David, This might be more of a Jaxen issue. But can you send us some source code to reproduce this? I can write this: List nodes = document.selectNodes This works fine and returns a list with one element (a NaN, as it evaluates "select * from", trying to multiply the text value of the "select" element with the text value of the "from" element). Alex</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: [dom4j-dev] Major bug</header>
    <date>Fri Dec 12 03:55:00 CET 2003</date>
    <body>Ok, I see the problem now. Here's the javadoc: selectNodes public List selectNodes(String xpathExpression)selectNodes evaluates an XPath expression and returns the result as a List of Node instances or String instances depending on the XPath expression. Parameters: xpathExpression - is the XPath expression to be evaluated Returns: the list of Node or String instances depending on the XPath expression But it is returning a Double. My code was dying on the class cast exception (sorry - I assumed it was an exception thrown from inside next()). But this does not match the javadocs. So is the documentation incorrect - or is it how it operates? thanks - dave Sent: Wednesday, December 10, 2003 9:14 PM Subject: [dom4j-user] Re: [dom4j-dev] Major bug http://ads.osdn.com/?ad_id=1278&amp;amp;alloc_id=3371&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: [dom4j-dev] Major bug</header>
    <date>Fri Dec 12 05:30:00 CET 2003</date>
    <body>David Thielen wrote: David, IMHO, the documentation is inaccurate, and the implementation is fine. The implementation is also more in line with XPath 2.0, where you have the concept of sequence, which can contain simple types (strings, doubles, etc) and complex types (e.g. elements). So calling selectList() does pretty much the same thing as calling selectObject, except it puts the result of a selectObject() in a list/sequence when it is not already a list/sequence. Alex</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: dom4j-user digest, Vol 1 #583 - 4 msgs</header>
    <date>Thu Dec 11 05:06:00 CET 2003</date>
    <body>Joe Hocker Verizon Call Center Services Mobile:=A0 +1 (773) 306-9137 Home Office:=A0 +1 (773) 384-3029 Work Email:=A0 joe.hocker@... Personal Email: joe.hocker@... -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of dom4j-user-request@... Sent: Wednesday, December 10, 2003 10:02 PM To: dom4j-user@... Subject: dom4j-user digest, Vol 1 #583 - 4 msgs Send dom4j-user mailing list submissions to dom4j-user@... To subscribe or unsubscribe via the World Wide Web, visit https://lists.sourceforge.net/lists/listinfo/dom4j-user or, via email, send a message with subject or body 'help' to dom4j-user-request@... You can reach the person managing the list at dom4j-user-admin@... When replying, please edit your Subject line so it is more specific than "Re: Contents of dom4j-user digest..." Today's Topics: 1. Major bug (David Thielen) 2. Writing some additions to dom4j (David Thielen) 3. RE: [dom4j-dev] Major bug (David Hooker) 4. RE: [dom4j-dev] Major bug (david ) --__--__-- Message: 1 To: &amp;lt;dom4j-dev@...&amp;gt;, Date: Tue, 9 Dec 2003 21:46:51 -0700 Subject: [dom4j-user] Major bug This is a multi-part message in MIME format. ------=3D_NextPart_000_004F_01C3BE9D.F41007A0 charset=3D"iso-8859-1" Content-Transfer-Encoding: quoted-printable If I call Node.selectNodes("select * from demo where demoId =3D3D 6"), = it =3D will return an iterator the returns true for hasNext(). But when you =3D call next() it throws an exception. Any idea how to test for this? thanks - dave ps - I know this is sql and not xpath - but I have a program where I can = =3D get both sql and xml so I try the xml first and if it fails I try the = =3D sql. ------=3D_NextPart_000_004F_01C3BE9D.F41007A0 charset=3D"iso-8859-1" Content-Transfer-Encoding: quoted-printable * =3D from demo=3D20 where demoId =3D3D 6"), it will return an iterator the returns true for = =3D hasNext().=3D20 xpath - =3D but I have=3D20 a program where I can get both sql and xml so I try the xml first and if = =3D it=3D20 ------=3D_NextPart_000_004F_01C3BE9D.F41007A0-- --__--__-- Message: 2 To: &amp;lt;dom4j-dev@...&amp;gt;, Date: Tue, 9 Dec 2003 21:46:49 -0700 Subject: [dom4j-user] Writing some additions to dom4j This is a multi-part message in MIME format. ------=3D_NextPart_000_004B_01C3BE9D.F328DBF0 charset=3D"iso-8859-1" Content-Transfer-Encoding: quoted-printable I really need to additions to dom4j (what the file encoding is and does = =3D a node exist). If I write these is there someone who knows dom4j well = =3D enough who can check them and bless them for a new build? thanks - dave ------=3D_NextPart_000_004B_01C3BE9D.F328DBF0 charset=3D"iso-8859-1" Content-Transfer-Encoding: quoted-printable =3D (what the file=3D20 encoding is and does a node exist). If I write these is there someone = =3D who knows=3D20 dom4j well enough who can check them and bless them for a new=3D20 ------=3D_NextPart_000_004B_01C3BE9D.F328DBF0-- --__--__-- Message: 3 Date: Wed, 10 Dec 2003 09:42:51 -0600 To: "David Thielen" &amp;lt;david@...&amp;gt;, Subject: [dom4j-user] RE: [dom4j-dev] Major bug This is a multi-part message in MIME format. ------_=3D_NextPart_001_01C3BF34.46FC0F1C charset=3D"us-ascii" Content-Transfer-Encoding: quoted-printable I'm confused.  I thought that selectNodes only accepts XPath. -----Original Message----- From: dom4j-dev-admin@... [mailto:dom4j-dev-admin@...] On Behalf Of David Thielen Sent: Tuesday, December 09, 2003 10:47 PM To: dom4j-dev@...; dom4j-user@... Subject: [dom4j-dev] Major bug =3D20 If I call Node.selectNodes("select * from demo where demoId =3D3D 6"), = it will return an iterator the returns true for hasNext(). But when you call next() it throws an exception. =3D20 Any idea how to test for this? =3D20 thanks - dave =3D20 ps - I know this is sql and not xpath - but I have a program where I can get both sql and xml so I try the xml first and if it fails I try the sql. ------_=3D_NextPart_001_01C3BF34.46FC0F1C charset=3D"us-ascii" Content-Transfer-Encoding: quoted-printable color=3D3D#0000ff =3D size=3D3D2&amp;gt;I'm=3D20 confused.&amp;amp;nbsp; I thought that selectNodes &amp;lt;STRONG&amp;gt;only&amp;lt;/STRONG&amp;gt; accepts = =3D align=3D3Dleft&amp;gt;&amp;lt;FONT=3D20 face=3D3DTahoma size=3D3D2&amp;gt;-----Original = Message-----&amp;lt;BR&amp;gt;&amp;lt;B&amp;gt;From:&amp;lt;/B&amp;gt;=3D20 dom4j-dev-admin@... [mailto:dom4j-dev-admin@...] &amp;lt;B&amp;gt;On Behalf Of =3D Thielen&amp;lt;BR&amp;gt;&amp;lt;B&amp;gt;Sent:&amp;lt;/B&amp;gt; Tuesday, December 09, 2003 10:47 =3D PM&amp;lt;BR&amp;gt;&amp;lt;B&amp;gt;To:&amp;lt;/B&amp;gt;=3D20 dom4j-dev@... dom4j-user@...&amp;gt; [dom4j-dev] = Major=3D20 Node.selectNodes("select * =3D from demo=3D20 where demoId =3D3D 6"), it will return an iterator the returns true = for =3D hasNext().=3D20 xpath =3D - but I=3D20 have a program where I can get both sql and xml so I try the xml first = =3D and if=3D20 ------_=3D_NextPart_001_01C3BF34.46FC0F1C-- --__--__-- Message: 4 Date: Wed, 10 Dec 2003 12:01:23 -0700 To: "David Thielen" &amp;lt;david@...&amp;gt;, Subject: [dom4j-user] RE: [dom4j-dev] Major bug I thought so to. But selectNodes() will return an iterator when given a select, the iterator will return true for hasNext(), but it throws an exception on the first call to next(). - dave Date:  Wed, 10 Dec 2003 09:42:51 -0600 can --__--__-- _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user End of dom4j-user Digest</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: [dom4j-dev] Major bug</header>
    <date>Wed Dec 10 15:43:00 CET 2003</date>
    <body>I'm confused.  I thought that selectNodes only accepts XPath. -----Original Message----- From: dom4j-dev-admin@... [mailto:dom4j-dev-admin@...] On Behalf Of David Thielen Sent: Tuesday, December 09, 2003 10:47 PM To: dom4j-dev@...; dom4j-user@... Subject: [dom4j-dev] Major bug =20 If I call Node.selectNodes("select * from demo where demoId =3D 6"), it will return an iterator the returns true for hasNext(). But when you call next() it throws an exception. =20 Any idea how to test for this? =20 thanks - dave =20 ps - I know this is sql and not xpath - but I have a program where I can get both sql and xml so I try the xml first and if it fails I try the sql.</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: [dom4j-dev] Major bug</header>
    <date>Wed Dec 10 19:01:00 CET 2003</date>
    <body>I thought so to. But selectNodes() will return an iterator when given a select, the iterator will return true for hasNext(), but it throws an exception on the first call to next(). - dave Date:  Wed, 10 Dec 2003 09:42:51 -0600</body>
  </mail>
  <mail>
    <header>[dom4j-user] Writing some additions to dom4j</header>
    <date>Wed Dec 10 04:46:00 CET 2003</date>
    <body>I really need to additions to dom4j (what the file encoding is and does = a node exist). If I write these is there someone who knows dom4j well = enough who can check them and bless them for a new build? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Create a document from a node</header>
    <date>Sat Dec 06 02:58:00 CET 2003</date>
    <body>How can I create a new Document from a Node in an existing Document (ie = the new Document has that Node as it's root and all sub-nodes are copied = over? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to unsubscribe from this mailing list ???</header>
    <date>Tue Dec 02 07:46:00 CET 2003</date>
    <body />
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to unsubscribe from this mailing list ???</header>
    <date>Tue Dec 02 08:04:00 CET 2003</date>
    <body>Go to: https://lists.sourceforge.net/lists/options/dom4j-user/othmane.nadjemi%40ifp.fr Suggest, you carefully read and save the welcome mail from any user group. NADJEMI Othmane wrote: http://sourceforge.net/donate/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] The entity name must immediately follow the '&amp;amp;' in the entity reference</header>
    <date>Mon Dec 01 13:18:00 CET 2003</date>
    <body>The best solution is to get the other program fixed, though the Tidy program does provide the ability to repair broken HTML/XML documents: http://tidy.sourceforge.net/ christian. On Monday, December 1, 2003, at 02:32  AM, Lee Peik Feng wrote: http://sourceforge.net/donate/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] The entity name must immediately follow the '&amp;amp;' in the entity reference</header>
    <date>Mon Dec 01 14:41:00 CET 2003</date>
    <body>Thanks for the reply from both Mattias and Christian. Thank you very much. Sent: Monday, December 01, 2003 9:18 PM Subject: Re: [dom4j-user] The entity name must immediately follow the '&amp;amp;' in the entity reference http://tidy.sourceforge.net/ http://sourceforge.net/donate/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://sourceforge.net/donate/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] "Best" method for returning a sub-Document???</header>
    <date>Mon Dec 01 11:35:00 CET 2003</date>
    <body>Dear All, First time posting on this list - please excuse any duplication - have looked through archive, cookbook, FAQ etc. I am currently putting a system together which reads a large(ish) XML document from a database containing daily results from another of my applications. =20 The data in each days document does not change too much - if it does I can detect it - so I decided to cache the dom4j Document (I'm using Tomcat). cached) against the "master" Document. Essentially, my question is how to best pre-filter the master Document for different users. For example - a reduced view of my Document could be... ------------------------------------------------------ ... ... ... ... etc ... ------------------------------------------------------ User A : might want Zones "Global::CB" &amp;amp; "Japan::CB" User B : might want the entire data set User C : might want just "NonJapan::CB" I could try to support this at the XSLT level but I'm wondering whether to do it at the dom4j level by returning a new "sub-Document" from the master. The trade off being the Document creation Vs. XSLT complexity. Is there a "best" way to do this sort of thing? Should I be dropping down to SAX/filters etc? Any wisdom on this very much appreciated. Best regards Chris</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] namespaces &amp;amp; XPath</header>
    <date>Wed Jan 28 18:29:00 CET 2004</date>
    <body>From a colleague of mine: =20 I played with this a bit. His XPath, /plm:PLMXML/plm:ManufacturingData/Item/@id, does not work but /plm:PLMXML/plm:ManufacturingData/cME:Item/@id does. From Michael Kay's book: If a name has no prefix, then its namespace URI is considered to be the default namespace URIin the case of an element name, or a null URI in the case of an attribute name or any other kind of name (such as XSLT variable names and template names). However, within an XPath expression, the default namespace URI is never used for unprefixed names, even if the name is an element name. (Kay, Michael, XSLT Programmer's Reference, 2nd Edition, Wrox Press, 2000, p 66) So, in the XML file proper, Item has a namespace URI of http://www.plmxml.org/Schemas/PLMXMLcMESchema assigned by the "xmlns=3D" on the document element. From the last sentence of the quoted paragraph, no namespace URI associated is in the XPath to item because it is unprefixed. Therefore, "" does not match " http://www.plmxml.org/Schemas/PLMXMLcMESchema " and Item is not found. -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Thielen Sent: Tuesday, January 27, 2004 11:30 PM To: dom4j-user@... Subject: [dom4j-user] namespaces &amp;amp; XPath =20 If I have the xml: =20 xmlns=3D" http://www.plmxml.org/Schemas/PLMXMLcMESchema " = author=3D"infodba" language=3D"en" = xmlns:cME=3D" http://www.plmxml.org/Schemas/PLMXMLcMESchema " xmlns:plm=3D" http://www.plmxml.org/Schemas/PLMXMLSchema " =20 =20 Why does "/plm:PLMXML/plm:ManufacturingData/Item/@id" not work? I understand it has something to do with namespaces - but what? And what is the solution? =20 Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] namespaces &amp;amp; XPath</header>
    <date>Wed Jan 28 05:30:00 CET 2004</date>
    <body>If I have the xml: xmlns=" http://www.plmxml.org/Schemas/PLMXMLcMESchema " author="infodba" language="en" xmlns:cME=" http://www.plmxml.org/Schemas/PLMXMLcMESchema " xmlns:plm=" http://www.plmxml.org/Schemas/PLMXMLSchema Why does "/plm:PLMXML/plm:ManufacturingData/Item/@id" not work? I understand it has something to do with namespaces - but what? And what is the solution? Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] xpath with dtd</header>
    <date>Tue Jan 27 05:54:00 CET 2004</date>
    <body>So, can anyone tell me why, if I parse a valid, well-formed xhtml document with the xhtml DTD and try to select any nodes within using the conventional xpath notation ("/html/body/p") it doesn't work? If I take the DTD out or if I use the long xpath form ("//*[name()='p']"), it works. I tried crimson and xerces; both give the same results. Something to do with the way dom4j parses xpaths? Or the SAXReader makes a different node hierarchy when there's a DTD? b</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] xpath not working</header>
    <date>Wed Jan 14 17:57:00 CET 2004</date>
    <body>do you have a way to externally test the xpath expression into your html doc?  I use Xselerator.  If you don't post the sample html and I can verify the path is returning a nodelist. code looks correct. Marty -----Original Message----- From: Ben Munat [mailto:bent@...] Sent: Wednesday, January 14, 2004 12:23 PM To: dom4j-user@... Subject: [dom4j-user] xpath not working The following gives me no output: Document document = reader.read( " file:///c:/testindex.html testindex.html is a valid html file that exists at the location specified. I can parse it and do document.selectSingleNode("/"); and when I print that, I get the whole file. But any other xpath expressions return nothing. Anyone have any idea what I'm doing wrong? b ------------------------------------------------------- This SF.net email is sponsored by: Perforce Software. Perforce is the Fast Software Configuration Management System offering advanced branching capabilities and atomic changes on 50+ platforms. Free Eval! http://www.perforce.com/perforce/loadprog.html _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user NOTICE: This E-mail may contain confidential information. If you are not the addressee or the intended recipient please do not read this E-mail and please immediately delete this e-mail message and any attachments from your workstation or network mail system. If you are the addressee or the intended recipient and you save or print a copy of this E-mail, please place it in an appropriate file, depending on whether confidential information is contained in the message.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath not working</header>
    <date>Thu Jan 15 06:56:00 CET 2004</date>
    <body>McDonough, Michael wrote: &amp;gt; While a valid html file, do you know whether it is a well-formed XML &amp;gt; document? Bradley, Martin wrote: Thanks for getting back to me... good idea. I used a prog called XmEdil which has an xpath tester (and tests the doc for validty and well-formednes when I open it). And, it seems I am doing something wrong with the xpath: when I select "/" I get the whole doc still, but when I put in any other xpath (//head, //p, etc.) I get no results. Now, when I select "/", the xpath tester lists its result as being of type "document"... does this mean that I have to "get into" the document before my xpaths will work? I don't remember any such thing from my xpath/xsl class. And actually, I already tried running the dom4j xpath methods after selecting the root node of the document: That doesn't work either. :-( Anyway, here's the html... hope you guys have more ideas. Thanks, Ben PS: Just noticed that the xpath builder window has a tab called "nodes" which shows a list of the elements and attributes in my doc (p, div, a, class, etc). So, it's even figuring out that there are sub nodes within this "document" element... but I can't select them with xpaths!? ------------------------------------------------- Using this as test doc: " http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd test page SITE LINKS: Test page! Lobore et dolore nagna aliquam erat volupat. At enim ad minimin veniami quis nostrud exercitation lorem ipsum dolor sit amet, consectetur adips cing elit, diam nonnumy eiusmod tempor incidunt ut ullamcorper suscripit laboris nisi ut alquip exea commodo consequat, consectetur adips cing elit.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] xpath not working</header>
    <date>Thu Jan 15 13:24:00 CET 2004</date>
    <body>Ben, A couple of things to get started: 1. This document isn't well formed xml. Try to check the well formedness in your editor and you'll get a message about not being able to define a default namespace in the DTD. You need &amp;lt;html xmlns=" http://www.w3.org/1999/xhmtl "&amp;gt; to replace your html element to define a default namespace for the rest of the document (and/or check out this link http://www.biglist.com/lists/xsl-list/archives/200104/msg00568.html Jeni describes other ways to define the namespace using the DTD - I don't do this much so I would just confuse the issue more) 2. the reason you aren't getting anything back is due to the lack of a namespace or default namespace 3. After doing (1) use your xpath tool and set a namespace with a prefix (or set a default if you can)  I used xmlns:xhtml="http:www.w3.org/1999/xhtml" Then to your original example do //xhtml:a[@href] and you'll get a node list of the elements. I'm not sure how to do this in dom4j (I'm just learning the api's myself) but you should be able to set a namespace and prefix. If this doesn't fix your problem I hope it sheds some light on what's actually happening. I've got a busy day today, but I'll try to look at this later if I get a chance. Hope this helps! Marty -----Original Message----- From: Ben Munat [mailto:bent@...] Sent: Thursday, January 15, 2004 1:57 AM To: dom4j-user@... Subject: Re: [dom4j-user] xpath not working McDonough, Michael wrote: &amp;gt; While a valid html file, do you know whether it is a well-formed XML &amp;gt; document? Bradley, Martin wrote: html Thanks for getting back to me... good idea. I used a prog called XmEdil which has an xpath tester (and tests the doc for validty and well-formednes when I open it). And, it seems I am doing something wrong with the xpath: when I select "/" I get the whole doc still, but when I put in any other xpath (//head, //p, etc.) I get no results. Now, when I select "/", the xpath tester lists its result as being of type "document"... does this mean that I have to "get into" the document before my xpaths will work? I don't remember any such thing from my xpath/xsl class. And actually, I already tried running the dom4j xpath methods after selecting the root node of the document: That doesn't work either. :-( Anyway, here's the html... hope you guys have more ideas. Thanks, Ben PS: Just noticed that the xpath builder window has a tab called "nodes" which shows a list of the elements and attributes in my doc (p, div, a, class, etc). So, it's even figuring out that there are sub nodes within this "document" element... but I can't select them with xpaths!? ------------------------------------------------- Using this as test doc: " http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd test page SITE LINKS: Test page! Lobore et dolore nagna aliquam erat volupat. At enim ad minimin veniami quis nostrud exercitation lorem ipsum dolor sit amet, consectetur adips cing elit, diam nonnumy eiusmod tempor incidunt ut ullamcorper suscripit laboris nisi ut alquip exea commodo consequat, consectetur adips cing elit. ------------------------------------------------------- This SF.net email is sponsored by: Perforce Software. Perforce is the Fast Software Configuration Management System offering advanced branching capabilities and atomic changes on 50+ platforms. Free Eval! http://www.perforce.com/perforce/loadprog.html _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user NOTICE: This E-mail may contain confidential information. If you are not the addressee or the intended recipient please do not read this E-mail and please immediately delete this e-mail message and any attachments from your workstation or network mail system. If you are the addressee or the intended recipient and you save or print a copy of this E-mail, please place it in an appropriate file, depending on whether confidential information is contained in the message.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath not working</header>
    <date>Thu Jan 15 17:07:00 CET 2004</date>
    <body>Thanks for getting back to me Martin. That's very strange that what I pasted into my email doesn't have the namespace declaration on it. The actual file definitely does, because XmEdil flags the doc as not well-formed when I open it without the namespace declaration. So, not sure how I got that (actually, I think it was the console output of my little dom4j test, which is weird: it outputs the whole doc when I select "/" but strips the namespace off?), but all of my test xpaths in XmEdil have been with the namespace declaration. I hadn't tried putting the xhtml: prefix on my xpath selections, but that still didn't work. I'm as stumped as ever, though I guess I should find an xpath mailing list... it would appear that it's not just dom4j's xpath implementation that is the problem. I can't get any xpaths (beyond /) to work in this other program either. Sigh. b Bradley, Martin wrote: http://www.w3.org/1999/xhmtl "&amp;gt; to replace your html element to http://www.biglist.com/lists/xsl-list/archives/200104/msg00568.html Jeni http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.perforce.com/perforce/loadprog.html https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.perforce.com/perforce/loadprog.html https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] xpath not working</header>
    <date>Tue Jan 20 22:37:00 CET 2004</date>
    <body>Ben, You don't *need* to specify a namespace, and it works if you don't. Not = sure if that is one of your requirements, though. I don't use namespaces in = my xml documents when parsing with dom4j, and all works fine. Can't speak = to whether dom4j *should* handle namespaces since I don't use them. I took = out your DOCTYPE line and the xpaths work fine for me, but again, won't help = you if you need to specify some namespace. HTH Steve BTW, here's the class I wrote to do your test. Thought it might help, = but it's pretty simple. =09 System.out.println("Root name is: " + System.out.println("xpath:" + xpathExpression + =09 System.out.println("Can not form URL from this file: System.out.println("Error attempting to parse: " + =09 -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Ben Munat Sent: Thursday, January 15, 2004 12:10 PM To: dom4j-user@... Subject: Re: [dom4j-user] xpath not working Thanks for getting back to me Martin. That's very strange that what I=20 pasted into my email doesn't have the namespace declaration on it. The=20 actual file definitely does, because XmEdil flags the doc as not=20 well-formed when I open it without the namespace declaration. So, not sure how I got that (actually, I think it was the console output = of my little dom4j test, which is weird: it outputs the whole doc when I = select "/" but strips the namespace off?), but all of my test xpaths in=20 XmEdil have been with the namespace declaration. I hadn't tried putting=20 the xhtml: prefix on my xpath selections, but that still didn't work. I'm as stumped as ever, though I guess I should find an xpath mailing=20 list... it would appear that it's not just dom4j's xpath implementation=20 that is the problem. I can't get any xpaths (beyond /) to work in this=20 other program either. Sigh. b Bradley, Martin wrote: formedness a http://www.w3.org/1999/xhmtl "&amp;gt; to replace your html element = to http://www.biglist.com/lists/xsl-list/archives/200104/msg00568.html = Jeni do prefix node a XML XmEdil=20 wrong I=20 document "nodes"=20 a,=20 within=20 http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.perforce.com/perforce/loadprog.html https://lists.sourceforge.net/lists/listinfo/dom4j-user not http://www.perforce.com/perforce/loadprog.html https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------- The SF.Net email is sponsored by EclipseCon 2004 Premiere Conference on Open Tools Development and Integration See the breadth of Eclipse activity. February 3-5 in Anaheim, CA. http://www.eclipsecon.org/osdn _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath not working</header>
    <date>Wed Jan 21 23:21:00 CET 2004</date>
    <body>Thanks for getting back to me Stephen. Since my last post I actually got some xpaths working, but only by using a more explicit form like "//*[name()='body']". And actually, I tried the simple program you sent and I get the same results: no xpaths work unless I use the explicit name test. Maybe I'm just remembering things funny, but it seemed like I could just use an xpath like "//body" when I was doing xslt's. When you run this program, are you able to get any results for xpaths in the form "//foo", where foo is down a couple levels from root? thanks again, Ben PS: Oh, I tried your code reading in an html file... both with and without the DTD... and for now, I'm not using different namespaces so the standard xhtml namespace is fine... Stephen C. Upton wrote: http://www.w3.org/1999/xhmtl "&amp;gt; to replace your html element to http://www.biglist.com/lists/xsl-list/archives/200104/msg00568.html Jeni http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.perforce.com/perforce/loadprog.html https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.perforce.com/perforce/loadprog.html https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.eclipsecon.org/osdn https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.eclipsecon.org/osdn https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] utf-8, dom4j, and InputStreamReader</header>
    <date>Wed Jan 21 04:36:00 CET 2004</date>
    <body>Well, I'm not sure exactly why - but you can't use and InputStreamReader to pass in a file encoded with utf-8 and have it work - because the InputStreamReader has an encoding parameter and that apparently changes how the xml is processed. If you set the InputStreamReader encoding to utf-8, then it works. But that is not a good solution as you might get an xml file with another encoding. - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] utf-8 does not appear to be working.</header>
    <date>Tue Jan 20 04:54:00 CET 2004</date>
    <body>I have: =20 =20 And when I do a Node.valueOf() I get back Reiner's Gesch=C3=A4ftschance = instead of Reiner's Gesch=E4ftschance =20 Any idea what might be going on? =20 Thanks - dave =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath on document with xmlns</header>
    <date>Mon Jan 19 22:03:00 CET 2004</date>
    <body>I'm having troubles using XPath queries on documents using a namespace declaration. I have a simple document and can't return any result from a XPath query that should return something (I tested it using another tool). The query : /message/lastName The document : xmlns=" http://www.smartcomps.org/twister/types/message/ I have the same problem with other documents and queries. Any help would be greatly appreciated. Thanks. _________________________________________________________________ Do You Yahoo!? -- Une adresse @yahoo.fr gratuite et en français ! Yahoo! Mail : http://fr.mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to set encoding when parsing a xml file?</header>
    <date>Thu Jan 15 07:11:00 CET 2004</date>
    <body>It seems like that the SAXReader.read use the default "UTF-8", but my xml header was &amp;lt;?xml version="1.0" encoding="ISO-8859-1"?&amp;gt;.</body>
  </mail>
  <mail>
    <header>[dom4j-user] xpath not working</header>
    <date>Wed Jan 14 17:20:00 CET 2004</date>
    <body>The following gives me no output: Document document = reader.read( " file:///c:/testindex.html testindex.html is a valid html file that exists at the location specified. I can parse it and do document.selectSingleNode("/"); and when I print that, I get the whole file. But any other xpath expressions return nothing. Anyone have any idea what I'm doing wrong? b</body>
  </mail>
  <mail>
    <header>[dom4j-user] Leave Entity declarations&amp;amp;references in the file when saving / add node between two COMMENT-Nodes</header>
    <date>Tue Jan 13 19:27:00 CET 2004</date>
    <body>Hi! I'm quite new to dom4j and encounter two problems: 1. I want to parse a xml-file, make some changes and finanally write it back to disk. By default dom4j removes all entity declarations as well as the entity references. My xml-file looks like that: ... ... ... &amp;amp;listmanager Prevent dom4j from removing the declarations seems quite simple by just adding this to the source code: But the entity references are still expanded. First I though it might be a good solution to disable the feature "external-general-entities". But now the entity reference is removed completely when I write back the file :-( As a consequence my solution now looks like that but it seems quite fussily: DocumentBuilderFactory dbf = // create SAX reader in order to prevent removing entity-declarations // get DOCType with entity-declarations // create dom4j document // insert DocumentType with entity-declarations and finally the code for writing back the tree: Perhaps there is a nicer solution?!? 2. I want to add an node between two COMMENT-nodes but when I use the method myelement.elements() the returned List only contains the "important" (meaning the non-comment) nodes. Therefore I cant't use the List to insert the node between two comments. (or even remove any comment). Is there an solution for this problem? Thanks!! Ralf Grewe</body>
  </mail>
  <mail>
    <header>Fw: [dom4j-user] XPath with position()</header>
    <date>Tue Jan 13 14:36:00 CET 2004</date>
    <body>Hy Michael, but all items/nodes are part of the document. I can ask for the parent on each item, and I get it. All items gave me the same object, because all are childs of the same node. So, why i get the wrong position? And why position() says 0 and not 1? Is there a workaround for this problem? Sven Sent: Tuesday, January 13, 2004 2:53 PM Subject: RE: [dom4j-user] XPath with position() is Now there http://www.perforce.com/perforce/loadprog.html http://www.perforce.com/perforce/loadprog.html https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath with position()</header>
    <date>Tue Jan 13 14:58:00 CET 2004</date>
    <body>Sven, The position() function is relative to the context nodeset, not the element's position in the document. Thus, when you execute the following: node.valueOf("position()") You're getting the position of the context node within the context, not its position within the parent. However, the position() function shouldn't return 0 according to the spec, so there's likely some problem with Jaxen, or the Node.valueOf() function. As a way of testing, see if Node.numberValueOf() returns non-zero. The workaround you could use is the Branch.indexOf(Node) method, which gets the node index of the passed node: christian. On Jan 13, 2004, at 9:34 AM, Sven Rottenbiller wrote: http://www.perforce.com/perforce/loadprog.html http://www.perforce.com/perforce/loadprog.html https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.perforce.com/perforce/loadprog.html https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath with position()</header>
    <date>Tue Jan 13 11:13:00 CET 2004</date>
    <body>Hallo list, i have a xpath-problem with position(). I have a document like this: I get a list of nodes from the document with selectNodes("/root/item"). Now I iterate over the list and do some more xpath on every single node, and here is the problem. The following xpath says always 0 for the position. Why? node.valueOf("position()") returns 0 But when i get the unique path from the node with node.getUniquePath() there is the right position displayed. e.g.: node.getUniquePath() returns /root/item[1] What I have to change? Sven</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to handle CDATA in attribute text?</header>
    <date>Mon Jan 12 23:56:00 CET 2004</date>
    <body>hi, how can I add attribute text which has reserved character? just using Element.addAttribute(String name, String text), the reserved char (e.g., a quote) is not escaped, or put in a CDATA block, when output via createPrettyPrint(). Ideally, it would be great if dom4j could figure this out on the fly and escape it or put CDATA bracket around it for me. I don't see an obvious way to add CDATA as attribute text, like so I guess I need to parse the string and escapes the disallowed chars? this would be a common activity, yes?  ... know of any code samples for such escaping? thanks, larry</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Create an Document from fragments of another</header>
    <date>Fri Jan 09 15:47:00 CET 2004</date>
    <body>Naveen &amp;amp; Michael, thanks. The a1.CreateCopy did the trick... If I try to add the element to the root of another document then I get = and IllegalAddException.  Saying the the original node already has a = parent.    As usual, it all makes sense once it works! Thanks again, Marty=20 -----Original Message----- From: Naveen Murthy [mailto:nmurthy@...] Sent: Friday, January 09, 2004 10:11 AM To: Bradley, Martin Subject: RE: [dom4j-user] Create an Document from fragments of another Marty, ive been out of dom4j prgramming for a while.. Im sure ive done this before. But i vaguely remember the syntax ..TRY = this here is the steps: 1. get a reference to the a1 element 2. create a copy of a1 and add it to new DOM i think this should do the trick. thx, Naveen -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@... Behalf Of Bradley, Martin Sent: Friday, January 09, 2004 10:00 AM To: dom4j-user@... Subject: [dom4j-user] Create an Document from fragments of another Hi all, I seem to be stumped on this one.  I haven't been using the dom4j api = long and I'm having trouble pulling a node set our of one document and = then using it to create another.  for example I have the following xml: I want to pick up the first a1 and create a document as follows: What I get is: =09 Here's the code (removed try...catch for brevity) Document inDoc =3D reader.read(f);		=09 for (;suspects.hasNext();) Any ideas?  Am i missing something obvious?  Thanks for any help, Marty=20 =20 NOTICE: This E-mail may contain confidential information. If you are not = the addressee or the intended recipient please do not read this E-mail=20 and please immediately delete this e-mail message and any attachments=20 from your workstation or network mail system. If you are the addressee=20 or the intended recipient and you save or print a copy of this E-mail,=20 please place it in an appropriate file, depending on whether=20 confidential information is contained in the message.=20 =20 =20 =FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF= =FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=D3?+=12=17=F9=DE=B5=E9sS= X=AC=B2s'=B2S=DEu=BC=FF=3D=EA=DF=A2=B7=1EJ?=ED=C1=AA=DE=FC=F7=AB~S=DCz+-.= ..=E1Z=B2=D4=A8~=DC=1A=AD=E0=A8=9D=F8=A0=BA=B6=ADS?=CCjv=A0zg=A7=B5,=AC=B5= Zz=07=AC=A2~t=FA(tm)Z=B5=FA+s=CF=C5=AD=E7"=BD=A9=FF?=DBi=FF=FF=F0=C3=0F=E9= z=B7=E8=AD=C7=FFr?=BF=A5=EA=DF=A2=B7=1E=FEZ=1Avs=E8f=F8ms_=FF=FF=FF=FF=FF= =FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF= =FF=FF=FF=FF=FD=DA&amp;amp;=E2?=EE=B1=EA=E6j)bz	= b=B2=D7h&amp;gt;^=FF=BA=C7=AB=FEX=AC=B6=CF=EC=A2=EA=DCy=FA+=81=EF=E7z=D8m=B6&amp;gt;=FF= =FF=F9b=B2=DB=FF=B2&amp;lt;=ABq=E7=E8=AE=07=FF=9D=EB=7F-+-=B3=F9b=B2=D8=A7~=8F=DD= =A2n#=FE=EB=1E</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Create an Document from fragments of another</header>
    <date>Fri Jan 09 16:05:00 CET 2004</date>
    <body>I'll give detach a shot too.  Seems to make sense if I don't need to get = back to the original parent.  Thanks -----Original Message----- From: McDonough, Michael [mailto:Michael.McDonough@...] Sent: Friday, January 09, 2004 11:02 AM To: Bradley, Martin; dom4j-user@... Subject: RE: [dom4j-user] Create an Document from fragments of another Yes...  There is also a detach() method that I imagine nulls a Nodes = reference to any "parent", which I usually call when copying nodes from = one tree to another.  Forgot to mention that! Glad you're making progress.=20 -----Original Message-----=20 From: Bradley, Martin [ mailto:Martin_Bradley@... Sent: Friday, January 09, 2004 10:48 AM=20 To: dom4j-user@... Subject: RE: [dom4j-user] Create an Document from fragments of another=20 Naveen &amp;amp; Michael, thanks.=20 The a1.CreateCopy did the trick...=20 If I try to add the element to the root of another document then I get = and IllegalAddException.  Saying the the original node already has a = parent.    As usual, it all makes sense once it works! Thanks again,=20 Marty=20 -----Original Message-----=20 From: Naveen Murthy [ mailto:nmurthy@... Sent: Friday, January 09, 2004 10:11 AM=20 To: Bradley, Martin=20 Subject: RE: [dom4j-user] Create an Document from fragments of another=20 Marty,=20 ive been out of dom4j prgramming for a while..=20 Im sure ive done this before. But i vaguely remember the syntax ..TRY = this=20 here is the steps:=20 1. get a reference to the a1 element=20 Element a1 =3D origDOM.element("a1");=20 2. create a copy of a1 and add it to new DOM=20 newDOM.getRoot().addElement(a1.createCopy() ) ;=20 i think this should do the trick.=20 thx,=20 Naveen=20 -----Original Message-----=20 From: dom4j-user-admin@... [ mailto:dom4j-user-admin@... Behalf Of Bradley,=20 Martin=20 Sent: Friday, January 09, 2004 10:00 AM=20 To: dom4j-user@... Subject: [dom4j-user] Create an Document from fragments of another=20 Hi all,=20 I seem to be stumped on this one.  I haven't been using the dom4j api = long and I'm having trouble pulling a node set our of one document and = then using it to create another.  for example I have the following xml: I want to pick up the first a1 and create a document as follows:=20 What I get is:=20 =20 Here's the code (removed try...catch for brevity)=20 SAXReader reader =3D new SAXReader();=20 Document inDoc =3D reader.read(f);                   =20 List selectedList =3D inDoc.selectNodes("aaa/a1");=20 Iterator suspects =3D selectedList.iterator();=20 for (;suspects.hasNext();)=20 Branch treeFragment =3D (Branch)suspects.next();=20 Document document =3D DocumentHelper.createDocument();=20 Element root =3D DocumentHelper.createElement("suspect");=20 document.setRootElement(root);=20 root.appendContent(treeFragment);=20 System.out.println(document.asXML());=20 Any ideas?  Am i missing something obvious?  Thanks for any help,=20 Marty=20 =20 NOTICE: This E-mail may contain confidential information. If you are not = the addressee or the intended recipient please do not read this E-mail=20 and please immediately delete this e-mail message and any attachments=20 from your workstation or network mail system. If you are the addressee=20 or the intended recipient and you save or print a copy of this E-mail,=20 please place it in an appropriate file, depending on whether=20 confidential information is contained in the message.=20 =20 =20 =FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF= =FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=D3?+=12=17=F9=DE=B5=E9sS= X=AC=B2s'=B2S=DEu=BC=FF=3D=EA=DF=A2=B7=1EJ?=ED=C1=AA=DE=FC=F7=AB~S=DCz+-.= ..=E1Z=B2=D4=A8~=DC=1A=AD=E0=A8=9D=F8 =BA=B6=ADS?=CCjv = jwZ=B6?=A2q=C8Zz=07=AC=A2~t=FA(tm)Z=B5=FA+s=CF=C5=AD=E7"=BD=A9=FF?=DBi=FF= =FF=F0=C3=0F=E9z=B7=E8=AD=C7=FFr?=BF=A5=EA=DF=A2=B7=1E=FEZ=1Avs=E8f=F8ms_= =FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF= =FF=FF=FF=FF=FF=FF=FF=FF=FF=FD=DA&amp;amp;=E2?=EE=B1=EA=E6j)bz   = b=B2=D7h&amp;gt;^=FF=BA=C7=AB=FEX=AC=B6=CF=EC=A2=EA=DCy=FA+=81=EF=E7z=D8m=B6&amp;gt;=FF= =FF=F9b=B2=DB=FF=B2&amp;lt;=ABq=E7=E8=AE=07=FF=9D=EB=7F-+-=B3=F9b=B2=D8=A7~=8F=DD= =A2n#=FE=EB=1E -------------------------------------------------------=20 This SF.net email is sponsored by: Perforce Software.=20 Perforce is the Fast Software Configuration Management System offering=20 advanced branching capabilities and atomic changes on 50+ platforms.=20 Free Eval! http://www.perforce.com/perforce/loadprog.html=20 _______________________________________________=20 dom4j-user mailing list=20 dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Create an Document from fragments of another</header>
    <date>Fri Jan 09 15:00:00 CET 2004</date>
    <body>SGkgYWxsLA0KDQpJIHNlZW0gdG8gYmUgc3R1bXBlZCBvbiB0aGlzIG9uZS4gIEkgaGF2ZW4ndCBi ZWVuIHVzaW5nIHRoZSBkb200aiBhcGkgbG9uZyBhbmQgSSdtIGhhdmluZyB0cm91YmxlIHB1bGxp bmcgYSBub2RlIHNldCBvdXIgb2Ygb25lIGRvY3VtZW50IGFuZCB0aGVuIHVzaW5nIGl0IHRvIGNy ZWF0ZSBhbm90aGVyLiAgZm9yIGV4YW1wbGUgSSBoYXZlIHRoZSBmb2xsb3dpbmcgeG1sOg0KDQo8 YWFhPg0KCTxhMT4NCgkJPGJiYiAvPg0KCQk8Y2NjIC8+DQoJPC9hMT4NCgk8YTE+DQoJCTxiYmIg Lz4NCgkJPGNjYyAvPg0KCTwvYTE+DQo8L2FhYT4NCg0KSSB3YW50IHRvIHBpY2sgdXAgdGhlIGZp cnN0IGExIGFuZCBjcmVhdGUgYSBkb2N1bWVudCBhcyBmb2xsb3dzOg0KDQo8b25seW9uZT4NCgk8 YTE+DQoJCTxiYmIgLz4NCgkJPGNjYyAvPg0KCTwvYTE+DQo8L29ubHlvbmU+DQoNCldoYXQgSSBn ZXQgaXM6DQo8b25seW9uZT4NCgk8YmJiIC8+DQoJPGNjYyAvPg0KPC9vbmx5b25lPg0KCQ0KSGVy ZSdzIHRoZSBjb2RlIChyZW1vdmVkIHRyeS4uLmNhdGNoIGZvciBicmV2aXR5KQ0KDQogICAgU0FY UmVhZGVyIHJlYWRlciA9IG5ldyBTQVhSZWFkZXIoKTsNCiAgICBEb2N1bWVudCBpbkRvYyA9IHJl YWRlci5yZWFkKGYpOwkJCQ0KICAgIExpc3Qgc2VsZWN0ZWRMaXN0ID0gaW5Eb2Muc2VsZWN0Tm9k ZXMoImFhYS9hMSIpOw0KICAgIEl0ZXJhdG9yIHN1c3BlY3RzID0gc2VsZWN0ZWRMaXN0Lml0ZXJh dG9yKCk7DQoNCiAgICBmb3IgKDtzdXNwZWN0cy5oYXNOZXh0KCk7KQ0KICAgIHsNCiAgICAgIEJy YW5jaCB0cmVlRnJhZ21lbnQgPSAoQnJhbmNoKXN1c3BlY3RzLm5leHQoKTsNCg0KICAgICAgRG9j dW1lbnQgZG9jdW1lbnQgPSBEb2N1bWVudEhlbHBlci5jcmVhdGVEb2N1bWVudCgpOw0KICAgICAg RWxlbWVudCByb290ID0gRG9jdW1lbnRIZWxwZXIuY3JlYXRlRWxlbWVudCgic3VzcGVjdCIpOw0K ICAgICAgZG9jdW1lbnQuc2V0Um9vdEVsZW1lbnQocm9vdCk7DQoNCiAgICAgIHJvb3QuYXBwZW5k Q29udGVudCh0cmVlRnJhZ21lbnQpOw0KCVN5c3RlbS5vdXQucHJpbnRsbihkb2N1bWVudC5hc1hN TCgpKTsNCiAgICB9DQoNCkFueSBpZGVhcz8gIEFtIGkgbWlzc2luZyBzb21ldGhpbmcgb2J2aW91 cz8gIFRoYW5rcyBmb3IgYW55IGhlbHAsDQpNYXJ0eSANCiAgDQpOT1RJQ0U6IFRoaXMgRS1tYWls IG1heSBjb250YWluIGNvbmZpZGVudGlhbCBpbmZvcm1hdGlvbi4gSWYgeW91IGFyZSBub3QgDQp0 aGUgYWRkcmVzc2VlIG9yIHRoZSBpbnRlbmRlZCByZWNpcGllbnQgcGxlYXNlIGRvIG5vdCByZWFk IHRoaXMgRS1tYWlsIA0KYW5kIHBsZWFzZSBpbW1lZGlhdGVseSBkZWxldGUgdGhpcyBlLW1haWwg bWVzc2FnZSBhbmQgYW55IGF0dGFjaG1lbnRzIA0KZnJvbSB5b3VyIHdvcmtzdGF0aW9uIG9yIG5l dHdvcmsgbWFpbCBzeXN0ZW0uIElmIHlvdSBhcmUgdGhlIGFkZHJlc3NlZSANCm9yIHRoZSBpbnRl bmRlZCByZWNpcGllbnQgYW5kIHlvdSBzYXZlIG9yIHByaW50IGEgY29weSBvZiB0aGlzIEUtbWFp bCwgDQpwbGVhc2UgcGxhY2UgaXQgaW4gYW4gYXBwcm9wcmlhdGUgZmlsZSwgZGVwZW5kaW5nIG9u IHdoZXRoZXIgDQpjb25maWRlbnRpYWwgaW5mb3JtYXRpb24gaXMgY29udGFpbmVkIGluIHRoZSBt ZXNzYWdlLiANCiANCiANCg==</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Selecting sibling comment nodes using XPath</header>
    <date>Thu Jan 08 11:48:00 CET 2004</date>
    <body>Tm90IHN1cmUgd2hpY2ggb3RoZXIgWFBhdGggZXhwcmVzc2lvbnMgeW91IHVzZWQgYnV0IHRoZSBj b21tZW50IGlzIGEgY2hpbGQgb2YgUk9PVCBzbyAvUk9PVC9jb21tZW50KCkgc2hvdWxkIHdvcmsu ICBIb3BlIHRoYXQgaGVscHMuDQoNCk1hcnR5DQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0t DQpGcm9tOiBCYXJyeSBBbmRyZXdzIFttYWlsdG86c3dlcmRuYUBuYy5yci5jb21dDQpTZW50OiBX ZWRuZXNkYXksIEphbnVhcnkgMDcsIDIwMDQgMTE6MDIgUE0NClRvOiBkb200ai11c2VyQGxpc3Rz LnNvdXJjZWZvcmdlLm5ldA0KU3ViamVjdDogW2RvbTRqLXVzZXJdIFNlbGVjdGluZyBzaWJsaW5n IGNvbW1lbnQgbm9kZXMgdXNpbmcgWFBhdGgNCg0KDQpIaSBkb200aiB1c2VycywNCiAgICBJIGFt IGhhdmluZyBhIGJpdCBvZiB0cm91YmxlIHNlbGVjdGluZyBjb21tZW50IG5vZGVzIHRoYXQgYXJl IGF0dGFjaGVkIA0KdG8gdGhlIHJvb3QgZWxlbWVudCwgaS5lLiBzaWJsaW5ncyBvZiBvdGhlciBu b2Rlcy4gTXkgdHJlZSBsb29rcyBsaWtlIHRoaXM6DQo8Uk9PVD4NCiAgICA8QUFBLz4NCiAgICA8 IS0tIE15IENvbW1lbnQgbm9kZSAtLT4NCiAgICA8QkJCLz4NCjwvUk9PVD4NCg0KSSB3YW50IHRv IGdldCB0aGUgY29tbWVudCBub2RlIHRoYXQgaXMgYmV0d2VlbiBub2RlcyBBQUEgYW5kIEJCQi4g SSBoYXZlIHRyaWVkOg0KTGlzdCBsaXN0ID0gbV9Eb2Muc2VsZWN0Tm9kZXMoIi9ST09UL0FBQS9m b2xsb3dpbmctc2libGluZzo6KiIpOyB3aGljaCBqdXN0IA0Kc2VsZWN0cyB0aGUgQkJCIG5vZGVz IGFuZCBza2lwcyB0aGUgY29tbWVudCBub2RlLg0KYW5kIEkgYWxzbyB0cmllZDoNCkxpc3QgbGlz dCA9IG1fRG9jLnNlbGVjdE5vZGVzKCIvUk9PVC9BQUEvY29tbWVudCgpIik7IHdoaWNoIGRvZXNu J3Qgc2VsZWN0IA0KYW55dGhpbmcuDQoNCkkgaGF2ZSBhbHNvIGV4cGVyaW1lbnRlZCB3aXRoIG90 aGVyIFhQYXRoIGV4cHJlc3Npb24gd2hpY2ggdW5mb3J0dW5hdGVseSANCmFsc28gZG8gbm90IHdv cmsuIFRoZSBvbmx5IHdheSBJIGdldCBjb21tZW50KCkgZnVuY3Rpb24gdG8gd29yayBpcyBpZiB0 aGUgDQpjb21tZW50IG5vZGUgaXMgYSBjaGlsZCBvZiBBQUEgb3IgQkJCLg0KDQpJZiBhbnlvbmUg Y2FuIHRlbGwgbWUgaG93IHRoaXMgY2FuIGJlIGRvbmUsIEkgd2lsbCB0cnVseSBhcHByZWNpYXRl IGl0IQ0KDQoNCm1hbnkgdGhhbmtzLA0KDQoNCkJhcnJ5DQoNCg0KDQotLS0tLS0tLS0tLS0tLS0t LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpUaGlzIFNGLm5ldCBlbWFp bCBpcyBzcG9uc29yZWQgYnk6IFBlcmZvcmNlIFNvZnR3YXJlLg0KUGVyZm9yY2UgaXMgdGhlIEZh c3QgU29mdHdhcmUgQ29uZmlndXJhdGlvbiBNYW5hZ2VtZW50IFN5c3RlbSBvZmZlcmluZw0KYWR2 YW5jZWQgYnJhbmNoaW5nIGNhcGFiaWxpdGllcyBhbmQgYXRvbWljIGNoYW5nZXMgb24gNTArIHBs YXRmb3Jtcy4NCkZyZWUgRXZhbCEgaHR0cDovL3d3dy5wZXJmb3JjZS5jb20vcGVyZm9yY2UvbG9h ZHByb2cuaHRtbA0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f X18NCmRvbTRqLXVzZXIgbWFpbGluZyBsaXN0DQpkb200ai11c2VyQGxpc3RzLnNvdXJjZWZvcmdl Lm5ldA0KaHR0cHM6Ly9saXN0cy5zb3VyY2Vmb3JnZS5uZXQvbGlzdHMvbGlzdGluZm8vZG9tNGot dXNlciANCiAgDQpOT1RJQ0U6IFRoaXMgRS1tYWlsIG1heSBjb250YWluIGNvbmZpZGVudGlhbCBp bmZvcm1hdGlvbi4gSWYgeW91IGFyZSBub3QgDQp0aGUgYWRkcmVzc2VlIG9yIHRoZSBpbnRlbmRl ZCByZWNpcGllbnQgcGxlYXNlIGRvIG5vdCByZWFkIHRoaXMgRS1tYWlsIA0KYW5kIHBsZWFzZSBp bW1lZGlhdGVseSBkZWxldGUgdGhpcyBlLW1haWwgbWVzc2FnZSBhbmQgYW55IGF0dGFjaG1lbnRz IA0KZnJvbSB5b3VyIHdvcmtzdGF0aW9uIG9yIG5ldHdvcmsgbWFpbCBzeXN0ZW0uIElmIHlvdSBh cmUgdGhlIGFkZHJlc3NlZSANCm9yIHRoZSBpbnRlbmRlZCByZWNpcGllbnQgYW5kIHlvdSBzYXZl IG9yIHByaW50IGEgY29weSBvZiB0aGlzIEUtbWFpbCwgDQpwbGVhc2UgcGxhY2UgaXQgaW4gYW4g YXBwcm9wcmlhdGUgZmlsZSwgZGVwZW5kaW5nIG9uIHdoZXRoZXIgDQpjb25maWRlbnRpYWwgaW5m b3JtYXRpb24gaXMgY29udGFpbmVkIGluIHRoZSBtZXNzYWdlLiANCiANCiANCg==</body>
  </mail>
  <mail>
    <header>[dom4j-user] Selecting sibling comment nodes using XPath</header>
    <date>Thu Jan 08 04:01:00 CET 2004</date>
    <body>Hi dom4j users, I am having a bit of trouble selecting comment nodes that are attached to the root element, i.e. siblings of other nodes. My tree looks like this: I want to get the comment node that is between nodes AAA and BBB. I have tried: List list = m_Doc.selectNodes("/ROOT/AAA/following-sibling::*"); which just selects the BBB nodes and skips the comment node. and I also tried: List list = m_Doc.selectNodes("/ROOT/AAA/comment()"); which doesn't select anything. I have also experimented with other XPath expression which unfortunately also do not work. The only way I get comment() function to work is if the comment node is a child of AAA or BBB. If anyone can tell me how this can be done, I will truly appreciate it! many thanks, Barry</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with getting the value of an element with text and elements
 mixed</header>
    <date>Mon Mar 01 07:01:00 CET 2004</date>
    <body>Hi, Below is the sample of an xml file I am dealing with: As can be seen the &amp;lt;title&amp;gt; element has a mixture of text and elements as it's value. I am trying to get the value of the title element as: "Molecular and genetic analysis of the Polycomb group gene &amp;lt;italic&amp;gt;Hex combs extra/Ring&amp;lt;/italic&amp;gt; in &amp;lt;italic&amp;gt;Drosophila&amp;lt;/italic&amp;gt;" But I am not able to: titleElement.getText() returns: Molecular and genetic analysis of the Polycomb group gene  in and  the  titleElement.elements() method returns only two elements of Could someone please tell me how I can get the whole text within the title-tag as it's value? Thanks, Gurdev</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPATH Comparison &amp;amp; wildcards</header>
    <date>Thu Feb 19 23:45:00 CET 2004</date>
    <body>I am attempting to iterate through an XML document and at each element, I want to compare my current position with an XPATH statement that may or may not match my current location. If it does not match, then I will delete the element, if it does, I will leave it untouched. Does dom4j provide functionality for this? The catch is that I will be comparing my current position with XPATH statements that have wildcards in them. Is this supported? So here is an example: The actual data is more complex than this, but basically even though they are in different places, the address element is the same everywhere it occurs, so I have XPATH statements defining this like: /data/person/address and /data/*/*/address Since I have an XPATH statement that will match both address elements (can I compare this in dom4j using wildcards?), I will keep the address elements, but delete the &amp;lt;location-name&amp;gt; element since it is not in my list of XPATH statements. Hopefully this makes sense. Any help would be appreciated. Ray Grieselhuber</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XPATH Comparison &amp;amp; wildcards</header>
    <date>Fri Feb 20 09:01:00 CET 2004</date>
    <body>HI Ray, You can use a visitor to iterate through the document and hen you visit a node you can apply the Xpath.matches(currentNode). You may have to do the remove as a separate path - I am not sure of the way that a visitor will behave is nodes are pruned from the list Miike SKells -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Ray Grieselhuber Sent: Thursday 19 February 2004 23:40 To: dom4j-user@... Subject: [dom4j-user] XPATH Comparison &amp;amp; wildcards I am attempting to iterate through an XML document and at each element, I want to compare my current position with an XPATH statement that may or may not match my current location. If it does not match, then I will delete the element, if it does, I will leave it untouched. Does dom4j provide functionality for this? The catch is that I will be comparing my current position with XPATH statements that have wildcards in them. Is this supported? So here is an example: The actual data is more complex than this, but basically even though they are in different places, the address element is the same everywhere it occurs, so I have XPATH statements defining this like: /data/person/address and /data/*/*/address Since I have an XPATH statement that will match both address elements (can I compare this in dom4j using wildcards?), I will keep the address elements, but delete the &amp;lt;location-name&amp;gt; element since it is not in my list of XPATH statements. Hopefully this makes sense. Any help would be appreciated. Ray Grieselhuber ------------------------------------------------------- SF.Net is sponsored by: Speed Start Your Linux Apps Now. Build and deploy apps &amp;amp; Web services for Linux with a free DVD software kit from IBM. Click Now! http://ads.osdn.com/?ad_id=1356&amp;amp;alloc_id=3438&amp;amp;op=click _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] getting line numbers from Element</header>
    <date>Thu Feb 19 17:09:00 CET 2004</date>
    <body>I am parsing an xml file with a SAXReader, and when I encounter data errors that I cannot define in an xsd, I want to tell people what line number the error was on.  Is there a way to pick up the line number using dom4j?  I am currently using a mixture of Node's and Element's to grab the data.  If not, any recommendations on implementation? Thanks, Reid</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] java.util.ConcurrentModificationException</header>
    <date>Wed Feb 18 00:18:00 CET 2004</date>
    <body>I modified the code to do this: But I still get the same error. Any ideas? Thanks, Ray Mike Skells wrote: http://ads.osdn.com/?ad_id=1356&amp;amp;alloc_id=3438&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user http://ads.osdn.com/?ad_id=1356&amp;amp;alloc_id=3438&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] java.util.ConcurrentModificationException</header>
    <date>Wed Feb 18 13:24:00 CET 2004</date>
    <body>Instead of using an iterator, try an object array list and iterate over the object array. //do something or remove it Ray Grieselhuber wrote: http://ads.osdn.com/?ad_id=1356&amp;amp;alloc_id=3438&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user http://ads.osdn.com/?ad_id=1356&amp;amp;alloc_id=3438&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user http://ads.osdn.com/?ad_id=1356&amp;amp;alloc_id=3438&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] java.util.ConcurrentModificationException</header>
    <date>Thu Feb 19 09:26:00 CET 2004</date>
    <body>IMHO It it still better to use the iterator. This removed the need for the additional list and array creation. As I said before you need to romove the object using the iterator, so in your example Should be elementIterator.remove();  ///******* removed using the iterator BTW are you merely trying to remove all elements with duplicated names? Is so then you have find them all using an Xpath statement -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David D. Lucas Sent: Wednesday 18 February 2004 13:19 To: Ray Grieselhuber Cc: dom4j-user@... Subject: Re: [dom4j-user] java.util.ConcurrentModificationException Instead of using an iterator, try an object array list and iterate over the object array. //do something or remove it Ray Grieselhuber wrote: the java.util.AbstractList$Itr.checkForComodification(AbstractList.java:444) http://ads.osdn.com/?ad_id=1356&amp;amp;alloc_id=3438&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user http://ads.osdn.com/?ad_id=1356&amp;amp;alloc_id=3438&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user http://ads.osdn.com/?ad_id=1356&amp;amp;alloc_id=3438&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners. ------------------------------------------------------- SF.Net is sponsored by: Speed Start Your Linux Apps Now. Build and deploy apps &amp;amp; Web services for Linux with a free DVD software kit from IBM. Click Now! http://ads.osdn.com/?ad_id=1356&amp;amp;alloc_id=3438&amp;amp;op=click _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] java.util.ConcurrentModificationException</header>
    <date>Tue Feb 17 18:02:00 CET 2004</date>
    <body>Hello, I am trying to remove nodes on a large set of data: I am getting this error: java.util.ConcurrentModificationException at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:444) at java.util.AbstractList$Itr.next(AbstractList.java:417) at org.dom4j.tree.FilterIterator.findNext(FilterIterator.java:70) at org.dom4j.tree.FilterIterator.next(FilterIterator.java:45) at perfanalysis.SkinnyFiles.main(SkinnyFiles.java:55) Exception in thread "main" I am using dom4j 1.4. Thanks! Ray</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] java.util.ConcurrentModificationException</header>
    <date>Tue Feb 17 18:35:00 CET 2004</date>
    <body>Hi Ray, Use remove() on the iterator The message is correct. You are modifying the collection while the iterator is operating. CME is thrown if any modification is make to the collection other than through the iterator Mike Skells -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Ray Grieselhuber Sent: Tuesday 17 February 2004 17:58 To: dom4j-user@... Subject: [dom4j-user] java.util.ConcurrentModificationException Hello, I am trying to remove nodes on a large set of data: System.out.println(name + " is an extra I am getting this error: java.util.ConcurrentModificationException at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:444) at java.util.AbstractList$Itr.next(AbstractList.java:417) at org.dom4j.tree.FilterIterator.findNext(FilterIterator.java:70) at org.dom4j.tree.FilterIterator.next(FilterIterator.java:45) at perfanalysis.SkinnyFiles.main(SkinnyFiles.java:55) Exception in thread "main" I am using dom4j 1.4. Thanks! Ray ------------------------------------------------------- SF.Net is sponsored by: Speed Start Your Linux Apps Now. Build and deploy apps &amp;amp; Web services for Linux with a free DVD software kit from IBM. Click Now! http://ads.osdn.com/?ad_id=1356&amp;amp;alloc_id=3438&amp;amp;op=click _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Dom4j</header>
    <date>Tue Feb 17 13:57:00 CET 2004</date>
    <body>*********************************************************************** PLEASE VISIT US AT STAND E13B, AT 3GSM WORLD CONGRESS 2004, CANNES. ******************************************************************** SASKEN BUSINESS DISCLAIMER This message may contain confidential, proprietary or legally Privileged information. In case you are not the original intended Recipient of the message, you must not, directly or indirectly, use, Disclose, distribute, print, or copy any part of this message and you are requested to delete it and inform the sender. Any views expressed in this message are those of the individual sender unless otherwise stated. Nothing contained in this message shall be construed as an offer or acceptance of any offer by Sasken Communication Technologies Limited ("Sasken") unless sent with that express intent and with due authority of Sasken. Sasken has taken enough precautions to prevent the spread of viruses. However the company accepts no liability for any damage caused by any virus transmitted by this email. ***********************************************************************</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Sat Feb 14 12:28:00 CET 2004</date>
    <body>*********************************************************************** PLEASE VISIT US AT STAND E13B, AT 3GSM WORLD CONGRESS 2004, CANNES. ******************************************************************** SASKEN BUSINESS DISCLAIMER This message may contain confidential, proprietary or legally Privileged information. In case you are not the original intended Recipient of the message, you must not, directly or indirectly, use, Disclose, distribute, print, or copy any part of this message and you are requested to delete it and inform the sender. Any views expressed in this message are those of the individual sender unless otherwise stated. Nothing contained in this message shall be construed as an offer or acceptance of any offer by Sasken Communication Technologies Limited ("Sasken") unless sent with that express intent and with due authority of Sasken. Sasken has taken enough precautions to prevent the spread of viruses. However the company accepts no liability for any damage caused by any virus transmitted by this email. ***********************************************************************</body>
  </mail>
  <mail>
    <header>[dom4j-user] Reading japaneese Problem</header>
    <date>Wed Feb 11 13:29:00 CET 2004</date>
    <body>Hi All, I have to read a japaneese file using dom4j and display in menu.What i = have to do is in Middle tier my EJB read some tags from XML by using = some business logic and create an Element and pass to front end now we = need to display data in it on screen but till now we have not any = success.as we are quite new to dom4j so we are getting problem...so if = any one help it will be welcomed.. Initially what we are doing is simply tryb to read Japneese file and = tried to display content but still no success.....Can any body help in = this regard.. Thanks Sachin Here is code try org.dom4j.Document = System.out.println("--------------Testing = System.out.println("As JP "+new =</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Reading japaneese Problem</header>
    <date>Fri Feb 13 09:11:00 CET 2004</date>
    <body>First off I see you using Streams.  You should use Reader and Writer with Unicode types.  Avoid going InputStreams and use Readers to load the multibyte characters.  See if that helps. Dave Sachin wrote: -- +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to get, which nodes are used by ab XPath</header>
    <date>Tue Feb 10 12:49:00 CET 2004</date>
    <body>Hello! If I call an XPath like substring(Order/Person,2,3) I want to know which nodes in the document were visited by this XPath (Order/Person in this example). Is there a solution to get the nodes? It will be hart to parse all possible XPath values to get the clean path. -- Viele Grüße / best regards Marc Pellmann _______________________________ CeBIT 18.03.-24.03.2004 Wir freuen uns über Ihren Besuch auf dem inubit Stand in Halle 4 / G77 _______________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-255 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com Mail: mailto:marc.pellmann@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] re: Help declaring an abstract type on an element (xsi:type)</header>
    <date>Fri Feb 06 18:38:00 CET 2004</date>
    <body>Problem solved.  I found out it's as easy as adding an attribute.  I was just looking for something more complicated but as always Dom4J makes it so easy. _________________________________________________________________ Keep up with high-tech trends here at "Hook'd on Technology." http://special.msn.com/msnbc/hookedontech.armx</body>
  </mail>
  <mail>
    <header>[dom4j-user] Help declaring an abstract type on an element (xsi:type)</header>
    <date>Fri Feb 06 18:17:00 CET 2004</date>
    <body>Hello, I've been using dom4j for a while now and it's great.  Recently I've ran into a scenario that I can't figure out how to code with dom4j that I hope some kind person will help me out with.  I wish to build the following document: xmlns:ps=" http://www.mydomain.com/Schema " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation=" http://www.mydomain.com/Schema At this point in my code I have this entire document built up in exception of the Address element.  I need to declare my Address type as it is abstract.  I'm lost after: It is importent that my XML looks exactly like "&amp;lt;Address xsi:type="ps:USAddressFull"&amp;gt;."  Thanks for any help. _________________________________________________________________ Let the advanced features &amp;amp; services of MSN Internet Software maximize your online time. http://click.atdmt.com/AVE/go/onm00200363ave/direct/01/</body>
  </mail>
  <mail>
    <header>[dom4j-user] node.detach() -&amp;gt; NullPointerException</header>
    <date>Sun Feb 01 19:09:00 CET 2004</date>
    <body>Hi! When trying to remove all &amp;lt;script&amp;gt; nodes from a html DOM a NullPointerException is thrown: Node article = doc.selectSingleNode("/html/body/table[3]/tbody/tr[5]/td article.accept(new VisitorSupport() public void visit(Element node) Why? Regards, Timo</body>
  </mail>
  <mail>
    <header>[dom4j-user] [announce] dom4j 1.5 beta1 released</header>
    <date>Fri Mar 26 08:56:00 CET 2004</date>
    <body>Hi all, a first beta of the new dom4j has been released and can be downloaded from http://www.dom4j.org/index.html . This release contains several bugfixes and patches, like: - Fixed encoding bug in Document.asXML() and DocumentHelper.parseText(). - Fixed bug in SAXReader that caused problems resolving relative URIs when parsing java.io.File Objects (reported by Kohsuke Kawaguchi). - The iterators returned by the Element.elementIterator(...) methods now support remove(). - DOMWriter writes now DOM Level 2 attributes and elements (reported by Geert Dendoncker and Joury Gokel). - Use latest implementation of the Aelfred parser. - Fixed some problems with internal/external DTD declarations (reported by Bryan Thompson). - Upgraded to Jaxen 1.1 beta 2. - Ignore attribute order when comparing Elements in NodeComparator. - Fixed bug in XMLWriter where namespace declarations were duplicated. - Fixed bug in parsing a Processing Instruction (reported by Vladimir Kralik). - Added support for Stylesheet modes (reported by Mark Diggory). - Don't escape " and ' characters in attribute values if it's not necessary (contributed by Christian Niles). - Fixed some DOMNodeHelper issues (reported by Henner Kollmann). - Fixed some datatype issues (reported by Thomas Draier). - Fixed an bug where the EntityResolver was not set on the XMLReader. - Fixed multithreaded access on DefaultElement. - Fixed problem parsing XML Files (reported by Geoffrey Vlassaks). - Added xml:space attribute support based on XML Specification 1.0. - Maven build of dom4j is now nearly complete. Maven is now used for the website generation. - Fixed some bugs in BackedList (contributed by Alessandro Vernet). regards, Maarten</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] parsing and analysing schemas</header>
    <date>Mon Mar 22 15:45:00 CET 2004</date>
    <body>What I want to do seems straight forward, which is why I wasnt too happy about posting this, but for some reason, just couldnt figure it out! Maybe too late at night... All I want to do is load a schema, and then access the elements, types etc. Tried a few things with the org.dom4j.datatype package, but couldnt figure out how to access the object model... Thanks, Amit http://click.atdmt.com/AVE/go/onm00200362ave/direct/01/ http://ads.osdn.com/?ad_id=1470&amp;amp;alloc_id=3638&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________________ Check out MSN PC Safety &amp;amp; Security to help ensure your PC is protected and safe. http://specials.msn.com/msn/security.asp</body>
  </mail>
  <mail>
    <header>[dom4j-user] parsing and analysing schemas</header>
    <date>Mon Mar 22 10:01:00 CET 2004</date>
    <body>Hey folks, I have tried a lot, searched a lot, and I am not able to figure out how to do this. Would really appreciate it if you guys could help me on this. I need to load an XSD and go through its contents to create a different object model. Ran into a whole bunch of problems, so any help on this would be really appreciated! Thanks in advance! Amit _________________________________________________________________ Free up your inbox with MSN Hotmail Extra Storage. Multiple plans available. http://click.atdmt.com/AVE/go/onm00200362ave/direct/01/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] parsing and analysing schemas</header>
    <date>Mon Mar 22 10:11:00 CET 2004</date>
    <body>Hi Amit, could you be more specific about what you try to do and what your problems are. regards, Maarten amit shetty wrote: http://click.atdmt.com/AVE/go/onm00200362ave/direct/01/ http://ads.osdn.com/?ad_id=1470&amp;amp;alloc_id=3638&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Cannot find dom4j classes (newbie)</header>
    <date>Fri Mar 19 04:23:00 CET 2004</date>
    <body>Hello, I'm using dom4j with my tomcat app server.  I'm not sure where to put the dom4j.jar file.  Is it under $JAVA_HOME/jre/lib or is it under $CATALINA_HOME/common/lib? I've tried putting on both locations but I still get an error message: ClassNotFoundException org/dom4j/io/SAXReader.  Looks like it cannot find dom4j.jar file. Thanks, --Kawthar Confidential information may be contained in this e-mail and any files transmitted with it ('Message'). If you are not the addressee indicated in this Message (or responsible for delivery of this Message to such person), you are hereby notified that any dissemination, distribution, printing or copying of this Message or any part thereof is strictly prohibited. In such a case, you should delete this Message immediately and advise the sender by return e-mail. Opinions, conclusions and other information in this Message that do not relate to the official business of Maxis shall be understood as neither given nor endorsed by Maxis.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Cannot find dom4j classes (newbie)</header>
    <date>Fri Mar 19 08:49:00 CET 2004</date>
    <body>You should place the dom4j.jar under $CATALINA_HOME/webapps/your_webapplication/WEB-INF/lib regards, Maarten Kawthar Bt M Sulaiman wrote: http://ads.osdn.com/?ad_id=1470&amp;amp;alloc_id=3638&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] [announce] RefactorIT OpenSource Community License for dom4j</header>
    <date>Mon Mar 15 13:55:00 CET 2004</date>
    <body>Hi, RefactorIT has added dom4j to it's list of featured open source projects. This means that all the power of RefactorIT is available for the dom4j sources. You can fine more information about RefatorIT at http://www.refactorit.com More information about  the OpenSource Community License can be found at http://www.refactorit.com/?id=1355 happy refactoring :-) Maarten</body>
  </mail>
  <mail>
    <header>[dom4j-user] Element not in list after adding</header>
    <date>Thu Mar 11 12:06:00 CET 2004</date>
    <body>Hi, In my application, I add an Element to an existing Element as a child. However, when I want to select the new element from its parent, it doesn't show up. How is that possible? The weird thing is, when I write out the element to an XML file, the new element is there. Code ('model' is an Element from a large XMI file): Element test = This code prints out "Nope, not here". I know this code works, because when I check for Elements that are in the 'model' Element in the first place, it finds them. TIA Bart PS Due to some stupid mailinglist mistake I made, this message might be sent twice. My apologies.</body>
  </mail>
  <mail>
    <header>[dom4j-user] some problems (namespace/encoding)</header>
    <date>Tue Mar 02 12:59:00 CET 2004</date>
    <body>Hello! I have some problems with dom4j. It seems, that this project has not much development at the moment. Could someone answer me, if there are patches planned for this? 1) In the moment, there is no possibility to get the original encoding (from the file) of the document. There should be a property in the document. 2) There is no direkt information, were a namespace is defined. If I have I could not get the namespace informations directly from the elements. (The XMLWriter needs the NamespaceStack for this - but I do not have access) 3) I could not change a namespace, to reflects this changes in the document. e.g. in the upper example change ns1 to ns3 and see this in the prefix of b. -- Viele Grüße / best regards Marc Pellmann _______________________________ CeBIT 18.03.-24.03.2004 Wir freuen uns über Ihren Besuch auf dem inubit Stand in Halle 4 / G77 _______________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-255 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com Mail: mailto:marc.pellmann@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to change a Namespace</header>
    <date>Tue Mar 02 12:43:00 CET 2004</date>
    <body>How could I change a Namespace? If I have 1. And want to change uri? 2. Want to change ns1? The Namespace Node itself could not be changed. If I detach the old and insert an new one, than always the elements b and c get own xmlns:ns1="uri" nodes from the old Namespace. But I only want to change the old one!? -- Viele Grüße / best regards Marc Pellmann _______________________________ CeBIT 18.03.-24.03.2004 Wir freuen uns über Ihren Besuch auf dem inubit Stand in Halle 4 / G77 _______________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-255 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com Mail: mailto:marc.pellmann@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] Serialize Document type</header>
    <date>Fri Apr 16 16:12:00 CEST 2004</date>
    <body>I must serialize a document type with internal declaration and the problem is that the object in the package dtd don't implement the interface SERIALIZABLE. It is possible to do this? I can't do a toString() on the object Thanks Raphael Marre des Spams ? - http://www.caramailmax.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Validation of dom4j document</header>
    <date>Thu Apr 15 16:39:00 CEST 2004</date>
    <body>Hi Maarten, The cookbook is an awesome source of information - I was able to find the answer to my question.  Thanks so much! -Wei -----Original Message----- From: Maarten Coene [mailto:MacBelgium@...] Sent: Thursday, April 15, 2004 12:31 AM To: Wei Hsu Cc: Dom4j-User (dom4j-user@...) Subject: Re: [dom4j-user] Validation of dom4j document Hi Wei, you could take a look at the 'cookbook', you can find it at http://www.dom4j.org/ Also, take a look at the SAXValidatorDemo example in the samples/validate/ directory. is this the information you are searching for ? regards, Maarten Wei Hsu wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Validation of dom4j document</header>
    <date>Wed Apr 14 16:15:00 CEST 2004</date>
    <body>Hi all, I was reading the FAQ when I came upon this: "If you are validating an existing dom4j document then we recommend you try MSV as it avoids turning the document into text and then parsing it again - MSV can work purely off of SAX events generated from the dom4j document." Does anyone else have any experience doing this or is there a tutorial/example?  Does that mean I can actually validate existing org.dom4j.Document types somehow? How can one go about doing that?  I was looking at the MSV user guide, but the examples make it seems like MSV can only validate at parse-time.  Does it just mean validation can only take place during the parsing of the xml before turning it into the dom4j document representation? Thanks in advance for your help! Wei</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Validation of dom4j document</header>
    <date>Thu Apr 15 07:31:00 CEST 2004</date>
    <body>Hi Wei, you could take a look at the 'cookbook', you can find it at http://www.dom4j.org/ Also, take a look at the SAXValidatorDemo example in the samples/validate/ directory. is this the information you are searching for ? regards, Maarten Wei Hsu wrote:</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Question on setting nodes to be read-only</header>
    <date>Wed Apr 14 15:44:00 CEST 2004</date>
    <body>Thanks a lot for the reply. Hmmm, so does that mean isReadOnly should never return "true" then?  Or are there any scenario (eg. Copying a document, parsing an xml doc a certain way, etc) under which the flag for read-only will be turned on? -Wei -----Original Message----- From: Maarten Coene [mailto:MacBelgium@...] Sent: Wednesday, April 14, 2004 8:20 AM To: Wei Hsu Cc: Dom4j-User (dom4j-user@...) Subject: Re: [dom4j-user] Question on setting nodes to be read-only Hi Wei, I don't think it's possible to set a node read-only at the moment  ... If you really need it, please create a RFE at http://sourceforge.net/tracker/?group_id=16035&amp;amp;atid=366035 . regards, Maarten Wei Hsu wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Question on setting nodes to be read-only</header>
    <date>Wed Apr 14 14:44:00 CEST 2004</date>
    <body>Hi all, I am new to Dom4J, so please bear with me.  Anyway, I'm looking through the javadocs when I saw the isReadOnly() method under the Node interface.  So exactly how do you set a node to be read only?  I can't seem to find any documentation on that.  I would appreciate any insights. Thanks! Wei</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Question on setting nodes to be read-only</header>
    <date>Wed Apr 14 15:20:00 CEST 2004</date>
    <body>Hi Wei, I don't think it's possible to set a node read-only at the moment  ... If you really need it, please create a RFE at http://sourceforge.net/tracker/?group_id=16035&amp;amp;atid=366035 . regards, Maarten Wei Hsu wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentException while resolving the DTD</header>
    <date>Thu Apr 08 23:09:00 CEST 2004</date>
    <body>Hiho, I'm fairly new to the use of dom4j (using 1.5 beta1) and get the following exception while parsing an xml File, read via ClassLoader.getSystemResourceAsStream( ... ) org.xml.sax.SAXParseException: Relative URI "Templatedatei.dtd"; kann nicht ohne eine Basis-URI aufgelöst werden. at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3339) at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3333) at org.apache.crimson.parser.Parser2.resolveURI(Parser2.java:2915) at org.apache.crimson.parser.Parser2.maybeExternalID(Parser2.java:2887) at org.apache.crimson.parser.Parser2.maybeDoctypeDecl(Parser2.java:1276) at org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:623) at org.apache.crimson.parser.Parser2.parse(Parser2.java:333) at org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:448) at org.dom4j.io.SAXReader.read(SAXReader.java:323) ... These are the first few line of my XML File: ... The XML file is valid. *snip - part of code* ... * snip - end of code * My entity resolver never gets used. Can anyone help me with this one? Or maybe just give me a pointer where this has been discussed before? Thanks very much. -- In diesem Sinne, Olav</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DocumentException while resolving the DTD</header>
    <date>Fri Apr 09 08:51:00 CEST 2004</date>
    <body>Hi Olav, this is a bug in the Crimson parser, you'll have to use another parser=20 (like Xerces, Aelfred, ...) for instance, you could specify the XmlReader class like this: SAXReader reader =3D new SAXReader("org.apache.xerces.parsers.SAXParser")= of course, you can specify the parser of your choice in the same way. Does this solve your problem ? regards, Maarten Olav M=FCller wrote: cht ohne eine Basis-URI aufgel=F6st werden. 5) a:2887) va:1276) 623) ava:448)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DocumentException while resolving the DTD</header>
    <date>Fri Apr 09 10:35:00 CEST 2004</date>
    <body>Hello Maarten, yes, thanks very much. That did the trick. CU, Olav</body>
  </mail>
  <mail>
    <header>[dom4j-user] make a differences list of two XML trees</header>
    <date>Thu Apr 08 14:49:00 CEST 2004</date>
    <body>Hi people i have to compare two XML trees to detect inserted, deleted and updated. = After a quick googling i came upon some papers on the web, like = http://www.cs.wisc.edu/~yuanwang/research/xdiff.pdf which is quite close = to what i aim. Time is not a dominant constraint (xml docs are &amp;lt;100ko), but i must = detect all changes. I'm already using dom4j in my application. So as i am not a XML guru(far from it actually), i'm open to all code = snippet, advice, url or article that you might point to me. regards Nicolas</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Getting Null Pointer exception in XPATH execution</header>
    <date>Fri Apr 02 06:18:00 CEST 2004</date>
    <body>Actually its somewhat complicated. In the first release the application = was based on Xerces. Then we realized that if we switch to DOM4J, the = performance improves a lot. Since it would have been very expensive to = rewrite the whole application we used DOM4J to parse the document and = then wrote DOM4J document to W3C document. Still the time taken for = processing and the memory usage dropped significantly.=20 While the code works for most of the document, for some (and I don't = know why at the best it looks random), during execution of XPATH we are = getting the following error.=20 Also, if I execute the same XPATH on DOM4J document directly, no error = is reported. Similarly if I parse the file using Xerces and then execute = same XPATH on W3C document obtained thus, again no erro is reported. So = I guess the problem is in writing DOM4J document to W3C document.=20 Am I missing something here?? Please take a look at the code below //set the SAXReader features to load the DTD objSAXReader.setFeature ( = " http://apache.org/xml/features/nonvalidating/load-external-dtd ", true = //resolve the entities. This method gets the public dtd declaration and = loads the dtd from the configured location //set the error handler for SAX reader //ignore the comments in xml document //parse the strFileName to get the dom4j Document object org.dom4j.Document docDOM4JDocument =3D objSAXReader.read ( strFileName = Once we have the DOM4J Document, then we writet he document to w3c = document as the rest of the application was written based on this=20 objDOMWriter.setDomDocumentClass ( Class.forName ( = org.w3c.dom.Document docW3CDocument =3D objDOMWriter.write ( = //Conversion of DOM4J document into w3c document results in loss of = DocType element //get the doctype element from DOM4J document and append to W3C document org.dom4j.DocumentType objDOM4JDocType =3D docDOM4JDocument.getDocType = //get the DOMImplamentation of W3C document. DOMImplementation objDOMImplementation =3D = // Create the W3C document type DocumentType objW3CdocType =3D objDOMImplementation.createDocumentType ( = "DOCTYPE", = objDOM4JDocType.getPublicID (), = regards, Shekhar -----Original Message----- From: bob mcwhirter [mailto:bob@... Sent: Friday, April 02, 2004 1:49 AM To: Shekhar Srivastava Cc: dom4j-user@... Subject: Re: [dom4j-user] Getting Null Pointer exception in XPATH = execution It looks like you're using Xerces for the xpath stuff instead of the built-in Jaxen xpath impl. Look at the API for Branch/Element, and you'll see that it directly supports XPath using the integrated Jaxen impl. -bob On Thu, 1 Apr 2004, Shekhar Srivastava wrote: n=20 org.apache.xml.dtm.ref.DTMDefaultBaseTraversers$IndexedDTMAxisTraverser.g= etNextIndexed(DTMDefaultBaseTraversers.java:576) org.apache.xml.dtm.ref.DTMDefaultBaseTraversers$DescendantTraverser.next(= DTMDefaultBaseTraversers.java:742) org.apache.xpath.axes.DescendantIterator.nextNode(DescendantIterator.java= :274) org.apache.xpath.axes.LocPathIterator.runTo(LocPathIterator.java:802) foundation.utils.FTKConfigAccessor.executeXpath(FTKConfigAccessor.java:15= 63) -- Bob McWhirter        bob@... The Werken Company http://werken.com/</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Getting Null Pointer exception in XPATH execution</header>
    <date>Tue Apr 06 06:45:00 CEST 2004</date>
    <body>I am using parser that comes with JDK 1.4.1. I am not sure abt the = version :( . In order to  run a simple prog like the one whose results I = am enclosing, all I need is DOM4J-full.jar with rt.jar for JDK 1.4.1 Anyway, I serialized the document where this execption occurred and = saved it as test.xml Then I opened it with XMLSpy and then saved it as test1.xml so that the = file gets structured properly.=20 =20 I did the following: =20 1. Parsed both these files using DOM4J and executed XPath using DOM4J = API. Everything went fine 2. Parsed both these files using Xerces and executed XPath using Xalan = API. Again everything went fine 3. Parsed both of these using DOM4J and wrote the DOM4J document to w3c = document and executed XPath using Xalan API which is the case in our = application.=20 This time for test1.xml (file saved with XMLSpy) there was no exception. but for test.xml I am getting the same exception.=20 =20 What I fail to understand is that how come an XML just by formatting it = properly can stop giving exceptions !!!! Ne ideas???? With best regards, Shekhar Srivastava -----Original Message----- From: Maarten Coene [mailto:MacBelgium@... Sent: Friday, April 02, 2004 1:19 PM To: Shekhar Srivastava Cc: dom4j-user@... Subject: Re: [dom4j-user] Getting Null Pointer exception in XPATH = execution Hi Shekhar, Which version of Xalan do you use? (use org.apache.xalan.Version for = this) The problem could be the DOM implementation of DOM4J which is very basic = and is far from DOM compliant at the moment. What happens if you set the = documentClass of the DOMWriter to "org.apache.xerces.dom.DocumentImpl" ? regards, Maarten Shekhar Srivastava wrote: performance improves a lot. Since it would have been very expensive to = rewrite the whole application we used DOM4J to parse the document and = then wrote DOM4J document to W3C document. Still the time taken for = processing and the memory usage dropped significantly. getting the following error. execute same XPATH on W3C document obtained thus, again no erro is = reported. So I guess the problem is in writing DOM4J document to W3C = document. http://apache.org/xml/features/nonvalidating/load-external-dtd ", true=20 ( "DOCTYPE", objDOM4JDocType.getPublicID (), execution n .getNextIndexed(DTMDefaultBaseTraversers.java:576) org.apache.xml.dtm.ref.DTMDefaultBaseTraversers$DescendantTraverser.next(= DTMDefaultBaseTraversers.java:742) org.apache.xpath.axes.DescendantIterator.nextNode(DescendantIterator.java= :274) org.apache.xpath.axes.LocPathIterator.runTo(LocPathIterator.java:802) foundation.utils.FTKConfigAccessor.executeXpath(FTKConfigAccessor.java:15= 63) http://werken.com/ http://ads.osdn.com/?ad_id=1470&amp;amp;alloc_id638&amp;amp;op=3Dclick https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Dom4j -NoClassDefFoundError.</header>
    <date>Mon Apr 05 19:44:00 CEST 2004</date>
    <body>Hi! I am having difficulties using Dom4j-1.4 in Eclipse (2.1.2). I have added the Dom4j-full.jar to my Java Build Path and I get no compilation errors when using classes from the jar. But when I run the code I get a "java.lang.NoClassDefFoundError" on every used dom4j-class. Tips and thoughts are appreciated! _________________________________________________________________ MSN Hotmail http://www.hotmail.com Med markedets beste SPAM-filter. Gratis!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Dom4j -NoClassDefFoundError.</header>
    <date>Tue Apr 06 07:31:00 CEST 2004</date>
    <body>Hi Olav, It's hard to tell which class is missing ... Could  you send the whole=20 stacktrace ? regards, Maarten Olav N=E6rland wrote: http://www.hotmail.com Med markedets beste SPAM-filter.=20 http://ads.osdn.com/?ad_id=3D1470&amp;amp;alloc_id=3D3638&amp;amp;op=3Dc= lick https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Getting Null Pointer exception in XPATH execution</header>
    <date>Thu Apr 01 20:05:00 CEST 2004</date>
    <body>SGkgQWxsLA0KDQpJIGFtIG5ldyB0byBET000SiBhbmQgSSBhbSBnZXR0aW5nIHRoZSBmb2xsb3dp bmcgZXhjZXB0aW9uIGluIGFuIGV4aXN0aW5nIHN5c3RlbSB0aGF0IEkgYW0gc3VwcG9ydGluZy4g V2UgYXJlIHVzaW5nIEpESyAxLjQuMS4NCg0KTm9kZUl0ZXJhdG9yIG5sID0gWFBhdGhBUEkuc2Vs ZWN0Tm9kZUl0ZXJhdG9yKCBkb2MsIHhxbCApOw0Kd2hpbGUgKCAoIG4gPSBubC5uZXh0Tm9kZSAo KSApICE9IG51bGwgKQ0Kew0KCS8vLi4uc29tZSBwcm9jZXNzaW5nDQp9DQoNCnRoZSB4cWwgcGFz c2VkIGlzICIvL2RvY2luZm8iIGFuZCB3aGVuIEkgc2VyaWFsaXNlZCB0aGUgZG9jdW1lbnQgcGFz c2VkLCBJIGZpbmQgdGhhdCB0aGUgbm9kZSBpcyBwcmVzZW50LiBBbHNvIHRoaXMgcHJvYmxlbSBp cyBvY2N1cmluZyBvbmx5IGZvciBzb21lIHhtbCBmaWxlcy4gTW9zdCBvZiB0aGUgZmlsZXMgYXJl IGdldHRpbmcgdGhyb3VnaCB3aXRob3V0IGFueSBlcnJvci4gDQoNCmphdmEubGFuZy5OdWxsUG9p bnRlckV4Y2VwdGlvbg0KYXQgb3JnLmFwYWNoZS54bWwuZHRtLnJlZi5kb20yZHRtLkRPTTJEVE0u bmV4dE5vZGUoRE9NMkRUTS5qYXZhOjM0NykNCmF0IG9yZy5hcGFjaGUueG1sLmR0bS5yZWYuRFRN RGVmYXVsdEJhc2VUcmF2ZXJzZXJzJEluZGV4ZWREVE1BeGlzVHJhdmVyc2VyLmdldE5leHRJbmRl eGVkKERUTURlZmF1bHRCYXNlVHJhdmVyc2Vycy5qYXZhOjU3NikNCmF0IG9yZy5hcGFjaGUueG1s LmR0bS5yZWYuRFRNRGVmYXVsdEJhc2VUcmF2ZXJzZXJzJERlc2NlbmRhbnRUcmF2ZXJzZXIubmV4 dChEVE1EZWZhdWx0QmFzZVRyYXZlcnNlcnMuamF2YTo3NDIpDQphdCBvcmcuYXBhY2hlLnhwYXRo LmF4ZXMuRGVzY2VuZGFudEl0ZXJhdG9yLm5leHROb2RlKERlc2NlbmRhbnRJdGVyYXRvci5qYXZh OjI3NCkNCmF0IG9yZy5hcGFjaGUueHBhdGguYXhlcy5Mb2NQYXRoSXRlcmF0b3IucnVuVG8oTG9j UGF0aEl0ZXJhdG9yLmphdmE6ODAyKQ0KYXQgb3JnLmFwYWNoZS54bWwuZHRtLnJlZi5EVE1Ob2Rl TGlzdC48aW5pdD4oRFRNTm9kZUxpc3QuamF2YToxMTQpDQphdCBvcmcuYXBhY2hlLnhwYXRoLm9i amVjdHMuWE5vZGVTZXQubm9kZWxpc3QoWE5vZGVTZXQuamF2YTozODQpDQphdCBvcmcuYXBhY2hl LnhwYXRoLlhQYXRoQVBJLnNlbGVjdE5vZGVMaXN0KFhQYXRoQVBJLmphdmE6MjA1KQ0KYXQgb3Jn LmFwYWNoZS54cGF0aC5YUGF0aEFQSS5zZWxlY3ROb2RlTGlzdChYUGF0aEFQSS5qYXZhOjE4MikN CmF0IGNvbS5sZXhpc05leGlzLmZ0ay5mb3VuZGF0aW9uLnV0aWxzLkZUS0NvbmZpZ0FjY2Vzc29y LmV4ZWN1dGVYcGF0aChGVEtDb25maWdBY2Nlc3Nvci5qYXZhOjE1NjMpDQoNCg0KcmVnYXJkcywN ClNoZWtoYXIgU3JpdmFzdGF2YSwNCg0K</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Getting Null Pointer exception in XPATH execution</header>
    <date>Thu Apr 01 20:19:00 CEST 2004</date>
    <body>It looks like you're using Xerces for the xpath stuff instead of the built-in Jaxen xpath impl. Look at the API for Branch/Element, and you'll see that it directly supports XPath using the integrated Jaxen impl. -bob On Thu, 1 Apr 2004, Shekhar Srivastava wrote: ng system that I am supporting. We are using JDK 1.4.1. , I find that the node is present. Also this problem is occuring only for= some xml files. Most of the files are getting through without any error. ser.getNextIndexed(DTMDefaultBaseTraversers.java:576) next(DTMDefaultBaseTraversers.java:742) .java:274) ) TKConfigAccessor.java:1563) =FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=D3=86+=12=17=F3^=B5=E9= =BB=1Bn=B6=8A=E2jZkz=C7=A7=B5=E7[=C86=A7=89=E9Q=A1=B6=E2=9E=CF=CF=AD=EB"u= =E9=EDjwB=10=EA=1F=19=E9=D3=A2=8B^r=19=E8=96=88"z=CF=CBy=AA=E7z=F7=AB=CA=D8= m=A7=FF=FFi=DB=FF=A2=C7g=FD=CA&amp;amp;=FF=F6=9D=FE'=D7=8E=F4=FD=A9e=A1=CF=E2=DF=CF= =E8=89=C9=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF= =FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=F7h=9B=88=FF=BA=C7=AB=99=A8=A5=8A= x%=8A=CB]=A2n#=FE=EB=1E=AF=F9b=B2=DB=FF=B2=8B=ABq=E7=E8=AE=07=FF=9D=EBa=B6= =DAl=FF=FF=E5=8A=CBl=FE=CA.=AD=C7=9F=A2=B8=1E=FEw=AD=FEX=AC=B6=CF=E5=8A=CB= b=9D=FA?v=89=B8=8F=FB=AC -- Bob McWhirter        bob@... The Werken Company http://werken.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] EntityResolver</header>
    <date>Thu May 27 15:04:00 CEST 2004</date>
    <body>Hi all! I need to use method setEntityResolver() of SAXReader object to deny decoding of characters like &amp;amp;#224; , &amp;amp;#232; or &amp;amp;lt;. But I don't know how create an EntityResolver object. Anyone can help me? Seva</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Mon May 17 12:47:00 CEST 2004</date>
    <body>ation is true or false with DOM4J (whitout use the property is-standalone= mage: url( http://mail.lycos.co.uk/Images/Mail/_content/dot.gif);backgroun= d-repeat: repeat-x;background-position: 0px 0px;"&amp;gt;Plus simple, plus fiabl= e, plus rapide : d=E9couvrez &amp;lt;a href= 3Dhttp://www.caramail.lycos.fr&amp;gt;le no=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] (no subject)</header>
    <date>Mon May 17 13:33:00 CEST 2004</date>
    <body>Hi Raph, I don't think this is possible using the current dom4j api's. If you=20 really need this, please enter a new RFE at the dom4j project site (=20 http://sourceforge.net/tracker/?group_id=3D16035&amp;amp;atid=3D366035 ) and some= =20 day someone will pick it up to implement it. But if you want to be sure=20 it's added to the next dom4j release, adding an additional patchfile may=20 help :-) regards, Maarten Raph FRIF wrote: =20 http://www.caramail.lycos.fr &amp;gt;.</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Thu May 27 13:13:00 CEST 2004</date>
    <body>pplication. I write an XML document with the XMLWriter and I read it with= e return of the getParent() method is null. I am not able to get its elem= is&amp;amp;nbsp;still in the memory. But if I save it and after I read it, I don'= p:11px;padding-top:3px;background-image: url( http://mail.lycos.co.uk/Imag= es/Mail/_content/dot.gif);background-repeat: repeat-x;background-position= : 0px 0px;"&amp;gt;Pour gagner une Playstation 2, envoyez un SMS avec le code PS=</body>
  </mail>
  <mail>
    <header>[dom4j-user] Get the parent of a namespace</header>
    <date>Thu May 27 08:58:00 CEST 2004</date>
    <body>Hello, I use the new release if dom4j 1.5 in my application. I write an XML = document with the XMLWriter and I read it with the saxReader of dom4j. But when I have a namespace node ; the return of the getParent() method = is null. I am not able to get its element parent. I don't have this problem if the document is still in the memory. But if = I save it and after I read it, I don't manage to get the parent of a = namespace. Can you help me ? Thanks Rapha=EBl</body>
  </mail>
  <mail>
    <header>[dom4j-user] method getText</header>
    <date>Wed May 26 14:40:00 CEST 2004</date>
    <body>Hi all, I'm new member of this list. I have a problem with method getText of Node class. If the XPath of node contains a character like =E0 or =E8 (in XML they are = coded=20 with &amp;amp;#224; or &amp;amp;#232;), the method getText returns a String value decoded.= =20 =46or example getText applied to this node &amp;lt;why&amp;gt;perch&amp;amp;#232;&amp;lt;/why&amp;gt; return th= e=20 value "perch=E8". Well, I want a method which returns a String containing "perch&amp;amp;#232;".=20 I didn't find a method which does this. My XML tree is in a file that I read using SAXReader. Bye, Seva</body>
  </mail>
  <mail>
    <header>[dom4j-user] normalize doesn't work</header>
    <date>Sat May 22 22:46:00 CEST 2004</date>
    <body>Does anyone know what magic incantation I must utter to get normalization to work. I've tried calling the normalize() method on a Document, a Node, and an Element and it doesn't seem to do anything. Trying to remove all (non-element) whitespace in a document... Thanks, Ben</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] normalize doesn't work</header>
    <date>Sat May 22 23:30:00 CEST 2004</date>
    <body>I think I've solved my problem with SaxReader's setStripWhitespaceText. However, I wouldn't mind understanding the point of this normalize method... by "concatenate" do you mean remove newlines? bob mcwhirter wrote: http://ads.osdn.com/?ad_id=3149&amp;amp;alloc_id=8166&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user http://werken.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] normalize doesn't work</header>
    <date>Sat May 22 22:54:00 CEST 2004</date>
    <body>normalize just concatenates adjacent text nodes, including whitespace. -bob On Sat, 22 May 2004, Ben Munat wrote: http://ads.osdn.com/?ad_id=3149&amp;amp;alloc_id=8166&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Bob McWhirter        bob@... The Werken Company http://werken.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] normalize doesn't work</header>
    <date>Sat May 22 23:59:00 CEST 2004</date>
    <body>No, parsers are free to report any contiguous bit of text as multiple calls to characters() in the ContentHandler.  This is many times affected by the parser's own internal buffer sizing.  Full buffer, it pops a call to characters().  This can result in an Element node containing multiple adjacent Text nodes as children.  Normalization simply merges all of the characters in all of the Text nodes into a single Text node.  No changes are made to the actual content/characters.  Just the division and organization of them within the DOM. -bob On Sat, 22 May 2004, Ben Munat wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Adding items to a DocumentTreeModel</header>
    <date>Thu May 20 17:03:00 CEST 2004</date>
    <body>Hi everyone Is there an easy way of adding new LeafTreeNodes or BranchTreeNodes to a DocumentTreeModel? Has anyone succeded in doing so and is willing of getting me some help? I try to write an XMLEditor (ok, that IS inventing the weel another time) that uses a DTD to create a new XML-Document from. But adding new Nodes seems to be rather tricky and i didn't get it until now. I am very thankfull for any help best regards andreas heigl -- Andreas Heigl Diplom Forstwirt -- the SUN ist shining all the NeXT days. so please keep your WINDOWS closed! ------------------------------------------------- This mail sent through IMP: http://horde.org/imp/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding items to a DocumentTreeModel</header>
    <date>Fri May 21 14:39:00 CEST 2004</date>
    <body>Hi Andreas, I think you should extend the org.dom4j.swing.LeafTreeNode and org.dom4j.swing.BranchTreeNode so that they implement the javax.swing.tree.MutableTreeNode interface. You should take a look at the Java Tutorial: http://java.sun.com/docs/books/tutorial/uiswing/components/tree.html#dynamic I hope this info gets you started. regards, Maarten a Punkt heigl at web Punkt de wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Joe X. Hocker/EMPL/TX/Verizon is out of the office.</header>
    <date>Fri May 21 05:23:00 CEST 2004</date>
    <body>I will be out of the office starting  05/19/2004 and will not return until 05/24/2004. I am out of the office until Monday, May 24, 2004. I my absence please contact Carlos Carballo (carlos.carballo@...) or Sunil Maruvada (sunil.maruvada@...). Thanks, Joe Hocker Verizon Call Center Services Home Office: +1 (847) 429-0784 Mobile:  +1 (773) 306-9137 Work Email:  joe.hocker@... Personal Email: joe.hocker@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] [announce] dom4j 1.5 beta2 released</header>
    <date>Wed May 12 14:09:00 CEST 2004</date>
    <body>Hi, dom4j 1.5 beta 2 has been released. You can download it from http://www.dom4j.org A list of changes is given below: - Added flag to OutputFormat that supresses newline after XML declaration. - Upgraded dependencies to their latest version on ibiblio. - Added method to DocumentHelper that allows user to specify encoding when parsing an xml String (contributed by Todd Wolff). - Fixed a ClassCastException bug in BeanElement. - Fixed a bug in SAXContentHandler which caused a NullPointerException in some situations. - Fixed bug which prevented an element's namespace prefix from being registered for use in xpath expressions (contributed by Todd Wolff). - Fixed bug in XMLWriter that caused duplication of the default namespace declaration (reported by Todd Wolff). - Added a bunch of patches to make the dom4j DOM classes more DOM compliant (contributed by Curt Arnold). - Fixed bug in DispatchHandler which made the handler not reusable (reported by Ricardo Leon). - Fixed bug in SAXContentHandler that caused incorrect CDATA section parsing (contributed by Todd Wolff). - Fixed bug in SAXContentHandler that caused incorrect entity handling. - Fixed bug in XMLWriter causing padding to be disabled, even if enabled in the specified outputformat (reported by Bo Gundersen). - Added initial support for STaX streams (contributed by Christian Niles). Maarten</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] [announce] dom4j 1.5 beta2 released</header>
    <date>Mon May 17 13:35:00 CEST 2004</date>
    <body>Thierry Hanser wrote: with pleasure :-) all contributions are welcome. thanks :-) regards, Maarten</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] selectNodes(xpathExpression) question</header>
    <date>Fri May 07 21:58:00 CEST 2004</date>
    <body>Thanks Bertrand. I see where this could return a list of strings. In my case, all of the functions were taking place within predicates, so I was expecting that only the refinement of the node list would be returned as = a list of nodes, which I think is what you are saying and is the correct interpretation. steve -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Bertrand Mollinier Toublet Sent: Friday, May 07, 2004 2:49 PM To: dom4j-user@... Subject: Re: [dom4j-user] selectNodes(xpathExpression) question Stephen C. Upton wrote: as a gets the this that You might want to check the XPath spec at http://www.w3.org/TR/xpath.=20 XPath defines functions that return strings (such as name() or=20 local-name()). These functions can be called in predicates (in which=20 case they are only going to hepl refine the selection of nodes, or=20 outside predicates, where they might have the XPath expression return a=20 value of string type. E.g.: //*[local-names()=3D'foo'] selects all the nodes whose local name (i.e. regardless of = namespace) is foo. string(//*[local-names()=3D'foo']) returns the string representation of said nodes. --=20 Bertrand Mollinier Toublet Lead developer. Software alchemist. Gold maker. nexB - http://www.nexb.com ------------------------------------------------------- This SF.Net email is sponsored by Sleepycat Software Learn developer strategies Cisco, Motorola, Ericsson &amp;amp; Lucent use to=20 deliver higher performing products faster, at low TCO. http://www.sleepycat.com/telcomwpreg.php?From=3Dosdnemail3 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] selectNodes(xpathExpression) question</header>
    <date>Fri May 07 18:22:00 CEST 2004</date>
    <body>In the javadocs, the Node method, selectNodes, says this: public List selectNodes(String xpathExpression) selectNodes evaluates an XPath expression and returns the result as = a List of Node instances or String instances depending on the XPath expression. What is the discerning factor on whether a list of Nodes or Strings gets returned? I couldn't easily find anything in the xml spec stating what = the difference was. In my application, I have a xpathExpression that would select a single node, or using predicates, select a list. Also, would = this method every return the empty list for other than an xpathExpression = that didn't match any nodes in the document? Thanx steve Stephen C. Upton The Mitre Corporation 2907 W. Bay to Bay Blvd, Ste. 303 Tampa, FL 33629 Office: 813-831-5535 HomeOffice: 352-684-1353 For information about the annual Genetic and Evolutionary Computation Conference (GECCO) (which includes the annual Genetic Programming Conference) to be held in Seattle on June 26-30, 2004 (Saturday - Wednesday), visit http://www.isgec.org/gecco-2004/ For information about the Military and Security Applications of = Evolutionary Computation workshop (part of GECCO 2004) to be held in Seattle on June = 26, 2004 (Saturday), see the workshop pages at http://www-illigal.ge.uiuc.edu/msaec2004/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] selectNodes(xpathExpression) question</header>
    <date>Fri May 07 18:49:00 CEST 2004</date>
    <body>Stephen C. Upton wrote: You might want to check the XPath spec at http://www.w3.org/TR/xpath . XPath defines functions that return strings (such as name() or local-name()). These functions can be called in predicates (in which case they are only going to hepl refine the selection of nodes, or outside predicates, where they might have the XPath expression return a value of string type. E.g.: //*[local-names()='foo'] selects all the nodes whose local name (i.e. regardless of namespace) is foo. string(//*[local-names()='foo']) returns the string representation of said nodes. -- Bertrand Mollinier Toublet Lead developer. Software alchemist. Gold maker. nexB - http://www.nexb.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Unresolve entities</header>
    <date>Fri May 07 07:37:00 CEST 2004</date>
    <body>mage: url( http://mail.lycos.co.uk/Images/Mail/_content/dot.gif);backgroun= d-repeat: repeat-x;background-position: 0px 0px;"&amp;gt;&amp;lt;img src=3D" http://prem= iummail.caramail.lycos.fr/Images/Mail/_icons/premium.gif"&amp;gt;=A0C est le mom= ent de dynamiser votre bo=EEte mail en &amp;lt;a href=3D" https://premiummail.car= amail.lycos.fr/?TARGETCODE=3D18" target=3D"_blank"&amp;gt;&amp;lt;font color=3D"#CC0000=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Unresolve entities</header>
    <date>Fri May 07 11:25:00 CEST 2004</date>
    <body>Hi Raph, you could try the following solutions: - register your own EntityResolver with the org.dom4j.io.SAXReader which=20 ignores the problematic external entity. or - disable the external entities using=20 org.dom4j.io.SAXReader.setFeature(&amp;lt;feature&amp;gt;, false), where the possible=20 features can be found at=20 http://www.saxproject.org/apidoc/org/xml/sax/package-summary.html#package= _description Maarten Raph FRIF wrote: https://premiummail.caramail.lycos.fr/?TARGETCODE=3D18 &amp;gt; !</body>
  </mail>
  <mail>
    <header>[dom4j-user] org.w3c.dom.Element -&amp;gt; dom4j.Element?</header>
    <date>Thu May 06 02:03:00 CEST 2004</date>
    <body>Is there a way from an org.w3c.dom.Element to a dom4j.Element? It seems logical that you should be able to do it. And if not, is there a way to get a dom4j Document from a w3c Document? Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.w3c.dom.Element -&amp;gt; dom4j.Element?</header>
    <date>Thu May 06 02:21:00 CEST 2004</date>
    <body>Have a look at org.dom4j.io.DOMReader: http://dom4j.org/apidocs/org/dom4j/io/DOMReader.html On May 5, 2004, at 10:03 PM, David Thielen wrote: Document?</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] org.w3c.dom.Element -&amp;gt; dom4j.Element?</header>
    <date>Thu May 06 02:23:00 CEST 2004</date>
    <body>This looks like what I need. Is there any documentation for it? Or = should I just experiment until I find a way that works? (readElement looks very interesting but doesn't return anything.) Thanks - dave -----Original Message----- From: Christian Niles [mailto:christian@... Sent: Wednesday, May 05, 2004 8:21 PM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] org.w3c.dom.Element -&amp;gt; dom4j.Element? Have a look at org.dom4j.io.DOMReader: http://dom4j.org/apidocs/org/dom4j/io/DOMReader.html On May 5, 2004, at 10:03 PM, David Thielen wrote: Document?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.w3c.dom.Element -&amp;gt; dom4j.Element?</header>
    <date>Thu May 06 07:01:00 CEST 2004</date>
    <body>Hi David, If you think about it, converting an org.w3c.dom.Element to a org.dom4j.Element is not that easy: what should you do with namespaces (declared elsewhere in an ancestor of the element), what should be the parent of the newly created dom4j.Element, ...  That's why you can't use the readElement(...) method in org.dom4j.io.DOMReader. The safest way is to convert your org.w3c.dom.Document into an org.dom4j.Document using the org.dom4j.io.DOMReader like this: and now walk through the dom4jDoc to the element you want ... hope this helps Maarten David Thielen wrote: http://dom4j.org/apidocs/org/dom4j/io/DOMReader.html http://www.sleepycat.com/telcomwpreg.php?From=dnemail3 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.w3c.dom.Element -&amp;gt; dom4j.Element?</header>
    <date>Thu May 06 15:32:00 CEST 2004</date>
    <body>Along the same lines, any way to get from java's HTMLDocument to a dom4j Document? I'm using a JEditorPane to allow simple html content editing and want to dump its underlying html into a dom4j element hierarchy. thanks, Ben David Thielen wrote:</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] org.w3c.dom.Element -&amp;gt; dom4j.Element?</header>
    <date>Thu May 06 15:47:00 CEST 2004</date>
    <body>I was hoping that it had something similar to DocumentHelper.createDocument(Element) where it would create a dom4j tree with the root at the w3c element. Thanks - dave -----Original Message----- From: Maarten Coene [mailto:MacBelgium@...] Sent: Thursday, May 06, 2004 1:01 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] org.w3c.dom.Element -&amp;gt; dom4j.Element? Hi David, If you think about it, converting an org.w3c.dom.Element to a org.dom4j.Element is not that easy: what should you do with namespaces (declared elsewhere in an ancestor of the element), what should be the parent of the newly created dom4j.Element, ...  That's why you can't use the readElement(...) method in org.dom4j.io.DOMReader. The safest way is to convert your org.w3c.dom.Document into an org.dom4j.Document using the org.dom4j.io.DOMReader like this: and now walk through the dom4jDoc to the element you want ... hope this helps Maarten David Thielen wrote: http://dom4j.org/apidocs/org/dom4j/io/DOMReader.html http://www.sleepycat.com/telcomwpreg.php?From=dnemail3 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] org.w3c.dom.Element -&amp;gt; dom4j.Element?</header>
    <date>Thu May 06 02:27:00 CEST 2004</date>
    <body>Look at the classes in org.dom4j.dom -- they implement both w3c and = dom4j interfaces. Also, org.dom4j.io.DOMWriter will write a dom4j Document into a = DOMDocument, which, again, implements both w3c and dom4j interfaces. Pretty handy stuff! anders -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David = Thielen Sent: Wednesday, May 05, 2004 7:24 PM To: 'Christian Niles' Cc: dom4j-user@... Subject: RE: [dom4j-user] org.w3c.dom.Element -&amp;gt; dom4j.Element? This looks like what I need. Is there any documentation for it? Or = should I just experiment until I find a way that works? (readElement looks very interesting but doesn't return anything.) Thanks - dave -----Original Message----- From: Christian Niles [mailto:christian@... Sent: Wednesday, May 05, 2004 8:21 PM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] org.w3c.dom.Element -&amp;gt; dom4j.Element? Have a look at org.dom4j.io.DOMReader: http://dom4j.org/apidocs/org/dom4j/io/DOMReader.html On May 5, 2004, at 10:03 PM, David Thielen wrote: Document? ------------------------------------------------------- This SF.Net email is sponsored by Sleepycat Software Learn developer strategies Cisco, Motorola, Ericsson &amp;amp; Lucent use to=20 deliver higher performing products faster, at low TCO. http://www.sleepycat.com/telcomwpreg.php?From=3Ddnemail3 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] incompatibility with 1.4 (1.5b1?)</header>
    <date>Fri Jun 25 13:04:00 CEST 2004</date>
    <body>Hi! Previously Node n = doc.selectSingleNode( "/HTML/HEAD/META[@name eq actually returned the Attribute "content" of META. Now actually META is returned and a is required. Is this a bug or was this a bug? Timo</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] incompatibility with 1.4 (1.5b1?)</header>
    <date>Fri Jun 25 14:21:00 CEST 2004</date>
    <body>This is a bug, your xpath expression should return an attribute. However, I was unable to reproduce your problem (I tried it with the current CVS version of dom4j and with 1.5 beta1). Could you provide your classpath? Maybe there is a problem in there... And just to be sure if your example below is correct: is the "summery" node the same as the "n" node (the one returned by the selectSingleNode method)? Maarten dom4j@... wrote: http://www.blackhat.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] incompatibility with 1.4 (1.5b1?)</header>
    <date>Fri Jun 25 14:31:00 CEST 2004</date>
    <body>On Friday 25 June 2004 16:21, you wrote: I use 1.5b2. I know that it worked previously but I'm not sure whether it was 1.4 or 1.5b1. You need cyberneko (or some other tolerant HTML sax parser): public static void main( String[] args ) try // some arbitrary spiegel.de aricle URL url = new URL(" http://www.spiegel.de/politik/deutschland/0,1518,305821,00.html Document doc = reader.read( new final Node summary = doc.selectSingleNode( "/HTML/HEAD/META[@name eq // empty // correct catch( Exception e )</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] incompatibility with 1.4 (1.5b1?)</header>
    <date>Fri Jun 25 14:48:00 CEST 2004</date>
    <body>if you replace "/HTML/HEAD/META[@name eq 'description']/@content" with "/HTML/HEAD/META[@name='description']/@content" an attribute is returned instead of an element. Very strange... This seems more like a jaxen issue to me... regards, Maarten dom4j@... wrote: http://www.spiegel.de/politik/deutschland/0,1518,305821,00.html http://www.blackhat.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] xmlns</header>
    <date>Tue Jun 22 14:38:00 CEST 2004</date>
    <body>Hi! I use CyberNeko in order to parse HTML pages. I now came across some that does makes me go nuts since the xpath expression /HTML/HEAD/TITLE returns null (so does everything except /HTML)  despite it is there - really. I even "dumped" the struture using dom4j's DocumentTreeModel and did so manually, too. It seems that it does have something to do with the xmlns declaration: " http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd http://www.w3.org/1999/xhtml Well, but what does this have to do with my xpath? Anybody having a clue about this?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xmlns</header>
    <date>Tue Jun 22 15:11:00 CEST 2004</date>
    <body>The problem your'e having is due to the fact that XPath doesn't recognize the default namespace when resolving name steps. To fix this, you must specify a prefix in your xpath, such as: /html:html/html:head/html:title How you set the 'html' prefix is dependent upon how you're generating your XPath selectors. I assume you're using DOM4J since you posted to this list, so here's one way that may work: // manually tell the xpath about our prefix xpath.setNamespaceContext(Collections.singletonMap("html", " http://www.w3.org/1999/xhtml Also, check the archives of the list for more info on this, since it come up a lot. best, christian. On Jun 22, 2004, at 10:38 AM, dom4j@... wrote: http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd http://www.w3.org/1999/xhtml http://www.blackhat.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xmlns</header>
    <date>Tue Jun 22 15:48:00 CEST 2004</date>
    <body>On Tuesday 22 June 2004 17:10, you wrote: http://www.w3.org/1999/xhtml There's no XPath.setNamespaceContext(Map). Can't I simply ignore the namespace somehow? I want to apply one XPath expression to all docs. As I workaround I could do a Node n = but this is ugly... :-(</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xmlns</header>
    <date>Tue Jun 22 16:08:00 CEST 2004</date>
    <body>&amp;gt; On Tuesday 22 June 2004 17:10, you wrote: http://www.w3.org/1999/xhtml Sorry, its XPath.setNamespaceURIs(Map) This is how the XPath spec is defined, so the only way to ignore the namespace is to remove it from all your documents. You should be able to apply a single XPath to many documents however, since you can tell the XPath processor what your prefixes are, separately from the prefixes actually defined in the document. The sample code from my previous email would work on any document, as long as the the HTML namespace had been declared, as your sample document did. christian. http://www.blackhat.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xmlns</header>
    <date>Tue Jun 22 16:32:00 CEST 2004</date>
    <body>On Tuesday 22 June 2004 18:08, you wrote: Ok, then let's do this :-) Returns false, i.e. doesn't work:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xmlns</header>
    <date>Tue Jun 22 15:51:00 CEST 2004</date>
    <body>Nope.  XPath spec says that a namestep w/o a prefix is in the null namespace, not the default namespace. So, you have to bind a prefix. -bob On Tue, 22 Jun 2004 dom4j@... wrote: http://www.w3.org/1999/xhtml http://www.blackhat.com https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Bob McWhirter        bob@... The Werken Company http://werken.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] IndexOutOfBoundsException on attribute List</header>
    <date>Thu Jun 24 16:23:00 CEST 2004</date>
    <body>I am trying to replace/exchange attributes from a new element to an existing element. newElem looks like: (The namespace matches the namespace of the existing element. I have also tried without the namespace) The method below breaks with an IndexOutOfBoundsException exception (further below). The length int's value is println'd out as 4. Any ideas what I am doing wrong? thanks, -Rob public final Element updateElement(Element context, Element newElem) java.lang.IndexOutOfBoundsException: Index: 2, Size: 2 at java.util.ArrayList.RangeCheck(ArrayList.java:507) at java.util.ArrayList.get(ArrayList.java:324) at org.dom4j.tree.ContentListFacade.get(ContentListFacade.java:130) at com.livestoryboard.actions.LsbFilter.updateElement(Unknown Source) at com.livestoryboard.actions.architecture.SaveFilter.doFilter(Unknown Source) ....snip</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] IndexOutOfBoundsException on attribute List</header>
    <date>Fri Jun 25 00:14:00 CEST 2004</date>
    <body>So looking closer at the API, I see Element.appendAttributes... duh... I have to stop thinking the way I did with JDOM... sorry for the bother, -Rob I wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] IndexOutOfBoundsException on attribute List</header>
    <date>Fri Jun 25 06:32:00 CEST 2004</date>
    <body>Hi Robert, glad you found a solution :-) The reason your code failed is this: when you detach the attribute from the newElem, it is also removed from the attrs List. So the way you iterate through that list is not correct. regards, Maarten Robert Koberg wrote: http://www.blackhat.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Thu Jun 24 12:34:00 CEST 2004</date>
    <body>SGksDQogDQpJIGFtIHRyeWluZyB0byB1c2UgSkFYQiBpbiBvdXIgcHJvamVjdCBpbiBhIHdheSBz dWNoIHRoYXQgdGhlIHhtbCBkb2N1bWVudCBpcyBub3QgbG9hZGVkIGNvbXBsZXRlbHkgaW4gbWVt b3J5IHdoaWxlIHVubWFyc2hhbGxpbmcuIEkgdXNlIHRoZSBTQVhSZWFkZXIgYW5kIGNyZWF0ZWQg YSBwcnVuaW5nIEVsZW1lbnRIYW5kbGVyIHdoaWNoIHVubWFyc2hhbGxzIHRoZSBvcmcuZG9tNGou RWxlbWVudCBpbiB0aGUgb25FbmQgbWV0aG9kIHdoZW5ldmVyIHRoZSBzcGVjaWZpZWQgRWxlbWVu dFBhdGggaXMgZW5jb3VudGVyZWQuDQogDQpXb3JrcyBncmVhdCwgYnV0IG5vdyBJIG5lZWQgdG8g cmVwbGFjZSBhIHNtYWxsIHBhcnQgb2YgdGhpcyB4bWwgZmlsZSAodW5tYXJzaGFsbCBhbiBlbGVt ZW50IHRyZWUsIGNoYW5nZSB0aGUgdW5tYXJzaGFsbGVkIG9iamVjdCBhbmQgbWFyc2hhbGwgaXQg YmFjayB0byB0aGUgZG9jdW1lbnQpLCBhbHNvIHdpdGhvdXQgaGF2aW5nIHRoZSBjb21wbGV0ZSBk b2N1bWVudCBpbiBtZW1vcnkuDQogDQpJIGNvdWxkIGFsc28gdXNlIGFuIEVsZW1lbnRIYW5kbGVy LCB3aGljaCByZXBsYWNlcyB0aGUgRWxlbWVudCB0aGF0IG5lZWRzIHRvIGJlIG1vZGlmaWVkLCBi dXQgaG93IGNhbiBJIHdyaXRlIHRoZSBjb3JyZWN0IHN0cnVjdHVyZSBiYWNrIHRvIHRoZSB4bWwg ZmlsZT8NCkkga25vdyB0aGUgWE1MV3JpdGVyIGlzIGFibGUgdG8gaGFuZGxlIFNBWCBldmVudHMg d2hpY2ggYXJlIGdlbmVyYXRlZCBieSB0aGUgU0FYUmVhZGVyLCBidXQgc29tZXRoaW5nIG5lZWRz IHRvIGZpbHRlciB0aGVzZSBldmVudHMgd2hlbmV2ZXIgdGhlIEVsZW1lbnRIYW5kbGVyIGhhcyB0 byBwZXJmb3JtIHRoZSByZXBsYWNlbWVudCAoKHVuKW1hcnNoYWxsaW5nKSBmaXJzdC4NCiANClBs ZWFzZSBhZHZpc2UuDQpXb25uZQ0KIA0KUFM6IEkgYWxyZWFkeSB0cmllZCB0byBpbXBsZW1lbnQg YW4gZXh0ZW5zaW9uIG9mIHRoZSBTQVhDb250ZW50SGFuZGxlciwgYnV0IHRoYXQgcmVxdWlyZXMg dGhlIEVsZW1lbnRTdGFjayB0byBiZSBwdWJsaWMgYW5kIEknZCBuZWVkIGFuIGFkZGl0aW9uYWwg bWV0aG9kIGluIGl0Li4uDQogDQo=</body>
  </mail>
  <mail>
    <header>[dom4j-user] ConcurrentModificationException</header>
    <date>Tue Jun 22 16:20:00 CEST 2004</date>
    <body>Hi! I posted the problem recently and actually got it working - until now. For some mysterious reason it suddenly does throw an ConcurrentModifcationException in my Visitor (second for loop): class Foo private static final class HeisetextLegacyVisitor extends VisitorSupport public void visit( Element node ) if( node.getName().equalsIgnoreCase( HEISETEXT ) ) // hard to touch the tip of your nose when you are wankered... for( int i = 0; i &amp;lt; l.size(); i++ ) if ( l.get( i ).getName().equalsIgnoreCase( HEISETEXT ) ) for ( Iterator&amp;lt;Element&amp;gt; it = node.elementIterator(); it.hasNext(); ) // HERE's where the exception is thrown l.remove( index );	// heisetext public void go() Does anybody see why this exception is thrown here? [java] java.util.ConcurrentModificationException [java]     at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:449) [java]     at java.util.AbstractList$Itr.next(AbstractList.java:420) [java]     at org.dom4j.tree.FilterIterator.findNext(FilterIterator.java:70) [java]     at org.dom4j.tree.FilterIterator.next(FilterIterator.java:45) [java]     at Foo$HeisetextLegacyVisitor.visit Timo</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] ConcurrentModificationException</header>
    <date>Tue Jun 22 19:40:00 CEST 2004</date>
    <body>Do you get the same problem if you use dom4j 1.5 beta 2?? Maarten On Tue, 22 Jun 2004 dom4j@... wrote: http://www.blackhat.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] ConcurrentModificationException</header>
    <date>Tue Jun 22 20:19:00 CEST 2004</date>
    <body>The call to detach modifies the list. As this is done outside the visibility of the iterator is is concurrent, hence the exception. Copy the list and then iterate and it shoul be OK Mike .java:449) http://www.blackhat.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] ConcurrentModificationException</header>
    <date>Wed Jun 23 10:30:00 CEST 2004</date>
    <body>On Tuesday 22 June 2004 22:14, Mike Skells wrote: How do you clone the list? List does not declare clone() and node.elements() does only return the List interface. new ArrayList(nodeList)? That's really ugly :-(</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] ConcurrentModificationException</header>
    <date>Wed Jun 23 10:44:00 CEST 2004</date>
    <body>&amp;gt; -----Original Message----- Copy the list, not clone, hence new ArrayList(nodeList), or similar. If you want nice code then don't use the iterators http://www.blackhat.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: [dom4j-dev] bug in serialization</header>
    <date>Tue Jun 22 11:44:00 CEST 2004</date>
    <body>Hello , I need to compare two XPath results Lists on different document. this is how i do that now, why doen't it work ? ( i want to compare the lists returns by XPath by value and not by references to the nodes - deeo compare) here is my code : if ( listNodesOriginal.equals(listNodesNew)) else m_leftDocument and newLeftDocument have been read from different xml files. ( no common references to same nodes) my code, always returns false, althought for some XPath expressions i need it to return true, please help. thank you. Grosman _________________________________________________________________ STOP MORE SPAM with the new MSN 8 and get 2 months FREE* http://join.msn.com/?page=features/junkmail</body>
  </mail>
  <mail>
    <header>[dom4j-user] comparing nodes (was: RE: bug in serialization)</header>
    <date>Tue Jun 22 12:04:00 CEST 2004</date>
    <body>The reason is that dom4j nodes use identity based equality: 2 nodes are equal if they reference the same object instance. In your case: the documents are different objects, so the nodes will be different objects too and the equals() method will always return false. To solve your problem: you could iterate the 2 lists manually and use org.dom4j.util.NodeComparator to compare the nodes: regards, Maarten Z Z wrote: http://join.msn.com/?page=features/junkmail http://www.blackhat.com https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] read and write with dom4j gets an unvalid xml</header>
    <date>Mon Jun 21 09:47:00 CEST 2004</date>
    <body>Hello! I have an XML File, that starts with the following: I read and write it with dom4j and want to achieve http://dict.leo.org/?p=2Ib6..&amp;amp;search=achieve &amp;gt; e.g. the "&amp;amp;#34;". What I get is &amp;lt;!ENTITY quot """&amp;gt;. And after this, the file is no longer a valid XML file (or could not be readed by dom4j or IE or..) -- Viele Grüße / best regards Marc Pellmann _______________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] read and write with dom4j gets an unvalid xml</header>
    <date>Mon Jun 21 12:27:00 CEST 2004</date>
    <body>Marc, I've submitted a patch to CVS which should solve your problem. Please=20 could you try the code on CVS to verify that your problem is solved.=20 Note: anonymous CVS is not always up-to-date with the developer CVS, so=20 it's possible that the patch is not in anonymous CVS yet and you have to=20 wait a few hours. thanks, Maarten Marc Pellmann wrote: http://dict.leo.org/?p=3D2Ib6..&amp;amp;search=3Dachieve &amp;gt; e.g. the "&amp;amp;#34;". Wh= at=20 http://www.inubit.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] read and write with dom4j gets an unvalid xml</header>
    <date>Tue Jun 22 11:17:00 CEST 2004</date>
    <body>Hi Maarten! The problem is solved! Thanks! -- Viele Grüße / best regards Marc Pellmann _______________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] TreeTable or Nested Table editor</header>
    <date>Fri Jun 18 22:53:00 CEST 2004</date>
    <body>Can anyone suggest a JAVA XML editor which represents the data as a "TreeTable" or "NestedTable" either commercial or freeware. I was able to make use of the dom4j XMLTableModel to provide an editable table, but I now have more complex XML data which is "nested table" or "TreeTable" in nature and I need to edit it in "spreadsheet mode". Also, I'd like to contribute my editable table code - someone from the project will need to review it.  What's the process for this ? Best regards, John. -- Texas Instruments Inc  Product Development    tel:214 480 4253 PO BOX 660199          MS: 8645 FORE/A-3101   fax:214 480 4401 12500 TI Boulevard     Dallas, TX 75266-0199</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] TreeTable or Nested Table editor</header>
    <date>Tue Jun 22 07:08:00 CEST 2004</date>
    <body>John, you can contribute your code be sending it directly to me or by uploading it to the patches tracking system at sourceforge: http://sourceforge.net/tracker/?group_id=16035&amp;amp;atid=316035 thanks, Maarten John Sharp wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] inserting node</header>
    <date>Sun Jun 20 17:11:00 CEST 2004</date>
    <body>Hi! I need to reorganize my DOM somewhat: I only came up with some very ugly code, maybe somebody has an better idea: class HeisetextLegacyVisitor extends VisitorSupport public void visit( Element node ) if(node.getName().equalsIgnoreCase("heisetext")) // programmer qualified for death penalty: // search parent for current node! Something like // node.getIndex() would really help here. for(int i = 0; i &amp;lt; l.size(); i++) // find node, use jxpath // this is the best part if (l.get(i).getName().equalsIgnoreCase("heisetext")) // insert for (Iterator&amp;lt;Element&amp;gt; iter = node.elementIterator();iter.hasNext();) // any idea how to remove the node here? :-)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] inserting node</header>
    <date>Sun Jun 20 17:18:00 CEST 2004</date>
    <body>On Sunday 20 June 2004 19:11, dom4j@... wrote: Somewhat slow on the uptake ;-)</body>
  </mail>
  <mail>
    <header>[dom4j-user] Concerning CData and pretty print</header>
    <date>Fri Jun 18 08:48:00 CEST 2004</date>
    <body>&amp;gt; Hello,=20 i have to save preformatted text inside an xml document as a CDATA node( = there can be only one CDATA instance per node). Until now i loaded this data with a node.getText(). As i am now required to pretty format the xml document, i have to do = something else to load those CData nodes, because getText merges all the = text (CData and text nodes), in particular the tab and newlines = characters used for the pretty print. So here is my workaround: //Iters trough all nodes to get CData node //There should be only one CDATA, but if is it is big, it seems the = loader splits //the data in more CDATA node... my problem is that it seems the xml loader splits the CDATA, so i have = to append all CData nodes to get my data back. Is it a normal behaviour? Is my method the right way to do what i want? thank you for reading, and for any clue you might give me. regards, nicolas</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Concerning CData and pretty print</header>
    <date>Fri Jun 18 11:14:00 CEST 2004</date>
    <body>Nicolas, are you having this problem with dom4j 1.5? There was a bug in dom4j 1.4 where the XML reader created multiple CDATA sections, but this should be solved in 1.5 where only 1 CDATA node is created. regards, Maarten Raggueneau Nicolas wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Removing Nodes</header>
    <date>Wed Jun 16 19:25:00 CEST 2004</date>
    <body>On Wednesday 16 June 2004 19:54, Mike Skells wrote: newsgroup? But this one throws a NullPointerException (if Element) or just doesn't work respectively (if Node)...or did I misunderstand you?</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Removing Nodes</header>
    <date>Wed Jun 16 22:30:00 CEST 2004</date>
    <body>&amp;gt; -----Original Message----- dom4j-dev@... This will not throw a NPE. The NPE gets throw ONLY in the visitor code when parent node has content removed. Have a look at the source, and you can see the problem. I have tested it befor I sent it :-) If you want to use the visitor pattern, you can avoid the iteration problem by iterating across the child nodes in the element visitor, like this Mike http://java.sun.com/javaone/sf Priority https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Removing Nodes</header>
    <date>Thu Jun 17 08:26:00 CEST 2004</date>
    <body>On Thursday 17 June 2004 00:26, Mike Skells wrote: Yes it does. I tried it. That how I do it right now actually. for (Iterator iter =3D e.elementIterator(); ...) =A0=A0=A0=A0=A0=A0=A0=A0if(iter.next().getName()...)</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Removing Nodes</header>
    <date>Thu Jun 17 09:31:00 CEST 2004</date>
    <body>&amp;gt; -----Original Message----- Please provide a stack trace, and you configuration details http://java.sun.com/javaone/sf Priority=20 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Removing Nodes</header>
    <date>Wed Jun 16 12:56:00 CEST 2004</date>
    <body>Hi! I try to remove all &amp;lt;DIV&amp;gt;s from a Document but this seems to be somewhat tricky :-) I'd prefer to use a Visitor; the code below throws an NullPointerException. The second approach simply doesn't work: public class Test static class KillDivs extends VisitorSupport public void visit( Element e ) if (e.getName().equalsIgnoreCase("div")) public static void main(String[] args) try for (Iterator&amp;lt;Node&amp;gt; iter = divs.iterator(); iter.hasNext(); ) if(n.getName().equalsIgnoreCase("div")) catch (Exception e)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Removing Nodes</header>
    <date>Wed Jun 16 13:07:00 CEST 2004</date>
    <body>What happens if you try "n.detach();" instead of  "doc.remove(n);" And could you provide us a stacktrace of that NullPointerException? regards, Maarten dom4j@... wrote: http://java.sun.com/javaone/sf Priority Code NWMGYKND https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Removing Nodes</header>
    <date>Wed Jun 16 13:27:00 CEST 2004</date>
    <body>dom4j@... wrote: You could do it with a simple XSL transformation from a DocumentSource to a DocumentResult (get the Document back from this): or best, -Rob</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Removing Nodes</header>
    <date>Wed Jun 16 17:35:00 CEST 2004</date>
    <body>Hi, The first method fails because there is a bug in the AbstractElement.accept(Visitor) method IMHO accept should not assume that the visitor will not change the structure of the element, and it caches the element &amp;amp; attribute counts for performmance. Is there any reason why a visitor should not modify the content?. I will start a separate post regarding this The second method failes because you are attempting to remove the node from the document, not the parent node. If you use n.getParent().remove(n), or better still n.detach() Then it works http://java.sun.com/javaone/sf Priority https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Removing Nodes</header>
    <date>Wed Jun 16 17:37:00 CEST 2004</date>
    <body>Hi, The first method fails because there is a bug in the AbstractElement.accept(Visitor) method IMHO accept should not assume that the visitor will not change the structure of the element, and it caches the element &amp;amp; attribute counts for performmance. Is there any reason why a visitor should not modify the content? I don't know of any. I will start a separate post in dom4jdev regarding this The second method failes because you are attempting to remove the node from the document, not the parent node. If you use n.getParent().remove(n), or better still n.detach() Then it works http://java.sun.com/javaone/sf Priority https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Removing Nodes</header>
    <date>Wed Jun 16 17:40:00 CEST 2004</date>
    <body>On Wednesday 16 June 2004 19:33, Mike Skells wrote: Isn't this just what I did?</body>
  </mail>
  <mail>
    <header>[dom4j-user] [dom4j-dev] replace a given node by another node</header>
    <date>Tue Jun 15 19:06:00 CEST 2004</date>
    <body>Hello,=20 how would i replace an element A with element B,=20 without changing the order of the tree. ( i don't want to A.detach() and = A.parent()add(B) because this will cause B to be the last child and not = the kind of child A was) in other words, how do i do this :=20 From: sfgrs@... To: dom4j-dev@... Sent: Thursday, June 10, 2004 11:27 AM Subject: [dom4j-dev] dom4j question XPath and concurrent transactions Hello,=20 I am very new to dom4j, in fact I am sending this message,=20 for a "where to start" query. I need to implement concurrent transactions on an XML database. the transaction are given to me in XPath expressions,=20 so all I need to do is to evaluate the expression ( already found a = way to do this in one of dom4j examples ). My question is , how do I apply 2PL Tree locking algorithm (Read and = Write locks) on dom4j's XPath query algorithm ?=20 please help, any kind of help would help a lot !=20 sorry again, if what I am asking is so trivial,=20 Thank you=20 Grosman</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] replace a given node by another node</header>
    <date>Wed Jun 16 07:51:00 CEST 2004</date>
    <body>The Element API doesn't provide support for what you want to do, however you could try it using the List API on the content of the parent element: For instance: Element parent = ... Element a = ... Element b = ... regards, Maarten sfgrs@... wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] createCopy() and clone() do not work with my custom DocumentFactory</header>
    <date>Mon Jun 07 20:03:00 CEST 2004</date>
    <body>Hi, First off, I have tried to subscribe to the list but it was rejected with the following cause. A message that you sent could not be delivered to one or more of its recipients. This is a permanent error. The following address(es) failed: dom4j-user-subscribe@... Unrouteable address I will retry this again tomorrow, but for the moment I would apreciate if you could cc me directly on any replies. I have created a custom DocumentFactory implementation to support my applications model. All works fine except for when I try to use either createCopy() or clone(). Essentially I just get the original element returned. I guess I am missing something. What do I need to do either in my DocumentFactory class or my model classes to get the proper support for these methods. By the way thanks a lot for the great system. I have been using dom4j extensively for the past three years and this is first support request I have made. That says an awful lof the both the quality of dom4j and the thoughfulness of the api. Cheers, Joel</body>
  </mail>
  <mail>
    <header>[dom4j-user] createCopy() and clone() do not work with my custom DocumentFactory</header>
    <date>Mon Jun 07 20:24:00 CEST 2004</date>
    <body>Hi, [This is a resend as I have finally managed to get subscribed to the list] I have created a custom DocumentFactory implementation to support my applications model. All works fine except for when I try to use either createCopy() or clone(). Essentially I just get the original element returned. I guess I am missing something. What do I need to do either in my DocumentFactory class or my model classes to get the proper support for these methods. By the way thanks a lot for the great system. I have been using dom4j extensively for the past three years and this is first support request I have made. That says an awful lot the both the quality of dom4j and the thoughtfulness of the api. Cheers, Joel</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] createCopy() and clone() do not work with my custom
 DocumentFactory</header>
    <date>Mon Jun 07 21:38:00 CEST 2004</date>
    <body>Joel Rosi-Schwartz wrote: First off, I have tried to subscribe to the list but it was rejected with the following cause. I think that source forge changed its subscription mechanism.  You must now go to http://lists.sourceforge.net/lists/listinfo/dom4j-user in order to subscribe to the mailing list. On a side not, the configuration file for maven contains wrong information for mailing lists and should be changed. -Trav</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] createCopy() and clone() do not work with my custom
 DocumentFactory</header>
    <date>Tue Jun 08 07:23:00 CEST 2004</date>
    <body>Website updated ... thanks Maarten Travis Stevens wrote: http://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] [Solution] Re: createCopy() and clone() do not work with my custom DocumentFactory</header>
    <date>Sat Jun 12 19:03:00 CEST 2004</date>
    <body>For those that may run into this problem in the future, possibly I can save them a bit of the grief I went through in figuring this out. I turns out that the implementation of clone() is different in AbstractElement than it is in DefaultElement. In DefaultElement the behaviour of both clone() and createCopy() are indeed a deep copy. However, in AbstractElement the behaviour of clone(), and therefore createCopy(), is a shalllow copy. The fix I employed was simply to copy the code from DefaultElement up to my base element class. This behaviour is not as per the API documentation which clearly states that AbstractElement .createCopy() is a deep copy. Further that API does not even document that clone() is implemented by  AbstractElement. It would be helpful if either the implementation could be changed or at least clearly document the differences in behaviour. Cheers, Joel On Monday 07 June 2004 21:23, Joel Rosi-Schwartz wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Element order</header>
    <date>Fri Jun 11 06:43:00 CEST 2004</date>
    <body>Hi all, I'm new to dom4j so please point me to the appropriate docs if I've missed something.  I'm trying to build an XML document with dom4j that complies with a schema in which the order of elements matter.  For example, the following is valid: But this isn't: Unfortunately, as I'm constructing the document, I will not always be able to add the elements in the right order.  Is there a way to specify the order in which the elements should be sorted, or do I have to do something like use the visitor pattern to visit every element to make sure that it's properly sorted before printing the document? Thanks, -Mark</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Element order</header>
    <date>Fri Jun 11 15:14:00 CEST 2004</date>
    <body>Hi Mark, I don't think there is a proper API for the things you want to do. However, you could use this 'hack' to solve your problem: instead of adding the "name" and "addr" elements to the person element, you could add them to the list returned by the Element.elements() method: Maarten Mark Woon wrote: http://www.installshield.com/Dev2Dev/0504 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Get text</header>
    <date>Thu Jun 10 14:27:00 CEST 2004</date>
    <body>mage: url( http://mail.lycos.co.uk/Images/Mail/_content/dot.gif);backgroun= d-repeat: repeat-x;background-position: 0px 0px;"&amp;gt;Plus simple, plus fiabl= e, plus rapide : d=E9couvrez &amp;lt;a href= 3Dhttp://www.caramail.lycos.fr&amp;gt;le no=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Get text</header>
    <date>Thu Jun 10 14:40:00 CEST 2004</date>
    <body>Raph, see the javadoc of  SAXReader to specify the SAX Parser of your choice. http://www.dom4j.org/apidocs/org/dom4j/io/SAXReader.html regards, Maarten Raph FRIF wrote: =20 http://www.caramail.lycos.fr &amp;gt;.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Default attributes rendered from DOM</header>
    <date>Wed Jun 09 18:09:00 CEST 2004</date>
    <body>I'm parsing a text file containing an XHTML document into a Document object, finding a fragment via XPath, then doing a regular expression search on the fragment as textual XML. I'm finding that the XML text rendered from the XMLWriter via asXML() is not consistent with the input document.=20 For example, when a table cell tag that came in as &amp;lt;td&amp;gt; is rendered, it comes out as &amp;lt;td rowspan=3D"1" colspan=3D"1"&amp;gt;. Since the regular = expressions are developed while looking at the input XHTML document, having the fragment rendered differently is inconvenient in the least and wrong in the worst case. Are these extra attributes defaults found in the document type? Is there a way to get a faithful rendering of a document fragment wrt to the input? Thanks, Paul Kaiser</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Default attributes rendered from DOM</header>
    <date>Thu Jun 10 14:19:00 CEST 2004</date>
    <body>Hi Paul, these default attribute values are specified in the XHTML DTD. When parsing your file, dom4j uses a SAX parser. It's that SAX parsers that passes the attribute values to dom4j (including the attribute with default values as specified in the DTD). So this is hard to solve at the dom4j level. I see two solutions/shortcuts: 1. dom4j should check if the SAX parser supports the org.xml.sax.ext.Attributes2 interface which also indicates if an attribute has been specified in the xml file. If the SAX parser supports this interface, dom4j could ignore these default attributes (or mark these attributes and ignore them when writing them again). Problem with this approach: it's not yet implemented in dom4j and not many SAX parsers support this Attributes2 interface yet. 2. this is more a 'hack' solution: you could try to remove your DTD declaration from your XHTML file before parsing it. regards, Maarten Kaiser, Paul wrote: http://2004/guadec.org https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j question XPath and concurrent transactions</header>
    <date>Thu Jun 10 08:27:00 CEST 2004</date>
    <body>Hello,=20 I am very new to dom4j, in fact I am sending this message,=20 for a "where to start" query. I need to implement concurrent transactions on an XML database. the transaction are given to me in XPath expressions,=20 so all I need to do is to evaluate the expression ( already found a way = to do this in one of dom4j examples ). My question is , how do I apply 2PL Tree locking algorithm (Read and = Write locks) on dom4j's XPath query algorithm ?=20 please help, any kind of help would help a lot !=20 sorry again, if what I am asking is so trivial,=20 Thank you=20 Grosman</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] method getText</header>
    <date>Wed Jun 09 06:48:00 CEST 2004</date>
    <body>Hi Sevastian, take a look at the XMLWriter.escapeElementEntities(String) method. I=20 know it's protected so you probably can't access it from within your=20 sources, but if this fits your needs, we could move that code to some=20 util class. you can find that method here: http://www.dom4j.org/xref/org/dom4j/io/XMLWriter.html#1380 Maarten Sevastian `Seva` Foglia wrote: re coded=20 d.=20 he=20 =20 http://ads.osdn.com/?ad_id149&amp;amp;alloc_id=8166&amp;amp;op=3Dclick https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Creating node from XPath</header>
    <date>Tue Jun 08 14:14:00 CEST 2004</date>
    <body>I'm having a bit of difficulty remembering where I saw a function that would create nodes based on an XPath. For example, if I had an input path of '/html:html/html:head/html:title', I would want to select the title element, or create it if it doesn't exist. Is there actually such a method or have I just confused myself? thanks, christian.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Creating node from XPath</header>
    <date>Tue Jun 08 19:56:00 CEST 2004</date>
    <body>Christian, DocumentHelper.makeElement(Branch start, String xpath) appears to do what you need. John. Christian Niles wrote: http://2004/guadec.org https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] hybrid elements</header>
    <date>Thu Jun 03 18:37:00 CEST 2004</date>
    <body>I have a situation where I have partial XML content in different places, such as RDBS and in an XML database.  For different collections, different XML fragments will be in different places.  I was wondering if anyone knew of a framework that would help me do this so I don't have to create my own. The most obvious Java API for this task would be dom4j because it is based on interfaces which allow for different types of Elements in a Document. thanks, -Trav</body>
  </mail>
  <mail>
    <header>[dom4j-user] Please make JavaDoc link more accessible</header>
    <date>Tue Jun 01 10:37:00 CEST 2004</date>
    <body>Hiya, everytime I want to look at the dom4j JavaDoc's I spend about 2-3 minutes hunting through the home page trying to find the link for the JavaDocs. Could someone add the JavaDoc link to the left hand nav panel, or even the links along the top?  Almost every other project puts a link in one of those two places. Thanks, Hunter</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Please make JavaDoc link more accessible</header>
    <date>Tue Jun 01 11:49:00 CEST 2004</date>
    <body>done! Thanks for the suggestion! regards Maarten Hunter Kelly wrote: http://ads.osdn.com/?ad_id=3149&amp;amp;alloc_id=8166&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Please make JavaDoc link more accessible</header>
    <date>Tue Jun 01 12:02:00 CEST 2004</date>
    <body>Could I be really picky and ask for a link to the 1.4 docs?  ;-) Or do they not live on the website? Thanks for your help, Hunter On Tuesday 01 June 2004 12:47, Maarten Coene wrote: http://ads.osdn.com/?ad_id=3149&amp;amp;alloc_id=8166&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Please make JavaDoc link more accessible</header>
    <date>Tue Jun 01 12:23:00 CEST 2004</date>
    <body>Hi Hunter, I agree it's a good idea to provide links to javadocs of older releases (or at least, the last stable release). However, the dom4j website is generated by maven, so things has to be changed to the javadoc generation. I know it's possible, for example http://jakarta.apache.org/commons/collections/ contains older javadocs which are generated by maven. I don't know the details, but they added some extra code to maven.xml. If I had time, I could look at it right now, unfortunately, I don't have much free time... if you would like to see this added to dom4j very fast, feel free to submit a patch so I can commit it and regenerate the website :-) ... or maybe you could give dom4j 1.5 a try ... :-) regards, Maarten Hunter Kelly wrote: http://ads.osdn.com/?ad_id=3149&amp;amp;alloc_id=8166&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] reference external entities from a xml file</header>
    <date>Fri Jul 30 01:39:00 CEST 2004</date>
    <body>Hi I have one xml file that contains the following line and a dtd file called "latin.dtd" that has this line Whenever I use SAXReader.read(inputxml) to read the xml file, I get the following error: The entity "lbs" was referenced, but not declared. Nested exception: The entity "lbs" was referenced, but not declared. The parsing will be fine if I add Is there a way to get around this issue, without declaring &amp;lt;!DOCTYPE&amp;gt; in the xml file? Should I try EntityResolver? Thanks -- This e-mail may contain confidential and/or privileged information. If you are not the intended recipient (or have received this e-mail in error) please notify the sender immediately and destroy this e-mail. Any unauthorized copying, disclosure or distribution of the material in this e-mail is strictly forbidden.</body>
  </mail>
  <mail>
    <header>[dom4j-user] result of XPath expression is not a Node</header>
    <date>Mon Jul 26 21:11:00 CEST 2004</date>
    <body>Hello, I'm confused about org.dom4j.Node's method selectSingleNode(String) - it's supposed to return a Node.  What happens when the XPath expression doesn't find anything is not documented, but I'd assume that it would return null. Instead, it throws an exception - the message in the exception suggests you try another method such as selectObject() to evaluate the results of the expression: org.dom4j.XPathException: Exception occurred evaluting XPath: The result of the XPath expression is not a Node. It was: true of type: java.lang.Boolean. You might want to use a different method such as selectObject() to evaluate this XPath expression at org.dom4j.xpath.DefaultXPath.selectSingleNode(DefaultXPath.java:163) at org.dom4j.tree.AbstractNode.selectSingleNode(AbstractNode.java:188) at [... etc] I can use selectObject() or some other method to try to get to the nodes I'm interested in, but the behavior kind of bites.  Is this a bug? Cheers, - R</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to create element with deep path at once</header>
    <date>Thu Jul 22 10:04:00 CEST 2004</date>
    <body>All ,hi: With XPath, I can find node very easily with such as= "//document/title". But when I want to create a deep node such= as "//document/title/c1", is there any fastest way to finish it= without parsing this string? =A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1Andy =A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1huangming@... =A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A12004-07-22</body>
  </mail>
  <mail>
    <header>[dom4j-user] Adding the same Element instance multiple times</header>
    <date>Wed Jul 21 13:09:00 CEST 2004</date>
    <body>Hi, Using dom4j 1.4, I've made a little convenient class to parse and update XML documents, which eventually would be written to a file. While testing it, I happened on a very strange behaviour at first glance : I created a simple XML document through the DocumentHelper class, with some Elements and Attributes in it. Then I tried to add a new "&amp;lt;test-new&amp;gt;" Element instance 4 times at several locations of the Document through XPath, which works fine : the corresponding XML file is updated correctly, and the String representation of the Document (through OutputFormat, StringWriter and XMLWriter) is correct. Now when I search all &amp;lt;test-new&amp;gt; Elements (through document.selectNodes("//test-new")) inside the Document object in memory (i.e. without re-parsing from the corresponding file !) : only one Element is returned in the List, with path "/test-new", which is wrong by the way (I didn't replace the root Element with &amp;lt;test-new&amp;gt;). And the 3 other &amp;lt;test-new&amp;gt; elements are simply ignored ! After some more tests I figured out that adding the same Element instance to the document at several locations wasn't the best solution. Apparently I need to clone() that instance every time I want to add it. OR, the other solution was to re-parse the Document from the XML file (after I had inserted the same &amp;lt;test-new&amp;gt; Element several times in the Document and wrote it to the file), so that a new Document tree was created again, and the selectNodes() method would return the 4 &amp;lt;test-new&amp;gt; Elements correctly. But this would cost too much in performance of course... My questions are : is there something wrong with my experiments and conclusions above ? Is there another way to add the same Element instance several times inside a document without having to clone it every time ? Thanks for your help. I hope everything was clear in my explanations. Regards, Alain</body>
  </mail>
  <mail>
    <header>[dom4j-user] Any xml processing performance numbers - 100 Megabytes?</header>
    <date>Sat Jul 17 03:20:00 CEST 2004</date>
    <body>Does anyone know of any performance numbers out there for performing xpath and/or xslt to pull nodes out of xml where the xml is on the order of 100 megabytes of data? Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Processing Instructions at start of document</header>
    <date>Fri Jul 16 18:01:00 CEST 2004</date>
    <body>I have noticed the following behavior: If I create a document (with default DocumentFactory), add a Root Element and only then add a Processing Instruction, when I print out the xml document (using asXML()), the PI ends up at the end of the document. It appears that all children of the Document are stored as a list and and such the PI is stored after the root element. I wonder if maybe internally, the PI should be moved to the front of the list when on is added. I can see an argument that this is the reponsability of the developer to ensure that a PI is added before a root element. Am I correct that this is the expected behavior? Thanks! Yoel Spotts</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Processing Instructions at start of document</header>
    <date>Fri Jul 16 18:14:00 CEST 2004</date>
    <body>Yes, that's the behaviour I'd expect at least. The XML spec allows comments, whitespace and PIs to appear after the root element, and so the developer should be able to add nodes there if desired. If you're interested in working with the order of a document's nodes, you should get the document's content via the content() method, and edit the returned List: content.add(rootIdx, best, christian. On Jul 16, 2004, at 2:02 PM, Yoel Spotts wrote: http://ads.osdn.com/?ad_id=4721&amp;amp;alloc_id=10040&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Entity expansion limit?</header>
    <date>Sat Jul 10 01:17:00 CEST 2004</date>
    <body>Hi -- I'm new here.  :-) I am working with some large XML files (~6MB) that serve as indexes into = hundreds of smaller XML content files.  The large index files include = element attributes whose value is an XPath string, something like this: Each index file contains thousands of these elements.  As the indexes = have grown larger, I have started seeing the following exception: org.dom4j.DocumentException: Error on line 31111 of document: Parser = has reached the entity expansion limit "64,000" set by the Application. = Nested exception: Parser has reached the entity expansion limit "64,000" = set by the Application. at org.dom4j.io.SAXReader.read(SAXReader.java:355) at org.dom4j.io.SAXReader.read(SAXReader.java:297) The problem seems to be all of those "&amp;amp;apos;" entities.  (There are as = many as 85,000 of them in some of the files.)  But the apostrophes are = required by the XPath syntax.  So I have a few questions: 1) Why does this 64,000-entity limit exist? 2) The error message says the limit was "set by the Application."  Does = this mean there is a configurable limit that I can modify to avoid the = exception? 3) The problem goes away if I manually replace all the entities ( &amp;amp;apos; = ) with character references ( &amp;amp;#39; ).  However, my code sets the dom4j = attribute value using a plain apostrophe in a Java string: pageElement.addAttribute( "xpath", = dom4j is apparently converting the apostrophes to entities as the = document is written to disk.  Is there a way to tell dom4j to write the = data using character references, rather than entities? Thanks, - Chip Whitmer Mobile Productivity, Inc.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Entity expansion limit?</header>
    <date>Sat Jul 10 07:45:00 CEST 2004</date>
    <body>Chip, You can solve your problem in some ways: - use dom4j 1.5 RC1: in this release, your apostrophes won't be converterd to "&amp;amp;apos;" anymore (they won't be converted to anything) or - read the JAXP release notes where solutions are described to change this entity expansion limit: http://java.sun.com/webservices/docs/1.2/jaxp/ReleaseNotes.html * *regards, Maarten Chip Whitmer wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Resolving ID/IDREFS elements</header>
    <date>Mon Jul 05 09:01:00 CEST 2004</date>
    <body>Hi! I have some elements with attributes of IDREFS type, referring to other elements by their ID. Does DOM4J give me any methods for resolving these entities transparently (eg. kan I use DOM4J to find the ID referred element - or do I self have to find the element by getting the attribute values, and finding the referred element?) Hope I was able to express my self clearly - but I'm not sure :-) -- David J. M. Karlsen - +47 90 68 22 43 http://www.davidkarlsen.com http://mp3.davidkarlsen.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] [announce] dom4j 1.5 RC1 released</header>
    <date>Sun Jul 04 20:02:00 CEST 2004</date>
    <body>The dom4j team is pleased to announce the dom4j 1.5-rc1 release! http://www.dom4j.org Changes in this version include: New Features: o Added method to Element to retrieve all Namespaces for a given URI. Thanks to Thomas Diesler. o Added a booleanValueOf(Object node) method to XPath. Thanks to Ben Scarlet. Fixed bugs: o Added the namespace-prefix of attributes to the paths returned by Attribute.getPath(Element context) and Attribute.getUniquePath(Element context). Thanks to Aaron Bell. o Element.declaredNamespaces() now only returns the namespaces that are declared on that element. Element.additionalNamespaces() now only returns namespaces that are declared on that element and is not the same as the namespace of that element. Thanks to Marc Pellmann. o Escape the values of internal DTD entity declarations when serializing to XML. Thanks to Marc Pellmann. o Fixed bug in AbstractElement causing Node.getPath(Element context) to return an absolute path, even if a the current element was the same as the context element. The relative path "." is now returned. Thanks to Rob Grzywinski. o Fixed bug in DOMReader causing namespace declarations to get lost in some situations. Thanks to Thomas Diesler. o Fixed bug in BeanElement which prevented proper execution of the bean samples. Thanks to Wonne Keysers. o Fixed bug in SAXReader that caused problems parsing files in OSX. Thanks to Paul Libbrecht. o Fixed bug in XMLWriter that caused whitespace to be added between successive calls of the characters(...) method. Thanks to Paul Libbrecht. Changes: o Added the GNU JAXP DOM implementation to the default list of implementations in DOMWriter. o Added method to ElementStack and DispatchHandler to check if a handler is registered for a given path. Thanks to Wonne Keysers. o ElementStack is now a public class. Thanks to Wonne Keysers. o SAXContentHandler.endElement(...) can now throw SAXException. Thanks to Wonne Keysers. o STAXEventWriter now uses XMLEventConsumer instead of XMLEventWriter. Thanks to Christian Niles. o Improved performance of NamespaceCache in multithreaded environments. Thanks to Brett Finnell. Removed features: o Removed the DocumentHelper.parseText(String xml, String encoding) method that was introduced in dom4j-1.5-beta2. Have fun! -The dom4j team</body>
  </mail>
  <mail>
    <header>[dom4j-user] [newbie] Please advice on concurrent readonly access (XPath) performance/safety</header>
    <date>Thu Jul 01 09:18:00 CEST 2004</date>
    <body>Hello, There's this use case in front of me that involves metadata of resources in a hierarchy (e.g. a filesystem). I was thinking of implementing this as follows: * Create an XML document describing this hierarchy and the associated metadata. * Use XPath to query for metadata for a given resource. Can someone please advice on how safe and efficient is the use of a single document instance for concurrent XPath queries (in a J2EE environment). Is it safe and efficient to share a single instance across the application threads (again, for readonly access)? Many thanks in advance, Manos</body>
  </mail>
  <mail>
    <header>[dom4j-user] asXml() encoding question</header>
    <date>Wed Aug 25 14:47:00 CEST 2004</date>
    <body>Hi ! =20 I'm using Dom4j to build Xml object in memory and then use the textual = XML representation given by the asXml() method to send it over HTTP. My problem is when I add a text node to the object, the string of which contains characters with accents, I get weird characters in the textual = XML. My guess is there is an encoding issue here.=20 =20 Is it required to specify encoding somewhere (I want to use UTF-8) ? In = the Text node itself maybe ? Or do I need to encode the text before creating the text node ? =20 Example : B=E2timent becomes b=C3=A2timent=20 (yes, this is French) =20 I'm using dom4j 1.5rc1 and the addText() method of the Node Interface. =20 thanks</body>
  </mail>
  <mail>
    <header>[dom4j-user] Mid-size dynamic XML (DOM) result handling in Tomcat.</header>
    <date>Mon Aug 23 16:10:00 CEST 2004</date>
    <body>Hi all, I'm not sure if my question should be addressed to the Tomcat or dom4j list, so this is going to both. I'm running Tomcat for my company intranet and most of my Java applications return their results as XML so that I can style the data with XSLT.  I am using dom4j to dynamically build up the DOM (dom4j Document) and I pass that to a Transformer in a servlet. Since I want to slice'n'dice these results with XSLT, I am keeping hold of the Document on the server using an HttpSession entry so it's sitting there as I apply the different stylesheets (specified as a servlet parameter). I've read that dom4j in-memory representations are 8-to-10 times the size of the XML text - so I am very aware that my solution is not scalable (my current project results are about 1MB on disc). Is there a "best practice" for this sort of thing?  Should I be serializing the Document to a DB or something and just keeping a handle to that in the HttpSessions?   Should I be using SAX in some clever way? I'm sure it's a common task to handle medium-sized results from Tomcat. Any input would be gratefully received. Best regards Chris --=20 Chris Ward, Horizon Asset Limited Tel +44 (20) 7367 7028, Fax 7367 7029</body>
  </mail>
  <mail>
    <header>[dom4j-user] bug in Stylesheet.removeRule(Rule)</header>
    <date>Sat Aug 21 14:12:00 CEST 2004</date>
    <body>Hello, while reading about dom4j rules, i found this tiny bug... In Stylesheet.java (org.dom4j.rule.Stylesheet), there is: I guess it should be: -Peter</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] bug in Stylesheet.removeRule(Rule)</header>
    <date>Sun Aug 22 12:23:00 CEST 2004</date>
    <body>Hi Peter, I've added your fix to CVS. Thanks for reporting this bug :-) regards, Maarten Peter Stibrany wrote: http://www.shop4tech.com/z/Inkjet_Cartridges/9_108_r285 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] bug in xpath</header>
    <date>Tue Aug 17 06:44:00 CEST 2004</date>
    <body>&amp;gt; I'm not sure what to think of this issue. The thing is that you are=20 ML=20 uld=20 ut=20 Hi, the code was working fine for years, so I had no idea that my use case is invalid. The same method was called once on new empty document (crea= te) and once for existing document (update), where the xpath test had meani= ng. Nonetheless thank you for your explanation. I will add some kind of che= ck, so it will not happen. Though I agree with you, that NPE is not good ex= ception to throw. Regards Leos -------------------- JSI RYCHLEJ=A9=CD, NE=AE SI MYSL=CD=A9. http://www.NIKESPEED.COM http://user.c= entrum.cz/redir.php?url= 3Dhttp://www.nikespeed.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Create and parse simple xml under java 1.1</header>
    <date>Sun Aug 15 02:55:00 CEST 2004</date>
    <body>I need to both build up and xpath select some very simple xml - but it needs to run under java 1.1. Any suggestions? (dom4j requires java 1.2 from what I can see.) Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Create and parse simple xml under java 1.1</header>
    <date>Mon Aug 16 20:16:00 CEST 2004</date>
    <body>dom4j uses the collections API introduced in 1.2. Perhaps you can try to=20 download the collections extension for JDK1.1 and rename all the=20 "collection imports" to the names of the extension? But I'm not sure=20 that's the only place where dom4j doesn't work nicely with JDK1.1 And=20 perhaps jaxen also needs the JDK 1.2 to run?? If you find a nice way of solving your problems, please let us know... regards, Maarten David Thielen wrote: t=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] problem with numeric character reference</header>
    <date>Tue Aug 10 22:29:00 CEST 2004</date>
    <body>Hello all, I'm having some trouble with a numeric chracter reference.  I have some well-formed UTF-8 encoded html that i am pulling from a database table and would like to parse and manipulate with dom4j. Some of the html to represent a right close quotation mark.  After creating a Document object with SAXReader, the references are converted to a single character.  For example, &amp;amp;amp;#8221; is converted to, when viewed in a hex editor, 1C. So I guess I'd like to know whether there is a means of disabling the processing of numeric character references? I realize this may be a parser issue but was curious if anyone had run into a similar problem. Thanks in advance for any help. Kevin __________________________________ Do you Yahoo!? New and Improved Yahoo! Mail - 100MB free storage! http://promotions.yahoo.com/new_mail</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem with numeric character reference</header>
    <date>Mon Aug 16 20:13:00 CEST 2004</date>
    <body>Hi Kevin, this is something the SAX parser does, I don't think that you can disable this behaviour (although I saw tricks for this on the xerces user mainling list a while ago, perhaps you could try to search their archives) regards, Maarten Kevin Varley wrote: http://promotions.yahoo.com/new_mail http://www.shop4tech.com/z/Inkjet_Cartridges/9_108_r285 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] bug in xpath</header>
    <date>Fri Aug 13 11:57:00 CEST 2004</date>
    <body>Hi, I upgraded to RC1 but I had to revert back to previous final version, b= ecause there were=0D issues with selectNode (jaxen respectively). I think the issue is following: (simplified, selectSingleNode is part of method, that is called either = on empty or existing document). java.lang.NullPointerException at org.jaxen.dom4j.DocumentNavigator.getChildAxisIterator(Docum= entNavigator.java:227) at org.jaxen.expr.iter.IterableChildAxis.namedAccessIterator(It= erableChildAxis.java:100) at org.jaxen.expr.DefaultNameStep.evaluate(DefaultNameStep.java= :183) at org.jaxen.expr.DefaultLocationPath.evaluate(DefaultLocationP= ath.java:151) at org.jaxen.expr.DefaultAbsoluteLocationPath.evaluate(DefaultA= bsoluteLocationPath.java:240) at org.jaxen.expr.DefaultXPathExpr.asList(DefaultXPathExpr.java= :107) at org.jaxen.BaseXPath.selectNodesForContext(BaseXPath.java:712= ) at org.jaxen.BaseXPath.selectNodes(BaseXPath.java:241) at org.jaxen.BaseXPath.selectSingleNode(BaseXPath.java:264) at org.dom4j.xpath.DefaultXPath.selectSingleNode(DefaultXPath.j= ava:144) at org.dom4j.tree.AbstractNode.selectSingleNode(AbstractNode.ja= va:186) Leos -------------------- P=F8ipravte se! Je tu =B9kola. Nav=B9tivte v=E8as Pal=E1c Fl=F3ra. Od 2= 0.srpna do 5.z=E1=F8=ED prob=EDh=E1 v Pal=E1ci Fl=F3ra speci=E1ln=ED tr= h =B9koln=EDch pot=F8eb. http://user.centrum.cz/redir.php?url=3Dhttp://= http://www.palacflora.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] bug in xpath</header>
    <date>Mon Aug 16 20:10:00 CEST 2004</date>
    <body>Hi, I'm not sure what to think of this issue. The thing is that you are=20 trying to run an xpath-expression on an invalid XML document (valid XML=20 documents must have a root element!). I believe that an exception should=20 be thrown if you try to select nodes using xpath on such documents (but=20 not a NPE which is the case now). I think you should try to avoid doing xpath evaluations on such documents= ... regards, Maarten literakl@... wrote: cause there were n empty or existing document). ntNavigator.java:227) rableChildAxis.java:100) 183) th.java:151) soluteLocationPath.java:240) 107) va:144) a:186) .srpna do 5.z=E1=F8=ED prob=EDh=E1 v Pal=E1ci Fl=F3ra speci=E1ln=ED trh =B9= koln=EDch pot=F8eb. http://user.centrum.cz/redir.php?url=3Dhttp://www.pal= acflora.com http://www.shop4tech.com/z/Inkjet_Cartridges/9_108_r285 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] gmane</header>
    <date>Fri Aug 13 11:59:00 CEST 2004</date>
    <body>Hi, could you please subscribe (and archive) this list into gmane news inte= rface? http://www.gmane.org Thanks Leos -------------------- P=F8ipravte se! Je tu =B9kola. Nav=B9tivte v=E8as Pal=E1c Fl=F3ra. Od 2= 0.srpna do 5.z=E1=F8=ED prob=EDh=E1 v Pal=E1ci Fl=F3ra speci=E1ln=ED tr= h =B9koln=EDch pot=F8eb. http://user.centrum.cz/redir.php?url=3Dhttp://= http://www.palacflora.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] namespace defaulting</header>
    <date>Tue Aug 10 17:28:00 CEST 2004</date>
    <body>Hi, I am not able to set the default namespace as i want it while writing an xml document from a dom4j object model. This is what i want.  Watch the xmlns="...".  It does not say xmlns:jbpm="...". http://jbpm.org/statedefinition ... When I set the namespace of the process-definition element like this pde.add( new Namespace(null, " http://jbpm.org/statedefinition all its children get an empty namespace (valid but not what i want) What am i missing ? All hints and pointers are appreciated. Regards, Tom Baeyens tom@... jBpm Support Company Campus Blairon 465 2300 Turnhout Belgium +32 14 711 152</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] namespace defaulting</header>
    <date>Tue Aug 10 18:16:00 CEST 2004</date>
    <body>Hi Tom, how do create the dom4j object model? If I try to build your xml document like this, it seems to work fine ... Element processDef = doc.addElement("process-definition", " http://jbpm.org/statedefinition-2.0-beta3 regards, Maarten Tom Baeyens wrote: http://jbpm.org/statedefinition http://jbpm.org/statedefinition-2.0-beta3 http://jbpm.org/statedefinition http://jbpm.org/statedefinition-2.0-beta3</body>
  </mail>
  <mail>
    <header>[dom4j-user] moving elements ina list</header>
    <date>Mon Aug 09 21:44:00 CEST 2004</date>
    <body>Hi, I am trying to move elements in a list with, by placing the element to move after an element that was found to be the previous element: This works if I have more than one element. If I have only one element in the children list, then the moveElem is placed at the first position in the list. XML for this problem would look like: so the child element is set to be the previousElem. The result of the above code is: thanks for any help, -Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] moving elements ina list</header>
    <date>Mon Aug 09 21:58:00 CEST 2004</date>
    <body>Robert Koberg wrote: This was supposed to be:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] moving elements ina list</header>
    <date>Tue Aug 10 14:30:00 CEST 2004</date>
    <body>Robert, this is fixed now in CVS. Thanks for reporting! Maarten Robert Koberg wrote: http://www.shop4tech.com/z/Inkjet_Cartridges/9_108_r285 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] moving elements ina list</header>
    <date>Tue Aug 10 15:14:00 CEST 2004</date>
    <body>Maarten Coene wrote: Is this the cvs repository? cvs -d :pserver:anonymous@... login cvs -z3 -d :pserver:anonymous@... co dom4j I grabbed it, built and tested but do not see the fix. Is there a different repo to grab from? thanks, -Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] moving elements ina list</header>
    <date>Tue Aug 10 15:21:00 CEST 2004</date>
    <body>There is some delay between the anonymous CVS repositories and the developers CVS. But you can also find the fix here: http://cvs.sourceforge.net/viewcvs.py/dom4j/dom4j/src/java/org/dom4j/tree/BackedList.java The only thing that has been changed is the BackedList.java file Maarten Robert Koberg wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] DocumentHelper.createAttribute and owner argument</header>
    <date>Tue Aug 10 14:44:00 CEST 2004</date>
    <body>Hello. DocumentHelper.createAttribute needs owner argument, but this argument is ignored (comment for issue 626919 says it is OK). On the other hand, there isn't DocumentHelper.createAttribute without owner argument. createAttribute method isn't documented to note this fat. I think that owner argument should be removed or used and createAttribute should be documented. -Peter Stibrany Link to issue 626919: http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=626919&amp;amp;group_id=16035&amp;amp;atid=116035</body>
  </mail>
  <mail>
    <header>[dom4j-user] setText() doesn't convert to utf-8</header>
    <date>Fri Aug 06 03:13:00 CEST 2004</date>
    <body>I am creating a DOM using Document and Element.setText(). The created xml from Document.asXML() is set to encoding="utf-8". However, it appears that while it converts items like &amp;lt; to &amp;amp;lt;, it doesn't convert chars that are greater than 0x7f to their utf-8 value. Is there something special I have to do? Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Asking again: setText() doesn't convert to utf-8</header>
    <date>Sun Aug 08 18:31:00 CEST 2004</date>
    <body>I am creating a DOM using Document and Element.setText(). The created xml from Document.asXML() is set to encoding="utf-8". However, it appears that while it converts items like &amp;lt; to &amp;amp;lt;, it doesn't convert chars that are greater than 0x7f to their utf-8 value. Is there something special I have to do? Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Asking again: setText() doesn't convert to utf-8</header>
    <date>Mon Aug 09 10:35:00 CEST 2004</date>
    <body>Hi David, if you want to convert these characters greater than 0x7f, you'll have to create your xml like this: org.dom4j.Document document = [...] regards, Maarten David Thielen wrote:</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Asking again: setText() doesn't convert to utf-8</header>
    <date>Mon Aug 09 15:26:00 CEST 2004</date>
    <body>Just to confirm, if I do this then the Document.asXML() will return a string with the characters in utf-8? (Actually getting utf-8 as a string is a weird concept - it's more like you should query for something like byte [] Document.asXmlAsByteArray().) Anyways, will Document.asXML().getBytes() then give me a correct utf-8 byte array? I ask because it's weird that you set a maximum allowed character as utf-8 is pretty straightforward as to what is converted. Also, I can't find a XMLWriter.setMaximumAllowedCharacter() and in the dom4j javadoc index I can't find a setMaximumAllowedCharacter() for any class. ??? - thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Maarten Coene Sent: Monday, August 09, 2004 4:34 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Asking again: setText() doesn't convert to utf-8 Hi David, if you want to convert these characters greater than 0x7f, you'll have to create your xml like this: org.dom4j.Document document = [...] regards, Maarten David Thielen wrote: ------------------------------------------------------- This SF.Net email is sponsored by OSTG. Have you noticed the changes on Linux.com, ITManagersJournal and NewsForge in the past few weeks? Now, one more big change to announce. We are now OSTG- Open Source Technology Group. Come see the changes on the new OSTG site. http://www.ostg.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Asking again: setText() doesn't convert to utf-8</header>
    <date>Mon Aug 09 15:44:00 CEST 2004</date>
    <body>Does it make more sense (and would it work) to instead just call Document.asXML().getBytes("utf-8")? Logically that should work. Thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Thielen Sent: Monday, August 09, 2004 9:26 AM To: 'Maarten Coene' Cc: dom4j-user@... Subject: RE: [dom4j-user] Asking again: setText() doesn't convert to utf-8 Just to confirm, if I do this then the Document.asXML() will return a string with the characters in utf-8? (Actually getting utf-8 as a string is a weird concept - it's more like you should query for something like byte [] Document.asXmlAsByteArray().) Anyways, will Document.asXML().getBytes() then give me a correct utf-8 byte array? I ask because it's weird that you set a maximum allowed character as utf-8 is pretty straightforward as to what is converted. Also, I can't find a XMLWriter.setMaximumAllowedCharacter() and in the dom4j javadoc index I can't find a setMaximumAllowedCharacter() for any class. ??? - thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Maarten Coene Sent: Monday, August 09, 2004 4:34 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Asking again: setText() doesn't convert to utf-8 Hi David, if you want to convert these characters greater than 0x7f, you'll have to create your xml like this: org.dom4j.Document document = [...] regards, Maarten David Thielen wrote: ------------------------------------------------------- This SF.Net email is sponsored by OSTG. Have you noticed the changes on Linux.com, ITManagersJournal and NewsForge in the past few weeks? Now, one more big change to announce. We are now OSTG- Open Source Technology Group. Come see the changes on the new OSTG site. http://www.ostg.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------- This SF.Net email is sponsored by OSTG. Have you noticed the changes on Linux.com, ITManagersJournal and NewsForge in the past few weeks? Now, one more big change to announce. We are now OSTG- Open Source Technology Group. Come see the changes on the new OSTG site. http://www.ostg.com _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j xpath - how to indicate to ignore namespaces?</header>
    <date>Wed Aug 04 19:16:00 CEST 2004</date>
    <body>Im using dom4j xpath to parse an xml which has namespaces. Is there a way i can indicate to dom4j that i want it to 'ignore' namespace when i provide xpath? currently in using something like "*[local-name()='Envelope']/*[local-name()='Header']/*[local-name()='HTTPEnd Point']" Im not sure, if the above has performance issues...so i was looking to see if I can some now just use "/Envelope/Header/HTTPEndPoint" thanks and regards, Naveen Srinivasa Murthy</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j xpath not finding anything</header>
    <date>Tue Sep 28 16:21:00 CEST 2004</date>
    <body>I'm having some odd difficulties using dom4j to process XPath statements on my documents. I've been working through the quick start, and have browsed the mailing list, so I hope I'm not overlooking something, or doing something really dumb... I retrieve my XML from an XML database (XStreamDB), and successfully feed it to dom4j to get back an Element (or a Document) representing the contents of the xml document. Now, I'm trying to use dom4j to process the contents of the Document to pull out some values (and to insert/change some values). I'm doing something like this (I've simplified the XPath to show something that should have at least one value in my document): String xmlContent = (some magical process to get it from the database) Document myDocument = reader.read( new InputSource( new StringReader( All I get for identifierNode is null, and matchingNodes is an empty List. My documents have at least one "identifier" element, so I'm confused why dom4j isn't finding either. If I open up the xpath selector to be something like "//string" (there are dozens of "string" elements in each document), I still get null for the selectSingleNode(), and an empty List for selectNodes(). Any ideas, tips or hints would be greatly appreciated! - D'Arcy Norman Software Developer Learning Commons, The University of Calgary dlnorman@... http://careo.ucalgary.ca http://commons.ucalgary.ca/weblogs/dnorman (403) 220-2504 AIM/iChatAV: dnorman@...</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j xpath not finding anything</header>
    <date>Wed Sep 29 02:34:00 CEST 2004</date>
    <body>Hi, I remember having a problem with this when I started using dom4j and unfortunately, I can't remember exactly how I got around it. (I would probably not even reply and let someone more knowledgeable help you, but this is a rather quiet list... or, more accurately, a rather one-sided list.) It seems to me that the trouble had something to do with the document having a doctype declaration. I don't know why that would screw up an xpath, but it seems like I had more luck when I took the dtd declaration out. I know that pretty much sucks, but... Yeah, I just went and tried it and this works when there's no dtd, but finds nothing when there is: I don't think I ever got an answer as to why that is so. Well, if you can't get rid of the dtd, try playing around with more explicit xpaths and from deeper contexts... seems like that worked for me too. Good luck to ya! Ben PS: please let me know if you figure out what the trick is... I'll have to write it down this time. D'Arcy Norman wrote: http://careo.ucalgary.ca http://commons.ucalgary.ca/weblogs/dnorman http://sf.net/ppc_contest.php https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j xpath not finding anything</header>
    <date>Wed Sep 29 04:36:00 CEST 2004</date>
    <body>On Sep 28, 2004, at 8:34 PM, Ben Munat wrote: Thanks for responding! Wasn't sure what volume the list gets... Um. Yeah. That would be, well, bad... I modified my code to use the Apache XPath stuff and W3C DOM instead, and it works like a charm there. Not as friendly to code, but works... ;-) - D'Arcy Norman Software Developer Learning Commons, The University of Calgary dlnorman@... http://careo.ucalgary.ca http://commons.ucalgary.ca/weblogs/dnorman (403) 220-2504 AIM/iChatAV: dnorman@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] XMLWriter - white spaces in mixed content?</header>
    <date>Tue Sep 28 13:11:00 CEST 2004</date>
    <body>Hi, It's a question related to white-space handling. I've created a DOM object and would like to write it out into an XML file. It seems to be an easy task. I can write it simply out with XMLWriter, then I'll get the whole XML file in one line. It's not very practical, since the XML file will be quite large and I would like to check this (conversion result) in a text editor...etc. So I'd like to split the content to lines - somehow. I can specify formatting for the XMLWriter OutputFormat.createPrettyPrint() ... but it's not aware of the target DTD - of course, so it'll indent everything, which creates errors. If the content model is a mixed content (#PCDATA + elements), then it's not allowed to insert extra white-space just for formatting, since it's changing the content! I haven't found any option of the OutputFormat or the XMLWriter which solves this problem. Please help! Best regards, Barnabas Davoti</body>
  </mail>
  <mail>
    <header>[dom4j-user] XQuery support in dom4j</header>
    <date>Mon Sep 27 22:11:00 CEST 2004</date>
    <body>Any idea if/when there will be XQuery support in dom4j? And if the answer is never, any suggestions of what to use? We really need AND, OR, etc. constructs. Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XQuery support in dom4j</header>
    <date>Tue Sep 28 07:13:00 CEST 2004</date>
    <body>I don't know about XQuery support in dom4j, but Saxon have it. It works. I didn't test it detail. It is well known XQuery implemenation. BTW, does anyone know any Open Source STREAMING XQuery implementation I could use in Java? I really need it, because of high memory demands. Saxon is less memory demanding than dom4j, because Key (author of Saxon use some kind of TinyTree's which are less memory consuming) but if you have 2GB file... only streaming implementation can help, don't you think so? But I cann't find any! David Thielen &amp;lt;david@...&amp;gt; wrote: Any idea if/when there will be XQuery support in dom4j? And if the answer is never, any suggestions of what to use? We really need AND, OR, etc. constructs. Thanks - dave --------------------------------- Do you Yahoo!? Yahoo! Mail - 50x more storage than other providers!</body>
  </mail>
  <mail>
    <header>[dom4j-user] Minimum Java version required for DOM4j</header>
    <date>Mon Sep 27 21:51:00 CEST 2004</date>
    <body>Hi, What is the minimum java runtime environment version required to run DOM4j version 1.5? thanks, Tom</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Minimum Java version required for DOM4j</header>
    <date>Mon Sep 27 22:12:00 CEST 2004</date>
    <body>I know it does not work under 1.1 and I know it does work under 1.3. No idea on 1.2 but I would guess it does. Thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Tom Hjellming Sent: Monday, September 27, 2004 3:51 PM To: dom4j-user@... Subject: [dom4j-user] Minimum Java version required for DOM4j Hi, What is the minimum java runtime environment version required to run DOM4j version 1.5? thanks, Tom ------------------------------------------------------- This SF.Net email is sponsored by: YOU BE THE JUDGE. Be one of 170 Project Admins to receive an Apple iPod Mini FREE for your judgement on who ports your project to Linux PPC the best. Sponsored by IBM. Deadline: Sept. 24. Go here: http://sf.net/ppc_contest.php _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] qualified name issue</header>
    <date>Mon Sep 27 18:52:00 CEST 2004</date>
    <body>Hi ! I'm trying to generate an xml document and one of the elements has a namespace associated with it: I'm not sure how to set up the root element (ChangeSalesLead) so that it has xmlns:oa=" http://www.openapplications.org/oagis " in it.  I looked at the qualified name example in the cookbook but its not really what I need. Any help would be appreciated. Swati</body>
  </mail>
  <mail>
    <header>[dom4j-user] Xpath</header>
    <date>Mon Sep 27 08:10:00 CEST 2004</date>
    <body>Hello! I have an XPath like this substring(//ROOT/Father/son, 1, 1) . How can I get the value of this function with the XPath object? Thanks, Seva</body>
  </mail>
  <mail>
    <header>Fwd: Re: [dom4j-user] large files dom4j OutOfMemory error</header>
    <date>Tue Sep 21 11:16:00 CEST 2004</date>
    <body>Ben Munat &amp;lt;bent@...&amp;gt; wrote: First, thanks for your answer. I think you can use Saxon with dom4j. Check out the javadocs for SAXReader; it talks about setting the reader to whatever parser you want. I don't want to use Saxon. I can do it in Saxon, but I would preffer dom4j instead. When I do: //do Xpath Expression SAXreader do it job (now, when I chenge not to use InputStream, now it use StringReader), but second expresion, doc.selectnodes , gives OutOfMemory. If for some reason, SAXReader won't work with Saxon, you could also try passing SAXReader's "read" method a File instead of the InputSource/StringReader combo: I have no idea if that'll make a difference... the memory usage may be the same or worse. But it couldn't hurt to try it. I don't have a file. I read data from MySQL BLOB. In fact, I made XML:DB implementation (native XML database) with MySQL and used dom4j for implement XPathQueryService, but today I made new implementation of this Service using Saxon. I wanted to avoid Saxon, becouse : 1. I don't like Saxon 2. suspicious licence 3. unsinchronized documentation with actual implementation (i.e. examples from the tutorial cannot compile) 4. IMO : Saxon API is more complicated then dom4j API Sorry I don't know a surefire answer to your problem. No problem, at least you try to help (and succeded a bit). Thank you! --------------------------------- Do you Yahoo!? New and Improved Yahoo! Mail - Send 10MB messages!</body>
  </mail>
  <mail>
    <header>[dom4j-user] large files dom4j OutOfMemory error</header>
    <date>Mon Sep 20 14:44:00 CEST 2004</date>
    <body>I tried to use dom4j for large file XPath processing, but with 8MB file I get OutOfMemory error. Saxon can do it with 8MB file. Comments? Did I oversee something? Here is my source: //do Xpath Expression .... --------------------------------- Do you Yahoo!? Y! Messenger - Communicate in real time. Download now.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] large files dom4j OutOfMemory error</header>
    <date>Mon Sep 20 15:53:00 CEST 2004</date>
    <body>I think you can use Saxon with dom4j. Check out the javadocs for SAXReader; it talks about setting the reader to whatever parser you want. If for some reason, SAXReader won't work with Saxon, you could also try passing SAXReader's "read" method a File instead of the InputSource/StringReader combo: I have no idea if that'll make a difference... the memory usage may be the same or worse. But it couldn't hurt to try it. Sorry I don't know a surefire answer to your problem. Ben Mladen Adamovic wrote: http://us.rd.yahoo.com/mail_us/taglines/msgr/evt=26088/*http://messenger.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] 56 possible bugs in dom4j/jaxen</header>
    <date>Sat Sep 11 01:52:00 CEST 2004</date>
    <body>I ran findbugs ( http://findbugs.sourceforge.net http://findbugs.sourceforge.net/ &amp;gt; ) on dom4j and jaxen and got the following list. This reports based on rules so some of these things are almost certainly false positives. But I'll bet some are real bugs. M C Se: Class org.dom4j.bean.BeanAttribute defines non-transient non-serializable instance field org.dom4j.bean.BeanAttribute.beanList M C SnVI: org.dom4j.bean.BeanDocumentFactory is Serializable; consider declaring a serialVersionUID M C SnVI: org.dom4j.bean.BeanElement is Serializable; consider declaring a serialVersionUID M C Se: Class org.dom4j.datatype.DatatypeDocumentFactory defines non-transient non-serializable instance field org.dom4j.datatype.DatatypeDocumentFactory.schemaBuilder M C Se: Class org.dom4j.datatype.DatatypeDocumentFactory defines non-transient non-serializable instance field org.dom4j.datatype.DatatypeDocumentFactory.xmlSchemaReader M C NP: Possible null pointer dereference in org.dom4j.datatype.DatatypeDocumentFactory.createAttribute(org.dom4j.Element ,org.dom4j.QName,String)  At DatatypeDocumentFactory.java:[line 120] M C SnVI: org.dom4j.DocumentFactory is Serializable; consider declaring a serialVersionUID M C UCF: Useless control flow in org.dom4j.dom.DOMDocumentFactory.getInstance()  At DOMDocumentFactory.java:[line 52] M C RR: org.dom4j.io.aelfred.XmlParser.detectEncoding() ignores result of java.io.InputStream.read(byte[])  At XmlParser.java:[line 3712] H C RV: org.dom4j.io.aelfred.XmlParser.pushURL(String,String,String,java.io.Reader,j ava.io.InputStream,String) ignores return value of java.lang.String.trim() At XmlParser.java:[line 3628] M C RR: org.dom4j.io.aelfred2.XmlParser.detectEncoding() ignores result of java.io.InputStream.read(byte[])  At XmlParser.java:[line 3986] H C RV: org.dom4j.io.aelfred2.XmlParser.pushURL(boolean,String,String[],java.io.Read er,java.io.InputStream,String,boolean) ignores return value of java.lang.String.trim()  At XmlParser.java:[line 3868] M C RCN: Redundant comparison to null in org.dom4j.io.aelfred2.XmlParser.parseAttribute(String)  At XmlParser.java:[line 1132] M P UPM: Private method org.dom4j.io.aelfred2.XmlParser.parseUntil(String) is never called  At XmlParser.java:[lines 4396-4397] M C CN: Class org.dom4j.io.OutputFormat implements Cloneable but does not define or use clone method M C RCN: Redundant comparison to null in org.dom4j.io.SAXHelper.createXMLReader(boolean)  At SAXHelper.java:[line 62] H C HE: org.dom4j.rule.Rule defines equals and uses Object.hashCode() M C SnVI: org.dom4j.swing.XMLTableColumnDefinition is Serializable; consider declaring a serialVersionUID M M RS: org.dom4j.tree.ConcurrentReaderHashMap's readObject method is synchronized M C HE: org.dom4j.tree.DefaultNamespace defines equals but not hashCode M C It: org.dom4j.tree.SingleIterator.next() can't throw NoSuchElement exception  At SingleIterator.java:[lines 34-37] M C ES: Comparison of String objects using == or != in org.dom4j.util.NodeComparator.compare(String,String)   At NodeComparator.java:[line 262] M C OS: org.xml.sax.helpers.XMLReaderFactory.createXMLReader() may fail to close stream  At XMLReaderFactory.java:[line 127] M C UCF: Useless control flow in org.xml.sax.helpers.XMLReaderFactory.createXMLReader()  At XMLReaderFactory.java:[line 137] H C HE: org.jaxen.saxpath.conformance.ConformanceXPathHandler defines equals and uses Object.hashCode() M C RC: Suspicious comparison of java.lang.Boolean references in org.jaxen.expr.DefaultAndExpr.evaluate(org.jaxen.Context)  At DefaultAndExpr.java:[line 182] M C RC: Suspicious comparison of java.lang.Boolean references in org.jaxen.expr.DefaultOrExpr.evaluate(org.jaxen.Context)  At DefaultOrExpr.java:[line 186] M C It: org.jaxen.xom.DocumentNavigator$IndexIterator.next() can't throw NoSuchElement exception  At DocumentNavigator.java:[line 236] M C NP: Possible null pointer dereference in org.jaxen.xom.DocumentNavigator.getDocumentNode(Object)  At DocumentNavigator.java:[line 217] M V MS: org.dom4j.io.SAXWriter.LEXICAL_HANDLER_NAMES should be package protected H V MS: org.dom4j.io.SAXWriter.FEATURE_NAMESPACE_PREFIXES isn't final but should be H V MS: org.dom4j.io.SAXWriter.FEATURE_NAMESPACES isn't final but should be M V MS: org.dom4j.io.XMLWriter.LEXICAL_HANDLER_NAMES should be package protected M V MS: org.dom4j.QName.cachePerThread isn't final but should be M V MS: org.dom4j.tree.AbstractNode.NODE_TYPE_NAMES should be package protected M V MS: org.dom4j.tree.NamespaceCache.cache isn't final but should be M V MS: org.dom4j.tree.NamespaceCache.noPrefixCache isn't final but should be H C Nm: VERY confusing to have methods org.dom4j.dom.DOMDocumentType.getPublicId() and org.dom4j.tree.DefaultDocumentType.getPublicID() H C Nm: VERY confusing to have methods org.dom4j.dom.DOMDocumentType.getSystemId() and org.dom4j.tree.DefaultDocumentType.getSystemID() M C UwF: Unwritten field: org.dom4j.io.XMLWriter.showCommentsInDTDs M P SIC: Should org.dom4j.io.HTMLWriter$FormatState be a _static_ inner class? M P UrF: Unread field: org.dom4j.io.SAXContentHandler.availableNamespaceMap M P UrF: Unread field: org.dom4j.io.SAXContentHandler.declaredNamespaceList M P UuF: Unused field: org.dom4j.io.aelfred.XmlParser.baseEncoding M P UuF: Unused field: org.dom4j.io.aelfred.XmlParser.baseInputBuffer M P UuF: Unused field: org.dom4j.io.aelfred.XmlParser.baseInputBufferLength M P UuF: Unused field: org.dom4j.io.aelfred.XmlParser.baseInputBufferStart M P SIC: Should org.dom4j.jaxb.JAXBModifier$JAXBElementModifier be a _static_ inner class? M P SIC: Should org.dom4j.jaxb.JAXBReader$PruningElementHandler be a _static_ inner class? M P SIC: Should org.dom4j.jaxb.JAXBReader$UnmarshalElementHandler be a _static_ inner class? M P SIC: Should org.jaxen.dom.DocumentNavigator$AttributeIterator be a _static_ inner class? M P SIC: Should org.jaxen.dom.NamespaceNode$EmptyNodeList be a _static_ inner class? M P UrF: Unread field: org.jaxen.util.StackedIterator.contextNode M P UrF: Unread field: org.xml.sax.helpers.XMLFilterImpl.locator M P SIC: Should org.xml.sax.helpers.XMLReaderAdapter$AttributesAdapter be a _static_ inner class? M M IS2: Inconsistent synchronization of org.dom4j.tree.ConcurrentReaderHashMap.table; locked 69% of time Unsynchronized access at ConcurrentReaderHashMap.java:[line 664]</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] jaxen NoClassDefFoundError with simple script</header>
    <date>Thu Sep 09 22:15:00 CEST 2004</date>
    <body>You now have to add jaxen to the classpath - no idea why it's not included in dom4j.jar anymore Date:  Thu, 9 Sep 2004 16:59:48 -0500 (Central Daylight Time) http://sf.net/ppc_contest.php https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] jaxen NoClassDefFoundError with simple script</header>
    <date>Thu Sep 09 21:59:00 CEST 2004</date>
    <body>Hello, I'm having problems getting a simple dom4j program to work. I'm running it against dom4j-1.5.jar. Here is the entire program: ----&amp;lt;snip&amp;gt;---- Document document = DocumentHelper.parseText( "&amp;lt;first&amp;gt;&amp;lt;second name=\"foo\"/&amp;gt;&amp;lt;/first&amp;gt;" System.out.println("Name is: " + ----&amp;lt;snip&amp;gt;---- Simple enough, right? It compiles fine, but whenever I run it, this is what I get: Exception in thread "main" java.lang.NoClassDefFoundError: org/jaxen/JaxenException at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:196) at org.dom4j.tree.AbstractNode.createXPath(AbstractNode.java:205) at org.dom4j.tree.AbstractNode.valueOf(AbstractNode.java:190) at Test.main(Test.java:10) I thought jaxen was supposed to be included with dom4j. Am I missing something fundamental here? -jvp ------------------------------------------------- Jonathan V. Phillips        |  jvp@... Product Development Manager |  tel (812) 456-1238 Cinergy Communications      |  fax (812) 759-1638</body>
  </mail>
  <mail>
    <header>[dom4j-user] [announcement] dom4j 1.5 released!</header>
    <date>Fri Sep 03 21:02:00 CEST 2004</date>
    <body>The dom4j team is pleased to announce the dom4j 1.5 release! http://dom4j.org dom4j: the flexible XML framework for Java Changes in this version include: New Features: o Added initial JAXB support. Thanks to Wonne Keysers. o Added getXMLEncoding() method to org.dom4j.Document which returns the encoding of the document. Fixed bugs: o Fixed bug in XMLWriter.characters(...) where the escapeText property of the writer was ignored. Thanks to Dion Gillard. o Fixed the Stylesheet.removeRule(Rule) method which didn't remove the Rule but added it again. Thanks to Peter Stibrany. o Fixed bug in BackedList causing new elements to always be added at the first position if the size of the list is 1. Thanks to Robert Koberg. Changes: o Upgraded the internal Aelfred2 parser to the latest version. o Updated the STAX classes to provide document encoding. Thanks to Christian Niles. Have fun! -The dom4j team</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] [announcement] dom4j 1.5 released!</header>
    <date>Sat Sep 04 21:50:00 CEST 2004</date>
    <body>FYI - you now need to have jaxen in your classpath too. - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Maarten Coene Sent: Friday, September 03, 2004 3:02 PM To: dom4j-dev@...; dom4j-user@... Subject: [dom4j-user] [announcement] dom4j 1.5 released! The dom4j team is pleased to announce the dom4j 1.5 release! http://dom4j.org dom4j: the flexible XML framework for Java Changes in this version include: New Features: o Added initial JAXB support. Thanks to Wonne Keysers. o Added getXMLEncoding() method to org.dom4j.Document which returns the encoding of the document. Fixed bugs: o Fixed bug in XMLWriter.characters(...) where the escapeText property of the writer was ignored. Thanks to Dion Gillard. o Fixed the Stylesheet.removeRule(Rule) method which didn't remove the Rule but added it again. Thanks to Peter Stibrany. o Fixed bug in BackedList causing new elements to always be added at the first position if the size of the list is 1. Thanks to Robert Koberg. Changes: o Upgraded the internal Aelfred2 parser to the latest version. o Updated the STAX classes to provide document encoding. Thanks to Christian Niles. Have fun! -The dom4j team ------------------------------------------------------- This SF.Net email is sponsored by BEA Weblogic Workshop FREE Java Enterprise J2EE developer tools! Get your free copy of BEA WebLogic Workshop 8.1 today. http://ads.osdn.com/?ad_id=5047&amp;amp;alloc_id=10808&amp;amp;op=click _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] dom4j caching</header>
    <date>Thu Sep 02 15:33:00 CEST 2004</date>
    <body>Thanks for this - I'll look into it.  I seem to recall seeing something about this on my Google travels. I think it comes down to the usual issue of priorities.  Sometimes response time is my priority, so I lean towards keeping the in-memory Document cache - other times (web server) memory space is the priority, so I lean towards puking the text out to DB/file then reading back in. I wondered if there was some magic way to puke the Document to DB/file then read it back in in Document form (rather than having to parse the text). Then I started to use XMLFilters - so I found I needed to re-parse the text anyway! (Is there any way of applying filters to a Document rather than to the String version?) Best regards Chris</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j caching</header>
    <date>Thu Sep 02 14:27:00 CEST 2004</date>
    <body>Hi, An open ended question I know, but does anyone have any recommendations on caching dom4j objects - particularly in on a web server? I have a few applications that generate large Documents which may be=20 required by subsequent requests.  I've played with caching the actual Documents on the server and with saving to file and reloading.  I think the Document versions are about 8x the size of the text versions - is that right? Anyone got any good advice? Thanks. Chris</body>
  </mail>
  <mail>
    <header>[dom4j-user] Asking again : Adding the same Element instance multiple times</header>
    <date>Thu Sep 02 07:25:00 CEST 2004</date>
    <body>Since I didn't get any answer for this e-mail, I'm sending it again, just in = case=2E Hope someone can help me on this=2E Regards Alain ----- Message d'origine ----- Date: Wed, 21 Jul 2004 15:09:09 +0200 Sujet: Adding the same Element instance multiple times =C0: dom4j-user@... Hi, Using dom4j 1=2E4, I've made a little convenient class to parse and update XM= L documents, which eventually would be written to a file=2E While testing it,= I happened on a very strange behaviour at first glance : I created a simple XML document through the DocumentHelper class, with some E= lements and Attributes in it=2E Then I tried to add a new "" Element instance= 4 times at several locations of the Document through XPath, which works fine= : the corresponding XML file is updated correctly, and the String representa= tion of the Document (through OutputFormat, StringWriter and XMLWriter) is co= rrect=2E Now when I search all Elements (through document=2EselectNodes("//test-new"))= inside the Document object in memory (i=2Ee=2E without re-parsing from the c= orresponding file !) : only one Element is returned in the List, with path "/= test-new", which is wrong by the way (I didn't replace the root Element with = )=2E And the 3 other elements are simply ignored ! After some more tests I figured out that adding the same Element instance to = the document at several locations wasn't the best solution=2E Apparently I ne= ed to clone() that instance every time I want to add it=2E OR, the other solu= tion was to re-parse the Document from the XML file (after I had inserted the= same Element several times in the Document and wrote it to the file), so tha= t a new Document tree was created again, and the selectNodes() method would r= eturn the 4 Elements correctly=2E But this would cost too much in performance= of course=2E=2E=2E My questions are : is there something wrong with my experiments and conclusio= ns above ? Is there another way to add the same Element instance several times inside a = document without having to clone it every time ? Thanks for your help=2E I hope everything was clear in my explanations=2E Regards, Alain</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOM4Jj/stax/validation/multiple parsers</header>
    <date>Wed Sep 01 18:08:00 CEST 2004</date>
    <body>Howdy, I'm using dom4j (1.5 rc1) with the pull parser in my app to do some soap processing.  Hibernate also uses dom4j to process its configuration file.  As soon as I dropped in the pull parser and stax jars, it appears that hibernate configuration processing stopped working, because it can't find a validating parser... Warning: Caught exception attempting to use SAX to load a SAX XMLReader Warning: Exception was: org.xml.sax.SAXException: System property org.xml.sax.driver not specified Warning: I will print the stack trace then carry on using the default SAX parser and 11:36:59,812 ERROR Configuration:934 - problem parsing configuration/wasabi/hibernate.cfg.xml org.dom4j.DocumentException: Validation not supported for XMLReader: org.dom4j.io.aelfred2.SAXDriver@... Nested exception: http://xml.org/sax/features/validation Nested exception: Validation not supported for XMLReader: org.dom4j.io.aelfred2.SAXDriver@... Nested exception: http://xml.org/sax/features/validation at org.dom4j.io.SAXReader.read(SAXReader.java:355) at net.sf.hibernate.cfg.Configuration.doConfigure(Configuration.java:930) Specifying the SAX driver is sort of a pain, but it does appear to work.  But, I'm curious as to what is happening here.  I'm using java 1.4.2 so it should have a validating parser and dom4j should be able to find it automatically, no? - Dan</body>
  </mail>
  <mail>
    <header>[dom4j-user] Set the value of a Namespace Node</header>
    <date>Fri Oct 29 07:26:00 CEST 2004</date>
    <body>Hello, I am creating a new document and want to add a Namespace Node to an element. This part is working fine. Now I want to set a value/text to this Namespace. The setTExt methods throws an UnsupportedException, because the Namespace is readOnly. Can someone tell me, why and how to set the text? Namespace nNew = new Namespace("tsixmlcompare"," http://www.fdhhfd.com/sdgsdg Thanks, Juraj</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Set the value of a Namespace Node</header>
    <date>Fri Oct 29 09:30:00 CEST 2004</date>
    <body>Hi Juraj, I'm not sure what you are trying to do, but a Namespace Node is in fact a special Attribute Node (however, it does not extend Attribute). For instance: if you create a Namespace Node (prefix: "mypref", uri: "myuri") and add it to an Element, in the corresponding XML that element will have an attribute xmlns:mypref="myuri". So, it's pretty obvious you can't set the text of a Namespace Node. I think you want to create an Element that has a Namespace declaration: http://www.fdhhfd.com/sdgsdg"&amp;gt;ADD&amp;lt;/tsixmlcompare To create the above element: do something like this: Element child = parent.addElement("tsixmlcompare", http://www.fdhhfd.com/sdgsdg regards, Maarten Juraj.Lenharcik@... wrote: Hello, I am creating a new document and want to add a Namespace Node to an element. This part is working fine. Now I want to set a value/text to this Namespace. The setTExt methods throws an UnsupportedException, because the Namespace is readOnly. Can someone tell me, why and how to set the text? Namespace nNew = new Namespace("tsixmlcompare"," http://www.fdhhfd.com/sdgsdg Thanks, Juraj ------------------------------------------------------- This Newsletter Sponsored by: Macrovision For reliable Linux application installations, use the industry's leading setup authoring tool, InstallShield X. Learn more and evaluate today. http://clk.atdmt.com/MSI/go/ins0030000001msi/direct/01/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Do you Yahoo!? Y! Messenger - Communicate in real time. Download now.</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Sat Oct 30 00:28:00 CEST 2004</date>
    <body>I have a dom4j program that adds cloned nodes into a Document. I'm noticing that when it comes time to process the cloned node (this can include cloning the clone) (I use a recursive treewalk) that the clone is always missing a Document, and frequently a Parent. This only happens when I process a clone. *Roughly*, the scheme is: clone = node.clone();  //createCopy has the same effect with treewalk eventually calling back into processNode. Dumping the Document I get the mis-processed clones, although in the wrong location (the search for their parent fails due to the null Document). Is this out-of-scope for dom4j or am I missing some step? It's almost like the tree needs to be re-read before processing the clone (not an option in this case). If someone has an example of cloning a clone and inserting it into the Document I'd appreciate a look. Thanks-- Mike</body>
  </mail>
  <mail>
    <header>[dom4j-user] [ANN] dom4j 1.5.1 has been released !</header>
    <date>Fri Oct 29 19:49:00 CEST 2004</date>
    <body>The dom4j team is pleased to announce the dom4j 1.5.1 maintenance release! You can find a download link on http://www.dom4j.org Changes in this version include: New Features: o Added support for the XPP3 parser. Thanks to Pelle Braendgaard. Fixed bugs: o Fixed problem where the namespace prefix was lost using DOMDocument. Thanks to Ara Vartanian. o Fixed bug in Document.asXML() which ignored the encoding of the document. Thanks to David Karlsen. o Fixed a bug in XMLWriter where a NullPointerException was thrown if trying to write a CData section containing null content. Thanks to Daniel Hopper. Changes: o Updated NamespaceCache to use WeakReferences to allow Namespace objects to be garbage collected. o Updated JAXBReader to allow ElementHandlers to be notified when the specified path is encountered, without having to unmarshall XML content. Thanks to Wonne Keysers. o Modified the internal Aelfred2 parser to no longer support the SAX2 Extensions 1.1 API. As a result, the SAX2 sources are no longer included with dom4j. Have fun! -The dom4j team</body>
  </mail>
  <mail>
    <header>[dom4j-user] Basic question about serialization, namespaces, and DOMDocument</header>
    <date>Tue Oct 26 19:45:00 CEST 2004</date>
    <body>I'm using dom4j 1.5 and I'm having a problem when serializing tags of the form: with code like: OutputFormat outformat = XMLWriter writer = new XMLWriter(new FileOutputStream(f), The output is stripped down to &amp;lt;suffix xmlns="uri"&amp;gt;. I've searched around the the web and this mailing list's archives and haven't found anything explaining this. Also, I'm receiving a "Warning: missing namespace ignored: xxx" message as the XML is being parsed. Any help would be greatly appreciated. I've been poking around for a few days, and I can't figure out what's going on. Yrs, Ara V. __________________________________ Do you Yahoo!? Yahoo! Mail Address AutoComplete - You start. We finish. http://promotions.yahoo.com/new_mail</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Basic question about serialization, namespaces, and DOMDocument</header>
    <date>Wed Oct 27 09:30:00 CEST 2004</date>
    <body>Hi Ara, could you provide us some code that illustrates how you create your dom4j document (variable d in your example) thanks Maarten Ara Vartanian &amp;lt;ara_vartanian@...&amp;gt; wrote: I'm using dom4j 1.5 and I'm having a problem when serializing tags of the form: with code like: OutputFormat outformat = XMLWriter writer = new XMLWriter(new FileOutputStream(f), The output is stripped down to . I've searched around the the web and this mailing list's archives and haven't found anything explaining this. Also, I'm receiving a "Warning: missing namespace ignored: xxx" message as the XML is being parsed. Any help would be greatly appreciated. I've been poking around for a few days, and I can't figure out what's going on. Yrs, Ara V. __________________________________ Do you Yahoo!? Yahoo! Mail Address AutoComplete - You start. We finish. http://promotions.yahoo.com/new_mail ------------------------------------------------------- This SF.Net email is sponsored by: Sybase ASE Linux Express Edition - download now for FREE LinuxWorld Reader's Choice Award Winner for best database on Linux. http://ads.osdn.com/?ad_id=5588&amp;amp;alloc_id=12065&amp;amp;op=click _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Do you Yahoo!? Yahoo! Mail  CNET Editors' Choice 2004.  Tell them what you think.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Basic question about serialization, namespaces, and DOMDocument</header>
    <date>Wed Oct 27 22:19:00 CEST 2004</date>
    <body>Maarten, Sure thing. I just use: DOMDocumentFactory factory = I need a org.dom4j.dom.DOMDocument rather than merely a org.dom4j.Document, because my XML files have mixed content, and, as I far as I understand (I easily could be wrong), Document doesn't support mixed content. If add elements programmatically, the serialization strips the prefixes and leaves only the xmlns tag such that: becomes: If I read an XML file with something like: SAXReader xmlReader = new I receive the "Warning: missing namespace ignored: prefix" and the parsed document is again stripped down to: Thanks so much for helping out. Cheers, Ara --- Maarten Coene &amp;lt;maarten_coene@...&amp;gt; wrote: http://promotions.yahoo.com/new_mail ------------------------------------------------------- http://ads.osdn.com/?ad_id=5588&amp;amp;alloc_id=12065&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Validation error?</header>
    <date>Wed Oct 27 22:43:00 CEST 2004</date>
    <body>After generating my document with dom4j I validate it: I then give this document to a third party tool to use and they give this: org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: Invalid content starting with element 'Widget'. The content must match at org.apache.xerces.parsers.DOMParser.parse(DOMParser.java:267) at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:201) So, am I not validating like I think I am, or is the third party validation perhaps stricter? My generated document restricts itself to Type, WidgetProperty, Widget, and DisplayBox... although not in that order. Thanks-- Mike</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Basic question about serialization, namespaces,
 and DOMDocument</header>
    <date>Thu Oct 28 17:29:00 CEST 2004</date>
    <body>Ara Vartanian wrote: there is no need to use DOMDocument : the default org.dom4j.Document implementations does support mixed content I'll investigate this ... regards, Maarten</body>
  </mail>
  <mail>
    <header>[dom4j-user] Need Help for Encoding.</header>
    <date>Thu Oct 21 18:25:00 CEST 2004</date>
    <body>Hi, I'm trying to use XMLWriter in order to well format an XML String that=20 I've just build from information in DataBase. An ex : =20 I'll forward the String s to a JSP page and want to display the XML=20 using XSLT transform. When I desplay the result I've : Cylindr??e : 1300 cm?? And not : Cylindr=E9e : 1300 cm=B3 Where's the problem ? I'm using UTF-8 everywhere in my pages... Thanks in advance. Steph</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Need Help for Encoding.</header>
    <date>Fri Oct 22 08:50:00 CEST 2004</date>
    <body>OutputFormat uses UTF-8 as the default encoding, so it really should work. You don't really need to define it explicitly as: You use OutputStream and not a Writer, so the encoding will be really use= d=20 defined by the format. The Java source is something like iso8859-1 (depends on your locale), whi= ch is encoded to UTF-16 in the compiled code. Try to use direct character unicode references (\uxxxx) to define your sp= ecial=20 characters. --=20 Barnabas Davoti Information Architect empolis Scandinavia phone:  +47 2414-7976 mobile: +47 4161-8058 St=E9phane Toussaint wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Next release?</header>
    <date>Tue Oct 19 20:45:00 CEST 2004</date>
    <body>When will the next release of DOM4J be? I'm wondering because there are som essential errors which are fixed in CVS - but are not included in 1.5. Will there be a 1.5.1 maintaince release - or do we have to wait for a long time for 1.6? Kind regards, David Karlsen</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Next release?</header>
    <date>Wed Oct 20 19:30:00 CEST 2004</date>
    <body>Hi David, I'm busy preparing a dom4j 1.5.1 maintenance release which will be released shortly. I can't give you an exact date though cause almost all my time is going to some other projects at the moment regards, Maarten David J. M. Karlsen wrote: http://productguide.itmanagersjournal.com/guidepromo.tmpl https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] insert sibling elements</header>
    <date>Mon Oct 11 01:07:00 CEST 2004</date>
    <body>Hi, I have the following xml that I want to manipulate with dom4j: org.apache.struts.action.ActionServlet *** want to insert new init param here *** I'd like to insert a new init param immediately after the servlet-class element.  I have a solution which is very ugly 1) locate servlet element using xpath XPath xpathSelector = 2) iterate over the elements counting the index of the servlet-class element 3) construct ArrayList of elements from original elements 4) add &amp;lt;init-param&amp;gt; element to servlet element (this adds it as the last child servlet element) 5) add this new element into the ArrayList after the servlet-class element. 6) set the contents of the servlet element with the modified ArrayList This feels like a hack.  It feels to me that there should be some other way of achieving this outcome. Is there any other way to create an element without adding it as the last child of the parent it was created on? Is there any way to add an element as a sibling, after a specific element? cheers Nathan -- Nathan Coast Managing Director codeczar ltd mobile: (852) 9049 5581 email:  mailto:nathan@... web: http://www.codeczar.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] insert sibling elements</header>
    <date>Mon Oct 11 07:11:00 CEST 2004</date>
    <body>I guess that XUpdate can help you. But, I'm not sure. I think you should check its manual... Nathan Coast &amp;lt;nathan@...&amp;gt; wrote: *** want to insert new init param here *** __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] insert sibling elements</header>
    <date>Mon Oct 11 13:01:00 CEST 2004</date>
    <body>Sorry, I don't know what XUpdate is, google came up with a variety of possible XUpdates :) can you send me a link? thanks Nathan Mladen Adamovic wrote: http://mail.yahoo.com -- Nathan Coast Managing Director codeczar ltd mobile: (852) 9049 5581 email:  mailto:nathan@... web: http://www.codeczar.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] dom4j encoding</header>
    <date>Wed Oct 06 12:35:00 CEST 2004</date>
    <body>Hi, Try something like that : XMLWriter writer =3D new XMLWriter(out, new OutputFormat("  ", true, "UTF-8"));=20 writer.write(doc);=20 Where out is an OutputStream and doc is a dom4j Document object. -----Message d'origine----- De=A0: Antonio Carvalho [mailto:Antonio.Carvalho@... Envoy=E9=A0: vendredi 1 octobre 2004 18:01 =C0=A0: dom4j-user@... Objet=A0: [dom4j-user] dom4j encoding Hello... I need help... I need change the encoding in a dom4j Document... How can i do this? Thanks TZ ------------------------------------------------------- This SF.net email is sponsored by: IT Product Guide on = ITManagersJournal Use IT products in your business? Tell us what you think of them. Give = us Your Opinions, Get Free ThinkGeek Gift Certificates! Click to find out = more http://productguide.itmanagersjournal.com/guidepromo.tmpl _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j encoding</header>
    <date>Fri Oct 08 09:39:00 CEST 2004</date>
    <body>Lesaint S=E9bastien wrote: Yes it works this way, but only if you pass here an OutputStream. If you = pass a=20 Writer object instead (using an other constructor) it'll not function: I think it's a correct way of using the API, but I still get ANSI encodin= g. As=20 I'm aware it's not possible to change the Writer's encoding as far as it'= s=20 already created. ...and so the API doesn't do it. The encoding was set fo= r the=20 OutputFormat is simply not used in this case. So it's an inconsistent functioning of the API or we can say it's a bug. Best regards, --=20 Barnabas Davoti Information Architect empolis Scandinavia phone:  +47 2414-7976 mobile: +47 4161-8058</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j encoding</header>
    <date>Fri Oct 08 10:18:00 CEST 2004</date>
    <body>Of course I was toooo quick. According to the JavaDoc: "Warning: using your own Writer may cause the writer's preferred character encoding to be ignored. If you use encodings other than UTF8, we recommend using the method that takes an OutputStream instead." ...what I misunderstood first, thought "Writer" refers to the XMLWriter class in this case, what confused me and just skipped the note. However the second sentence of the warning is not quite correct - the default encoding is not utf8. BR. Barna Barnabas Davoti wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j encoding</header>
    <date>Fri Oct 08 11:25:00 CEST 2004</date>
    <body>Barnabas Davoti wrote: Just jumping in here but this may be dependent on the file.encoding system property. Try running your prog with -Dfile.encoding=utf8 and see what happens. hth, Manos</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j encoding</header>
    <date>Sun Oct 10 13:42:00 CEST 2004</date>
    <body>Barnabas Davoti wrote: So - what should we use for encoding? StringWriter or another binary OutputStream? Also - Document.asXML() seems to always return the data in UTF-8 and not paying attention to the encoding - bad.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j xpath not finding anything</header>
    <date>Fri Oct 08 19:45:00 CEST 2004</date>
    <body>Hi there, I tried a few tests and it seems like a jaxen bug to me which does not seem to process "//myNodeName" expressions correctly. if someone could mail me an example that works for instance with jdom/jaxen (or dom/jaxen) and not with dom4j/jaxen, I would greatly appreciate it :-) regards, Maarten D'Arcy Norman wrote: http://careo.ucalgary.ca http://commons.ucalgary.ca/weblogs/dnorman http://productguide.itmanagersjournal.com/guidepromo.tmpl https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Resolving relative paths for external entity</header>
    <date>Tue Oct 05 19:10:00 CEST 2004</date>
    <body>(Apologies for the repost, the mailing list appears to be the prefered means for dom4j user support) Hi I have a document with an external entity: PUBLIC "-//Hibernate/Hibernate Mapping DTD//EN" " http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd [ ] So "components/" is a sub directory in the same directory this document is located in. According to RFC 2396 the base URI for the relative path for the external entity should fall back to the location of this document. This works fine validating the doucment with xmllint but when using dom4j it always tries to use "." as the base URI. How can this behaviour be changed/corrected? PS. I noticed that "." get's resolved, when I add some logging to Hibernate's EntityResolver implementation I see the following: [schemaexport] [main] WARN  [] &amp;lt;&amp;gt; - publicId [null] systemId is: file:///develop/newcvstest/handson/components/hsos.contingency.persistence.Contingency.xml I saw this bug fixed in 1.5RC1: "Fixed bug in AbstractElementcausing Node.getPath(Element context)to return an absolute path, even if a the current element was the same as the context element. The relative path "." is now returned. Thanks to Rob Grzywinski ." I am using version 1.5 Thank you Peter</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j encoding</header>
    <date>Fri Oct 01 16:01:00 CEST 2004</date>
    <body>Hello... I need help... I need change the encoding in a dom4j Document... How can i do this? Thanks TZ</body>
  </mail>
  <mail>
    <header>[dom4j-user] overlay of XML-tree</header>
    <date>Mon Nov 29 10:15:00 CET 2004</date>
    <body>Hi! I would like to build an XML-tree as the union of two or more other trees. I want this to be done in a overlay fasion, ie the tree last added should replace old elements if it has the same name. Is this possible in an easy way with dom4j? Example. 1:st three 2:nd three result after applieng the 2:nd to the 1:st -- Andreas Andersson IT Dept. Travelstart Nordic andreas@... http://www.travelstart.se</body>
  </mail>
  <mail>
    <header>[dom4j-user] adding a Document to a Document</header>
    <date>Wed Nov 24 12:57:00 CET 2004</date>
    <body>Hi! How do I add a Document to an existing Document? Or merge two Documents. Document myDocument = I want to have the both nodes in the first Document. Thanks. -- Andreas Andersson IT Dept. Travelstart Nordic andreas@... http://www.travelstart.se</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] adding a Document to a Document</header>
    <date>Thu Nov 25 20:52:00 CET 2004</date>
    <body>Hi Andreas, Try something like this: // get the root element of "myNewDocument" // detach it from that document // then add it to the first document Your "more info" element will be added after the "info" element. Note that you can't just add Documents to Documents... that breaks the rules of xml. Your parse output gives you a Document, but then you want to work with the Nodes/Elements within. Look through the javadocs for Document, Node, Element, etc. There are many, many ways of manipulating element trees in Dom4J. Ben Andreas Andersson wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] CDATA and XSL</header>
    <date>Fri Nov 19 10:02:00 CET 2004</date>
    <body>Hi, I'm using dom4j-1.5.2.jar, xalan and xerces and having a problem with transforming xml with a cdata section that itself contains xml. Using xerces/xalan alone with the xml and xsl transforms fine, and all my other stuff with dom4j works fine. I'm not getting any errors, just an empty document. Has anybody come across this, or have any what it might be? Thanks, Jason</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] CDATA and XSL</header>
    <date>Fri Nov 19 11:18:00 CET 2004</date>
    <body>Can you give us a simple example that illustrates the problem? (java code, xml and xsl) regards, Maarten Jason Rousell &amp;lt;jrousell@...&amp;gt; wrote: Hi, I'm using dom4j-1.5.2.jar, xalan and xerces and having a problem with transforming xml with a cdata section that itself contains xml. Using xerces/xalan alone with the xml and xsl transforms fine, and all my other stuff with dom4j works fine. I'm not getting any errors, just an empty document. Has anybody come across this, or have any what it might be? Thanks, Jason ------------------------------------------------------- This SF.Net email is sponsored by: InterSystems CACHE FREE OODBMS DOWNLOAD - A multidimensional database that combines robust object and relational technologies, making it a perfect match for Java, C++,COM, XML, ODBC and JDBC. http://www.intersystems.com/match8 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Do you Yahoo!? The all-new My Yahoo!  Get yours free!</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] CDATA and XSL</header>
    <date>Fri Nov 19 12:16:00 CET 2004</date>
    <body>Hi Maarten, Really sorry, I solved this straight after posting by simply adding the I did post the fact that I'd sorted it, but like an idiot I posted it to myself and not the list. Thanks anyways, Jason -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Maarten Coene Sent: 19 November 2004 11:19 To: Jason Rousell; dom4j-user@... Subject: Re: [dom4j-user] CDATA and XSL Can you give us a simple example that illustrates the problem? (java code, xml and xsl) regards, Maarten Jason Rousell &amp;lt;jrousell@...&amp;gt; wrote: Hi, I'm using dom4j-1.5.2.jar, xalan and xerces and having a problem with transforming xml with a cdata section that itself contains xml. Using xerces/xalan alone with the xml and xsl transforms fine, and all my other stuff with dom4j works fine. I'm not getting any errors, just an empty document. Has anybody come across this, or have any what it might be? Thanks, Jason ------------------------------------------------------- This SF.Net email is sponsored by: InterSystems CACHE FREE OODBMS DOWNLOAD - A multidimensional database that combines robust object and relational technologies, making it a perfect match for Java, C++,COM, XML, ODBC and JDBC. http://www.intersystems.com/match8 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _____ Do you Yahoo!? http://my.yahoo.com &amp;gt;  - Get yours free!</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to remove attribute</header>
    <date>Fri Nov 19 10:24:00 CET 2004</date>
    <body>I use this code to create or update actuel attribute if necessary. element =3D (Element) = if (actuel.equals("PEL")||actuel.equals("CEL")) = =20 I would remove this attribute existing or not before creating a new. =20 I've tried with element.remove(element.attribute("actuel"));=20 =20 Syntax is correct but it doesn't work with TOMCAT. =20 If somebody can help me ? =20 =20 =20 Jacques SAINT-PIERRE Banque F=E9derale des Banques Populaires Direction Technologies / Responsable Projets Le Ponant de Paris 5 rue Leblanc 75511 Paris Cedex 15 T=E9l : 01.40.39.66.20 et GSM 06.07.78.07.54 Fax : 01.53.78.76.20 =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem getting node data.</header>
    <date>Wed Nov 17 19:30:00 CET 2004</date>
    <body>I can get data from a Node that contains multiple elements but I can't get data from a node that contains a single element. Am I missing some basic concept here? /** * Sample Test Document (test.xml) located in C:\ * * */ public class XMLTest public static void main(String[] args) ///////////////////////////////////////////////////////// // Read Document (works, reads document) ///////////////////////////////////////////////////////// try URL filelocation = new URL(" file:///C:/test.xml catch (DocumentException de) catch (MalformedURLException mue) ///////////////////////////////////////////////////////// // get a node from the document (works, gets node &amp;amp; data) ///////////////////////////////////////////////////////// // get data from node ///////////////////////////////////////////////////////// // get data from node (FAILS TO FIND DATA IN NODE, WHY?) /////////////////////////////////////////////////////////</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem getting node data.</header>
    <date>Thu Nov 18 07:23:00 CET 2004</date>
    <body>Hi Jeff, I couldn't test it out, but I think there is something wrong with your xpath. This will select the value of the test child-element of node2, but node2 doesn't have child elements, so this cannot return "2". I think the following should work (couldn't test it myself over here though) or Did this solve your problem? regards, Maarten "Grove, Jeff" &amp;lt;jeff.grove@...&amp;gt; wrote: I can get data from a Node that contains multiple elements but I cant get data from a node that contains a single element. Am I missing some basic concept here? /** * Sample Test Document (test.xml) located in C:\ * * */ public class XMLTest public static void main(String[] args) ///////////////////////////////////////////////////////// // Read Document (works, reads document) ///////////////////////////////////////////////////////// try URL filelocation = new URL(" file:///C:/test.xml catch (DocumentException de) catch (MalformedURLException mue) ///////////////////////////////////////////////////////// // get a node from the document (works, gets node &amp;amp; data) ///////////////////////////////////////////////////////// // get data from node ///////////////////////////////////////////////////////// // get data from node (FAILS TO FIND DATA IN NODE, WHY?) ///////////////////////////////////////////////////////// --------------------------------- Do you Yahoo!? Meet the all-new My Yahoo!  Try it today!</body>
  </mail>
  <mail>
    <header>[dom4j-user] Mapping dom4j to RDBMS</header>
    <date>Tue Nov 16 13:07:00 CET 2004</date>
    <body>Hi, I'm fairly new to dom4j so I wanted to ask the great dom4j community to give me some pointers, thoughts or design patterns how to map an existing in-memory tree (e.g. dom4j) to RDBMS. Mostly all nodes in that tree are instantiated with the same class ("Element") and could be distinguished by an attribute typ. Every node has a list of its children. Futhermore, these node types have to be stored in different db-tables. Example: A car consists of severel parts (tires, seats, doors .. ) and is represented as a XML-file. ... ... ... So, I've parsed the XML file and generated a dom4j tree. But how do I create a mapping for this in-memory tree with different db-tables (Car, Tyre, Seat..) and read it again out of it in the same structure where all nodes are of the same "Element"? Or is it easier to subclass the "Element"-class and create required real classes like "Car", "Tyre", "Seat".. and create a mapping with them? But how do I reconstruct the tree-structure with that? Thank you all and kind reagards! -- NEU +++ DSL Komplett von GMX +++ http://www.gmx.net/de/go/dsl GMX DSL-Netzanschluss + Tarif zum supergünstigen Komplett-Preis!</body>
  </mail>
  <mail>
    <header>[dom4j-user] [ANN] dom4j 1.5.2 released!</header>
    <date>Tue Nov 16 19:21:00 CET 2004</date>
    <body>The dom4j team is pleased to announce the dom4j 1.5.2 release! http://dom4j.org dom4j: the flexible XML framework for Java Changes in this version include: New Features: o Added a SAXEventRecorder that can replay SAX events at a later time. This provides an alternative serialization approach. Removed features: o Removed the internal Aelfred2 parser due to incompatible license. Have fun! - Maarten</body>
  </mail>
  <mail>
    <header>[dom4j-user] Using selectNodes with detached elements</header>
    <date>Tue Nov 16 12:34:00 CET 2004</date>
    <body>Hello, I have parsed an OpenOffice.org document (content.xml) and tried to get a list of all "table:table" elements. Therefore I used the following code. Element body = The first call of selectNodes works fine. list1 contains all "table:table" elements. But when I detach the "office:body" element (is a child of the root element) and call the selectNodes from body I always get an empty list. But all "table:table" elements are descendants of "office:body". So the result should be the same. Does selectNodes work correctly only on nodes that are part of an existing document and not on nodes that are detached from an document? That's the only difference I can see. Kind regards, Andreas</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Using selectNodes with detached elements</header>
    <date>Tue Nov 16 13:18:00 CET 2004</date>
    <body>Hi Andreas, if I remember correctly (I don't have access to the sources from here), the nodes have to be part of a document if you execute an XPath query on them. hope this helps Maarten Andreas Brillisauer &amp;lt;Andreas.Brillisauer@...&amp;gt; wrote: Hello, I have parsed an OpenOffice.org document (content.xml) and tried to get a list of all "table:table" elements. Therefore I used the following code. Element body = The first call of selectNodes works fine. list1 contains all "table:table" elements. But when I detach the "office:body" element (is a child of the root element) and call the selectNodes from body I always get an empty list. But all "table:table" elements are descendants of "office:body". So the result should be the same. Does selectNodes work correctly only on nodes that are part of an existing document and not on nodes that are detached from an document? That's the only difference I can see. Kind regards, Andreas ------------------------------------------------------- This SF.Net email is sponsored by: InterSystems CACHE FREE OODBMS DOWNLOAD - A multidimensional database that combines robust object and relational technologies, making it a perfect match for Java, C++,COM, XML, ODBC and JDBC. http://www.intersystems.com/match8 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Do you Yahoo!? The all-new My Yahoo!  Get yours free!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Using selectNodes with detached elements</header>
    <date>Tue Nov 16 13:30:00 CET 2004</date>
    <body>Maarten is correct, without the Document you'll get a null pointer Maarten Coene wrote: here), the nodes have to be part of a document if you execute an XPath I have parsed an OpenOffice.org document (content.xml) and tried to get The first call of selectNodes works fine. list1 contains all list. But all "table:table" elements are descendants of "office:body". Does selectNodes work correctly only on nodes that are part of an document and not on nodes that are d etached from an document? That's for Java, C++,COM, XML, ODBC and JDBC. &amp;lt;a class="moz-txt-link-abbreviated" href=" http://www.intersystems.com/match8"&amp;gt;www.intersystems.com/match8&amp;lt;/a&amp;gt;&amp;lt;br https://lists.sourceforge.net/lists/listinfo/dom4j-user"&amp;gt;https://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/a&amp;gt;&amp;lt;br The &amp;lt;a href=" http://my.yahoo.com"&amp;gt;all-new My Yahoo!&amp;lt;/a&amp;gt; &amp;amp;#8211; Get yours</body>
  </mail>
  <mail>
    <header>[dom4j-user] "document node" returned by selectNodes()</header>
    <date>Wed Nov 10 08:44:00 CET 2004</date>
    <body>node.getName() returns 'file:/C:/work/project/fk/conv/test/input/test.xml' node.getNodeTypeName() returns 'Document' node.getPath() returns '/' I just don't understand this. Why don't I get 'Element' calling getNodeTypeName() here? The real problem is that I can't reach the subelements if I select an element (node) using this approach. Is it a bug? BR. -- Barnabas Davoti Information Architect empolis Scandinavia phone:  +47 2414-7976 mobile: +47 4161-8058</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] "document node" returned by selectNodes()</header>
    <date>Wed Nov 10 12:38:00 CET 2004</date>
    <body>what is the content of your "test.xml" file ? regards, Maarten Barnabas Davoti &amp;lt;barna@...&amp;gt; wrote: node.getName() returns 'file:/C:/work/project/fk/conv/test/input/test.xml' node.getNodeTypeName() returns 'Document' node.getPath() returns '/' I just don't understand this. Why don't I get 'Element' calling getNodeTypeName() here? The real problem is that I can't reach the subelements if I select an element (node) using this approach. Is it a bug? BR. -- Barnabas Davoti Information Architect empolis Scandinavia phone: +47 2414-7976 mobile: +47 4161-8058 ------------------------------------------------------- This SF.Net email is sponsored by: Sybase ASE Linux Express Edition - download now for FREE LinuxWorld Reader's Choice Award Winner for best database on Linux. http://ads.osdn.com/?ad_id=5588&amp;amp;alloc_id=12065&amp;amp;op=click _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Do you Yahoo!? Check out the new Yahoo! Front Page. http://www.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] "document node" returned by selectNodes()</header>
    <date>Wed Nov 10 21:38:00 CET 2004</date>
    <body>Maarten Coene wrote: My mistake. It was just a unfortunate mistype and a temporary blindness. Please ignore it. BR. Barna</body>
  </mail>
  <mail>
    <header>[dom4j-user] Schema as application metadata?</header>
    <date>Wed Nov 10 21:01:00 CET 2004</date>
    <body>Is anyone aware of an XML tool that uses what it knows from the schema as meta-data? As a for instance, if I clone(copy) a node I'd like to get back the tree fragment that is schema valid for this node. Likewise I'd like to be able to simply insert this fragment into the tree without having to lookup/know the 'real' parent (from a schema point of view)-- at a minimum I need to be able t travel up the tree and be able to ask if I can insert the fragment here. It seems silly to have to hard code into an application knowledge that already resides in the schema. Thanks-- Mike</body>
  </mail>
  <mail>
    <header>[dom4j-user] Change default</header>
    <date>Tue Nov 09 13:32:00 CET 2004</date>
    <body>Can I sort the List returned by Node.selectNodes()? I've found very interesting this example but how is possible to change = the default order with XPATH' parameter? For example the following code parses an XML play and finds all the = SPEAKER elements sorted in name order.=20 =20 To resolve this problem i use a XSLT transformation &amp;lt;xsl:sort select = I did'nt find any solution in w3c  XPATH's  documentation. Thanks=20 =20 Jacques SAINT-PIERRE Banque F=E9derale des Banques Populaires Direction Technologies / Responsable Projets Le Ponant de Paris 5 rue Leblanc 75511 Paris Cedex 15 T=E9l : 01.40.39.66.20 et GSM 06.07.78.07.54 Fax : 01.53.78.76.20 =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Namespace problem</header>
    <date>Tue Nov 09 13:02:00 CET 2004</date>
    <body>Hello, I would like to edit OpenOffice.org documents (XML format) with dom4j. Therefor I use the OpenOffice.org Flat XML format (the whole document in one xml file instead of four separate documents). The document begins with this tag: http://openoffice.org/2000/office " xmlns:style=" http://openoffice.org/2000/style " xmlns:text=" http://openoffice.org/2000/text " xmlns:table=" http://openoffice.org/2000/table " xmlns:draw=" http://openoffice.org/2000/drawing " xmlns:fo=" http://www.w3.org/1999/XSL/Format " xmlns:xlink=" http://www.w3.org/1999/xlink " xmlns:dc=" http://purl.org/dc/elements/1.1/ " xmlns:meta=" http://openoffice.org/2000/meta " xmlns:number=" http://openoffice.org/2000/datastyle " xmlns:svg=" http://www.w3.org/2000/svg " xmlns:chart=" http://openoffice.org/2000/chart " xmlns:dr3d=" http://openoffice.org/2000/dr3d " xmlns:math=" http://www.w3.org/1998/Math/MathML " xmlns:form=" http://openoffice.org/2000/form " xmlns:script=" http://openoffice.org/2000/script " xmlns:config=" http://openoffice.org/2001/config " office:class="text" The document also contains an OLE object. This means that the document contains the XML code of another document. So you can find another http://openoffice.org/2000/office " xmlns:style=" http://openoffice.org/2000/style " xmlns:text=" http://openoffice.org/2000/text " xmlns:table=" http://openoffice.org/2000/table " xmlns:draw=" http://openoffice.org/2000/drawing " xmlns:fo=" http://www.w3.org/1999/XSL/Format " xmlns:xlink=" http://www.w3.org/1999/xlink " xmlns:dc=" http://purl.org/dc/elements/1.1/ " xmlns:meta=" http://openoffice.org/2000/meta " xmlns:number=" http://openoffice.org/2000/datastyle " xmlns:presentation=" http://openoffice.org/2000/presentation " xmlns:svg=" http://www.w3.org/2000/svg " xmlns:chart=" http://openoffice.org/2000/chart " xmlns:dr3d=" http://openoffice.org/2000/dr3d " xmlns:math=" http://www.w3.org/1998/Math/MathML " xmlns:form=" http://openoffice.org/2000/form " xmlns:script=" http://openoffice.org/2000/script " xmlns:config=" http://openoffice.org/2001/config " office:class="drawing" It's nearly the same. It additionally contains the xmlns:presentation attribute and the value of office:class is "drawing" instead of "text". When I'm parsing the document with dom4j and Xerces and writing it back to a file without editing the Document the OLE object isn't visilble anymore. This is caused because all duplicate namespaces in the second xmlns:presentation=" http://openoffice.org/2000/presentation " When I add the lost namespaces manually the OLE object is visible. So it seems that OpenOffice.org needs those duplicate namespaces at the second How can I force dom4j not to remove those namespaces??? I use this easy code: Document docu = reader.read("/tmp/MyFile.fsxw"); // fsxw is the file extension for OpenOffice.org flat xml files The result is the same when using an XMLWriter object to write the Document.</body>
  </mail>
  <mail>
    <header>[dom4j-user] problem with tags "disappearing" during creation of xml doc</header>
    <date>Thu Nov 04 19:18:00 CET 2004</date>
    <body>I have noticed something unusual when creating an xml document with dom4j. Some of my tags seem to disappear after empty tags and I wanted to know if anyone else has experienced this. For example, if the following is how its SUPPOSE to look: the following is generated if child1 is empty and child2 has a value You can see that child2 is completely ignored even though it shouldnt be. WHY!?!. if anyone else has encountered this please let me know the work around. Thanks for your help in advanced.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem with tags "disappearing" during creation
 of xml doc</header>
    <date>Thu Nov 04 19:53:00 CET 2004</date>
    <body>Hi, I couldn't reprocude your problem. The following code generates the correct XML: could you try the code above to check if it works for you as well? regards, Maarten Swati Vakharia wrote: http://ads.osdn.com/?ad_id=5588&amp;amp;alloc_id=12065&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Changing org.dom4j.factory</header>
    <date>Tue Dec 28 21:34:00 CET 2004</date>
    <body>Hi all, Looking at http://cvs.sourceforge.net/viewcvs.py/dom4j/dom4j/src/java/org/dom4j/DocumentFactory.java?rev=1.41&amp;amp;view=auto , I'm finding that it's difficult to change the org.dom4j.factory property.  I'm not a big properties guy, so maybe I am a clown.  Here is my code in one of my own files: // set up dom4j System.setProperty("org.dom4j.factory", I set breakpoints in my code and the DocumentFactory class, but my property is not set until after getInstance is called for the first time in the static instantiation, rendering my set (and the whole reason to have this property in the first place) useless. Is this call to getInstance() on line 65 something that was added recently?  Could it be taken out?  The first call would obviously be slower, but you could more reliably swap the DocumentFactory. Thanks! Brian</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Changing org.dom4j.factory</header>
    <date>Wed Dec 29 00:48:00 CET 2004</date>
    <body>http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1092472&amp;amp;group_id=16035&amp;amp;atid=316035 is a patch for this. Brian Topping wrote: http://cvs.sourceforge.net/viewcvs.py/dom4j/dom4j/src/java/org/dom4j/DocumentFactory.java?rev=1.41&amp;amp;view=auto , http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] SOAP Message</header>
    <date>Mon Dec 27 06:37:00 CET 2004</date>
    <body>Hey, =20 How issit possible to use dom4j to extract information from SOAP messages and display them as a GUI format? =20 Best Regards, Cheong Der Biao Undergraduate School of Mechanical &amp;amp; Production Engineering Nanyang Technological University email: derbiao@...    =20 hp: 96947844 =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Write xml using SAX &amp;amp; dom4j</header>
    <date>Sat Dec 18 19:21:00 CET 2004</date>
    <body>Is there a way to write out an xml file serially? Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Asking again: Write xml using SAX &amp;amp; dom4j</header>
    <date>Thu Dec 23 02:42:00 CET 2004</date>
    <body>Is there a way to write out an xml file serially? Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Asking again: Write xml using SAX &amp;amp; dom4j</header>
    <date>Thu Dec 23 10:07:00 CET 2004</date>
    <body>I'm sorry but I don't think I understand the question, what do you mean by 'serially' and why would you like to use SAX to write xml? Regards, Edwin On Wed, 22 Dec 2004 19:42:22 -0700, David Thielen &amp;lt;david@...&amp;gt; wrot= e:</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Asking again: Write xml using SAX &amp;amp; dom4j</header>
    <date>Thu Dec 23 14:06:00 CET 2004</date>
    <body>Correct. Or use something to serially write xml instead of building up a DOM in memory and then writing the entire DOM at once. Thanks - dave -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Thursday, December 23, 2004 3:07 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Asking again: Write xml using SAX &amp;amp; dom4j I'm sorry but I don't think I understand the question, what do you mean by 'serially' and why would you like to use SAX to write xml? Regards, Edwin wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Asking again: Write xml using SAX &amp;amp; dom4j</header>
    <date>Thu Dec 23 17:04:00 CET 2004</date>
    <body>Hi David, You might take a look at StAX... I was reading somewhere that it streams in both directions. Makes a lot of sense too, as the thing people have always dinged DOM implementations for is memory consumption. Although... wouldn't one need to have the data in RAM in some form or another? I suppose this would avoid having to keep all your data in your domain objects *and* a DOM tree. Ben PS: I've been on this list for almost a year and haven't ever seen as much activity as I have the last couple weeks... it's great, keep it up! David Thielen wrote: http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Asking again: Write xml using SAX &amp;amp; dom4j</header>
    <date>Thu Dec 23 18:40:00 CET 2004</date>
    <body>Maybe you could try using the org.dom4j.io.SAXModifier for this? Regards, Edwin On Thu, 23 Dec 2004 07:06:55 -0700, David Thielen &amp;lt;david@...&amp;gt; wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Asking again: Write xml using SAX &amp;amp; dom4j</header>
    <date>Fri Dec 24 03:59:00 CET 2004</date>
    <body>Hmm, hadn't gotten around to digging into the 1.5 API... this class is a nice idea. Also, David, I see that the io package now has a STAXEventWriter and STAXEventReader to interface with your StAX code, if you decide to go that route. Ben Edwin Dankert wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Asking again: Write xml using SAX &amp;amp; dom4j</header>
    <date>Fri Dec 24 02:57:00 CET 2004</date>
    <body>BEA came up with it, but it's also a finalized JSR, and so (I think) will wind up in a future release of java. Here are some links: BEA's page: http://dev2dev.bea.com/technologies/stax/index.jsp The JSR: http://jcp.org/en/jsr/detail?id=173 An article: http://www.xml.com/pub/a/2003/09/17/stax.html I wrote an e-commerce webapp a while back that keeps all of the inventory items as objects in memory (loaded from an XML config file with XStream). On each page request, the necessary object data is assembled into dom4j objects and then pretty-printed into the output stream. I'm happy with it, but I'm told that it'll never scale because the DOM is too memory intensive. So, I'm figuring on rewriting it at some point to use StAX. (Though I might do some research on the DOM memory consumption stuff first... if the Dom4j objects are just created to service a request and then printed to the output stream and gc'ed, it's not like they'll live that long... ) Why do you want to stream out anyway? Why not just build the Dom4J document and then print it? Good Luck Ben David Thielen wrote: http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Generifying dom4j?</header>
    <date>Thu Dec 23 18:32:00 CET 2004</date>
    <body>Is there any plan to have a generified version of dom4j along with the current version? I'm almost exclusively using J2SE 5.0 now, and I think it would be a lot nicer if List Element.elements() is defined instead as: List&amp;lt;Element&amp;gt; Element.elements() and so on. At a first glance, this seems entirely possible with a tool like retroweaver. The dom4j project can maintain the core interfaces in the generified form, and then you can use retroweaver on them to get JDK 1.2 compatible interface definitions. The implementaion classes should be then compiled with -source/-target 1.2 to avoid requiring the retroweaver runtime. In this way, the generified version and the classic version can be binary compatible. Any thoughts? -- Kohsuke Kawaguchi</body>
  </mail>
  <mail>
    <header>[dom4j-user] Two suggested improvements for dom4j</header>
    <date>Mon Dec 13 16:48:00 CET 2004</date>
    <body>Well, after getting through the Microsoft SpreadsheetML xml format, I've found two things I think dom4j could really use. 1.	Apparently you can state that white space and cr/lf are part of an element and need to be preserved. So &amp;lt;Data&amp;gt;&amp;lt;Font&amp;gt;hi there&amp;lt;/Font&amp;gt;&amp;lt;/Data&amp;gt; is different from &amp;lt;Data&amp;gt;    &amp;lt;Font&amp;gt;hi there&amp;lt;/Font&amp;gt;    &amp;lt;/Data&amp;gt;. And in this case, there needs to be: a.	A way to create these nodes initially with the spacing. b.	A way to make sure that any XMLWriter type class preserves it exactly. 2.	A way to mark an element's text as final/literal so there is no translation of any character. So you can give the &amp;lt;Data&amp;gt; element the text of Thanks - dave</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Two suggested improvements for dom4j</header>
    <date>Mon Dec 13 17:17:00 CET 2004</date>
    <body>Please correct me if I'm wrong but that is for the SAX reader. I'm at the oppisate end creating the file using a DOM. ??? - thanks - dave -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Monday, December 13, 2004 10:06 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Two suggested improvements for dom4j Hello David, As far as I know, this functionality is already available ... &amp;gt; 1. Apparently you can state that white space and cr/lf are part of an &amp;gt; is different from &amp;lt;Data&amp;gt;    &amp;lt;Font&amp;gt;hi there&amp;lt;/Font&amp;gt;    &amp;lt;/Data&amp;gt;. And in &amp;gt; this case, there needs to be: &amp;gt; a. A way to create these nodes initially with the spacing. &amp;gt; b. A way to make sure that any XMLWriter type class preserves it a. Please use the following property in the SAXReader. http://www.dom4j.org/apidocs/org/dom4j/io/SAXReader.html#setStripWhitespace b. Make sure to set the correct settings on the OutputFormat for the writer, do not add extra newlines and do not trim the text. Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Two suggested improvements for dom4j</header>
    <date>Mon Dec 13 18:14:00 CET 2004</date>
    <body>You create your document in memory ??? If this is the case, you can use text to correctly format your text and use different output formats to change the way the output is written. // Normal output. // This should give you: // 'Pretty' output // This should give you: The writer should not add or remove information unless you tell it to. Regards, Edwin *note: code not tested</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Two suggested improvements for dom4j</header>
    <date>Mon Dec 13 19:05:00 CET 2004</date>
    <body>Thank you - I will try that. Yep - in memory. No real choice as some attributes and elements that must be set at the top I don't know until I have written the complete document. Thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Edwin Dankert Sent: Monday, December 13, 2004 11:14 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Two suggested improvements for dom4j You create your document in memory ??? If this is the case, you can use text to correctly format your text and use different output formats to change the way the output is written. // Normal output. // This should give you: // 'Pretty' output // This should give you: The writer should not add or remove information unless you tell it to. Regards, Edwin *note: code not tested ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Two suggested improvements for dom4j</header>
    <date>Mon Dec 13 17:06:00 CET 2004</date>
    <body>Hello David, As far as I know, this functionality is already available ... &amp;gt; 1. Apparently you can state that white space and cr/lf are part of an &amp;gt; is different from &amp;lt;Data&amp;gt;    &amp;lt;Font&amp;gt;hi there&amp;lt;/Font&amp;gt;    &amp;lt;/Data&amp;gt;. And in &amp;gt; this case, there needs to be: &amp;gt; a. A way to create these nodes initially with the spacing. &amp;gt; b. A way to make sure that any XMLWriter type class preserves it a. Please use the following property in the SAXReader. http://www.dom4j.org/apidocs/org/dom4j/io/SAXReader.html#setStripWhitespaceText(boolean b. Make sure to set the correct settings on the OutputFormat for the writer, do not add extra newlines and do not trim the text. Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Two suggested improvements for dom4j</header>
    <date>Mon Dec 13 19:31:00 CET 2004</date>
    <body>David Thielen schreef: If I'm not mistaken, the XMLWriter supports the xml:space attribute. If=20 you have an element where the white space should be preserved, you can=20 add the xml:space=3D"preserve" to your element regards, Maarten</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Two suggested improvements for dom4j</header>
    <date>Mon Dec 20 11:14:00 CET 2004</date>
    <body>Just to make sure that nobody tries to implement the previous code. The previous code created objects directly which bypasses the dom4j factory and caching mechanisms. Instead of doing it that way, make sure to always use a 'factory' method to create objects: Code not tested. Regards, Edwin</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Two suggested improvements for dom4j</header>
    <date>Tue Dec 21 02:49:00 CET 2004</date>
    <body>Are you saying we should code as below? Or not code as below and do it a different way? Thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Edwin Dankert Sent: Monday, December 20, 2004 4:14 AM To: dom4j-user@... Subject: Re: [dom4j-user] Two suggested improvements for dom4j Just to make sure that nobody tries to implement the previous code. The previous code created objects directly which bypasses the dom4j factory and caching mechanisms. Instead of doing it that way, make sure to always use a 'factory' method to create objects: Code not tested. Regards, Edwin ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Asking again: Two suggested improvements for dom4j</header>
    <date>Thu Dec 23 02:42:00 CET 2004</date>
    <body>Are you saying we should code as below? Or not code as below and do it a different way? Thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Edwin Dankert Sent: Monday, December 20, 2004 4:14 AM To: dom4j-user@... Subject: Re: [dom4j-user] Two suggested improvements for dom4j Just to make sure that nobody tries to implement the previous code. The previous code created objects directly which bypasses the dom4j factory and caching mechanisms. Instead of doing it that way, make sure to always use a 'factory' method to create objects: Code not tested. Regards, Edwin ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Asking again: Two suggested improvements for dom4j</header>
    <date>Thu Dec 23 09:57:00 CET 2004</date>
    <body>To make use of the very flexible factory architecture (and caching), you should not create element, attribute, etc.. objects directly but use the create and add methods instead. Regards, Edwin On Wed, 22 Dec 2004 19:42:08 -0700, David Thielen &amp;lt;david@...&amp;gt; wrote: http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] RE: Asking again: Two suggested improvements for dom4j</header>
    <date>Thu Dec 23 14:06:00 CET 2004</date>
    <body>I'm afraid I am still not sure which code you are saying we should use. Are you saying we should code as below? Or not code as below and do it a different way (and if so - what way)? Thanks - dave -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Thursday, December 23, 2004 2:58 AM To: David Thielen Cc: dom4j-user@... Subject: Re: Asking again: Two suggested improvements for dom4j To make use of the very flexible factory architecture (and caching), you should not create element, attribute, etc.. objects directly but use the create and add methods instead. Regards, Edwin wrote: http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Asking again: Two suggested improvements for dom4j</header>
    <date>Thu Dec 23 18:21:00 CET 2004</date>
    <body>I'm sorry about my 'cryptic' answers. The preferred code for most solutions would be the code below. Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] Normalised text nodes.</header>
    <date>Mon Dec 20 05:23:00 CET 2004</date>
    <body>Hello I'm currently using DocumentHelper.parseText(String) to generate a Document. Despite how hassle-free this approach is, I've come across a problem. My schema defines a text element into which my upstream application places text which must not be normalised. The schema does not define xml:space="preserve", so dom4j normalises the text element. I guess this is done for a reason, but I'm not sure why. I tried to make sense of the W3C spec ... Section 2.10 says that the XML processor must pass all characters that are not markup to the application. Does that include my text element? Section 3.3.1 talks about normalising attributes. A text element isn't a node attribute, right? While I'm keen to understand the answer to these questions, my real question is: Can I turn off text element normalisation when using DocumentHelper.parse(String)? Or, is there another approach I can take with the DOM4J API to get around this issue? Regards Jem -- Nothing can satisfy the man who is not satisfied with a little.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Normalised text nodes.</header>
    <date>Thu Dec 23 10:30:00 CET 2004</date>
    <body>&amp;gt; Section 2.10 says that the XML processor must pass all characters that Yes. No, this is only for attributes (for instance newlines are normalized in attributes). I think the problem is that in your document you have an internal DOCTYPE declaration, this declaration makes your parser (xerces/crimson) believe that any whitespace between elements is ignorable, the parser will now pass these ignorable characters on to the ignorableWhitespace() method. http://www.cafeconleche.org/books/xmljava/chapters/ch06s10.html The SAXContentHandler in dom4j does currently not implement this method and will discard all this whitespace. This should be easy to solve using the following code: public void ignorableWhitespace(char[] chars, int start, int length) Code not tested. Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] namespace question</header>
    <date>Sun Dec 19 20:24:00 CET 2004</date>
    <body>I use: wordDoc.addNamespace("w", " http://schemas.microsoft.com/office/word/2003/wordml This gets me: xmlns:w= http://schemas.microsoft.com/office/word/2003/wordml Which is what I want. However, I am not understanding namespaces right. Because I tried the following and I did not get the w: on the nodes: Element wordDoc = wordML.addElement("wordDocument", " http://schemas.microsoft.com/office/word/2003/wordml wordDoc.addNamespace("w", " http://schemas.microsoft.com/office/word/2003/wordml Element fonts = wordDoc.addElement("fonts", " http://schemas.microsoft.com/office/word/2003/wordml I can understand that maybe it wouldn't work for &amp;lt;wordDocument&amp;gt; as it is getting added there. But shouldn't this work for &amp;lt;fonts&amp;gt;? What am I not understanding about this? Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] namespace question</header>
    <date>Mon Dec 20 10:27:00 CET 2004</date>
    <body>&amp;gt; Element wordDoc = wordML.addElement("wordDocument", http://schemas.microsoft.com/office/word/2003/wordml This creates an element in the ' http://schemas.microsoft.com/office/word/2003/wordml ' namespace, without a prefix. http://schemas.microsoft.com/office/word/2003/wordml This adds a namespace declaration to the element with a prefix. (does not make the element part of this namespace) http://schemas.microsoft.com/office/word/2003/wordml Again this creates an element being part of this namespace (not setting a prefix). It is debatable wether 2 namespace declarations with the same URI should be allowed to be in scope at the same time. According to the XML spec this is however allowed so I think dom4j is handling this correctly. What I would do instead is: Namespace ns = new Namespace( "w", " http://schemas.microsoft.com/office/word/2003/wordml Regards, Edwin</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] namespace question</header>
    <date>Tue Dec 21 03:01:00 CET 2004</date>
    <body>That all works great. But why is it that wordDoc.addElement("fonts", " http://schemas.microsoft.com/office/word/2003/wordml Doesn't add &amp;lt;w:fonts&amp;gt; if that namespace has been added with that prefix? It seems to me that the only reason to do addNamespace is if you then go do addElement("w:fonts") which means the programmer has to handle all of that mapping. And if so, is there any reason no not just do addElement("w:fonts") instead as that is shorter code? Or in that case is dom4j not aware of the namespace mapping? Thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Edwin Dankert Sent: Monday, December 20, 2004 3:28 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] namespace question http://schemas.microsoft.com/office/word/2003/wordml This creates an element in the ' http://schemas.microsoft.com/office/word/2003/wordml ' namespace, without a prefix. http://schemas.microsoft.com/office/word/2003/wordml This adds a namespace declaration to the element with a prefix. (does not make the element part of this namespace) http://schemas.microsoft.com/office/word/2003/wordml Again this creates an element being part of this namespace (not setting a prefix). It is debatable wether 2 namespace declarations with the same URI should be allowed to be in scope at the same time. According to the XML spec this is however allowed so I think dom4j is handling this correctly. What I would do instead is: Namespace ns = new Namespace( "w", " http://schemas.microsoft.com/office/word/2003/wordml Regards, Edwin ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Asking again: namespace question</header>
    <date>Thu Dec 23 02:41:00 CET 2004</date>
    <body>That all works great. But why is it that wordDoc.addElement("fonts", " http://schemas.microsoft.com/office/word/2003/wordml Doesn't add &amp;lt;w:fonts&amp;gt; if that namespace has been added with that prefix? It seems to me that the only reason to do addNamespace is if you then go do addElement("w:fonts") which means the programmer has to handle all of that mapping. And if so, is there any reason no not just do addElement("w:fonts") instead as that is shorter code? Or in that case is dom4j not aware of the namespace mapping? Thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Edwin Dankert Sent: Monday, December 20, 2004 3:28 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] namespace question http://schemas.microsoft.com/office/word/2003/wordml This creates an element in the ' http://schemas.microsoft.com/office/word/2003/wordml ' namespace, without a prefix. http://schemas.microsoft.com/office/word/2003/wordml This adds a namespace declaration to the element with a prefix. (does not make the element part of this namespace) http://schemas.microsoft.com/office/word/2003/wordml Again this creates an element being part of this namespace (not setting a prefix). It is debatable wether 2 namespace declarations with the same URI should be allowed to be in scope at the same time. According to the XML spec this is however allowed so I think dom4j is handling this correctly. What I would do instead is: Namespace ns = new Namespace( "w", " http://schemas.microsoft.com/office/word/2003/wordml Regards, Edwin ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Asking again: namespace question</header>
    <date>Thu Dec 23 09:52:00 CET 2004</date>
    <body>The addNamespace() method allows you to add a namespace declaration to the element but does not add the element to the namespace. You can now howerever use this namespace for any child elements. Yes, that would be possible if 'w' has already been mapped. However currently the method clearly expects a name and not a qualified name and to change this method to use a qualified name would create dependencies that are unnecessary and I think philosophically wrong. Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] replacing impl of dom4j classes</header>
    <date>Thu Dec 23 01:23:00 CET 2004</date>
    <body>what would be necessary to swap out dom4j concrete classes behind element, node etc.. with my own? thanks</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] replacing impl of dom4j classes</header>
    <date>Thu Dec 23 09:28:00 CET 2004</date>
    <body>You would have to implement your own version of the DocumentFactory (+element, node, etc..) and set the "org.dom4j.factory" system property to point to your version of the DocumentFactory. That should do the trick. Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] org.w3c.dom.Element &amp;lt;-&amp;gt; org.dom4j.Element</header>
    <date>Wed Dec 22 04:36:00 CET 2004</date>
    <body>i get the impression that this type of conversion back and forth from w3c Element to dom4j Element can be accomplished via DOMReader/Writer, but it isn't apparent to me how. can some kind soul provide some sample code? if this is even possible, anyone know how "costly" these operations might be? i.e.: is there some slick casting going on under the hood or does it involve an entire tree walk of the source and memory allocation/construction of the target? thanks a bunch!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.w3c.dom.Element &amp;lt;-&amp;gt; org.dom4j.Element</header>
    <date>Wed Dec 22 09:57:00 CET 2004</date>
    <body>I believe that at the moment only the conversion from w3c document to dom4j document is supported and there is also always the possibillity to use DOMElement which can be used as both a w3c element and a dom4j element. The conversion code should look something like this: /** * Convert dom4j element to w3c element **/ // Convert dom4j document to w3c document /** * Convert w3c element to dom4j element **/ // Convert w3c document to dom4j document *Code not tested. Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.w3c.dom.Element &amp;lt;-&amp;gt; org.dom4j.Element</header>
    <date>Wed Dec 22 11:21:00 CET 2004</date>
    <body>Hi Tony, there are 2 main scenario's for working with DOM/DOM4J together: 1. using DOMReader/DOMWriter: ======================== this convert a DOM tree to a DOM4J tree and visa versa: // convert DOM4J -&amp;gt; DOM // convert DOM -&amp;gt; DOM4J However, this approach will do an entire tree walk of the dom/dom4j source tree to create the result. In addition, you will end up with 2 seperate trees: one for DOM and one for DOM4J. 2. Using DOMDocumentFactory ======================= this will create one tree for both the DOM and DOM4J objects. This approach can be used if you don't have a DOM or DOM4J document yet, for instance if you still have to parse your XML file using SAX. InputStream in = [...] // your XML file for instance regards, Maarten tony k &amp;lt;tony_kerz@...&amp;gt; wrote: i get the impression that this type of conversion back and forth from w3c Element to dom4j Element can be accomplished via DOMReader/Writer, but it isn't apparent to me how. can some kind soul provide some sample code? if this is even possible, anyone know how "costly" these operations might be? i.e.: is there some slick casting going on under the hood or does it involve an entire tree walk of the source and memory allocation/construction of the target? thanks a bunch! ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.w3c.dom.Element &amp;lt;-&amp;gt; org.dom4j.Element</header>
    <date>Wed Dec 22 17:34:00 CET 2004</date>
    <body>Maarten Coene wrote: Did you mean to use the factory on the last line? We can't simply cast a Dom4J Document into a w3c Document, right? Ben PS: sent this at first from the wrong address... apologies if it shows up twice.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.w3c.dom.Element &amp;lt;-&amp;gt; org.dom4j.Element</header>
    <date>Wed Dec 22 19:22:00 CET 2004</date>
    <body>If you use the DOMDocumentFactory, you can cast the created dom4j documents to w3c documents as shown in the example! That's the advantage of using interfaces: you can implement as many interfaces as you want. The DOMDocumentFactory produces documents that implements both the org.dom4j.Document and org.w3c.dom.Document interface. regards, Maarten Ben Munat schreef: http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] &amp;lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&amp;gt;</header>
    <date>Sat Dec 18 18:46:00 CET 2004</date>
    <body>When I create a document, how do I set the encoding &amp;amp; standalone? Thanks - dave Ps - Someone needs to write a dom4j "cookbook" for O'Reilly!!!!!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] &amp;lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&amp;gt;</header>
    <date>Mon Dec 20 09:58:00 CET 2004</date>
    <body>You can set the encoding using: OutputFormat.setEncoding( String encoding). I don't think you can set the 'standalone' and 'version' information yet. Regards, Edwin On Sat, 18 Dec 2004 11:47:29 -0700, David Thielen &amp;lt;david@...&amp;gt; wrot= e:</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] &amp;lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&amp;gt;</header>
    <date>Tue Dec 21 02:40:00 CET 2004</date>
    <body>But I want standalone :(. Is there a way to officially put in requests for the next version of dom4j? Thanks - dave -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Monday, December 20, 2004 2:59 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] &amp;lt;?xml version="1.0" encoding="UTF-8" You can set the encoding using: OutputFormat.setEncoding( String encoding). I don't think you can set the 'standalone' and 'version' information yet. Regards, Edwin wrote:</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] &amp;lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&amp;gt;</header>
    <date>Wed Dec 22 11:27:00 CET 2004</date>
    <body>Hi David, the "official" way to request a new feature is adding it to the RFE list on sourceforge: http://sourceforge.net/tracker/?group_id=16035&amp;amp;atid=366035 optionally, if you want such an RFE to be added very quick; you should add a patch to the RFE. In the meantime, you could solve your problem with some kind of "hack". Create a subclass of XMLWriter and override the writeDeclaration() method to include your standalone and version attributes. regards, Maarten David Thielen &amp;lt;david@...&amp;gt; wrote: But I want standalone :(. Is there a way to officially put in requests for the next version of dom4j? Thanks - dave -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Monday, December 20, 2004 2:59 AM To: David Thielen Cc: dom4j-user@... You can set the encoding using: OutputFormat.setEncoding( String encoding). I don't think you can set the 'standalone' and 'version' information yet. Regards, Edwin On Sat, 18 Dec 2004 11:47:29 -0700, David Thielen wrote: ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Anyone have a Date to 2004-12-18T18:23:00Z method?</header>
    <date>Tue Dec 21 03:03:00 CET 2004</date>
    <body>Does anyone have a method to convert a Date to a string in the format 2004-12-18T18:23:00Z (xsd format)? Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Anyone have a Date to 2004-12-18T18:23:00Z method?</header>
    <date>Tue Dec 21 10:54:00 CET 2004</date>
    <body>Does anyone have a method to convert a Date to a string in the format 2004-12-18T18:23:00Z (xsd format)? Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] get present date as 2004-12-18T18:23:00Z type string</header>
    <date>Sat Dec 18 19:13:00 CET 2004</date>
    <body>I would have sworn there is a dom4j call to return this - but I can't find it. ??? - thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] preserve space didn't work</header>
    <date>Wed Dec 15 22:19:00 CET 2004</date>
    <body>I created a set of nodes using: I wrote it out using: OutputFormat format = And I got: So it still did standard indenting. Anything I missed? Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] preserve space didn't work</header>
    <date>Thu Dec 16 09:42:00 CET 2004</date>
    <body>I don't think you're missing anything, the output formatter should not try to format any element content when the xml:space="preserve" attribute has been set. Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] a program to comb out</header>
    <date>Sun Dec 12 16:53:00 CET 2004</date>
    <body>Hi there, i would like to write a program which searches for example the infile below for all Year Tags which contain 1982 and author tags which contain Blablub.. Then it should create a new xmlfile outfile and write all booknodes with the matching childnodes into this file, which contains the same treestructure. To explain, what i mean i added a small example, what i have in mind. My question is: Do you think it is an good idea to do this with the dom4j library? Perhaps you have tipps, how i should tackle this problem. java program -parentnode /Catalog/book -seachnodes Year:1982,Author:Blablub -in infile.xml -out outfilefile.xml infile.xml outfile.xml</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] a program to comb out</header>
    <date>Sun Dec 12 19:57:00 CET 2004</date>
    <body>Hi Johannes, perhaps you could write an XPath query that selects the elements you want, copy the query-result and add that copy to a new document. regards, Maarten Johannes Franz schreef: http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] a program to comb out</header>
    <date>Mon Dec 13 01:17:00 CET 2004</date>
    <body>Am Sonntag, 12. Dezember 2004 20:57 schrieb Maarten Coene: Hi Maarten, the problem is, that the selectNodes method returns a list, which doesn't represent the treestructure of the xml document. So i cannot copy a ceartain parent node, when the child nodes are matching the request,  and insert it and all its childnodes into a new document. Or am i wrong? http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] a program to comb out</header>
    <date>Mon Dec 13 19:26:00 CET 2004</date>
    <body>Johannes, the List of Nodes you receive should still contain the link to their parents. If that is not the case, it's a bug. regards, Maarten Johannes Franz schreef: http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] a program to comb out</header>
    <date>Mon Dec 13 20:06:00 CET 2004</date>
    <body>Ok, you're right. I made i mistake. Thx for the help so far. Am Montag, 13. Dezember 2004 20:26 schrieb Maarten Coene: http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] a program to comb out</header>
    <date>Tue Dec 14 01:04:00 CET 2004</date>
    <body>One last question: Is it possible, to do the selection directly with XPath... What i am doing now, is something like this: -create a copy of the document -create a List with selectNodes() -method which contains for example the nodes Year -iterate through this list and check with if and getText() if the &amp;lt;Year&amp;gt;-tag But this seems not very elegant. So is it possible to get a list, which only contains the &amp;lt;year&amp;gt; tags which contain 1982 directly per xpath or do i have to do the if-checks? http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] a program to comb out</header>
    <date>Tue Dec 14 10:32:00 CET 2004</date>
    <body>Hi Johannes! /Catalog/Book/Year[.='1982'] - Viele Grüße / best regards Marc Pellmann _______________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] One (was two) suggested improvements for dom4j</header>
    <date>Mon Dec 13 23:55:00 CET 2004</date>
    <body>I just wanted to make sure item (2) below was still under consideration as a new feature for dom4j. Thanks - dave _____ From: David Thielen [mailto:david@...] Sent: Monday, December 13, 2004 9:48 AM To: dom4j-user@... Subject: Two suggested improvements for dom4j Well, after getting through the Microsoft SpreadsheetML xml format, I've found two things I think dom4j could really use. 1.	Apparently you can state that white space and cr/lf are part of an element and need to be preserved. So &amp;lt;Data&amp;gt;&amp;lt;Font&amp;gt;hi there&amp;lt;/Font&amp;gt;&amp;lt;/Data&amp;gt; is different from &amp;lt;Data&amp;gt;    &amp;lt;Font&amp;gt;hi there&amp;lt;/Font&amp;gt;    &amp;lt;/Data&amp;gt;. And in this case, there needs to be: a.	A way to create these nodes initially with the spacing. b.	A way to make sure that any XMLWriter type class preserves it exactly. 2.	A way to mark an element's text as final/literal so there is no translation of any character. So you can give the &amp;lt;Data&amp;gt; element the text of Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] One (was two) suggested improvements for dom4j</header>
    <date>Tue Dec 14 07:21:00 CET 2004</date>
    <body>As previously mentioned... Item #1 is possible by using the xml construct of xml:space="preserve" as an attribute.  Put this on the Data tag like: and it will keep the spaces in the XML like you placed it. This can be added programatically by added an attribute to the Data Element with the name of xml:space and value of "preserve". David Thielen wrote: -- +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] One (was two) suggested improvements for dom4j</header>
    <date>Tue Dec 14 09:56:00 CET 2004</date>
    <body>I personally think number 2 is also not an issue if you construct your document 'correctly' (using text and element nodes). Regards, Edwin=20 On Tue, 14 Dec 2004 02:21:39 -0500, David D. Lucas &amp;lt;ddlucas@...&amp;gt; wrote: - e n 3Dhttp://www.lse.com/~ddlucas/pgpblock.txt http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Does node exist</header>
    <date>Tue Dec 14 00:04:00 CET 2004</date>
    <body>Is there a call that returns if a node exists (based on a xpath query)? The best I have some up with is: node.selectNodes(xpath).size() &amp;gt; 0 which I am assuming is not very efficient. Is there a better way???? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Does node exist</header>
    <date>Mon Dec 13 23:57:00 CET 2004</date>
    <body>Is there a call that returns if a node exists (based on a xpath query)? The best I have some up with is: node.selectNodes(xpath).size() &amp;gt; 0 which I am assuming is not very efficient. Is there a better way???? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to addElement with no xmlns=""</header>
    <date>Wed Dec 08 23:28:00 CET 2004</date>
    <body>I have a root node with a number of namespaces including one with no prefix: wb.addNamespace("html", " http://www.w3.org/TR/REC-html40 When I add an element to that element, I get: How can I get rid of the xmlns=""? Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to addElement with no xmlns=""</header>
    <date>Thu Dec 09 11:27:00 CET 2004</date>
    <body>David, you add your &amp;lt;Styles&amp;gt; element with no namespace information, This means=20 that your &amp;lt;Styles&amp;gt; element doesn't belong to a namespace, that's why the=20 default namespace is set to "". However, I think you want your &amp;lt;Styles&amp;gt;=20 element to be part of the default namespace of your workbook, so you'll=20 have to add your &amp;lt;Styles&amp;gt; element with the correct namespace: styles =3D wb.addElement("Styles",=20 this should do the trick regards, Maarten David Thielen wrote: http://www.w3.org/TR/REC-html40</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] How to addElement with no xmlns=""</header>
    <date>Thu Dec 09 14:45:00 CET 2004</date>
    <body>I tried that and Excel chokes over that too. What I need is to get = with no namespace of any type set. Is there a way to do that? Thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Maarten = Coene Sent: Thursday, December 09, 2004 4:27 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] How to addElement with no xmlns=3D"" David, you add your &amp;lt;Styles&amp;gt; element with no namespace information, This means=20 that your &amp;lt;Styles&amp;gt; element doesn't belong to a namespace, that's why the = default namespace is set to "". However, I think you want your &amp;lt;Styles&amp;gt;=20 element to be part of the default namespace of your workbook, so you'll=20 have to add your &amp;lt;Styles&amp;gt; element with the correct namespace: styles =3D wb.addElement("Styles",=20 this should do the trick regards, Maarten David Thielen wrote: http://www.w3.org/TR/REC-html40 ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now.=20 http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to addElement with no xmlns=""</header>
    <date>Thu Dec 09 19:21:00 CET 2004</date>
    <body>David, if I try your example with my modification, the Styles element has no=20 namespace declaration in it: how do you want it to look like? regards, Maarten David Thielen wrote: ne =20 http://www.w3.org/TR/REC-html40 http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] How to addElement with no xmlns=""</header>
    <date>Fri Dec 10 16:59:00 CET 2004</date>
    <body>I hate how namespaces work!!! Yes - thank you - you were right. That worked perfectly. Thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Maarten = Coene Sent: Thursday, December 09, 2004 12:22 PM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] How to addElement with no xmlns=3D"" David, if I try your example with my modification, the Styles element has no=20 namespace declaration in it: how do you want it to look like? regards, Maarten David Thielen wrote: Coene the=20 http://www.w3.org/TR/REC-html40 users. http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user users. http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now.=20 http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to addElement with no xmlns=""</header>
    <date>Mon Dec 13 04:49:00 CET 2004</date>
    <body>This means you are setting Styles to NO NAMESPACE. You probably want to use the one defined at the top of the Workbook for "". Define the Namespace/QName as... Namespace ns = Namespace.get("", David Thielen wrote: http://www.w3.org/TR/REC-html40 -- +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Need to set xml as Element text</header>
    <date>Thu Dec 09 01:43:00 CET 2004</date>
    <body>Ok, this is a very weird request. And I know it violates how xml is supposed to work. But it's a requirement of the SpreadsheetML format that Microsoft is using. This format has: Where blah blah blah is the contents of a cell in the spreadsheet. Here is the weirdness. Let's say all of the text is bold. Then the xml is: But if it is written as: Then the cell contents are "          \n&amp;lt;B&amp;gt;blah blah blah&amp;lt;/B&amp;gt;\n     " How can I write this using dom4j? I figure I can create a separate rendering of the cell text - but I then have to be able to write it where the &amp;lt;&amp;gt; does not get converted to &amp;amp;lt;&amp;amp;gt;. Again, I did not design this - Microsoft did. I just have to live with it. ??? - thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Need to set xml as Element text</header>
    <date>Thu Dec 09 11:42:00 CET 2004</date>
    <body>Hi David, I think you should subclass org.dom4j.io.XMLWriter and override the=20 escapeElementEntities(String text) method to not escape the &amp;lt;&amp;gt;=20 characters and to convert your '\n' to the appropriate &amp;amp;#xxx Take a look at the current implementation of that method: http://www.dom4j.org/xref/org/dom4j/io/XMLWriter.html#1359 regards, Maarten David Thielen wrote: l is: h it.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Need to set xml as Element text</header>
    <date>Thu Dec 09 14:45:00 CET 2004</date>
    <body>tags? Elsewhere I do want the standard escaping. Thanks - dave -----Original Message----- From: Maarten Coene [mailto:maarten_coene@...] Sent: Thursday, December 09, 2004 4:42 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Need to set xml as Element text Hi David, I think you should subclass org.dom4j.io.XMLWriter and override the characters and to convert your '\n' to the appropriate &amp;amp;#xxx Take a look at the current implementation of that method: http://www.dom4j.org/xref/org/dom4j/io/XMLWriter.html#1359 regards, Maarten David Thielen wrote:</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Need to set xml as Element text</header>
    <date>Mon Dec 13 03:34:00 CET 2004</date>
    <body>Thank you - this sort-of works. By sort-of, I mean it works great for not converting characters. The problem is, I only want it to do this inside nodes of type &amp;lt;ss:Data&amp;gt;. But I have no way of knowing what node I am in so I have to do this for either all or no nodes. Is there any way around this? It would be nice if a node could be marked as literal and in that case no translation occurred on output. Thanks - dave -----Original Message----- From: Maarten Coene [mailto:maarten_coene@...] Sent: Thursday, December 09, 2004 4:42 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Need to set xml as Element text Hi David, I think you should subclass org.dom4j.io.XMLWriter and override the characters and to convert your '\n' to the appropriate &amp;amp;#xxx Take a look at the current implementation of that method: http://www.dom4j.org/xref/org/dom4j/io/XMLWriter.html#1359 regards, Maarten David Thielen wrote:</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Need to set xml as Element text</header>
    <date>Mon Dec 13 04:20:00 CET 2004</date>
    <body>For those that hit this problem, here is the solution I came up with. I made a copy of XMLWriter and made that my own class. I then added Node as a var passed to escapeElementEntities which then lets me escape the text based on the node it is in. Thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Thielen Sent: Sunday, December 12, 2004 8:35 PM To: 'Maarten Coene' Cc: dom4j-user@... Subject: RE: [dom4j-user] Need to set xml as Element text Thank you - this sort-of works. By sort-of, I mean it works great for not converting characters. The problem is, I only want it to do this inside nodes of type &amp;lt;ss:Data&amp;gt;. But I have no way of knowing what node I am in so I have to do this for either all or no nodes. Is there any way around this? It would be nice if a node could be marked as literal and in that case no translation occurred on output. Thanks - dave -----Original Message----- From: Maarten Coene [mailto:maarten_coene@...] Sent: Thursday, December 09, 2004 4:42 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Need to set xml as Element text Hi David, I think you should subclass org.dom4j.io.XMLWriter and override the characters and to convert your '\n' to the appropriate &amp;amp;#xxx Take a look at the current implementation of that method: http://www.dom4j.org/xref/org/dom4j/io/XMLWriter.html#1359 regards, Maarten David Thielen wrote: ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Another xmlns problem.</header>
    <date>Mon Dec 13 03:36:00 CET 2004</date>
    <body>When I put: Element data = cell.addElement("ss:Data", " http://www.w3.org/TR/REC-html40 I get: http://www.w3.org/TR/REC-html40 Not: http://www.w3.org/TR/REC-html40 Any ideas? Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Help needed for creating XML file dynamically using java code.....</header>
    <date>Fri Dec 10 13:47:00 CET 2004</date>
    <body>=0A  =0AHi,=0A  I am new to XML.I want to create an XML file named userde= tails.xml with the data entered by the web page.The values should be append= ed to the tag every time the user input data into the web page.=0AThe xml f= ile contains should contain texts like as follows :-=0A&amp;lt;users&amp;gt;=0A&amp;lt;user inde= x=3D"1"&amp;gt;=0A&amp;lt;name&amp;gt;A&amp;lt;/name&amp;gt;=0A&amp;lt;password&amp;gt;xyz&amp;lt;/password&amp;gt;=0A&amp;lt;email&amp;gt;abhishek@...= will.com&amp;lt;/email&amp;gt;=0A&amp;lt;/user&amp;gt;=0A&amp;lt;user index=3D"2"&amp;gt;=0A&amp;lt;name&amp;gt;B&amp;lt;/name&amp;gt;=0A&amp;lt;passwor= d&amp;gt;pqr&amp;lt;/password&amp;gt;=0A&amp;lt;email&amp;gt;ram@... index= =3D"3"&amp;gt;=0A....=0A....=0A&amp;lt;/user&amp;gt;=0A&amp;lt;/users&amp;gt;=0AWhen I am entering data from m= y web page for than once,all the values are getting overwritten to the prev= ious one but i wanna it to be appended to the next &amp;lt;user index=3D"..."&amp;gt; tag= .=0Acan anyone help me in getting the correct format in my xml using Java.= =0AThanks in advance....=0AAbhishek=0A=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to save an Element using XMLWriter</header>
    <date>Thu Dec 09 17:04:00 CET 2004</date>
    <body>Hi All, Using XMLWriter, is there a way to save an Element to a file without overwriting the entire file? For example, I already have an Element named X in the file and I just want to update it and it's children without touching any other Elements. Is this possible? many thanks, Barry</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Need to set xml as Element text</header>
    <date>Thu Dec 09 14:47:00 CET 2004</date>
    <body>=20 The problem is that for debugging I do want the standard pretty format = in the rest of it. Any way to do that? =20 Thanks =96 dave =20 =20 _____ =20 From: Marc Pellmann [mailto:marc.pellmann@... Sent: Thursday, December 09, 2004 1:45 AM To: David Thielen Subject: Re: [dom4j-user] Need to set xml as Element text =20 Hi David!=20 This format has: =20 Where blah blah blah is the contents of a cell in the spreadsheet. Here = is the weirdness. Let=92s say all of the text is bold. Then the xml is: =20 But if it is written as: If I get your problem right you want that the Output of your dom4j = Document will not have the whitespaces and newlines!? You could force the XMLWriter to do this: FileOutputStream outputStream.. XMLWriter writer =3D new --=20 Viele Gr=FC=DFe / best regards =20 Marc Pellmann _______________________________ inubit - the integration experts inubit AG L=FCtzowstra=DFe 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] insert an element</header>
    <date>Wed Dec 08 23:47:00 CET 2004</date>
    <body>addElement() adds an element at the end of the elements held by the parent. How can I insert a new element so it's not placed at the end of the child elements? Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] insert an element</header>
    <date>Thu Dec 09 05:42:00 CET 2004</date>
    <body>I ran into that at one point... looked and looked but never found anything in the API like a "insertBefore" or "insertAfter"... I think that would be a nice addition, I mean even the w3c DOM has that. On the other hand there's always the good ol' fashioned way: iterating through the children until you get to element you want to insert before or after. That's probably how it'd be done in an "insert" method anyway. b PS: other list folks, I'd love to hear I'm wrong about this. David Thielen wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] insert an element</header>
    <date>Thu Dec 09 11:33:00 CET 2004</date>
    <body>Hi Ben, David, as far as I know this is indeed the only way to add child Nodes at a=20 given position: int position =3D [...];   // the position of the new element Element newElement =3D [...];  // the new element regards, Maarten Ben Munat wrote: =20 http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] insert an element</header>
    <date>Thu Dec 09 14:42:00 CET 2004</date>
    <body>That did it - thanks -----Original Message----- From: Maarten Coene [mailto:maarten_coene@...] Sent: Thursday, December 09, 2004 4:33 AM To: Ben Munat Cc: dom4j-user@...; David Thielen Subject: Re: [dom4j-user] insert an element Hi Ben, David, as far as I know this is indeed the only way to add child Nodes at a given position: int position = [...];   // the position of the new element Element newElement = [...];  // the new element regards, Maarten Ben Munat wrote: http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Turning off namespaces when reading in an XML file.</header>
    <date>Wed Dec 08 03:46:00 CET 2004</date>
    <body>Hi: Does anyone out there know how to turn off namespace checking when using dom4j? The equivalent code segment for a Xerces user would be: . parser.setFeature(" http://xml.org/sax/features/namespaces I tried SAXReader.setFeature(), but had no luck. Thanks, -Alan.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Turning off namespaces when reading in an XML file.</header>
    <date>Thu Dec 09 11:43:00 CET 2004</date>
    <body>Hi Alan, I don't think this is possible with the current version of dom4j. If you really need it, please add a feature request at sourceforge to make sure we won't forget it regards, Maarten Alan Bron wrote: http://xml.org/sax/features/namespaces http://productguide.itmanagersjournal.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Element.setText() \n -&amp;gt; &amp;amp;#10;</header>
    <date>Thu Dec 09 01:25:00 CET 2004</date>
    <body>How can I get setText to convert any characters (like \n) to their appropiate &amp;amp;#xxx; (like &amp;amp;#10;)? Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to avoid printing DTD information</header>
    <date>Fri Dec 03 19:09:00 CET 2004</date>
    <body>I would like to print a clean XML. Here are my source code. Build a DOM object first, then print it out. My problem is the print result contains DTD kind of information, such as "dt_type". How could I avoid to print out such kind of information? Thank you, Jimmy input xml string: result:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to avoid printing DTD information</header>
    <date>Tue Dec 07 19:44:00 CET 2004</date>
    <body>Hi, my guess is that your DTD defines default values for these attributes. dom4j doesn't provide support yet to ignore these attribute values when writing the XML. At the moment, the only solution is to remove these default values from your DTD. regards, Maarten Hong Qian &amp;lt;qian_jimmy@...&amp;gt; wrote: I would like to print a clean XML. Here are my source code. Build a DOM object first, then print it out. My problem is the print result contains DTD kind of information, such as "dt_type". How could I avoid to print out such kind of information? Thank you, Jimmy input xml string: ON M5E1L5 result: dt_pattern="[\000-\177]*"&amp;gt;ON M5E1L5 ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://productguide.itmanagersjournal.com/ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Do you Yahoo!? The all-new My Yahoo!  What will yours do?</body>
  </mail>
  <mail>
    <header>[dom4j-user] bug: processing current node in stylesheet</header>
    <date>Sat Jan 29 14:11:00 CET 2005</date>
    <body>Hi, I've hit the problem that the following change addresses: https://sourceforge.net/tracker/?func=detail&amp;amp;atid=116035&amp;amp;aid=1077692&amp;amp;group_id=16035 is anyone able to apply this? I can provide a specific patch + a test case if required (works with 1.4 and CVS HEAD + patch, but not any version of 1.5). Thanks, Brett</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] bug: processing current node in stylesheet</header>
    <date>Sat Jan 29 14:29:00 CET 2005</date>
    <body>Hi Brett, can you attach your patch and test to that issue so I can add it to CVS? thanks! Maarten Brett Porter schreef: https://sourceforge.net/tracker/?func=detail&amp;amp;atid=116035&amp;amp;aid=1077692&amp;amp;group_id=16035 http://www.intelliview.com/go/osdn_nl https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] bug: processing current node in stylesheet</header>
    <date>Sat Jan 29 14:57:00 CET 2005</date>
    <body>https://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1112068&amp;amp;group_id=16035&amp;amp;atid=316035 Thanks, Brett On Sat, 29 Jan 2005 15:29:15 +0100, Maarten Coene https://sourceforge.net/tracker/?func=detail&amp;amp;atid=116035&amp;amp;aid=1077692&amp;amp;group_id=16035 http://www.intelliview.com/go/osdn_nl https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] bug: processing current node in stylesheet</header>
    <date>Mon Jan 31 01:07:00 CET 2005</date>
    <body>You're latest fix works for me. Thanks! Is there a rough guide to how long a dom4j 1.6 release will be? - Brett On Sun, 30 Jan 2005 01:57:44 +1100, Brett Porter &amp;lt;brett.porter@...&amp;gt; wrote: https://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1112068&amp;amp;group_id=16035&amp;amp;atid=316035 https://sourceforge.net/tracker/?func=detail&amp;amp;atid=116035&amp;amp;aid=1077692&amp;amp;group_id=16035 http://www.intelliview.com/go/osdn_nl https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Entity substitution</header>
    <date>Sat Jan 29 15:39:00 CET 2005</date>
    <body>Does anyone have a good solution to doing entity substitution? I'm attempting to substitute some entities with strings and some with other entities (mostly to create an HTML or plain text representation). I'm already using XSLT to transform to HTML/text but it doesn't seem to have support for this. I have a solution using the Visitor pattern too look up entities to be substituted in a Map but I don't have a clean way to run a Node through the Visitor and then XSLT. I have to use the Visitor to build up a new Node to pass to XSLT which seems expensive. Any suggestions are greatly appreciated. Thanks, Paul</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Entity substitution</header>
    <date>Sat Jan 29 17:55:00 CET 2005</date>
    <body>I'm not sure if I understand fully what you're trying to do? Could you give an example of an input and output document and maybe some code? Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Entity substitution</header>
    <date>Sat Jan 29 18:04:00 CET 2005</date>
    <body>On Jan 29, 2005, at 12:55 PM, Edwin Dankert wrote: Sure, example document: Then substitute the entities by looking up their replacements and running it through XSLT to get: This is some content with an entity here: myent In this instance &amp;amp;myent; is replaced with the closest plain text match so the web browser will display it properly. This is done according to a Map: Right now I have a class implementing the Visitor pattern: System.out.println("Entity: " + The problem is that I have no where to put the entity once I lookup it's substitution, the only thing I could do would be to create a new Node with the the Visitor, add the substituted entities in as text nodes, pass the other nodes straight through. Then I would run this through XSLT, which seems expensive since it's traversing the Node twice, once to substitute, then again to do the transformation (plus keeping a duplicate Node with the substituted entities in it). Thanks, Paul</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Entity substitution</header>
    <date>Sat Jan 29 18:32:00 CET 2005</date>
    <body>Would it be possible for you to overwrite the DocumentFactory createEntity() method and substitute them when they get created? Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Entity substitution</header>
    <date>Sat Jan 29 18:47:00 CET 2005</date>
    <body>Hi, I had this problem few days ago. I simply wrote my own tiny DTD with entities and structure declaration. You can use internal DTD subset, like this: your normal xml document, with &amp;amp;myent; and yet &amp;amp;another; entity... -Peter Stibrany Paul Dlug wrote: http://www.intelliview.com/go/osdn_nl https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath problem with *</header>
    <date>Fri Jan 28 23:23:00 CET 2005</date>
    <body>I am having a problem with an "*" in an XPath working correctly.  The XPath syntax seems correct, but the Node is not selected. I am including a small, standalone Java test program that demostrates this problem.  The XML document is a static String in the source file.  Please let me know if you see any problems with it.  Here is what I get when I run the program: C:\&amp;gt;java -cp .;dom4j.jar;xercesImpl.jar;xml-apis.jar;jaxen.jar Test toDate = FAIL Regards, Dave public class Test private static final Map NAMESPACE_URIS = new static NAMESPACE_URIS.put("rr", " http://www.mwvis.com/interfaces/ReportRequest.xsd NAMESPACE_URIS.put("xqx", " http://www.w3.org/2003/12/XQueryX NAMESPACE_URIS.put("xsi", " http://www.w3.org/2001/XMLSchema-instance private static final String REQUEST_DOCUMENT = "&amp;lt;rr:ReportRequest name=\"MisplacedItemsHistory\"" + " xmlns:rr=\" http://www.mwvis.com/interfaces/ReportRequest.xsd \"" + " xmlns:xqx=\" http://www.w3.org/2003/12/XQueryX \"" + " xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \"&amp;gt;" + "   &amp;lt;rr:Specification responseType=\"Xml\" returnTotalRecords=\"true\"&amp;gt;" + "      &amp;lt;rr:CountPerPage&amp;gt;20&amp;lt;/rr:CountPerPage&amp;gt;" + "      &amp;lt;rr:Page&amp;gt;4&amp;lt;/rr:Page&amp;gt;" + "      &amp;lt;rr:UserId&amp;gt;6&amp;lt;/rr:UserId&amp;gt;" + "   &amp;lt;/rr:Specification&amp;gt;" + "   &amp;lt;xqx:whereClause&amp;gt;" + "      &amp;lt;xqx:expr xsi:type=\"operatorExpr\" infix=\"true\"&amp;gt;" + "         &amp;lt;xqx:opType&amp;gt;and&amp;lt;/xqx:opType&amp;gt;" + "         &amp;lt;xqx:parameters&amp;gt;" + "            &amp;lt;xqx:expr xsi:type=\"operatorExpr\" infix=\"true\"&amp;gt;" + " + "               &amp;lt;xqx:parameters&amp;gt;" + "                  &amp;lt;xqx:expr xsi:type=\"stringConstantExpr\"&amp;gt;" + " + "                  &amp;lt;/xqx:expr&amp;gt;" + "                  &amp;lt;xqx:expr xsi:type=\"stringConstantExpr\"&amp;gt;" + "                     &amp;lt;xqx:value&amp;gt;2004-06-01 00:00:00.000000&amp;lt;/xqx:value&amp;gt;" + "                  &amp;lt;/xqx:expr&amp;gt;" + "               &amp;lt;/xqx:parameters&amp;gt;" + "            &amp;lt;/xqx:expr&amp;gt;" + "            &amp;lt;xqx:expr xsi:type=\"operatorExpr\" infix=\"true\"&amp;gt;" + " + "               &amp;lt;xqx:parameters&amp;gt;" + "                  &amp;lt;xqx:expr xsi:type=\"stringConstantExpr\"&amp;gt;" + " + "                  &amp;lt;/xqx:expr&amp;gt;" + "                  &amp;lt;xqx:expr xsi:type=\"stringConstantExpr\"&amp;gt;" + "                     &amp;lt;xqx:value&amp;gt;2004-07-01 00:00:00.000000&amp;lt;/xqx:value&amp;gt;" + "                  &amp;lt;/xqx:expr&amp;gt;" + "               &amp;lt;/xqx:parameters&amp;gt;" + "            &amp;lt;/xqx:expr&amp;gt;" + "         &amp;lt;/xqx:parameters&amp;gt;" + "      &amp;lt;/xqx:expr&amp;gt;" + "   &amp;lt;/xqx:whereClause&amp;gt;" private static final String XPATH_TO_DATE_NODE = "/rr:ReportRequest/xqx:whereClause/*/xqx:expr[" + "@xsi:type = 'operatorExpr' " + "and xqx:opType = '&amp;lt;=' " + "and xqx:parameters/xqx:expr[1]/xqx:value = 'DateMisplaced']" public static void main(String[] args) Document requestDoc = private static String getToDate(Document requestDoc) xpath = return (null == toDateNode) ? "FAIL" : __________________________________ Do you Yahoo!? Meet the all-new My Yahoo! - Try it today! http://my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath problem with *</header>
    <date>Sat Jan 29 13:34:00 CET 2005</date>
    <body>I can see one problem with your XML and another problem with your XPath. The problem with your XML is caused by the '&amp;lt;' character used as XML content. This is not well-formed XML, it should be: Did this throw an exception? The XPath is wrong because, it does first of all not specify the element you want, (you forgot to include the first xqx:expr element) and secondly you will have to include the XML content change above in the XPath. So your XPath should be: /rr:ReportRequest/xqx:whereClause/xqx:expr/*/xqx:expr [@xsi:type = 'operatorExpr' and xqx:opType = '&amp;amp;lt;=' and xqx:parameters/xqx:expr[1]/xqx:value = DateMisplaced'] /xqx:parameters/xqx:expr[2]/xqx:value Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath problem with *</header>
    <date>Sat Jan 29 16:40:00 CET 2005</date>
    <body>Edwin, Thanks very much for your response. The XML is already as you stated it needed to be (i.e. it uses '&amp;amp;lt;' rather than '&amp;lt;').  Since the XPath expression is not part of an XML document (e.g. an XSL Stylesheet), I don't believe that it needs to be escaped in the String that is the parameter to the XPath constructor.  In fact, it does not work if it is escaped. I did make the change to the program to include the first xqx:expr prior to the '*' and the program runs successfully.  Thanks for that advice. However, I have a follow-up question.  Why is the first xqx:expr needed in the XPath expression? Shouldn't the '*' match the first xqx:expr and its descendents?  I am very confused by this.  Doesn't this seem like a bug in DOM4J's XPath expression evaluation? Regards, Dave --- Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote: /rr:ReportRequest/xqx:whereClause/xqx:expr/*/xqx:expr ------------------------------------------------------- http://www.intelliview.com/go/osdn_nl https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________ Do you Yahoo!? Take Yahoo! Mail with you! Get it on your mobile phone. http://mobile.yahoo.com/maildemo</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath problem with *</header>
    <date>Sat Jan 29 17:11:00 CET 2005</date>
    <body>&amp;gt; The XML is already as you stated it needed to be (i.e. I'm sorry that seems to be a problem with GMail... You're right, this seems to depend on the way the XPath is processed (they should really be interchangeable). '*' is used to match all child elements of the current node, you could however have used '//' to match all descendants. So you could write your xpath like this: /rr:ReportRequest//xqx:expr[@xsi:type ... Hope this helped, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] XSLT at the Node Level</header>
    <date>Mon Jan 24 20:37:00 CET 2005</date>
    <body>I've been playing around with XSLT with dom4j, if I create a org.dom4j.io.DocumentSource with a Node the entire Document gets passed the transformer. I would like to be able to apply XSLT to individual Nodes, not the entire Document so I would like / in the XSLT transformer to be the root of the Node I pass into the DocumentSource. I don't see any way to accomplish this right now, perhaps I need to create a new Source such as a NodeSource to handle this functionality? Thanks, Paul</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XSLT at the Node Level</header>
    <date>Tue Jan 25 14:25:00 CET 2005</date>
    <body>Yes, that constructor does not seem to be very intuitive. To get around this problem you could try the following code: ... ... Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XSLT at the Node Level</header>
    <date>Tue Jan 25 17:13:00 CET 2005</date>
    <body>All patches are welcome :-) regards, Maarten Edwin Dankert schreef: http://www.intelliview.com/go/osdn_nl https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XSLT at the Node Level</header>
    <date>Tue Jan 25 20:25:00 CET 2005</date>
    <body>Edwin Dankert wrote: That is what I have been doing. But I have wondered if it could be less expensive if the Source can come from the node rather than converting it to a Document (but not posted about it because it has not /appeared/ that expensive). Perhaps the node can be sent out as SAX events to the transform? best, -Rob http://www.intelliview.com/go/osdn_nl https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XSLT at the Node Level</header>
    <date>Wed Jan 26 06:42:00 CET 2005</date>
    <body>+1 on this... always found the fact that a dom4j xpath doesn't work from a given node down to be rather confounding... seems contrary to the xpath concept of "context node". b Maarten Coene wrote: http://www.intelliview.com/go/osdn_nl https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.intelliview.com/go/osdn_nl https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XSLT at the Node Level</header>
    <date>Wed Jan 26 10:45:00 CET 2005</date>
    <body>Yes, I agree, that would be the least expensive solution. It seems to be relatively easy to change the code but I am not sure what the full impact would be (SAXSource expects a document) ... probably as Paul suggested sub-classing DocumentSource would be the best solution? Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XSLT at the Node Level</header>
    <date>Wed Jan 26 11:21:00 CET 2005</date>
    <body>&amp;gt; +1 on this... always found the fact that a dom4j xpath doesn't work from As far as I am aware, a dom4j XPath uses the given node as its 'context node'. (the given node is however not treated as the 'root') Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XSLT at the Node Level</header>
    <date>Wed Jan 26 15:03:00 CET 2005</date>
    <body>On Jan 26, 2005, at 5:45 AM, Edwin Dankert wrote: I'm going to attempt to add support for this, I subclassed DocumentSource and DocumentInputSource and added support for NodeInputSource in SAXSource. I'll see if I can make this work. --Paul</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XSLT at the Node Level</header>
    <date>Wed Jan 26 16:22:00 CET 2005</date>
    <body>Yeah, sorry, I mis-spoke... meant it would be nice to be able to do "//mynode" from a given node in the tree and have it not return null just because it's not root (assuming there is a "mynode" under the given node. And actually, the current way it works is not really "contrary to xpath" because "//" means from root... hmmmm. b Edwin Dankert wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath.valueOf(Node)</header>
    <date>Tue Jan 25 14:10:00 CET 2005</date>
    <body>I have this routine (copied from another post on this mailing list) return nameXPath.valueOf(e); // valueInside() would have been a nicer name Document is created from this file The probles is that instead of name1 = Jack name2 = Barbara I get name1 = name2 = If I use "//name/text()" as xpath I get name1 = Jack name2 = Jack What I did wrong? -- ) http://cs.unibo.it/~barabucc</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath.valueOf(Node)</header>
    <date>Wed Jan 26 11:07:00 CET 2005</date>
    <body>Your first xpath '/*/person' returns all person elements. Note: Starting an XPath expression with '/' will disregard the current context and will start evaluating the expression from the root element. So your second xpath '/*/name/text()' would have returned a value if your document had the following structure: To fix this use a relative XPath expression: 'name/text()' return nameXPath.valueOf(e); // valueInside() would have been a nicer name Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath.valueOf(Node)</header>
    <date>Wed Jan 26 11:23:00 CET 2005</date>
    <body>On Wed, Jan 26, 2005 at 11:07:11AM +0000, Edwin Dankert wrote: This is going to solve all my probs. BTW I find the dom4j notion of context a bit confusing. Usually one refers to "context" when he means that there is nothing outside it, so the root of the context becomes the only root visible. I was thinking that the function was evaluated on I was wrong :) What about examples and counter examples in XPath documentation? -- ) http://cs.unibo.it/~barabucc</body>
  </mail>
  <mail>
    <header>[dom4j-user] Xpath issue with Dom4j</header>
    <date>Thu Jan 20 11:09:00 CET 2005</date>
    <body>Hi Why his don't works? public static List executeXPath(Node document, Output: empty list.... Plz find attached xml file..... Thanks &amp;amp; Regards,</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Xpath issue with Dom4j</header>
    <date>Thu Jan 20 12:14:00 CET 2005</date>
    <body>This is again the dreaded default namespace problem. The XPath expression //resource searches for all elements that are not in a namespace and are named 'resource'. In this case the //resource elements are in the ' http://www.imsglobal.org/xsd/imscp_v1p1 ' namespace. XPath however does not allow us to specify that it should look for the elements in the default namespace. To solve this you should be allowed to specify a mapping between your namespace and any arbitrary prefix, and use this prefix to search for elements in that namespace. So let's say you specified 'ims' as the prefix for your namespace, you could now look for your resource elements using the following XPath expression: //ims:resource Most XPath processors allow you to specify a namespace prefix mapping and dom4j allows this as well using the 'setXPathNamespaceURIs' method on the DocumentFactory. The code should look something like this: map.put( "ims", " http://www.imsglobal.org/xsd/imscp_v1p1 Note: This mechanism can also be used to search documents where the namespace prefix changes between documents. (some people prefer 'xs' as the prefix for the xml-schema namespace, others prefer 'xsd') Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with Amazon Web Service and XPath</header>
    <date>Sat Jan 15 22:23:00 CET 2005</date>
    <body>Hey, Couldn't find anything about this here or on google (although maybe I should be posting to the jaxen group) -- but I'm having a really wierd issues using XPath and dom4j and the Amazon Web Service (AWS). here's some sample code: URL url = new URL(" http://webservices.amazon.com/onca/xml?Service=AWSECommerceService&amp;amp;SubscriptionId=0XJ88X7PMVVRDE672202&amp;amp;Operation=ItemSearch&amp;amp;Keywords=John%20Steinbeck&amp;amp;SearchIndex=Books&amp;amp;Sort=reviewrank That url will retrieve a valid XML document. But the wierd part is when I try to get back a list of nodes via xpath, I get some really strange behavior: This code will return a list of nodes: But this code returns null: That should be a totally legit XPath expression. In fact, they should be more or less equivalent. Other XPath/dom4j stuff I've done works great using that less formal syntax. Is there something funky about the Amazon XML in particular? When I loaded this XML in XPE I get the same results as with dom4j. I've attached some xml output from amazon below. Any help would be greatly appreciated, -Joe Rosenblum xmlns=" http://webservices.amazon.com/AWSECommerceService/2004-11-10 http://www.amazon.com/exec/obidos/redirect?tag=25thstreetnet-20%26link_code=xm2%26camp=2025%26creative=165953%26path=http://www.amazon.com/gp/redirect.html%253fASIN=0201310058%2526location=/o/ASIN/0201310058%25253FSubscriptionId=0XJ88X7PMVVRDE672202&amp;lt;/DetailPageURL http://www.amazon.com/exec/obidos/redirect?tag=25thstreetnet-20%26link_code=xm2%26camp=2025%26creative=165953%26path=http://www.amazon.com/gp/redirect.html%253fASIN=0201310023%2526location=/o/ASIN/0201310023%25253FSubscriptionId=0XJ88X7PMVVRDE672202&amp;lt;/DetailPageURL http://www.amazon.com/exec/obidos/redirect?tag=25thstreetnet-20%26link_code=xm2%26camp=2025%26creative=165953%26path=http://www.amazon.com/gp/redirect.html%253fASIN=0072127422%2526location=/o/ASIN/0072127422%25253FSubscriptionId=0XJ88X7PMVVRDE672202&amp;lt;/DetailPageURL http://www.amazon.com/exec/obidos/redirect?tag=25thstreetnet-20%26link_code=xm2%26camp=2025%26creative=165953%26path=http://www.amazon.com/gp/redirect.html%253fASIN=1861007841%2526location=/o/ASIN/1861007841%25253FSubscriptionId=0XJ88X7PMVVRDE672202&amp;lt;/DetailPageURL http://www.amazon.com/exec/obidos/redirect?tag=25thstreetnet-20%26link_code=xm2%26camp=2025%26creative=165953%26path=http://www.amazon.com/gp/redirect.html%253fASIN=0672315858%2526location=/o/ASIN/0672315858%25253FSubscriptionId=0XJ88X7PMVVRDE672202&amp;lt;/DetailPageURL http://www.amazon.com/exec/obidos/redirect?tag=25thstreetnet-20%26link_code=xm2%26camp=2025%26creative=165953%26path=http://www.amazon.com/gp/redirect.html%253fASIN=186100382X%2526location=/o/ASIN/186100382X%25253FSubscriptionId=0XJ88X7PMVVRDE672202&amp;lt;/DetailPageURL http://www.amazon.com/exec/obidos/redirect?tag=25thstreetnet-20%26link_code=xm2%26camp=2025%26creative=165953%26path=http://www.amazon.com/gp/redirect.html%253fASIN=0735617791%2526location=/o/ASIN/0735617791%25253FSubscriptionId=0XJ88X7PMVVRDE672202&amp;lt;/DetailPageURL http://www.amazon.com/exec/obidos/redirect?tag=25thstreetnet-20%26link_code=xm2%26camp=2025%26creative=165953%26path=http://www.amazon.com/gp/redirect.html%253fASIN=0201634589%2526location=/o/ASIN/0201634589%25253FSubscriptionId=0XJ88X7PMVVRDE672202&amp;lt;/DetailPageURL http://www.amazon.com/exec/obidos/redirect?tag=25thstreetnet-20%26link_code=xm2%26camp=2025%26creative=165953%26path=http://www.amazon.com/gp/redirect.html%253fASIN=B00007FYH1%2526location=/o/ASIN/B00007FYH1%25253FSubscriptionId=0XJ88X7PMVVRDE672202&amp;lt;/DetailPageURL http://www.amazon.com/exec/obidos/redirect?tag=25thstreetnet-20%26link_code=xm2%26camp=2025%26creative=165953%26path=http://www.amazon.com/gp/redirect.html%253fASIN=0131422464%2526location=/o/ASIN/0131422464%25253FSubscriptionId=0XJ88X7PMVVRDE672202&amp;lt;/DetailPageURL</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with Amazon Web Service and XPath</header>
    <date>Sun Jan 16 21:06:00 CET 2005</date>
    <body>The problem seems to be the default namespace problem. The search '//Item' returns all 'Item' elements without a namespace. To fix this, you could either prefix all your elements: xmlns:aws=" http://webservices.amazon.com/AWSECommerceService/2004-11-10 ... ... ... and use the following XPath: //aws:Item Or fix it using code by introducing a namespace-prefix mapping for your default namespace like this: map.put( "aws", " http://webservices.amazon.com/AWSECommerceService/2004-11-10 Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with Amazon Web Service and XPath</header>
    <date>Sun Jan 16 22:25:00 CET 2005</date>
    <body>Edwin, Thanks, that fixes it! -Joe On Sun, 16 Jan 2005 21:06:12 +0000, Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote: http://webservices.amazon.com/AWSECommerceService/2004-11-10 http://webservices.amazon.com/AWSECommerceService/2004-11-10</body>
  </mail>
  <mail>
    <header>[dom4j-user] Patch?</header>
    <date>Tue Jan 11 16:11:00 CET 2005</date>
    <body>Hi Maarten, I submitted a patch a few weeks ago to get factories working again, and you correctly pointed out at the time that I didn't actually attach a patch to the request.  I did that the same day or the next day, but I can't tell if you just haven't had time to look at it or whether you aren't interested in applying it.  Any news on this?  Dentaku has a local dependency on fixed version of dom4j, since I needed factories to get around the funny implementation of DefaultElement.visit(). Thanks! -b</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Patch?</header>
    <date>Tue Jan 11 18:29:00 CET 2005</date>
    <body>Hi Brian, I couldn't find some free time to take a look at it, but I will do this as soon as possible. regards, Maarten Brian Topping schreef: http://www.thinkgeek.com/sfshirt https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Where is the jaxen-1.1-beta-4 source?</header>
    <date>Tue Jan 11 13:00:00 CET 2005</date>
    <body>At 11:36 PM 1/10/2005 -0800, you wrote: http://www.ibiblio.org/maven/jaxen/jars/ Yes, thanks, I'm aware of the beta-4 jar file at that location.  The problem is that the latest build available at cvs.jaxen.codehaus.org:/home/projects/jaxen/scm is beta-3, not beta-4 (according to the latest build.xml file).  Of course I'm assuming beta-4 was built after beta-3.  If the beta-4 jar at http://www.ibiblio.org/maven/jaxen/jars/ didn't come from the jaxen project cvs repository, where did it come from, and where can I find its source code?  Or am I misunderstanding something? Randal</body>
  </mail>
  <mail>
    <header>[dom4j-user] Where is the jaxen-1.1-beta-4 source?</header>
    <date>Tue Jan 11 07:31:00 CET 2005</date>
    <body>Can anyone tell me why the jaxen jar in the dom4j-1.5.2 release appears to be AHEAD of the jaxen project?  dom4j-1.5.2 builds against the jaxen-1.1-beta-4.jar included in the dom4j lib, but the code in the jaxen project CVS is at beta-3.  So where the heck did the jaxen-1.1-beta-4.jar come from, and where might I find the corresponding source code? Thanks, Randal</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Where is the jaxen-1.1-beta-4 source?</header>
    <date>Tue Jan 11 07:36:00 CET 2005</date>
    <body>Randal, The jaxen jar comes from ibiblio: http://www.ibiblio.org/maven/jaxen/jars/ I guess you can find the code by checking out the sources from the jaxen project specifying the date the beta-4 jar has been built. regards, Maarten Randal Walser &amp;lt;randal-walser@...&amp;gt; wrote: Can anyone tell me why the jaxen jar in the dom4j-1.5.2 release appears to be AHEAD of the jaxen project? dom4j-1.5.2 builds against the jaxen-1.1-beta-4.jar included in the dom4j lib, but the code in the jaxen project CVS is at beta-3. So where the heck did the jaxen-1.1-beta-4.jar come from, and where might I find the corresponding source code? Thanks, Randal ------------------------------------------------------- The SF.Net email is sponsored by: Beat the post-holiday blues Get a FREE limited edition SourceForge.net t-shirt from ThinkGeek. It's fun and FREE -- well, almost.... http://www.thinkgeek.com/sfshirt _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] ? - Is there a way to validate 1 XML record at a time, using the SAX or other parser!</header>
    <date>Fri Jan 07 20:52:00 CET 2005</date>
    <body>Hello! Is there a DOM4J functionality that will help with this situation?, i'm currently using JAXP! Before running into space problems, i generated an XML file from a 'pipe delimited' file and and then processed  that XML file thru a SAXParser 'validator' and the data was correctly validated, using the RELAXNG Schema patterns as the validation criteria! But as feared, the  XML file was huge! (12 billion XML recs. generated from 1 billion 'pipe' recs.) and  i am now trying to find a way to  process 1 'pipe' record at a time, (ie) read 1 record from the 'pipe delimited' file, convert that rec. to an XML rec. and then send that 1 XML rec. thru the SAXParser 'validator', avoiding the build of a huge temporary XML file! After testing this approach, its looks like the SAXParser 'validator' (sp.parse) is expecting only (1) StringBufferInputStream as input,and after opening, reading and closing just (1) of the returned  StringBufferInputStream objects, the validator wants to close up operations! Where i have the "&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;" you can see where i'm calling the the object.method that creates the 'pipe&amp;gt;XML' records  'sb.createxml' and will be returning many occurances of the StringBufferInputStream object, where (1) StringBufferInputStream object represents (1) 'pipe&amp;gt;XML' record! So what i'm wondering, is if there is a form of 'inputStream' class that can be loaded and processed at the same time! ie instead of requiring that the 'inputStream' object be loaded in it's entirety, before going to validation? Or if there is another XML 'validator' that can validate 1 XML record at a time, without requiring that the entire XML file be built first? 1. ---------------------------------class: (SX2) --------------------------------------------------------------------------------------------------------- import ............ public class SX2 public static void main(String[] args) throws Exception sp.parse(sb.createxml(args[1]),dh);       &amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;  createxml( )    see &amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; below "SX2.java" 87 lines, 2563 characters 2. ----------------------------------class: (stbuf1)  method: (createxml) ---------------------------------------------------------------------------- public StringBufferInputStream createxml( String inputFile )       &amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; createxml( if ( (inputFile == null) || (inputFile.length() &amp;lt;= 1) ) while ( (line = textReader.readLine()) != null ) for (int i = 0; i &amp;lt; NUM_COLS; i++) else Thanks from BobK --------------------------------- Do you Yahoo!? The all-new My Yahoo!  Get yours free!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] ? - Is there a way to validate 1 XML record at a time, using the SAX or other parser!</header>
    <date>Sun Jan 09 15:25:00 CET 2005</date>
    <body>Using Dom4j will not really make it easier. Your current setup seems to do the following: - read the input file, - generate an xml document in memory, - validate the xml file. The best way I can think of would be to generate the SAX events yourself, implementing a XMLReader. http://www.developer.com/xml/article.php/2108031 Note: Manipulating Strings the way you are doing is very costly, why not use a StringBuffer or a Writer? Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j and GNU classpath</header>
    <date>Sat Jan 08 00:24:00 CET 2005</date>
    <body>Has anyone tried building dom4j under .NET - either by itself or using the GNU classpath? If so, what was the result? Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] xsd usage questions</header>
    <date>Thu Jan 06 09:36:00 CET 2005</date>
    <body>Hello, I'm sorry if this is already documented, if so please indicate me where because I haven't found it. (or I wasn't looking in the right place) I have problems using xsds with dom4j (I'm using version 1.5.2) the only way I found to include my xsd is the following: xmldoc.getRootElement().addNamespace("xsi", " http://www.w3.org/2001/XMLSchema-instance xmldoc.getRootElement().addAttribute("xsi:noNamespaceSchemaLocation", " http://myxsd.xsd but this doesn't seem very optimal to me. A bigger problem is that when I save this generated xml to disk, and try to reread it afterwards, it doesn't use the parsing rules defined in the document. I found a way to verify it. But it obliges me to know the link to the xsd. it is the following // specify the schema to use reader.setProperty (" http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation ", " http://myxsd.xsd // add an error handler which turns any errors into XML Is there a way to tell the parser to use the xsd that is specified in the document? thanks for the excellent product Hans</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xsd usage questions</header>
    <date>Thu Jan 06 15:46:00 CET 2005</date>
    <body>Instead of setting the external schema property, you could use the following (xerces): reader.setFeature( " http://apache.org/xml/features/validation/schema ", See: http://xml.apache.org/xerces2-j/features.html#validation.schema This should validate your xml document against the XML Schema or DTD defined in your XML document. Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xsd usage questions</header>
    <date>Thu Jan 06 17:47:00 CET 2005</date>
    <body>Take a look at JAXP 1.3. It will let you do that without relying on any particular parser. hans.vanbellingen@... wrote: http://www.w3.org/2001/XMLSchema-instance http://myxsd.xsd -- Kohsuke Kawaguchi</body>
  </mail>
  <mail>
    <header>[dom4j-user] Escaping whitespace in attribute values</header>
    <date>Thu Jan 06 13:32:00 CET 2005</date>
    <body>Section 3.3.3 of the XML Recommendation tells us that whitespace in attribute values should be normalised to space and that if the value should contain, say, a tab, then this can be achieved using the character reference How does one, however, create an attribute value containing such a character reference in dom4j 1.4? If I create an Attribute with a value containing a tab, dom4j 1.4 will write out a literal tab which, on re-parsing will become a space (per 3.3.3) If I create an Attribute with a value containing &amp;amp;#x9; dom4j 1.4 will escape the &amp;amp; and will write out &amp;amp;amp;#x9; which, on re-parsing, will become a literal &amp;amp;#x9; (instead of a tab) Without hacking dom4j to escape tab as &amp;amp;#x9; on writing, is there anything else that can be done? Am I missing something? James Tauber</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Escaping whitespace in attribute values</header>
    <date>Thu Jan 06 14:58:00 CET 2005</date>
    <body>You could maybe extend the XMLWriter to stop escaping characters found in attribute values: Enhancement: Turn escaping off or on in the XMLWriter? Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to find the concrete interface implementation?</header>
    <date>Wed Jan 05 07:04:00 CET 2005</date>
    <body>Hello everyone: When I read the source codes of dom4j, I hava a problem. The interfaces of Document, Element, and so on, are just interface, I can not find the concrete implement codes of methods in these interface. Where are they? Actually, the problem confused me so much. When I read the source codes of Xerces, I also can't find the concrete implement codes of interfaces. Thanks for help. Best regards! Gary --------------------------------- Do you Yahoo!? Meet the all-new My Yahoo!  Try it today!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to find the concrete interface implementation?</header>
    <date>Wed Jan 05 07:47:00 CET 2005</date>
    <body>Gary, you can find the default dom4j implementation of these interfaces in the org.dom4j.tree package regards, Maarten gary wang &amp;lt;grywng@...&amp;gt; wrote: Hello everyone: When I read the source codes of dom4j, I hava a problem. The interfaces of Document, Element, and so on, are just interface, I can not find the concrete implement codes of methods in these interface. Where are they? Actually, the problem confused me so much. When I read the source codes of Xerces, I also can't find the concrete implement codes of interfaces. Thanks for help. Best regards! Gary --------------------------------- Do you Yahoo!? Meet the all-new My Yahoo!  Try it today! --------------------------------- Do you Yahoo!? Yahoo! Mail - You care about security. So do we.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to find the concrete interface implementation?</header>
    <date>Wed Jan 05 17:01:00 CET 2005</date>
    <body>Just to make sure you aren't having the same confusion I had when I first started with Dom4J (and with Java)... If you're looking for the concrete implementation so that you can instantiate it -- e.g. "new Element();" -- don't. When using an interface oriented API like Dom4J (or Xerces) you use a Factory (from the Factory design pattern) to get instances of the object you want. Take a look at the classes DocumentHelper and DocumentFactory in the org.dom4j package. You can also just create a Document using the factory, get a reference to its root Element, and then use the addElement, addAttribute, etc. methods from there. Hope this wasn't all old news... b gary wang wrote: http://my.yahoo.com &amp;gt; – Try it today!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SOAP Message</header>
    <date>Tue Jan 04 12:11:00 CET 2005</date>
    <body>I hope I understand your question correctly... In the process you describe, you could use dom4j to: [1] parse your SOAP message, [2] extract all the relevant information from it, [3] generate a new XML (UI) document When you have generated the XML (UI) document you can display this document in any XML (UI) application. Note: Skip step 3 if you just want to display the information in the SOAP message using your own GUI. I'm sorry but you'll still have to do the difficult bits yourself. Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] xpath with namespace</header>
    <date>Tue Mar 01 11:45:00 CET 2005</date>
    <body>Hi! I read from a XML which uses a namespace like ... http://www.kremsresearch.at/tai ... When I want to find the node from above I use the XPath //tai:Report[@id=r1] or in Java Element rep_root = (Element) document.selectSingleNode("//tai:Report[@id=" + This works fine, but what if the namespace is bound to something different from "tai"? How is it possible to handle this with dom4j? Am I completely wrong with my understanding of Namespaces and this is not a problem at all? Thanks for your help! Alex</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath with namespace</header>
    <date>Wed Mar 02 14:18:00 CET 2005</date>
    <body>That's why I would recommend to always use a specific namespace prefix mapping in your code. Like: map.put( "test", " http://www.kremsresearch.at/tai Allows you to perform the next XPath search: This will still return the root element as before, even if you have a different prefix defined for this namespace. Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] selectSingleNode() with different Namespaces do not work</header>
    <date>Wed Mar 02 11:26:00 CET 2005</date>
    <body>Hi! I have the following statement, which gives null - but should not! If I only use I get the header document. --- The Document --- xmlns:SOAP-ENV=" http://schemas.xmlsoap.org/soap/envelope/ " xmlns:xsi=" http://www.w3.org/1999/XMLSchema-instance xmlns:prop=" http://schemas.biztalk.org/btf-2-0/properties " http://www.kuehneNagel.com/soapService&amp;lt;/prop:topic -- Viele Grüße / best regards Marc Pellmann _______________________________ inubit - the integration experts inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] selectSingleNode() with different Namespaces do not work</header>
    <date>Wed Mar 02 11:39:00 CET 2005</date>
    <body>Marc, I'm not sure of it and I cannot test if from here, but this could be a shortcomming of dom4j to resolve namespaces in xpaths that are nested inside other elements. What happens if you declare your prop-namespace in your Envelope element? regards, Maarten Marc Pellmann &amp;lt;marc.pellmann@...&amp;gt; wrote: Hi! I have the following statement, which gives null - but should not! If I only use I get the header document. --- The Document --- http://schemas.xmlsoap.org/soap/envelope/ " xmlns:xsi=" http://www.w3.org/1999/XMLSchema-instance http://schemas.biztalk.org/btf-2-0/properties http://www.kuehneNagel.com/soapService&amp;lt;/prop:topic -- Viele Grüße / best regardsMarc Pellmann_______________________________inubit - the integration expertsinubit AGLützowstraße 105-106D-10785 BerlinFon: +49.30. 72 61 12-132Fax: +49.30. 72 61 12-100Freecall: 0800-go inubitWeb: http://www.inubit.com --------------------------------- Celebrate Yahoo!'s 10th Birthday! Yahoo! Netrospective: 100 Moments of the Web</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] selectSingleNode() with different Namespaces do not work</header>
    <date>Wed Mar 02 11:48:00 CET 2005</date>
    <body>The problem is that any namespace prefix mappings defined on the root element seems to be used automatically by the xpath mechanism, any other prefix namespace mappings you'll have to define yourself. You could use the following code for the mapping: map.put( "prop", " http://schemas.biztalk.org/btf-2-0/properties Note: it is advisable to always create specific mappings in the code... Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] CDATA parse error, help please</header>
    <date>Thu Feb 24 19:59:00 CET 2005</date>
    <body>Hi there, I appear to be having a problem with the size of a CDATA being parsed into a document from disk. I'm getting a DocumentException: null Nested exception: null, and the only difference appears between a successful and non-successful parse is the length of the Content tag that contains CDATA. Any clues as to why dom4j-1.5 and dom4j-1.5.2 will not parse the following : accountant I feel it unwise to stipulate a time frame. If the company is asking for the valuation it is in the companies best interest to expedite this so I see no need for a time frame to be stipulated. I feel that second or third valuations should be at the expense of the party requesting such so as to discourage delay. Either we have faith in our accountants or we don't. if not we should change. We could  however say allow for the cost to be split 50/50 if the average price would change by more than say 15% in the favour of the requestor based on the subsequent valuation/s. I have introduced a 3 month stand down period as it would be unreasonable to have someone who is say ill being forced out when they will in all likelyhood want back in upon recovery. I have one other concern, which I am not sure of, that is the offering to the long term partner business. I am not saying this is wrong, just that I am not sure that that is the correct way to deal with this as it creates classes of shareholder. Also you would need to define long term personal relationship. reason, including, but not limited to, relationship breakdown, termination of employment by firing or redundancy, or ill health, for a period But this will parse OK (Only difference is shortened CDATA in Content tag) accountant I feel it unwise to stipulate a time frame. If the company is asking for the valuation it is in the companies best interest to expedite this so I see no need for a time frame to be stipulated. I feel that second or third valuations should be at the expense of the party requesting such so as to discourage delay. Either we have faith in our accountants or we don't. if not we should change. We could  however say allow for the cost to be split 50/50 if the average price would change by more than say 15% in the favour of the requestor based on the subsequent valuation/s. I have introduced a 3 month stand down period as it would be unreasonable to have someone who is say ill being forced out when they will in all likelyhood want back in upon recovery. I have one other concern, which I am not sure of, that is the offering to the long term partner business. I am not saying this is wrong, just that I am not sure that that is the correct way to deal. reason, including, but not limited to, relationship breakdown, termination of employment by firing or redundancy, or ill health, for a period Any guidance would be greatly appreciated. Matt Hall-Smith New Zealand</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] CDATA parse error, help please</header>
    <date>Fri Feb 25 15:31:00 CET 2005</date>
    <body>The XML seems to be well-formed, would it be possible to get a little bit more information? Maybe you could tell us what Exception is thrown, where it is thrown and what XML parser you're using? Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] CDATA parse error, help please</header>
    <date>Mon Feb 28 20:14:00 CET 2005</date>
    <body>I can reproduce your problem if I use the XPP XMLParser that comes along with dom4j in the pull-parser-2.jar You can solve your problem by using another parser, for instance the one that comes with Xerces. You can do this by putting the Xerces jar before the pull-parser jar in your classpath. regards, Maarten Matt schreef: http://ads.osdn.com/?ad_id=6595&amp;amp;alloc_id=14396&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAXException in dom4j</header>
    <date>Sat Feb 26 00:46:00 CET 2005</date>
    <body>Hi, I am having this SAXException when I use dom4j. I already have xerces classes 2.4.0 in my classpath, can you please tell me how to fix this problem. Thank you. Sam --------------------------------------------------------------------------------------------- Nested exception: org.xml.sax.SAXException: Could not initialize a SAX Parser. Please add a SAX parser to your classpath along with preferably jaxp.jar at org.dom4j.io.SAXHelper.createXMLReader(SAXHelper.java:100) at org.dom4j.io.SAXReader.createXMLReader(SAXReader.java:647) at org.dom4j.io.SAXReader.getXMLReader(SAXReader.java:530) at org.dom4j.io.SAXReader.read(SAXReader.java:309) at net.sf.hibernate.cfg.Configuration.doConfigure(Configuration.java:967) at net.sf.hibernate.cfg.Configuration.configure(Configuration.java:911) at com.novarra.aca.profiling.HibernateUtil.&amp;lt;clinit&amp;gt;(HibernateUtil.java:31)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAXException in dom4j</header>
    <date>Sat Feb 26 18:38:00 CET 2005</date>
    <body>This doesn't seem to be a problem with dom4j but with your JAXP configuration. It's not very clear what could be wrong. But it seems to be missing a vital ingredient ... could it be that you don't have the xmlParserAPIs.jar included in your classpath? What JDK/JRE are you using? Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAXException in dom4j</header>
    <date>Sat Feb 26 19:37:00 CET 2005</date>
    <body>Edwin, thank you for your answer. I am running on 1.4.2 JRE, so I don't need JAXP.jar in my class path, right? and I check I do have xml-apis.jar in my class path. Thank you for any more help. Sam Edwin Dankert wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAXException in dom4j</header>
    <date>Sat Feb 26 20:41:00 CET 2005</date>
    <body>Would it be possible to create your own XMLReader using the same configuration? Note: the xmlParserAPIs.jar I suggested earlier is deprecated, you are right to use xml-apis.jar instead. Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Thu Feb 17 07:30:00 CET 2005</date>
    <body>Hi all, excuse for my written English, =20 I have a problem when I try to validate an xml file with the JARV example using an XML Schema: I obtain the following error:=20 =20 ERROR: com.sun.msv.verifier.ValidityViolation: attribute "boardno" has a bad value: "ICN-HORIZONAAAAAAA-AAAA-AD131000-F-A3121-00001-A-01-1" does not satisfy the "ENTITY" type=20 =20 In the xml file I have the following declarations: =20 The strange case is that with XML Spy the XML file is Ok. =20 Can anybody help me? =20 Regards Carlo. =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] (no subject)</header>
    <date>Sat Feb 26 19:03:00 CET 2005</date>
    <body>Sorry for replying this late but can you give us a sample of your XML file? However normally when validating an XML Schema or validating against an XML Schema, I would recommend to use Xerces or XSV, there seem to be problems with the way XML Spy interprets the XML Schema definition. Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] way to get all of an Elements text (.//text()) as a String?</header>
    <date>Fri Feb 25 19:53:00 CET 2005</date>
    <body>Hi, I am wondering if I am missing something in the api that can give me all the Text nodes in an Element as a String? I know I can do: But I am just wondering if there is some convenience method to avoid assembling the String from the list? thanks, -Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] way to get all of an Elements text (.//text()) as a String?</header>
    <date>Sat Feb 26 09:28:00 CET 2005</date>
    <body>Maybe not exactly what you need but how about: Element.getText() "Returns the text value of this element without recursing through child elements. This method iterates through all Text, CDATA and Entity nodes that this element contains and appends the text values together." or ... Element.getStringValue() "Returns the XPath string-value of this node. The behaviour of this method is defined in the XPath specification. This method returns the string-value of all the contained Text, CDATA, Entity and Element nodes all appended together." Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] way to get all of an Elements text (.//text()) as
 a String?</header>
    <date>Sat Feb 26 14:54:00 CET 2005</date>
    <body>Edwin Dankert wrote: The won't work because it does not recurse into its descendants. This does work, but it concatenates strings. For example if we have: You get: The TitleParagraph 1.Paragraph 2. Which, of course, throughs off results for a search query and makes search results summary text look a little weird. I wonder if this method would be more useful in general if spaces (or some other separator) were inserted between text nodes. Although, then it would not be an exact representation of the text. But I can't see the use of it any other way. What do you think? How are people using Element.getStringValue()? I did finally try this after posting, but ended up looping through the list of Text nodes so I can insert a space. It works great so far. It is much easier than sax to weed out unnecessary content nodes. In addition, you can create special search fields for (lucene)documents so you can have the search find special content (for example, you want to search for all glossary entries in your content, etc). Thanks, -Rob</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] way to get all of an Elements text (.//text()) as a String?</header>
    <date>Sat Feb 26 16:26:00 CET 2005</date>
    <body>I think you might be stripping whitespace nodes? If you would turn this off you should get: The Title Paragraph 1. Paragraph 2. I think this is there to give you exactly the same functionality as with the xsl:value-of element in xslt. (in both cases, you are depending on the whitespace defined in the XML document) There is also the String Node.valueOf( String xpath) method you could use instead (should give a similar result). Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] way to get all of an Elements text (.//text()) as
 a String?</header>
    <date>Sat Feb 26 17:26:00 CET 2005</date>
    <body>Edwin Dankert wrote: OK, I misstated how the content is. In this case the XHTML is generated with xsl:output/@indent='no' -- it also has a xsl:strip-space/@elements='*'. We have to do this for some sites because some of them render incorrectly with spacing left in (the one I am indexing in particular) -- not optimal, but... So it actually looks like: Sorry for not being clear upfront. So in general, what you have said would work fine, thanks for your help, -Rob</body>
  </mail>
  <mail>
    <header>[dom4j-user] Rule Examples</header>
    <date>Wed Feb 23 16:13:00 CET 2005</date>
    <body>Hi All I am looking for some examples to make use of the "Rule" interface . Any help is appreciated. thanks Jojy G Varghese</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Rule Examples</header>
    <date>Thu Feb 24 07:16:00 CET 2005</date>
    <body>You can find an example in the dom4j cookbook: http://www.dom4j.org/cookbook.html regards, Maarten Jojy Varghese &amp;lt;jojy.varghese@...&amp;gt; wrote: Hi All I am looking for some examples to make use of the "Rule" interface . Any help is appreciated. thanks Jojy G Varghese ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://ads.osdn.com/?ad_id=6595&amp;amp;alloc_id=14396&amp;amp;op=click _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Do you Yahoo!? Yahoo! Sports -  Sign up for Fantasy Baseball.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Creating A New XML By Reading XPath</header>
    <date>Tue Feb 22 17:52:00 CET 2005</date>
    <body>I created a similar app last year, I used XML Schema to define the = documents then walked to schema using business rules to determine which = elements to add, choices to follow etc. =20 http://www.w3.org/XML/Schema =20 Robert =20 ________________________________ From: dom4j-user-admin@... on behalf of Edwin Dankert Sent: Tue 22/02/2005 16:17 To: Jojy Varghese Cc: dom4j-user@... Subject: Re: [dom4j-user] Creating A New XML By Reading XPath I think dom4j might be a very good choice for this. You could use it to: - read in the layout document, - create a new document, - get the layout element + xpath, - add elements based on xpath to the new document, - format and save the new document. and more... Regards, Edwin ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://ads.osdn.com/?ad_id=3D6595&amp;amp;alloc_id=3D14396&amp;amp;op=3Dclick _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Creating A New XML By Reading XPath</header>
    <date>Tue Feb 22 15:22:00 CET 2005</date>
    <body>Hello group. I am new to this group and first of all want to congratulate all for the good work. Now coming to my question. I am trying to create a "XML Layout Schema" where you can define the layout of diffeerent elements in an XML as XML itself. For example if we want the output as : The schema would be something like: ... ... As you can see, a driver can look at the layout and create the output XML. Now i am wondering how much help I can get from DOM4j to do this. I know we can create elements on the fly but can we create elements and tie them to the xpath ???? Any help is appreciated. Thanks Jojy -- Jojy G Varghese</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Creating A New XML By Reading XPath</header>
    <date>Tue Feb 22 16:17:00 CET 2005</date>
    <body>I think dom4j might be a very good choice for this. You could use it to: - read in the layout document, - create a new document, - get the layout element + xpath, - add elements based on xpath to the new document, - format and save the new document. and more... Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] xpath node selection problem</header>
    <date>Tue Feb 22 14:39:00 CET 2005</date>
    <body>I have a very simple xml file, where some elements have "name" childs. element. I can select a node and get the referring element, but I cannot select the name starting from that element. If I select factNode, and xelement = factNode, //I create the xpath // I want to select the name starting from factNode // I get the node //Here I get the string I always get all the name occurencies, and the first is always the /schemaVersion/name. I want only one result: /schemaversion/factNode/name instead of all //name occurrencies. The DOM4J docs says: selectNodes public List selectNodes(Object context) selectNodes performs this XPath expression on the given Node or List of Nodes instances appending all the results together into a single list. Parameters: context - is either a node or a list of nodes on which to evalute the XPath Returns: the results of all the XPath evaluations as a single list Where is my mistake? How can I do what I want? Thanks in advance, it's a blocking problem for my university thesis. -- Alessandro Ronchi http://www.aronchi.org http://www.soasi.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath node selection problem</header>
    <date>Tue Feb 22 14:51:00 CET 2005</date>
    <body>Alessandro Ronchi wrote: I think you can use XPath axes such as "descendant". Ex: //descendant::factNode/name Bye, Seva</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath node selection problem</header>
    <date>Tue Feb 22 15:06:00 CET 2005</date>
    <body>//name Returns every 'name' node child starting from the 'root' node. (this includes '/schemaVersion/name') .//name Returns every 'name' node child starting from the 'context' node. or you could just use: name Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] XML Encryption and Signature Support</header>
    <date>Thu Feb 17 22:38:00 CET 2005</date>
    <body>I was wondering if anyone had used DOM4J with any XML encryption and signature library(ies), if so what libraries and what was your experience?  Did you have to do anything special to make it work, if you were able to make it work? Also, for any of the developers that might happen to be reading this, is there any plan to add encryption and signature support, perhaps as outlined by the JSRs (I know, they aren't final yet), to DOM4J, or do you feel that this is better left to other libraries? Thanks. -- -- Chad</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XML Encryption and Signature Support</header>
    <date>Fri Feb 18 06:29:00 CET 2005</date>
    <body>Chad, I didn't use it myself, but there is an external project that might be interesting for you: http://dev.neuclear.org/xmlsig/index.html there are currently no plans to add encryption and signature support to dom4j. regards, Maarten Chad La Joie &amp;lt;clajoie@...&amp;gt; wrote: I was wondering if anyone had used DOM4J with any XML encryption and signature library(ies), if so what libraries and what was your experience? Did you have to do anything special to make it work, if you were able to make it work? Also, for any of the developers that might happen to be reading this, is there any plan to add encryption and signature support, perhaps as outlined by the JSRs (I know, they aren't final yet), to DOM4J, or do you feel that this is better left to other libraries? Thanks. -- -- Chad ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://ads.osdn.com/?ad_id=6595&amp;amp;alloc_id=14396&amp;amp;op=click _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Do you Yahoo!? Yahoo! Search presents - Jib Jab's 'Second Term'</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XML Encryption and Signature Support</header>
    <date>Mon Feb 21 01:22:00 CET 2005</date>
    <body>Chad, I have successfully used the Apache Java xml-security library ( http://xml.apache.org/security/ ) with Dom4J. I had great troubles with namespacing, but that's always the case when I deal with XML. Apart from that it was plain-sailing. Cheers Jem On Thu, 17 Feb 2005 17:38:33 -0500, Chad La Joie &amp;lt;clajoie@...&amp;gt; wrote: http://ads.osdn.com/?ad_id=6595&amp;amp;alloc_id=14396&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user -- There's a guy next to me and he's watching me type, which is sort of starting to creep me out. Yes guy next to me, I mean you.</body>
  </mail>
  <mail>
    <header>[dom4j-user] migration to 1.5.2 considered awkward</header>
    <date>Thu Feb 17 14:27:00 CET 2005</date>
    <body>Hi all, I've been using dom4j 1.4.0 for a while and wanted to migrate my project to 1.5.2. I encountered the following difficulties: - migration path is unclear: 1.5.2 doesn't bundle Jaxen, for example, and the docs are kind of vague on this: http://www.dom4j.org/faq.html#classpath - Jaxen 1.0 FCS wouldn't work, 1.1b4 is needed instead: you need to access the dependencies page ( http://www.dom4j.org/dependencies.html ) to get to know this - in turns, jaxen 1.1b4 is not easily reachable: I had to dig around jaxen to find it out at http://www.ibiblio.org/maven/jaxen/jars/ - apparently, all what's needed by my app is dom4j-1.5.2.jar and jaxen-1.1-beta-4.jar: the (long) list of dependencies should be grouped wrt users' needs. You may want to clarify the situation, LB -- Dott. Lorenzo Bigagli PIN - Polo Universitario di Prato dell'Università di Firenze</body>
  </mail>
  <mail>
    <header>[dom4j-user] i need dom4j.jar</header>
    <date>Wed Feb 09 06:08:00 CET 2005</date>
    <body>=A0=0AHi =0A     I need DOM4j.jar and related .jar files without zip forma= t.=0Abecause company strictly probihited .zip files.=0Aso i need to downloa= d without .zip files(.tar and etc).but anyway i need to set the classpath .= jar files.=0AI need some suggestion and sample program with setup details.= =0AIam eagerly waiting for yr +ve reply ASAP...=0A=0A=0AThank u=0A=0ARegard= s=0AArulkumar Rajaraman=0A=0A=0AArulKumar Rajaraman=0D=0ACognizant Technolo= gy Solutions India Pvt Ltd,=0D=0APune=0D=0AMobile No:9890734085=0D=0A</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] i need dom4j.jar</header>
    <date>Wed Feb 16 11:20:00 CET 2005</date>
    <body>Hi, You can download the dom4j jar directly from the sourceforge download page: http://sourceforge.net/project/showfiles.php?group_id=16035 You can download the related jars from the maven repository for example: http://www.ibiblio.org/maven/ regards, Maarten sathya arul kumar &amp;lt;sunsathya@...&amp;gt; wrote: Hi I need DOM4j.jar and related .jar files without zip format. because company strictly probihited .zip files. so i need to download without .zip files(.tar and etc).but anyway i need to set the classpath .jar files. I need some suggestion and sample program with setup details. Iam eagerly waiting for yr +ve reply ASAP... Thank u Regards Arulkumar Rajaraman ArulKumar Rajaraman Cognizant Technology Solutions India Pvt Ltd, Pune Mobile No:9890734085 --------------------------------- Do you Yahoo!? Take Yahoo! Mail with you! Get it on your mobile phone.</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOMDocument.createDocumentFragment not supported</header>
    <date>Thu Feb 10 09:12:00 CET 2005</date>
    <body>Hello, I am using DOM4J and am using SAAJ for SOAP messaging. SAAJ uses a W3C DOM. To optimize conversions between DOM4J and W3C DOM, I was attempting to use the DOMDocument and related classes. However, SAAJ seems to be using DocumentFragment which is not supported in DOM4J. This results in: at org.dom4j.dom.DOMNodeHelper.notSupported(DOMNodeHelper.java:468) at org.dom4j.dom.DOMDocument.createDocumentFragment(DOMDocument.java:226) at com.sun.xml.messaging.saaj.soap.impl.BodyImpl.addDocument(BodyImpl.java:167) Any plans to add support for DocumentFragment? I searched the archives and saw a discussion in 2001 on this topic but nothing since. Thanks! Jim __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOMDocument.createDocumentFragment not supported</header>
    <date>Thu Feb 10 09:12:00 CET 2005</date>
    <body>Hello, I am using DOM4J and am using SAAJ for SOAP messaging. SAAJ uses a W3C DOM. To optimize conversions between DOM4J and W3C DOM, I was attempting to use the DOMDocument and related classes. However, SAAJ seems to be using DocumentFragment which is not supported in DOM4J. This results in: at org.dom4j.dom.DOMNodeHelper.notSupported(DOMNodeHelper.java:468) at org.dom4j.dom.DOMDocument.createDocumentFragment(DOMDocument.java:226) at com.sun.xml.messaging.saaj.soap.impl.BodyImpl.addDocument(BodyImpl.java:167) Any plans to add support for DocumentFragment? I searched the archives and saw a discussion in 2001 on this topic but nothing since. Thanks! Jim __________________________________ Do you Yahoo!? The all-new My Yahoo! - What will yours do? http://my.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath performance penalty</header>
    <date>Wed Feb 02 10:58:00 CET 2005</date>
    <body>It might be very useful to have some benchmarks for these. Maybe you could use the XPath comparison tests already created by Ryan Cox, a description of the tests and the test files can be found at: http://www.asciiarmor.com/blog/default/ Also shirasu hiroyuki has extended these tests and used them to compare xom and jdom, don't know why he left dom4j out: http://www.k2.dion.ne.jp/~hirsh/xpath/engineComparison-en.html Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] unicode</header>
    <date>Wed Mar 23 03:32:00 CET 2005</date>
    <body>Hi Edwin, I have an enquiry regarding unicode again... I have 2 xml files. one of them encode as #x2014A manages to decode it as a dash when I print it out after using getText() to get my data. however the second file with #x00E9 is not able to decode this character... May I know how can I decode my character &amp;amp; display them appropriately? I do not need to have any explicit declarations to display unicodes right? does that mean it's the xml file problem... or the unicode is not defined? how do i know if the unicode char is compatible with UTF-8 or UTF-16? thanks alot! regards, Jac Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote: Dom4j fully supports unicode characters. However in XML you can specify unicode characters in 2 different ways: - Use the character as is and use a unicode compatible encoding (UTF-8 or UTF-16). - Use a character reference. A character reference would look like ''. Note: when you use character-references the XML parser will substitute the character-reference for its unicode character. Regards, Edwin ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://ads.osdn.com/?ad_id=6595&amp;amp;alloc_id=14396&amp;amp;op=click _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user Yahoo! Mobile - Download the latest ringtones, games, and more!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] unicode</header>
    <date>Wed Mar 23 16:08:00 CET 2005</date>
    <body>I am not sure if this is the platform for this question but I'll try to answer it as well as possible. What tool do you use to view these characters? Not every tool or font can display all Unicode characters so you'll have to select the correct font/tool to be able to display your unicode characters. If you do not have a xml declaration at the start of your XML file, the encoding will default to UTF-8 or UTF-16. No, I think it might be the font or the tool you're using. Any unicode character can be described by UTF-8 or UTF-16. Hope this helped? Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] Copying namespaces from one document to another</header>
    <date>Sat Mar 19 22:31:00 CET 2005</date>
    <body>Hello all, I need a quick way to extract all namespaces from a source document, so I can add them to a target document. I could traverse the complete DOM of the source document and collect namespaces on the way and then add them to the target document, but I would like to know if anybody has a more elegant solution. Thank you very much, Richard</body>
  </mail>
  <mail>
    <header>[dom4j-user] XML Schema model  information available in dom4j?</header>
    <date>Tue Mar 15 16:37:00 CET 2005</date>
    <body>I have a need to parse XML documents defined by an XML Schema document, and be able to scan all the type and structure information available in the schema document.  Does dom4j have an API that will let me do this? =20 Martin Davis, Senior Technical Architect Vivid Solutions Inc. http://www.vividsolutions.com Suite #1A-2328 Government Street Victoria, B.C. V8T 5G5 Phone: (250) 385 6040 - Local 308 Fax: (250) 385 6046 =20</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] DatatypeDocumentFactory and getData</header>
    <date>Tue Mar 15 19:15:00 CET 2005</date>
    <body>Edwin, Thanks for your help.  It does work when I do as you suggested.  Of course, that depends on the fact the namespace is set as the default or the other prefix that I specify.  Good catch on bug 1161719. I hope that gets fixed so I don't have to mandate use of certain namespace prefixes. -Mark -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Friday, March 11, 2005 5:51 PM To: Priest, Mark Cc: dom4j-user@... Subject: Re: [dom4j-user] DatatypeDocumentFactory and getData The problem is that the Namespace class is 'prefix aware', so when comparing 2 Namespace objects they are only the same when they have the same URI and prefix. (Note: this is not correct behavior bug 1161719.) The workaround for the problem would be to define the same prefix as is used in the document, in this case using no prefix at all. Namespace namespace = DocumentHelper.createNamespace( "", " http://www.3eti.com/infomatics/schemas/sm_client_schema This is not ideal but should work for now ... Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problems with getXMLEncoding()</header>
    <date>Tue Mar 15 15:55:00 CET 2005</date>
    <body>Hi, I hav to change an entity in an existing xml File therefore I have to read the XML Encoding from the source File so that I can set it for writing the file. As far as I understand it, the following code (shortened version) should work, but I always get 'null'  back from getXMLEncoding() ... Has anybody an idea what's wrong here? Thank you in advance. Regards, Volker</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problems with getXMLEncoding()</header>
    <date>Tue Mar 15 19:09:00 CET 2005</date>
    <body>Make sure the 'underlying XMLReader implementation supports the org.xml.sax.ext.Locator2 interface' See: http://www.dom4j.org/apidocs/org/dom4j/Document.html#getXMLEncoding () Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] Incomplete document printed when size is large</header>
    <date>Tue Mar 15 18:27:00 CET 2005</date>
    <body>Hi I am trying to read a csv file, convert it into xml and write  the document to a file. It works fine when the document is small but when the document size is big(20k elements), it doesnt print the whole document and we see incomplete document in output.  Here is what i am using to print the document. Is this a bug ? Thanks Jojy G Varghese</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Incomplete document printed when size is large</header>
    <date>Tue Mar 15 18:56:00 CET 2005</date>
    <body>Did you try writer.flush()? Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] unicode</header>
    <date>Tue Mar 15 08:11:00 CET 2005</date>
    <body>Hi, My xml file contains some unicode eg. #x20134 but it is stored as that when i retrieve the string... may i know if there are anything in dom4j that can support unicodes so that i can make that appearable in unicode format? Thanks in advance! Jac Yahoo! Mobile - Download the latest ringtones, games, and more!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] unicode</header>
    <date>Tue Mar 15 10:46:00 CET 2005</date>
    <body>Dom4j fully supports unicode characters. However in XML you can specify unicode characters in 2 different ways: - Use the character as is and use a unicode compatible encoding (UTF-8 or UTF-16). - Use a character reference. A character reference would look like '&amp;amp;#20134;'. Note: when you use character-references the XML parser will substitute the character-reference for its unicode character. Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] Asking again - simple xml library</header>
    <date>Fri Mar 11 18:38:00 CET 2005</date>
    <body>1.	Does anyone know of a very simple xml library that: a.	Runs on java 1.1.8 b.	Can do simple xpath queries - or can return a tree of nodes that I can walk on a xpath query? c.	And optionally can do a SAX type creation of a xml file where I feed it the nodes in order and it just writes them immediately rather than building up a DOM and then writing when all done? 2.	What should I use to do a SAX parse of a xml file (java 1.3+)? Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Asking again - simple xml library</header>
    <date>Fri Mar 11 18:53:00 CET 2005</date>
    <body>&amp;gt; Does anyone know of a very simple xml library that:=20 You could try XP ( http://www.jclark.com/xml/xp/index.html ), or =C6lfred (previously included with dom4j). Xerces Regards, Edwin</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Asking again - simple xml library</header>
    <date>Sat Mar 12 03:17:00 CET 2005</date>
    <body>As I already have dom4j required =96 wouldn=92t it be better to use it = than to pull in xerces? Thanks - dave -----Original Message----- From: Edwin Dankert [mailto:edankert@... Sent: Friday, March 11, 2005 11:53 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Asking again - simple xml library You could try XP ( http://www.jclark.com/xml/xp/index.html ), or =C6lfred (previously included with dom4j). Xerces Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Asking again - simple xml library</header>
    <date>Sat Mar 12 14:52:00 CET 2005</date>
    <body>Dom4j needs an XML parser to work and Xerces is currently (in my opinion) the best around. Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] org.dom4j.Document.select* methods</header>
    <date>Fri Mar 11 12:10:00 CET 2005</date>
    <body>All these methods take strings as arguments for the xpath-expressions. Does it make any performance points to take in XPath objects instead? This way it's possible to cache the XPath objects for several runs. -- David J. M. Karlsen - +47 90 68 22 43 http://www.davidkarlsen.com http://mp3.davidkarlsen.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.dom4j.Document.select* methods</header>
    <date>Fri Mar 11 19:32:00 CET 2005</date>
    <body>If you want to use XPath objects, you can use the methods on XPath to evaluate your expressions against your documents ... regards, Maarten David J. M. Karlsen schreef:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.dom4j.Document.select* methods</header>
    <date>Sat Mar 12 00:27:00 CET 2005</date>
    <body>Maarten Coene wrote: *blush* How blind is it possible to get? Somethimes it helps to read the JavaDocs and not just look at them :-) OK - optimization - here I come!</body>
  </mail>
  <mail>
    <header>[dom4j-user] DatatypeDocumentFactory  and getData</header>
    <date>Mon Mar 07 21:33:00 CET 2005</date>
    <body>Hi, I am trying to use a SAXReader with a schema loaded into a DatatypeDocumentFactory so that I can get properly typed data from the getData() method of an Element.  What I have found is that this only works when a schema reference exists in an instance document.  If I load the schema using the loadSchema() method or use the SchemaParser it is simply ignored. I use the following code to parse and load the schema: Namespace namespace = DocumentHelper.createNamespace( "smclient", " http://www.3eti.com/infomatics/schemas/sm_client_schema ...... I have an element called perMessageLogging with type xsi:boolean. When I encounter an instance document like this: xmlns=" http://www.3eti.com/infomatics/schemas/sm_client_schema " xmlns:smclient=" http://www.3eti.com/infomatics/schemas/sm_client_schema " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation=" http://www.3eti.com/infomatics/schemas/sm_client_schema Then I can use this to get the value as a Boolean Element elem = (Element) doc.selectSingleNode( "/prefix:SMClientConfig/prefix:perMessageLogging" if (null != elem) perMessageLogging = ((Boolean) However, when I remove the schemaLocation from the instance document like this then it is returned as  String: xmlns=" http://www.3eti.com/infomatics/schemas/sm_client_schema " xmlns:smclient=" http://www.3eti.com/infomatics/schemas/sm_client_schema " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance It makes no difference whether I load the schema or not.  The only thing that matters is that the schemaLocation is set.  Am I doing something wrong? What is the point of loading the schema if it is not used? Thanks, Mark</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DatatypeDocumentFactory and getData</header>
    <date>Fri Mar 11 22:51:00 CET 2005</date>
    <body>The problem is that the Namespace class is 'prefix aware', so when comparing 2 Namespace objects they are only the same when they have the same URI and prefix. (Note: this is not correct behavior bug 1161719.) The workaround for the problem would be to define the same prefix as is used in the document, in this case using no prefix at all. Namespace namespace = DocumentHelper.createNamespace( "", " http://www.3eti.com/infomatics/schemas/sm_client_schema This is not ideal but should work for now ... Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] Thread safetiness of org.dom4j.xpath.DefaultXPath</header>
    <date>Fri Mar 11 12:05:00 CET 2005</date>
    <body>Is this class threadsafe? (eg. can I have a static instance in my class shared by all classinstances, running in parallell on different threads) -- David J. M. Karlsen - +47 90 68 22 43 http://www.davidkarlsen.com http://mp3.davidkarlsen.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Thread safetiness of org.dom4j.xpath.DefaultXPath</header>
    <date>Fri Mar 11 19:30:00 CET 2005</date>
    <body>Hi David, This class is not thread-safe! If you have multiple threads accessing the same XPath instance, you should synchronized it yourself. However, it might be possible that you can run xpath queries in parallell *on one document* using the same instance of DefaultXPath (I did not test it though, so I could be wrong). regards, Maarten David J. M. Karlsen schreef:</body>
  </mail>
  <mail>
    <header>[dom4j-user] need help</header>
    <date>Fri Mar 11 08:29:00 CET 2005</date>
    <body>Hi, I have an xml file which structures that are not predicted. For example: 1 file can be: another file can be: i can't predict when there would be &amp;lt;i&amp;gt; inside the &amp;lt;p&amp;gt; tags as well as the position of &amp;lt;i&amp;gt; tags in the &amp;lt;p&amp;gt; tags. how can i retrieve the whole text in the &amp;lt;p&amp;gt; tag so that i can ignore all the subelements like &amp;lt;i&amp;gt; or &amp;lt;b&amp;gt; inside &amp;lt;p&amp;gt; tags?Can anyone help me thanks very much! Appreciate all the help provided! :) Yahoo! Mobile - Download the latest ringtones, games, and more!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] need help</header>
    <date>Fri Mar 11 09:27:00 CET 2005</date>
    <body>You could use getStringValue() instead. Or you could use the valueOf() method: Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] Usage of thread locals - problems in web apps</header>
    <date>Wed Mar 09 15:27:00 CET 2005</date>
    <body>Hello, I've recently debugged an infamous memory leak on a web application, which occurred when the application was started/stopped multiple times. For some very strange reasons, the class loader that loaded the application refused to be garbage collected. Investigating this bug I've found quite a lot of bad-written code (including some classes from SUN JDK, and some from jakarta projects). But the reason I'm posting to this list is because DOM4J was also one of the offending libraries. The problem is cause by the classes DocumentFactory, QName and DOMDocumentFactory. They all store an instance in a thread local (to resolve some thread safety problems, I guess). But when you use DOM4J from a web application, these objects (loaded by the web application class loader) get stuck in container's threads (threads managed by the web container, that usually never stop). The I stop the web application, these objects remain referenced from the container threads, and through them the old app class loader remains referenced, and because of this none of the application classes is garbage collected. And, to make the things worse, the designers of these classes offer no way to clear these ThreadLocalS whatsoever. This is quite a big architectural bug from my point of view. I've managed to do a workaround for it, but I wonder if there is any "official" solution to this problem. Or DOM4J in not meant to be used in web applications? Cheers, Catalin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Usage of thread locals - problems in web apps</header>
    <date>Wed Mar 09 19:55:00 CET 2005</date>
    <body>Hi Catalin, the CVS version of dom4j contains a solution for this problem. Could you try it out and let me know if there still are issues with it? regards, Maarten Catalin Grigoroscuta schreef: http://ads.osdn.com/?ad_id=6595&amp;amp;alloc_id=14396&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] [dom4j-user]Prevent replace \n\r with space char in xml attribute values</header>
    <date>Thu Mar 10 02:25:00 CET 2005</date>
    <body>Hello, When I use DocumentHelper.parseText(xml) to parse xml text,the parser replaces the "\n\r" in attribute values with space char, how to setting the parser to remain these char? Thanks!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] [dom4j-user]Prevent replace \n\r with space char in xml attribute values</header>
    <date>Thu Mar 10 10:10:00 CET 2005</date>
    <body>Whitespace in an attribute cannot be preserved, this will always be normalised by an XML processor. Please see: http://www.w3.org/TR/REC-xml/#AVNormalize Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] xml library question</header>
    <date>Tue Mar 08 04:03:00 CET 2005</date>
    <body>Hi: 1.	Does anyone know of a very simple xml library that: a.	Runs on java 1.1.8 b.	Can do simple xpath queries - or can return a tree of nodes that I can walk on a xpath query? c.	And optionally can do a SAX type creation of a xml file where I feed it the nodes in order and it just writes them immediately rather than building up a DOM and then writing when all done? 2.	What should I use to do a SAX parse of a xml file (java 1.3+)? Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] removing encoding from node.asXML()?</header>
    <date>Mon Mar 07 12:53:00 CET 2005</date>
    <body>Hi! part when exporting a document or node with asXML()? -- Andreas Andersson IT Dept. Travelstart Nordic andreas@... http://www.travelstart.se</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] removing encoding from node.asXML()?</header>
    <date>Mon Mar 07 14:25:00 CET 2005</date>
    <body>Hi Andreas! Andreas Andersson schrieb am 07.03.2005 13:54 : I think, you have to write your own asXML-method, which sets setSuppressDeclaration(true) on the OutputFormat: public void asXMLwithoutDecl(Node node, OutputStream out) throws Exception hth, Michael</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] removing encoding from node.asXML()?</header>
    <date>Mon Mar 07 15:14:00 CET 2005</date>
    <body>Andreas Andersson schrieb am 07.03.2005 15:32 : I'm not aware of another way to do it. - But I am new to dom4j... If you want to obtain a String, use this (untested): public String asXMLwithoutDecl(Node node) throws Exception Please don't send me any more private mails. Use the mailing list instead. Michael</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] removing encoding from node.asXML()?</header>
    <date>Mon Mar 07 20:04:00 CET 2005</date>
    <body>Hi Andreas, the asXML() method just provides you an easy way to get a default Sting-value of your document. However, if you want to make changes to this default format, you'll have to use the XMLWriter, e.g.: regards, Maarten Andreas Andersson &amp;lt;andreas@...&amp;gt; wrote: Hi! Is there a way of not getting the part when exporting a document or node with asXML()? -- Andreas Andersson IT Dept. Travelstart Nordic andreas@... http://www.travelstart.se ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://ads.osdn.com/?ad_id=6595&amp;amp;alloc_id=14396&amp;amp;op=click _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Celebrate Yahoo!'s 10th Birthday! Yahoo! Netrospective: 100 Moments of the Web</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] removing encoding from node.asXML()?</header>
    <date>Mon Mar 07 20:21:00 CET 2005</date>
    <body>Hi, Maarten -- However, including an encoding declaration in a Java string doesn't=20 really make sense...  It's a hint for a parser reading a binary stream=20= to know how to interpret what follows.  There are no rules for how XML=20= is represented in memory (outside of DOM or dom4J or XOM, etc.), but=20 including the encoding declaration in a String doesn't seem (to me)=20 like the right thing to do. -- Paul</body>
  </mail>
  <mail>
    <header>[dom4j-user] make dom4j build the DOM using customized elements</header>
    <date>Sat Mar 05 16:09:00 CET 2005</date>
    <body>Hi! I need to use customized Elements, which provide special methods. So,I have implemented these 3 classes: DecoratedAttribute extends DefaultAttribute DecoratedElement extends DefaultElement DecoratedDocumentFactory extends DocumentFactory But how can I tell SAXReader to use these elements to build the DOM? I've found this "suspicious" method in SAXReader: setDocumentFactory(DocumentFactory factory) Is it sufficient to register my DocumentFactory using this method? Are there any additional things I should do? Thanks for any advice, Michael</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] make dom4j build the DOM using customized elements</header>
    <date>Sat Mar 05 16:31:00 CET 2005</date>
    <body>Hi Michael, you have to specify your documentfactory with the SAXReader. You can do this by calling the setDocumentFactory() method, or by passing your factory to the constructor of SAXReader. regards, Maarten Michael Wenger &amp;lt;mailing-lists@...&amp;gt; wrote: Hi! I need to use customized Elements, which provide special methods. So,I have implemented these 3 classes: DecoratedAttribute extends DefaultAttribute DecoratedElement extends DefaultElement DecoratedDocumentFactory extends DocumentFactory But how can I tell SAXReader to use these elements to build the DOM? I've found this "suspicious" method in SAXReader: setDocumentFactory(DocumentFactory factory) Is it sufficient to register my DocumentFactory using this method? Are there any additional things I should do? Thanks for any advice, Michael ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://ads.osdn.com/?ad_id=6595&amp;amp;alloc_id=14396&amp;amp;op=click _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] make dom4j build the DOM using customized elements</header>
    <date>Sat Mar 05 16:40:00 CET 2005</date>
    <body>Hi Maarten! Maarten Coene schrieb am 05.03.2005 17:31 : Thanks a lot for the extrem quick response. I'm new to dom4j. My sympathy for this API grows from day to day :-) Regards, Michael</body>
  </mail>
  <mail>
    <header>[dom4j-user] java.lang.NoClassDefFoundError: org/saxpath/SAXPathException - Problems migrating from dom4j 1.3 to 1.5.2</header>
    <date>Thu Mar 03 15:51:00 CET 2005</date>
    <body>Hi! I am trying to upgrade my application to use the latest dom4j version (1.5.2) instead of an old one (1.3). However, I keep getting all this Exceptions.. It started with: Exception in thread "main" java.lang.NoClassDefFoundError: org/jaxen/JaxenException at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:196) at org.dom4j.tree.AbstractNode.createXPath(AbstractNode.java:205) at org.dom4j.tree.AbstractNode.selectSingleNode(AbstractNode.java:185) so I downloaded and added javen-1.0-FCS.jar to my classpath. Then I got: Exception in thread "main" java.lang.NoClassDefFoundError: org/saxpath/SAXPathException [...] at org.dom4j.tree.AbstractNode.createXPath(AbstractNode.java:205) at org.dom4j.tree.AbstractNode.selectSingleNode(AbstractNode.java:185) Where do I go from here? I've searched the net and looked in mailing lists, but can't seem to find a solution to my problem. I would really appreciate a quick tip. Kind regards, Jimisola</body>
  </mail>
  <mail>
    <header>[dom4j-user] java.lang.NoClassDefFoundError: org/saxpath/SAXPathException - Problems migrating from dom4j 1.3 to 1.5.2</header>
    <date>Thu Mar 03 16:16:00 CET 2005</date>
    <body>Hi! I am trying to upgrade my application to use the latest dom4j version (1.5.2) instead of an old one (1.3). However, I keep getting all this Exceptions.. It started with: Exception in thread "main" java.lang.NoClassDefFoundError: org/jaxen/JaxenException at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:196) at org.dom4j.tree.AbstractNode.createXPath(AbstractNode.java:205) at org.dom4j.tree.AbstractNode.selectSingleNode(AbstractNode.java:185) so I downloaded and added javen-1.0-FCS.jar to my classpath. Then I got: Exception in thread "main" java.lang.NoClassDefFoundError: org/saxpath/SAXPathException [...] at org.dom4j.tree.AbstractNode.createXPath(AbstractNode.java:205) at org.dom4j.tree.AbstractNode.selectSingleNode(AbstractNode.java:185) Where do I go from here? I've searched the net and looked in mailing lists, but can't seem to find a solution to my problem. I would really appreciate a quick tip. Kind regards, Jimisola</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] java.lang.NoClassDefFoundError: org/saxpath/SAXPathException - Problems migrating from dom4j 1.3 to 1.5.2</header>
    <date>Thu Mar 03 17:31:00 CET 2005</date>
    <body>You should use a more recent version of jaxen, e.g. the one that comes with dom4j or the one you can download from ibiblio: http://www.ibiblio.org/maven/jaxen/jars regards, Maarten Jimisola Laursen &amp;lt;public@...&amp;gt; wrote: Hi! I am trying to upgrade my application to use the latest dom4j version (1.5.2) instead of an old one (1.3). However, I keep getting all this Exceptions.. It started with: Exception in thread "main" java.lang.NoClassDefFoundError: org/jaxen/JaxenException at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:196) at org.dom4j.tree.AbstractNode.createXPath(AbstractNode.java:205) at org.dom4j.tree.AbstractNode.selectSingleNode(AbstractNode.java:185) so I downloaded and added javen-1.0-FCS.jar to my classpath. Then I got: Exception in thread "main" java.lang.NoClassDefFoundError: org/saxpath/SAXPathException [...] at org.dom4j.tree.AbstractNode.createXPath(AbstractNode.java:205) at org.dom4j.tree.AbstractNode.selectSingleNode(AbstractNode.java:185) Where do I go from here? I've searched the net and looked in mailing lists, but can't seem to find a solution to my problem. I would really appreciate a quick tip. Kind regards, Jimisola ------------------------------------------------------- SF email is sponsored by - The IT Product Guide Read honest &amp;amp; candid reviews on hundreds of IT Products from real users. Discover which products truly live up to the hype. Start reading now. http://ads.osdn.com/?ad_id=6595&amp;amp;alloc_id=14396&amp;amp;op=click _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Celebrate Yahoo!'s 10th Birthday! Yahoo! Netrospective: 100 Moments of the Web</body>
  </mail>
  <mail>
    <header>[dom4j-user] byte [] Node.valueOf()</header>
    <date>Wed Apr 27 22:38:00 CEST 2005</date>
    <body>Is there a way to get the result of a Node.valueOf() as an array of bytes? I know I can convert a String to a byte[] but for a large amount of data this is a giant hit. Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] byte [] Node.valueOf()</header>
    <date>Thu Apr 28 03:11:00 CEST 2005</date>
    <body>Most likely you need to take that up with Sun.  String.getBytes() is the real issue.  And the XPath under the covers for valueOf() returns a String.  For any String with a large amount of data, this is the case. To try and do anything with the bytes without converting it to the appropriate code page may make matters worse.  I would suggest looking for other areas to optimize.  Maybe perform your own xpath query instead of using the Node.valueOf and "cache" the xpath for future use.  That could cut down on startup overhead each time valueOf is called. Later, Dave David Thielen wrote: -- +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to set the parser of dom4j?</header>
    <date>Tue Apr 26 11:39:00 CEST 2005</date>
    <body>Hi, What parser did dom4j use, Xalan or Xerces? When made such setting:System.setProperty("javax.xml.parsers.DocumentBuilderFactory", "org.apache.xerces.jaxp.DocumentBuilderFactoryImpl"), did dom4j chanage its parser? Regards, Gary __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] [dom4j-user]how to add and change prefix?</header>
    <date>Tue Apr 26 09:27:00 CEST 2005</date>
    <body>http://www.dom4j.org/ " xmlns:AA=" http://www.AA.org/ Adding prefix "dom4j" to "books" element is easy. But I want give the "book" element prefix of "dom4j", and I didn't find setPrefix method of Element and its parent classes. document.addElement("dom4j:book") is the only way? I don't think it is a good approach. And when I want to change the prefix, how should I do? Thank you for help in advance. Regards, Gary. __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Convert from w3c Node to dom4j Node</header>
    <date>Fri Apr 22 05:42:00 CEST 2005</date>
    <body>Hi, you can use org.dom4j.io.DOMReader for converting w3c Documents to dom4j Documents. regards, Maarten "Punnoose, Roshan" &amp;lt;punnooser@...&amp;gt; wrote: Hey guys, How do you convert from a w3c Node to a dom4j Node? Is there a utility class for it in dom4j? Thanks Roshan Punnoose Phone: 301-497-6039 BEGIN:VCARD VERSION:2.1 N:Punnoose;Roshan FN:Punnoose, Roshan ADR;WORK:;2115 LABEL;WORK:2115 EMAIL;PREF;INTERNET:punnooser@... REV:20050413T183207Z END:VCARD __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Convert from w3c Node to dom4j Node</header>
    <date>Fri Apr 22 06:21:00 CEST 2005</date>
    <body>See http://www.dom4j.org/cookbook.html //w3c to dom4j /** converts a W3C DOM document into a dom4j document */ //dom4j to w3c Maarten Coene wrote: http://mail.yahoo.com -- +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Convert from w3c Node to dom4j Node</header>
    <date>Fri Apr 22 13:09:00 CEST 2005</date>
    <body />
  </mail>
  <mail>
    <header>[dom4j-user] Convert from w3c Node to dom4j Node</header>
    <date>Thu Apr 21 20:10:00 CEST 2005</date>
    <body />
  </mail>
  <mail>
    <header>[dom4j-user] problem with dom4j, struts, and WebSphere</header>
    <date>Wed Apr 20 03:40:00 CEST 2005</date>
    <body>Has anyone heard of this: Anytime when there is dom4j in EAR, whether it is referenced or not, Loading of struts fails. It throws the below error. I tried to find dom4j in the websphere 4.0 classpath too, but I didn't find any. [4/18/05 18:12:50:800 EDT]   114b17 ServletInstan X SRVE0100E: Did not realize  init() exception thrown by servlet action: javax.servlet.ServletException: (class: org/apache/commons/digester/Digester, method: createSAXException signature: (Ljava/lang/String;Ljava/lang/Exception;)Lorg/xml/sax/SAXException;) Wrong return type in function Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem with dom4j, struts, and WebSphere</header>
    <date>Wed Apr 20 18:54:00 CEST 2005</date>
    <body>What version of dom4j are you using in your ear? regards, Maarten David Thielen wrote:</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] problem with dom4j, struts, and WebSphere</header>
    <date>Wed Apr 20 20:20:00 CEST 2005</date>
    <body>I believe 1.4 - it's a customer of ours and there is no way to verify the version in use that I know of. Thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Maarten Coene Sent: Wednesday, April 20, 2005 12:54 PM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] problem with dom4j, struts, and WebSphere What version of dom4j are you using in your ear? regards, Maarten David Thielen wrote: ------------------------------------------------------- This SF.Net email is sponsored by: New Crystal Reports XI. Version 11 adds new functionality designed to reduce time involved in creating, integrating, and deploying reporting solutions. Free runtime info, new features, or free trial, at: http://www.businessobjects.com/devxi/728 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem with dom4j, struts, and WebSphere</header>
    <date>Wed Apr 20 23:53:00 CEST 2005</date>
    <body>This could be a classpath issue. See if there is a way to change the classloader on the admin console for your war file.  Look for PARENT_FIRST and PARENT_LAST settings.  Your WAR file should be PARENT_LAST to pick up any jars you need that is packaged. Hope that helps. Later, Dave David Thielen wrote: http://www.businessobjects.com/devxi/728 https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.businessobjects.com/devxi/728 https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] problem with dom4j, struts, and WebSphere</header>
    <date>Thu Apr 21 02:15:00 CEST 2005</date>
    <body>I will pass this on. However, what seems real strange is they cannot find dom4j in any of the jar files used in their system. Is there a program somewhere which can walk the list of all jars loaded and see all locations of a given class? I'm guessing this would be hard to do in an application server as it does not use the classpath. ??? - thanks - dave -----Original Message----- From: David D. Lucas [mailto:ddlucas@...] Sent: Wednesday, April 20, 2005 5:53 PM To: David Thielen Cc: 'Maarten Coene'; dom4j-user@... Subject: Re: [dom4j-user] problem with dom4j, struts, and WebSphere This could be a classpath issue. See if there is a way to change the classloader on the admin console for your war file.  Look for PARENT_FIRST and PARENT_LAST settings.  Your WAR file should be PARENT_LAST to pick up any jars you need that is packaged. Hope that helps. Later, Dave David Thielen wrote: info, http://www.businessobjects.com/devxi/728 https://lists.sourceforge.net/lists/listinfo/dom4j-user info, http://www.businessobjects.com/devxi/728 https://lists.sourceforge.net/lists/listinfo/dom4j-user -- +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem with dom4j, struts, and WebSphere</header>
    <date>Thu Apr 21 12:21:00 CEST 2005</date>
    <body>Try using the attached JSP to find class locations.  But it only reports the first one found which is the one used at runtime.  If it does not find something, it will dump the environment information to help you debug. It can also find properties as well.  If you specify a property file name loaded via CLASSPATH, it will retrieve the value. The Class Check can find the property file too, but only names with the suffix ".properties", otherwise it treats it as a class. I use this for debugging web environments. Let me know if you have any questions. Best Wishes, Dave David Thielen wrote: -- +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] problem with dom4j, struts, and WebSphere</header>
    <date>Thu Apr 21 06:05:00 CEST 2005</date>
    <body>David, if you can find the dom4j jar, you should delete the org.xml.sax.* classes from it (they were included in the 1.4 release of dom4j) regards, Maarten David Thielen &amp;lt;david@...&amp;gt; wrote: I believe 1.4 - it's a customer of ours and there is no way to verify the version in use that I know of. Thanks - dave -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Maarten Coene Sent: Wednesday, April 20, 2005 12:54 PM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] problem with dom4j, struts, and WebSphere What version of dom4j are you using in your ear? regards, Maarten David Thielen wrote: ------------------------------------------------------- This SF.Net email is sponsored by: New Crystal Reports XI. Version 11 adds new functionality designed to reduce time involved in creating, integrating, and deploying reporting solutions. Free runtime info, new features, or free trial, at: http://www.businessobjects.com/devxi/728 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] comparison of ElementHandler vs STAX</header>
    <date>Wed Apr 20 13:25:00 CEST 2005</date>
    <body>Hi, I was wondering if anyone could give their opinion as to how the use of dom4j SAXReader with ElementHandlers would compare to using a pure StAX XMLEventReader.  I am especially interested in performance and memory management issues. Also, can anyone point me to a good example usage of the dom4j STAXEventRea= der? Thanks in advance for the help, John Thorhauer</body>
  </mail>
  <mail>
    <header>[dom4j-user] Default Values from XML Schema</header>
    <date>Tue Apr 19 07:37:00 CEST 2005</date>
    <body>Hi! I'm using dom4j 1.5.2 to read in some XML. The XML is specified by an XML Schema. Is it possible to have an optional attribute set to the default value from the schema? I guess that the XML is not validated against the schema by default? Thanks for your help Alexander Rind</body>
  </mail>
  <mail>
    <header>[dom4j-user] Caching downloaded DTDs</header>
    <date>Mon Apr 18 22:37:00 CEST 2005</date>
    <body>As part of an application I'm writing, I need to parse a number of documents that reference the XHTML-MP DTD at http://www.wapforum.org/DTD/xhtml-mobile10.dtd . This DTD, in turn, references a whole bunch of modules in &amp;lt;!ENTITY&amp;gt; declarations. I'd like to avoid dom4j having to re-fetch those DTD files on every parse. Push come to shove, I can always manaully fetch those DTDs, hack them up to use local references, and use that, but that's not a great long-term solution. Is there a way I can cache those results somewhere using dom4j, so I can supply pre-fetched (or even pre-parsed) DTDs? I'm using SAXReader to convert an HttpClient InputStream into a dom4j Document. Thanks! Mark Murphy mmurphy@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] [announcement] dom4j 1.6 released!</header>
    <date>Fri Apr 15 20:29:00 CEST 2005</date>
    <body>The dom4j team is pleased to announce the dom4j 1.6 release! http://dom4j.org dom4j: the flexible XML framework for Java Changes in this version include: New Features: o Added a methods to SAXReader allowing to specify the encoding used when reading XML sources. Thanks to Filip Jirsak. o Added a setXMLEncoding(String) method to the Document interface. o Added a SingletonStrategy class for managing singletons. This allows to use different strategies for singletons, like: one instance per VM, one instance per thread, ... This change removed the usage of ThreadLocals. Fixed bugs: o Removed a static OutputFormat field from AbstractBranch. This can cause problems if multiple threads are using the asXML() method simultaniously. Thanks to John Plaxton. o Fixed a whitespace problem with the pretty-print OutputFormat. Thanks to Brett Porter. o Fixed a bug in the DefaultElement.setContent(List) method that caused incorrectly resetting the parent of the nodes in the list. Thanks to Peter Schaefer. o Fixed a problem in AbstractDocument.asXML() when an encoding was specified on the Document. Thanks to Pieter Valcke. o The DefaultNamespace.isReadOnly() method now returns false. This fixes issues with cloning this Node. o Fixed a bug in Stylesheet when an xpath expressions was used to select the nodes. Thanks to Brett Porter. Changes: o Changed the DocumentHelper.parseText(String) method to make sure that the XML encoding is always set (if known) on the returned Document, even if the used SAXParser doesn't provide a way to retrieve that encoding. o Modified SAXEventRecorder to accomodate sax events generated when writing a DOMDocument. o Updated DocumentFactory to create the instance untill the first time it is needed. Thanks to Brian Topping. Removed features: o Removed persistence package and sub-package. Have fun! -The dom4j team</body>
  </mail>
  <mail>
    <header>[dom4j-user] namspace bug in Dom4J 1.5.2</header>
    <date>Thu Apr 14 15:47:00 CEST 2005</date>
    <body>When generating an "web.xml" file using the "addAttribute" method add Servlet 2.4 compliant (XML Schema) namespace attributes to the root element, xmlns="" to every element under the root element. Is there some way to turn off this behavior? Is using the "addAttribute" method the correct way to add namespace attributes? -George</body>
  </mail>
  <mail>
    <header>[dom4j-user] Schedule for next release?</header>
    <date>Tue Apr 12 14:51:00 CEST 2005</date>
    <body>Is there a schedule for the 1.5.3 release? (Especially interested in correct .asXML() behaviour and getting rid of ThreadLocals). -- David J. M. Karlsen - +47 90 68 22 43 http://www.davidkarlsen.com http://mp3.davidkarlsen.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to generate XML document out of XML Schema</header>
    <date>Tue Apr 12 13:01:00 CEST 2005</date>
    <body>Hello everyone. I am new in these mailing lists, so, please, excuse me if I don't express in the usual way. Now, about my problem. I have a set of XML Schemas (Actually SMIL 2.0 schemas by W3org). What I think I should do is to process these schemas and to generate the corresponding documents (elements) out of them following their constraints and structure. I know that a possible solution might be the preparation and utilization of  the corresponding XSLT stylesheets, but unfortunately I don't have enough time to prepare such. So my question is: is someone aware of a possible automated desicion with dom4j? I know that there is a DTD Parser by Wutka available but as I am going to use dom4j overall, I don't want to mess up things with Wutka and DTDs. I like more schemas, as well :) Thank you in advance. ----------------------------------------------------------------- http://host.GBG.bg - лидер в Уеб Хостинг решения и регистрация на Домейн имена</body>
  </mail>
  <mail>
    <header>[dom4j-user] Issues with XML Transformation via XSL Stylesheet</header>
    <date>Fri Apr 08 07:57:00 CEST 2005</date>
    <body>Hi there, I'd appreciate your input/help on the following: I am having issues with the example in the Cookbook which refers to transforming XML via an XSL stylesheet. The code breaks on this line of code: At gnu.xml.aelfred2.SAXDriver.getLineNumber(SAXDriver.java:1165) The follwing is the code as well as the stacktrace which shows a NullPointerException. I am also including the stylesheet as well as the source XML document for your information. /** * TODO To change the template for this generated type comment go to * Window - Preferences - Java - Code Style - Code Templates */ public static Document styleDocument( Document document // load the transformer using JAXP Transformer transformer = factory.newTransformer(new StreamSource(new // now lets style the given document // return the transformed document Stack Trace java.lang.NullPointerException at gnu.xml.aelfred2.SAXDriver.getLineNumber(SAXDriver.java:1165) at com.sun.org.apache.xalan.internal.xsltc.compiler.Parser.parseTopLevel(Unknown Source) at com.sun.org.apache.xalan.internal.xsltc.compiler.Parser.parsePattern(Unknown Source) at com.sun.org.apache.xalan.internal.xsltc.compiler.Template.parseContents(Unknown Source) at com.sun.org.apache.xalan.internal.xsltc.compiler.Stylesheet.parseOwnChildren(Unknown Source) at com.sun.org.apache.xalan.internal.xsltc.compiler.Stylesheet.parseContents(Unknown Source) at com.sun.org.apache.xalan.internal.xsltc.compiler.Parser.createAST(Unknown Source) at com.sun.org.apache.xalan.internal.xsltc.compiler.XSLTC.compile(Unknown Source) at com.sun.org.apache.xalan.internal.xsltc.compiler.XSLTC.compile(Unknown Source) at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(Unknown Source) at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTransformer(Unknown Source) at org.arp.xml.XMLDocumentTransformer.styleDocument(XMLDocumentTransformer.java:35) at org.arp.xml.FileExporter.writeFile(FileExporter.java:25) at org.arp.xml.XMLParsingInvoker.invokeParser(XMLParsingInvoker.java:43) at org.arp.xml.XMLParsingInvoker.main(XMLParsingInvoker.java:25) Stylesheet xmlns:xsl=" http://www.w3.org/1999/XSL/Transform Source XML Document</body>
  </mail>
  <mail>
    <header>[dom4j-user] insert a new row</header>
    <date>Fri May 27 02:29:00 CEST 2005</date>
    <body>hi! i'm new with dom4j and i don't have any idea on how to do the following task: i have an xml document which i have to save as an excel file using dom4j. my problem is i also have to insert records in the middle of the file. is it possible? sample layout: Worksheet Header (also have to plot a value) Column Header (also have to plot a value) -- need to insert records here -- Sub-total row Total row i would appreciate any help from you guys... thanks in advance... --------------------------------- Do You Yahoo!? Yahoo! Small Business - Try our new Resources site!</body>
  </mail>
  <mail>
    <header>[dom4j-user] Error org.dom4j.DocumentException</header>
    <date>Fri May 27 08:18:00 CEST 2005</date>
    <body>Hi, I've got a problem while trying to read an XML file with Dom4J : This throws : org.dom4j.DocumentException: Error on line 76481 of document file:///D:/tickets.xml : Expected "&amp;lt;/Criticite&amp;gt;" to terminate element starting on line 76 481. Nested exception: Expected "&amp;lt;/Criticite&amp;gt;" to terminate element starting on line 76 481. As my XML file is very big (35 Mb) I was wondering if SAXReader could handle such documents or if the problem is somewhere else. Thanks, Jean-Marie Tinghir</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error org.dom4j.DocumentException</header>
    <date>Fri May 27 08:46:00 CEST 2005</date>
    <body>If dom4j had a problem reading a large file most likely you would get an OutOfMemoryError. What it sounds like from the error is that you haven't closed a tag properly - have you checked line 76481 of your document ? Graham. JM Tinghir wrote: file:///D:/tickets.xml : Expected "&amp;lt;/Criticite&amp;gt;" to terminate element</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error org.dom4j.DocumentException</header>
    <date>Fri May 27 11:50:00 CEST 2005</date>
    <body>&amp;gt;   What it sounds like from the error is that you haven't closed a tag Actually, there still were bad character in tag names... The file was generated by Access, but in a very bad way. And as it was quite big, I couldn't reach the line in UltraEdit.=20 Now it seems to work. Thanks. Jean-Marie Tinghir =20 file:///D:/tickets.xml : Expected "&amp;lt;/Criticite&amp;gt;" to terminate element</body>
  </mail>
  <mail>
    <header>[dom4j-user] JAXP Schema validation</header>
    <date>Sun May 22 21:48:00 CEST 2005</date>
    <body>I am trying to get the parser dom4j is using to validate an XML document with an XML schema. The parser is Xerces 2.6.2 (result is the same with it on the classpath or with Java 5 on its own). If I do this: reader.setFeature(" http://apache.org/xml/features/validation/schema ", etc it validates fine, and reports any errors. If I do this: reader.setProperty(" http://java.sun.com/xml/jaxp/properties/schemaLanguage ", " http://www.w3.org/2001/XMLSchema etc it doesn't report any errors. If I set that property directly on JAXP, or via setProperty on jdom or the commons-digester, then Xerces correctly reports the errors. If I construct the parser myself from JAXP, set that property on it, and pass it to dom4j, it also reports errors. Has anyone else experienced this ? Could someone point me in the right direction ? Thanks in advance, Graham King. PS: The reason I would like to get the second string working is that it is parser independent, whereas the first string will only work with Xerces.</body>
  </mail>
  <mail>
    <header>[dom4j-user] [announcement] dom4j 1.6.1 released!</header>
    <date>Fri May 20 19:00:00 CEST 2005</date>
    <body>The dom4j team is pleased to announce the dom4j 1.6.1 release! Changes in this version include: Fixed bugs: o Fixed a problem with XMLWriter that was causing too many new lines to be written to the resulting XML. Thanks to Thomas Fromm. Changes: o Updated the XPP2 implementation to version 2.1.10. Thanks to Wolfgang Baer. o Include more information about the cause if an XPathException or InvalidXPathException is thrown. Thanks to Gili Tzabari. Have fun! -The dom4j team</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath bug</header>
    <date>Thu May 19 18:31:00 CEST 2005</date>
    <body>I'm trying to use the following XPath: descendant-or-self::*[string-length(normalize-space(text())) &amp;gt; 1] This works as expected for most cases but encounters an error when it = hits an element containing an entity (eg. &amp;lt; or  &amp;gt; or &amp;amp;).  When I look at = the tree in memory under the debugger I see that an element with a = textual representation like &amp;lt;foo&amp;gt;&amp;amp;amp;bar&amp;lt;/foo&amp;gt; ends up having two text = node children.  This causes the XPath evaluation to behave unexpectedly, = because the XPath specification says that there should never be two = adjacent text nodes (section 5.7).  In the above case the following = XPath would behave as expected: descendant-or-self::*[string-length(normalize-space(concat(text()[1], = text()[2]))) &amp;gt; 1] but that is a really horrible way to work around this problem. Am I missing something or is this really a bug?</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] change in xpath syntax</header>
    <date>Wed May 11 15:49:00 CEST 2005</date>
    <body>You are right there is a namespace declaration but none of the tags are qualified.=20 Perhaps the doc should give some examples where this applies or at least point to xpath doco where it is explained or maybe a heads up. I am using dom4j with amazon web services Here is a sample document - - - - - - - - http://www.amazon.com/gp/help/seller/at-a-glance.html?seller=3DA3B9364CV8= Q DO9&amp;amp;marketplaceSeller=3D1 - - - - - - - - arrived very fast by airmail upgrade to normal post =20 Sorry about the lousy formatting. Thanks for the quick reply... Steve =20 ________________________________ From: Maarten Coene [mailto:maarten_coene@... Sent: Tuesday, May 10, 2005 11:07 PM To: Steven Citron-Pousty; dom4j-user@... Subject: Re: [dom4j-user] change in xpath syntax =20 Steven, =20 I think the reason is that your XML file contains namespace declarations.=20 =20 But to be sure: could you send us a sample of your XML file and some sample code illustrating your problem =20 regards, Maarten Steven Citron-Pousty &amp;lt;scitronpousty@...&amp;gt; wrote: I am using dom4j 1.6 with jaxen 1-1 beta 6 but I also tried this with beta 4. In my old code I could use xpath syntax like this And I would get all the SellerID nodes.=20 I tried that with the new dom4j code and I kept getting an empty list. I had dom4j tell me the xpath for the root node and it said the syntax has to look like this: /*[name()=3D'ItemLookupResponse']=20 So my code above became this: =20 Which now gives me a list of 9 objects. Both xpath syntax styles work in xmlSpy but my original style is much cleaner. Why did the style change or why doesn't the first style work anymore? I noticed that the tests use the old style (in the zip I downloaded for 1.6) and all the tests pass according to the maven doc. How is this the case? =20 Most importantly, if the second style is the only working style, someone has to update all the examples since they use the style of the first syntax. Thanks, Steve ________________________________ Discover Yahoo! Find restaurants, movies, travel &amp;amp; more fun for the weekend. Check it out! http://us.rd.yahoo.com/evt=3D32658/*http:/discover.yahoo.com/weekend.htm= l</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] change in xpath syntax</header>
    <date>Thu May 19 16:55:00 CEST 2005</date>
    <body>I think you're using Firefox to view your XML ... FireFox doesn't seem to show namespace declarations. The following default namespace declaration however seems to be defined on the root element: xmlns=3D" http://webservices.amazon.com/AWSECommerceService/2004-11-10 " You could use the following to fix this: map.put( "aws", " http://webservices.amazon.com/AWSECommerceService/2004-11-10 Regards, Edwin</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Parsing namespaces .... how d'you do it?</header>
    <date>Tue May 17 15:45:00 CEST 2005</date>
    <body>Raymond, You have to include namespace references in the xpath expressions.  Also, xpath does not handle using the default namespace so you will have to define a prefix for the http://www.pensions.gov.uk/EconomicsAndFinance/Personal/Pensions/Regulation namespace.  You can either do this in code or in the source document.  Here is an example if you do it in code: document.getRootElement().add(DocumentHelper.createNamespace( "prefix", " http://www.pensions.gov.uk/EconomicsAndFinance/Personal/Pensions/Regulation Node registyNumber = document.selectSingleNode("//prefix:PensionSchemeDetails/prefix:PensionSchem Node name = Node addressLine1 = document.selectSingleNode("//prefix:PensionSchemeDetails/prefix:Address/pref Node addressLine2 = document.selectSingleNode("//prefix:PensionSchemeDetails/prefix:Address/pref Node addressLine3 = document.selectSingleNode("//prefix:PensionSchemeDetails/prefix:Address/pref Node addressLine4 = document.selectSingleNode("//prefix:PensionSchemeDetails/prefix:Address/pref Node addressLine5 = document.selectSingleNode("//prefix:PensionSchemeDetails/prefix:Address/pref Node postcode = document.selectSingleNode("//prefix:PensionSchemeDetails/prefix:Address/pref Good luck, Mark -----Original Message----- From: Offiah Raymond, Slough [mailto:Raymond.Offiah@...] Sent: Tuesday, May 17, 2005 11:27 AM To: dom4j-user@... Subject: [dom4j-user] Parsing namespaces .... how d'you do it? Hello there. I wonder if someone could help me out here. I'm trying to parse an XML file, using DOM4J/XPath, and I'm having trouble with the namespaces defined in the file: xmlns=" http://www.pensions.gov.uk/EconomicsAndFinance/Personal/Pensions/Regu lation" xmlns:govADP=" http://www.pensions.gov.uk/people/AddressAndPersonalDetails " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation=" http://www.pensions.gov.uk/EconomicsAndFinance/Personal/ Pensions/Regulation \OccupationalPensionSchemeReturnRequest-v1.3.xsd" ... with this bit of code: Node registyNumber = document.selectSingleNode("//PensionSchemeDetails/PensionSchemeRegistryNumbe Node name = Node addressLine1 = document.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/Line[1]" Node addressLine2 = document.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/Line[2]" Node addressLine3 = document.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/Line[3]" Node addressLine4 = document.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/Line[4]" Node addressLine5 = document.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/Line[5]" Node postcode = document.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/PostCode If I strip out all the namespace stuff, it works OK. How do I parse XML files that are namespaced to the hilt .... Thanks in advance Ray Scanned for viruses by MessageLabs. The integrity and security of this message cannot be guaranteed. This email is intended for the named recipient only, and may contain confidential information and proprietary material. Any unauthorised use or disclosure is prohibited.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Parsing namespaces .... how d'you do it?</header>
    <date>Wed May 18 11:01:00 CEST 2005</date>
    <body>I've been using DOM4J for a while now, and this compliance really bit me = in the arse. I've looked in the mailing list logs, and the pro's and con= 's have been debated, and the end result was a win for  absolute XPath sp= ec compliance over useability. As a suggestion what if there was a 's= hadow' set of dom4j functionality that DID understand default namespace b= inding. Let's call it _XtraPath_.  So Raymond would have used se= lectSingleNodeXtraPath("//PensionSchemeDetails/PensionSchemeRegistryNumbe= This would understand that it should bind any unbound element t= o an internal anonymous namespace _foo_ which  is not present in the docu= ment . It would alter the XtraPath to use that _foo_ namespace. It would = return any anonymously bound elements which matched. So there would s= till be absolute compliance with the regular methods, but the convenience= would still be there. Would this ever be acceptable to the DOM4J team?? = Reason: The real pain caused by strict compliance is having to = convert all your malformed content to have this prefix. If you have a lot= of legacy XML/SVG/Custom stuff and want to use it you cannot, unless you= convert it. Then if you are authoring content, say by hand to put on= _any_ prefix is a real pain. At least two characters 'a:' per open tag, = attribute and closing tag. It's a recipe for error and frustration, espec= ially if you don't have a real time validation tool, such as uploading co= ntent to a webapp that needs deployment time. It is less terse, and h= arder to validate by eye. And when push comes to shove, when there is a b= ug, you have to validate by eye. Also, newcomers clearly expect this = functionality and it confuses them that there is no namespace binding by = default. Terry. ________________________________ From: Priest, = Mark [mailto:mpriest@...] Sent: Tue 17/05/2005 16:44 To: 'Offiah R= aymond, Slough'; dom4j-user@... Subject: RE: [dom4j-us= er] Parsing namespaces .... how d'you do it? Raymond, You have= to include namespace references in the xpath expressions.  Also, xpath= does not handle using the default namespace so you will have to define = a prefix for the http://www.pensions.gov.uk/EconomicsAndFinance/Persona= http://www.pensions.gov.uk/EconomicsAndFinance/Per= namespace.  You can either do this in code = or in the source document.  Here is an example if you do it in code: = document.getRootElement().add(DocumentHelper.createNamespac= e( "prefix", " http://www.pensions.gov.uk/Economic= http://www.pensions.gov.uk/Econ= Node re= gistyNumber =3D document.selectSingleNode("//prefix:PensionSchemeDetail= s/prefix:PensionSchem Node name =3D docu= = Node addressLine1 =3D document.selectSingleNode("//prefix:PensionS= chemeDetails/prefix:Address/pref = Node addressLine2 =3D document.selectSingleNode("//prefix:PensionSch= emeDetails/prefix:Address/pref = Node addressLine3 =3D document.selectSingleNode("//prefix:PensionSchem= eDetails/prefix:Address/pref N= ode addressLine4 =3D document.selectSingleNode("//prefix:PensionSchemeD= etails/prefix:Address/pref Nod= e addressLine5 =3D document.selectSingleNode("//prefix:PensionSchemeDet= ails/prefix:Address/pref Node = postcode =3D document.selectSingleNode("//prefix:PensionSchemeDetails/p= refix:Address/pref Good luck, M= ark -----Original Message----- From: Offiah Raymond, Slough [mailto= :Raymond.Offiah@... &amp;lt;mailto:Raymond.Offiah@...&amp;gt; ] Sent:= Tuesday, May 17, 2005 11:27 AM To: dom4j-user@... = Subject: [dom4j-user] Parsing namespaces .... how d'you do it? Hell= o there. I wonder if someone could help me out here. I'm trying t= o parse an XML file, using DOM4J/XPath, and I'm having trouble with the= namespaces defined in the file: xm= lns=3D" http://www.pensions.gov.uk/EconomicsAndFinance/Personal/Pensions/R= http://www.pensions.gov.uk/EconomicsAndFinance/Personal/Pensions/Reg= lation" xmlns:govADP=3D" http://www.pensions.gov.uk/people/Add= http://www.pensions.gov.uk/people/AddressAndPerso= nalDetails&amp;gt; " xmlns:xsi=3D" http://www.w3.org/2001/XMLSchema-instanc= http://www.w3.org/2001/XMLSchema-instance &amp;gt; " xsi:schemaLocation=3D= " http://www.pensions.gov.uk/EconomicsAndFinance/Personal/ http://www.pen= Pensions/Regulation \Occup= ationalPensionSchemeReturnRequest-v1.3.xsd" regulatoryReference=3D"= = ... wi= th this bit of code: Node registyNumber =3D document.select= SingleNode("//PensionSchemeDetails/PensionSchemeRegistryNumbe = Node name =3D document.selectSingleNode("//PensionSchemeDetails/N= Node addressLine1 =3D document.selectSingleNode("//Pen= sionSchemeDetails/Address/UKaddress/Line[1]" Node addressL= ine2 =3D document.selectSingleNode("//PensionSchemeDetails/Address/UKad= dress/Line[2]" Node addressLine3 =3D document.selectSing= leNode("//PensionSchemeDetails/Address/UKaddress/Line[3]" = Node addressLine4 =3D document.selectSingleNode("//PensionSchemeDetails= /Address/UKaddress/Line[4]" Node addressLine5 =3D docume= nt.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/Line[5]" = Node postcode =3D document.selectSingleNode("//PensionSche= meDetails/Address/UKaddress/PostCode If I strip out all the nam= espace stuff, it works OK. How do I parse XML files that are namespac= ed to the hilt .... Thanks in advance Ray Scanned for virus= es by MessageLabs. The integrity and security of this message cannot be= guaranteed. This email is intended for the named recipient only, and m= ay contain confidential information and proprietary material. Any unaut= horised use or disclosure is prohibited. --------------------------= ----------------------------- This SF.Net email is sponsored by Oracle = Space Sweepstakes Want to be the first software developer in space? E= nter now for the Oracle Space Sweepstakes! http://ads.osdn.com/?ad_id=3D= http://ads.osdn.com/?ad_id=3D7412&amp;amp;alloc= ______________________________________________= _ dom4j-user mailing list dom4j-user@... https://= https://lists.sourceforg= This email and any files transm= itted with it are confidential and intended solely for the use of the ind= ividual or entity to whom they are addressed. If you have received this e= mail in error please notify Adgistics Ltd by replying to the original sen= der of this mail. This message may contain confidential information and i= s intended only for the individual named. If you are not the named addres= see you should delete this e-mail and not disseminate, distribute or copy= this e-mail.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Parsing namespaces .... how d'you do it?</header>
    <date>Thu May 19 15:16:00 CEST 2005</date>
    <body>&amp;gt; The real pain caused by strict compliance is having to convert all your= =20 That's not true, you can define prefix namespace mappings (these=20 mappings can be different to the mappings defined in your XML) so=20 you do not have to change your XML documents to be able to use it=20 with dom4j and Jaxen. Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] namspace bug in Dom4J 1.5.2</header>
    <date>Sun May 08 22:10:00 CEST 2005</date>
    <body>Wrong and right! WRONG: It is actually traversing all the children and setting the namespace (adding the attribute xmlns="" to every "servlet" element). RIGHT: It should not be doing that. How do I make it stop doing that? http://java.sun.com/xml/ns/j2ee " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " version="2.4" xsi:schemaLocation=" http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd ^^^^^^^^ Why is it inserting the above xmlns=""? -George --- Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] namspace bug in Dom4J 1.5.2</header>
    <date>Thu May 19 15:10:00 CEST 2005</date>
    <body>&amp;gt; WRONG: It is actually traversing all the children and You have specified a default namespace for the parent but you have=20 not specified a namespace for the children, so when outputting this=20 model the default namespace needs to be undeclared for any child=20 elements which are in no namespace.=20 That's why the child elements have the xmlns=3D"" declaration. Regards, Edwin On 5/8/05, George Van Treeck &amp;lt;georgevt@...&amp;gt; wrote: http://java.sun.com/xml/ns/j2ee " http://www.w3.org/2001/XMLSchema-instance " http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to generate XML document out of XML Schema</header>
    <date>Thu May 19 15:00:00 CEST 2005</date>
    <body>&amp;gt; Now, about my problem. I have a set of XML Schemas (Actually SMIL 2.0 Generating XML from a XML Schema or DTD isn't easy (choice models and data types), however you could maybe use Xerces XNI, to create a 'Schema Object Model'. Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] [dom4j-user]how to add and change prefix?</header>
    <date>Thu May 19 14:59:00 CEST 2005</date>
    <body>Use something like below to change the element's name, namespace prefix or namespace uri. QName name =3D QName.get( "name", "dom4j", " http://www.dom4j.org/ Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Default Values from XML Schema</header>
    <date>Thu May 19 14:58:00 CEST 2005</date>
    <body>This depends on which XML Parser you're using. Defining your attribute like this in your XML Schema should do the trick if you are using Xerces: Note: make sure to enable XML Schema validation. Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Caching downloaded DTDs</header>
    <date>Thu May 19 14:57:00 CEST 2005</date>
    <body>This totally depends on your XML Parser. See the following for an example how to cache DTDs using Xerces: http://xml.apache.org/xerces2-j/faq-grammars.html#faq-1 Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to set the parser of dom4j?</header>
    <date>Thu May 19 13:18:00 CEST 2005</date>
    <body>Dom4j allows you to use any SAX / DOM parser using JAXP. You can specify your parser using the "javax.xml.parsers.DocumentBuilderFactory" property. Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] Parsing namespaces .... how d'you do it?</header>
    <date>Tue May 17 15:27:00 CEST 2005</date>
    <body>Hello there. I wonder if someone could help me out here. I'm trying to parse an XML file, using DOM4J/XPath, and I'm having trouble with the namespaces defined in the file: xmlns=" http://www.pensions.gov.uk/EconomicsAndFinance/Personal/Pensions/Regu lation" xmlns:govADP=" http://www.pensions.gov.uk/people/AddressAndPersonalDetails " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation=" http://www.pensions.gov.uk/EconomicsAndFinance/Personal/ Pensions/Regulation \OccupationalPensionSchemeReturnRequest-v1.3.xsd" ... with this bit of code: Node registyNumber = document.selectSingleNode("//PensionSchemeDetails/PensionSchemeRegistryNumbe Node name = Node addressLine1 = document.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/Line[1]" Node addressLine2 = document.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/Line[2]" Node addressLine3 = document.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/Line[3]" Node addressLine4 = document.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/Line[4]" Node addressLine5 = document.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/Line[5]" Node postcode = document.selectSingleNode("//PensionSchemeDetails/Address/UKaddress/PostCode If I strip out all the namespace stuff, it works OK. How do I parse XML files that are namespaced to the hilt .... Thanks in advance Ray Scanned for viruses by MessageLabs. The integrity and security of this message cannot be guaranteed. This email is intended for the named recipient only, and may contain confidential information and proprietary material. Any unauthorised use or disclosure is prohibited.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Sort XML Document nodes</header>
    <date>Tue May 17 13:41:00 CEST 2005</date>
    <body>I have a list of nodes of three types: &amp;lt;property&amp;gt;, &amp;lt;measure&amp;gt;, Is there a way to sort all my child nodes to have, in order, all my -- Alessandro Ronchi http://www.aronchi.org | La mia Pagina Personale http://www.soasi.com | Sviluppo Software e Sistemi Open Source</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: SAXWriter and Saxon</header>
    <date>Mon May 16 00:09:00 CEST 2005</date>
    <body>I managed to figure out how to get it to work.  I have to explicity call startDocument() and endDocument() on the underlying ContentHandler to make the null pointer go away. TransformerHandler tHandler1 =3D factory.newTransformerHandler(xsltSourceOn= sax.writeOpen(root);     //--- NullPointer thrown here I'm wondering why startDocument() and endDocument() have protected access in SAXWriter?  SAXWriter throws an invalid sequence of events if you are using only the SAXWriter API.  Since it blocks you from using those, I would think it would automatically start and end the document when the first element is written and then closed. Dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] 1.3 -&amp;gt; 1.2</header>
    <date>Sun May 15 23:36:00 CEST 2005</date>
    <body>How hard is it to convert a java app to run on 1.2 if it presently runs on 1.3? This is Windward Reports so no EJBs or stuff like that. (I ask because .NET 2.0 J# supports java 1.2 so if we convert we can ship managed code.) Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAXWriter and Saxon</header>
    <date>Sun May 15 20:30:00 CEST 2005</date>
    <body>SSBhbSB0cnlpbmcgdG8gc3RyZWFtIG91dCBzYXggZXZlbnRzIGZyb20gZG9tNGogKDEuNikgZWxl bWVudHMgaW50byBhbgpYU0wgY29udGVudCBoYW5kbGVyIHRvIHRyYW5zZm9ybSBpbnRvIEhUTUwg YW5kIEknbSBnZXR0aW5nIGEgbnVsbApwb2ludGVyIGV4Y2VwdGlvbiBmcm9tIGEgc2F4b24gKDYu NS4zKSBjbGFzcy4gIEkgd2FzIHdvbmRlcmluZyBpZgpzb21lb25lIGhhcyB3b3JrZWQgdGhyb3Vn aCB0aGlzIGJlZm9yZS4gIERvIEkgbmVlZCB0byBkbyBzb21ldGhpbmcKd2l0aCBuYW1lc3BhY2Vz LCBvciBpcyB0aGUgZG9jdW1lbnQgbm90IGluaXRpYWxpemVkIHByb3Blcmx5PwpzdGFydERvY3Vt ZW50IGlzIHByb3RlY3RlZCwgb3RoZXJ3aXNlIEknZCB0cnkgY2FsbGluZyB0aGF0IGZpcnN0LiAg QW55CmhlbHAgd291bGQgYmUgYXBwcmVjaWF0ZWQuCgpqYXZhLmxhbmcuTnVsbFBvaW50ZXJFeGNl cHRpb24KICAgICAgICBhdCBjb20uaWNsLnNheG9uLnRpbnl0cmVlLlRpbnlCdWlsZGVyLnN0YXJ0 RWxlbWVudChUaW55QnVpbGRlci5qYXZhOjEzNykKICAgICAgICBhdCBjb20uaWNsLnNheG9uLkNv bnRlbnRFbWl0dGVyLnN0YXJ0RWxlbWVudChDb250ZW50RW1pdHRlci5qYXZhOjEyMSkKICAgICAg ICBhdCBvcmcuZG9tNGouaW8uU0FYV3JpdGVyLnN0YXJ0RWxlbWVudChTQVhXcml0ZXIuamF2YTo4 MTApCiAgICAgICAgYXQgb3JnLmRvbTRqLmlvLlNBWFdyaXRlci53cml0ZU9wZW4oU0FYV3JpdGVy LmphdmE6MjMzKQqFCgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkJlbG93IGlz IHRoZSBmcmFnbWVudCBvZiBteSBjb2RlOgoKIAoKUHJpbnRXcml0ZXIgb3V0ID0gcmVzcG9uc2Uu Z2V0V3JpdGVyKCk7ClN0cmVhbVJlc3VsdCByZXN1bHQgPSBuZXcgU3RyZWFtUmVzdWx0KG91dCk7 ClNBWFdyaXRlciBzYXggPSBuZXcgU0FYV3JpdGVyKCk7ClNvdXJjZSB4c2x0U291cmNlT25lID0g bmV3IFN0cmVhbVNvdXJjZShuZXcgRmlsZSh4c2xGaWxlKSk7ClRyYW5zZm9ybWVySGFuZGxlciB0 SGFuZGxlcjEgPSBmYWN0b3J5Lm5ld1RyYW5zZm9ybWVySGFuZGxlcih4c2x0U291cmNlT25lKTsK c2F4LnNldENvbnRlbnRIYW5kbGVyKHRIYW5kbGVyMSk7CnRIYW5kbGVyMS5zZXRSZXN1bHQocmVz dWx0KTsKRWxlbWVudCByb290ID0gRG9jdW1lbnRIZWxwZXIuY3JlYXRlRWxlbWVudCgiUm9vdCIp OwpzYXgud3JpdGVPcGVuKHJvb3QpOyAgICAgLy8tLS0gTnVsbFBvaW50ZXIgdGhyb3duIGhlcmUK CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkhlcmUgaXMgdGhlIGJsb2NrIG9m IGNvZGUgZnJvbSBzYXhvbi4KIAoKICAgIHB1YmxpYyB2b2lkIHN0YXJ0RWxlbWVudCAobmFtZUNv ZGUsIEF0dHJpYnV0ZXMgYXR0cmlidXRlcywgaW50W10KbmFtZXNwYWNlcywgaW50IG5hbWVzcGFj ZXNVc2VkKSB0aHJvd3MgVHJhbnNmb3JtZXJFeGNlcHRpb24KICAgIHsKICAgICAgICAgLy8gU3lz dGVtLmVyci5wcmludGxuKCJUaW55QnVpbGRlciBTdGFydCBlbGVtZW50ICgiICsgbmFtZUNvZGUg KyAiKSIpOwogICAgICAgIC8vIENvbnN0cnVjdCBlbGVtZW50IG5hbWUgYXMgYSBOYW1lIG9iamVj dAoKICAgICAgICBUaW55RG9jdW1lbnRJbXBsIGRvYyA9IChUaW55RG9jdW1lbnRJbXBsKWN1cnJl bnREb2N1bWVudDsKCiAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIG5hbWVzcGFjZXMKCiAgICAgICAg aW50IGZpcnN0TlMgPSAobmFtZXNwYWNlc1VzZWQ9PTAgPyAtMSA6IGRvYy5udW1iZXJPZk5hbWVz cGFjZXMpOwogICAgICAgIGZvciAoaW50IG49MDsgbjxuYW1lc3BhY2VzVXNlZDsgbisrKSB7CiAg ICAgICAgICAgIGRvYy5hZGROYW1lc3BhY2UoICAgbm9kZU5yLAogICAgICAgICAgICAgICAgICAg ICAgICAgICAgICAgIG5hbWVzcGFjZXNbbl0gKTsKICAgICAgICB9CgogICAgICAgIG5hbWVzcGFj ZXNVc2VkID0gMDsKCiAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIGF0dHJpYnV0ZXMKCgogICAgICAg IGludCBudW1BdHRzID0gYXR0cmlidXRlcy5nZXRMZW5ndGgoKTsKICAgICAgICBpbnQgZmlyc3RB dHQgPSAobnVtQXR0cz09MCA/IC0xIDogZG9jLm51bWJlck9mQXR0cmlidXRlcyk7CgogICAgICAg ZG9jLmFkZE5vZGUoTm9kZUluZm8uRUxFTUVOVCwgY3VycmVudERlcHRoLCBmaXJzdEF0dCwgZmly c3ROUywKbmFtZUNvZGUpOyAvLy0tLSBMaW5lIDEzNyBOdWxsIFBvaW50ZXIKCiAKCkRhdmUK</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j 1.6 adds spaces to end of created xml file</header>
    <date>Wed May 11 06:10:00 CEST 2005</date>
    <body>David, I couldn't duplicate your problem. Can you given an example? thanks Maarten David Thielen &amp;lt;david@...&amp;gt; wrote: I switched to 1.6 and now XmlWriter is writing a bunch of spaces to the end of xml files I create. Any ideas? Thanks  dave __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] change in xpath syntax</header>
    <date>Tue May 10 22:34:00 CEST 2005</date>
    <body>I am using dom4j 1.6 with jaxen 1-1 beta 6 but I also tried this with beta 4. In my old code I could use xpath syntax like this And I would get all the SellerID nodes.=20 I tried that with the new dom4j code and I kept getting an empty list. I had dom4j tell me the xpath for the root node and it said the syntax has to look like this: /*[name()=3D'ItemLookupResponse']=20 So my code above became this: =20 Which now gives me a list of 9 objects. Both xpath syntax styles work in xmlSpy but my original style is much cleaner. Why did the style change or why doesn't the first style work anymore? I noticed that the tests use the old style (in the zip I downloaded for 1.6) and all the tests pass according to the maven doc. How is this the case? =20 Most importantly, if the second style is the only working style, someone has to update all the examples since they use the style of the first syntax. Thanks, Steve</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] change in xpath syntax</header>
    <date>Wed May 11 06:07:00 CEST 2005</date>
    <body>Steven, I think the reason is that your XML file contains namespace declarations. But to be sure: could you send us a sample of your XML file and some sample code illustrating your problem regards, Maarten Steven Citron-Pousty &amp;lt;scitronpousty@...&amp;gt; wrote: I am using dom4j 1.6 with jaxen 1-1 beta 6 but I also tried this with beta 4. In my old code I could use xpath syntax like this And I would get all the SellerID nodes. I tried that with the new dom4j code and I kept getting an empty list. I had dom4j tell me the xpath for the root node and it said the syntax has to look like this: /*[name()='ItemLookupResponse'] So my code above became this: Which now gives me a list of 9 objects. Both xpath syntax styles work in xmlSpy but my original style is much cleaner. Why did the style change or why doesnt the first style work anymore? I noticed that the tests use the old style (in the zip I downloaded for 1.6) and all the tests pass according to the maven doc. How is this the case? Most importantly, if the second style is the only working style, someone has to update all the examples since they use the style of the first syntax. Thanks, Steve --------------------------------- Discover Yahoo! Find restaurants, movies, travel &amp;amp; more fun for the weekend. Check it out!</body>
  </mail>
  <mail>
    <header>[dom4j-user] BackedList sorts</header>
    <date>Tue May 10 17:04:00 CEST 2005</date>
    <body>Hi All, I'm using dom4j1.6. I need to sort child elements returned by the the elements() method using an external Comparator. However this returns a BackedList.  When sorted its set() method calls addNode() and removeNode() which throw Exceptions as the node's parent is already defined. Currently I get around it like this: Has anyone any better ideas that do not involve the instantiation of an additional ArrayList every time? Many thanks, Mike E. -- Mike Evans Incremental Ltd. http://www.incremental.eu.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j 1.6 adds spaces to end of created xml file</header>
    <date>Tue May 10 15:45:00 CEST 2005</date>
    <body>I switched to 1.6 and now XmlWriter is writing a bunch of spaces to the end of xml files I create. Any ideas? Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xml in BIG5 encoding - incorrect result</header>
    <date>Mon May 09 18:35:00 CEST 2005</date>
    <body>David, could you send us some code showing how you are reading the XML file? regards, Maarten David Thielen &amp;lt;david@...&amp;gt; wrote: When I have an xml file in BIG5 encoding, I dont get back the correct character values for 2 byte literals. Any idea as to why? Thanks  dave --------------------------------- Yahoo! Mail Mobile Take Yahoo! Mail with you! Check email on your mobile phone.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] xml in BIG5 encoding - incorrect result</header>
    <date>Mon May 09 18:48:00 CEST 2005</date>
    <body />
  </mail>
  <mail>
    <header>RE: [dom4j-user] xml in BIG5 encoding - incorrect result</header>
    <date>Mon May 09 20:27:00 CEST 2005</date>
    <body>As Rosanne Rosanna-dana would say - "Never Mind." I found a real good = link - http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT%= 20t hat%20translates%20from%20Big5&amp;gt;  that translates from Big5 to unicode - = and dom4j handles it perfectly. =20 Thanks - dave =20 =20 _____ =20 From: David Thielen [mailto:david@... Sent: Monday, May 09, 2005 12:49 PM To: 'Maarten Coene' Cc: dom4j-user@... Subject: RE: [dom4j-user] xml in BIG5 encoding - incorrect result =20 =20 As I understand it, 2 byte sequences in Big5 are the unicode value of = the character. If this is not the case, then it may be converting them = correctly and I just am not understanding Big5 correctly. =20 Thanks - dave =20 _____ =20 From: Maarten Coene [mailto:maarten_coene@... Sent: Monday, May 09, 2005 12:34 PM To: David Thielen Subject: Re: [dom4j-user] xml in BIG5 encoding - incorrect result =20 David, =20 could you send us some code showing how you are reading the XML file? =20 regards, Maarten David Thielen &amp;lt;david@...&amp;gt; wrote: =20 When I have an xml file in BIG5 encoding, I don=12t get back the correct character values for 2 byte literals. Any idea as to why? =20 Thanks  dave =20 _____ =20 Do you Yahoo!? Read only the mail you want - Yahoo! http://us.rd.yahoo.com/mail_us/taglines/spamguard/*http:/promotions.yaho= o.c om/new_mail/static/protection.html&amp;gt;  Mail SpamGuard.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] version 1.5 - xpath ok &amp;amp; what ver jaxen?</header>
    <date>Mon May 09 18:38:00 CEST 2005</date>
    <body>David, I assume you are talking about dom4j version 1.5 and 1.6 ... The resolution was that the xpath statements were not correct, the newer version of jaxen is more strict on this. You can use any 1.1 version of jaxen with dom4j, you can find beta versions of this 1.1 version on the jaxen website: http://jaxen.codehaus.org . The main difference between the jaxen beta's is bug-fixes: the more recent the beta, the less bugs it contains... regards, Maarten David Thielen &amp;lt;david@...&amp;gt; wrote: There were some emails going back and forth that version 1.5 had a problem with some xpath statements that worked on 1.4. What was the final resolution of this? (ie, fixed, it was illegal xpath, known bug that wont be fixed.) Also, what version of jaxen is supposed to be used with 1.5 and where do we get it (or is it back in the dom4j.jar file)? Thanks  dave --------------------------------- Yahoo! Mail Mobile Take Yahoo! Mail with you! Check email on your mobile phone.</body>
  </mail>
  <mail>
    <header>[dom4j-user] version 1.5 - xpath ok &amp;amp; what ver jaxen?</header>
    <date>Mon May 09 17:05:00 CEST 2005</date>
    <body>There were some emails going back and forth that version 1.5 had a problem with some xpath statements that worked on 1.4. What was the final resolution of this? (ie, fixed, it was illegal xpath, known bug that won't be fixed.) Also, what version of jaxen is supposed to be used with 1.5 and where do we get it (or is it back in the dom4j.jar file)? Thanks - dave</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] version 1.6 - xpath ok &amp;amp; what ver jaxen?</header>
    <date>Mon May 09 18:35:00 CEST 2005</date>
    <body>Sorry - I meant 1.6. Thanks - dave _____ From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Thielen Sent: Monday, May 09, 2005 11:06 AM To: dom4j-user@... Subject: [dom4j-user] version 1.5 - xpath ok &amp;amp; what ver jaxen? There were some emails going back and forth that version 1.5 had a problem with some xpath statements that worked on 1.4. What was the final resolution of this? (ie, fixed, it was illegal xpath, known bug that won't be fixed.) Also, what version of jaxen is supposed to be used with 1.5 and where do we get it (or is it back in the dom4j.jar file)? Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] xml in BIG5 encoding - incorrect result</header>
    <date>Mon May 09 16:57:00 CEST 2005</date>
    <body>When I have an xml file in BIG5 encoding, I don't get back the correct character values for 2 byte literals. Any idea as to why? Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Still char in XML</header>
    <date>Fri Jun 17 00:49:00 CEST 2005</date>
    <body>I have original XML file : i want change the text element in &amp;lt;servlet-name&amp;gt;, with ASCII code 132, i use output is : then in another process i need the ASCII value, i use output : 63 ? PLEASE HELP ME!!, sorry i'm a newbies in programming --------------------------------- Yahoo! Sports Rekindle the Rivalries. Sign up for Fantasy Football</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Still char in XML</header>
    <date>Fri Jun 17 12:56:00 CEST 2005</date>
    <body>I think the problem is that you read and write your XML using=20 a different encoding. Can you give us a small example of how you write and read=20 your XML? Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Still char in XML</header>
    <date>Sun Jun 19 16:18:00 CEST 2005</date>
    <body>There are 2 problems with this: First of all, you're currently using the default parser which does not seem= =20 to be able to handle UTF-8 correctly. Use the 'javax.xml.parsers.SAXParserFactory' property to specify a better= =20 parser. Use something like this to set the Xerces parser: System.setProperty( "javax.xml.parsers.SAXParserFactory",=20 "org.apache.xerces.jaxp.SAXParserFactoryImpl= Secondly; avoid using a FileWriter to write your output, this will not hand= le=20 encodings correctly, use an OutputStream instead: XMLWriter writer =3D new XMLWriter( new FileOuputStream( new File( Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] API issue</header>
    <date>Fri Jun 17 18:09:00 CEST 2005</date>
    <body>JDOM has Element.getText, Element.getTextNormalized and Element.getTextTrim.  dom4j on the other hand has Element.getText and Element.getTextTrim.  dom4j's Element.getTextTrim seems to have the same semantics as JDOMs Element.getTextNormalized and there appears to be no equivalent in dom4j of JDOM's Element.getTextTrim.  Is this right or have I missed something? Thanks. --=20 Russel. =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D= =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D= =3D=3D Dr Russel Winder                +44 20 7585 2200 41 Buckmaster Road              +44 7770 465 077 London SW11 1EN, UK             russel@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] Single quote instead of double</header>
    <date>Fri Jun 17 10:22:00 CEST 2005</date>
    <body>Hi there, The asXML() method of the Node class returns the XML String with attributes and namespaces encapsulated in double quotes ( " ). Is there any way I can get it to return the string with single quotes ( ' ) instead of double? I realize that double quotes for strings is the norm, but there's a specific requirement for single quotes. Regards, Sachin.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Single quote instead of double</header>
    <date>Fri Jun 17 10:54:00 CEST 2005</date>
    <body>Maybe you could use: Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] char in XML</header>
    <date>Thu Jun 16 12:04:00 CEST 2005</date>
    <body>become : why the output: why it'snt work ? PLEASE HELP ME !! I generate character ASCII from program,why Text Elemen in XML can't show the real value of ASCII &amp;gt;126 ?? __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Writing XML files</header>
    <date>Thu Jun 16 06:52:00 CEST 2005</date>
    <body>Looking at the dom4j examples of writing XML files as shown on the dom4j Web site, they use a FileWriter directly.  The JDK documentation indicates that this is intended only for block by block writing and that if character by character writing is needed the the FileWriter should be "wrapped" by a BufferedWriter. So does the dom4j Document class handle buffering or are the examples slightly misleading and a BufferedWriter rather than FileWriter be passed to Document? Thanks. PS Apologies if these appears to be a newbie question but I suppose I am a newbie, to dom4j anyway.  I have used JDOM and am now trying dom4j to see which to use in a case study for a book I am writing. --=20 Russel. =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D= =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D= =3D=3D Dr Russel Winder                +44 20 7585 2200 41 Buckmaster Road              +44 7770 465 077 London SW11 1EN, UK             russel@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] writing XML</header>
    <date>Wed Jun 15 09:06:00 CEST 2005</date>
    <body>Element author1 = root.addElement( "author" ) .addAttribute( "name", "James" ) .addAttribute( "location", "UK" ) Element author2 = root.addElement( "author" ) .addAttribute( "name", "Bob" ) .addAttribute( "location", "US" ) public static void main(String[] args) try catch(Exception e) Why output foo3.xml is empty? Please help me!!!!! --------------------------------- Discover Yahoo! Stay in touch with email, IM, photo sharing &amp;amp; more. Check it out!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] writing XML</header>
    <date>Wed Jun 15 09:56:00 CEST 2005</date>
    <body>Hi Arief! arief widodo schrieb am 15.06.2005 11:06 : Because you neither flush nor close the file writer? hth, Michael</body>
  </mail>
  <mail>
    <header>[dom4j-user] is dom4j dom conversion to w3c dom complete?</header>
    <date>Fri Jun 10 19:18:00 CEST 2005</date>
    <body>I am using Hibernate to generate an XML document, which uses dom4j. I am trying to use Axis to pass the XML documents to the client tier from a web service.  The Axis message framework only accepts w3c documents, so I have a need to convert the dom4j dom from hibernate to a w3c dom.  I have successfully used the DOMWriter to do the conversion. The root element is passed to Axis for the response. While Axis is looping through the child nodes of the document using a NodeList, adding them to a document of it's own, it is still finding objects of the dom4j class.  This throws an exception out of dom4j DOMNodeHelper about asDOMNode() not being supported yet. I have looked briefly at the DOMWriter source, which appears to try to reconstruct an entirely new document, which should not have residual dom4j objects.  Has anyone encountered this before?</body>
  </mail>
  <mail>
    <header>[dom4j-user] new element not correctly added</header>
    <date>Fri Jun 10 14:19:00 CEST 2005</date>
    <body>Hi all I have an empty xml file with this structre: when I add an element &amp;lt;object&amp;gt; I obtein the java code works properly, but the xml file is not well formatted... does anybody know why the xml document is not well formatted? thanks in advance, MF.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] new element not correctly added</header>
    <date>Fri Jun 10 15:53:00 CEST 2005</date>
    <body>Hi Matteo! Matteo Floris schrieb am 10.06.2005 16:19 : You have to define an OutpuFormat: http://dom4j.org/faq.html#pretty-print hth, Michael</body>
  </mail>
  <mail>
    <header>[dom4j-user] node -&amp;gt; uudecode -&amp;gt; byte []</header>
    <date>Fri Jun 03 17:33:00 CEST 2005</date>
    <body>I have a case where the text in a node is a uuencoded data stream. And it can be large - several hundred meg in cases. At present the best way I have found to do this is to: 3.	byte [] data = Is there a faster way to do this? It seems like this is converting the data at least once more than necessary. Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Asking again: node -&amp;gt; uudecode -&amp;gt; byte []</header>
    <date>Mon Jun 06 18:20:00 CEST 2005</date>
    <body>I have a case where the text in a node is a uuencoded data stream. And it can be large - several hundred meg in cases. At present the best way I have found to do this is to: 3.	byte [] data = Is there a faster way to do this? It seems like this is converting the data at least once more than necessary. Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] need the XMLWriter to generate base64 for some nodes - how?</header>
    <date>Fri Jul 29 14:54:00 CEST 2005</date>
    <body>Dear list, I have a Document. Some of the nodes in the document contain byte []'s. When it outputs these things to text, it writes out the hex- string of the bytes. That's all well and good, but I'd really like to find a way to output this stuff as a base64 string. Some quick background (in case my question sounds totally dense) - I'm a longtime C++ guy, who recently got assigned the job of bringing a .NET web service over to one based in Java. So, I've been swamped with reading about Eclipse, Hibernate, Axis and now Dom4j, and of course, Java. Did I mention I've never written any Java before, but I'm generally enjoying it? So, I'm writing a web-service, that uses Hibernate to read info out of a database. Then I'm building a Document from those Hibernate classes, and generating a large XML document, using the XMLWriter. So, I guess I'm wondering if anyone has generated XML output from a document, and had some of the text be output as base64 text? If so, I could use your advice. Thanks, -Dan.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] need the XMLWriter to generate base64 for some nodes
 - how?</header>
    <date>Fri Jul 29 15:36:00 CEST 2005</date>
    <body>Hi Daniel. http://jakarta.apache.org/commons/codec/ contains a Base64 encoder/decoder you can use to convert byte arrays into base64 and back. For a "longtime C++ guy" you'll find it very easy to use, I'm sure ;) Regards, Malcolm http://www.congreve.com Daniel Morrow wrote: http://www.sqe.com/bsce5sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOMWriter - Namespace Problem</header>
    <date>Tue Jul 26 16:29:00 CEST 2005</date>
    <body>Hello, some days ago, I wrote to dom4j's James Strachan concerning a problem with the DOMWriter class. Unfortunately, James hasn't found the time to reply yet, so I am taking the issue to this list. I am using the class to convert XML documents read by dom4j to the w3c.dom interface, then to use them with the Apache Batik project. After beginning implementation of said features, I faced problems with namespaces in Batik, which I finally was able to track down to a different treatment of the empty namespace in dom4j and the W3C dom: While dom4j returns an empty string for an unset namespace, the W3C dom expects an undefined or empty namespace to be 'null'. While the dom4j treatment is in the letter of the XML definition of namespaces, where it is stated that "The default namespace can be set to the empty string. This has the same effect, within the scope of the declaration, of there being no default namespace." the DOM level 2 core specification[1] on namespaces is more strict, declaring that "[..] the empty string will be treated as a real namespace URI in DOM Level 2 methods. Applications must use the value null as the namespaceURI parameter for methods if they wish to have no namespace." Originally, I asked James as the classes author, but maybe there is someone here who can help: Are there specific reasons why the empty string is not changed to a value of 'null' before using it as a namespace in a w3c.dom.Document? If so, which? If not, could dom4j's behaviour be changed to comply with the specifications quoted above? Thanks for your assistance, -Urs ----- [1] Dom Level 2 Core Specification Section 1.1.8 http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#Namespaces-Considerations# [2] XML Namespaces http://www.w3.org/TR/1999/REC-xml-names-19990114/#defaulting</body>
  </mail>
  <mail>
    <header>[dom4j-user] parseText()</header>
    <date>Mon Jul 25 18:49:00 CEST 2005</date>
    <body>Why do I get different outputs for the 'root' element in the following program ? How can I get the same output using partText ? Element root1 = DocumentHelper.createElement( "root" ).addText( Document document = --------------------------------------------------------------------------------------------------- Output: Thanks in advance Heitor</body>
  </mail>
  <mail>
    <header>[dom4j-user] XHTML pretty printing problem</header>
    <date>Sun Jul 24 21:33:00 CEST 2005</date>
    <body>I'm pretty printing XHTML, and things I've addText()ed don't look "pretty". Hopefully this stuff will survive being mailed: ... A human who coded this document would have put "this is in the wrong place" on the line after &amp;lt;body&amp;gt;, indented at the same level as the &amp;lt;div&amp;gt;. "so is this" would be on the line after &amp;lt;/div&amp;gt;, indented at the same level. Is this a bug, or somehow by design? Or am I just missing some option on OutputFormat? Here's the code. Sorry it's mangled, sorry if it breaks some rule, sorry for my entire life. public class Test public static void main(String args[]) throws IOException Document document = document.addDocType("html", "-//W3C//DTD XHTML 1.0 Strict//EN", " http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd HTMLWriter htmlWriter = new HTMLWriter(prettyPrintedPage, Thanks.</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Sat Jul 16 02:00:00 CEST 2005</date>
    <body>Hello, Can I use for-expressions in dom4j? For example, the code below: for $i in @::* return concat(name($i),":",$i) Yields the following exception... Exception in thread "AWT-EventQueue-0" org.dom4j.InvalidXPathException: I= nvalid XPath expression: for $i in @::* return concat(name($i),":",$i) Unexpecte= d '$' Regards Thibaud.</body>
  </mail>
  <mail>
    <header>[dom4j-user] tutorial please</header>
    <date>Mon Jul 11 14:58:00 CEST 2005</date>
    <body>Please help me how to use dom4j in web application i am new to this http://thing.Im&amp;gt;using jsp to my project in school but someone tells me that dom4j is a very good tool in developing a database drive web application.Thank You.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] tutorial please</header>
    <date>Fri Jul 22 15:58:00 CEST 2005</date>
    <body>Dom4j is a library for representing and manipulating XML as Java objects. It is not generally associated with creating "database-driven web applications", though there isn't anything keeping you from using it in such an application. I don't think there are tutorials specifically about using dom4j in a web-app... it's a general purpose xml library. I'm assuming that your friend is referring to using dom4j to create the xhtml pages the web-app outputs. I actually did that for a school project myself. You would need to create some classes that build up the page and then write the xml into the servlet response's output stream. I had an xhtml template that I kept in memory and on a page request, the appropriate Elements and Attributes were added to the template and it was written to the response. Or your friend may simply be talking about using dom4j to pass stuff from a database layer, or to read configuration files. In any case, there are a lot of ways dom4j can be used. I'm afraid you'll need to make those decisions yourself. You might start by asking your friend exactly what he meant. There's also some documentation on the dom4j site. b Eman Nollase wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] "no protocol" about dom4j !!!</header>
    <date>Mon Jul 04 10:25:00 CEST 2005</date>
    <body>Dears , I use dom4j-1.5.2 and meet the "no protocol" errors ! pls help me, thanks a lot !!! I had two files, biz.xml and biz.dtd, and I used the following code the load the DOM content: 1) Java code ------------------------------------------------------------ //try to load xml data into Document object //return Document object --------------------------------------------------------------- 2) top lines in my biz.xml --------------------------------------------------------------- 3) the errors and exceptions throws from oc4j on UNIX ---------------------------------------------------------------- org.dom4j.DocumentException: no protocol: org.dom4j.DocumentException: no protocol: /u01/oc4j/j2ee/home/applications/Biz/WEB-INF/biz.xml Nested except ion: no protocol: /u01/oc4j/j2ee/home/applications/Biz/WEB-INF/biz.xml at org.dom4j.io.SAXReader.read(SAXReader.java:353) at org.dom4j.io.SAXReader.read(SAXReader.java:254) ... ... .... Nested exception: java.net.MalformedURLException: no protocol: /u01/oc4j/j2ee/home/applications/Biz/WEB-INF/biz.xml at java.net.URL.&amp;lt;init&amp;gt;(URL.java:537) at java.net.URL.&amp;lt;init&amp;gt;(URL.java:434) at java.net.URL.&amp;lt;init&amp;gt;(URL.java:383) at oracle.xml.parser.v2.XMLReader.pushXMLReader(XMLReader.java:205) at oracle.xml.parser.v2.XMLParser.parse(XMLParser.java:148) at org.dom4j.io.SAXReader.read(SAXReader.java:334) at org.dom4j.io.SAXReader.read(SAXReader.java:254)</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem about create xml source by dom4j</header>
    <date>Mon Jul 11 04:00:00 CEST 2005</date>
    <body>Hi all, When I use dom4j to create xml source, I met some problems. Here is my code, I want to create xml source from Document object. ----------------------------------------------------- element1.addNamespace(""," http://aaa.bbb ------------------------------------------------------ Here is my output result: ------------------------------------- http://aaa.bbb ------------------------------------ I found tag2 element always has a attribute which named "xmlns". I want to let the tag2 element has no attribute. And "&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;" always show in the head of xml source. Has any way to avoid the "&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;" show in the xml source? What should I do? Has any wrong in my code? THX.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Need help using SAX</header>
    <date>Wed Jul 20 18:30:00 CEST 2005</date>
    <body>Hi all, I'm very new to all this DOM and SAX and XML stuff, so I apologize if = this is a dumb question. Here is what I need to do:  I am creating a Document with SAX, just like = it says: SAXReader reader =3D new SAXReader();=20 Document document =3D reader.read(url);=20 But, what I would like to do is look for certain elements as the stream = is being parsed so that I can save their values.  I don't know their = exact location in the XML, so can't use XPATH on the created Document, = and don't want to take the performance hit of searching for them inside = the Document. =20 So my question: is there a way to hook something up to the SAXReader so = when it hits a certain XML element it calls me back and I can save off = the value?=20 Thanks in advance for any help! Olia=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] xpath with default namespace</header>
    <date>Thu Jul 14 17:27:00 CEST 2005</date>
    <body>If I have the following xml: http://www.test.org " xmlns:sns=" http://www.test.org/sub " xmlns:mns=" http://www.test.org/mini How do I write xpath for it as an element in xpath with no prefix does not resolve to the default namespace? "/root/data" is not xpath for "/ http://www.test.org :root/ http://www.test.org :data" Thanks - dave</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] xpath with default namespace</header>
    <date>Mon Jul 18 15:25:00 CEST 2005</date>
    <body>Asking again. Thanks - dave _____ From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Thielen Sent: Thursday, July 14, 2005 11:27 AM To: dom4j-user@... Subject: [dom4j-user] xpath with default namespace If I have the following xml: http://www.test.org " xmlns:sns=" http://www.test.org/sub " xmlns:mns=" http://www.test.org/mini How do I write xpath for it as an element in xpath with no prefix does not resolve to the default namespace? "/root/data" is not xpath for "/ http://www.test.org :root/ http://www.test.org :data" Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath with default namespace</header>
    <date>Mon Jul 18 23:30:00 CEST 2005</date>
    <body>Dave, Take a look at http://www.purpletech.com/xpe/ . XPE is a nice tool to help you decide the correct xpath expressions. It looks like you should use something like "//*[local-name()='data']" to find a list of elements named "data" with any namespace. Later, Dave -- +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] xpath with default namespace</header>
    <date>Mon Jul 18 23:34:00 CEST 2005</date>
    <body>I was asked by a number of people offline to let them know the results of this - so I'm just sending an email back out to all. The bottom line is basically there is no simple/obvious way to do this. I have no idea why they spec'ed it this way but the node "/root" in xpath is root with no namespace - not root with the default namespace. So aside from contortions like the one below - you can't have a node suing the default namespace in an xpath statement. As to why it was designed this way - no idea. - dave David Thielen 303-499-2544 http://www.windwardreports.com -----Original Message----- From: David D. Lucas [mailto:ddlucas@...] Sent: Monday, July 18, 2005 5:30 PM To: David Thielen Cc: dom4j-user@...; dom4j-dev@... Subject: Re: [dom4j-user] xpath with default namespace Dave, Take a look at http://www.purpletech.com/xpe/ . XPE is a nice tool to help you decide the correct xpath expressions. It looks like you should use something like "//*[local-name()='data']" to find a list of elements named "data" with any namespace. Later, Dave -- +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= http://www.lse.com/~ddlucas/pgpblock.txt IMHO="in my humble opinion" IMHC="in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] xpath with default namespace</header>
    <date>Mon Jul 18 17:53:00 CEST 2005</date>
    <body>David, This has been covered before.  You need to check the mailing list archives. -----Original Message----- From: David Thielen [mailto:david@...] Sent: Monday, July 18, 2005 11:25 AM To: dom4j-user@...; dom4j-dev@... Subject: RE: [dom4j-user] xpath with default namespace Asking again. Thanks - dave _____ From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of David Thielen Sent: Thursday, July 14, 2005 11:27 AM To: dom4j-user@... Subject: [dom4j-user] xpath with default namespace If I have the following xml: http://www.test.org " xmlns:sns=" http://www.test.org/sub " xmlns:mns=" http://www.test.org/mini How do I write xpath for it as an element in xpath with no prefix does not resolve to the default namespace? "/root/data" is not xpath for "/ http://www.test.org :root/ http://www.test.org :data" Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] good licensing library?</header>
    <date>Tue Jul 12 20:18:00 CEST 2005</date>
    <body>I am considering using http://www.jproductivity.com http://www.jproductivity.com/ for licensing of WR. Anyone heard of them? Or know of a good java licensing solution? Thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] transforming not working</header>
    <date>Tue Jul 12 10:28:00 CEST 2005</date>
    <body>Hello, I am having trouble transforming  a node. The problem is that I get an empty html file. The code is here: Printing transformedDoc to stdout returns: private void transform(Node currentNode) throws TransformerFactory factory = Transformer transformer = factory.newTransformer(new StreamSource(new DocumentSource source = new Document transformedDoc = HTMLWriter writer = new HTMLWriter(new FileWriter(</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOCTYPE declaration when prettyprinting XHTML</header>
    <date>Thu Jul 07 23:07:00 CEST 2005</date>
    <body>I'm trying to prettyprint a document as XHTML. But real XHTML documents have a doctype declaration that looks like &amp;lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" " http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd "&amp;gt;. I can't figure out how to get this generated in the output. Thanks.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DOCTYPE declaration when prettyprinting XHTML</header>
    <date>Thu Jul 07 23:18:00 CEST 2005</date>
    <body>On Thu, 7 Jul 2005, brian wrote: http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd "&amp;gt;. I can't figure out Sorry, it looks like Document's addDocType().</body>
  </mail>
  <mail>
    <header>[dom4j-user] Cannot find the XPath Name function</header>
    <date>Thu Aug 25 08:59:00 CEST 2005</date>
    <body>Hi I am using DOM4j1.4 with eclipse. I have created an XSLT which works when I test it using XMLSpy. However, when I try with eclipse, it cannot find the name function. I insert the relevant part of the stylesheet. =20 =20 tony</body>
  </mail>
  <mail>
    <header>[dom4j-user] Insert , update delete function in dom4j</header>
    <date>Sat Aug 20 05:21:00 CEST 2005</date>
    <body>Hi=20 I am new to dom4j , i want to make the generic functions for insert = delete and update using the dom4j, if any one can provide me the idea = how to move forward. i need the proper logic how to plan the outline and = how to make the methods Thanks in advance Best Regards,=20 Preeti Biju=20 Software Engineer=20 =20 =20 Internet e-Mail Disclaimer : This e-mail and any files transmitted = with it are confidential and intended solely for the use of the = individual or entity to whom they are addressed. If you are not the = intended recipient you are notified that any use, disclosure, copying or = distribution of the information is prohibited. In such case, you should = destroy this message and kindly notify the sender by reply e-mail. The = views expressed in this e-mail and any attachments are personal and, = unless stated explicitly, do not represent the views of ETP = International Pvt. Ltd. (ETP). Furthermore, ETP will not be bound by = this e-mail.=20 =20 -------------------------------------------------------------------------= - =20 -------------------------------------------------------------------------= - =20 Internet e-Mail Disclaimer : This e-mail and any files transmitted = with it are confidential and intended solely for the use of the = individual or entity to whom they are addressed. If you are not the = intended recipient you are notified that any use, disclosure, copying or = distribution of the information is prohibited. In such case, you should = destroy this message and kindly notify the sender by reply e-mail. The = views expressed in this e-mail and any attachments are personal and, = unless stated explicitly, do not represent the views of ETP = International Pvt. Ltd. (ETP). Furthermore, ETP will not be bound by = this e-mail.=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] getting started with dom4j</header>
    <date>Thu Aug 18 16:37:00 CEST 2005</date>
    <body>Hi, I am new to dom4j. I tried to to use it in a simple example: =20 154 URL url =3D new URL(" file:///C:/Documents and=20 =20 but it did not work, i got the follwing Exception stack trace: Exception in thread "AWT-EventQueue-0" java.lang.NoClassDefFoundError:=20 org/jaxen/JaxenException at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:230) at org.dom4j.DocumentHelper.createXPath(DocumentHelper.java:121) at Viewer.FSViewer.UpdateFrame(FSViewer.java:156) at Viewer.FSViewer.access$0(FSViewer.java:133) at Viewer.FSViewer$1.actionPerformed(FSViewer.java:76) can somebody help me? Thanks in advance</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] getting started with dom4j</header>
    <date>Thu Aug 18 22:41:00 CEST 2005</date>
    <body>You need jaxen.jar too. David Thielen 303-499-2544 http://www.windwardreports.com http://www.windwardreports.com/ _____ From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of bader houmad Sent: Thursday, August 18, 2005 6:18 AM To: dom4j-user@... Subject: [dom4j-user] getting started with dom4j Hi, I am new to dom4j. I tried to to use it in a simple example: 154   URL url = new URL(" file:///C:/Documents file:///C:\Documents &amp;gt;  and but it did not work, i got the follwing Exception stack trace: Exception in thread "AWT-EventQueue-0" java.lang.NoClassDefFoundError: org/jaxen/JaxenException at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:230) at org.dom4j.DocumentHelper.createXPath (DocumentHelper.java:121) at Viewer.FSViewer.UpdateFrame(FSViewer.java:156) at Viewer.FSViewer.access$0(FSViewer.java:133) at Viewer.FSViewer$1.actionPerformed(FSViewer.java:76) can somebody help me? Thanks in advance</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] getting started with dom4j</header>
    <date>Fri Aug 19 08:17:00 CEST 2005</date>
    <body>Hi David, It's ok now, thanks for your help. But I have another problem, when I do this: the list is empty but it should not, because there is rect elements in my= =20 xml file. And if I use this: the list is not empty. And i think the expressions: //rect and=20 //*[name()=3D'rect'] are equivalent, or am i wrong?? Thanks for your help. Bader On 8/19/05, David Thielen &amp;lt;david@...&amp;gt; wrote:=20 http://www.windwardreports.com http://www.windwardreports.com/ file:///C:/Documents and=20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] getting started with dom4j</header>
    <date>Fri Aug 19 09:00:00 CEST 2005</date>
    <body>I think your elements are in the default namespace. An example: http://www.test.org/ The expression '//child' returns nothing because it is looking=20 for all 'child' elements that are not declared in a namespace.=20 However the expression //*[name()=3D'child'] will return the=20 elements because it is looking for all elements with a name=20 of 'child'. As you see the expressions are not equivalent. Regards, Edwin http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] getting started with dom4j</header>
    <date>Fri Aug 19 12:39:00 CEST 2005</date>
    <body>Hi Edwin, You're right my elements are in the default namespace. I have another question, is it possible to change an attribute in an xml= =20 document without passing by (using) its node but its xpath...i mean, is=20 there methods that do this: myDocument.setAttributeValueMethod( getAttributeByXpath( AttributeXPath ),= =20 Thanks for your help Bader On 8/19/05, Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote:=20 http://www.test.org/ http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] diff</header>
    <date>Fri Aug 19 09:44:00 CEST 2005</date>
    <body>Hi Is it possible to perform a diff between 2 trees in dom4j? What would be the ouptut? Could you please refer me to some links? Appreciated. Marc Lijour</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath "text()" not equivalent to getText()?</header>
    <date>Mon Aug 08 13:21:00 CEST 2005</date>
    <body>I'm new here, so forgive me if this has already come up. I'm using version 1.6.1. I've noticed that if I use node.valueOf("text()"), sometimes, for an arbitrary node, the end of the text will be cut off.  If I replace node.valueOf("text()") with node.getText(), this doesn't happen. Here is an example that produces the problem on my machine: public static void main(String args[]) throws Document doc = DocumentHelper.parseText("&amp;lt;root&amp;gt;&amp;lt;node&amp;gt;Some Long Long Long Text Some Long Long Long Text Some Long Long Long Text Some Long Long Long Text&amp;lt;/node&amp;gt;&amp;lt;node&amp;gt;More text More textMore textMore textMore textMore textMore textMore textMore text&amp;lt;/node&amp;gt;&amp;lt;node I've encountered this in a variety of places, and the length or structure of the text doesn't seem to make a difference.  Also, the same node is affected each time, and if you change the text of that node, it still cuts off at the same point.  Perhaps some nodes get split into two text nodes?  Length doesn't seem to be a factor, because the second node is longer than the first. Obviously, don't use valueOf("text()") is the workaround, but shouldn't "text()" and getText() be equivalent? Anyone know what is going on?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath "text()" not equivalent to getText()?</header>
    <date>Mon Aug 15 11:50:00 CEST 2005</date>
    <body>When you do not set the mergeAdjacentText property, the text nodes=20 in the tree are not merged together. When performing an xpath search=20 using the text() method, this only returns the text of the first text-node. As a workaround for this, please set the reader.setMergeAdjacentText()=20 property to true. Regards, Edwin http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] pretty printing XHTML li whitespace</header>
    <date>Tue Aug 16 20:44:00 CEST 2005</date>
    <body>When I pretty print an unordered list as XHTML, I get stuff like But li seems sensitive to whitepace. It would be better if the pretty printer produced Is it possible?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] pretty printing XHTML li whitespace</header>
    <date>Wed Aug 17 09:18:00 CEST 2005</date>
    <body>According to the XHTML 4.0 dtd only the &amp;lt;pre&amp;gt;, &amp;lt;style&amp;gt; and &amp;lt;script&amp;gt;=20 elements are 'whitespace sensitive'. To preserve whitespace you could use the xml:space=3D"preserve" attribute. Like this: Regards, Edwin http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] SelectSingleNode - namespace unspecific</header>
    <date>Fri Aug 12 09:22:00 CEST 2005</date>
    <body>Hi! Is there any way to select nodes with xpaths and ignoring the namespace, just like with the Element.element("") method? Thanks. -- Andreas Andersson IT Dept. Travelstart Nordic andreas@... http://www.travelstart.se</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SelectSingleNode - namespace unspecific</header>
    <date>Fri Aug 12 09:35:00 CEST 2005</date>
    <body>Hi Andreas, I had a problem with this using dom4j.  To get over the problem, I had to create a w3c dom document and then pass this one into dom4j.  It works fine then. e.g. InputStream is = // Step 2: create a DocumentBuilder // Step 3: parse the input file to get a Document object // Pass the w3c document to dom4j so that it will work with namespaces Hope it helps! Regards, Barbara Barbara Worwood Irish Medical Systems Clara House Glenageary Park Co Dublin Ireland Email: bworwood@... Web: http://www.imsmaxims.com Sent: Friday, August 12, 2005 10:22 AM Subject: [dom4j-user] SelectSingleNode - namespace unspecific http://www.travelstart.se http://www.sqe.com/bsce5sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SelectSingleNode - namespace unspecific</header>
    <date>Fri Aug 12 09:41:00 CEST 2005</date>
    <body>Barbara Worwood wrote: Couldn't dom4j be set to namespaceAware = false? with the element("")-method it is just that. Your trick would work but doesn't feal that "clean" :) Thanks. -- Andreas Andersson IT Dept. Travelstart Nordic andreas@... http://www.travelstart.se</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SelectSingleNode - namespace unspecific</header>
    <date>Fri Aug 12 09:53:00 CEST 2005</date>
    <body>I agree with your comment.  I'm not sure if it is a bug with dom4j, but at the time I was coding it, it was the only suggestion out there, I couldn't get any other way around it! Regards, Barbara Sent: Friday, August 12, 2005 10:42 AM Subject: Re: [dom4j-user] SelectSingleNode - namespace unspecific http://www.travelstart.se http://www.sqe.com/bsce5sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SelectSingleNode - namespace unspecific</header>
    <date>Fri Aug 12 16:11:00 CEST 2005</date>
    <body>I was intrigued by your question and started investigating, but I have to leave before I came up with a concrete answer. However, I figured I'd toss out my two avenues of investigation... One is that the parser in dom4j is configurable. Take a look at the docs for SaxReader: http://dom4j.org/apidocs/org/dom4j/io/SAXReader.html So, perhaps you can switch parsers and/or set the namespace aware property. My other subject of investigation is jaxen (jaxen.org) which is the XPath implementation that dom4j uses. For example, I found this comment: "In XPath, there is no such thing as a 'default namespace'. The empty prefix always resolves to the empty namespace URI. This method should return null for the empty prefix. Similarly, the prefix "xml" always resolves to the URI " http://www.w3.org/XML/1998/namespace "." In the javadoc for NamespaceContext: http://jaxen.org/apidocs/org/jaxen/NamespaceContext.html I think that your "cleanest" solution would be to figure out how to use jaxen/dom4j to interpret your XPaths across namespaces. I wish I could be more helpful... and unfortunately this list is very quiet (at least on the response end)... Edwin, Martin, you guys listening??? b Andreas Andersson wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SelectSingleNode - namespace unspecific</header>
    <date>Mon Aug 15 12:14:00 CEST 2005</date>
    <body>The preferred option is to create a specific namespace prefix mapping=20 and use this prefix in your xpath expression instead. However otherwise ... you can try a more global xpath which selects=20 the elements based on their name, something like: /*[name()=3D'root']/*[name()=3D'child'] Regards, Edwin</body>
  </mail>
  <mail>
    <header>RES: [dom4j-user] parseText()</header>
    <date>Mon Aug 15 11:54:00 CEST 2005</date>
    <body>Edwin It is ok that addText escapes characters and works well, the problem is = with parseText. Is there a bug in that function (workaround ?) or there is a = magic adjustment like setting output encoding ? Best regards Heitor -----Mensagem original----- De:	Edwin Dankert [mailto:edankert@...] Enviada:	seg 8/15/2005 8:36 Para:	Heitor Barbieri Cc:	dom4j-user@... Assunto:	Re: [dom4j-user] parseText() The addText method always escapes characters like '&amp;amp;' and '&amp;lt;' otherwise=20 the output XML would not be well-formed. Regards, Edwin On 7/25/05, Heitor Barbieri &amp;lt;heitor@...&amp;gt; wrote: following ).addText( -------------------------------------------------------------------------= -------------------------- http://ads.osdn.com/?ad_id=3D7477&amp;amp;alloc_id=3D16492&amp;amp;op=3Dclick https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: RES: [dom4j-user] parseText()</header>
    <date>Mon Aug 15 12:14:00 CEST 2005</date>
    <body>I think whatever you use to display System.out is not able to display=20 this character, try writing it to disk instead and open it in an UTF-8=20 compatible editor, or a webbrowser. Regards, Edwin http://www.edankert.com/ On 8/15/05, Barbieri, Heitor (BIR) &amp;lt;barbieri@...&amp;gt; wrote: with agic adjustment like setting output encoding ? t( ---------------------------- http://ads.osdn.com/?ad_id=3D7477&amp;amp;alloc_id=3D16492&amp;amp;op=3Dcl= ick https://lists.sourceforge.net/lists/listinfo/dom4j-user es A http://www.sqe.com/bsce5sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] parseText()</header>
    <date>Mon Aug 15 11:36:00 CEST 2005</date>
    <body>The addText method always escapes characters like '&amp;amp;' and '&amp;lt;' otherwise=20 the output XML would not be well-formed. Regards, Edwin On 7/25/05, Heitor Barbieri &amp;lt;heitor@...&amp;gt; wrote: -------------------------- http://ads.osdn.com/?ad_id=3D7477&amp;amp;alloc_id=3D16492&amp;amp;op=3Dclic= k https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem about create xml source by dom4j</header>
    <date>Mon Aug 15 11:29:00 CEST 2005</date>
    <body>You first define an element with a default namespace... http://aaa.bbb The second step adds a child element (to the element with the=20 default namespace) that is not in a namespace. This means that when it is written to XML the default namespace=20 of the parent node needs to be undeclared using xmlns=3D"". That is what you see in the output: If you want element2 to be in the same namespace as element1,=20 make sure to specify this in your code: element2.addNamespace(""," http://aaa.bbb Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Need help using SAX</header>
    <date>Mon Aug 15 11:17:00 CEST 2005</date>
    <body>You could (in theory) use the SAXReader.addHandler() mechanism,=20 however ... I think it would be better to write your own SAX=20 ContentHandler instead: XMLReader parser =3D XMLReaderFactory.createXMLReader(=20 "org.apache.xerces.parsers.SAXParser= =20 =20 public void startElement(String namespaceURI, String localName,=20 String qName, Attributes atts) throws SAXException = =20 =20 public void characters(char[] text, int start, int length) throws =20 StringBuffer buffer =3D (StringBuffer)activeContent.get( content.size= =20 public void endElement(String namespaceURI, String localName, String localName) // do nothing methods =20 public void startPrefixMapping(String prefix, String uri) throws public void ignorableWhitespace(char[] text, int start, int length) public void processingInstruction(String target, String data) throws Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] transforming not working</header>
    <date>Mon Aug 15 10:34:00 CEST 2005</date>
    <body>There is nothing wrong with your code, the HTMLWriter does not=20 write out a XML Declaration. Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] char in XML</header>
    <date>Mon Aug 15 10:23:00 CEST 2005</date>
    <body>The string set using setText() is correctly escaped to make sure no=20 invalid XML can be written out. However you can use normal java unicode escaping to set your=20 special values. Please try the following instead: element.setText( "\u009D\u0041")=20 You generate UTF-8, not ASCII.=20 Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] xpath bug I think - need spaces on sides of "div"</header>
    <date>Mon Aug 08 16:07:00 CEST 2005</date>
    <body>This throws an exception: string-length(/F/FAT/SON)div10 This does not: string-length(/F/FAT/SON)div 10 But XmlSpy handles both cases. The exception is: org.dom4j.InvalidXPathException: Invalid XPath expression: string-length(/F/FAT/SON) div10 Unexpected 'div10' Any ideas? Is this a bug? Thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath bug I think - need spaces on sides of "div"</header>
    <date>Tue Aug 09 08:27:00 CEST 2005</date>
    <body>David, I've forwarded it to the jaxen mailinglist, since this looks like an jaxen issue. regards, Maarten David Thielen &amp;lt;david@...&amp;gt; wrote: This throws an exception: string-length(/F/FAT/SON)div10 This does not: string-length(/F/FAT/SON)div 10 But XmlSpy handles both cases. The exception is: org.dom4j.InvalidXPathException: Invalid XPath expression: string-length(/F/FAT/SON) div10 Unexpected 'div10' Any ideas? Is this a bug? Thanks - dave __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [jaxen-user] Re: [dom4j-user] xpath bug I think - need spaces on sides of "div"</header>
    <date>Tue Aug 09 17:31:00 CEST 2005</date>
    <body>Should I enter this as a bug? And if so, where (since it's jaxen)? Thanks - dave David Thielen 303-499-2544 http://www.windwardreports.com -----Original Message----- From: Elliotte Harold [mailto:elharo@... Sent: Tuesday, August 09, 2005 6:05 AM To: user@... Cc: David Thielen; dom4j-user@... Subject: Re: [jaxen-user] Re: [dom4j-user] xpath bug I think - need = spaces on sides of "div" string-length is irrelevant. The expression 105 div10 also demonstrates the same problem. Furthermore, 105 mod10 demonstrates the problem. 105 +10 does not. --=20 =EF=BB=BFElliotte Rusty Harold  elharo@... XML in a Nutshell 3rd Edition Just Published! http://www.cafeconleche.org/books/xian3/ http://www.amazon.com/exec/obidos/ISBN=3D0596007647/cafeaulaitA/ref=3Dnos= im</body>
  </mail>
  <mail>
    <header>Re: [jaxen-user] Re: [dom4j-user] xpath bug I think - need spaces
 on sides of "div"</header>
    <date>Tue Aug 09 22:12:00 CEST 2005</date>
    <body>Do you have the XML document that demonstrates this bug? i.e. the document that includes F, FAT, and SON? -- ﻿Elliotte Rusty Harold  elharo@... XML in a Nutshell 3rd Edition Just Published! http://www.cafeconleche.org/books/xian3/ http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim</body>
  </mail>
  <mail>
    <header>Re: [jaxen-user] Re: [dom4j-user] xpath bug I think - need spaces
 on sides of "div"</header>
    <date>Wed Aug 10 01:04:00 CEST 2005</date>
    <body>string-length is irrelevant. The expression 105 div10 also demonstrates the same problem. Furthermore, 105 mod10 demonstrates the problem. 105 +10 does not. -- ﻿Elliotte Rusty Harold  elharo@... XML in a Nutshell 3rd Edition Just Published! http://www.cafeconleche.org/books/xian3/ http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim</body>
  </mail>
  <mail>
    <header>Re: [jaxen-user] Re: [dom4j-user] xpath bug I think - need spaces
 on sides of "div"</header>
    <date>Wed Aug 10 01:11:00 CEST 2005</date>
    <body>The problem seems to be the missing space after div. i.e. string-length(/F/FAT/SON)div 10 is OK but string-length(/F/FAT/SON)div10 is not. I can reproduce it with string-length('This is a string longer than 10')div10 so apparently the particular object model or input document is not relevant. -- ﻿Elliotte Rusty Harold  elharo@... XML in a Nutshell 3rd Edition Just Published! http://www.cafeconleche.org/books/xian3/ http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim</body>
  </mail>
  <mail>
    <header>Re: [jaxen-user] Re: [dom4j-user] xpath bug I think - need spaces on sides of "div"</header>
    <date>Wed Aug 10 01:28:00 CEST 2005</date>
    <body>I'd say yes, it is a bug. Can you raise it on jira?=20 http://jira.codehaus.org/browse/JAXEN On 8/9/05, Maarten Coene &amp;lt;maarten_coene@...&amp;gt; wrote: n http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Invalid byte 2 of 3-byte UTF-8 sequence</header>
    <date>Fri Sep 23 13:55:00 CEST 2005</date>
    <body>Hi Edwin,=0A=0Ait works. Thank you very much for your help. You are the bes= t.=0A=0ARegards,=0AUdo Krass=0A=0AEdwin Dankert wrote:Instead of a FileWrit= er try to use a FileOutputStream instead.=0A=0ASpecifying a Writer assumes = that the encoding is handled by=0Athe specified Writer, this is normally (u= nless otherwise specified)=0Athe platform's default encoding.=0A=0AUsing an= OutputStream will use the encoding specified in the=0AOutputFormat.=0A=0AR= egards,=0AEdwin=0A= 0Ahttp://www.edankert.com/=0A=0A=0A---------------------= ----------------------------------=0ASF.Net email is sponsored by:=0ATame y= our development challenges with Apache's Geronimo App Server. Download=0Ait= for free - -and be entered to win a 42" plasma tv or your very own=0ASony(= tm)PSP.  Click here to play: http://sourceforge.net/geronimo.php=0A________= _______________________________________=0Adom4j-user mailing list=0Adom4j-u= ser@... href="0Ahttps://lists.sourceforge.net/lists/listinfo/do=" target="_new"&amp;gt;0Ahttps://lists.sourceforge.net/lists/listinfo/do= m4j-user=0A=0A=0A=0A=0A=0A=0A=0A=0A</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Invalid byte 2 of 3-byte UTF-8 sequence</header>
    <date>Fri Sep 23 14:15:00 CEST 2005</date>
    <body>Well gee ... thanks man. Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Invalid byte 2 of 3-byte UTF-8 sequence</header>
    <date>Fri Sep 23 16:02:00 CEST 2005</date>
    <body>Edwin, Excuse the thread-jumping, but I'd like to take this opportunity to thank you as well. I'm very well aware that you are single-handedly keeping this list afloat. I think dom4j is a great piece of software and prefer it over any other DOM implementation. Its only failing is that it has been nearly abandoned by its creators (ahem... one creator in particular). This doesn't inspire much confidence in those considering intertwining dom4j with their projects. I hope you will keep up your commitment to dom4j and the lists. Thanks again. Ben Edwin Dankert wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Invalid byte 2 of 3-byte UTF-8 sequence</header>
    <date>Fri Sep 23 16:18:00 CEST 2005</date>
    <body>Thank you very much that is really appreciated but just to set the record straight ... I haven't contributed any code (this might change in the future) to dom4j and I believe that Maarten is doing a fantastic job with the maintenance and the implementation of new functionality. I'm just a fan of the product myself and I'm just helping out with answering some questions on this mailing list. Regards, Edwin</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Invalid byte 2 of 3-byte UTF-8 sequence</header>
    <date>Fri Sep 23 06:22:00 CEST 2005</date>
    <body>Your file isn't correct xml. Use an UTF-8 aware editor and things = should work out fine. With UTF-8, the latin alfabet characters are encoded as one byte = whereas some other, for example =E5=E4=F6 are encoded with two bytes. These two = bytes are encoded in such a fashion that when the parser encounters the first it = knows that the second should also be counted as the same character. When an illegal byte group is encountered, this problem occurs. You most = propably have used an editor that produces non-UTF-8 byte groups. Regards Erik -----Original Message----- From: udokrass@... To: dom4j-user@... Sent: 2005-09-22 23:29 Subject: [dom4j-user] Invalid byte 2 of 3-byte UTF-8 sequence Hi, i have a problem with UTF-8. I want to add special characters, like german umlauts: =E4=F6=FC or = french characters: e.g. =E9 in my XML-File. I can add the characters to an xml-file, but when i try to read thegenerated file with the SAXParser, an error will occure (Invalid = byte 2of 3-byte UTF-8 sequence) - see at the end of this message. The XML-File looks fine in my editor (UltraEdit), but my System.out-Trace show this: =C3=A4=C3=B6=C3=BC for =E4=F6=FC. With ISO-8859-1 everything works fine. Where is my mistake? I searched the dom4j faq, cookbook and internet for this problem, but the only thing i found was this: http://sourceforge.net/mailarchive/message.php?msg_id=3D10356047 It didn't help... Thanks for any advice! Udo Krass My code: -------&amp;lt;snip&amp;gt;------- // TODO Auto-generated catch block =20 = =20 public static Document parse(File theFile) throws public static void writeToFile(Document theDocument, File theOutputFile, Boolean trace) throws IOException //lets write to a file =20 XMLWriter xmlWriter =3D new XMLWriter(new =20 // print the document to System.out -------&amp;lt;snap&amp;gt;------- the generated xml-File: -------&amp;lt;snip&amp;gt;------- -------&amp;lt;snap&amp;gt;------- this is the System.out. output, when i uncomment the parse section and read the file with the SAXParser: -------&amp;lt;snip&amp;gt;------- org.dom4j.DocumentException: Error on line 3 of = documentfile:///C:/t.xml : Invalid byte 2 of 3-byte UTF-8 sequence. Nestedexception: Invalid = byte 2 of 3-byte UTF-8 sequence. at org.dom4j.io.SAXReader.read(SAXReader.java:350) at org.dom4j.io.SAXReader.read(SAXReader.java:222) at Test.parse(Test.java:51) at Test.main(Test.java:25) Nested exception: org.xml.sax.SAXParseException: Invalid byte 2 of 3-byte UTF-8 sequence. =20 atcom.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXP= arseException(ErrorHandlerWrapper.java:236) at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(E= rrorHandlerWrapper.java:215) at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XML= ErrorReporter.java:386) at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XML= ErrorReporter.java:316) =20 atcom.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl= $FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:= 1810) =20 atcom.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl= .scanDocument(XMLDocumentFragmentScannerImpl.java:368) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML1= 1Configuration.java:834) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML1= 1Configuration.java:764) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.jav= a:148) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Abstr= actSAXParser.java:1242) at org.dom4j.io.SAXReader.read(SAXReader.java:334) at org.dom4j.io.SAXReader.read(SAXReader.java:222) at Test.parse(Test.java:51) at Test.main(Test.java:25) Nested exception: org.xml.sax.SAXParseException: Invalid byte 2 of 3-byte UTF-8 sequence. =20 atcom.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXP= arseException(ErrorHandlerWrapper.java:236) at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(E= rrorHandlerWrapper.java:215) at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XML= ErrorReporter.java:386) at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XML= ErrorReporter.java:316) =20 atcom.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl= $FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:= =20 atcom.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl= .scanDocument(XMLDocumentFragmentScannerImpl.java:368) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML1= 1Configuration.java:834) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML1= 1Configuration.java:764) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.jav= a:148) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Abstr= actSAXParser.java:1242) at org.dom4j.io.SAXReader.read(SAXReader.java:334) at org.dom4j.io.SAXReader.read(SAXReader.java:222) at Test.parse(Test.java:51) at Test.main(Test.java:25) -------&amp;lt;snap&amp;gt;-------</body>
  </mail>
  <mail>
    <header>[dom4j-user] Keep white space &amp;amp; cr/lf in element text?</header>
    <date>Thu Sep 29 03:34:00 CEST 2005</date>
    <body>I need to keep the text for an element exactly as is when writing the xml file. (This is for a SpreadsheetML file for Excel and it defines how this works.) So any spaces, cr/lf, etc must be preserved. Also, any &amp;lt;&amp;gt;&amp;amp;'" must be left literally in the text. (I did not define this spec!!!). At present I have my own writer derived from XMLWriter. But I was wondering if 1.6.1 now supports this? Thanks - dave David Thielen 303-499-2544 http://www.windwardreports.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Keep white space &amp;amp; cr/lf in element text?</header>
    <date>Thu Sep 29 04:21:00 CEST 2005</date>
    <body>Create an attribute on the top element where you want to preserve the whitespace called xml:space=3D"preserve" and it should not strip out whitespaces in the children text nodes.  This is a standard in XML and should preseve the whitespace, but I don't know if Excel will accept it or not.  I know that IE ignores the actual value of the xml:space, but complains if you try and define xmlns:xml.  So I am not sure how Excel will handle it.  But, the XML output should have the layout that you want when you set the text.  Let me know if you have any problems. For more info on xml:space see section 2.10 on White Space Handling  at http://www.w3.org/TR/REC-xml/ .  It does say "MAY" for support and not "REQUIRED" so your mileage may vary. An example of the xml might look like: Best Wishes, Dave David Thielen wrote: w ne http://www.windwardreports.com http://www.windwardreports.com --=20 +------------------------------------------------------------+ | David Lucas                      mailto: ddlucas @ lse.com | | Lucas Software Engineering, Inc.   (740) 964-6248 Voice    | | Unix,Java,C++,CORBA,XML,EJB        (614) 668-4020 Mobile   | | Middleware,Frameworks              (888) 866-4728 Fax/Msg  | +------------------------------------------------------------+ | GPS Location:  40.0150 deg Lat,  -82.6378 deg Long         | | IMHC: "Jesus Christ is the way, the truth, and the life."  | | IMHC: "I know where I am; I know where I'm going."    &amp;lt;&amp;gt;&amp;lt;  | +------------------------------------------------------------+ Notes: PGP Key Block= 3Dhttp://www.lse.com/~ddlucas/pgpblock.txt IMHO=3D"in my humble opinion" IMHC=3D"in my humble conviction" All trademarks above are those of their respective owners.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Keep white space &amp;amp; cr/lf in element text?</header>
    <date>Thu Sep 29 07:38:00 CEST 2005</date>
    <body>&amp;gt; Also, any &amp;lt;&amp;gt;&amp;amp;'" must be left literally in the text. You cannot have these 'left literally in your text', since the result does not have to be well-formed. Overwriting the XMLWriter is the only (not recommended) hack around this. Regards, Edwin</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Keep white space &amp;amp; cr/lf in element text?</header>
    <date>Thu Sep 29 14:07:00 CEST 2005</date>
    <body>You're right but that's the way MS defined the SpreadsheetML spec. The html in the node does have to be balanced - but a cr/lf or space around it is literal so I have to build it myself. Thanks - dave David Thielen 303-499-2544 http://www.windwardreports.com -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Thursday, September 29, 2005 1:38 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Keep white space &amp;amp; cr/lf in element text? You cannot have these 'left literally in your text', since the result does not have to be well-formed. Overwriting the XMLWriter is the only (not recommended) hack around this. Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Keep white space &amp;amp; cr/lf in element text?</header>
    <date>Thu Sep 29 14:57:00 CEST 2005</date>
    <body>RGF2aWQgRC4gTHVjYXMgaXMgcmlnaHQsIEkgaGF2ZSBkb25lIHNpbWlsYXIgdG8gd2hhdCBoZSBz dWdnZXN0ZWQuIEV4Y2VwdAp5b3UgaGF2ZSB0byBnZXQgcmlkIG9mIHRoZSBmb3JtYXR0ZWQgcHJp bnRpbmcgaW4gdGhlIGZpbGUgKHdpdGggaW5kZW50cyBhbmQKUmV0dXJucyBpbiB0aGUgWE1MIHRl eHQpIGJlY2F1c2UgdGhlIGludGVycHJldGF0aW9uIG9mIHRoZSBlbmQgb2YgbGluZSB0aGF0CnRo ZSBYTUxXcml0ZXIgd3JpdGVzIGluIHdpbmRvd3MgaXMgaW5jb3JyZWN0LiBpdCBwdXQgYSBTUEFD RSBmb3IgbWUgb24gdGhlCm5leHQgbGluZS4KIEhvcGUgdGhhdCBoZWxwcy4KT3l0dW4KCiBPbiA5 LzI5LzA1LCBEYXZpZCBUaGllbGVuIDxkYXZpZEB3aW5kd2FyZC5uZXQ+IHdyb3RlOgo+Cj4gSGk7 Cj4KPiBZb3UncmUgcmlnaHQgYnV0IHRoYXQncyB0aGUgd2F5IE1TIGRlZmluZWQgdGhlIFNwcmVh ZHNoZWV0TUwgc3BlYy4gVGhlCj4gaHRtbAo+IGluIHRoZSBub2RlIGRvZXMgaGF2ZSB0byBiZSBi YWxhbmNlZCAtIGJ1dCBhIGNyL2xmIG9yIHNwYWNlIGFyb3VuZCBpdCBpcwo+IGxpdGVyYWwgc28g SSBoYXZlIHRvIGJ1aWxkIGl0IG15c2VsZi4KPgo+IFRoYW5rcyAtIGRhdmUKPgo+IERhdmlkIFRo aWVsZW4KPiAzMDMtNDk5LTI1NDQKPiB3d3cud2luZHdhcmRyZXBvcnRzLmNvbSA8aHR0cDovL3d3 dy53aW5kd2FyZHJlcG9ydHMuY29tPgo+Cj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0KPiBG cm9tOiBFZHdpbiBEYW5rZXJ0IFttYWlsdG86ZWRhbmtlcnRAZ21haWwuY29tXQo+IFNlbnQ6IFRo dXJzZGF5LCBTZXB0ZW1iZXIgMjksIDIwMDUgMTozOCBBTQo+IFRvOiBEYXZpZCBUaGllbGVuCj4g Q2M6IGRvbTRqLXVzZXJAbGlzdHMuc291cmNlZm9yZ2UubmV0Cj4gU3ViamVjdDogUmU6IFtkb200 ai11c2VyXSBLZWVwIHdoaXRlIHNwYWNlICYgY3IvbGYgaW4gZWxlbWVudCB0ZXh0Pwo+Cj4gPiBB bHNvLCBhbnkgPD4mJyIgbXVzdCBiZSBsZWZ0IGxpdGVyYWxseSBpbiB0aGUgdGV4dC4KPgo+IFlv dSBjYW5ub3QgaGF2ZSB0aGVzZSAnbGVmdCBsaXRlcmFsbHkgaW4geW91ciB0ZXh0Jywgc2luY2Ug dGhlIHJlc3VsdAo+IGRvZXMgbm90IGhhdmUgdG8gYmUgd2VsbC1mb3JtZWQuIE92ZXJ3cml0aW5n IHRoZSBYTUxXcml0ZXIgaXMKPiB0aGUgb25seSAobm90IHJlY29tbWVuZGVkKSBoYWNrIGFyb3Vu ZCB0aGlzLgo+Cj4gUmVnYXJkcywKPiBFZHdpbgo+Cj4KPgo+IC0tLS0tLS0tLS0tLS0tLS0tLS0t LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiBUaGlzIFNGLk5ldCBlbWFpbCBp cyBzcG9uc29yZWQgYnk6Cj4gUG93ZXIgQXJjaGl0ZWN0dXJlIFJlc291cmNlIENlbnRlcjogRnJl ZSBjb250ZW50LCBkb3dubG9hZHMsIGRpc2N1c3Npb25zLAo+IGFuZCBtb3JlLiBodHRwOi8vc29s dXRpb25zLm5ld3Nmb3JnZS5jb20vaWJtYXJjaC50bXBsCj4gX19fX19fX19fX19fX19fX19fX19f X19fX19fX19fX19fX19fX19fX19fX19fX18KPiBkb200ai11c2VyIG1haWxpbmcgbGlzdAo+IGRv bTRqLXVzZXJAbGlzdHMuc291cmNlZm9yZ2UubmV0Cj4gaHR0cHM6Ly9saXN0cy5zb3VyY2Vmb3Jn ZS5uZXQvbGlzdHMvbGlzdGluZm8vZG9tNGotdXNlcgo+CgoKCi0tCk95dHVuIEH+a/1uCm95dHVu MTJAZ21haWwuY29tCg==</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Keep white space &amp;amp; cr/lf in element text?</header>
    <date>Thu Sep 29 18:34:00 CEST 2005</date>
    <body>Maybe you should try something like this instead: Namespace html =3D Namespace.get( "html"," http://www.w3.org/TR/REC-html40")= Namespace ss =3D Namespace.get( "ss", When you don't specify in your outputformat to trim the text, all text cont= ent should stay as it is. OutputFormat.setTrimText( false); (default behavior) You should always be able to solve the problem using the solution above, however if you're a little bit lazy (and you might argue that this markup isn't part of the core of your application) you can use the following as well: Namespace ss =3D Namespace.get( "ss", data.add( DocumentHelper.createText( "\n&amp;lt;html:B xmlns:html=3D\" http://www.w3.org/TR/REC-html40 \"&amp;gt;"+ "&amp;lt;html:Font html:Face=3D\"Tahoma\" html:Size=3D\"8\" html:Color=3D\"00000= 0\"&amp;gt;\n"+ "\t\tAuthor:\n"+ You have to use the setEscapeText method to make sure the text isn't escaped ('&amp;lt;' converted to '&amp;amp;lt;') by the XMLWriter. (warning: this escapes all text) Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Keep white space &amp;amp; cr/lf in element text?</header>
    <date>Thu Sep 29 20:22:00 CEST 2005</date>
    <body>I just got this working sort-of like you said below using setEscapeText(false). I did hit one final problem - I need \n\r\t escaped in attributes (it's a very screwy schema) so I overrode XMLWriter.escapeAttributeEntities. But that was all. Thanks all - dave David Thielen 303-499-2544 http://www.windwardreports.com -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Thursday, September 29, 2005 12:34 PM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Keep white space &amp;amp; cr/lf in element text? Maybe you should try something like this instead: Namespace html = Namespace.get( "html"," http://www.w3.org/TR/REC-html40 Namespace ss = Namespace.get( "ss", When you don't specify in your outputformat to trim the text, all text content should stay as it is. OutputFormat.setTrimText( false); (default behavior) You should always be able to solve the problem using the solution above, however if you're a little bit lazy (and you might argue that this markup isn't part of the core of your application) you can use the following as well: Namespace ss = Namespace.get( "ss", data.add( DocumentHelper.createText( "\n&amp;lt;html:B xmlns:html=\" http://www.w3.org/TR/REC-html40 \"&amp;gt;"+ "&amp;lt;html:Font html:Face=\"Tahoma\" html:Size=\"8\" html:Color=\"000000\"&amp;gt;\n"+ "\t\tAuthor:\n"+ You have to use the setEscapeText method to make sure the text isn't escaped ('&amp;lt;' converted to '&amp;amp;lt;') by the XMLWriter. (warning: this escapes all text) Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Create node with xmlns attribute</header>
    <date>Thu Sep 29 03:29:00 CEST 2005</date>
    <body>I need to create a node as follows: http://www.w3.org/TR/REC-html40 How do I set the xmlns= attribute? I presently have the following but it seems cludgey to me: . Namespace dfNs = Namespace.get(""," http://www.w3.org/TR/REC-html40 Thanks - dave David Thielen 303-499-2544 http://www.windwardreports.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Create node with xmlns attribute</header>
    <date>Thu Sep 29 08:12:00 CEST 2005</date>
    <body>Nothing wrong with that code, however ... You create a new namespace without a prefix: Namespace dfNs =3D Namespace.get( ""," http://www.w3.org/TR/REC-html40 I assume you have created a Namespace for the 'ss' prefix as well, using something like: Namespace ssNs =3D Namespace.get( "ss"," http://www.test.com/ss/ And you create the QName for your element, with the 'ss' prefix (which I assume has already been defined before) however you give for the creation of the name your previously created default Namespace, which has as far as I can see nothing to do with the element you're trying to create.. Instead you could have created an element in the 'ss' namespace using: After this you can add whatever namespace declaration you want to the newly created element using the add( Namespace) method: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Create node with xmlns attribute</header>
    <date>Thu Sep 29 17:43:00 CEST 2005</date>
    <body>Works great - thank you!!! Thanks - dave David Thielen 303-499-2544 http://www.windwardreports.com -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Thursday, September 29, 2005 2:12 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Create node with xmlns attribute Nothing wrong with that code, however ... You create a new namespace without a prefix: Namespace dfNs = Namespace.get( ""," http://www.w3.org/TR/REC-html40 I assume you have created a Namespace for the 'ss' prefix as well, using something like: Namespace ssNs = Namespace.get( "ss"," http://www.test.com/ss/ And you create the QName for your element, with the 'ss' prefix (which I assume has already been defined before) however you give for the creation of the name your previously created default Namespace, which has as far as I can see nothing to do with the element you're trying to create.. Instead you could have created an element in the 'ss' namespace using: After this you can add whatever namespace declaration you want to the newly created element using the add( Namespace) method: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Dynamically validates DOM against DTD/schema</header>
    <date>Wed Sep 28 08:54:00 CEST 2005</date>
    <body>Hi all, I know that validating parser validates DOM document when it load up XML file. But what I want to achieve is, whenever I try to do something that affects DOM document structure, e.g. when trying to append a child element to an element, let DOM validate it against DTD and prevent that action if it failed validation. Is it possible using dom4j? Regards, Vairoj</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Dynamically validates DOM against DTD/schema</header>
    <date>Wed Sep 28 10:58:00 CEST 2005</date>
    <body>I'm sorry but this isn't supported and I don't know of any implementation that can provide you with this functionality. Maybe JAXB might help you out here? Regards, Edwin http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] combining mutile xml docs with one, or more, xslt?</header>
    <date>Sun Sep 25 19:04:00 CEST 2005</date>
    <body>Given an xslt for an xml doc where the xml doc some data collection how would you go about merging in extra info that the web page needs? for example, lets say the web page needs the login time and user ID and the xml doc has a collection of rows that will be displayed in a html table.  we use the xml data document in several places, and not just for web page output, therefore it makes no sense to add the specific data for one page and xslt to the doc.  The doc also has a dtd so it is not possible to add the extra data and also have the schema check. So we are left with the need to merge 2, or more, xml docs into a single output html page with one xslt. Another way to look at this is: 1) I have several XML docs that need to be combined with a single XSLT 2) I have several XML docs that need to have a sequential sequence of XSLT's applied. thoughts? suggestions?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] combining mutile xml docs with one, or more, xslt?</header>
    <date>Mon Sep 26 08:40:00 CEST 2005</date>
    <body>I think you have three options: - use the XSLT document( 'doc.xml') function to access nodes in an external XML document, - include the content of the other document somehow using dom4j, - stage the processing of your document (pipeline). Regards, Edwin http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] combining mutile xml docs with one, or more, xslt?</header>
    <date>Mon Sep 26 11:43:00 CEST 2005</date>
    <body>hanasaki wrote: I would pass the time and ID in as params: This can be caught in the XSL with a top level param (i.e. /xsl:stylesheet/xsl:param) name="paramName" best, -Rob</body>
  </mail>
  <mail>
    <header>[dom4j-user] Writing CDATA with XMLWriter</header>
    <date>Sun Sep 25 20:17:00 CEST 2005</date>
    <body>Hi,=0A=0Ais it possible to write CDATA-Sections with the XMLWriter instead = of the HTMLWriter without the CDATA-Tags?=0AI will write plain XHTML-Files,= but without CDATA-Tags.=0AIn the Javadoc about the class HTMLWriter there = is following comment:=0AIf isXHTML =3D=3D true, CDATA sections look like th= is:=0A  &amp;lt;myelement&amp;gt;&amp;lt;![CDATA[My data]]&amp;gt;&amp;lt;/myelement&amp;gt;  =0A=0A Otherwise, they = look like this:=0A  &amp;lt;myelement&amp;gt;My data&amp;lt;/myelement&amp;gt; =0A=0AThe second thing i= s what i want, but with XHTML=3D=3Dtrue :) .=0A=0AOr is it possible to add = an Element to my document which is a String with Tags without the suroundin= g CDATA-Tag?=0AThe method addText doesn't support this.=0A=0AThanks for all= hints.=0ARegards,=0A=0AUdo Krass=0A =0A =0A=0A=0A=0A=0A=0A</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Writing CDATA with XMLWriter</header>
    <date>Mon Sep 26 08:54:00 CEST 2005</date>
    <body>&amp;gt; Or is it possible to add an Element to my document which is a String If I understand you correctly ... you seem to want to add text to the document however this text should be treated as markup information when serialised. No, this is not supported. You could in theory force dom4j to do this for you however (since this breaks all rules) I think it would be better if you redesigned your application. Regards, Edwin</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Error in prolog?</header>
    <date>Mon Sep 26 04:58:00 CEST 2005</date>
    <body>Marcus, Is there a byte order mark in the document?  If so the first two bytes would be 0xFE and 0xFF (or the reverse).  This is legal but I found that Xerces does not handle this properly.  I had to delete the byte order mark in my documents. I suppose its also possible that the file contents are somehow being escaped.  I had this problem when I tried writing out an XML String using XMLWriter.  The XMLWriter escaped all of the '&amp;lt;' amd '&amp;gt;' with entities and I got a very similar error message. Good luck, Mark -----Original Message----- From: marcus [mailto:m-lists@...] Sent: Sunday, September 25, 2005 8:39 AM To: dom4j-user@... Subject: [dom4j-user] Error in prolog? OS: Windows XP Pro Java: 5 Dom4J: 1.6.1 ================== I keep getting org.dom4j.DocumentException: Error on line 1 of document  : Content is not allowed in prolog. Nested exception: Content is not allowed in prolog. I get the same (more or less) using XOM/NUX. I tried using XPP3Reader as well with the following result: org.xmlpull.v1.XmlPullParserException: only whitespace content allowed before start tag and not \uef (position: START_DOCUMENT seen \uef... @1:1) at org.xmlpull.mxp1.MXParser.parseProlog(MXParser.java:1475) at org.xmlpull.mxp1.MXParser.nextImpl(MXParser.java:1351) .... I have tried using and and also to skip the prolog altogether. The file should be UTF-8 (according to UltraEdit and Firefox it is). I am invoking using this code: saxReader.addHandler("/epg/genres/genre", saxReader.addHandler("/epg/channels/channel", content is an InputStream coming from a file (Windows) I built the code and tested using small files (it worked then) and the error occurs now when I tried to feed it with real data (about 5 megabytes, file generated by someone else). The file opens fine in IE and Firefox and I've also tried using another parser (REXML in Ruby) which also works fine. Any ideas? /Marcus ------------------------------------------------------- SF.Net email is sponsored by: Tame your development challenges with Apache's Geronimo App Server. Download it for free - -and be entered to win a 42" plasma tv or your very own Sony(tm)PSP.  Click here to play: http://sourceforge.net/geronimo.php _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Error in prolog?</header>
    <date>Sun Sep 25 12:39:00 CEST 2005</date>
    <body>OS: Windows XP Pro Java: 5 Dom4J: 1.6.1 ================== I keep getting org.dom4j.DocumentException: Error on line 1 of document  : Content is not allowed in prolog. Nested exception: Content is not allowed in prolog. I get the same (more or less) using XOM/NUX. I tried using XPP3Reader as well with the following result: org.xmlpull.v1.XmlPullParserException: only whitespace content allowed before start tag and not \uef (position: START_DOCUMENT seen \uef... @1:1) at org.xmlpull.mxp1.MXParser.parseProlog(MXParser.java:1475) at org.xmlpull.mxp1.MXParser.nextImpl(MXParser.java:1351) .... I have tried using and and also to skip the prolog altogether. The file should be UTF-8 (according to UltraEdit and Firefox it is). I am invoking using this code: saxReader.addHandler("/epg/genres/genre", saxReader.addHandler("/epg/channels/channel", content is an InputStream coming from a file (Windows) I built the code and tested using small files (it worked then) and the error occurs now when I tried to feed it with real data (about 5 megabytes, file generated by someone else). The file opens fine in IE and Firefox and I've also tried using another parser (REXML in Ruby) which also works fine. Any ideas? /Marcus</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error in prolog?</header>
    <date>Sun Sep 25 16:01:00 CEST 2005</date>
    <body>I seem to remember seeing that error back when Tomcat had some problems with the version of Xalan it was using (you had to put a different version in the "endorsed" dir). So, I wonder if changing the underlying SAX parser would help. See the SAXReader javadoc about how to do that. If it does turn out to be a bad parser, you might check to see if you have a system classpath set and if there are any parsers on there. Er, or actually, the javadocs suggest that it's a system property that determines which parser is used... good luck, Ben marcus wrote: http://sourceforge.net/geronimo.php https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Is there a dom4j call to get the version number?</header>
    <date>Fri Sep 23 16:41:00 CEST 2005</date>
    <body>Thanks - dave David Thielen 303-499-2544 http://www.windwardreports.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Is there a dom4j call to get the version number?</header>
    <date>Fri Sep 23 17:10:00 CEST 2005</date>
    <body>VGhlIHZlcnNpb24gaW5mb3JtYXRpb24gaXMgZGVjbGFyZWQgaW4gdGhlIG1hbmlmZXN0IGZpbGUu CgpZb3UgY2FuIGdldCBhY2Nlc3MgdG8gaXQgdXNpbmcgc29tZXRoaW5nIGxpa2UgdGhpczoKRG9j dW1lbnRGYWN0b3J5LmNsYXNzLmdldFBhY2thZ2UoKS5nZXRJbXBsZW1lbnRhdGlvblZlcnNpb24o KQoKUmVnYXJkcywKRWR3aW4KCk9uIDkvMjMvMDUsIERhdmlkIFRoaWVsZW4gPGRhdmlkQHdpbmR3 YXJkLm5ldD4gd3JvdGU6Cj4KPgo+Cj4gVGhhbmtzIJYgZGF2ZQo+Cj4KPgo+Cj4KPgo+IERhdmlk IFRoaWVsZW4KPgo+IDMwMy00OTktMjU0NAo+Cj4gd3d3LndpbmR3YXJkcmVwb3J0cy5jb20KPgo+ Cg==</body>
  </mail>
  <mail>
    <header>[dom4j-user] Invalid byte 2 of 3-byte UTF-8 sequence</header>
    <date>Thu Sep 22 21:29:00 CEST 2005</date>
    <body>Hi,=0A=0Ai have a problem with UTF-8.=0AI want to add special characters, l= ike german umlauts: =E4=F6=FC or french characters: e.g. =E9 in my XML-File= .=0AI can add the characters to an xml-file, but when i try to read thegene= rated file with the SAXParser, an error will occure (Invalid byte 2of 3-byt= e UTF-8 sequence) - see at the end of this message.=0AThe XML-File looks fi= ne in my editor (UltraEdit), but my System.out-Trace show this: =C3=A4=C3= =B6=C3=BC for =E4=F6=FC.=0AWith ISO-8859-1 everything works fine.=0AWhere i= s my mistake?=0A=0AI searched the dom4j faq, cookbook and internet for this= problem, but the only thing i found was this:= 0Ahttp://sourceforge.net/mai= larchive/message.php?msg_id=3D10356047=0AIt didn't help...=0A=0AThanks for = any advice!=0A=0AUdo Krass=0A=0AMy code:=0A-------&amp;lt;snip&amp;gt;-------=0Aimport ja= va.io.File;=0Aimport java.io.FileWriter;=0Aimport java.io.IOException;=0A= =0Aimport org.dom4j.Document;=0Aimport org.dom4j.DocumentException;=0Aimpor= t org.dom4j.DocumentHelper;=0Aimport org.dom4j.Element;=0Aimport org.dom4j.= io.OutputFormat;=0Aimport org.dom4j.io.SAXReader;=0Aimport org.dom4j.io.XML= ile("C:/t.xml");=0A=0A        File testOutputFile =3D new File("C:/t.xml");= nt;=0A        document =3D DocumentHelper.createDocument();=0A        Eleme= nt root =3D document.addElement( "go" );=0A        document.getRootElement(= cument document =3D null;=0A            document =3D reader.read(theFile);= oFile(Document theDocument, File theOutputFile, Boolean trace) throws IOExc= at =3D OutputFormat.createCompactFormat();=0A        format.setEncoding("UT= F-8");=0A        format.setNewlines(true);=0A        format.setIndentSize(2= );=0A        format.setTrimText(false);=0A   =0A        XMLWriter xmlWriter= =3D new XMLWriter(new FileWriter(theOutputFile), format);=0A              = xmlWriter.write(theDocument);=0A                   xmlWriter.flush();= =0A                   =0A                   xmlWriter.close();=0A=0A       = xmlWriter =3D new XMLWriter(System.out, format);=0A            format.se= tEncoding("UTF-8");=0A            xmlWriter.write(theDocument);=0A         = ----=0A&amp;lt;?xml version=3D"1.0" encoding=3D"UTF-8"?&amp;gt;=0A=0A&amp;lt;go&amp;gt;=E4=F6=FC&amp;lt;/go&amp;gt;= =0A-------&amp;lt;snap&amp;gt;-------=0A=0Athis is the System.out. output, when i uncomme= nt the parse section and read the file with the SAXParser:=0A-------&amp;lt;snip&amp;gt;-= ------=0Aorg.dom4j.DocumentException: Error on line 3 of documentfile:///C:= /t.xml : Invalid byte 2 of 3-byte UTF-8 sequence. Nestedexception: Invalid = byte 2 of 3-byte UTF-8 sequence.=0A    at org.dom4j.io.SAXReader.read(SAXRe= ader.java:350)=0A    at org.dom4j.io.SAXReader.read(SAXReader.java:222)=0A = at Test.parse(Test.java:51)=0A    at Test.main(Test.java:25)=0ANested ex= ception:=0Aorg.xml.sax.SAXParseException: Invalid byte 2 of 3-byte UTF-8 se= quence.=0A    atcom.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper= .createSAXParseException(ErrorHandlerWrapper.java:236)=0A    at com.sun.org= .apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWra= pper.java:215)=0A    at com.sun.org.apache.xerces.internal.impl.XMLErrorRep= orter.reportError(XMLErrorReporter.java:386)=0A    at com.sun.org.apache.xe= rces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:316)= =0A    atcom.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScanner= Impl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java= :1810)=0A    atcom.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentS= cannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:368)=0A    at c= om.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Con= figuration.java:834)=0A    at com.sun.org.apache.xerces.internal.parsers.XM= L11Configuration.parse(XML11Configuration.java:764)=0A    at com.sun.org.ap= ache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:148)=0A    at c= om.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractS= AXParser.java:1242)=0A    at org.dom4j.io.SAXReader.read(SAXReader.java:334= )=0A    at org.dom4j.io.SAXReader.read(SAXReader.java:222)=0A    at Test.pa= rse(Test.java:51)=0A    at Test.main(Test.java:25)=0ANested exception: org.= xml.sax.SAXParseException: Invalid byte 2 of 3-byte UTF-8 sequence.=0A    a= tcom.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParse= Exception(ErrorHandlerWrapper.java:236)=0A    at com.sun.org.apache.xerces.= internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:215)= =0A    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportEr= ror(XMLErrorReporter.java:386)=0A    at com.sun.org.apache.xerces.internal.= impl.XMLErrorReporter.reportError(XMLErrorReporter.java:316)=0A    atcom.su= n.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentCo= ntentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1810)&amp;lt;?xmlvers= ion=3D"1.0" encoding=3D"UTF-8"?&amp;gt;=0A=0A&amp;lt;go&amp;gt;=C3=A4=C3=B6=C3=BC&amp;lt;/go&amp;gt;=0A=0A    = atcom.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.sc= anDocument(XMLDocumentFragmentScannerImpl.java:368)=0A    at com.sun.org.ap= ache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.ja= va:834)=0A    at com.sun.org.apache.xerces.internal.parsers.XML11Configurat= ion.parse(XML11Configuration.java:764)=0A    at com.sun.org.apache.xerces.i= nternal.parsers.XMLParser.parse(XMLParser.java:148)=0A    at com.sun.org.ap= ache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java= :1242)=0A    at org.dom4j.io.SAXReader.read(SAXReader.java:334)=0A    at or= g.dom4j.io.SAXReader.read(SAXReader.java:222)=0A    at Test.parse(Test.java= :51)=0A    at Test.main(Test.java:25)=0A-------&amp;lt;snap&amp;gt;-------=0A=0A=0A=0A=0A= =0A=0A</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Invalid byte 2 of 3-byte UTF-8 sequence</header>
    <date>Fri Sep 23 08:42:00 CEST 2005</date>
    <body>Instead of a FileWriter try to use a FileOutputStream instead. Specifying a Writer assumes that the encoding is handled by the specified Writer, this is normally (unless otherwise specified) the platform's default encoding. Using an OutputStream will use the encoding specified in the OutputFormat. Regards, Edwin http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Steaming using simple paths</header>
    <date>Wed Sep 21 21:34:00 CEST 2005</date>
    <body>I've been using dom4j for a long while and I like it a lot. But, lately, I've sort of been forced to use XOM/NUX/Saxon for a special feature and I don't really like that. So the question is if I can do the same with DOM4J. I want: To specify a simple xpath-like expression (nothing fancy, don't even require any kind of predicates (although it could be nice to have) and the only needed axis is the child axis) and feed into a streaming parser and when it hits a node matching the expression it calls a callback interface with a node for the match. That is, if the match is an element with a lot of content, the callback will be fed a dom4j element with all contents. This way I can parse large documents without having it all in memory (some parts may never be matched at all (although still parsed I guess)) while still using dom4j in a pretty "normal" way. Is this possible? I'm open to do some coding to make it happen if someone can give some good pointers. Thanks, /Marcus</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Steaming using simple paths</header>
    <date>Thu Sep 22 09:12:00 CEST 2005</date>
    <body>You can register an ElementHandler for a specific path with the SAXReader using the addHandler() method. See FAQ for more information: http://www.dom4j.org/faq.html#large-doc Or you could use the SAXModifier for this? http://www.dom4j.org/apidocs/org/dom4j/io/SAXModifier.html Regards, Edwin http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] In memory validation</header>
    <date>Wed Sep 14 15:30:00 CEST 2005</date>
    <body>I have a question regarding this feature. Does it exist in dom4j or for any of the java dom implemtations? All I could find on this was that someone was working on it for jdom (in the jdom faq), but no idea of the current status of this. Regards, Mike</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] In memory validation</header>
    <date>Tue Sep 20 08:30:00 CEST 2005</date>
    <body>Normally you use the underlying parser to perform the validation. You could use for instance something like this to validate against a=20 XML Schema: =09=09 =20 parser.setProperty( " http://java.sun.com/xml/jaxp/properties/schemaLanguage= ",=20 " http://www.w3.org/2001/XMLSchema parser.setProperty( " http://java.sun.com/xml/jaxp/properties/schemaSource",= =20 =09=09 =20 Regards, Edwin http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] In memory validation</header>
    <date>Tue Sep 20 15:30:00 CEST 2005</date>
    <body>Edwin Dankert wrote: However, OP was asking about validating a DOM *in memory*. Isn't there a way to validate a Document instance without reading if from a file at the same time? This seems like a common use case; you build up a Document and want to make sure you've followed your DTD/schema before writing it out. b</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] In memory validation</header>
    <date>Tue Sep 20 16:03:00 CEST 2005</date>
    <body>Fair enough ... In that case, you could use the org.dom4j.io.DocumentInputSource and do=20 something like this: factory.setNamespaceAware( true); =20 parser.setProperty( " http://java.sun.com/xml/jaxp/properties/schemaLangua= ge", " http://www.w3.org/2001/XMLSchema parser.setProperty( " http://java.sun.com/xml/jaxp/properties/schemaSource= ", Or use the org.dom4j.io.SAXValidator class: factory.setNamespaceAware( true); =20 =20 parser.setProperty( " http://java.sun.com/xml/jaxp/properties/schemaLangua= ge", " http://www.w3.org/2001/XMLSchema parser.setProperty( " http://java.sun.com/xml/jaxp/properties/schemaSource= ", Regards, Edwin http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Dom4j - encryption</header>
    <date>Wed Sep 14 11:33:00 CEST 2005</date>
    <body>Hi, We would like to use Dom4j in a commercial product at Ericsson and have some questions about the product: Can anyone tell me if the Java code contains encryption - or even better can anyone tell me what export code (ECCN) to use when distributing our product with Dom4j? Are anyone aware of possible patents in the source code? -- Best regards, Henrik Ehlig Petersen</body>
  </mail>
  <mail>
    <header>[dom4j-user] Help in namespace issue.</header>
    <date>Sat Sep 17 12:03:00 CEST 2005</date>
    <body>Hi All, I am trying to convert a org.w3c.dom.Document to a org.dom4j.Document. After conversion,  i try to write the document using a XMLWriter. Now the xml document is not well formed. It has got a namespace by name "xml" because of which an error occurs saying that the reserved keyword cannot be used as a namespace name. I tried removing the namespace but in vain. Can anyone please let me know the process of removing the namespace which is set. Thanks in advance Karthik __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Help in namespace issue.</header>
    <date>Sat Sep 17 13:31:00 CEST 2005</date>
    <body>Would it be possible to give the input and result document? Thanks, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] Error using SelectSingleNode or SelectNode.......</header>
    <date>Tue Sep 13 19:43:00 CEST 2005</date>
    <body>Hi, I have just started using dom4j to parse the xml. I am having problem using selectNodes and SelectSingleNode. I have a simple xml as follows: http://scheduall.com/webservices/ What I want to do is check to see if I received any ERRORS. This means that i f ERROR tag is found inthe XML. If ERROR tag is found then I would also like to read the ERROR txt. But for some resons it is not working: Here is what I have done last: if (list.size() &amp;gt; 0) if (node != null) if (xPath.selectSingleNode("//Error") != null) List size =&amp;gt;1 List[0] = =&amp;gt;org.dom4j.tree.DefaultElement@... [Element: &amp;lt;SchedRemote uri: http://scheduall.com/webservices/ attributes: []/&amp;gt;] ERROR Found I cannot seem to get the node ERROR, when I set doc.selectSingleNode ("/Error") OR when I set the doc.selectNodes to be (//Response) or (//Error) or (//SchedRemote/Error). What am I doing wrong? and any help would be appreciated.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error using SelectSingleNode or SelectNode.......</header>
    <date>Tue Sep 13 20:38:00 CEST 2005</date>
    <body>You are searching for elements that are not in a namespace and your=20 elements are defined in the ' http://scheduall.com/webservices/ ' default=20 namespace. Please see previous postings about how to handle elements=20 in default namespaces correctly. Regards, Edwin http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Error using SelectSingleNode or SelectNode.......</header>
    <date>Wed Sep 14 14:16:00 CEST 2005</date>
    <body>Thanks Edwin for pointing me to the right direction. After searching other messages (epecially the one from Barbara Warwood), I was able to resolve the problem. Here it is: javax.xml.parsers.DocumentBuilderFactory dbf // Step 2: create a DocumentBuilder java.io.ByteArrayInputStream bIS = new // Step 3: parse the input file to get a Document object // Pass the w3c document to dom4j so that it will work with namespaces if (nd != null)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error using SelectSingleNode or SelectNode.......</header>
    <date>Wed Sep 14 15:11:00 CEST 2005</date>
    <body>I don't think this is the best solution, are you sure you want to turn=20 off namespace-aware parsing? It would have been a lot easier to define a prefix namespace=20 mapping like below. map.put( "sws", " http://scheduall.com/webservices/ Regards, Edwin http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to get XInclude to work with dom4j</header>
    <date>Wed Sep 14 08:39:00 CEST 2005</date>
    <body>Hi=20all I=20got=20stuck=20with=20some=20(simple)=20problems.=20I=20need=20XInclude= =20which,=20as=20I understand,=20is=20part=20of=20JDK=205.=20The=20dom4j=20docu=20says=20to=20= include=20jaxp.jar=20in the=20classpath=20(but=20obviously=20there=20is=20no=20jaxp.jar).=20I=20wa= nt=20to=20use=20dom4j because=20of=20it's=20easy=20to=20use=20API. Can=20someone=20please=20provide=20me=20with=20some=20sample=20code=20on=20= how=20to=20set=20the JAXP=20parser=20and=20what=20needs=20to=20be=20set=20to=20be=20able=20to=20= use=20XInclude.=20I've read=20all=20available=20documentation=20but=20couldn't=20work=20out=20how= =20to=20code=20it. I'll=20need=20this=20with=20SAX=20and=20DOM=20(haven't=20yet=20decided=20w= hat=20I'll=20be using). Any=20help=20is=20greatly=20appreciated. Cheers =09Stephan This=20email=20and=20any=20attachments=20is=20confidential,=20may=20be=20l= egally=20privileged=20and=20is=20intended=20for=20the=20use=20of=20the=20a= ddressee=20only.=20If=20you=20are=20not=20the=20intended=20recipient,=20pl= ease=20note=20that=20any=20use,=20disclosure,=20printing=20or=20copying=20= of=20this=20email=20is=20strictly=20prohibited=20and=20may=20be=20unlawful= .=20If=20received=20in=20error,=20please=20delete=20this=20email=20and=20a= ny=20attachments=20and=20confirm=20this=20to=20the=20sender.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to get XInclude to work with dom4j</header>
    <date>Wed Sep 14 13:44:00 CEST 2005</date>
    <body>&amp;gt; The dom4j docu says to include jaxp.jar in the classpath (but obviously= =20 There is no need to include this in your classpath anymore, currently=20 Java 5.0 includes the JAXP 1.3 API which allows for setting the 'state=20 of XInclude processing'. The following code only works with a JAXP 1.3 compatible parser, make sure you have a JAXP 1.3 parser available in your classpath: =09=09 =20 =09=09 =20 Regards, Edwin http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Invalid XPath Expression although XML-File is read</header>
    <date>Tue Sep 13 08:57:00 CEST 2005</date>
    <body>Hi, I'm dealing with servlets, tomcat5.028, java1.5.0 and dom4j1.6.1. I would like to process a xml-file by means of a xml_utility-class. I always get an Invalid XPath Expression-Exception with the code you can see below, but when I'm using an Iterator like: it works. As soon as I try to use (see all the code below)I get an Exception (invalid XPath Expression), no matter what expression it is. Is there a solution? Thanks, Peter here is a simmple xml-File: here is the simple java XML_Util-class: File f=new</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Invalid XPath Expression although XML-File is read</header>
    <date>Tue Sep 13 10:49:00 CEST 2005</date>
    <body>-----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 Solution: I just put the jaxen-1.1-beta-7.jar in the library-path. Then it worked. I'm wondering why this has to be done because the needed classes/methods should already be included in the dom4j-1.6.1.jar. Any comments? Peter Peter Emmerling wrote: http://www.sqe.com/bsce5sf https://lists.sourceforge.net/lists/listinfo/dom4j-user -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.4.0 (GNU/Linux) Comment: Using GnuPG with Thunderbird - http://enigmail.mozdev.org iD8DBQFDJq634JlqBAoRt3sRAnQbAJ9Tr3ra8x+Qqfj9FZpHtu5juKxZBQCeLi/z BqTiVueQ3gdgvYg8h9FYqAE= =DXPC -----END PGP SIGNATURE-----</body>
  </mail>
  <mail>
    <header>[dom4j-user] org.dom4j.Branch</header>
    <date>Mon Sep 12 19:11:00 CEST 2005</date>
    <body>I'm developing a desktop application that uses the dom4j API. I've exported it to a jar file and put it in a directory with the dom4j.jar (1.6.1). The problem is that, when trying to execute de jar with the command java -jar application.jar -cp "CLASSPATH" ------(jre1.5.0_04) I got the following message: ClassNotFoundException org/dom4j/Branch both in Linux (kernel 2.6) and Windows (any of them). Does anybody know if there is any problem with that Branch class? (Of course I've got it in its correct place!) Cheers Fernando __________________________________________________ Correo Yahoo! Espacio para todos tus mensajes, antivirus y antispam ¡gratis! ¡Abrí tu cuenta ya! - http://correo.yahoo.com.ar</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] org.dom4j.Branch</header>
    <date>Tue Sep 13 02:46:00 CEST 2005</date>
    <body>Does "CLASSPATH" include "."? Java won't look anywhere unless you tell it to (hmm, though the "JDK_HOME/ext" directory might be an exception to that), so you have to tell it even to look in the current directory. Note that you can also put the classpath in your manifest file in your jar. Google around for how to do it... I remember there is a gotcha with wrapping a long classpath line. good luck Ben Fernando W wrote: http://correo.yahoo.com.ar http://www.sqe.com/bsce5sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Licensing</header>
    <date>Sat Sep 10 19:48:00 CEST 2005</date>
    <body>Hi there, I was just wondering about the licenses for the various dependencies of dom4j. Is the dom4j distribution actually in compliance with the various licenses - I would have expected to see more licensing files in the lib directories. It was suggested earlier in the mailing list archives that the Apache license be included in the build. Before I recommend dom4j for a project, I want to be sure that the licenses are all in order. Looking at some of the links provided on the Dependencies page, I can see that many of the libraries are Apache projects - this would suggest that they have an Apache license right? I also found the license for jtidy-4aug2000r7-dev.jar on Sourceforge and it seems quite liberal as well. But for the following: msv-20030807.jar relaxngDatatype-20030807.jar xpp3-1.1.3.3.jar xsdlib-20030807.jar I couldn't find any license information at all on their respective web sites (Sun and University of Indiana). Does anyone know what their licenses are? Also, is the xml-apis-2.0.2.jar file also from Apache? Thanks, Andy __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] Pretty print and System.out</header>
    <date>Tue Sep 06 16:59:00 CEST 2005</date>
    <body>Hi, I am having a problem with System.out in that after I assign it to the XMLWriter as in the famous pretty print example given in the quick start guide, it prints on the very first occasion of being called but no longer prints after that. I even tried sticking System.out.println("...") statements in other parts of the code after the aassignment and one print had been carried out and nothing was displayed on the screen. The code for the function I am calling is as follows (note I first write to disk then write to the screen in the code. The section of code I am concerned with is the second one): public void writeToDisk() throws IOException // Write the document content to disk try FileWriter xmlDiskFileWriter = new FileWriter(location+ fileName+ // Write the document to disk XMLWriter xmlDiskWriter = new XMLWriter(xmlDiskFileWriter, // Pretty print the document to System.out catch (IOException ioException) System.out.println("XDIMEHD_Document.writeToDisk:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Pretty print and System.out</header>
    <date>Tue Sep 06 20:23:00 CEST 2005</date>
    <body>I think this is the problem: This closes the writer which closes the underlying (System.out) OutputStrea= m. Regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Pretty print and System.out</header>
    <date>Wed Sep 07 08:07:00 CEST 2005</date>
    <body>Thank you very much. That solved it. Coding can be so frustrating sometimes http://www.sqe.com/bsce5sf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Howto: Remove empty merge fields in Word after Merge</header>
    <date>Tue Oct 25 13:07:00 CEST 2005</date>
    <body>SGVsbG8sCklzIHRoZXJlIGEgd2F5IHRvIHJlbW92ZSBlbXB0eSBtZXJnZSBmaWVsZHMsIGkuZS4g dGhvc2UgbWVyZ2UgZmllbGRzIGluIGEKd29yZCBmaWxlIHRoYXQgaGF2ZSBubyBkYXRhIGFzc29j aWF0ZWQgd2l0aCB0aGVtIGZvciBjZXJ0YWluIHJlY29yZHMgaW4gdGhlCmRhdGEgc291cmNlIChh ZnRlciB3ZSBtZXJnZSB0aGUgZGF0YSB3aXRoIFdvcmQpID8KSSBhbSB3b25kZXJpbmcgaWYgdGhp cyBjYW4gYmUgYWNoaWV2ZWQgdmlhIGEgZG9jdW1lbnQgb3IgcGFyYWdyYXBoIG9yIG1lcmdlCmZp ZWxkIHByb3BlcnR5IGluIFhNTD8KIEFwcHJlY2lhdGUgYW55IGhlbHAgeW91IGNhbiBwcm92aWRl LgpSZWdhcmRzLAoKLS0KT3l0dW4gQf5r/W4Kb3l0dW4xMkBnbWFpbC5jb20K</body>
  </mail>
  <mail>
    <header>[dom4j-user] question about Unicode character processing</header>
    <date>Mon Oct 17 22:37:00 CEST 2005</date>
    <body>I've searched and searched for my problem, and this is my last hope. Apache Maven 1.x uses Dom4j for various xml processing and provides a Jelly tag for parsing XML into a DefaultDocument. I'm experiencing Unicode characters being translated into "?" and the hooks are definitely not what I need. I've replaced the 1.4 version shipped with Maven to 1.6.1 and have created a simple test goal in order to replicate the behavior. I've tried to two different ways of parsing the file, one through using a StringReader that's opened a file in UTF-8, and the other using the default xml:parse tag in Jelly. Both with the same results. So, my question is, has anyone else experienced anything similar? Should I be posting my question on the Maven list? Any ideas? Thanks in advance, -RR- ---begin sample xml--- number CDATA #REQUIRED ---end sample xml--- ---being result snippet--- [echo] org.dom4j.tree.DefaultElement@... [Element: &amp;amp;lt;accounts attributes: []/&amp;amp;gt;] [echo] Oct 2, 2001 [echo] 8:15 am [echo] org.dom4j.tree.DefaultElement@... [Element: &amp;amp;lt;account attributes: [org.dom4j.tree.DefaultAttribute@... [Attribute: name number value "987457"], org.dom4j.tree.DefaultAttribute@... [Attribute: name type value "savings? ?"]]/&amp;amp;gt;] [echo] 6821.48 ? ---end result snippet---</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question about Unicode character processing</header>
    <date>Tue Oct 18 08:01:00 CEST 2005</date>
    <body>I don't think this is a dom4j issue, the problem is more likely to be caused by Maven's handling of none US-ASCII characters. I think you notice similar behavior using dom4j because you probably use System.out to display your result and System.out (in this case) does not seem to be able to handle non US-ASCII characters correctly, showing a '?' instead of the character. The best way to test unicode problems is by writing a file to disk and reading this file in a unicode enabled editor (or browser). Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] question about Unicode character processing</header>
    <date>Tue Oct 18 18:31:00 CEST 2005</date>
    <body>Pretty much after I sent my post I realized that this could be a JVM/System issue. Further testing, and loading NLS into my kernel resolved the problem. The System.out issue was resolved by setting my LC_ALL=3D"en_US.utf8" and then I proceeded with my kernel modification. On 10/18/05, Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote: http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Casting a org.w3c.dom Node to a org.dom4j Node</header>
    <date>Fri Oct 14 20:44:00 CEST 2005</date>
    <body>HI, All I am having trouble wih this ... I have an org.w3c.dom.Node and I need to cast/convert it to an org.dom4j.Node, however I can't figure out how... Does anybody know how?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Casting a org.w3c.dom Node to a org.dom4j Node</header>
    <date>Mon Oct 17 06:57:00 CEST 2005</date>
    <body>&amp;gt; I have an org.w3c.dom.Node and I need to cast/convert it to an There is no way of converting an org.w3c.dom.Node to an org.dom4j.Node. You can however use the DOMReader to convert an org.w3c.dom.Document to an org.dom4j.Document. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] XmlWriter equivilent in dom4j?</header>
    <date>Sat Oct 08 22:26:00 CEST 2005</date>
    <body>If I want to create an xml file without first building up a DOM, is there a way to do this? I am creating the nodes in order so I can just write straight to disk. ??? - thanks - dave David Thielen http://www.windwardreports.com 303-499-2544</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XmlWriter equivilent in dom4j?</header>
    <date>Mon Oct 10 19:38:00 CEST 2005</date>
    <body>You might be able to implement your own XMLReader to generate your own SAX events and use the SAXModifier to serialize these events? This gives a good example of how to create a XMLReader: http://www.developer.com/xml/article.php/2108031 Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XmlWriter equivilent in dom4j?</header>
    <date>Mon Oct 10 19:59:00 CEST 2005</date>
    <body>Not XmlReader, XmlWriter. I have the reading part going great with SAX. But when I create xml I build up an entire DOM and then write it - but I never need the DOM and would like to write it on the fly as I go. Thanks - dave David Thielen http://www.windwardreports.com 303-499-2544 -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Monday, October 10, 2005 1:38 PM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] XmlWriter equivilent in dom4j? You might be able to implement your own XMLReader to generate your own SAX events and use the SAXModifier to serialize these events? This gives a good example of how to create a XMLReader: http://www.developer.com/xml/article.php/2108031 Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XmlWriter equivilent in dom4j?</header>
    <date>Mon Oct 10 20:06:00 CEST 2005</date>
    <body>Have a look at org.dom4j.io.XMLModifier, this is I think perfect for what you want. You probably don't even have to implement the XMLReader as suggested, it's just that I think using this would be a very elegant solution. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XmlWriter equivilent in dom4j?</header>
    <date>Tue Oct 11 07:46:00 CEST 2005</date>
    <body>That is off-course org.dom4j.io.SAXModifier. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Element.addElement() &amp;amp; namespaces</header>
    <date>Mon Oct 10 03:53:00 CEST 2005</date>
    <body>Calling Element.addElement("name") gives different results from Element.addElement("name", "default_uri") where in the parent (not root) node I have xmlns="default_uri" Shouldn't they be identical? Example 1: Element elem = xmlElement.addElement("CustomDocumentProperties", Element sub = elem.addElement("WindwardReports", Produces: Example 2: Element elem = xmlElement.addElement("CustomDocumentProperties", Produces: Why is it adding the xmlns="urn:schemas-microsoft-com:office:spreadsheet" in example 2 to &amp;lt;WindwardReports ??? - thanks - dave David Thielen http://www.windwardreports.com 303-499-2544</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Element.addElement() &amp;amp; namespaces</header>
    <date>Mon Oct 10 15:34:00 CEST 2005</date>
    <body>&amp;gt; Calling Element.addElement("name") gives different results from No, they should be different, in the first example you add a 'name' element without a namespace. In the second example you add a 'name' element with the 'default_uri' namespace. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Element.addElement() &amp;amp; namespaces</header>
    <date>Mon Oct 10 15:54:00 CEST 2005</date>
    <body>But isn't adding without a namespace the same result as adding with the default namespace? Because if there is a default namespace, don't all elements that are not assigned a namespace then put in the default namespace? Thanks - dave David Thielen http://www.windwardreports.com 303-499-2544 -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Monday, October 10, 2005 9:35 AM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Element.addElement() &amp;amp; namespaces No, they should be different, in the first example you add a 'name' element without a namespace. In the second example you add a 'name' element with the 'default_uri' namespace. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Element.addElement() &amp;amp; namespaces</header>
    <date>Mon Oct 10 19:52:00 CEST 2005</date>
    <body>&amp;gt; Because if there is a default namespace, don't all elements that are not I can see your point and that's sort-of how it works in an XML document however this same mechanism doesn't work for dom4j. When creating nodes, you have to specifically specify the namespace, otherwise the element will not be defined in any namespace. Maybe the way you expected it to work should however be considered for a future version, since this would be more in-line with the way XML behaves? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] xml parsing / pipelining</header>
    <date>Sun Oct 09 20:56:00 CEST 2005</date>
    <body>Hello all, Pipelining was recently mentioned on this list as a solution to a problem.  I have done some research and also looked at Cocoon which appears to use pipelining.  Anyone have a simple "hello world" standalone example based on dom4j? most appreciated.!</body>
  </mail>
  <mail>
    <header>[dom4j-user] Issue of size in XMLWriter.write method</header>
    <date>Thu Oct 06 06:14:00 CEST 2005</date>
    <body>Hi Friends, I'm facing one issue with write method of  XMLWriter. My aim is to converts a single line of string (which is a valid xml) into the formatted xml. I'm using dom4j 1.5.2 I written one method that accepts the input as unformatted string and returns the xml formatted string. I'm using XMLWriter class write(Document doc) method which writes on OutputStream either System.out or a File But I required to store the String and writing into a file is restricted. So I decided to use PipeWriter-PipeReader (any ulternate is welcomed) to read the output stream. Problem is that if my string is too big Apx. 15000 characters then execution of write method never ends. No Exeption is occuring, it just go infinite. Please help me by analyzing the following source code and suggestting the solution. I just need a formatted xml to show in a text area. Any alternate will also work. Source Code -------------------------------------- public class FormatXML public static String xmlDocToString(Document document) try // It works, if OutputStream is System.out and not PipedWriter // Storing the formatted xml into the string while ((input = in.readLine()) != null) catch (Exception e) //------------------------------------------------------------------------- public static void main(String args[]) throws Exception String strRequest = "&amp;lt;myContractSummary xmlns=\"urn:cnt-service\"&amp;gt;&amp;lt;ServiceInfo xmlns=\"//xml/common_type\"&amp;gt;&amp;lt;DateTime xmlns=\"\"&amp;gt;2005.09.30 at 09:40:01 IST&amp;lt;/DateTime&amp;gt;&amp;lt;Guid xmlns=\"\"&amp;gt;dl2-aIpDv62BTbrz0-qZi5m&amp;lt;/Guid&amp;gt;&amp;lt;/ServiceInfo&amp;gt;&amp;lt;ContractSummaryInfo xmlns=\"//xml/csm_type\"&amp;gt;&amp;lt;GACId xmlns=\"\"&amp;gt;6768&amp;lt;/GACId&amp;gt;&amp;lt;GACCode xmlns=\"\"&amp;gt;000010A&amp;lt;/GACCode&amp;gt;&amp;lt;ClientName xmlns=\"\"&amp;gt;SUJATHA &amp;lt;/ClientName&amp;gt;&amp;lt;AssociatedContracts xmlns=\"\"/&amp;gt;&amp;lt;IssueDate xmlns=\"\"&amp;gt;09/09/2004&amp;lt;/IssueDate&amp;gt;&amp;lt;ClientSpecInfo xmlns=\"\"&amp;gt;&amp;lt;TextContents&amp;gt; COMMENTS ONLY Mentioned!!!!!!!!!&amp;lt;/TextContents&amp;gt;&amp;lt;Documents&amp;gt;&amp;lt;Documents&amp;gt;&amp;lt;DocumentID&amp;gt;1&amp;lt;/DocumentID&amp;gt;&amp;lt;DocumentName&amp;gt;NO DOCS&amp;lt;/DocumentName&amp;gt;&amp;lt;DocumentURL&amp;gt;WWW.YAHOO.COM&amp;lt;/DocumentURL&amp;gt;&amp;lt;/Documents&amp;gt;&amp;lt;Documents&amp;gt;&amp;lt;DocumentName&amp;gt;My Doc&amp;lt;/DocumentName&amp;gt;" + "&amp;lt;DocumentURL&amp;gt;my.yahoo.com&amp;lt;/DocumentURL&amp;gt;&amp;lt;/Documents&amp;gt;&amp;lt;/Documents&amp;gt;&amp;lt;/ClientSpecInfo&amp;gt;&amp;lt;Products xmlns=\"\"&amp;gt;&amp;lt;Products&amp;gt;&amp;lt;TypeId&amp;gt;12&amp;lt;/TypeId&amp;gt;&amp;lt;Type&amp;gt;GIC-C/E&amp;lt;/Type&amp;gt;&amp;lt;Code&amp;gt;MC&amp;lt;/Code&amp;gt;&amp;lt;Description&amp;gt;GIC - Callable/Extendable&amp;lt;/Description&amp;gt;&amp;lt;/Products&amp;gt;&amp;lt;Products&amp;gt;&amp;lt;TypeId&amp;gt;13&amp;lt;/TypeId&amp;gt;&amp;lt;Type&amp;gt;GIC-C/F&amp;lt;/Type&amp;gt;&amp;lt;Code&amp;gt;MH&amp;lt;/Code&amp;gt;&amp;lt;Description&amp;gt;GIC - Cap/Flr (w/-w/o callble/extendble)&amp;lt;/Description&amp;gt;&amp;lt;/Products&amp;gt;&amp;lt;Products/&amp;gt;&amp;lt;Products/&amp;gt;&amp;lt;Products/&amp;gt;&amp;lt;Products/&amp;gt;&amp;lt;Products/&amp;gt;&amp;lt;/Products&amp;gt;&amp;lt;Contacts xmlns=\"\"&amp;gt;&amp;lt;Contacts&amp;gt;&amp;lt;SequenceNo&amp;gt;1&amp;lt;/SequenceNo&amp;gt;&amp;lt;Name&amp;gt;Sujatha Malik&amp;lt;/Name&amp;gt;&amp;lt;Title&amp;gt;Pension Benefit Consultant&amp;lt;/Title&amp;gt;&amp;lt;Address&amp;gt;ADD&amp;lt;/Address&amp;gt;&amp;lt;Phone/&amp;gt;&amp;lt;Fax/&amp;gt;&amp;lt;Email/&amp;gt;&amp;lt;/Contacts&amp;gt;&amp;lt;Contacts&amp;gt;&amp;lt;SequenceNo&amp;gt;2&amp;lt;/SequenceNo&amp;gt;" + "&amp;lt;Name&amp;gt;Ravi Jhon&amp;lt;/Name&amp;gt;&amp;lt;Title&amp;gt;Consultant&amp;lt;/Title&amp;gt;&amp;lt;Address&amp;gt;Add&amp;lt;/Address&amp;gt;&amp;lt;Phone/&amp;gt;&amp;lt;Fax/&amp;gt;&amp;lt;Email/&amp;gt;&amp;lt;/Contacts&amp;gt;&amp;lt;Contacts/&amp;gt;&amp;lt;Contacts/&amp;gt;" + "&amp;lt;Contacts/&amp;gt;&amp;lt;Contacts/&amp;gt;&amp;lt;Contacts/&amp;gt;&amp;lt;Contacts/&amp;gt;&amp;lt;Contacts/&amp;gt;&amp;lt;Contacts/&amp;gt;&amp;lt;Contacts/&amp;gt;&amp;lt;Contacts/&amp;gt;&amp;lt;/Contacts&amp;gt;&amp;lt;AnnuityProducts xmlns=\"\"&amp;gt;" + "&amp;lt;PaymentInfo&amp;gt;&amp;lt;PaymentDueDay&amp;gt;2&amp;lt;/PaymentDueDay&amp;gt;&amp;lt;PaymentDueDayOther/&amp;gt;&amp;lt;PaymentMethod&amp;gt;6&amp;lt;/PaymentMethod&amp;gt;&amp;lt;CalculationMethod&amp;gt;3&amp;lt;/CalculationMethod&amp;gt;" + "&amp;lt;ContractStatus&amp;gt;1&amp;lt;/ContractStatus&amp;gt;&amp;lt;DiscontinuationDate/&amp;gt;&amp;lt;/PaymentInfo&amp;gt;&amp;lt;BranchInformation&amp;gt;&amp;lt;FTBranches&amp;gt;1000&amp;lt;/FTBranches&amp;gt;&amp;lt;GPAYPaymentAccCodes&amp;gt;" + "&amp;lt;GPAYPaymentAccCodes&amp;gt;&amp;lt;Key&amp;gt;2&amp;lt;/Key&amp;gt;&amp;lt;Value&amp;gt;123-45&amp;lt;/Value&amp;gt;&amp;lt;/GPAYPaymentAccCodes&amp;gt;&amp;lt;/GPAYPaymentAccCodes&amp;gt;&amp;lt;GPAYCheckBranches&amp;gt;No Branch&amp;lt;/GPAYCheckBranches&amp;gt;" + "&amp;lt;GPAYSpecialBranches&amp;gt;No Branch&amp;lt;/GPAYSpecialBranches&amp;gt;&amp;lt;/BranchInformation&amp;gt;&amp;lt;ExtraContractualPayments&amp;gt;&amp;lt;FlowThrough&amp;gt;-1&amp;lt;/FlowThrough&amp;gt;&amp;lt;FlowThroughPaymentsDescription&amp;gt;" + "&amp;lt;PaymentsDescription&amp;gt;&amp;lt;SequenceNo&amp;gt;1&amp;lt;/SequenceNo&amp;gt;&amp;lt;AccountNo&amp;gt;0&amp;lt;/AccountNo&amp;gt;&amp;lt;AccountDescription/&amp;gt;&amp;lt;/PaymentsDescription&amp;gt;&amp;lt;PaymentsDescription&amp;gt;&amp;lt;SequenceNo&amp;gt;2&amp;lt;/SequenceNo&amp;gt;" + "&amp;lt;AccountNo&amp;gt;0&amp;lt;/AccountNo&amp;gt;&amp;lt;AccountDescription/&amp;gt;&amp;lt;/PaymentsDescription&amp;gt;&amp;lt;PaymentsDescription&amp;gt;&amp;lt;SequenceNo&amp;gt;3&amp;lt;/SequenceNo&amp;gt;&amp;lt;AccountNo&amp;gt;0&amp;lt;/AccountNo&amp;gt;&amp;lt;AccountDescription/&amp;gt;" + "&amp;lt;/PaymentsDescription&amp;gt;&amp;lt;PaymentsDescription&amp;gt;&amp;lt;SequenceNo&amp;gt;4&amp;lt;/SequenceNo&amp;gt;&amp;lt;AccountNo&amp;gt;0&amp;lt;/AccountNo&amp;gt;&amp;lt;AccountDescription/&amp;gt;&amp;lt;/PaymentsDescription&amp;gt;&amp;lt;PaymentsDescription&amp;gt;" + "&amp;lt;SequenceNo&amp;gt;5&amp;lt;/SequenceNo&amp;gt;&amp;lt;AccountNo&amp;gt;0&amp;lt;/AccountNo&amp;gt;&amp;lt;AccountDescription/&amp;gt;&amp;lt;/PaymentsDescription&amp;gt;&amp;lt;PaymentsDescription&amp;gt;&amp;lt;SequenceNo&amp;gt;6&amp;lt;/SequenceNo&amp;gt;&amp;lt;AccountNo&amp;gt;0&amp;lt;/AccountNo&amp;gt;" + "&amp;lt;AccountDescription/&amp;gt;&amp;lt;/PaymentsDescription&amp;gt;&amp;lt;/FlowThroughPaymentsDescription&amp;gt;&amp;lt;InsMedDeductions&amp;gt;-1&amp;lt;/InsMedDeductions&amp;gt;&amp;lt;MedicalDeductionsPaymentsDescription&amp;gt;&amp;lt;PaymentsDescription&amp;gt;" + "&amp;lt;SequenceNo&amp;gt;1&amp;lt;/SequenceNo&amp;gt;&amp;lt;AccountNo&amp;gt;0&amp;lt;/AccountNo&amp;gt;&amp;lt;AccountDescription/&amp;gt;&amp;lt;/PaymentsDescription&amp;gt;&amp;lt;PaymentsDescription&amp;gt;&amp;lt;SequenceNo&amp;gt;2&amp;lt;/SequenceNo&amp;gt;&amp;lt;AccountNo&amp;gt;0&amp;lt;/AccountNo&amp;gt;&amp;lt;AccountDescription/&amp;gt;" + "&amp;lt;/PaymentsDescription&amp;gt;&amp;lt;PaymentsDescription&amp;gt;&amp;lt;SequenceNo&amp;gt;3&amp;lt;/SequenceNo&amp;gt;&amp;lt;AccountNo&amp;gt;0&amp;lt;/AccountNo&amp;gt;&amp;lt;AccountDescription/&amp;gt;&amp;lt;/PaymentsDescription&amp;gt;&amp;lt;PaymentsDescription&amp;gt;&amp;lt;SequenceNo&amp;gt;4&amp;lt;/SequenceNo&amp;gt;" + "&amp;lt;AccountNo&amp;gt;0&amp;lt;/AccountNo&amp;gt;&amp;lt;AccountDescription/&amp;gt;&amp;lt;/PaymentsDescription&amp;gt;&amp;lt;PaymentsDescription&amp;gt;&amp;lt;SequenceNo&amp;gt;5&amp;lt;/SequenceNo&amp;gt;&amp;lt;AccountNo&amp;gt;0&amp;lt;/AccountNo&amp;gt;&amp;lt;AccountDescription/&amp;gt;&amp;lt;/PaymentsDescription&amp;gt;" + "&amp;lt;PaymentsDescription&amp;gt;&amp;lt;SequenceNo&amp;gt;6&amp;lt;/SequenceNo&amp;gt;&amp;lt;AccountNo&amp;gt;0&amp;lt;/AccountNo&amp;gt;&amp;lt;AccountDescription/&amp;gt;&amp;lt;/PaymentsDescription&amp;gt;&amp;lt;/MedicalDeductionsPaymentsDescription&amp;gt;&amp;lt;BillFrequency&amp;gt;2&amp;lt;/BillFrequency&amp;gt;" + "&amp;lt;BillFrequencyOther/&amp;gt;&amp;lt;COLAIncrease&amp;gt;1&amp;lt;/COLAIncrease&amp;gt;&amp;lt;COLAIncreaseDate&amp;gt;No idea&amp;lt;/COLAIncreaseDate&amp;gt;&amp;lt;COLAAppliedAs&amp;gt;9&amp;lt;/COLAAppliedAs&amp;gt;&amp;lt;COLAAppliedBy&amp;gt;11&amp;lt;/COLAAppliedBy&amp;gt;&amp;lt;/ExtraContractualPayments&amp;gt;" + "&amp;lt;RetirementOptions&amp;gt;&amp;lt;PostRetirement&amp;gt;&amp;lt;NormalRetirementAge&amp;gt;65&amp;lt;/NormalRetirementAge&amp;gt;&amp;lt;EarliestRetirementAge&amp;gt;55&amp;lt;/EarliestRetirementAge&amp;gt;&amp;lt;ERAFormsParts&amp;gt;not applicable&amp;lt;/ERAFormsParts&amp;gt;&amp;lt;ERISA&amp;gt;1&amp;lt;/ERISA&amp;gt;" + "&amp;lt;ERISAFormsParts&amp;gt;not applicable&amp;lt;/ERISAFormsParts&amp;gt;&amp;lt;REA&amp;gt;0&amp;lt;/REA&amp;gt;&amp;lt;REAFormsParts/&amp;gt;&amp;lt;SLA&amp;gt;1&amp;lt;/SLA&amp;gt;&amp;lt;SLAOptions&amp;gt;&amp;lt;SLAOptions&amp;gt;47&amp;lt;/SLAOptions&amp;gt;&amp;lt;/SLAOptions&amp;gt;&amp;lt;JS&amp;gt;1&amp;lt;/JS&amp;gt;&amp;lt;JSOptions&amp;gt;&amp;lt;JSOptions&amp;gt;51&amp;lt;/JSOptions&amp;gt;&amp;lt;/JSOptions&amp;gt;" + "&amp;lt;JSOptionOther/&amp;gt;&amp;lt;JSFormsParts/&amp;gt;&amp;lt;CC&amp;gt;1&amp;lt;/CC&amp;gt;&amp;lt;CCOptions&amp;gt;&amp;lt;CCOptions&amp;gt;56&amp;lt;/CCOptions&amp;gt;&amp;lt;/CCOptions&amp;gt;&amp;lt;CCOptionOther/&amp;gt;&amp;lt;CCFormsParts/&amp;gt;&amp;lt;SS&amp;gt;1&amp;lt;/SS&amp;gt;&amp;lt;LumpSums&amp;gt;1&amp;lt;/LumpSums&amp;gt;&amp;lt;LumpSumsFormsParts&amp;gt;No Comments!!!!!!&amp;lt;/LumpSumsFormsParts&amp;gt;" + "&amp;lt;Other&amp;gt;1&amp;lt;/Other&amp;gt;&amp;lt;OtherText&amp;gt;No Comments!!!!!!&amp;lt;/OtherText&amp;gt;&amp;lt;PlanContributory&amp;gt;-1&amp;lt;/PlanContributory&amp;gt;&amp;lt;CashSurrenderValue&amp;gt;0&amp;lt;/CashSurrenderValue&amp;gt;&amp;lt;CashSurrenderFormsParts&amp;gt;No Comments!!!!!!&amp;lt;/CashSurrenderFormsParts&amp;gt;" + "&amp;lt;ChecksSent&amp;gt;&amp;lt;ChecksSent&amp;gt;62&amp;lt;/ChecksSent&amp;gt;&amp;lt;ChecksSent&amp;gt;64&amp;lt;/ChecksSent&amp;gt;&amp;lt;/ChecksSent&amp;gt;&amp;lt;/PostRetirement&amp;gt;&amp;lt;PreRetirement&amp;gt;&amp;lt;SurvivorSpouseOptions/&amp;gt;&amp;lt;Payee&amp;gt;39&amp;lt;/Payee&amp;gt;&amp;lt;EligibleFormsParts&amp;gt;No Comments!!!!!!&amp;lt;/EligibleFormsParts&amp;gt;" + "&amp;lt;Automatic&amp;gt;1&amp;lt;/Automatic&amp;gt;&amp;lt;EEElect&amp;gt;-1&amp;lt;/EEElect&amp;gt;&amp;lt;Waive&amp;gt;1&amp;lt;/Waive&amp;gt;&amp;lt;/PreRetirement&amp;gt;&amp;lt;DeathBenefits&amp;gt;&amp;lt;DeathBenefitsPaid&amp;gt;1&amp;lt;/DeathBenefitsPaid&amp;gt;&amp;lt;DeathBenefitOptions&amp;gt;&amp;lt;DeathBenefitOptions&amp;gt;40&amp;lt;/DeathBenefitOptions&amp;gt;" + "&amp;lt;DeathBenefitOptions&amp;gt;42&amp;lt;/DeathBenefitOptions&amp;gt;&amp;lt;/DeathBenefitOptions&amp;gt;&amp;lt;/DeathBenefits&amp;gt;&amp;lt;DeferredRetirement&amp;gt;&amp;lt;BenefitsStop&amp;gt;0&amp;lt;/BenefitsStop&amp;gt;&amp;lt;DeferRetirement&amp;gt;-1&amp;lt;/DeferRetirement&amp;gt;&amp;lt;BenefitIncrease&amp;gt;0&amp;lt;/BenefitIncrease&amp;gt;" + "&amp;lt;/DeferredRetirement&amp;gt;&amp;lt;Amendments&amp;gt;&amp;lt;AmendmentsHandled&amp;gt;35&amp;lt;/AmendmentsHandled&amp;gt;&amp;lt;HowOffen&amp;gt;fortnightly&amp;lt;/HowOffen&amp;gt;&amp;lt;AmendmentsHandledOther/&amp;gt;&amp;lt;/Amendments&amp;gt;&amp;lt;/RetirementOptions&amp;gt;&amp;lt;Certificates&amp;gt;&amp;lt;CertificatesProduced&amp;gt;1&amp;lt;/CertificatesProduced&amp;gt;" + "&amp;lt;StopDate&amp;gt;01/09/2005&amp;lt;/StopDate&amp;gt;&amp;lt;/Certificates&amp;gt;&amp;lt;Reports&amp;gt;&amp;lt;Reports&amp;gt;&amp;lt;JobName&amp;gt;Simple job&amp;lt;/JobName&amp;gt;&amp;lt;ReportTime&amp;gt;Morning &amp;lt;/ReportTime&amp;gt;&amp;lt;Description&amp;gt;Full report displayed&amp;lt;/Description&amp;gt;&amp;lt;/Reports&amp;gt;&amp;lt;Reports&amp;gt;&amp;lt;JobName/&amp;gt;&amp;lt;ReportTime/&amp;gt;&amp;lt;Description/&amp;gt;" + "&amp;lt;/Reports&amp;gt;&amp;lt;Reports&amp;gt;&amp;lt;JobName/&amp;gt;&amp;lt;ReportTime/&amp;gt;&amp;lt;Description/&amp;gt;&amp;lt;/Reports&amp;gt;&amp;lt;Reports&amp;gt;&amp;lt;JobName/&amp;gt;&amp;lt;ReportTime/&amp;gt;&amp;lt;Description/&amp;gt;&amp;lt;/Reports&amp;gt;&amp;lt;/Reports&amp;gt;&amp;lt;ClientSpecificLetters&amp;gt;&amp;lt;TextContents&amp;gt;No Comments!!!!!!&amp;lt;/TextContents&amp;gt;&amp;lt;Documents&amp;gt;&amp;lt;Documents&amp;gt;" + "&amp;lt;DocumentID&amp;gt;1&amp;lt;/DocumentID&amp;gt;&amp;lt;DocumentName&amp;gt;No Comments!!!!!!&amp;lt;/DocumentName&amp;gt;&amp;lt;DocumentURL&amp;gt;www.hotmail.com&amp;lt;/DocumentURL&amp;gt;&amp;lt;/Documents&amp;gt;&amp;lt;/Documents&amp;gt;&amp;lt;/ClientSpecificLetters&amp;gt;&amp;lt;/AnnuityProducts&amp;gt;&amp;lt;InvestmentMgmtProducts xmlns=\"\"&amp;gt;" + "&amp;lt;DocumentationReceived&amp;gt;&amp;lt;DocumentationReceived&amp;gt;31&amp;lt;/DocumentationReceived&amp;gt;&amp;lt;DocumentationReceived&amp;gt;33&amp;lt;/DocumentationReceived&amp;gt;&amp;lt;/DocumentationReceived&amp;gt;&amp;lt;MMGIC&amp;gt;&amp;lt;ResetRateDate&amp;gt;19/06, 25/06&amp;lt;/ResetRateDate&amp;gt;&amp;lt;CurIntRate&amp;gt;19.60&amp;lt;/CurIntRate&amp;gt;" + "&amp;lt;CurIntRateType&amp;gt;0&amp;lt;/CurIntRateType&amp;gt;&amp;lt;BasicPoints&amp;gt;0.0&amp;lt;/BasicPoints&amp;gt;&amp;lt;ExpenseDeducted&amp;gt;1&amp;lt;/ExpenseDeducted&amp;gt;&amp;lt;DepositsExpected&amp;gt;&amp;lt;DepositsExpected&amp;gt;&amp;lt;DepositAmount&amp;gt;1000.00&amp;lt;/DepositAmount&amp;gt;&amp;lt;DepositDate&amp;gt;09/09/2004&amp;lt;/DepositDate&amp;gt;&amp;lt;/DepositsExpected&amp;gt;" + "&amp;lt;DepositsExpected/&amp;gt;&amp;lt;DepositsExpected/&amp;gt;&amp;lt;/DepositsExpected&amp;gt;&amp;lt;RecurringContribFrom&amp;gt;08/11/2004&amp;lt;/RecurringContribFrom&amp;gt;&amp;lt;RecurringContribThrough&amp;gt;08/04/2005&amp;lt;/RecurringContribThrough&amp;gt;&amp;lt;ExpectedAmount&amp;gt;1000.00&amp;lt;/ExpectedAmount&amp;gt;" + "&amp;lt;ExpectedAmountFreq&amp;gt;16&amp;lt;/ExpectedAmountFreq&amp;gt;&amp;lt;Withdrawals&amp;gt;2&amp;lt;/Withdrawals&amp;gt;&amp;lt;WithdrawalsOther/&amp;gt;&amp;lt;MaturityData&amp;gt;No Comments!!!!!!&amp;lt;/MaturityData&amp;gt;&amp;lt;InterestTakedowns&amp;gt;No Comments!!!!!!&amp;lt;/InterestTakedowns&amp;gt;&amp;lt;/MMGIC&amp;gt;&amp;lt;SeparateAccounts&amp;gt;" + "&amp;lt;FTBranches&amp;gt;01,11,10,00,&amp;lt;/FTBranches&amp;gt;&amp;lt;ExpensesHandled&amp;gt;20&amp;lt;/ExpensesHandled&amp;gt;&amp;lt;DPM&amp;gt;1&amp;lt;/DPM&amp;gt;&amp;lt;SeparateAccountsUsed&amp;gt;&amp;lt;SeparateAccountsUsed&amp;gt;&amp;lt;AccountName&amp;gt;12&amp;lt;/AccountName&amp;gt;&amp;lt;ValuedDaily&amp;gt;1&amp;lt;/ValuedDaily&amp;gt;&amp;lt;FTBranch&amp;gt;1&amp;lt;/FTBranch&amp;gt;" + "&amp;lt;SplitPercentage&amp;gt;100.00&amp;lt;/SplitPercentage&amp;gt;&amp;lt;/SeparateAccountsUsed&amp;gt;&amp;lt;SeparateAccountsUsed&amp;gt;&amp;lt;AccountName&amp;gt;0&amp;lt;/AccountName&amp;gt;&amp;lt;ValuedDaily&amp;gt;0&amp;lt;/ValuedDaily&amp;gt;&amp;lt;FTBranch&amp;gt;0&amp;lt;/FTBranch&amp;gt;&amp;lt;/SeparateAccountsUsed&amp;gt;&amp;lt;SeparateAccountsUsed&amp;gt;" + "&amp;lt;AccountName&amp;gt;0&amp;lt;/AccountName&amp;gt;&amp;lt;ValuedDaily&amp;gt;0&amp;lt;/ValuedDaily&amp;gt;&amp;lt;FTBranch&amp;gt;0&amp;lt;/FTBranch&amp;gt;&amp;lt;/SeparateAccountsUsed&amp;gt;&amp;lt;SeparateAccountsUsed&amp;gt;&amp;lt;AccountName&amp;gt;0&amp;lt;/AccountName&amp;gt;&amp;lt;ValuedDaily&amp;gt;0&amp;lt;/ValuedDaily&amp;gt;&amp;lt;FTBranch&amp;gt;0&amp;lt;/FTBranch&amp;gt;&amp;lt;/SeparateAccountsUsed&amp;gt;" + "&amp;lt;SeparateAccountsUsed&amp;gt;&amp;lt;AccountName&amp;gt;0&amp;lt;/AccountName&amp;gt;&amp;lt;ValuedDaily&amp;gt;0&amp;lt;/ValuedDaily&amp;gt;&amp;lt;FTBranch&amp;gt;0&amp;lt;/FTBranch&amp;gt;&amp;lt;/SeparateAccountsUsed&amp;gt;&amp;lt;/SeparateAccountsUsed&amp;gt;&amp;lt;/SeparateAccounts&amp;gt;&amp;lt;IPG&amp;gt;&amp;lt;GACFinancialContact&amp;gt;2&amp;lt;/GACFinancialContact&amp;gt;" + "&amp;lt;GACFinancialContactOther/&amp;gt;&amp;lt;InitiativeAccept&amp;gt;1&amp;lt;/InitiativeAccept&amp;gt;&amp;lt;IPGTypes&amp;gt;&amp;lt;IPGTypes&amp;gt;59&amp;lt;/IPGTypes&amp;gt;&amp;lt;IPGTypes&amp;gt;61&amp;lt;/IPGTypes&amp;gt;&amp;lt;IPGTypes&amp;gt;59&amp;lt;/IPGTypes&amp;gt;&amp;lt;IPGTypes&amp;gt;61&amp;lt;/IPGTypes&amp;gt;&amp;lt;IPGTypes&amp;gt;59&amp;lt;/IPGTypes&amp;gt;&amp;lt;IPGTypes&amp;gt;61&amp;lt;/IPGTypes&amp;gt;" + "&amp;lt;IPGTypes&amp;gt;59&amp;lt;/IPGTypes&amp;gt;&amp;lt;IPGTypes&amp;gt;61&amp;lt;/IPGTypes&amp;gt;&amp;lt;/IPGTypes&amp;gt;&amp;lt;PaymentFundUsed&amp;gt;1&amp;lt;/PaymentFundUsed&amp;gt;&amp;lt;HarrisTrust&amp;gt;1&amp;lt;/HarrisTrust&amp;gt;&amp;lt;GenGenAccReportComments&amp;gt;No Comments!!!!!!&amp;lt;/GenGenAccReportComments&amp;gt;" + "&amp;lt;GAReportCaseCloseDate&amp;gt;09/12/2004&amp;lt;/GAReportCaseCloseDate&amp;gt;&amp;lt;GAReportCaseStatus&amp;gt;No Comments!!!!!!&amp;lt;/GAReportCaseStatus&amp;gt;&amp;lt;ExpensesCalculated&amp;gt;22&amp;lt;/ExpensesCalculated&amp;gt;&amp;lt;ExpensesComments&amp;gt;No Comments!!!!!!&amp;lt;/ExpensesComments&amp;gt;" + "&amp;lt;StatementsProduced&amp;gt;23&amp;lt;/StatementsProduced&amp;gt;&amp;lt;StatementsComments&amp;gt;No Comments!!!!!!&amp;lt;/StatementsComments&amp;gt;&amp;lt;PayingBenefitsBranch&amp;gt;No Comments!!!!!!&amp;lt;/PayingBenefitsBranch&amp;gt;&amp;lt;IPGSeparateAccounts&amp;gt;&amp;lt;IPGSeparateAccounts&amp;gt;" + "&amp;lt;AccountName&amp;gt;12&amp;lt;/AccountName&amp;gt;&amp;lt;Branch&amp;gt;3&amp;lt;/Branch&amp;gt;&amp;lt;/IPGSeparateAccounts&amp;gt;&amp;lt;IPGSeparateAccounts/&amp;gt;&amp;lt;IPGSeparateAccounts/&amp;gt;&amp;lt;IPGSeparateAccounts/&amp;gt;&amp;lt;IPGSeparateAccounts/&amp;gt;&amp;lt;/IPGSeparateAccounts&amp;gt;" + "&amp;lt;SpecialInstructions&amp;gt;No Comments!!!!!!&amp;lt;/SpecialInstructions&amp;gt;&amp;lt;AddGenAccReportComments&amp;gt;No Comments!!!!!!&amp;lt;/AddGenAccReportComments&amp;gt;&amp;lt;/IPG&amp;gt;&amp;lt;/InvestmentMgmtProducts&amp;gt;&amp;lt;Statements xmlns=\"\"&amp;gt;" + "&amp;lt;FaxStatements&amp;gt;1&amp;lt;/FaxStatements&amp;gt;&amp;lt;FaxTo&amp;gt;No Comments!!!!!!&amp;lt;/FaxTo&amp;gt;&amp;lt;Fax&amp;gt;36731273837&amp;lt;/Fax&amp;gt;&amp;lt;DueDate&amp;gt;No Comments!!!!!!&amp;lt;/DueDate&amp;gt;&amp;lt;/Statements&amp;gt;&amp;lt;Wires xmlns=\"\"&amp;gt;&amp;lt;LineNo&amp;gt;37236&amp;lt;/LineNo&amp;gt;" + "&amp;lt;ClientIdentifier&amp;gt;No Comments!!!!!!&amp;lt;/ClientIdentifier&amp;gt;&amp;lt;/Wires&amp;gt;&amp;lt;FORM5500 xmlns=\"\"&amp;gt;&amp;lt;PlanYear&amp;gt;2004-2005&amp;lt;/PlanYear&amp;gt;&amp;lt;PreparedBy&amp;gt;26&amp;lt;/PreparedBy&amp;gt;&amp;lt;/FORM5500&amp;gt;&amp;lt;SpecialServicesSummary xmlns=\"\"&amp;gt;" + "&amp;lt;SpecialServicesSummary&amp;gt;&amp;lt;SpecialServiceTypes&amp;gt;&amp;lt;SpecialServiceTypes&amp;gt;29&amp;lt;/SpecialServiceTypes&amp;gt;&amp;lt;/SpecialServiceTypes&amp;gt;&amp;lt;AdminUnit&amp;gt;1&amp;lt;/AdminUnit&amp;gt;&amp;lt;IT&amp;gt;0&amp;lt;/IT&amp;gt;&amp;lt;AddtionalChargesAllowed&amp;gt;0&amp;lt;/AddtionalChargesAllowed&amp;gt;" + "&amp;lt;AmountCharged&amp;gt;1000.00&amp;lt;/AmountCharged&amp;gt;&amp;lt;ServiceReportType&amp;gt;No Comments!!!!!!&amp;lt;/ServiceReportType&amp;gt;&amp;lt;/SpecialServicesSummary&amp;gt;&amp;lt;SpecialServicesSummary&amp;gt;&amp;lt;SpecialServiceTypes&amp;gt;&amp;lt;SpecialServiceTypes&amp;gt;28&amp;lt;/SpecialServiceTypes&amp;gt;" + "&amp;lt;/SpecialServiceTypes&amp;gt;&amp;lt;AdminUnit&amp;gt;1&amp;lt;/AdminUnit&amp;gt;&amp;lt;IT&amp;gt;0&amp;lt;/IT&amp;gt;&amp;lt;AddtionalChargesAllowed&amp;gt;1&amp;lt;/AddtionalChargesAllowed&amp;gt;&amp;lt;AmountCharged&amp;gt;500.00&amp;lt;/AmountCharged&amp;gt;&amp;lt;ServiceReportType&amp;gt;No Comments!!!!!!&amp;lt;/ServiceReportType&amp;gt;" + "&amp;lt;/SpecialServicesSummary&amp;gt;&amp;lt;/SpecialServicesSummary&amp;gt;&amp;lt;CreatedBy xmlns=\"\"&amp;gt;XYZ&amp;lt;/CreatedBy&amp;gt;&amp;lt;ModifiedBy xmlns=\"\"&amp;gt;XYZ&amp;lt;/ModifiedBy&amp;gt;&amp;lt;CreatedDate xmlns=\"\"&amp;gt;08/09/2005 06:55:58 AM&amp;lt;/CreatedDate&amp;gt;" + //------------------------------------------------------------------- --------------------------------- Yahoo! for Good Click here to donate to the Hurricane Katrina relief effort.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Issue of size in XMLWriter.write method</header>
    <date>Thu Oct 06 12:29:00 CEST 2005</date>
    <body>Nishi, Just use a java.io.StringWriter instead of a java.io.PipedWriter. Malcolm Nishi Shah wrote: http://store.yahoo.com/redcross-donate3/ &amp;gt; to the</body>
  </mail>
  <mail>
    <header>[dom4j-user] Error with 1.6.1 - not with 1.5.2</header>
    <date>Mon Oct 03 18:51:00 CEST 2005</date>
    <body>I have a node that is a DefaultElement with a lot of sub elements. I call: And get: org.dom4j.XPathException: Exception occurred evaluting XPath: grunnbokstype='B'|'H'. Exception: Unions are only allowed over node-sets Using 1.5.2 it works fine. Any ideas??? Thanks - dave David Thielen http://www.windwardreports.com 303-499-2544</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error with 1.6.1 - not with 1.5.2</header>
    <date>Mon Oct 03 19:11:00 CEST 2005</date>
    <body>David, this is an bug in jaxen. I think they have already fixed it. Can you try with the latest jaxen release? http://jaxen.codehaus.org regards, Maarten David Thielen wrote: ll: ets http://www.windwardreports.com http://www.windwardreports.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Error with 1.6.1 - not with 1.5.2</header>
    <date>Mon Oct 03 20:33:00 CEST 2005</date>
    <body>I just downloaded beta 8 (the jar file is in the tar.gz but not the zip file). The bug is still there. Thanks - dave David Thielen http://www.windwardreports.com 303-499-2544 -----Original Message----- From: Maarten Coene [mailto:maarten_coene@...] Sent: Monday, October 03, 2005 1:11 PM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Error with 1.6.1 - not with 1.5.2 David, this is an bug in jaxen. I think they have already fixed it. Can you try with the latest jaxen release? http://jaxen.codehaus.org regards, Maarten David Thielen wrote: http://www.windwardreports.com http://www.windwardreports.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Error with 1.6.1 - not with 1.5.2</header>
    <date>Tue Oct 04 08:46:00 CEST 2005</date>
    <body>David, I'm forwarding this to the jaxen mailing list, I hope they can help you with this ... regards, Maarten David Thielen &amp;lt;david@...&amp;gt; wrote: I just downloaded beta 8 (the jar file is in the tar.gz but not the zip file). The bug is still there. Thanks - dave David Thielen http://www.windwardreports.com 303-499-2544 -----Original Message----- From: Maarten Coene [mailto:maarten_coene@...] Sent: Monday, October 03, 2005 1:11 PM To: David Thielen Cc: dom4j-user@... Subject: Re: [dom4j-user] Error with 1.6.1 - not with 1.5.2 David, this is an bug in jaxen. I think they have already fixed it. Can you try with the latest jaxen release? http://jaxen.codehaus.org regards, Maarten David Thielen wrote: http://www.windwardreports.com ------------------------------------------------------- This SF.Net email is sponsored by: Power Architecture Resource Center: Free content, downloads, discussions, and more. http://solutions.newsforge.com/ibmarch.tmpl _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Yahoo! for Good Click here to donate to the Hurricane Katrina relief effort.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error with 1.6.1 - not with 1.5.2</header>
    <date>Tue Oct 04 11:26:00 CEST 2005</date>
    <body>David Thielen wrote: ll: ets try changing | into or, like this: grunnbokstype =3D 'B' or 'H' | is for nodesets See http://www.w3schools.com/xpath/xpath_operators.asp regs, David K --=20 David J. M. Karlsen - +47 90 68 22 43 http://www.davidkarlsen.com http://mp3.davidkarlsen.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Dynamically validates DOM against DTD/schema</header>
    <date>Wed Oct 05 03:06:00 CEST 2005</date>
    <body>I curious how could this functionality be implemented? For example, an XML editor or DocBook editor that always enforce schema validation on every action performed by users. Vairoj</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Dynamically validates DOM against DTD/schema</header>
    <date>Wed Oct 05 09:32:00 CEST 2005</date>
    <body>&amp;gt; I curious how could this functionality be implemented? To parse the schema you could use the Xerces XML Schema API, or another Schema Object Model ... using this, you could create some logic that can perform the incremental validation, this won't be easy. I agree the possibilities would be limitless. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Does jaxen implement xpath 1.0 or 2.0?</header>
    <date>Fri Nov 18 13:38:00 CET 2005</date>
    <body>Thanks - dave David Thielen http://www.windwardreports.com 303-499-2544</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Does jaxen implement xpath 1.0 or 2.0?</header>
    <date>Fri Nov 18 14:21:00 CET 2005</date>
    <body>SmF4ZW4gY3VycmVudGx5IHN1cHBvcnRzIFhQYXRoIDEuMC4KClJlZ2FyZHMsCkVkd2luCgotLQpo dHRwOi8vd3d3LmVkYW5rZXJ0LmNvbS8K</body>
  </mail>
  <mail>
    <header>[dom4j-user] Asking again: Does jaxen implement xpath 1.0 or 2.0?</header>
    <date>Tue Nov 22 15:26:00 CET 2005</date>
    <body>Thanks - dave David Thielen http://www.windwardreports.com 303-499-2544</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Asking again: Does jaxen implement xpath 1.0 or
 2.0?</header>
    <date>Tue Nov 22 16:55:00 CET 2005</date>
    <body>I've deleted it now, but I think someone did reply to that question... pretty sure they said just 1.0 for now... b PS: Yeah, I just googled the jaxen site for "xpath 2.0" and found this from a list email dated Nov 3, 2005: "There are no current plans to support XPath 2.0 in Jaxen. I suspect if it were critical enough to someone that they were willing to pay for it, a developer or two could be found to implement this, but it wouldn't be cheap and it would take quite a bit of time." David Thielen wrote: http://www.windwardreports.com http://www.windwardreports.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] setting defulat Namespace</header>
    <date>Fri Nov 18 09:14:00 CET 2005</date>
    <body>Hi, Is there any way to change the default namespace in dom4j. Eg: I have an element whose default namespace is "jabber:client" and need to change to "jabber:server" Stream and presence element's default namespace is "jabber:client" and using dom4j api, presence element is dispatch() from stream element, i.e. Need to change the default namespace of presence element to "jabber:server" without affecting the stream element namespace i.e. "jabber:client". i.e. Please advice me.. Thanks in advance cheers pawan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] setting defulat Namespace</header>
    <date>Fri Nov 18 10:37:00 CET 2005</date>
    <body>This on it's own doesn't work at the moment: So you'll first have to remove the previous namespace: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Where did the samples go?</header>
    <date>Mon Nov 14 15:58:00 CET 2005</date>
    <body>I looked in the CVS tree for the validation samples mentioned in the FAQ an= d they have been moved. Where did they go? Thanks</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Re: XMLWriter and namespaces</header>
    <date>Mon Nov 07 16:07:00 CET 2005</date>
    <body>Hi, guys.  I have never had a problem with writing out namespaces in dom4j. I'm afraid I'm not following your conversation though and don't know what you are actually proposing.  Are you having some problem?  Just curious. -Mark -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Monday, November 07, 2005 10:23 AM To: Robert Koberg Cc: LIST - dom4j user Subject: Re: [dom4j-user] Re: XMLWriter and namespaces It sounds like something that might be very usefull. However, to stream your content, wouldn't it be better to use the SAX specific startElement and endElement methods? They look like a nicer solution to me, however (looking at the code) also do not handle namespaces correctly but fixing this might be easier than fixing the dom4j specific writeOpen and writeClose methods? Regards, Edwin -- http://www.edankert.com/ ------------------------------------------------------- SF.Net email is sponsored by: Tame your development challenges with Apache's Geronimo App Server. Download it for free - -and be entered to win a 42" plasma tv or your very own Sony(tm)PSP.  Click here to play: http://sourceforge.net/geronimo.php _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: XMLWriter and namespaces</header>
    <date>Mon Nov 07 18:10:00 CET 2005</date>
    <body>The issue as I understand it is ... Instead of building the model totally in memory and writing it, which could potentially be expensive, the XMLWriter also supports writing the information bit by bit with the bonus that the output can formatted and that characters are substituted. You could according to the API use the openElement and closeElement methods to stream the element tags. The following code for instance should be a lot less memory expensive: XMLWriter xmlWriter =3D new XMLWriter( writer, OutputFormat.createPrettyPri= =09=09 Namespace ns =3D DocumentHelper.createNamespace( "tst", " http://www.tst.com= =09=09 =09=09 =09=09 =09=09 However this does not at the moment handle namespaces correctly. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: XMLWriter and namespaces</header>
    <date>Mon Nov 07 18:36:00 CET 2005</date>
    <body>Edwin Dankert wrote: Yes, thats the idea. More precisely for me, I have a largish Document in memory on the server and I want to send just a portion down to the client for a transform there. The Document could have deeply nested elements, but I might only need some elements and not their children/descendants (that is why I use writeOpen followed by writeClose instead of writeElement). So, the lighter/smaller the faster it will be :) best, -Rob http://www.tst.com/ http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] XMLWriter and namespaces</header>
    <date>Fri Nov 04 15:14:00 CET 2005</date>
    <body>Hi, I am trying to use the XMLWriter to send an XML stream to a browser (reduce from a much larger Document). The elements I want to write exist in a namespace. But everything I have tried so far will not create the namespace in the outputstream. If I use the XMLWriter to write the dom4j Document it works as expected. How can I get the namespace into the output? Here is an example of what i have tried: thanks, -Rob</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: XMLWriter and namespaces</header>
    <date>Sun Nov 06 11:10:00 CET 2005</date>
    <body>Hi again, What is the best way to write a minimized version of a document that might contain namespaces? In looking at the source of XMLWriter, it shows there is no faqcility to write namespaces the way I am trying to below. Now I am just writing to the servelt output stream, but perhaps the method below could be useful in the XMLWriter? is this worth it? best, -Rob Robert Koberg wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: XMLWriter and namespaces</header>
    <date>Mon Nov 07 15:23:00 CET 2005</date>
    <body>It sounds like something that might be very usefull. However, to stream your content, wouldn't it be better to use the SAX specific startElement and endElement methods? They look like a nicer solution to me, however (looking at the code) also do not handle namespaces correctly but fixing this might be easier than fixing the dom4j specific writeOpen and writeClose methods? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: XMLWriter and namespaces</header>
    <date>Mon Nov 07 18:30:00 CET 2005</date>
    <body>Edwin Dankert wrote: I used the XMLWriter because it seemed pretty simple. Currently, I just using the ServletOutputStream to print out similar to the way the XMLWriter does it. This gets sent to the browser for a client side transformation. Off topic: One strange thing however, if I send: it shows up to the browser transformation (both IE and Firefox/Transformix) as: If I alert the XML it is formed as I sent. I /fixed/ it by adding a space before all empty element end tags (does not matter for my needs). Don't know what the deal is, but just thought I would share just in case. best, -Rob http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] document.getXMLEncoding() always return null</header>
    <date>Fri Dec 23 10:21:00 CET 2005</date>
    <body>Hi everybody, i have this code here but the document.getXMLEncoding() alway= s return null ! Any idea ? Element testNode =3D rootElement.addElement Element author1 =3D rootElement.addElement("author").addAttribute("name","James").addAttribute(= "location","UK").addText("James author1 =3D rootElement.addElement("author").addAttribute("name","James").addAttribute(= "location","UK").addText("James author1 =3D rootElement.addElement("author").addAttribute("name","James").addAttribute(= "location","UK").addText("James //for deleting node</body>
  </mail>
  <mail>
    <header>[dom4j-user] document.getXMLEncoding() always return null</header>
    <date>Fri Dec 23 10:25:00 CET 2005</date>
    <body>Hello everybody, Does anyone know why document.getXMLEncoding() always return null in my cod= e ? thanks :-) Element testNode =3D rootElement.addElement Element author1 =3D rootElement.addElement("author").addAttribute("name","James").addAttribute(= "location","UK").addText("James author1 =3D rootElement.addElement("author").addAttribute("name","James").addAttribute(= "location","UK").addText("James author1 =3D rootElement.addElement("author").addAttribute("name","James").addAttribute(= "location","UK").addText("James //for deleting node</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] document.getXMLEncoding() always return null</header>
    <date>Fri Dec 23 10:28:00 CET 2005</date>
    <body>TWFrZSBzdXJlIHRoZSAndW5kZXJseWluZyBYTUxSZWFkZXIgaW1wbGVtZW50YXRpb24Kc3VwcG9y dHMgdGhlIG9yZy54bWwuc2F4LmV4dC5Mb2NhdG9yMiBpbnRlcmZhY2UnCgpTZWU6Cmh0dHA6Ly93 d3cuZG9tNGoub3JnL2FwaWRvY3Mvb3JnL2RvbTRqL0RvY3VtZW50Lmh0bWwjZ2V0WE1MRW5jb2Rp bmcoKQoKUmVnYXJkcywKRWR3aW4KLS0KaHR0cDovL3d3dy5lZGFua2VydC5jb20vCg==</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] document.getXMLEncoding() always return null</header>
    <date>Fri Dec 23 10:35:00 CET 2005</date>
    <body>ok, in fact i'm not familiar with dom4j at all, so maybe i'm in the wrong w= ay.. here's what i need to do: --- create an xml file --- set the encoding --- set a dtd --- then create the elements in it what's the best way to do that sort of things ? does anything exists alread= y ? thanks On 12/23/05, Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote: http://www.dom4j.org/apidocs/org/dom4j/Document.html#getXMLEncoding () http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] document.getXMLEncoding() always return null</header>
    <date>Fri Dec 23 10:58:00 CET 2005</date>
    <body>WW91J2xsIGhhdmUgdG8gbWFrZSBzdXJlIHRvIHVzZSB0aGUgY29ycmVjdCBYTUwgUGFyc2VyLgoK VHJ5IHNwZWNpZnlpbmcgeW91ciBTQVggUGFyc2VyIHVzaW5nIHRoZSBmb2xsb3dpbmcgaWYgeW91 J3JlIHVzaW5nIEpESyA1LjA6CgpTeXN0ZW0uc2V0UHJvcGVydHkoICJvcmcueG1sLnNheC5kcml2 ZXIiLAoiY29tLnN1bi5vcmcuYXBhY2hlLnhlcmNlcy5pbnRlcm5hbC5wYXJzZXJzLlNBWFBhcnNl ciIpOwoKT3RoZXJ3aXNlLCBpZiB5b3UncmUgbm90IHVzaW5nIEpESyA1LjAsIHRyeSB0byBkb3du bG9hZCBYZXJjZXMsIGFkZCBpdAp0byB5b3VyIGNsYXNzcGF0aCBhbmQgdXNlIHRoZSBmb2xsb3dp bmc6CgpTeXN0ZW0uc2V0UHJvcGVydHkoICJvcmcueG1sLnNheC5kcml2ZXIiLAoib3JnLmFwYWNo ZS54ZXJjZXMucGFyc2Vycy5TQVhQYXJzZXIiKTsKClJlZ2FyZHMsCkVkd2luCi0tCmh0dHA6Ly93 d3cuZWRhbmtlcnQuY29tLwo=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] document.getXMLEncoding() always return null</header>
    <date>Fri Dec 23 11:01:00 CET 2005</date>
    <body>done but still null :-( On 12/23/05, Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote: 0: http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Parsing large files</header>
    <date>Mon Dec 19 08:15:00 CET 2005</date>
    <body>Thanks for the reply Christian =20 I have now had a chance to profile my program. It seems that the = entry.detach() call is the problem. In the beginning of the run it = accounted for appr. 40% of the cpu time and increasing steadily to reach = 80% in an hour. My 'own' code account for less than 10%. =20 I must say that the individual entries (/root/entry) can be quite large = - up to 4000 lines each. But the average size does not increase such = that the 'bottom' entries are larger that the 'top' entries. But having = large entries of course means that dom4j builds quite a big subtree for = each entry, but I can't understand why it takes so much time to prune = it. =20 For now it seem my only option is to chop my inputfile in pieces an = parse them individually. =20 Cheers peter ________________________________ From: Christian.Holmqvist@... = [mailto:Christian.Holmqvist@... Sent: 16 December 2005 10:09 To: Peter Ven=F8; dom4j-user@... Subject: SV: [dom4j-user] Parsing large files Hi =20 One of the systems I'm working on are parsing files about the same size = that you are mention using exact the technique that you exemplify. This = is working without any problem.=20 =20 The only problem we have had with this is code outside the "parsing = part" i.e. creating to many object so the garbage collector becomes a = problem and so on.=20 =20 We greatly increased our performance by optimizing the parsing of the = XML and only retrieve elements that we really needed. =20 Good luck! =20 Cheers Christian -----Ursprungligt meddelande----- Fr=E5n: dom4j-user-admin@... = [mailto:dom4j-user-admin@...] F=F6r Peter Ven=F8 Skickat: den 16 december 2005 09:59 Till: dom4j-user@... =C4mne: [dom4j-user] Parsing large files =09 =09 Helle all, =20 I've have just joined the list, so forgive me if the questions have = been asked before.=20 =20 I'm parsing large XML files using DOM4J's event system =20 saxReader.addHandler( "/root/entry", =20 Which I believe is the standard way. The processEntry(entry) method = extracts info by means of=20 entry.element("name").getText()=20 =20 Now this works well but the time uses to parse the records increases = linearly as the parsing progresses.  The memory consumptions of the = parser increase, but only slightly. I can parse the first 10,000 records = in appr. 10 seconds whereas parsing entries 2,160,000 to 2,170,000 takes = more that 5 minutes. =20 According to this article = http://www.devx.com/Java/Article/29161/0/page/2 parsing of 'extremely = large files' should not be a problem. However my file is significantly = larger that the extremely large file used in the article (14 MB). It = ludicrously large - appr. 850 MB - gzipped=20 =20 Have any of you experienced similar problems with the parsing of large = files. Any input is appriciated. =20 thanks Peter =20 =20 =20 =20 =20 =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Something wrong with XPATH</header>
    <date>Thu Dec 15 17:06:00 CET 2005</date>
    <body>Hello all, I can't seem to get XPATH to work properly.  The only thing I've been able to select is the root node. Any help is much apreciated. Thanks, --Evan Here's my HTML, code, and input/output.  I think I must be doing something fundamentally wrong, but can't seem to spot it. test.html: " http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd HI! CODE:(note: args[0] is the file, args[1] is the XPath expression) TRIES: ./run.sh test.html /html/body NO MATCHES! " http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/1999/xhtml HI! ./run.sh test.html * NO MATCHES! " http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/1999/xhtml HI! This one works: ./run.sh test.html . " http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/1999/xhtml HI! I don't really understand this either.  If the context node doesn't throw this, why would the root node? ./run.sh test.html / java.lang.ClassCastException at edu.uark.util.dom.DOMTest.main(DOMTest.java:17)</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Something wrong with XPATH</header>
    <date>Thu Dec 15 18:07:00 CET 2005</date>
    <body>My doctype appears to be the culprit. Evan Kirkconnell wrote: http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/1999/xhtml http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/1999/xhtml http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/1999/xhtml</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: Something wrong with XPATH</header>
    <date>Thu Dec 15 19:01:00 CET 2005</date>
    <body>Sorry, I don't mean to spam the list, but does anyone know why the doctype would cause the "/html/body" and "/html/head" XPATH expressions to break? They both work without the doctype. " http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd HI! ./run.sh test3.html "/descendant::*[@id='main']" "/html" "/html/body" "/html/head" Build time: 2283 XPATH time: 429 XPATH time: 2 XPATH time: 10 NO MATCHES! XPATH time: 1 NO MATCHES! Serialize time: 28 Transform time: 203 Evan Kirkconnell wrote: http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/1999/xhtml http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/1999/xhtml http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/1999/xhtml</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: Something wrong with XPATH</header>
    <date>Fri Dec 16 00:00:00 CET 2005</date>
    <body>Alle 20:01, gioved=EC 15 dicembre 2005, Evan Kirkconnell ha scritto: I think it's because you must have a root element that is unique.=20 With doctype you have two roots. Try with an xpath processor, like a plugin in eclipse, to see if your path= =20 works. =2D-=20 Alessandro Ronchi, che ha cambiato dominio, aggiorna i tuoi link a=20 http://www.alessandroronchi.net ! http://www.soasi.com SOASI - Sviluppo Software e Sistemi Open Source</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: Something wrong with XPATH</header>
    <date>Fri Dec 16 09:27:00 CET 2005</date>
    <body>V2h5IGl0IGZhaWxzIGlzIGJlY2F1c2Ugb2YgdGhlIGZvbGxvd2luZyBsaW5lcyBpbiB0aGUgWEhU TUwgRFREOgoKPCFFTEVNRU5UIGh0bWwgKGhlYWQsIGJvZHkpPgo8IUFUVExJU1QgaHRtbAogICVp MThuOwogIGlkICAgICAgICBJRCAgICAgICAgICAgICAjSU1QTElFRAogIHhtbG5zICAlVVJJOyAg ICAgICNGSVhFRCAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCcKICA+CgpUaGlzIHdpbGwg YWRkIGEgZGVmYXVsdCBuYW1lc3BhY2UgdG8geW91ciBYTUwsIHNvIHlvdXIgWE1MIGluIHJlYWxp dHkKbG9va3MgbGlrZToKCjxodG1sIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1s Ij4KICAgPGhlYWQ+CiAgICAgICA8dGl0bGU+VGl0bGU8L3RpdGxlPgogICAgICAgPHN0eWxlPgog ICAgICAgICAgIGJvZHl7CiAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGJsdWU7CiAgICAgICAg ICAgfQogICAgICAgPC9zdHlsZT4KICAgPC9oZWFkPgogICA8Ym9keT4KICAgICAgIDxkaXYgaWQ9 Im1haW4iPgogICAgICAgICAgIEhJIQogICAgICAgPC9kaXY+CiAgIDwvYm9keT4KPC9odG1sPgoK Tm90ZSB0byBYTUwgZGVzaWduZXJzLCBwbGVhc2UgYXZvaWQgdXNpbmcgZml4ZWQgJ3htbG5zJyBh dHRyaWJ1dGVzIGluIHlvdXIKRFREcy4KClRvIGZpeCB0aGlzLCB5b3Ugd2lsbCBoYXZlIHRvIG1h cCB5b3VyIG5hbWVzcGFjZS1VUkkgdG8gYSBwcmVmaXggYW5kIHRoZW4KdXNlIHRoaXMgcHJlZml4 IGluIHlvdXIgWFBhdGggc2VhcmNoZXMuCgpQbGVhc2UgaGF2ZSBhIGxvb2sgYXQgcHJldmlvdXMg bWFpbHMgdG8gdGhpcyBsaXN0IHRvIGZpbmQgb3V0IGhvdyB0byBkbyB0aGlzLgoKRm9yIHNvbWUg bW9yZSBiYWNrZ3JvdW5kIGluZm9ybWF0aW9uOgpodHRwOi8vd3d3LmVkYW5rZXJ0LmNvbS9kZWZh dWx0bmFtZXNwYWNlcy5odG1sCgpSZWdhcmRzLApFZHdpbgotLQpodHRwOi8vd3d3LmVkYW5rZXJ0 LmNvbS8K</body>
  </mail>
  <mail>
    <header>SV: [dom4j-user] Parsing large files</header>
    <date>Fri Dec 16 09:08:00 CET 2005</date>
    <body>Hi =20 One of the systems I'm working on are parsing files about the same size = that you are mention using exact the technique that you exemplify. This = is working without any problem.=20 =20 The only problem we have had with this is code outside the "parsing = part" i.e. creating to many object so the garbage collector becomes a = problem and so on.=20 =20 We greatly increased our performance by optimizing the parsing of the = XML and only retrieve elements that we really needed. =20 Good luck! =20 Cheers Christian -----Ursprungligt meddelande----- Fr=E5n: dom4j-user-admin@... = [mailto:dom4j-user-admin@...] F=F6r Peter Ven=F8 Skickat: den 16 december 2005 09:59 Till: dom4j-user@... =C4mne: [dom4j-user] Parsing large files =09 =09 Helle all, =20 I've have just joined the list, so forgive me if the questions have = been asked before.=20 =20 I'm parsing large XML files using DOM4J's event system =20 saxReader.addHandler( "/root/entry", =20 Which I believe is the standard way. The processEntry(entry) method = extracts info by means of=20 entry.element("name").getText()=20 =20 Now this works well but the time uses to parse the records increases = linearly as the parsing progresses.  The memory consumptions of the = parser increase, but only slightly. I can parse the first 10,000 records = in appr. 10 seconds whereas parsing entries 2,160,000 to 2,170,000 takes = more that 5 minutes. =20 According to this article = http://www.devx.com/Java/Article/29161/0/page/2 parsing of 'extremely = large files' should not be a problem. However my file is significantly = larger that the extremely large file used in the article (14 MB). It = ludicrously large - appr. 850 MB - gzipped=20 =20 Have any of you experienced similar problems with the parsing of large = files. Any input is appriciated. =20 thanks Peter =20 =20 =20 =20 =20 =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Parsing large files</header>
    <date>Fri Dec 16 08:58:00 CET 2005</date>
    <body>Helle all, =20 I've have just joined the list, so forgive me if the questions have been = asked before.=20 =20 I'm parsing large XML files using DOM4J's event system =20 saxReader.addHandler( "/root/entry", =20 Which I believe is the standard way. The processEntry(entry) method = extracts info by means of=20 entry.element("name").getText()=20 =20 Now this works well but the time uses to parse the records increases = linearly as the parsing progresses.  The memory consumptions of the = parser increase, but only slightly. I can parse the first 10,000 records = in appr. 10 seconds whereas parsing entries 2,160,000 to 2,170,000 takes = more that 5 minutes. =20 According to this article = http://www.devx.com/Java/Article/29161/0/page/2 parsing of 'extremely = large files' should not be a problem. However my file is significantly = larger that the extremely large file used in the article (14 MB). It = ludicrously large - appr. 850 MB - gzipped=20 =20 Have any of you experienced similar problems with the parsing of large = files. Any input is appriciated. =20 thanks Peter =20 =20 =20 =20 =20 =20</body>
  </mail>
  <mail>
    <header>[dom4j-user] problem with concept of xpath with namespaces in dom4j/jaxen</header>
    <date>Thu Dec 15 14:35:00 CET 2005</date>
    <body>Hello! I don't understand the conept of the XPath class in dom4j. To find an xpath with namespaces like "SOAP-ENV:Envelope/SOAP-ENV:Header/ns1:services" I need to build an XPath object and add a map of namespaces with prefix and uri to it. so I add in the example above SOAP-ENV - http://schemas.xmlsoap.org/soap/envelope/ ns1 - http://schemas.biztalk.org/btf-2-0/endpoints Than I will find the node if I execute the XPath. This is okay! But in an XML document there could be different namespaces with the same prefix in different branches. An Example: This is a &amp;lt;i&amp;gt;funny&amp;lt;/i&amp;gt; book! ||There are two default namespaces. I could not use an dom4j XPath to find a node here, because I could not add two times the same prefix (entry will be overwritten in map). (It is the same if this is not a default namespace, but has a prefix.) ||| What is the concept to handle such documents? -- Viele Grüße / best regards Marc Pellmann - System Architect _______________________________ inubit - integrating your business and IT inubit AG Lützowstraße 105-106 D-10785 Berlin Fon: +49.30. 72 61 12-132 Fax: +49.30. 72 61 12-100 Freecall: 0800-go inubit Web: http://www.inubit.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem with concept of xpath with namespaces in dom4j/jaxen</header>
    <date>Thu Dec 15 14:48:00 CET 2005</date>
    <body>VGhlIHByZWZpeCB5b3UgdXNlIGZvciB0aGUgbmFtZXNwYWNlLVVSSSBkb2VzIG5vdCBtYXR0ZXIg d2hlbgp5b3UgZGVmaW5lIHlvdXIgbWFwcGluZy4gU28geW91IGNvdWxkIGhhdmUgbWFwcGVkCgon dXJuOmxvYy5nb3Y6Ym9va3MnIC0+ICdib29rcycKCmFuZAoKJ3Vybjp3My1vcmctbnM6SFRNTCcg IC0+ICAncCcsCgpZb3VyIFhQYXRoIGV4cHJlc3Npb24gdG8gZ2V0IHRoZSBwIGVsZW1lbnQgd291 bGQgbm93IGxvb2sgbGlrZQp0aGlzOgoKL2Jvb2tzOmJvb2svYm9va3M6bm90ZXMvcDpwCgpGb3Ig c29tZSBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgaGF2ZSBhIGxvb2sgYXQ6Cmh0dHA6Ly93d3cu ZWRhbmtlcnQuY29tL2RlZmF1bHRuYW1lc3BhY2VzLmh0bWwKClJlZ2FyZHMsCkVkd2luCi0tCmh0 dHA6Ly93d3cuZWRhbmtlcnQuY29tLwo=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: Something wrong with XPATH</header>
    <date>Thu Jan 26 05:20:00 CET 2006</date>
    <body>I was going to do something along those lines=2C but I ended up using my = own doctype and removing the namespace declaration=2E  Everything is all = pretty and namespaceless=2E  I wouldn=27t mind switching the doctype to a= standard xhtml doctype when I serialize=2E  Is that possible=3F  If not=2C= do you know if there are implications as far as browsers go=3F  XPATH re= ally needs to have a definable default namespace=2C or xhtml doctype need= s to not have a =22fixed=22 namespace or something=2E=2E=2E  = As for DOM4J=2C it might be nice to be able to set a default namespace fo= r createElement in DocumentHelper and DocumentFactory=2E  Just a thought=2E= Thanks for the help=2C --Evan From=3A Edwin Dankert =3Cedankert=40gmail=2Ecom=3E Date=3A Wednesday=2C January 25=2C 2006 2=3A26 pm Subject=3A Re=3A =5Bdom4j-user=5D Re=3A Something wrong with XPATH =3E You=27ll have to specify the namespace when creating your element=2E =3E = =3E Have you tried something like this=3F =3E = =3E Namespace html =3D Namespace=2Eget( =22html=22=2C=22http=3A//www=2Ew3= =2Eorg/TR/REC- =3E html40=22)=3BElement element =3D DocumentHelper=2EcreateElement( = =3E QName=2Eget( =22table=22=2C html))=3B =3E = =3E Regards=2C =3E Edwin =3E -- =3E http=3A//www=2Eedankert=2Ecom/ =3E =04=3F=3F=3F=3F=A8=A5=3F=3F=A2=7B(=AD=3F*e=BAy=08=3Fh=3F =AD=3F=BA=2E= =3F=19h=3F=3F=AE=3F=3F=A6=B1+h=A4=3A0=3FZ=1Av=3F=3F=3F=05=3F=3F=3Fw=AD=3F= =ABfjG=AC=B1=3F=18=A7=3F*=2E=AEZ =7E)=5E=B1=AB=1Ej=3F=B2=3F=7E)=3F=B0y=B0= =3F=3F</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with parsing offline</header>
    <date>Thu Jan 26 00:32:00 CET 2006</date>
    <body>Hi there... I just started using DOM4J and I tried to parse an HTML-document via DocumentHelper#parseText(String). The result is, that I get an "UnknownHostException: http://www.w3.org ". I guess it's because the parser tries to retrieve the DTD. Is there any way to prevent this behaviour? And can I download the Javadoc of DOM4J somewhere as an zip to use it also offline? CU Stefan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: Something wrong with XPATH</header>
    <date>Wed Jan 25 18:37:00 CET 2006</date>
    <body>Hi, I was able to map the xhtml namespace, and it works alright; however,= =20 I've run into an issue.  When I do DocumentHelper.createElement it gi= ves=20 the element an empty namespace.  I'd like for all my elements to be o= f=20 the same namespace, but I just can't figure out how.  Is there ANY wa= y=20 to remove the xhtml namespace altogether?  Maybe I could load the doc= =20 with a slightly modified doctype, then before I print change it to a= =20 standard xhtml one?  If it's possible, I suppose I'd be okay with mak= ing=20 my own createElement function and setting the new element's namespace= to=20 the xhtml namespace.  I've tried this, but can't get it to work. Thanks much, --Evan Edwin Dankert wrote: http://www.w3.org/1999/xhtml ' ty http://www.w3.org/1999/xhtml in your d then o do this. http://www.edankert.com/defaultnamespaces.html http://www.edankert.com/ =BD=EF=BF=BD=EF=BF=BDu=EF=BF=BD=EF=BF=BD=EF=BF=BD[=EF=BF=BD=EF=BF= =BD=EF=BF=BD=EF=BF=BD=0E=EF=BF=BD=EF=BF=BD=EF=BF=BD =EF=BF=BD~=EF=BF=BD=E9=AE=86=EF=BF=BDzk=12=EF=BF=BD=EF=BF=BDC=EF=BF= =BD=09=E5=A1=A7m=EF=BF=BD=EF=BF=BD=EF=BF=BD=EF=BF=BD=02@...= =BF=BD=EF=BF=BD^=EF=BF=BD=08=EF=BF=BDz=EF=BF=BDZ=EF=BF=BDf=EF=BF=BDz= =EF=BF=BD=1Ej=EF=BF=BD!=EF=BF=BDx2=EF=BF=BD=EF=BF=BD=EF=BF=BD=07=EF= =BF=BD=EF=BF=BD=1A=EF=BF=BD=EF=BF=BD=C9=AB,=EF=BF=BD=EF=BF=BD=EF=BF= =EF=BF=BDm=EF=BF=BD=EF=BF=BD=EF=BF=BDi=EF=BF=BD(=EF=BF=BD=EF=BF=BD= =DC=A2o=EF=BF=BDv'=EF=BF=BD=EF=BF=BDjYhr'=D7=AF:=EF=BF=BDrX=EF=BF= =BD=EF=BF=BD=EF=BF=BD&amp;amp;=EF=BF=BD;=EF=BF=BDz=EF=BF=BD=EF=BF=BD=EF=BF= =BDX=EF=BF=BD=EF=BF=BDX=EF=BF=BD=EF=BF=BD=EF=BF=BD&amp;amp;=EF=BF=BD;=EF=BF= =BDz=EF=BF=BDb=EF=BF=BD=EF=BF=BD,=EF=BF=BD=EF=BF=BD=EF=BF=BDy=EF=BF= =BD+=EF=BF=BD=EF=BF=BD=DE=B6=1Bm=EF=BF=BD=EF=BF=BD=EF=BF=BD=EF=BF= =BD+-=EF=BF=BD=EF=BF=BD.=EF=BF=BD=C7=9F=EF=BF=BD=EF=BF=BD=1E=EF=BF= =BD=EF=BF=BD=7F=EF=BF=BD+-=EF=BF=BD=EF=BF=BDb=EF=BF=BD=D8=A7~=EF=BF= =BD=DD=A2n#=EF=BF=BD=C7=AB</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Re: Something wrong with XPATH</header>
    <date>Wed Jan 25 23:05:00 CET 2006</date>
    <body>WW91J2xsIGhhdmUgdG8gc3BlY2lmeSB0aGUgbmFtZXNwYWNlIHdoZW4gY3JlYXRpbmcgeW91ciBl bGVtZW50LgoKSGF2ZSB5b3UgdHJpZWQgc29tZXRoaW5nIGxpa2UgdGhpcz8KCk5hbWVzcGFjZSBo dG1sID0gTmFtZXNwYWNlLmdldCggImh0bWwiLCJodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRt bDQwIik7CkVsZW1lbnQgZWxlbWVudCA9IERvY3VtZW50SGVscGVyLmNyZWF0ZUVsZW1lbnQoIFFO YW1lLmdldCggInRhYmxlIiwgaHRtbCkpOwoKUmVnYXJkcywKRWR3aW4KLS0KaHR0cDovL3d3dy5l ZGFua2VydC5jb20vCg==</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j-user@lists.sourceforge.net</header>
    <date>Tue Jan 17 14:57:00 CET 2006</date>
    <body>Hello! I used dom4j 1.4 with different versions of java (1.3 and 1.4) with no=20 problems. Now I want to switch to the new 1.5 platform. I installed JDK 1.5= =20 picked one of my application and started to resolve the warnings etc.=20 Everthing looked fine - but when I start the application I get an error whi= le=20 an XSL transformation. An upgrade to dom4j 1.6.1 had no effect. =A0The erro= r=20 stayed: Unrecognized XSLTC extension ' http://xml.apache.org/xalan/redirect:open My stylesheet uses the redirect - extension but it caused never problems! Is this a known problem? Can somebody imagine what causes this problem or = =A0 reproduce it? And now some Details: Java version: java version "1.5.0_06" Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_06-b05) Java HotSpot(TM) Client VM (build 1.5.0_06-b05, mixed mode, sharing) My transformation method: =A0 =A0 public Document transformDoc(String xslfile, HashMap parameters) th= rows=20 =A0 =A0 =A0 =A0 TransformerFactory factory=3DTransformerFactory.newInstance= =A0 =A0 =A0 =A0 Transformer transformer=3Dfactory.newTransformer(new=20 =A0 =A0 =A0 =A0=20 =A0 =A0 =A0 =A0=20 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 transformer.setParameter(key,parameters.get= =A0 =A0 =A0 =A0 =A0 =A0 getErrLogMgr().inform("Transformation mit XSL File = " + xslfile + "=20 =A0 =A0 =A0 =A0=20 Regards, Bernhard Donaubauer</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j-user@lists.sourceforge.net</header>
    <date>Tue Jan 17 18:35:00 CET 2006</date>
    <body>SSBkb24ndCBiZWxpZXZlIHRoaXMgaXMgYSBkb200aiBpc3N1ZSwgSSBhc3N1bWUgdGhpcyBpcyBi ZWNhdXNlIG9mIGNoYW5nZXMgdG8KdGhlIFhTTFQgcHJvY2Vzc29yIGRpc3RyaWJ1dGVkIHdpdGgg SkRLIDUuMCAoWFNMVEMgaXMgbm93IHRoZSBkZWZhdWx0CnRyYW5zZm9ybWVyKS4KClBsZWFzZSBo YXZlIGEgbG9vayBhdCB0aGlzIGZvciBzb21lIG1vcmUgaW5mb3JtYXRpb246Cmh0dHA6Ly9qYXZh LnN1bi5jb20vajJzZS8xLjUuMC9jb21wYXRpYmlsaXR5Lmh0bWwjNDk1OTc4MwoKUmVnYXJkcywK RWR3aW4K</body>
  </mail>
  <mail>
    <header>[dom4j-user] jdk 1.3 &amp;amp; dom4j</header>
    <date>Mon Jan 16 01:48:00 CET 2006</date>
    <body>Hi, Can I run dom4j with jdk 1.3? Or the minimum jdk version to support dom4j is 1.4? Thanks.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Exception in thread "main" java.lang.NoClassDefFoundError: org/dom4j/DocumentExc</header>
    <date>Thu Jan 12 18:23:00 CET 2006</date>
    <body>Hi, I created a jar file using Eclipse running on windows, transferred it to a UNIX server and when I try to run it using the following command, I get the error after the line below: /usr/java/jdk5/bin/java -jar sitemapMigrator.jar Exception in thread "main" java.lang.NoClassDefFoundError: org/dom4j/DocumentException I checked the ANT build script and I know the error is suggesting that the jar for dom4j is missing from sitemapMigrator.jar but looking at the script I can see that it should be included in the build. Does anyone know how to resolve this issue or have any idea what could be going wrong? Many thanks for your help in advance Raymond</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Exception in thread "main" java.lang.NoClassDefFoundError:
 org/dom4j/DocumentExc</header>
    <date>Thu Jan 12 19:11:00 CET 2006</date>
    <body>Raymond, I fear that this isn't really a dom4j issue itself but a Java one. But saying this wouldn't help you much, so I'll try to point you in the right direction. When you say that the dom4j jar is 'missing' from sitemapMigrator.jar, bear in mind that even if the jar file itself were somehow nested inside sitemapMigrator.jar, the class loader would ignore it. You would have to include all the classes of dom4j.jar individually, Java doesn't support nesting of jars within jars. Ant has a zipfileset with src attribute facility which may help you include just the dom4j classes, for example: Personally, I wouldn't do this because you are merging two sets of classes together. Sometime in the future you might want to know the version of dom4j you were using when you did this step, or you might want to use another version of dom4j, and it would be somewhat more cumbersome to figure things out. Back to your problem- Alternatively, it might be that dom4j.jar appears in the JRE installed on the Windows machine, or in the Eclipse classpath, but not in the JRE on the UNIX machine, and that might explain what you are seeing. However, I wouldn't recommend relying on the presence of dom4j on your deployment machine but instead I would suggest you ship dom4j.jar separately, and include it in the classpath when you run your utility. For example: If you really want to use the -jar method of launching your utility (and I don't really see much advantage to doing so on UNIX but anyhow), you should ship both jars separately and include a Class-Path entry in the MANIFEST.MF file inside sitemapMigrator.jar that links to dom4j.jar :- From memory it would look a bit like this: Manifest-Version: 1.0 Class-Path: dom4j.jar Hope this helps. Malcolm Raymond Sebuwufu wrote: http://ads.osdn.com/?ad_id=7637&amp;amp;alloc_id=16865&amp;amp;op=click https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Exception in thread "main" java.lang.NoClassDefFoundError: org/dom4j/DocumentExc</header>
    <date>Fri Jan 13 04:28:00 CET 2006</date>
    <body>Hi, See the following link. It might help. http://www-128.ibm.com/developerworks/java/library/j-onejar/ On 1/13/06, Malcolm Sparks &amp;lt;malcolm@...&amp;gt; wrote: f s n t ly, I p o e http://ads.osdn.com/?ad_id=3D7637&amp;amp;alloc_id=3D16865&amp;amp;op=3Dclick https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Regards, Saurav</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with XPATH</header>
    <date>Wed Jan 11 11:41:00 CET 2006</date>
    <body>Hello, I am trying to modify a soapmessage. The message follows: http://schemas.xmlsoap.org/soap/envelope/ " xmlns:xsi=3D" http://www.w3.org/2001/XMLSchema-instance " xmlns:soapenc=3D" http://schemas.xmlsoap.org/soap/encoding/ " xmlns:xsd=3D" http://www.w3.org/2001/XMLSchema"&amp;gt;&amp;lt;env:Header/&amp;gt;&amp;lt;env:Body&amp;gt;&amp;lt;n1:s= http://www.w3.org/2001/XMLSchema%22%3E%3Cenv:Header/%3E%3Ce= nv:Body%3E%3Cn1:sendNotification&amp;gt;xmlns:n1=3D" http://us.abc.com/notification= "&amp;gt;&amp;lt;n2:attachmentURL http://us.abc.com/notification%22%3E%3Cn2:attachmentURL&amp;gt;xmlns:n3=3D"java:l= anguage_builtins.lang" xmlns:n2=3D"java:com.abc.us.mw.notifier.beans" xsi:type=3D"n3:ArrayOfString"&amp;gt;&amp;lt;n3:string&amp;gt;D:\abc1.txt&amp;lt;/n3:string&amp;gt;&amp;lt;n3:string&amp;gt;= D:\app.properties&amp;lt;/n3:string&amp;gt;&amp;lt;/n2:attachmentURL&amp;gt;&amp;lt;n4:body xmlns:n4=3D"java: com.abc.us.mw.notifier.beans" xsi:nil=3D"true"/&amp;gt;&amp;lt;n5:fileD= ir xmlns:n5=3D"java:com.abc.us.mw.notifier.beans" xsi:nil=3D"true"/&amp;gt;&amp;lt;n6:recipi= ents xmlns:n6=3D"java:com.abc.us.mw.notifier.beans " xsi:type=3D"n6:ArrayOfNotificationRecipient"&amp;gt;&amp;lt;n6:NotificationRecipient&amp;gt;&amp;lt;n6:= context xsi:nil=3D"true"/&amp;gt;&amp;lt;n6:id&amp;gt; saurav.chatterjee@... /n6:recipients&amp;gt;&amp;lt;n7:runtimeAttachmentBaseURL xmlns:n7=3D"java:com.abc.us.mw.notifier.beans" xsi:nil=3D"true"/&amp;gt;&amp;lt;n8:sender xmlns:n8=3D"java: com.abc.us.mw.notifier.beans"&amp;gt;saurav.chatterjee@...= ingleMail xmlns:n9=3D"java:com.abc.us.mw.notifier.beans"&amp;gt;true&amp;lt;/n9:singleMail&amp;gt;&amp;lt;n10:soa= pAttachment xmlns:n10=3D"java: com.abc.us.mw.notifier.beans" xsi:nil=3D"true"/&amp;gt;&amp;lt;n11:sub= ject xmlns:n11=3D"java:com.abc.us.mw.notifier.beans"&amp;gt;IFC message from abc India&amp;lt;/n11:subject&amp;gt;&amp;lt;n12:templateCode xmlns:n12=3D"java: com.abc.us.mw.notifier.beans Now I want to modify the elemnt attacmentURL. For this I converted the string to a Document. I formulated a XPATH query from XMLSPY editor. But th= e list that it returns is null. Here is my code: org.dom4j.Document doc2 =3D DocumentHelper.parseText(&amp;lt;the string mentio= ned XPath xpathSelector =3D DocumentHelper.createXPath This list is null. What I found that it is not recognising the namespace n1= , n2 etc. Because when I am removing this namespaces then the output is givin= g the desired result. As I can't change the message, is there any way out? -- Regards, Saurav</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with XPATH</header>
    <date>Wed Jan 11 13:25:00 CET 2006</date>
    <body>WW91IHdpbGwgaGF2ZSB0byB0ZWxsIHlvdXIgWFBhdGggd2hhdCBuYW1lc3BhY2UgcHJlZml4IG1h cHBpbmdzIHRvIHVzZS4KCm9yZy5kb200ai5Eb2N1bWVudCBkb2MyID0gRG9jdW1lbnRIZWxwZXIu cGFyc2VUZXh0KDx0aGUgc3RyaW5nCm1lbnRpb25lZCBhYm92ZT4pOwpYUGF0aCB4cGF0aFNlbGVj dG9yID0KRG9jdW1lbnRIZWxwZXIuY3JlYXRlWFBhdGgoIi9lbnY6RW52ZWxvcGUvZW52OkJvZHkv bjE6c2VuZE5vdGlmaWNhdGlvbi9uMjphdHRhY2htZW50VVJMIik7CgpIYXNoTWFwIG1hcCA9IG5l dyBIYXNoTWFwKCk7Cm1hcC5wdXQoICJlbnYiLCAiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcv c29hcC9lbnZlbG9wZS8iKTsKbWFwLnB1dCggIm4xIiwgImh0dHA6Ly91cy5hYmMuY29tL25vdGlm aWNhdGlvbiIpOwptYXAucHV0KCAibjIiLCAiamF2YTpjb20uYWJjLnVzLm13Lm5vdGlmaWVyLmJl YW5zIik7CnhwYXRoU2VsZWN0b3Iuc2V0TmFtZXNwYWNlVVJJcyggbWFwKTsKCkxpc3QgcmVzdWx0 cyA9IHhwYXRoU2VsZWN0b3Iuc2VsZWN0Tm9kZXMoZG9jMik7CgpVc2luZyB0aGUgYWJvdmUgc2hv dWxkIHdvcmsuCgpSZWdhcmRzLApFZHdpbgotLQpodHRwOi8vd3d3LmVkYW5rZXJ0LmNvbS8K</body>
  </mail>
  <mail>
    <header>[dom4j-user] Empty Elements</header>
    <date>Wed Jan 11 19:18:00 CET 2006</date>
    <body>Hello, I was wondering is anyone knew how to (if possible) make XMLWriter not collapse empty elements to: &amp;lt;tagname/&amp;gt;.  Firefox doesn't seem to like I noticed |*isExpandEmptyElements http://www.dom4j.org/apidocs/org/dom4j/io/XMLWriter.html#isExpandEmptyElements%28%29&amp;gt;*()|and would venture a guess that I need to set some property, but that's as far as I've gotten. Thanks, --Evan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Empty Elements</header>
    <date>Wed Jan 11 19:52:00 CET 2006</date>
    <body>WW91IGNvdWxkIHVzZSBPdXRwdXRGb3JtYXQuc2V0RXhwYW5kRW1wdHlFbGVtZW50cyggYm9vbGVh bikuCmh0dHA6Ly93d3cuZG9tNGoub3JnL2FwaWRvY3Mvb3JnL2RvbTRqL2lvL091dHB1dEZvcm1h dC5odG1sI3NldEV4cGFuZEVtcHR5RWxlbWVudHMoYm9vbGVhbikKClJlZ2FyZHMsCkVkd2luCgot LQpodHRwOi8vd3d3LmVkYW5rZXJ0LmNvbS8K</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with UTF-8 encoding</header>
    <date>Mon Jan 09 14:29:00 CET 2006</date>
    <body>Hi all, Using dom4j 1.6.1. I have the following XML file (in location data/encoding.xml): ****************************************** ****************************************** (in case the e-mail messes up the encoding, the last letter in the "test" tag is e with an accute accent) The following JUnit test case fails. Any idea what I'm doing wrong? For info, the e accute is getting replaced by the characters =C3=83=C2=A9= (capital A with tilde, copyright symbol), which are the exactly what you'd get if you read the UTF-8 character =C3=A9 (e acute) using ISO-8859-1. ******************************************* assertEquals("fatigu=C3=A9", root.getStringValue()); =20 ******************************************* Best regards, Assaf Urieli Joliciel Informatique http://www.joli-ciel.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with UTF-8 encoding</header>
    <date>Mon Jan 09 14:51:00 CET 2006</date>
    <body>Found my own solution - it's got nothing to do with dom4j, but rather with java.io. Use: FileInputStream is =3D new FileInputStream("data/test.tmx");     =20 Instead of: This overrides the default encoding. Best regards, Assaf Urieli Joliciel Informatique http://www.joli-ciel.com Assaf Urieli wrote: (capital http://www.joli-ciel.com iles http://ads.osdn.com/?ad_idv37&amp;amp;alloc_id=16865&amp;amp;op=3Dclick https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with UTF-8 encoding</header>
    <date>Mon Jan 09 15:12:00 CET 2006</date>
    <body>PS I meant that using InputStreamReader allows you to override the default encoding, not changing the file's name from "encoding" to "test"! (Oh oh, talking to myself again aren't I!) Best regards, Assaf Urieli Joliciel Informatique http://www.joli-ciel.com Assaf Urieli wrote: http://www.joli-ciel.com (capital f http://www.joli-ciel.com files http://ads.osdn.com/?ad_idv37&amp;amp;alloc_id=16865&amp;amp;op=3Dclick https://lists.sourceforge.net/lists/listinfo/dom4j-user iles http://ads.osdn.com/?ad_idv37&amp;amp;alloc_id=16865&amp;amp;op=3Dclick https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Child Ordering</header>
    <date>Thu Jan 05 20:02:00 CET 2006</date>
    <body>Hello all, Is there a simple way to add a child into a certain position?  I find myself getting the parent content List removing the last one, then re-adding it into the correct position which is rather ackward.  In this particular case I'd ideally use the standard DOM insertBefore().  Any help is much apreciated. Thanks, --Evan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Child Ordering</header>
    <date>Fri Jan 06 09:59:00 CET 2006</date>
    <body>SSdtIG5vdCBzdXJlIGlmIHRoaXMgc29sdmVzIHRoZSBwcm9ibGVtIGJ1dCB5b3UgY2FuIHVzZSB0 aGUKamF2YS51dGlsLkxpc3QgZnVuY3Rpb25hbGl0eSB0byBhZGQgYW4gZWxlbWVudCBhdCBhIHNw ZWNpZmljIGluZGV4LgoKUGxlYXNlIHNlZToKaHR0cDovL3Rpbnl1cmwuY29tLzhldW1wCgpSZWdh cmRzLApFZHdpbgotLQpodHRwOi8vd3d3LmVkYW5rZXJ0LmNvbS8K</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Child Ordering</header>
    <date>Fri Jan 06 14:23:00 CET 2006</date>
    <body>Yeah, I'm surprised there isn't an equivalent of that in the Branch= =20 interface.  The problem with that approach(if it works) is that surel= ey=20 it doesn't link the child back to the parent.  'Course I can do that = so=20 I guess that approach is a little better.  I'd just be worried that= =20 something else happens in add() that I'm unaware of.  java's DOM has= =20 like nextSibling() and whatnot which I imagine they store as a refere= nce. --Evan Edwin Dankert wrote: http://tinyurl.com/8eump http://www.edankert.com/ =BD=EF=BF=BD=EF=BF=BDu=EF=BF=BD=EF=BF=BD=EF=BF=BD[=EF=BF=BD=EF=BF= =BD=EF=BF=BD=EF=BF=BD=0E=EF=BF=BD=EF=BF=BD=EF=BF=BD =EF=BF=BD~=EF=BF=BD=E9=AE=86=EF=BF=BDzk=12=EF=BF=BD=EF=BF=BDC=EF=BF= =BD=09=E5=A1=A7m=EF=BF=BD=EF=BF=BD=EF=BF=BD=EF=BF=BD=02@...= =BF=BD=EF=BF=BD^=EF=BF=BD=08=EF=BF=BDz=EF=BF=BDZ=EF=BF=BDf=EF=BF=BDz= =EF=BF=BD=1Ej=EF=BF=BD!=EF=BF=BDx2=EF=BF=BD=EF=BF=BD=EF=BF=BD=07=EF= =BF=BD=EF=BF=BD=1A=EF=BF=BD=EF=BF=BD=C9=AB,=EF=BF=BD=EF=BF=BD=EF=BF= =EF=BF=BDm=EF=BF=BD=EF=BF=BD=EF=BF=BDi=EF=BF=BD(=EF=BF=BD=EF=BF=BD= =DC=A2o=EF=BF=BDv'=EF=BF=BD=EF=BF=BDjYhr'=D7=AF:=EF=BF=BDrX=EF=BF= =BD=EF=BF=BD=EF=BF=BD&amp;amp;=EF=BF=BD;=EF=BF=BDz=EF=BF=BD=EF=BF=BD=EF=BF= =BDX=EF=BF=BD=EF=BF=BDX=EF=BF=BD=EF=BF=BD=EF=BF=BD&amp;amp;=EF=BF=BD;=EF=BF= =BDz=EF=BF=BDb=EF=BF=BD=EF=BF=BD,=EF=BF=BD=EF=BF=BD=EF=BF=BDy=EF=BF= =BD+=EF=BF=BD=EF=BF=BD=DE=B6=1Bm=EF=BF=BD=EF=BF=BD=EF=BF=BD=EF=BF= =BD+-=EF=BF=BD=EF=BF=BD.=EF=BF=BD=C7=9F=EF=BF=BD=EF=BF=BD=1E=EF=BF= =BD=EF=BF=BD=7F=EF=BF=BD+-=EF=BF=BD=EF=BF=BDb=EF=BF=BD=D8=A7~=EF=BF= =BD=DD=A2n#=EF=BF=BD=C7=AB</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Child Ordering</header>
    <date>Sun Jan 08 08:06:00 CET 2006</date>
    <body>Hi, Using the List interface does work. The List returned from the = getContent, getElements() getAttributes etc is a backed list. This menas that the handling of the insertion or the removal of the node = to the parent is fully handled Javadoc is your friend :-) Mike http://tinyurl.com/8eump http://www.edankert.com/ =08 z Z f z =1Ej ! x2=20 X   &amp;amp; ; z b =20 =C7=AB http://ads.osdn.com/?ad_idv37&amp;amp;alloc_id=16865&amp;amp;op=3Dick https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Selecting by id</header>
    <date>Fri Jan 06 15:40:00 CET 2006</date>
    <body>Hello all, Another issue I've run into is an inability to select by id.  I have the following code, and the only one that works is the 2nd one which is iterative.  I'm thinking the other two use an actual index. Attached is my xml file, which validates as an XHTML document.  It's my understanding that the XHTML doctype defines "id" to be the unique identifier. Thanks for any help, --Evan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Selecting by id</header>
    <date>Fri Jan 06 17:38:00 CET 2006</date>
    <body>VGhlIGlkKCkgWFBhdGggZnVuY3Rpb24gaXMgY3VycmVudGx5IG5vdCBpbXBsZW1lbnRlZCBmb3Ig ZG9tNGouCgpQbGVhc2Ugc2VlOgpodHRwOi8vd3d3LmpheGVuLm9yZy9zdGF0dXMuaHRtbCNLbm93 bl9wcm9ibGVtcwoKUmVnYXJkcywKRWR3aW4KLS0KaHR0cDovL3d3dy5lZGFua2VydC5jb20vCg==</body>
  </mail>
  <mail>
    <header>[dom4j-user] Creating XML doc branches through an Xpath</header>
    <date>Fri Jan 06 12:54:00 CET 2006</date>
    <body>Hi, I need to create an XML document from scratch (only knowing its root) based on an Xpath array. I've found the method DocumentHelper.makeElement(branch, xpath) very interesting, but it doesn't support attributes nor multiple elements creation. In summary, I need support for Xpaths such as: root/entity/@att roo/entity[1]/ele Any help would be very appreciated. Best regards, Pablo.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] avoid remote fetching of dtds</header>
    <date>Fri Mar 03 04:54:00 CET 2006</date>
    <body>The way you would do this depends on the parser you are using.  There is no standard way to use a parser feature like caching grammars. For Xerces, see http://xerces.apache.org/xerces2-j/faq-grammars.html#faq-1 -----Original Message----- From: Ben Munat [mailto:bent@...] Sent: Thursday, March 02, 2006 9:14 PM To: dom4j-user@... Subject: [dom4j-user] avoid remote fetching of dtds Does anyone know how to get the underlying parser to *not* go and retrieve a DTD on each parse? And in this case I can't download the DTD and change the PUBLIC to SYSTEM (it's an html page that we pull data out of, but will also be read by humans in various places). I found a DTDHandler interface in the org.sax stuff and tried whipping up my own XMLReader implementation (extending ParserAdapter), which just sets the DTDHandler to my own implementation (extending DefaultHandler), which in turn just overrides the method "notationDecl" to make it a no-op. But, that didn't work... went and looked at the DefaultHandler code and it's a no-op anyway. Hmm, and actually, I'm going to want my code that parses this have access to the DTD, since it will need it to resolve entitities (validation's nice too, but not absolutely necessary). So, in reality my question is, how can I convince some parser to ignore the PUBLIC declaration in the DTD and use the cached local copy instead? thanks, b ------------------------------------------------------- This SF.Net email is sponsored by xPML, a groundbreaking scripting language that extends applications into web and mobile media. Attend the live webcast and join the prime developer group breaking into this new coding territory! http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=110944&amp;amp;bid=241720&amp;amp;dat=121642 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] avoid remote fetching of dtds</header>
    <date>Fri Mar 03 02:14:00 CET 2006</date>
    <body>Does anyone know how to get the underlying parser to *not* go and retrieve a DTD on each parse? And in this case I can't download the DTD and change the PUBLIC to SYSTEM (it's an html page that we pull data out of, but will also be read by humans in various places). I found a DTDHandler interface in the org.sax stuff and tried whipping up my own XMLReader implementation (extending ParserAdapter), which just sets the DTDHandler to my own implementation (extending DefaultHandler), which in turn just overrides the method "notationDecl" to make it a no-op. But, that didn't work... went and looked at the DefaultHandler code and it's a no-op anyway. Hmm, and actually, I'm going to want my code that parses this have access to the DTD, since it will need it to resolve entitities (validation's nice too, but not absolutely necessary). So, in reality my question is, how can I convince some parser to ignore the PUBLIC declaration in the DTD and use the cached local copy instead? thanks, b</body>
  </mail>
  <mail>
    <header>[dom4j-user] xpath annoyances</header>
    <date>Fri Feb 24 19:58:00 CET 2006</date>
    <body>I'm having trouble with xpath's returning valid results in dom4j. My co-worker was trying to select a div in an xhtml file based on a class attributes and was getting any results, even though he could get results with the same XPath in jedit (using saxon) and it worked fine. I told him about the namespace problem and added the code -- as Edwin has suggested in the past -- to add a map of namespaces, with just "" mapped to " http://www.w3.org/1999/xhtml ". This works for selecting unqualified elements; i.e. without the [@class='foo'] predicate. (Well, we struggled for a while with it working on my machine but not on his and discovered that he had jaxen-1.1-beta-6 and I had beta-4... so beta-6 apparently introduced a bug!). However, I have been trying for hours to get "//div[@class='content_left']" to work. I'll paste the code/html below. Really hoping someone's listening and can help here... Edwin, my savior, you out there? b code: ns.put(""," http://www.w3.org/1999/xhtml html: http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/1999/xhtml</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath annoyances</header>
    <date>Fri Feb 24 20:25:00 CET 2006</date>
    <body>WW91IHNob3VsZCBzcGVjaWZ5IGEgcHJlZml4IGZvciB5b3VyIG5hbWVzcGFjZSBhbmQgdXNlIHRo aXMgcHJlZml4CmluIHlvdXIgWFBhdGggZXhwcmVzc2lvbi4KClRoZSBmb2xsb3dpbmcgc2hvdWxk IHdvcms6CgpEb2N1bWVudCBkb2N1bWVudCA9IHJlYWRlci5yZWFkKG5ldyBGaWxlKCJmaW5kaW5n cy5odG1sIikpOwpYUGF0aCB4cCA9IERvY3VtZW50RmFjdG9yeS5nZXRJbnN0YW5jZSgpLmNyZWF0 ZVhQYXRoKAoiLy94aHRtbDpkaXZbQGNsYXNzPSdjb250ZW50X2xlZnQnXSIpOwpNYXAgbnMgPSBu ZXcgSGFzaE1hcCgpOwpucy5wdXQoICJ4aHRtbCIsImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0 bWwiKTsKeHAuc2V0TmFtZXNwYWNlVVJJcyggbnMpOwpMaXN0IG5vZGVzID0geHAuc2VsZWN0Tm9k ZXMoICBkb2N1bWVudC5nZXRSb290RWxlbWVudCgpKTsKCkdvb2QgbHVjaywKRWR3aW4KCi0tCmh0 dHA6Ly93d3cuZWRhbmtlcnQuY29tLwo=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath annoyances</header>
    <date>Fri Feb 24 23:38:00 CET 2006</date>
    <body>Thank you Evan, Mark and Edwin! Edwin's solution worked straight up... hooray. I actually thought of that but was sure it wouldn't work because I thought all my elements in my document would need to be prefixed as well. Now I see that the prefix is just preventing the XPath processor from ignoring the namespace. When I saw Mark's solution, I remembered that I actually did that at some point in my murky past. However, it doesn't seem to work this time... I get an XPathException on the local-name() function. Looked it up and that is the correct function name. Weird. But, anyway, using a prefix is working, so I'm good. Evan, I'm intrigued by your ideas, but with Edwin's solution working, I'm throwing this back over the fence to my co-worker. I'll tuck away your code though and take a look at some point. Thanks again! b PS: this gotcha isn't in the cookbook on the dom4j site is it? Maybe it should be added to that... Edwin Dankert wrote: http://www.w3.org/1999/xhtml http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] xpath annoyances</header>
    <date>Fri Feb 24 20:14:00 CET 2006</date>
    <body>If you are not interested in the namespace qualification you could just look for elements with a local name of "div" using an Xpath expression like this: //.[local-name()='div'][@class='content_left'] -----Original Message----- From: Ben Munat [mailto:bent@...] Sent: Friday, February 24, 2006 2:58 PM To: dom4j-user@... Subject: [dom4j-user] xpath annoyances I'm having trouble with xpath's returning valid results in dom4j. My co-worker was trying to select a div in an xhtml file based on a class attributes and was getting any results, even though he could get results with the same XPath in jedit (using saxon) and it worked fine. I told him about the namespace problem and added the code -- as Edwin has suggested in the past -- to add a map of namespaces, with just "" mapped to " http://www.w3.org/1999/xhtml ". This works for selecting unqualified elements; i.e. without the [@class='foo'] predicate. (Well, we struggled for a while with it working on my machine but not on his and discovered that he had jaxen-1.1-beta-6 and I had beta-4... so beta-6 apparently introduced a bug!). However, I have been trying for hours to get "//div[@class='content_left']" to work. I'll paste the code/html below. Really hoping someone's listening and can help here... Edwin, my savior, you out there? b code: XPath xp = ns.put(""," http://www.w3.org/1999/xhtml html: " http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd http://www.w3.org/1999/xhtml ------------------------------------------------------- This SF.Net email is sponsored by xPML, a groundbreaking scripting language that extends applications into web and mobile media. Attend the live webcast and join the prime developer group breaking into this new coding territory! http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=110944&amp;amp;bid=241720&amp;amp;dat=121642 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Inheriting Namespace</header>
    <date>Thu Feb 16 18:25:00 CET 2006</date>
    <body>Hello all, Is there any way to insert a document into another document and make it inherit the namespace of the parent node? Example: doc1: doc2: I'd like to root1.content().addAll( root2.content() ) and make it so that root1.selectNodes("/pre:child") would return all the children. (assuming "pre" is mapped to my "urn:blahblahblah" namespace) Thanks, --Evan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Inheriting Namespace</header>
    <date>Thu Feb 16 20:05:00 CET 2006</date>
    <body>Never mind, I think this happens automatically. Evan Kirkconnell wrote: http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=103432&amp;amp;bid=230486&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath &amp;amp; Namespace</header>
    <date>Thu Feb 16 03:41:00 CET 2006</date>
    <body>Hi, I'm trying to run this XPath query on this data: I'm getting 0 as the size for listSize even though I have xhtml (nested of course) like this: href="/url?sa=l&amp;amp;amp;ai=Bp8ack1vzQ936Oo68qAKyzfztAveuvhHBhYPsAZ2GwgXwslIQARgBKAc4AEifOVDz99Hz_f____8ByAEBlQIUb0oK&amp;amp;amp;num=1&amp;amp;amp;q= http://www.comp1.com " onmouseover="return ss('go to http://www.comp1.com','aw1 ')" New Computers &amp;amp;amp; Hardware I have tested the XPath string in oxygen and it works fine. I was told on the Jaxen list that I need to map the html prefix to http;//www.w3.org/1999/xhtml/namespace. I'm not sure how to do that, especially when working with Jaxen from within Dom4j. Can someone give me a quick example? I'm currently getting the following error: Exception in thread "main" org.dom4j.XPathException: Exception occurred evaluting XPath: //html:a[@id='aw1']. Exception: XPath expression uses unbound namespace prefix html at org.dom4j.xpath.DefaultXPath.handleJaxenException(DefaultXPath.java:374) at org.dom4j.xpath.DefaultXPath.selectNodes(DefaultXPath.java:134) at org.dom4j.tree.AbstractNode.selectNodes(AbstractNode.java:166) at util.Foo.bar(Foo.java:21) at util.Foo.main(Foo.java:49) Thanks! Ray</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath &amp;amp; Namespace</header>
    <date>Thu Feb 16 11:46:00 CET 2006</date>
    <body>VHJ5IHNvbWV0aGluZyBsaWtlIHRoaXM6CgpIYXNoTWFwIG1hcCA9IG5ldyBIYXNoTWFwKCk7Cm1h cC5wdXQoICJodG1sIiwgImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiKTsKClhQYXRoIHhw YXRoID0gRG9jdW1lbnRIZWxwZXIuY3JlYXRlWFBhdGgoICIvL2h0bWw6YVtAaWQ9J2F3MSddIik7 CnhwYXRoLnNldE5hbWVzcGFjZVVSSXMoIG1hcCk7CgpMaXN0IG5vZGVzID0geHBhdGguc2VsZWN0 Tm9kZXMoIHJvb3QpOwoKUmVnYXJkcywKRWR3aW4KLS0KaHR0cDovL3d3dy5lZGFua2VydC5jb20v Cg==</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath &amp;amp; Namespace</header>
    <date>Thu Feb 16 15:05:00 CET 2006</date>
    <body>You can also use setXPathNamespaceURIs(Map) in DocumentFactory to aff= ect=20 selectNodes() and selectSingleNode() for a DOM tree that you create w= ith=20 this Factory. Here's a bit of code that I'm using since I'm writting a DOMServlet A= PI=20 and don't think that the user should have to mess with any namespace= =20 nonsense: /** *Recursively removes the namespace of the element and all its ch= ildren. */ elem.setQName( QName.get( elem.getName(),=20 if(n.getNodeType() =3D=3D Node.ATTRIBUTE_NODE) ( (Attribu= te)n=20 if(n.getNodeType() =3D=3D Node.ELEMENT_NODE) removeNamesp= aces(=20 (Element)n );          =20 --Evan Edwin Dankert wrote: http://www.w3.org/1999/xhtml http://www.edankert.com/ =BD=EF=BF=BD=EF=BF=BDu=EF=BF=BD=EF=BF=BD=EF=BF=BD[=EF=BF=BD=EF=BF= =BD=EF=BF=BD=EF=BF=BD=0E=EF=BF=BD=EF=BF=BD=EF=BF=BD =EF=BF=BD~=EF=BF=BD=E9=AE=86=EF=BF=BDzk=12=EF=BF=BD=EF=BF=BDC=EF=BF= =BD=09=E5=A1=A7m=EF=BF=BD=EF=BF=BD=EF=BF=BD=EF=BF=BD=02@...= =BF=BD=EF=BF=BD^=EF=BF=BD=08=EF=BF=BDz=EF=BF=BDZ=EF=BF=BDf=EF=BF=BDz= =EF=BF=BD=1Ej=EF=BF=BD!=EF=BF=BDx2=EF=BF=BD=EF=BF=BD=EF=BF=BD=07=EF= =BF=BD=EF=BF=BD=1A=EF=BF=BD=EF=BF=BD=C9=AB,=EF=BF=BD=EF=BF=BD=EF=BF= =EF=BF=BDm=EF=BF=BD=EF=BF=BD=EF=BF=BD=EF=BF=BD=EF=BF=BDZ=EF=BF=BD= =EF=BF=BD=1FjY=1A=EF=BF=BDw=EF=BF=BD=EF=BF=BD=C7=A5rg=EF=BF=BDy$=EF= =BF=BD=EF=BF=BD=EF=BF=BD~7=D9=B8=EF=BF=BD=03m=EF=BF=BD=CE=9Dj=EF=BF= =BD=EF=BF=BD^=EF=BF=BD=EF=BF=BD=EF=BF=BD&amp;amp;=EF=BF=BD;=EF=BF=BDz=EF=BF= =BD=EF=BF=BD=EF=BF=BDX=EF=BF=BD=EF=BF=BDX=EF=BF=BD=EF=BF=BD=EF=BF= =BD&amp;amp;=EF=BF=BD;=EF=BF=BDz=EF=BF=BDb=EF=BF=BD=EF=BF=BD,=EF=BF=BD=EF= =BF=BD=EF=BF=BDy=EF=BF=BD+=EF=BF=BD=EF=BF=BD=DE=B6=1Bm=EF=BF=BD=EF= =BF=BD=EF=BF=BD=EF=BF=BD+-=EF=BF=BD=EF=BF=BD.=EF=BF=BD=C7=9F=EF=BF= =BD=EF=BF=BD=1E=EF=BF=BD=EF=BF=BD=7F=EF=BF=BD+-=EF=BF=BD=EF=BF=BDb= =EF=BF=BD=D8=A7~=EF=BF=BD=DD=A2n#=EF=BF=BD=C7=AB</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath &amp;amp; Namespace</header>
    <date>Thu Feb 16 16:44:00 CET 2006</date>
    <body>PiBZb3UgY2FuIGFsc28gdXNlIHNldFhQYXRoTmFtZXNwYWNlVVJJcyhNYXApIGluCj4gRG9jdW1l bnRGYWN0b3J5IHRvIGFmZmVjdCBzZWxlY3ROb2RlcygpIGFuZAo+IHNlbGVjdFNpbmdsZU5vZGUo KSBmb3IgYSBET00gdHJlZSB0aGF0IHlvdSBjcmVhdGUgd2l0aAo+IHRoaXMgRmFjdG9yeS4KClRo YXQncyBhbm90aGVyIGdvb2Qgd2F5IG9mIGRvaW5nIHRoaXMuCgo+IEhlcmUncyBhIGJpdCBvZiBj b2RlIHRoYXQgSSdtIHVzaW5nIHNpbmNlIEknbSB3cml0dGluZyBhCj4gRE9NU2VydmxldCBBUEkg YW5kIGRvbid0IHRoaW5rIHRoYXQgdGhlIHVzZXIgc2hvdWxkCj4gaGF2ZSB0byBtZXNzIHdpdGgg YW55IG5hbWVzcGFjZSBub25zZW5zZToKCkkgd291bGRuJ3QgcmVjb21tZW5kIHRoaXMuCgpOYW1l c3BhY2VzIG1pZ2h0IG1ha2UgWE1MIGFuZCBYUGF0aHMgYSBsaXR0bGUgYml0CnRyaWNraWVyIGJ1 dCBJIGJlbGlldmUgaXQgcGF5cyBvZmYgaW4gdGhlIGVuZCB0byBpbXBsZW1lbnQKdGhpcyBjb3Jy ZWN0bHkuCgpSZWdhcmRzLApFZHdpbgotLQpodHRwOi8vd3d3LmVkYW5rZXJ0LmNvbS8K</body>
  </mail>
  <mail>
    <header>[dom4j-user] [ANN] VTD-XML Version 1.5 Released</header>
    <date>Wed Feb 15 07:53:00 CET 2006</date>
    <body>Eight years after the invention of XML, DOM and SAX, despite their respective issues, are still the mainstays of application developers. So is it the end of road for XML parsing innovation? The VTD-XML project team think not. We are proud to announce the availability of both C and Java version 1.5 of VTD-XML, the next generation open-source XML parser that goes beyond DOM and SAX in terms of performance, memory usage and ease of use. The technical highlights of VTD-XML are: * Performance: the world's fastest XML parser, between 5x~10x faster than DOM * Memory Usage: 3x to 5x less than DOM, 1.3x~1.5x XML document size * Random access with built-in XPath support * A simple and intuitive API Other advanced features include: * Buffer reuse * Large document support (2GByte) * Incremental update * Hardware acceleration * Native XML indexing. For demos, latest benchmarks, related articles and software downloads, please visit http://vtd-xml.sf.net . Also let us know your thoughts and suggestions and help us improve VTD-XML.</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to use dom4j in an Eclipse plugin?</header>
    <date>Wed Feb 08 04:42:00 CET 2006</date>
    <body>Hello all. I was wondering if anybody on this list might happen to know a good way of using dom4j from inside of an eclipse plugin? The follow code works just great when I run it outside of my eclipse plugin ... System.out.println("No error yet: 1");     =20 java.util.List packageList =3D = System.out.println("No error yet: 2");     =20 However, when I run it from inside of an eclipse plugin it dies on the 3rd line of code with the following error: No error yet: 1 Unhandled event loop exception Reason: org/jaxen/NamespaceContext Could this be a class loader issue of some sort? I've tried wrapping the dom4j lib as another plugin and establishing a plugin dependency. http://owl-eclipse.projects.semwebcentral.org/CreateLibraryPlugin.html That didn't work. I also tried incorporating the dom4j lib directly into my plugin and that didn't work either. http://gregluck.com/blog/archives/2005/08/eclipse_rcposgi.html Any suggestions would be _greatly_ appreciated. Thank you, Sandy Sandy Ryan Software Engineer 302-983-8517</body>
  </mail>
  <mail>
    <header>[dom4j-user] [Friday] - finding the Mavens in the Java world</header>
    <date>Fri Feb 03 17:58:00 CET 2006</date>
    <body>For those of you that have read The http://www.amazon.com/gp/product/0316346624/sr=1-1/qid=1138589404/ref=pd_bb s_1/002-3569767-9990453?%5Fencoding=UTF8&amp;gt;  Tipping Point, this will make sense (I think). For those that haven't, a maven is a person that trys just about every interesting program they see, and then tells others what they think about it. They're the ones the rest of us depend on to tell us what is worth trying and what new programs we should just skip. http://www.windwardreports.com/ Reports to all mavens in the Java (and .NET) programming world (value $1,134.00). No conditions or requirements or anything like that. A free regular copy with no limitations except that they cannot resell it. Why? We figure if we give them a copy, they might use it. And if they use it, we figure they'll probably post or write about it. So we're not asking them to do anything - but we figure our odds are pretty good they will. (Yes, we believe that much in our reporting engine.) So. Any ideas on how to find these people and make the offer to them? Thanks - dave David Thielen http://www.windwardreports.com http://www.windwardreports.com 303-499-2544</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to improve the XPath performance</header>
    <date>Tue Mar 21 12:36:00 CET 2006</date>
    <body>Hi, I am new to dom4j. Now I am using Jaxen/Dom4j to do Xpath query. I was told that Dom4j supports indexing of dom elements to help XPath queries. I find IndexedDocumentFactory and IndexedElement classes in Dom4j API. Are they intended for such kind of indexing? Can you point me to any document or sample code of enabling elements indexing in dom4j to help xpath query? Thanks a lot, Weijian</body>
  </mail>
  <mail>
    <header>[dom4j-user] Re: How to improve the XPath performance</header>
    <date>Tue Mar 21 14:33:00 CET 2006</date>
    <body>Hi, I use IndexedDocumentFactory to create a document that supports indexed Element  implementations to allow quicker lookup via name of Element and Attributes, as follows. Dom4jXPath xpath =3D new Dom4jXPath(queryString); //queryString is an XPath expression. org.dom4j.Document dom4j =3D reader.read(doc); // doc is a w3c dom document= . I do not observe any performance improvement compared with that not using IndexedDocumentFactory. But I do observe that jaxen/dom4j is significantly faster than jaxen/dom. Is the indexing enabled in dom4j by default? Thanks, Weijian On 21/03/06, Weijian Fang &amp;lt;wf@...&amp;gt; wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to parse large xml file with namespaces?</header>
    <date>Mon Mar 06 16:10:00 CET 2006</date>
    <body>Hi all, I'm trying to parse a large xml-file (~500MB) that contains namespaces. I tried it the way recommended in the cookbook (see code below) with a few additional lines to register the namespaces ---&amp;gt;snippet // register the namespaces uris.put( "x", " http://www.something.org/dtds/x.dtd# uris.put( "y", " http://www.w3.org/1999/02/22-rdf-syntax-ns# // enable pruning to call me back as each Element is complete The main code to parse the document is from the dom4j FAQ how to handle very large XML documents except that I added the namespaces ----&amp;gt; start snippet reader.addHandler( "/x:ROWSET/y:ROW", // process a ROW element ... // prune the tree ----end snippet The XML document looks something like this: http://www.something.org/x.dtd# " xmlns:y=" http://www.w3.org/1999/02/22-rdf-syntax-ns# ... ... ... ... When I run the program the onStart and onEnd methods are not called. What am I doing wrong? Any help is greatly appreciated. Thanks in advance, Thomas</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to parse large xml file with namespaces?</header>
    <date>Mon Mar 06 21:13:00 CET 2006</date>
    <body>VGhhdCB3b3VsZCBoYXZlIGJlZW4gdGhlIHBlcmZlY3Qgd2F5IHRvIHNwZWNpZnkgYW4gWFBhdGgs IGhvd2V2ZXIgdGhlClBhdGggc3BlY2lmaWVkIGZvciB0aGUgRWxlbWVudEhhbmRsZXIgaXMgYWN0 dWFsbHkgdmVyeSBzaW1wbGUsIGFuZCBub3QKcmVhbGx5IGFuIFhQYXRoLgoKTG9va2luZyBhdCB0 aGUgRWxlbWVudEhhbmRsZXIgY29kZSwgaXQgc2VlbXMgdGhhdCBpdCBkb2Vzbid0IHByb2Nlc3MK cXVhbGlmaWVkIG5hbWVzIGluIHRoZSBQYXRoLgoKVGhlIGZvbGxvd2luZyBwYXRoIHNob3VsZCB3 b3JrOgoKL1JPV1NFVC9ST1cKClJlZ2FyZHMsCkVkd2luCgotLQpodHRwOi8vd3d3LmVkYW5rZXJ0 LmNvbS8K</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] avoid remote fetching of dtds</header>
    <date>Fri Mar 03 12:28:00 CET 2006</date>
    <body>QW5vdGhlciB3YXkgd291bGQgYmUgdG8gb3ZlcnJpZGUgdGhlIEVudGl0eVJlc29sdmVyLCBhbmQg c2V0Cml0IG9uIHRoZSB1bmRlcmx5aW5nIFhNTFJlYWRlciBvciBEb2N1bWVudEJ1aWxkZXIgLi4u CgppbXBvcnQgb3JnLnhtbC5zYXguRW50aXR5UmVzb2x2ZXI7CmltcG9ydCBvcmcueG1sLnNheC5J bnB1dFNvdXJjZTsKCnB1YmxpYyBjbGFzcyBMb2NhbFJlc29sdmVyIGltcGxlbWVudHMgRW50aXR5 UmVzb2x2ZXIKICBwdWJsaWMgSW5wdXRTb3VyY2UgcmVzb2x2ZUVudGl0eSggU3RyaW5nIHB1Ymxp Y0lkLCBTdHJpbmcgc3lzdGVtSWQpIHsKICAgIGlmICggc3lzdGVtSWQuZXF1YWxzKCAiaHR0cDov L3d3dy5mb28ub3JnL2Jhci5kdGQiKSkgewogICAgICByZXR1cm4gbmV3IElucHV0U291cmNlKCAi YmFyLmR0ZCIpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfQp9CgpS ZWdhcmRzLApFZHdpbgotLQpodHRwOi8vd3d3LmVkYW5rZXJ0LmNvbS8K</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] avoid remote fetching of dtds</header>
    <date>Fri Mar 03 16:40:00 CET 2006</date>
    <body>Hmm, I'll try that today... thanks! b Edwin Dankert wrote: http://www.foo.org/bar.dtd http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to remove tags?</header>
    <date>Tue Apr 25 22:10:00 CEST 2006</date>
    <body>Hello, I'm trying to remove all of the images in an XHTML file. Here's what I have: When I output the document to XML, the image tags are still in there. Am I missing a save or something? Thanks! Ray Grieselhuber</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to remove tags?</header>
    <date>Wed Apr 26 13:34:00 CEST 2006</date>
    <body>I'd assume that modification of the List returned by the XPath query does not modify the DOM tree.  Try attribute.getParent().detach() instead of iter.remove().  A better approach might be to select all the img tags, use attributeValue to show the src attribute, and call detach() on each. --Evan Ray Grieselhuber wrote: http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Xpath parameter of selectSingleNode method</header>
    <date>Thu Apr 13 04:40:00 CEST 2006</date>
    <body>Hi ! I'am a beginer in dom4j. I searched if some one else have the same problem and I did not found. My environment : sun jdk1.5.0_06 dom4j-1.6.1 fedora core 4 My xml file : isDefault="true" isJNDI="true" initialContext="java:comp/env" isDefault="false" isJNDI="false" driver="org.postgresql.Driver" user="foodmart" password="smartfood" jdbcUrl="jdbc: postgresql://localhost:5432/foodmart"/ I have to determine the good connection I must use. If no connction is define I use the default one :   isDefault="true". But when I indicate the name of the connection that I want to use dom4J not  found any one. I identtify that my problem comes from this code : connectionDef = documentConFile.selectSingleNode("//CONNECTIONS-CONFIGURATION/CONNECTION[@name='"+ connectionDef = The variable "nameConnection" is valid. I check it and it is intanciated and is the good value. If I put a static text like "//CONNECTIONS-CONFIGURATION/CONNECTION[@name='postgresDWH']" for the Xpath, dom4j return a valid "connectionDef". If I put this same string in a variable dom4j selectSingleNode method return null. Xpath parameter of selectSingleNode method can't be a variable ? Thanks a lot. Charly CLAIRMONT ---------------- CTO ALTIC, une ALTernative à votre système d'Information et de Communication mail : charly.clairmont@... mob  : +33(0)661736013 tel  : +33(0)870286663 site : http://www.altic.org</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Xpath parameter of selectSingleNode method</header>
    <date>Thu Apr 13 05:08:00 CEST 2006</date>
    <body>Charly, it should work, are you sure that the variable 'nameConnection' has the value "postgresDWH" (without the quotes)? also, I've noticed that you don't have a closing ']' in the xpath _expression in your else-clause. regards, Maarten Charly CLAIRMONT &amp;lt;charly.clairmont@...&amp;gt; wrote: Hi ! I'am a beginer in dom4j. I searched if some one else have the same problem and I did not found. My environment : sun jdk1.5.0_06 dom4j-1.6.1 fedora core 4 My xml file : isDefault="true" isJNDI="true" initialContext="java:comp/env" isDefault="false" isJNDI="false" driver="org.postgresql.Driver" user="foodmart" password="smartfood" jdbcUrl="jdbc: postgresql://localhost:5432/foodmart"/ I have to determine the good connection I must use. If no connction is define I use the default one :   isDefault="true". But when I indicate the name of the connection that I want to use dom4J not  found any one. I identtify that my problem comes from this code : connectionDef = documentConFile.selectSingleNode("//CONNECTIONS-CONFIGURATION/CONNECTION[@name='"+ connectionDef = The variable "nameConnection" is valid. I check it and it is intanciated and is the good value. If I put a static text like "//CONNECTIONS-CONFIGURATION/CONNECTION[@name='postgresDWH']" for the Xpath, dom4j return a valid "connectionDef". If I put this same string in a variable dom4j selectSingleNode method return null. Xpath parameter of selectSingleNode method can't be a variable ? Thanks a lot. Charly CLAIRMONT ---------------- CTO ALTIC, une ALTernative ï¿½ votre systï¿½me d'Information et de Communication mail : charly.clairmont@... mob  : +33(0)661736013 tel  : +33(0)870286663 site : http://www.altic.org ------------------------------------------------------- This SF.Net email is sponsored by xPML, a groundbreaking scripting language that extends applications into web and mobile media. Attend the live webcast and join the prime developer group breaking into this new coding territory! http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=110944&amp;amp;bid=241720&amp;amp;dat=121642 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user --------------------------------- Talk is cheap. Use Yahoo! Messenger to make PC-to-Phone calls.  Great rates starting at 1&amp;amp;cent;/min.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Questions</header>
    <date>Thu Apr 13 14:34:00 CEST 2006</date>
    <body>Here are a couple questions/issues I have about/with dom4j. 1.  Does elementById() work?  What makes a tree "capable of understanding which attribute value should be used for the ID". 2. Why do you have to export a dom4j model to make it w3c compatible? Surely all the methods are easily implemented with dom4j methods...</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem using dom4j-1.6.jar &amp;amp; dom4j-1.6.1.jar</header>
    <date>Wed Apr 05 09:00:00 CEST 2006</date>
    <body>Hi, I dowloaded the dom4j-1.6.jar and tryied using the JTableDemo. But i am geting compilation error at i.e at line no : 51.There is no such contructor. Another problem is that I am not able to use the dom4j-1.6.1.jar its giving so many problem I am using Eclipse IDE and totally new to this. Basically I want to create a JTable from a xml where all the data(columns as well as the row data) is stored. Please help me in this regards Thanks Neel --------------------------------- Talk is cheap. Use Yahoo! Messenger to make PC-to-Phone calls.  Great rates starting at 1&amp;amp;cent;/min.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem using dom4j-1.6.jar &amp;amp; dom4j-1.6.1.jar</header>
    <date>Wed Apr 05 10:01:00 CEST 2006</date>
    <body>Neelakantan K wrote: Well you haven't said what the types of definition and document are? Do they match any of the constructors: http://www.dom4j.org/apidocs/org/dom4j/swing/XMLTableModel.html If you still have problems post a minimal but complete example that exhibits the problem? Works fine for me, Have you added the jar to the build classpath in Project-&amp;gt;properties-&amp;gt;java build path? Can you run "unzip -l dom4j-1.6.1.jar" or open it with winzip to check it's not corrupted? MikeG</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] XLS with XML containing JSP tags - weird!</header>
    <date>Wed May 24 13:49:00 CEST 2006</date>
    <body>Is the c namespace prefix declared? It looks like it's not.=20 -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Adam Henderson Sent: Wednesday, May 24, 2006 8:47 AM To: dom4j-user@... Subject: [dom4j-user] XLS with XML containing JSP tags - weird! Hi All, Hope this is the right place to ask and somebody could help. I've got an XML file which is similar to XHTML but also has jps tags ( c:if test=3D"blah...") embedded. When I do my transformation I get: org.dom4j.DocumentException: Error on line 439 of document: The prefix "c" for element "c:if" is not bound. Nested exception: The prefix "c" for element "c:if" is not bound. at org.dom4j.io.SAXReader.read(SAXReader.java:482) blah... Below is a snippet from my method that does the conversion from a string into a Document object.. 286  // Read file as a string 287  String fileAsString =3D 288 289  // Convert to a Document object My source XML looks a little like this.. 440        do something Anybody got any idea? Many thanks, Adam. ------------------------------------------------------- All the advantages of Linux Managed Hosting--Without the Cost and Risk! Fully trained technicians. The highest number of Red Hat certifications in the hosting industry. Fanatical Support. Click to learn more http://sel.as-us.falkag.net/sel?cmd=3Dlnk&amp;amp;kid=3D107521&amp;amp;bid=3D248729&amp;amp;dat=3D= 121642 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XLS with XML containing JSP tags - weird!</header>
    <date>Wed May 24 13:56:00 CEST 2006</date>
    <body>Adam Henderson wrote: You are using elements that are in namespaces. You need to declare those on the root or where they are used. You probably want something like: http://www.w3.org/1999/xhtml " xmlns:c=" http://java.sun.com/jstl/core_rt etc... Using JSP and especially taglibs with XML is a pain. I started out using JSP, but have since switched to Velocity. best, -Rob</body>
  </mail>
  <mail>
    <header>[dom4j-user] XLS with XML containing JSP tags - weird!</header>
    <date>Wed May 24 12:27:00 CEST 2006</date>
    <body>Hi All, Hope this is the right place to ask and somebody could help. I've got an XML file which is similar to XHTML but also has jps tags ( c:if test="blah...") embedded. When I do my transformation I get: org.dom4j.DocumentException: Error on line 439 of document: The prefix "c" for element "c:if" is not bound. Nested exception: The prefix "c" for element "c:if" is not bound. at org.dom4j.io.SAXReader.read(SAXReader.java:482) blah... Below is a snippet from my method that does the conversion from a string into a Document object.. 286  // Read file as a string 288 289  // Convert to a Document object My source XML looks a little like this.. 440        do something Anybody got any idea? Many thanks, Adam.</body>
  </mail>
  <mail>
    <header>[dom4j-user] XLS with XML containing JSP tags  - weird!</header>
    <date>Wed May 24 12:22:00 CEST 2006</date>
    <body>Hi All, Hope somebody can help. I've got an XML file which is similar to XHTML but also has jps tags ( c:if test="blah...") embedded. When I do my transformation I get: org.dom4j.DocumentException: Error on line 439 of document: The prefix "c" for element "c:if" is not bound. Nested exception: The prefix "c" for element "c:if" is not bound. at org.dom4j.io.SAXReader.read(SAXReader.java:482) blah... Below is a snippet from my method that does the conversion from a string into a Document object.. 286  // Read file as a string 288 289  // Convert to a Document object My source XML looks a little like this.. 438 439 440          do something 441 442 Anybody got any ideas? Many thanks, Adam.</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Ignorable white space and confusion</header>
    <date>Thu May 18 20:47:00 CEST 2006</date>
    <body>&amp;gt; But why is a DTD necessary to determine ignoreable white space when and &amp;lt;size&amp;gt; is ignorable? If &amp;lt;car&amp;gt; contains mixed content, it wouldn't be ignorable. -----Original Message----- From: dom4j-user-admin@... [mailto:dom4j-user-admin@...] On Behalf Of Noah Davis Sent: Thursday, May 18, 2006 4:43 PM To: dom4j-user@... Subject: [dom4j-user] Ignorable white space and confusion Forgive me if this isn't a dom4j specific question. I turned to dom4j in hopes that it would help me solve a problem I was having: comparing two XML documents. I understand that comparing 2 XML documents isn't trivial. Which is why I've turned to third party tools. However, I'm continuously bumping my head up against the wall here in regards to white space and what is considered "ignorable white space". Articles on the subject I've read point out that it's necessary by default to preserve white space when parsing an XML document because the white space could represent actual significant data. Then they show an example like: --------- Bill Ford 11 West Lane Phili Or an example with mixed content like: my Ok, I understand that. And maybe a DTD can help determine what's significant here and what's not. But why is a DTD necessary to determine ignoreable white space when the whitespace I'm talking about is between elements: is equivalent to The logic that determines this is ignorable white space doesn't seem that complicated: if the whitespace is the only thing between two Elements, ignore it. This may seem like a special case, but it sure seems like it'd be a pretty prominant special case, especially when XML is being used for data as opposed to documents. Is there any tool in the alphabet soup of XML libraries -- JAXP, DOM, SAX, JDOM -- that recognizes this and allows me to ignore this kind of whitespace without having to specify a DTD? I tried dom4j's NodeComparator and didn't have any luck. If not, can anyone offer a recommendation of a simple way to strip this whitespace so I can compare two obviously equal XML documents? ------------------------------------------------------- Using Tomcat but need to do more? Need to support web services, security? Get stuff done quickly with pre-integrated technology to make your job easier Download IBM WebSphere Application Server v.1.0.1 based on Apache Geronimo http://sel.as-us.falkag.net/sel?cmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;dat=3D= 121642 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Ignorable white space and confusion</header>
    <date>Thu May 18 20:54:00 CEST 2006</date>
    <body>I guess I'm starting to understand that, even though it frustrates me to no end. When dealing with XML as a data format (read: data, not markup like html, or other documents) there's rarely mixed content. Or at least, it's the exception to the rule. In any case, I was hoping I'm not the only person who's had this frustration when trying to deal with XML as a data format.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Ignorable white space and confusion</header>
    <date>Thu May 18 22:49:00 CEST 2006</date>
    <body>So I've ended up writing a little piece of code to remove whitespace text nodes: public static void removeWhitespaceNodes(Branch a_branch) for (int i = 0; i &amp;lt; a_branch.nodeCount(); i++) if (checkNode.getNodeType() == Node.TEXT_NODE) if (checkNode.getText().trim().equals(""))</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Ignorable white space and confusion</header>
    <date>Thu May 18 23:03:00 CEST 2006</date>
    <body>Noah, I think what you are trying to do is derive a canonical form of each XML document for comparison.  This turns out to be more involved than simply addressing ignorable whitespace.  The canonicalization scheme should address things like handling of empty tags (e.g. &amp;lt;MyTag&amp;gt;&amp;lt;/MyTag&amp;gt; versus &amp;lt;MyTag/&amp;gt;), attribute ordering, character encoding, comment preservation, XML Declaration, etc.  As you mentioned this is a very useful concept especially when dealing with XML digital signatures. W3C has developed a Recommendation called Canonical XML for this purpose (see http://www.w3.org/TR/xml-c14n ). The XML Security project ( http://xml.apache.org/security/ ) has an XML Canonicalizer class that implements this W3C Recommendation. -Mark -----Original Message----- From: Noah Davis [mailto:noah.box@...] Sent: Thursday, May 18, 2006 6:50 PM To: Edelson, Justin Cc: dom4j-user@... Subject: Re: [dom4j-user] Ignorable white space and confusion So I've ended up writing a little piece of code to remove whitespace text nodes: public static void removeWhitespaceNodes(Branch a_branch) for (int i = 0; i &amp;lt; a_branch.nodeCount(); i++) if (checkNode.getNodeType() == Node.TEXT_NODE) if (checkNode.getText().trim().equals("")) Node.ELEMENT_NODE) ------------------------------------------------------- Using Tomcat but need to do more? Need to support web services, security? Get stuff done quickly with pre-integrated technology to make your job easier Download IBM WebSphere Application Server v.1.0.1 based on Apache Geronimo http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Ignorable white space and confusion</header>
    <date>Thu May 18 23:32:00 CEST 2006</date>
    <body>On 5/18/06, Priest, Mark &amp;lt;mpriest@...&amp;gt; wrote: Thanks for the information about canonicalization. It appears to be what I was looking for albeit in a simplistic form. My particular use case does not require such stringent canonicalization, though it certainly doesn't hurt. Basically, I'm building unit tests where I need to compare actual XML output to expected XML output. The expected output is written by developers and my hope is that they wouldn't have to worry too much about insignificant spaces causing failed unit tests. In side note, don't use my code from earlier. It appears to break when there are several line feed characters for some reason.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Ignorable white space and confusion</header>
    <date>Fri May 19 04:01:00 CEST 2006</date>
    <body>Noah, have you heard about xmlunit[1]? I haven't used it, and it looks like it hasn't been updated in a long time... but still, it might offer some help with your problem. b [1] http://xmlunit.sourceforge.net/ Noah Davis wrote: http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Ignorable white space and confusion</header>
    <date>Fri May 19 05:38:00 CEST 2006</date>
    <body>You know, this is actually the solution to my problem. I've been intermittently fooling around with this API, and had overlooked the method I was looking for: http://xmlunit.sourceforge.net/doc/org/custommonkey/xmlunit/XMLUnit.html#setIgnoreWhitespace(boolean ) Anyhow, thanks everyone for their input. I also looked at canonicalization briefly, and boy am I glad I got xmlunit working .... On 5/19/06, Ben Munat &amp;lt;bent@...&amp;gt; wrote: http://xmlunit.sourceforge.net/ http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Ignorable white space and confusion</header>
    <date>Thu May 18 20:43:00 CEST 2006</date>
    <body>Forgive me if this isn't a dom4j specific question. I turned to dom4j in hopes that it would help me solve a problem I was having: comparing two XML documents. I understand that comparing 2 XML documents isn't trivial. Which is why I've turned to third party tools. However, I'm continuously bumping my head up against the wall here in regards to white space and what is considered "ignorable white space". Articles on the subject I've read point out that it's necessary by default to preserve white space when parsing an XML document because the white space could represent actual significant data. Then they show an example like: --------- Bill Ford 11 West Lane Phili Or an example with mixed content like: my Ok, I understand that. And maybe a DTD can help determine what's significant here and what's not. But why is a DTD necessary to determine ignoreable white space when the whitespace I'm talking about is between elements: is equivalent to The logic that determines this is ignorable white space doesn't seem that complicated: if the whitespace is the only thing between two Elements, ignore it. This may seem like a special case, but it sure seems like it'd be a pretty prominant special case, especially when XML is being used for data as opposed to documents. Is there any tool in the alphabet soup of XML libraries -- JAXP, DOM, SAX, JDOM -- that recognizes this and allows me to ignore this kind of whitespace without having to specify a DTD? I tried dom4j's NodeComparator and didn't have any luck. If not, can anyone offer a recommendation of a simple way to strip this whitespace so I can compare two obviously equal XML documents?</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] how to handle the XML tag</header>
    <date>Wed May 17 18:48:00 CEST 2006</date>
    <body>DefaultHandler is a SAX class and isn't part of dom4j. You should take a = look at http://www.saxproject.org/ for documentation on SAX. The method = that will get called when the parser encounters an element/tag is = startElement(). ________________________________ From: dom4j-user-admin@... = [mailto:dom4j-user-admin@...] On Behalf Of Oytun Askin = (GMail) Sent: Wednesday, May 17, 2006 12:59 PM To: dom4j-user@... Subject: [dom4j-user] how to handle the XML tag Hello guys, I have the following question: I can handle the text part for a XML tag with DefaultHandler's = characters() method by overriding it in a class that extends=20 DefaultHandler successfully.=20 How would i get the name of the tag and its attributes ? Can it be done = using the DefaultHandler or something else? Let me know please.=20 thanks. --=20 Oytun A=FEk=FDn oytun12@...</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to handle the XML tag</header>
    <date>Wed May 17 18:56:00 CEST 2006</date>
    <body>VGhhbmt5b3UgSnVzdGluLiBhbmQgc29ycnkgZm9yIHRoZSBpbmNvcnJlY3QgcG9zdGluZy4KcmVn YXJkcwpPeXR1bgoKCk9uIDUvMTcvMDYsIEVkZWxzb24sIEp1c3RpbiA8SnVzdGluLkVkZWxzb25A bXR2bi5jb20+IHdyb3RlOgo+Cj4gIERlZmF1bHRIYW5kbGVyIGlzIGEgU0FYIGNsYXNzIGFuZCBp c24ndCBwYXJ0IG9mIGRvbTRqLiBZb3Ugc2hvdWxkIHRha2UgYQo+IGxvb2sgYXQgaHR0cDovL3d3 dy5zYXhwcm9qZWN0Lm9yZy8gZm9yIGRvY3VtZW50YXRpb24gb24gU0FYLiBUaGUgbWV0aG9kCj4g dGhhdCB3aWxsIGdldCBjYWxsZWQgd2hlbiB0aGUgcGFyc2VyIGVuY291bnRlcnMgYW4gZWxlbWVu dC90YWcgaXMKPiBzdGFydEVsZW1lbnQoKS4KPgo+ICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t LS0tLS0KPiAqRnJvbToqIGRvbTRqLXVzZXItYWRtaW5AbGlzdHMuc291cmNlZm9yZ2UubmV0IFtt YWlsdG86Cj4gZG9tNGotdXNlci1hZG1pbkBsaXN0cy5zb3VyY2Vmb3JnZS5uZXRdICpPbiBCZWhh bGYgT2YgKk95dHVuIEFza2luIChHTWFpbCkKPiAqU2VudDoqIFdlZG5lc2RheSwgTWF5IDE3LCAy MDA2IDEyOjU5IFBNCj4gKlRvOiogZG9tNGotdXNlckBsaXN0cy5zb3VyY2Vmb3JnZS5uZXQKPiAq U3ViamVjdDoqIFtkb200ai11c2VyXSBob3cgdG8gaGFuZGxlIHRoZSBYTUwgdGFnCj4KPgo+ICBI ZWxsbyBndXlzLAo+IEkgaGF2ZSB0aGUgZm9sbG93aW5nIHF1ZXN0aW9uOgo+IEkgY2FuIGhhbmRs ZSB0aGUgdGV4dCBwYXJ0IGZvciBhIFhNTCB0YWcgd2l0aCBEZWZhdWx0SGFuZGxlcidzCj4gY2hh cmFjdGVycygpIG1ldGhvZCBieSBvdmVycmlkaW5nIGl0IGluIGEgY2xhc3MgdGhhdCBleHRlbmRz Cj4gRGVmYXVsdEhhbmRsZXIgc3VjY2Vzc2Z1bGx5Lgo+IEhvdyB3b3VsZCBpIGdldCB0aGUgbmFt ZSBvZiB0aGUgdGFnIGFuZCBpdHMgYXR0cmlidXRlcyA/IENhbiBpdCBiZSBkb25lCj4gdXNpbmcg dGhlIERlZmF1bHRIYW5kbGVyIG9yIHNvbWV0aGluZyBlbHNlPwo+IExldCBtZSBrbm93IHBsZWFz ZS4KPiB0aGFua3MuCj4gLS0KPiBPeXR1biBB/mv9bgo+IG95dHVuMTJAZ21haWwuY29tCj4KCgoK LS0gCk95dHVuIEH+a/1uCm95dHVuMTJAZ21haWwuY29tCg==</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to handle the XML tag</header>
    <date>Wed May 17 16:59:00 CEST 2006</date>
    <body>SGVsbG8gZ3V5cywKSSBoYXZlIHRoZSBmb2xsb3dpbmcgcXVlc3Rpb246CkkgY2FuIGhhbmRsZSB0 aGUgdGV4dCBwYXJ0IGZvciBhIFhNTCB0YWcgd2l0aCBEZWZhdWx0SGFuZGxlcidzIGNoYXJhY3Rl cnMoKQptZXRob2QgYnkgb3ZlcnJpZGluZyBpdCBpbiBhIGNsYXNzIHRoYXQgZXh0ZW5kcwpEZWZh dWx0SGFuZGxlciBzdWNjZXNzZnVsbHkuCkhvdyB3b3VsZCBpIGdldCB0aGUgbmFtZSBvZiB0aGUg dGFnIGFuZCBpdHMgYXR0cmlidXRlcyA/IENhbiBpdCBiZSBkb25lCnVzaW5nIHRoZSBEZWZhdWx0 SGFuZGxlciBvciBzb21ldGhpbmcgZWxzZT8KTGV0IG1lIGtub3cgcGxlYXNlLgp0aGFua3MuCi0t IApPeXR1biBB/mv9bgpveXR1bjEyQGdtYWlsLmNvbQo=</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to checkout dom4j? I got "No such file or directory" message</header>
    <date>Sat May 13 01:32:00 CEST 2006</date>
    <body>My commands are as follows, which the same on the "Download" webpage. cvs -d:pserver:anonymous@... login cvs -d:pserver:anonymous@... co dom4j However, I kept getting the following message. cvs.exe [checkout aborted]: Error reading from server cvs.dom4j.org: 0: No such file or directory Does anyone know how to deal with it? Thank you Paul</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to checkout dom4j? I got "No such file or directory" message</header>
    <date>Sun May 14 19:58:00 CEST 2006</date>
    <body>It seems that the CVS url has been changed recently: Could you try: cvs -d:pserver:anonymous@... login cvs -d:pserver:anonymous@... co dom4j regards, Maarten ----- Original Message ---- To: dom4j-user@... Sent: Saturday, May 13, 2006 3:32:06 AM Subject: [dom4j-user] How to checkout dom4j? I got "No such file or directory" message My commands are as follows, which the same on the "Download" webpage. cvs -d:pserver:anonymous@... login cvs -d:pserver:anonymous@... co dom4j However, I kept getting the following message. cvs.exe [checkout aborted]: Error reading from server cvs.dom4j.org: 0: No such file or directory Does anyone know how to deal with it? Thank you Paul ------------------------------------------------------- Using Tomcat but need to do more? Need to support web services, security? Get stuff done quickly with pre-integrated technology to make your job easier Download IBM WebSphere Application Server v.1.0.1 based on Apache Geronimo http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Permission request</header>
    <date>Thu May 11 23:17:00 CEST 2006</date>
    <body>Hi, I'm writing an open source framework which uses Jelly as its XML engine. Jelly uses org.dom4j.io.XMLWriter so I need to document the use of dom4j as a project's dependency. Can I be allowed? Marco --- [This E-mail has been scanned for viruses but it is your responsibility to maintain up to date anti virus software on the device that you are currently using to read this email. ]</body>
  </mail>
  <mail>
    <header>[dom4j-user] Error with xml encoding</header>
    <date>Wed May 10 13:05:00 CEST 2006</date>
    <body>Hi, I submit xml message to my engine on linux. the first line of message is :- my tomcat server console gives me error below. org.dom4j.DocumentException: Error on line 1 of document  : Invalid encoding name "en_US.UTF-8" i checked the locales available on machin which is "en_US.utf8". even if i change this to en_US.UTF-8 still same error comes ? any clues ? thanks. Shrirang. __________________________________________________________ Yahoo! India Answers: Share what you know. Learn something new. http://in.answers.yahoo.com</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Error with xml encoding</header>
    <date>Wed May 10 13:48:00 CEST 2006</date>
    <body>Shrirang: You might have to provide more information, but one thing I had to do to set the correct encoding name was to set the encoding itself: java.io.ByteArrayInputStream bIS = new java.io.ByteArrayInputStream( I used this to parse my xml document. I hope this helps ArunJit. http://in.answers.yahoo.com http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>RE: [dom4j-user] Error with xml encoding</header>
    <date>Thu May 11 04:55:00 CEST 2006</date>
    <body>Thanks for the response Arun. I have already added mentioned line in my coding with org.dom4j.io.OutputFormat.setEncoding("UTF-8"). Still error persists!!!! Shrirang. --- arun jit singh &amp;lt;singharunj@...&amp;gt; wrote: http://in.answers.yahoo.com http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user __________________________________________________________ Yahoo! India Answers: Share what you know. Learn something new. http://in.answers.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j &amp;amp; XMLSignatures</header>
    <date>Thu Jun 29 16:14:00 CEST 2006</date>
    <body>Hello, I am using the following code to render a org.w3c.dom.Element to a string of XML for storage and then back to an org.w3c.dom.Element object. This seems to be working pretty well except for the XMLSignature Node of the Element. It seems that I am losing characters from the XMLSignature during the conversion. Any ideas for troubleshooting this problem are greatly appreciated. Thanks! -Garett =20 Here is the initial SignatureValue as it appears in JSwat: "\ndcBfthahGpsAy55Ftk8mXWZozozHxLztBXahpSG6YkXEJ&amp;lt;...&amp;gt;UAWliQIoAUrlyoBKGP6 CLhAY\naGogDWCdYNLQDrbYEmI=3D\n" =20 Then this line of code converts the Element into a stringwriter: domreader.read((Document)assertion_element.getOwnerDocument()).write(str =20 I pasted the relevant portion of the buffer of the stringwriter as it appears in JSwat at the bottom of the email =20 Then this line of code converts the string back to an Element: assertion_element =3D domwriter.write(DocumentHelper.parseText(stringwriter.toString())).getDo =20 Here is the SignatureValue as it appears in JSwat after conversion to an Element from a string. "\ndcBfthahGpsAy55Ftk8mXWZozozHxLztBXahpSG6YkXEJmkBW+Gf0LvtTberW0vSK3jym wbUak+s" =20 This is the relevant portion of the StringWriter buffer as it appears in JSwat: [959] (char): \n (\u000a)=20 [960] (char): d (\u0064)=20 [961] (char): c (\u0063)=20 [962] (char): B (\u0042)=20 [963] (char): f (\u0066)=20 [964] (char): t (\u0074)=20 [965] (char): h (\u0068)=20 [966] (char): a (\u0061)=20 [967] (char): h (\u0068)=20 [968] (char): G (\u0047)=20 [969] (char): p (\u0070)=20 [970] (char): s (\u0073)=20 [971] (char): A (\u0041)=20 [972] (char): y (\u0079)=20 [973] (char): 5 (\u0035)=20 [974] (char): 5 (\u0035)=20 [975] (char): F (\u0046)=20 [976] (char): t (\u0074)=20 [977] (char): k (\u006b)=20 [978] (char): 8 (\u0038)=20 [979] (char): m (\u006d)=20 [980] (char): X (\u0058)=20 [981] (char): W (\u0057)=20 [982] (char): Z (\u005a)=20 [983] (char): o (\u006f)=20 [984] (char): z (\u007a)=20 [985] (char): o (\u006f)=20 [986] (char): z (\u007a)=20 [987] (char): H (\u0048)=20 [988] (char): x (\u0078)=20 [989] (char): L (\u004c)=20 [990] (char): z (\u007a)=20 [991] (char): t (\u0074)=20 [992] (char): B (\u0042)=20 [993] (char): X (\u0058)=20 [994] (char): a (\u0061)=20 [995] (char): h (\u0068)=20 [996] (char): p (\u0070)=20 [997] (char): S (\u0053)=20 [998] (char): G (\u0047)=20 [999] (char): 6 (\u0036)=20 [1000] (char): Y (\u0059)=20 [1001] (char): k (\u006b)=20 [1002] (char): X (\u0058)=20 [1003] (char): E (\u0045)=20 [1004] (char): J (\u004a)=20 [1005] (char): m (\u006d)=20 [1006] (char): k (\u006b)=20 [1007] (char): B (\u0042)=20 [1008] (char): W (\u0057)=20 [1009] (char): + (\u002b)=20 [1010] (char): G (\u0047)=20 [1011] (char): f (\u0066)=20 [1012] (char): 0 (\u0030)=20 [1013] (char): L (\u004c)=20 [1014] (char): v (\u0076)=20 [1015] (char): t (\u0074)=20 [1016] (char): T (\u0054)=20 [1017] (char): b (\u0062)=20 [1018] (char): e (\u0065)=20 [1019] (char): r (\u0072)=20 [1020] (char): W (\u0057)=20 [1021] (char): 0 (\u0030)=20 [1022] (char): v (\u0076)=20 [1023] (char): S (\u0053)=20 [1024] (char): K (\u004b)=20 [1025] (char): 3 (\u0033)=20 [1026] (char): j (\u006a)=20 [1027] (char): y (\u0079)=20 [1028] (char): m (\u006d)=20 [1029] (char): w (\u0077)=20 [1030] (char): b (\u0062)=20 [1031] (char): U (\u0055)=20 [1032] (char): a (\u0061)=20 [1033] (char): k (\u006b)=20 [1034] (char): + (\u002b)=20 [1035] (char): s (\u0073)=20 [1036] (char): \n (\u000a)=20 [1037] (char): m (\u006d)=20 [1038] (char): c (\u0063)=20 [1039] (char): 9 (\u0039)=20 [1040] (char): w (\u0077)=20 [1041] (char): V (\u0056)=20 [1042] (char): 9 (\u0039)=20 [1043] (char): y (\u0079)=20 [1044] (char): 9 (\u0039)=20 [1045] (char): A (\u0041)=20 [1046] (char): 1 (\u0031)=20 [1047] (char): Y (\u0059)=20 [1048] (char): C (\u0043)=20 [1049] (char): r (\u0072)=20 [1050] (char): M (\u004d)=20 [1051] (char): 9 (\u0039)=20 [1052] (char): 0 (\u0030)=20 [1053] (char): c (\u0063)=20 [1054] (char): A (\u0041)=20 [1055] (char): F (\u0046)=20 [1056] (char): S (\u0053)=20 [1057] (char): 0 (\u0030)=20 [1058] (char): z (\u007a)=20 [1059] (char): q (\u0071)=20 [1060] (char): S (\u0053)=20 [1061] (char): P (\u0050)=20 [1062] (char): 3 (\u0033)=20 [1063] (char): d (\u0064)=20 [1064] (char): R (\u0052)=20 [1065] (char): 5 (\u0035)=20 [1066] (char): f (\u0066)=20 [1067] (char): k (\u006b)=20 [1068] (char): H (\u0048)=20 [1069] (char): k (\u006b)=20 [1070] (char): r (\u0072)=20 [1071] (char): e (\u0065)=20 [1072] (char): s (\u0073)=20 [1073] (char): M (\u004d)=20 [1074] (char): P (\u0050)=20 [1075] (char): D (\u0044)=20 [1076] (char): Z (\u005a)=20 [1077] (char): J (\u004a)=20 [1078] (char): 2 (\u0032)=20 [1079] (char): x (\u0078)=20 [1080] (char): p (\u0070)=20 [1081] (char): l (\u006c)=20 [1082] (char): x (\u0078)=20 [1083] (char): a (\u0061)=20 [1084] (char): h (\u0068)=20 [1085] (char): M (\u004d)=20 [1086] (char): M (\u004d)=20 [1087] (char): M (\u004d)=20 [1088] (char): Z (\u005a)=20 [1089] (char): U (\u0055)=20 [1090] (char): A (\u0041)=20 [1091] (char): W (\u0057)=20 [1092] (char): l (\u006c)=20 [1093] (char): i (\u0069)=20 [1094] (char): Q (\u0051)=20 [1095] (char): I (\u0049)=20 [1096] (char): o (\u006f)=20 [1097] (char): A (\u0041)=20 [1098] (char): U (\u0055)=20 [1099] (char): r (\u0072)=20 [1100] (char): l (\u006c)=20 [1101] (char): y (\u0079)=20 [1102] (char): o (\u006f)=20 [1103] (char): B (\u0042)=20 [1104] (char): K (\u004b)=20 [1105] (char): G (\u0047)=20 [1106] (char): P (\u0050)=20 [1107] (char): 6 (\u0036)=20 [1108] (char): C (\u0043)=20 [1109] (char): L (\u004c)=20 [1110] (char): h (\u0068)=20 [1111] (char): A (\u0041)=20 [1112] (char): Y (\u0059)=20 [1113] (char): \n (\u000a)=20 [1114] (char): a (\u0061)=20 [1115] (char): G (\u0047)=20 [1116] (char): o (\u006f)=20 [1117] (char): g (\u0067)=20 [1118] (char): D (\u0044)=20 [1119] (char): W (\u0057)=20 [1120] (char): C (\u0043)=20 [1121] (char): d (\u0064)=20 [1122] (char): Y (\u0059)=20 [1123] (char): N (\u004e)=20 [1124] (char): L (\u004c)=20 [1125] (char): Q (\u0051)=20 [1126] (char): D (\u0044)=20 [1127] (char): r (\u0072)=20 [1128] (char): b (\u0062)=20 [1129] (char): Y (\u0059)=20 [1130] (char): E (\u0045)=20 [1131] (char): m (\u006d)=20 [1132] (char): I (\u0049)=20 [1133] (char): =3D (\u003d)=20 [1134] (char): \n (\u000a)=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] Speed performance with large documents</header>
    <date>Tue Jun 27 07:40:00 CEST 2006</date>
    <body>Dear subscribers, I would like to know if the dom4j is fast when dealing with very large documents. What is the maximum length of an XML file to be proccessed sucessfully? Thanks in advance Rosa _________________________________________________________________ Visita MSN Latino Entretenimiento: ¡música, cine, chismes, TV y más...! http://latino.msn.com/entretenimiento/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Speed performance with large documents</header>
    <date>Tue Jun 27 14:20:00 CEST 2006</date>
    <body>You may want to check out=20 http://www.sosnoski.com/opensrc/xmlbench/results.html --Evan Rosa Mar=EDa Lago wrote: rge=20 ed=20 m=E1s...!=20 http://latino.msn.com/entretenimiento/ urity? job easier eronimo http://sel.as-us.falkag.net/sel?cmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057= &amp;amp;dat=3D121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Extra Attributes</header>
    <date>Fri Jun 23 17:03:00 CEST 2006</date>
    <body>Thanks for the response Mike, I still have a dilemma though, because if I set Xerces' http://apache.org/xml/features/nonvalidating/load-external-dtd to false, it stops adding the rowspan="1"'s, but it also removes all the &amp;amp;nbsp;'s from the document.  Do you have any suggestions?  I'm going to manually remove the added attributes, but I don't really like this solution. --Evan Mike Skells wrote: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Extra Attributes</header>
    <date>Sat Jun 24 09:26:00 CEST 2006</date>
    <body>Why don't you set the 'rowspan' and 'colspan' attributes in your XHTML to the correct value? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Extra Attributes</header>
    <date>Mon Jun 26 14:03:00 CEST 2006</date>
    <body>I think I'm just going to live with it all until we have a new style template which is supposed to happen in a month or so.  Hopefully this will resolve issues like this.  The new one is not supposed to have tables. As for what I'm doing... I'm taking a style template page and merging it with my generated content.  The style template display is breaking because of rowspan/colspan attributes as well as whitespace differences. You can see this in the attached files.  template.html is the template, and new.html is the output after merging.  I removed the merged(generated) body content so that you just see the template differences.  You can also see the issue I was talking about in my response to your pretty print suggestion where the serialization isn't correct where the two head's are merged.(I left the merged head content in there) It's easier to see the code changes if you reformat the html, but this also causes rendering differences. --Evan Mike Skells wrote: http://apache.org/xml/features/nonvalidating/load-external-dtd https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Extra Attributes</header>
    <date>Mon Jun 26 14:26:00 CEST 2006</date>
    <body>Oops, forgot the attachments. I wasn't able to reproduce the rendering difference by just removing the rowspan and colspan attributes.  I guess the pretty printing affected this. --Evan Evan Kirkconnell wrote: http://apache.org/xml/features/nonvalidating/load-external-dtd https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Extra Attributes</header>
    <date>Mon Jun 26 15:13:00 CEST 2006</date>
    <body>Well, I'm not sure there's much to help with anymore.  If the document isn't rendered correctly when the whitespace is formatted, then we'll just have to change the source document.  I'm unable to reproduce the rowspan/colspan issue after formatting the document.  So, really the only thing left is the broken formatting after a DOM manipulation.  In this case the merging of the document heads. As requested, here's my code.  It's somewhat spread out because I have more of a framework than a single program.  I've pieced it together into an attached .txt file. Thanks, --Evan Mike Skells wrote: http://apache.org/xml/features/nonvalidating/load-external-dtd https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=1216 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Document Formatting</header>
    <date>Fri Jun 23 18:56:00 CEST 2006</date>
    <body>Have you tried this: XMLWriter writer = new -----Original Message----- From: Evan Kirkconnell [mailto:ekirkco@...] Sent: Friday, June 23, 2006 2:51 PM To: dom4j-user@... Subject: [dom4j-user] Document Formatting Is there a way to write a Document that doesn't look like poop?  The best I've done is preserved whitespace, but this breaks when you modify the document, which kind of defeats the purpose.  All I really want is for start and end tags to be on their own line if the element has child nodes, and the proper tabbing enforced based on the depth of the element. --Evan Using Tomcat but need to do more? Need to support web services, security? Get stuff done quickly with pre-integrated technology to make your job easier Download IBM WebSphere Application Server v.1.0.1 based on Apache Geronimo http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Document Formatting</header>
    <date>Fri Jun 23 18:49:00 CEST 2006</date>
    <body>Is there a way to write a Document that doesn't look like poop?  The best I've done is preserved whitespace, but this breaks when you modify the document, which kind of defeats the purpose.  All I really want is for start and end tags to be on their own line if the element has child nodes, and the proper tabbing enforced based on the depth of the element. --Evan</body>
  </mail>
  <mail>
    <header>[dom4j-user] Extra Attributes</header>
    <date>Thu Jun 22 13:00:00 CEST 2006</date>
    <body>DOM4J seems to be adding attributes to my document.  I don't know if this is when it's loaded, or when it's serialized, and I'd guess it has something to do with the XHTML DTD.  It's adding rowspan="1" and colspan="1" to my td's and like clear="none" or something like that to br's.  I'm using a pre-existing style document, and this is changing the layout.  I know it sounds kind of silly, but it is changing how the browsers render the content.  Is there a way to turn this off? --Evan</body>
  </mail>
  <mail>
    <header>[dom4j-user] Xpath Dom4j</header>
    <date>Wed Jun 21 19:13:00 CEST 2006</date>
    <body>I am trying to cross a XML by means of the XPath, but this this giving th= e error me: Invalid XPath expression: 'formulario/pasos'. Caused by: null The root of xml is form, and I have tried diverse variations and I do not= understand that it happens.  It wanted to know if somebody can help or a manual me in Spanish, position qeu my English is not very good. The Code is : It does not enter the ClassX.buscaPorXpath1 call (doc), leaves to catch. Waiting for quick and an answer, thank you very much. chucky</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Xpath Dom4j</header>
    <date>Thu Jun 22 10:38:00 CEST 2006</date>
    <body>I was unable to reproduce your issue, can you specify the versions of Jaxen and dom4j you're using? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Hi everyone I have a question about xmlns! help
	me! Thank you!</header>
    <date>Wed Jun 14 02:34:00 CEST 2006</date>
    <body>You either need to add VERSION as an element in the http://www.monternet.com/dsmp/schemas/ namespace or use a namespace prefix with the http://www.monternet.com/dsmp/schemas/ namespace.  It is not clear what you are trying to accomplish.  What namespace do you want the SyncOrderRelationReq and VERSION elements to be in? If you want to put VERSION in the http://www.monternet.com/dsmp/schemas/ namespace then you could do this: Element el_version = el_sync_order_relation_req.addElement( new QName("VERSION", new Namespace("", " http://www.monternet.com/dsmp/schemas/ -----Original Message----- From: snowtank snowtank [mailto:snowtankguo@...] Sent: Tuesday, June 13, 2006 9:55 PM To: dom4j-user@... Subject: [dom4j-user] Hi everyone I have a question about xmlns! help me! Thank you! I make a xml file with dom4j. the content is : http://www.monternet.com/dsmp/schemas/ the code is: el_sync_order_relation_req.addNamespace(""," http://www.monternet.com/dsmp/sc Element el_version = how should I eidt my code.thank you!! _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Hi everyone I have a question about xmlns! help me!
	Thank you!</header>
    <date>Wed Jun 14 01:55:00 CEST 2006</date>
    <body>I make a xml file with dom4j. the content is : http://www.monternet.com/dsmp/schemas/ the code is: el_sync_order_relation_req.addNamespace(""," http://www.monternet.com/dsmp/schemas/ how should I eidt my code.thank you!!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error: Absolute URL required with null context</header>
    <date>Thu Jun 01 15:12:00 CEST 2006</date>
    <body>Andreas, I think it's better to use the URI class to capture the location of your file, get an InputStream from that and then pass the InputStream to the parser rather than letting the parser find the file.  The URI class will definitely work on different operating systems. By the way, I would recommend that you use either JAXP or the latest SAX2 XMLReader.  You appear to be using deprecated APIs. -Mark -----Original Message----- From: Andreas Wenger [mailto:dom4j@...] Sent: Thursday, June 01, 2006 8:13 AM To: dom4j-user@... Subject: [dom4j-user] Error: Absolute URL required with null context Hi! First I have to say, that DOM4J is really great and I love it. I had never any problems with it! But now somebody reported a problem with my program under linux. The log: :26:46 ERROR   com.xenoage.bp2k6.util.language.Language threw an exception: Absolute URL required with null context: data/config/language.xml Nested exception: Absolute URL required with null context: data/config/language.xml Stack Trace: org.dom4j.DocumentException: Absolute URL required with null context: data/config/language.xml Nested exception: Absolute URL required with null context: data/config/language.xml at org.dom4j.io.SAXReader.read(SAXReader.java:484) at org.dom4j.io.SAXReader.read(SAXReader.java:321) at com.xenoage.bp2k6.util.ConfigFile.&amp;lt;init&amp;gt;(ConfigFile.java:51) [...] Everything I do is: It is called from the right path ("data/config/language.xml" really is in that subfolder). I could not find anything with Google's help... Any idea? Thanks! Andi _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error: Absolute URL required with null context</header>
    <date>Thu Jun 01 22:01:00 CEST 2006</date>
    <body>I believe that you could still have the same problem when the implementation of java.net.URI would be different between platforms. I never really looked into the GNU Classpath project but knowing what I know now ... I don't believe per se that it is bad to fork the development of core Java modules but I believe it to be quite bad when the forked modules behave differently and since I don't know how you could avoid having different behaviour when forking these modules ... Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Error: Absolute URL required with null context</header>
    <date>Thu Jun 01 12:13:00 CEST 2006</date>
    <body>Hi! First I have to say, that DOM4J is really great and I love it. I had never any problems with it! But now somebody reported a problem with my program under linux. The log: :26:46 ERROR   com.xenoage.bp2k6.util.language.Language threw an exception: Absolute URL required with null context: data/config/language.xml Nested exception: Absolute URL required with null context: data/config/language.xml Stack Trace: org.dom4j.DocumentException: Absolute URL required with null context: data/config/language.xml Nested exception: Absolute URL required with null context: data/config/language.xml at org.dom4j.io.SAXReader.read(SAXReader.java:484) at org.dom4j.io.SAXReader.read(SAXReader.java:321) at com.xenoage.bp2k6.util.ConfigFile.&amp;lt;init&amp;gt;(ConfigFile.java:51) [...] Everything I do is: It is called from the right path ("data/config/language.xml" really is in that subfolder). I could not find anything with Google's help... Any idea? Thanks! Andi</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Error: Absolute URL required with null context</header>
    <date>Thu Jun 01 21:56:00 CEST 2006</date>
    <body>I tried the same thing and couldn't reproduce your error, so I believe it might be the underlying implementation you're using that does not support this ... The problem seems to be that the underlying implementation tries to create a URL directly from the path you supplied and seems to fail because you are using a relative path, this relative path cannot be resolved because the underlying implementation does not try to 'guess' the base of the path. I found it a little strange that I couldn't repeat your error, so I did a little investigation and found that this specific error message is only generated by the GNU Classpath implementation of java.net.URL. So, the JDK and GNU Classpath's implementation don't seem to be compatible. (this is a little worrying) To fix this, you could try to use either a File, like this: Which will use the current user directory (user.dir) to resolve the path. Or you could try to provide an absolute path? Or, looking at the code, you could just provide a protocol: I hope this helped? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Building a w3c DOM compatible dom4j dom using
	SAXContentHandler</header>
    <date>Tue Jul 18 16:03:00 CEST 2006</date>
    <body>Hello, I am using dom4J with an xslt processor, that is, I use an xslt extension to access a Dom4J dom. As the xalan processor needs a w3c DOM, I convert the DOM document using a DomWriter. As the Dom4j DOM is previously built by a SAXContentHandler, I wanted to know if I can also build a w3c-compatible dom4j DOM (using |DOMDocumentFactory)? I could get rid of the convertion step then. Has the ||DOMDocumentFactory any negative performance aspects? Thx, Nils Kaiser |</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to retreive xml *in proper xml format* in jsp
	after submission of xform instance ?</header>
    <date>Mon Jul 17 13:15:00 CEST 2006</date>
    <body>Hi All !! I am using OPS Xforms.The xform instance is submitted to a jsp.I am = trying to retrieve the same xform instance in the jsp using Dom4j. My jsp contains the following code segment : OutputStream xOutputStream =3D new ByteArrayOutputStream(aBuffSize);=20 while ( (k=3Din.read(buff) ) !=3D -1)=20 out.println("INPUT STREAM CONTENT"+StringFromWS);  =20 when i try to see what the InputStream holds using out.println, i notice = that it is not proper xml ( although , it contains the values which i = entered in textfields ). out.print on (request.getInputStream) gives the following on jsp: INPUT STREAM = CONTENT%24portlet%24p1.=3D&amp;amp;%24portlet%24p1.%24node%5E0s9WqPrV24I%3D=3D999= 99999999999999999999&amp;amp;%24portlet%24p1.%24node%5EHVFtrBn2ms4%3D=3DGARIMA+SI= NGH&amp;amp;%24portlet%24a1.%24action%5E=3DSubmit&amp;amp;%24portlet%24p1.%24instance=3D0= ZzMD9YYnN3r8g3AmDd%2BCtfarq3X2FUD%2BNE7GPlgd%2BJ9yuarhw0dEE9y2wU701B1KIWv= f0wVwmZx%0D%0AQ5jYbB%2Bw8V0ggwrqucu2DE4Xp4p%2BB8Ci0LpDmnS6LF7CKE6NISrlrI0= M%2FVcyiKewWAkFg5eIa2Dg%0D%0A9xgtrQcmRAQSFrVrwo8EZlU4ew8%2BT9sFsFph25D5Mm= P1VPBVuUqlq%2BOvyWqDo9Wk7FgenIJEEzXG%0D%0AV3KkOg6n9EARBZYka6KkZHL41qY%2BE= 5TmftoHGv6FyuhRsfqjoXsWBqwIicP3NfYbZcTLTWI%3D&amp;amp;%24portlet%24p1.%24key=3DLT= OVlxYclwULvY4ov2LveWw761ek4WYr&amp;amp;%24instance=3D7JcdLCa02wbO2qnhtqrjAe1CAaIs= kGOtTMXrgcbV2YCM39AfIi7BdXG4fe9D2pse1CEHTaPFgxE8%0D%0AGm2IDjQC5ieuSa6PT4Q= 0h4c6o69Fzzh3tmjBU9rhOf3cf8FlGl2H9XzlkpuHzcE%2Fx9QBWYk3P%2FvT%0D%0A34KwHg= ljppkIo9Gxw8Ou9L1WFcu9b5Yti%2FyV17QHZeC15642pptb2UBtY7ufQwqtkoFXo%2B1eG2S= h%0D%0ASiZgcm5TEcE8%2BrHCyQHwFDac9DZ4yeEA5wU0pLCZNlB92uTOn1gmY8zDkYOi0gM5= OCHafMM%3D&amp;amp;%24key=3DsVGGqfusdKWuZ31VrpD%2BsMracKQEdBB%2B=20 (P.S : 99999999999999999999999 and GARIMA SINGH were the values which i = entered in textfields ) Can anyone suggest me the possible solution ? Thanks in advance !! Regards, Garima</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to retreive xml *in proper xml format* in jsp
	after submission of xform instance ?</header>
    <date>Tue Jul 18 03:19:00 CEST 2006</date>
    <body>I don't think this is a dom4j issue, it might be better to direct you question at an OPS or JSP or XForms specific list? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] DTD propblem in dom4j in offline environment</header>
    <date>Fri Jul 14 21:28:00 CEST 2006</date>
    <body>Hello, I'm trying to use dom4j in an application which can be used in offline environment. It's supposed to read xml files which can contains doctype section and this arise problems. dom4j tries to get the dtd which is not available and throw exception. I've tried all options of reader but no success. What I can do to tell the reader to just read the xml file (without loading dtd, validation, ..)? Thanks in advance. __________________________________________________ Do You Yahoo!? Tired of spam?  Yahoo! Mail has the best spam protection around http://mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] DTD propblem in dom4j in offline environment</header>
    <date>Tue Jul 18 02:53:00 CEST 2006</date>
    <body>This problem is not a specific dom4j problem. To solve this, you will need to override the EntityResolver and set this on the underlying XMLReader. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Mon Jul 17 02:57:00 CEST 2006</date>
    <body>--------------------------------- Do you Yahoo!? Everyone is raving about the  all-new Yahoo! Mail Beta.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Content is not allowed in prolog</header>
    <date>Tue Jul 11 11:35:00 CEST 2006</date>
    <body>Hi All !! I am quite new to DOM4j . I am using Orbeon X-forms.The application, i = have created on OPS, submits the xml document to  a jsp.Now , i am = trying to retrieve the submitted xml document in the jsp using DOM4j. My = jsp contains the following code segment : When i try to run my application on OPS, i get an error like : org.dom4j.DocumentException: Error on line 1 of document  : Content is = not allowed in prolog. Nested exception: Content is not allowed in = prolog. org.dom4j.io.SAXReader.read(SAXReader.java:355) org.dom4j.io.SAXReader.read(SAXReader.java:261) org.apache.jsp.xml._1_jsp._jspService(_1_jsp.java:78) org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94) javax.servlet.http.HttpServlet.service(HttpServlet.java:802) = org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.jav= a:324) = org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292) org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236) javax.servlet.http.HttpServlet.service(HttpServlet.java:802)I have seen = that this problem has already been discussed in one of the earlier = threads, but could anyone please elaborate on this.Thanks in = advance!!Regards,Garima</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to parse special string ?</header>
    <date>Sat Jul 08 06:06:00 CEST 2006</date>
    <body>dom4j-user， Hi all! I am using dom4j to parse xml files, now I want to read text of nodes in xml files, all things are ok. But there is a problem when it comes to some text string like "&amp;amp;#160;" , and they can not be correctly parsed(the parsed result is some thing like "???"), so how to solve it? Michael Yang，mycj126@... 2006-07-08</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] how to parse special string ?</header>
    <date>Sat Jul 08 11:29:00 CEST 2006</date>
    <body>The XML Parser will parse this character reference "&amp;amp;#160;" and will return the correct value for this. I believe that the problem is probably with the tool your using to view these characters. The character probably doesn't exist in the selected font. Try using a different tool, or another font? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j &amp;amp; XMLSignatures</header>
    <date>Mon Jul 03 10:03:00 CEST 2006</date>
    <body>I have no idea what is happening here, from the information you have given us it seems like the process is 'making-up' new characters. Would it be possible to give some more information about the signature and would it be possible to give us a little more code? Thanks, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j &amp;amp; XMLSignatures</header>
    <date>Wed Jul 05 15:15:00 CEST 2006</date>
    <body>Is it possible that the SignatureValue node of an enveloped XML Signature is supposed to be base64 encoded and dom4j is just encoding it as ascii like the rest of the document? -----Original Message----- From: Edwin Dankert [mailto:edankert@... Sent: Monday, July 03, 2006 4:03 AM To: Garett Shulman Cc: dom4j-user@... Subject: Re: [dom4j-user] dom4j &amp;amp; XMLSignatures I have no idea what is happening here, from the information you have given us it seems like the process is 'making-up' new characters. Would it be possible to give some more information about the signature and would it be possible to give us a little more code? Thanks, Edwin --=20 http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j &amp;amp; XMLSignatures</header>
    <date>Wed Jul 05 16:52:00 CEST 2006</date>
    <body>I don't think so (since base 64 should be encoded using ASCII) but it might have something to do with it, could you give a little more information about your code and a little more about the XML? Thanks, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j &amp;amp; XMLSignatures</header>
    <date>Wed Jul 05 17:16:00 CEST 2006</date>
    <body>&amp;gt; From: Edwin Dankert [mailto:edankert@... Sure... Here is the code that creates the enveloped signature: XMLSignature m_xmlSignature =3D new XMLSignature(doc, null, =20 " http://www.w3.org/2000/09/xmldsig#rsa-sha1 ",  =20 " http://www.w3.org/2001/10/xml-exc-c14n# =20 transforms.addTransform(" http://www.w3.org/2000/09/xmldsig#enveloped transforms.addTransform(" http://www.w3.org/2001/10/xml-exc-c14n# m_xmlSignature.addDocument("", transforms, " http://www.w3.org/2000/09/xmldsig#sha1 And here is the code I am using to convert the Document to a String and back: domreader.read((Document)m_myroot.getOwnerDocument()).write(stringwriter lcsa.addContext(URLEncoder.encode(key, "UTF-8"), String xml_string =3D =20 m_myroot =3D =20 domwriter.write(DocumentHelper.parseText(xml_string)).getDocumentElement I'm not sure what information might be useful about the XML itself. It seems to me that the characters in the SignatureValue that are getting represented as \n would be represented in a more parser friendly fashion if the SignatureValue where base64 encoded. From googleing it seems to me that SignatureValue data should be base64 encoded. Is dom4j supposed to support this or is it my responsibility to parse out the SignatureValue from the XML String and base64 encode it myself? Thanks for you help. -Garett</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j &amp;amp; XMLSignatures</header>
    <date>Wed Jul 05 20:20:00 CEST 2006</date>
    <body>&amp;gt; domreader.read((Document)m_myroot.getOwnerDocument()).write(stringwriter You're saying that before you do this everything is fine but after you invoke this method, the signature has been changed? I have no idea what could have changed this. I'm sorry to ask and I understand if it is sensitive that it might be difficult to give this to us, but would it be possible to send the before and after XML? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j &amp;amp; XMLSignatures</header>
    <date>Thu Jul 06 19:53:00 CEST 2006</date>
    <body>I wouldn't say that the signature has changed. The XML document has never existed as a string representation until this line of code. The XML Document has only existed as an org.w3c.dom.Document up until this line of code. Therefore, there is no 'before XML' for me to provide. I wouldn't say that anything has changed... but is just not getting represented as a string properly. The SignitureValue is clearly not being encoded as base64 since there would be no \n character in this encoding. I can provide some of the 'after XML'... although I have already provided the relevant SignatureValue. I'm not sure what else would be useful. Thanks for your help. -Garett -----Original Message----- From: Edwin Dankert [mailto:edankert@... Sent: Wednesday, July 05, 2006 2:21 PM To: Garett Shulman Cc: dom4j-user@... Subject: Re: [dom4j-user] dom4j &amp;amp; XMLSignatures domreader.read((Document)m_myroot.getOwnerDocument()).write(stringwriter You're saying that before you do this everything is fine but after you invoke this method, the signature has been changed? I have no idea what could have changed this. I'm sorry to ask and I understand if it is sensitive that it might be difficult to give this to us, but would it be possible to send the before and after XML? Regards, Edwin --=20 http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j &amp;amp; XMLSignatures</header>
    <date>Thu Jul 06 22:41:00 CEST 2006</date>
    <body>You could try the code below to see whether dom4j is the offending party or whether it happens before it's converted to a dom4j document? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j &amp;amp; XMLSignatures</header>
    <date>Fri Jul 07 16:05:00 CEST 2006</date>
    <body>Edwin, Thanks for your suggestion. I will try this. Also... I have some code that more clearly illustrates the issue: //First I pull the Element out of a SAML Assertion //Then I remove the signature that the Element already has: for(cur =3D assertion_element.getFirstChild(); cur !=3D null; cur =3D cur.getNextSibling()) cur.getNodeName().equals("ds:Signature")) //Next I serialize the Element to a string &amp;amp; parse back to an Element: String xml_string =3D assertion_element =3D domwriter.write(DocumentHelper.parseText(xml_string)).getDocumentElement //Next I sign the Element: XMLSignature sig=3Dnew = XMLSignature(assertion_element.getOwnerDocument(), null, " http://www.w3.org/2000/09/xmldsig#rsa-sha1 ", Transforms transforms =3D new transforms.addTransform(" http://www.w3.org/2000/09/xmldsig#enveloped-sig transforms.addTransform(" http://www.w3.org/2001/10/xml-exc-c14n# sig.addDocument("", transforms, " http://www.w3.org/2000/09/xmldsig#sha1 //Next I create a new SAML Assertion from the Element and successfully //verify the sig: isgood =3D assertion1.verify(the_cert); //isgood=3Dtrue //Now I serialize and parse again... placing CDATA around SignatureValue. //If I look at the SignatureValue Node of the Element in debugger before and //after serialize/parse they are both the same: xml_string =3D xml_string =3D xml_array[0] + "&amp;lt;ds:SignatureValue&amp;gt;&amp;lt;![CDATA[" + assertion_element1 =3D domwriter.write(DocumentHelper.parseText(xml_string)).getDocumentElement //Now I create another new SAML Assertion as before and try to verify sig //but fail: isgood =3D assertion2.verify(the_cert); //isgood=3Dfalse -----Original Message----- From: Edwin Dankert [mailto:edankert@... Sent: Thursday, July 06, 2006 4:42 PM To: Garett Shulman Cc: dom4j-user@... Subject: Re: [dom4j-user] dom4j &amp;amp; XMLSignatures You could try the code below to see whether dom4j is the offending party or whether it happens before it's converted to a dom4j document? TransformerFactory transformerFactory =3D Regards, Edwin --=20 http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] ProcessingInstruction setValue</header>
    <date>Wed Jul 05 23:54:00 CEST 2006</date>
    <body>Hello, I get an existing ProcessingInstruction from an Element node, and I want to change some of the values in the PI. It would seem like the setValue method would do the trick. However, when I write out the document to a file, the PI has not changed. Is there something else I have to do to get PI written out correctly? Thanks. David Kwak</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] ProcessingInstruction setValue</header>
    <date>Fri Jul 07 06:31:00 CEST 2006</date>
    <body>That's seems to be a bug, the 'text' value is not set after you change or add an individual value. Try the following instead as a work around: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAXReader.addHandler() and XPath</header>
    <date>Wed Jul 05 13:44:00 CEST 2006</date>
    <body>Hi, I'm trying to parse some huge XML documents with dom4j (1.6.1, Jaxen 1.1b9). I'm using the approach described in the dom4j FAQ: then using detach() in MyElementHandler.onEnd() For such simple XPath expressions like /rowset/row this works well, but it doesn't work with more complex expressions like //row or /rowset/row[id="1234"]. Isn't this implemented yet? I found a posting from 2002 where James Strachan stated that this was on the TODO list: Is this feature still on that list, or was it abandoned? Does addHandler() use Jaxen for XPath parsing (I'm asking because AFAIK Jaxen supports wildcards)? Thanks, Ralf</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAXReader.addHandler() and XPath</header>
    <date>Wed Jul 05 14:13:00 CEST 2006</date>
    <body>Looking at the code, the allowed paths are very simple and are currently definitely not XPaths. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Escaping</header>
    <date>Thu Aug 24 19:13:00 CEST 2006</date>
    <body>How are you serializing the document? -----Original Message----- From: dom4j-user-bounces@... [mailto:dom4j-user-bounces@...] On Behalf Of Evan Kirkconnell Sent: Thursday, August 24, 2006 12:27 PM To: dom4j-user@... Subject: Re: [dom4j-user] Escaping I get the same behavior with a literal value. if(one || (first !=3D null &amp;amp;&amp;amp; last =3D=3D null) ) = option.setText(=20 if(last !=3D null) option.setText( encodeXML(=20 produces an XML error with this output: Evan Kirkconnell wrote: I'll=20 ------------------------------------------------------------------------ - security? easier Geronimo http://sel.as-us.falkag.net/sel?cmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;dat=3D= 121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------------------------ - Using Tomcat but need to do more? Need to support web services, security? Get stuff done quickly with pre-integrated technology to make your job easier Download IBM WebSphere Application Server v.1.0.1 based on Apache Geronimo http://sel.as-us.falkag.net/sel?cmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;dat=3D= 121642 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] ElementHandler performance deterioration</header>
    <date>Wed Aug 23 09:10:00 CEST 2006</date>
    <body>Hello all I'm working on a project where I have to parse potentially large (hundreds of MBs) XML log files, and to avoid OutOfMemoryErrors I use an ElementHandler, as suggested in the dom4j faqs: http://dom4j.org/faq.html#large-doc Concerning memory consumption this approach works fine; regardless of file size the amount of memory used is very small. However the same cannot be said about CPU utilization. Instead of using my own project to illustrate the problem I've created a simple test case, so you can easily reproduce the problem. Let's say you have a very simple document like this: Instead of having just one "element" inside "root", you have over 200.000, all exactly the same as the one shown above. Now let's try to parse this XML, using the following code: /** * @author Trygve Hardersen * */ // Change the path to suit your system =09 read.addHandler("/root/element", new =09 =09 =09 =09 =09 =09 System.out.println(Calendar.getInstance().getTime()+": Parsed "+parsed+" For every 5.000th element in the file a line is printed to System.out, showing the current time and the number of elements parsed. On my system I get the following output: Tue Aug 22 15:02:02 CEST 2006: Parsed 5000 elements, totally parsed 5000 elements Tue Aug 22 15:02:03 CEST 2006: Parsed 5000 elements, totally parsed 10000 elements Tue Aug 22 15:02:04 CEST 2006: Parsed 5000 elements, totally parsed 15000 elements Tue Aug 22 15:02:06 CEST 2006: Parsed 5000 elements, totally parsed 20000 elements Tue Aug 22 15:02:08 CEST 2006: Parsed 5000 elements, totally parsed 25000 elements Tue Aug 22 15:02:11 CEST 2006: Parsed 5000 elements, totally parsed 30000 elements Tue Aug 22 15:02:15 CEST 2006: Parsed 5000 elements, totally parsed 35000 elements Tue Aug 22 15:02:19 CEST 2006: Parsed 5000 elements, totally parsed 40000 elements As you can see the time needed to parse 5.000 elements steadily increases from about 1 second to 4 seconds, and after a while I get: Tue Aug 22 15:11:29 CEST 2006: Parsed 5000 elements, totally parsed 235000 elements Tue Aug 22 15:11:57 CEST 2006: Parsed 5000 elements, totally parsed 240000 elements Tue Aug 22 15:12:24 CEST 2006: Parsed 5000 elements, totally parsed 245000 elements Tue Aug 22 15:12:51 CEST 2006: Parsed 5000 elements, totally parsed 250000 elements Tue Aug 22 15:13:17 CEST 2006: Parsed 5000 elements, totally parsed 255000 elements Tue Aug 22 15:13:46 CEST 2006: Parsed 5000 elements, totally parsed 260000 elements As you can see the time has now grown considerably. In my testing I've not seen the time stabilize, and I'm concerned what will happen on really large documents. Does anyone have an explanation for this? Or maybe a solution? Your help is very much appreciated! Thanks in advance! Trygve Hardersen</body>
  </mail>
  <mail>
    <header>[dom4j-user] Escaping</header>
    <date>Wed Aug 23 15:32:00 CEST 2006</date>
    <body>Hi all, If I call setText and pass a string that has an &amp;amp; or a &amp;lt;, is there a way to have dom4j automatically escape that and put in &amp;amp;amp; and &amp;amp;lt;?  I'm loading an xhtml document, modifying it and serializing it. Thanks, --Evan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Escaping</header>
    <date>Thu Aug 24 12:52:00 CEST 2006</date>
    <body>Isn't hat exactly what it does at the moment? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Escaping</header>
    <date>Thu Aug 24 13:28:00 CEST 2006</date>
    <body>.addAttribute() does, setText() doesn't.  No idea why.  Here's my code fragment that's working correctly.  It wasn't producing valid XML until I added the encodeXML() function. if(one || (first != null &amp;amp;&amp;amp; last == null) ) option.setText( if(last != null) option.setText( encodeXML( else option.setText( encodeXML( Edwin Dankert wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Escaping</header>
    <date>Thu Aug 24 13:50:00 CEST 2006</date>
    <body>This sounds very strange. What version of dom4j are you using? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Escaping</header>
    <date>Thu Aug 24 14:16:00 CEST 2006</date>
    <body>1.6.1</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Escaping</header>
    <date>Thu Aug 24 14:32:00 CEST 2006</date>
    <body>I can't reproduce your problem ... Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Escaping</header>
    <date>Thu Aug 24 16:17:00 CEST 2006</date>
    <body>The database contains: D&amp;amp;G | Dumfries &amp;amp; Galloway Region With this code, I get an XML parse error because my response type is text/xml, and when I view the source(in FF) I get: /* */ I would guess that's it has to do with character encoding except that it's working correctly for the value set with addAttribute.  Maybe I'll give it a shot with a literal and see what happens. --Evan Edwin Dankert wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Escaping</header>
    <date>Thu Aug 24 16:26:00 CEST 2006</date>
    <body>I get the same behavior with a literal value. if(one || (first != null &amp;amp;&amp;amp; last == null) ) option.setText( if(last != null) option.setText( encodeXML( produces an XML error with this output: Evan Kirkconnell wrote: http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Is it possible creating XML file with no specific
	Encoding</header>
    <date>Sat Aug 12 09:02:00 CEST 2006</date>
    <body>Is it possible to create an XML files with no XML Encoding? Because everytime I create the XML files there's always &amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;. What I want only the &amp;lt;?xml version="1.0" ?&amp;gt;. this is how I create my XML: :( --------------------------------- Get your email and more, right on the  new Yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Is it possible creating XML file with no specific
	Encoding</header>
    <date>Mon Aug 14 12:43:00 CEST 2006</date>
    <body>Should do the trick. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] help requied in Namespace problem</header>
    <date>Wed Aug 02 15:58:00 CEST 2006</date>
    <body>Hi all, We are using dom4j-1.6.1.  I need to add namespace information in the root element of Document object. I tried some options=20 Like: 1. Doc.getRootElement().addAttribute("xmlns"," http://www.w3.org/2001/06/gra This does not work  .addAttribute does not allow adding "xmlns" in dom4j-1.6.1. It used to allow in previous versions. =20 2. I tried using Doc.getRootElement().add(new Namespace(""," http://www.w3.org/2001/06/grammar =20 This seems the solution as per documentation and it adds the namespace information in root element but this solution gives one other problem =20 =20 xmlns are added in immediate child elements which we do not require. i.e=20 =20 http://www.w3.org/2001/06/grammar " xml:lang=3D"en-us" =20 =20 =20 =20 =20 Please suggest solution/ work around to fix this issue. Your help will be highly appreciated. =20 Regards Kirti =20 =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] help requied in Namespace problem</header>
    <date>Wed Aug 02 16:11:00 CEST 2006</date>
    <body>The issue is that you have specified the root element 'Myroot' to be in the " http://www.w3.org/2001/06/grammar " namespace, however you haven't specified any of your other child-elements to be in this namespace. So when writing out your model, these child-elements are seen as being in no namespace and are written out as such, using xmlns="" to reset the default namespace. The only way around is is to specifically set the namespace on all your child-elements as well. Regards. Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] help requied in Namespace problem</header>
    <date>Wed Aug 02 17:42:00 CEST 2006</date>
    <body>hello Edwin, in the older versions of dom4j, we could use --&amp;gt;     = Doc.getRootElement().addAttribute("xmlns"," http://www.w3.org/2001/06/gram= and this would make " http://www.w3.org/2001/06/grammar " as the DEFAULT = namespace for=20 the whole doc (whichwould apply to allthe child elemnts of the root.) Wondering if same can be somehow done for dom4j.1.6. Herez an example which i have in my appln ( frm older dom4j). all child elements are in the namespace = =3D" http://vmw.test.com/eventNotification/v1/xsd " . (this is verified by schemavalidation, xsd says that "WorkAGR" shud be = in=20 " http://vmw.test.com/eventNotification/v1/xsd " namespace &amp;amp; it does pass schemavalidation;) xmlns=3D" http://vmw.test.com/eventNotification/v1/xsd</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] help requied in Namespace problem</header>
    <date>Wed Aug 02 18:53:00 CEST 2006</date>
    <body>Here's code if you want it.  Lemme know if I botched something. /** *Sets the namespace of the element to the given namespace */ elem.setQName( QName.get( elem.getName(), ns, /** *Recursively removes the namespace of the element and all its children: sets to Namespace.NO_NAMESPACE */ /** *Recursively removes the namespace of the list and all its children: sets to Namespace.NO_NAMESPACE */ /** *Recursively sets the namespace of the element and all its children. */ /** *Recursively sets the namespace of the List and all children if the current namespace is match */ if(n.getNodeType() == Node.ATTRIBUTE_NODE) ( (Attribute)n if(n.getNodeType() == Node.ELEMENT_NODE) setNamespaces( Naveen Murthy wrote: http://www.w3.org/2001/06/grammar http://www.w3.org/2001/06/grammar " as the DEFAULT http://vmw.test.com/eventNotification/v1/xsd " http://vmw.test.com/eventNotification/v1/xsd " namespace &amp;amp; it does pass http://vmw.test.com/eventNotification/v1/xsd http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] help requied in Namespace problem</header>
    <date>Thu Aug 03 09:00:00 CEST 2006</date>
    <body>&amp;gt;  in the older versions of dom4j, http://www.w3.org/2001/06/grammar http://www.w3.org/2001/06/grammar " as This loophole has been removed from dom4j because it is seen as wrong to treat namespaces as attributes, however maybe dom4j should have an option to set a default namespace for an element and place child elements in this namespace by default? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] help requied in Namespace problem</header>
    <date>Thu Aug 03 15:32:00 CEST 2006</date>
    <body>Sounds good to me, add to it the ability for XPATH to default to the context element's namespace and you're really talkin.  :-) --Evan Edwin Dankert wrote: http://www.w3.org/2001/06/grammar http://www.w3.org/2001/06/grammar " as</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] help requied in Namespace problem</header>
    <date>Thu Aug 03 05:39:00 CEST 2006</date>
    <body>Hi, I tried    =20 "   elem.setQName( QName.get( elem.getName(), ns,=20 elem.getQualifiedName() ) );" Still in the child elements of root element=20 "&amp;lt;rule xmlns=3D"" id=3D"InfoMain" scope=3D"public"&amp;gt;" Xmlns is visible. Please let me know if any other solution is available. Thanks Kirti=20 -----Original Message----- From: dom4j-user-bounces@... [mailto:dom4j-user-bounces@...] On Behalf Of Evan Kirkconnell Sent: Thursday, August 03, 2006 12:23 AM To: dom4j-user@... Subject: Re: [dom4j-user] help requied in Namespace problem Here's code if you want it.  Lemme know if I botched something. /** *Sets the namespace of the element to the given namespace */ elem.setQName( QName.get( elem.getName(), ns,=20 =20 /** *Recursively removes the namespace of the element and all its=20 children: sets to Namespace.NO_NAMESPACE */ /** *Recursively removes the namespace of the list and all its=20 children: sets to Namespace.NO_NAMESPACE */ /** *Recursively sets the namespace of the element and all its children. */ =20 /** *Recursively sets the namespace of the List and all children if the current namespace is match */ if(n.getNodeType() =3D=3D Node.ATTRIBUTE_NODE) ( = (Attribute)n=20 if(n.getNodeType() =3D=3D Node.ELEMENT_NODE) setNamespaces(=20 Naveen Murthy wrote: Doc.getRootElement().addAttribute("xmlns"," http://www.w3.org/2001/06/gra http://www.w3.org/2001/06/grammar " as the DEFAULT http://vmw.test.com/eventNotification/v1/xsd " http://vmw.test.com/eventNotification/v1/xsd " namespace &amp;amp; it does pass http://vmw.test.com/eventNotification/v1/xsd ------------------------------------------------------------------------ ------------------------------------------------------------------------ - share your cash http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE V ------------------------------------------------------------------------ https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------------------------ - Take Surveys. Earn Cash. Influence the Future of IT Join SourceForge.net's Techsay panel and you'll get the chance to share your opinions on IT &amp;amp; business topics through brief surveys -- and earn cash http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE V _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] help requied in Namespace problem</header>
    <date>Thu Aug 03 09:18:00 CEST 2006</date>
    <body>This on it's own doesn't work at the moment: So you'll first have to remove the previous namespace: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] help requied in Namespace problem</header>
    <date>Thu Aug 03 11:46:00 CEST 2006</date>
    <body>Hi, Even this is not working as you can see in the xml. The Childs have xmlns=20 " http://www.w3.org/2001/06/grammar " I am also attaching the java file. If you all can, please try to modify the java file and send me the solution. Your help will be highly appreciated. The only requirement is that xmlns should not come in child elements ( i.e  in &amp;lt;author)=20 Regards Kirti=20 =20 -----Original Message----- From: Edwin Dankert [mailto:edankert@... Sent: Thursday, August 03, 2006 2:49 PM To: Kirti Girdhar Cc: Evan Kirkconnell; dom4j-user@... Subject: Re: [dom4j-user] help requied in Namespace problem This on it's own doesn't work at the moment: So you'll first have to remove the previous namespace: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] help requied in Namespace problem</header>
    <date>Thu Aug 03 12:09:00 CEST 2006</date>
    <body>This code specifies an empty namespace for the 'author' element. This causes the xmlns="" to appear. Instead you want to specify the 'author' element in the default " http://www.w3.org/2001/06/grammar " namespace. To fix this, do this instead: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] help requied in Namespace problem</header>
    <date>Thu Aug 03 13:12:00 CEST 2006</date>
    <body>Thanks Edwin, It is good, it works. Regards Kirti=20 -----Original Message----- From: Edwin Dankert [mailto:edankert@... Sent: Thursday, August 03, 2006 5:39 PM To: Kirti Girdhar Cc: dom4j-user@...; Evan Kirkconnell Subject: Re: [dom4j-user] help requied in Namespace problem This code specifies an empty namespace for the 'author' element. This causes the xmlns=3D"" to appear. Instead you want to specify the 'author' element in the default " http://www.w3.org/2001/06/grammar " namespace. To fix this, do this instead: Regards, Edwin --=20 http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Adding entity references to an attribute value</header>
    <date>Tue Sep 26 22:45:00 CEST 2006</date>
    <body>Hi all, I am trying to use DOM4j to create OWL ontology documents.  It's working just how I want with one exception.  My attempt to add entity references yields encoded ampersand characters.  I need to add entity references in attribute values for my OWL definitions.  For example, I need: but I get: The OWL editors I used so far (Protege and SemanticWorks) don't like what, in essence, ends up being nested entity references. I realize that, with the following code, the encoding of the ampersand is the right thing for DOM4j to do when I call asXML() on my document ... but I'd like to know how to correctly add the entity reference in the attribute value using DOM4j.  I looked for examples of how to use the EntityReference API but couldn't find any nor do I know if this is the API that I'd need to use to achieve the desired result.  Perhaps there's a way to temporarily disable the encoding while I add the attribute value? Can anyone here enlighten me? BTW, FWIW, I was able to figure out how to get DOM4j to produce the internal entity declarations I need and that works just fine ... though that doesn't really have anything to do with getting my entity references to come out right, it does mean I'll be good to go if I can. Thanks, Tom Doman Novell Inc.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding entity references to an attribute	value</header>
    <date>Fri Sep 29 16:00:00 CEST 2006</date>
    <body>Yes, generating entity references is certainly something I'd prefer to do.  It'll save a LOT of size on my document not to mention readability.  References to other definitions and types is a part of pretty much every RDF\OWL definition, usually several times per definition. Anyway, thank you very much Edwin for the suggestion.  I tried it and it works as you expected.  I went ahead and left the escapeText property at it's default since any time I set text, I would want the escapement to occur. Regards, Tom Doman Novell Inc. The philosophy behind this is that entities are used to substitute text inside a document, mainly to support human entry of the text, however when generating the document programmatically, the developer can use the programming language to facilitate him in creating the document so there should not be a need for these entities and therefor dom4j's entity support for serialization is not very good. So, my recommendation would be not to try to generate Entities using dom4j, however if you really need to ... For elements you can set the 'escapeText' property as a work-around, this property however does not seem to work for attributes. So instead, you will have to override the escapeAttributeEntities method. I haven't tested the following but it should work: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding entity references to an attribute	value</header>
    <date>Fri Sep 29 16:12:00 CEST 2006</date>
    <body>Edwin, Is that why I have to manually escape attribute text?  Will this be fixed at some point? --Evan Tom Doman wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Adding entity references to an attribute value</header>
    <date>Fri Sep 29 19:11:00 CEST 2006</date>
    <body>So if I wanted to &amp;lt;Element&amp;gt;.setText("&amp;amp;nbsp;") and Is there some crazy way to do &amp;lt;Element&amp;gt;.add( &amp;lt;Entity&amp;gt; )?  And maybe the entity returns "&amp;amp;nbsp;" when you call asXML() on it or something?  I dunno...  It'd be nice if the javadoc had more comments than like "Writes the given |Entity| http://www.dom4j.org/apidocs/org/dom4j/Entity.html &amp;gt;." for --Evan Edwin Dankert wrote:</body>
  </mail>
  <mail>
    <header>[dom4j-user] eqvivalent of &amp;lt;xsl:copy-of&amp;gt;</header>
    <date>Fri Sep 29 07:58:00 CEST 2006</date>
    <body>I'm storing text with html-parameters (such as &amp;amp;lt;strong&amp;amp;gt;) in an xml-file and tries to select them with dom4j. I can choose between Node.getStringValue() which will give me everything but the &amp;amp;lt;strong&amp;amp;gt; tags but including the text within the &amp;amp;lt;strong&amp;amp;gt;-tag&amp;amp;nbsp; or Node.getText() which will give me everything Node.asXML() gives me all I want but with the node name as the first http://www.travelstart.se"&amp;gt;&amp;lt;img moz-do-not-send="true" src=" http://www.travelstart.se/common/travelstart/travelstart.gif " http://www.travelstart.se"&amp;gt;www.travelstart.se&amp;lt;/a&amp;gt;&amp;lt;br http://www.travelstart.dk"&amp;gt;www.travelstart.dk&amp;lt;/a&amp;gt;&amp;lt;br http://www.travelstart.no"&amp;gt;www.travelstart.no&amp;lt;/a http://www.luftgrop.se"&amp;gt;www.luftgrop.se&amp;lt;/a&amp;gt;&amp;lt;br http://www.openjet.com"&amp;gt;www.openjet.com&amp;lt;/a&amp;gt;&amp;lt;br http://www.sistaminuten.se"&amp;gt;www.sistaminuten.se&amp;lt;/a</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j &amp;amp; JavaME</header>
    <date>Thu Sep 14 02:28:00 CEST 2006</date>
    <body>Will dom4j/jaxen run under JavaME? =20 thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Fw: fo:inline inside fo:inline</header>
    <date>Thu Sep 14 00:17:00 CEST 2006</date>
    <body>Hi, I have try the below with FOP user. please let me know any suggestion. Thanks, Van. ----- Forwarded by Van Le Hoa/CAS/NSW_AG on 14/09/2006 10:15 AM ----- Van Le Hoa/CAS/NSW_AG 13/09/2006 05:21 PM To fop-users-help@... cc Subject fo:inline inside fo:inline Hi, my fo document has been generated by  rtf2fo as following: I try to use dom4j to load the document and find that the DOM structure layout as following: element(block) when I tried to join all the elements, I got  DATAFIELD OUT JL FULL ADDR please let me know  what happen. Regards, Van. van_le_hoa@... *********************************************************** Please consider our environment before printing this email. This email and any attachments may be confidential and contain privileged information. If you are not the intended recipient you must not use, disclose, copy or distribute this communication. If you have received this message in error please delete and notify the sender. When communicating by email you consent to the monitoring and recording of that correspondence. The Attorney General's Department of NSW promotes a Just and Safe Society. Visit us at http://www.lawlink.nsw.gov.au</body>
  </mail>
  <mail>
    <header>[dom4j-user] Configuring JRun 4.0 to use DOM4J</header>
    <date>Wed Sep 06 00:06:00 CEST 2006</date>
    <body>Well, I've had very little luck anywhere else, so I thought I'd give the = mailing list a try.  We have a JRun 4 Updater 6 implementation that we = use as a front end for a document processing site.  We would like to be = able to parse XML files using the JSP files for a few different reasons, = but the default XML parser that comes with JRun doesn't offer precise = enough access to the DOM. DOM4J seems to offer what I want, but I'll be honest, I can't get the = flipping thing to work.  Does anyone have any experience in setting up = Dom4J with JRun and can maybe help me out a little? I appreciate it.  Thanks. Gregory K. Hazzard Operating Systems Engineer Phone:  515/557-7133 MAC:  F4030-036 Email:  mailto:greghazzard@... "This message may contain confidential and/or privileged information.  = If you are not the addressee or authorized to receive this for the = addressee, you must not use, copy, disclose, or take any action based on = this message or any information herein.  If you have received this = message in error, please advise the sender immediately by reply e-mail = and delete this message.  No Electrons were harmed in the formatting of = this message.  No unauthorized proton testing has been done.  Results = may vary, your mileage may differ, and these results are not typical.  = This message handcrafted with pride from 100% recycled electrons. Thank = you for your cooperation."=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Fri Sep 01 05:48:00 CEST 2006</date>
    <body />
  </mail>
  <mail>
    <header>Re: [dom4j-user] Header of the XML-File</header>
    <date>Thu Oct 26 18:33:00 CEST 2006</date>
    <body>Take a look at the OutputFormat class = ( http://dom4j.sourceforge.net/apidocs/org/dom4j/io/OutputFormat.html).=20 kostenlos. http://www.pc-sicherheit.web.de/freescan/?mc=3D022222 http://sel.as-us.falkag.net/sel?cmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;d https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Header of the XML-File</header>
    <date>Thu Oct 26 18:45:00 CEST 2006</date>
    <body>Okay, I found this constructor: OutputFormat(String indent, boolean newlines, String encoding)=20 The string encoding would in my case be "ISO-8859-1", right=3F http://dom4j.sourceforge.net/apid= ocs/org/dom4j/io/OutputFormat.html).=20 http://www.pc-sicherheit.web.de/freescan/=3Fmc=3D022222 http://sel.as-us.falkag.net/sel=3Fcmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;d https://lists.sourceforge.net/lists/listinfo/dom4j-user - =3F asier mo http://sel.as-us.falkag.net/sel=3Fcmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;dat=3D121642= https://lists.sourceforge.net/lists/listinfo/dom4j-user =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F Viren-Scan f=FCr Ihren PC! Jetzt f=FCr jeden. Sofort, online und kostenlos. Gleich testen! http://www.pc-sicherheit.web.de/freescan/=3Fmc=3D022222</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Header of the XML-File</header>
    <date>Thu Oct 26 18:49:00 CEST 2006</date>
    <body>That's correct. You don't have to use that constructor if the default format was working = for you (except for the encoding): http://dom4j.sourceforge.net/apidocs/org/dom4j/io/OutputFormat.html).=20 http://www.pc-sicherheit.web.de/freescan/?mc=3D022222 http://sel.as-us.falkag.net/sel?cmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;d https://lists.sourceforge.net/lists/listinfo/dom4j-user http://sel.as-us.falkag.net/sel?cmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;d https://lists.sourceforge.net/lists/listinfo/dom4j-user kostenlos. http://www.pc-sicherheit.web.de/freescan/?mc=3D022222 http://sel.as-us.falkag.net/sel?cmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;d https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Header of the XML-File</header>
    <date>Thu Oct 26 18:56:00 CEST 2006</date>
    <body>Okay,  thanks a lot! for you (except for the encoding): http://dom4j.sourceforge.net/apidocs/org/dom4j/io/OutputFormat.html).=20 http://www.pc-sicherheit.web.de/freescan/=3Fmc=3D022222 http://sel.as-us.falkag.net/sel=3Fcmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;d https://lists.sourceforge.net/lists/listinfo/dom4j-user http://sel.as-us.falkag.net/sel=3Fcmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;d https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.pc-sicherheit.web.de/freescan/=3Fmc=3D022222 http://sel.as-us.falkag.net/sel=3Fcmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;d https://lists.sourceforge.net/lists/listinfo/dom4j-user - =3F asier mo http://sel.as-us.falkag.net/sel=3Fcmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D263057&amp;amp;dat=3D121642= https://lists.sourceforge.net/lists/listinfo/dom4j-user =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F= Erweitern Sie FreeMail zu einem noch leistungsst=E4rkeren E-Mail-Postfach!	=09 Mehr Infos unter http://freemail.web.de/home/landingpad/=3Fmc=3D021131</body>
  </mail>
  <mail>
    <header>[dom4j-user] Header of the XML-File</header>
    <date>Thu Oct 26 18:19:00 CEST 2006</date>
    <body>Hi, If I write out a Document via dom4j, the header is the folowing: But I want an ISO-Header like this: How can I tell dom4j to produce an ISO-Header=3F Thanks for your help! Jochen Rinck =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F Viren-Scan f=FCr Ihren PC! Jetzt f=FCr jeden. Sofort, online und kostenlos. Gleich testen! http://www.pc-sicherheit.web.de/freescan/=3Fmc=3D022222</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Header of the XML-File</header>
    <date>Thu Oct 26 18:38:00 CEST 2006</date>
    <body>Oops, yeah, OutputFormat, not XMLWriter.  Didn't realize where I was = in=20 the docs. Evan Kirkconnell wrote: _____ ostenlos. http://www.pc-sicherheit.web.de/freescan/?mc=3D0222= 22 -------=20 =20 =20 =20 http://sel.as-us.falkag.net/sel?cmd=3Dlnk&amp;amp;kid=3D120709&amp;amp;bid=3D26305= 7&amp;amp;dat=3D121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] 2 generall dom4j questions</header>
    <date>Sun Nov 26 11:44:00 CET 2006</date>
    <body>Hi all, I'd have two generall questions about using dom4j. Firstly, is it possible not just to search for elements using XPath expressions, but also to output the XPath for the current element? According to what I read already it should be possible, but I just want to verify this. Secondly, is it possible to navigate inside a DOM (when initializing a DOM reader) like someone could do in an ordinary implementation like org.w3c.dom? So is there a chance to access elements by their name only (getElementById)? I think this is not really a problem since it could also be solved by using XPath expression, but can I reach the child elements of the current element? For e.g. getLastChild()? thanks for your help! hth Tom -- Der GMX SmartSurfer hilft bis zu 70% Ihrer Onlinekosten zu sparen! Ideal für Modem und ISDN: http://www.gmx.net/de/go/smartsurfer</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j: partial xml tree needed</header>
    <date>Tue Nov 21 11:08:00 CET 2006</date>
    <body>Hello, i've got an XML tree as dom4jdocument. My problem is to extract a partial tree from this document. This is my xml: =20 =20 =20 =20 Now i have to to remove all /admingui/guielement Node, whose guielement's name is not "searchmask", but "businesscard". Can anyone help me please doing this with dom4j (or any JDK 1.4 method) ??? Thank you!=20 =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j: partial xml tree needed</header>
    <date>Tue Nov 21 14:17:00 CET 2006</date>
    <body>If I understand correctly, then you just do something like: List l = (admingui node).selectNodes("descendant::guielement[@name='businesscard']")  then loop through the list and call ( (Element)list.get(i) ).detach() on each. --Evan Mueller, Marc Guenter wrote: http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to create an XML document that preserves the
	sequential order of its XML elements</header>
    <date>Fri Nov 10 17:30:00 CET 2006</date>
    <body>Hi, I have been writing some Java code to dynamically generate an XML file. The generated xml file is then submitted to a web service. I have been using dom4j to dynamically create the xml document, and it works fine. The problem is that the web service performs a schema validation on the xml request that I submit to it, and my generated xml request is failing the schema validation. The reason is because the schema xsd file in the web service uses the &amp;lt;sequence&amp;gt; tag and requires that the xml tags must be in a particular order. So for example, it might require the FirstName, LastName, and then Age tags in that order: But dom4j does not preserve the order of the xml elements in the order in which I create them. So the resulting xml has the correct structure but the order of the elements are different; so for example the LastName tag might appear before the FirstName tag. Does anybody know how I can use dom4j or jdom or some other Java implementation to generate an xml document while preserving the order of the xml elements? Thanks. P.S. changing the xsd to not require the xml tags to be ordered is not an option. I do not have the authority to modify the xsd of the web service to remove the sequence requirement. ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ____________________________________________________________________________________ Cheap talk? Check out Yahoo! Messenger's low PC-to-Phone call rates. http://voice.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to create an XML document that preserves the
	sequential order of its XML elements</header>
    <date>Fri Nov 10 17:35:00 CET 2006</date>
    <body>sorry, I am resending this e-mail post, because the XML code snippet did not show up in my previous e-mail. ----- Hi, I have been writing some Java code to dynamically generate an XML file. The generated xml file is then submitted to a web service. I have been using dom4j to dynamically create the xml document, and it works fine. The problem is that the web service performs a schema validation on the xml request that I submit to it, and my generated xml request is failing the schema validation. The reason is because the schema xsd file in the web service uses the &amp;lt;sequence&amp;gt; tag and requires that the xml tags must be in a particular order. So for example, it might require the FirstName, LastName, and then Age tags in that order: But dom4j does not preserve the order of the xml elements in the order in which I create them. So the resulting xml has the correct structure but the order of the elements are different; so for example the LastName tag might appear before the FirstName tag. Does anybody know how I can use dom4j or jdom or some other Java implementation to generate an xml document while preserving the order of the xml elements? Thanks. P.S. changing the xsd to not require the xml tags to be ordered is not an option. I do not have the authority to modify the xsd of the web service to remove the sequence requirement. ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ____________________________________________________________________________________ Do you Yahoo!? Everyone is raving about the all-new Yahoo! Mail beta. http://new.mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to create an XML document that preserves the
	sequential order of its XML elements</header>
    <date>Fri Nov 10 17:38:00 CET 2006</date>
    <body>I'm really sorry but I don't think that your problem is caused by dom4j, would it be possible for you to show us some of the offending code? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to create an XML document that preserves the
	sequential order of its XML elements</header>
    <date>Fri Nov 10 17:53:00 CET 2006</date>
    <body>My question is: when you dynamically construct an XML dom4j object org.dom4j.Document // Create an xml document and then you dynamically create xml tags on that document object, one by one, the resulting xml document does not preserve the sequentail order of the xml tags in the order in which I created them. So for example I create an xml Document and then I add on the FirstName tag, then the LastName tag and then the Age tag: But after finishing, I output the resulting xml and the result is a different order, such as for example: And like I said, the xml ordering is important in order for it to pass the schema validation, because the XSD file specifies that the xml tags need to be in order (i.e. the XSD uses the &amp;amp;lt;sequence&amp;amp;gt; tag to specify the xml tag ordering). --- Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote: http://www.edankert.com/ ------------------------------------------------------------------------- http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user ____________________________________________________________________________________ Do you Yahoo!? Everyone is raving about the all-new Yahoo! Mail beta. http://new.mail.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to create an XML document that preserves the
	sequential order of its XML elements</header>
    <date>Fri Nov 10 18:12:00 CET 2006</date>
    <body>&amp;gt; and then you dynamically create xml tags on that Can you show us how you create these elements sequentially and can you show us how you serialize your dom4j document? The order of XML Elements is indeed very important. I could not reproduce your problem, using the following code: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to create an XML document that preserves the
	sequential order of its XML elements</header>
    <date>Fri Nov 10 19:53:00 CET 2006</date>
    <body>Sorry, my mistake.  I think I see what the problem is. The problem is not with dom4j.  The problem is that I read a properties file using java.util.Properties.load() The properties file contains key value pairs.  Each key-value pair consists of an xPath string (key) followed by the value So an entry of the file would look like /Document/RecordsList/FirstName=John After I load the properties file into a java.util.Properties object, I then loop through the entries in the Properties object // Create an xml document /* .... some code  ... */ while (keys.hasMoreElements()) // Create xml tag specified by the xPath Element element = // Add text value to xml tag /* .... some code  ... */ So the problem appears to be with the Properties object which does not maintain the entries in a sequential order.  So now I just have to write some code that would load the properties file into java.util.LinkedHashMap or something that would maintain the order of its entries. Thanks for pointing to me that dom4j does handle ordered xml tags. -Saladin --- Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote: http://www.edankert.com/ ------------------------------------------------------------------------- http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user ____________________________________________________________________________________ Do you Yahoo!? Everyone is raving about the all-new Yahoo! Mail beta. http://new.mail.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j - DOMWriter, TreeWalker bug?</header>
    <date>Thu Nov 09 17:34:00 CET 2006</date>
    <body>Hello, I'm hoping someone can help me figure out a strange problem. I have a string which contains xml, and I have 2 scenarios that produce different results: =20 Scenario 1: 1.  I first use DocumentHelper.parseText to parse the string into a dom4j.Document. 2.  I then use DOMWriter to convert the document to a w3c.Document 3.  I then create an instance of a xerces TreeWalker=20 4.  Upon traversing the tree, I get new nodes where there should not be. =20 Scenario 2: 1.  I use DocumentBuilderFactory-&amp;gt;DocumentBuilder-&amp;gt;InputSource to create a w3c.Document from the original source string 2.  I then create an instance of a xerces TreeWalker=20 3.  Tree traversal gives the expected nodes. =20 Here is my code: ------------------------------------------------------------------------ ------------------ =20 =20 =20 String source =3D"&amp;lt;?xml version=3D\"1.0\" = encoding=3D\"UTF-8\"?&amp;gt;"+ "&amp;lt;body&amp;gt;&amp;lt;p&amp;gt;This Office is a test document: System.out.println("----Calling createDocument with dom4j =20 DocumentBuilderFactory factory =3D InputSource is =3D new InputSource(new = System.out.println("----Calling createDocument with w3c =20 public org.w3c.dom.Document convert(Document dom4jDoc) throws public void createDocument(org.w3c.dom.Document srcDoc) throws TreeWalkerImpl tw =3D (TreeWalkerImpl)sourceImpl.createTreeWalker(sourceRoot, for (Node tagSourceElem =3D sourceIterator.firstChild();tagSourceElem !=3D null; tagSourceElem =3D System.out.println("The name and value of the node: //  filters the elements of the XML document class AllElements implements NodeFilter public short acceptNode (Node n) if (n.getNodeType() &amp;gt; 0 ) =20 ------------------------------------------------------------------------ ------------------ Here is my output: =20 ----Calling createDocument with dom4j Document converted---- The name and value of the node: #text This Office is a=20 The name and value of the node: #text test document: Officer The name and value of the node: #text t=20 The name and value of the node: #text " The name and value of the node: #text Bert The name and value of the node: #text " The name and value of the node: #text . y=20 The name and value of the node: #text " The name and value of the node: #text Sam The name and value of the node: #text " The name and value of the node: #text .=20 The name and value of the node: #text " The name and value of the node: #text Bert The name and value of the node: #text " The name and value of the node: #text ow aobl him. Jreine aine. ----Calling createDocument with w3c Document---- The name and value of the node: #text This Office is a test document: Officer The name and value of the node: #text t "Bert". y "Sam". "Bert" ow aobl him. Jreine aine. =20 =20 Thanks in advance for your assistance. Terry</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j - DOMWriter, TreeWalker bug?</header>
    <date>Fri Nov 10 13:34:00 CET 2006</date>
    <body>The problem probably lies in the issue that dom4j by default does not to try and merge all text nodes together. So instead it would be good to set the SAXReader.mergeAdjacentText() method to true before parsing. This means that you will need a little more control over your parsing, so you could try this: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] list.addAll() throws unsupportedOperationException
	under Java 5</header>
    <date>Tue Dec 26 19:40:00 CET 2006</date>
    <body>Hi, I've ran into an odd problem after moving my application over to Java 5. The code below worked fine under Java 1.4.x but it nows throws an unsupportedOperationException. I have also tried and iterator and add() but I get the same problem. I appears that for some reason the list I am getting back from selectNodes is now readonly. List nodes = DocumentHelper.selectNodes("./MasterAssembler/MECP", nodes = addAll(nodes, DocumentHelper.selectNodes(".//SubAssembler/MECP", Any ideas on what is happening and how to rectify it. Btw, for the moment I a simply creating an ArrayList and copying both lists into it.  This works fine in this instance because I am not manipulating the list. But in the future I am sure I will run into a problem with this kludge. Thanks, Joel</body>
  </mail>
  <mail>
    <header>[dom4j-user] Jaxen Requirements</header>
    <date>Thu Dec 21 12:55:00 CET 2006</date>
    <body>I am working on  an XML project and wanting to use dom4j. I have things working it seems. When I decided to use XPath, I found that I also need Jaxen. So, I downloaded that, put it on the classpath and it seems to work. Is this requirement documented somewhere? I confess that I've not fully read all the docs so flame me if you'd like :) . My other problem though is when I try to bundle this code up in a JEE app and deploy it to a WebSphere Application Server. My app is happy with the dom4j calls. But, when I try to do any XPath stuff using Jaxen, it just doesn't work. It doesn't seem to be raising any exceptions. I just get NULL when I do a node.selectSingleNode("//element") call. Any ideas on how I might be able to resolve this one? Thanks to all for a very cool (and free!) parser. Thanks. Andrew</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen Requirements</header>
    <date>Thu Dec 21 15:32:00 CET 2006</date>
    <body>I'd probably be safe to assume this is the infamous namespace issue. Check out the bottom two here: http://jaxen.org/faq.html This issue really irritates me and I'm about to send my original mailing list message that was never responded to to all the Jaxen developer emails.  I'll include that text at the end of this email. Alternatively, you can do what I do: /** *Removes namespaces if removeNamespaces is true */ if(removeNamespaces &amp;amp;&amp;amp; root.getNamespace() != /** *Puts the namespaces back to the original root if removeNamespaces is true */ if(removeNamespaces &amp;amp;&amp;amp; original != null) /** *Sets the namespace of the element to the given namespace */ elem.setQName( QName.get( elem.getName(), ns, /** *Recursively removes the namespace of the element and all its children: sets to Namespace.NO_NAMESPACE */ /** *Recursively removes the namespace of the list and all its children: sets to Namespace.NO_NAMESPACE */ /** *Recursively sets the namespace of the element and all its children. */ /** *Recursively sets the namespace of the List and all children if the current namespace is match */ if(n.getNodeType() == Node.ATTRIBUTE_NODE) ( (Attribute)n if(n.getNodeType() == Node.ELEMENT_NODE) setNamespaces( Email to Jaxen people: I know it may not be a part of the XPath spec, but is there any way the developers would consider some mechanism to bypass all the namespace hassles?  For my purposes, I'm only using XHTML documents, which are given a namespace by the DTD in dom4j, so I can't use the default namespace.  It would be VERY nice if there was some way to turn off namespaces or setup an override that maps unspecified namespaces in an XPath expression to a given uri, or have a setting that uses the context node's(or root node's) namespace if one isn't specified in the expression. If not, could you tell me where in the code I could make a change like this.  It's significant enough that I'd consider maintaining a patched version.  I tried fiddling with it, but nothing that looked promising was even running when evaluating my test expression. --Evan foo monkey wrote: http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen Requirements</header>
    <date>Thu Dec 21 15:46:00 CET 2006</date>
    <body>Alternatively, you can do it the 'correct' way and just map the default namespace to a prefix and use the prefix in your XPaths. Using something like this: ns.put( "xhtml"," http://www.w3.org/1999/xhtml Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen Requirements</header>
    <date>Thu Dec 21 16:02:00 CET 2006</date>
    <body>For what it's worth, here is the XML I am trying to parse: http://bpm.tibco.com/2004/IAP/MED/1.2/MED " xmlns:xsi=" http://www.w3.org/2001/XMLSchema - instance" xsi:schemaLocation=" http://bpm.tibco.com/2004/IAP/MED/1.2/MED And here is the code: In the console application, I get "Found SchemaVersion 1.2" as the output. In the WAS app, get "Unable to locate SchemaVersion" as the output. The log object is a PrintWriter by the way. Thanks in advance! Andrew On 12/21/06, foo monkey &amp;lt;foomonkey@...&amp;gt; wrote: -- "The future will be better tomorrow" -- Al Gore</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen Requirements</header>
    <date>Thu Dec 21 16:07:00 CET 2006</date>
    <body>The adapted code: //SchemaVersion ns.put( "prefix"," http://bpm.tibco.com/2004/IAP/MED/1.2/MED Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen Requirements</header>
    <date>Thu Dec 21 16:15:00 CET 2006</date>
    <body>SchemaVersion is an element in the document. This code seems to imply to me that I need to create a separate XPath object for each element I want to search for. Is that correct? On 12/21/06, Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote: http://bpm.tibco.com/2004/IAP/MED/1.2/MED http://www.edankert.com/ http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user -- "The future will be better tomorrow" -- Al Gore</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen Requirements</header>
    <date>Thu Dec 21 16:51:00 CET 2006</date>
    <body>You can map the namespaces in your DocumentFactory and this will apply to the &amp;lt;Node&amp;gt;.selectNodes() function for nodes within the document created by the DocumentFactory. --Evan foo monkey wrote: http://bpm.tibco.com/2004/IAP/MED/1.2/MED http://www.edankert.com/ http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen Requirements</header>
    <date>Thu Dec 21 17:05:00 CET 2006</date>
    <body>Using the setXPathNamespaceURIs method? setXPathNamespaceURIs public void *setXPathNamespaceURIs*(Map http://java.sun.com/j2se/1.3/docs/api/java/util/Map.html namespaceURIs) Sets the namespace URIs to be used by XPath expressions created by this factory or by nodes associated with this factory. The keys are namespace prefixes and the values are namespace URIs. *Parameters:*namespaceURIs - DOCUMENT ME! On 12/21/06, Evan Kirkconnell &amp;lt;ekirkco@...&amp;gt; wrote: http://bpm.tibco.com/2004/IAP/MED/1.2/MED http://www.edankert.com/ http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user -- "The future will be better tomorrow" -- Al Gore</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen Requirements</header>
    <date>Thu Dec 21 17:13:00 CET 2006</date>
    <body>I guess this brings up a more fundamental question. The XML I am needing to parse is coming to me as the body of a JMS message. So, I have a String that contains the XML. I was using the DocumentHelper.parseText method to create the Document object which I was using. Is there another class/method I should use to load the XML into a DOM Document object? I could not figure out another way to do that. Thanks. Andrew On 12/21/06, foo monkey &amp;lt;foomonkey@...&amp;gt; wrote: http://java.sun.com/j2se/1.3/docs/api/java/util/Map.html &amp;gt; namespaceURIs) http://bpm.tibco.com/2004/IAP/MED/1.2/MED http://www.edankert.com/ http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user -- "The future will be better tomorrow" -- Al Gore</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen Requirements</header>
    <date>Thu Dec 21 17:39:00 CET 2006</date>
    <body>Yeah, that's tricky.  I sympathize.  DocumentHelper should have that function as well, but doesn't.  I may be that if you copy elements created from DocumentHelper into a document created by DocumentFacory that has the binding, then it'll work.  You may have to run some tests, cus I don't recall.  This may be another reason why I opted to remove all the namespaces. You may want to make a function that does some of the XPath work for you and just set the mappings on the XPath expression. --Evan foo monkey wrote: http://java.sun.com/j2se/1.3/docs/api/java/util/Map.html &amp;gt; namespaceURIs) http://bpm.tibco.com/2004/IAP/MED/1.2/MED http://www.edankert.com/ http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] ignoring textnodes when an element has other child
	elements</header>
    <date>Wed Dec 13 19:01:00 CET 2006</date>
    <body>Hello, Recently I migrated an xml app that used JDOM to dom4j(1.6.1), and benefitted greatly by having a significantly lesser footprint and faster xpaths. But there is one difference im observing in the old JDOM vs DOM4j "When an element is having a child element + a textnode, im seeing that the old JDOM is totally ignoring the textnode. But dom4j is not doing the same." example: when above string is Parsed into a DOM document -- jdom neglects the textnode "naveen" all together. it only creates a DOM = where as- dom4j, keeps the textnode under the element 'test' Id assume that  DOM4j is doing the right thing by keeing the textnode, but is there any way to tell DOM4j to ignore such textnodes ( non leaf = textnodes )? Ps: :-) as a dev, i want to stick with the right thing; and try to prevent = "naveen' from being there in the first place ( which is appln bug) but the Mgmt guys, want only "xml layer" changed ( ie, jdom to dom4j ) = and rest LEFT ALONE..</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] ignoring textnodes when an element has other child
 elements</header>
    <date>Wed Dec 13 19:33:00 CET 2006</date>
    <body>You'll probably just have to remove them manually with a recursive function. Here's some pseudocode: removed = false removed = true removeAllTextNodeChildren(element) if(child instanceof Branch) removeLeafTextNodes(child) Naveen Murthy wrote: http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j  &amp;amp;  JAXB</header>
    <date>Sun Dec 10 06:36:00 CET 2006</date>
    <body>Hi, I am converting some existing web services into Java. These are REST web services.  This means that the incoming input XML comes to the web services via an HTTP post, not SOAP. Anyway, when I extract this incoming input XML from the HTTP Request I need to parse it into some Java object.  Also I need to validate that XML against an existing XML schema (XSD file). I have come across JAXB (Java Architecture for XML Binding), which seems to have been created for this purpose, but I have been struggled with it most of Friday at work, trying to learn how to use it and trying to get it to work for my project. The problem with JAXB is that I have to use the JAXB binding compiler to generate several Java classes for each xsd schema file.  And when I try to do that for all the 20 or so XSD files that I have, I run into some conflicts because some xml tag namings are the same across several of the XSD files, which means that I have go put the generated JAXB Java classes for each one of those XSD files in a separate package folder. Anyway, to make a long story short, I have had it with JAXB, and I would rather not waste my time on it. I would rather use something more user friendly like dom4j.  It is so user friendly and easy to use, I was able to learn it and start using it in no time. I am wondering if dom4j is useable for the type of situation that I described above, to parse an incoming xml message in a web service and to validate that xml against an xsd schema file.  How comparable is it to JAXB in terms of performance? If dom4j can parse and validate the xml, and the memory and performabce is close to that of JAXB, then that would be wonderful. Please any suggestions or recommendations to help me in my situation is very much appreciated. Thanks, -Saladin ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ____________________________________________________________________________________ Need a quick answer? Get one in minutes from people who know. Ask your question on http://www.Answers.yahoo.com</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j blues</header>
    <date>Wed Dec 06 21:33:00 CET 2006</date>
    <body>Hello all, I'm having a little bit of trouble understanding something basic and I have boiled it down to the code below. Also attached is a zip file containing all 3 files. ( The dom4j SMTP server does not seem to like zip attachments, so I have changed the extension to .zip.txt. Please change it back to .zip be able to deflate it ) Why would an XPath search from a first level element (id=1) return all second level elements(id=2,4,6)  and not just the children(id=2,4) of the node I'm searching from ? I'm pretty sure I've missed something, but I don't know what. Could someone take a couple of minutes and explain this to me? thanks in advance, PP -------------new.xml------- ---------Main.java--------- public static void main(String[] args) mapdoc = reader.read(fMapFile); // throws org.dom4j.DocumentException System.out.println("FirstLevel:i=" + i + ":\n" + List InnerList = System.out.println("SecondLevel:j=" + j + ":\n" + ------------out.txt---------- Document: ---------- FirstLevel:i=0: ---------- SecondLevel:j=0: ---------- 2 SecondLevel:j=1: ---------- 4 SecondLevel:j=2: ---------- 6 FirstLevel:i=1: ---------- SecondLevel:j=0: ---------- 2 SecondLevel:j=1: ---------- 4 SecondLevel:j=2: ---------- 6</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j blues</header>
    <date>Wed Dec 06 21:39:00 CET 2006</date>
    <body>Forgot to add. I'm using JVM: 1.5.0_09-b03 dom4j: 1.6.1 jaxen: 1.1-beta-11</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j blues</header>
    <date>Thu Dec 07 00:55:00 CET 2006</date>
    <body>| http://www.w3.org/TR/xpath extract: //para| selects all the |para| descendants of the document root and t= hus=20 selects all |para| elements in the same document as the context node take off the // --Evan Piz Pot wrote: d I=20 =20 ke=20 e=20 n all=20 4) of=20 =20 tion () +=20 ML()=20 ----- =F3=19z=AEZ#=F3=9DB=EE=E3\=94=1F=8B=CBN=A3=B0=FD|=F7=83=A69=95=E6|&amp;gt;= =AB=EAG=86=19d,U m=882rU.=B2=85;=19;=03=8CXW=E8=A9=EE=A9&amp;amp;=E8=F7=F5=1A=AD[+=B5=B6R7= =B8=B4=BC=D0"=EA=D9=B9&amp;lt;o=E27]u=CB=F1+=E7=E3=94=3D=E5=93I+=9A=09=9E= =9F=8F=FA=1Cha=81=16=06=E8(&amp;lt;=02-=A2=E8t,=83=AD=18m=DF /=8F=85=D8=BBCO= =CCr,.=950=C5r=DBJv0=8B=16f=E1=C1=F4=12=FE=17=CD=89lGr=DA|X=1E=CD= =05 =01=E6Ah+=FF=99=B2=DA =B8$=D8=1C=BB=9A=A9=EB=DB=9C=BE=19=C6=D1= =FC=03PK=03=04=14 =11`=88%=02H=8C=E5=11=11h ----- ------ hare your ash http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;= CID=3DDEVDEV ----- https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j blues</header>
    <date>Thu Dec 07 02:11:00 CET 2006</date>
    <body>What I was really looking for was a .//para behavior. I assumed (wrongly) that when searching from a node, that it *becomes* root temporarily. I've bookmarked the standards document for future reference. Excellent. Thanks a bunch, Evan. Evan Kirkconnell wrote: http://www.w3.org/TR/xpath http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Sorting Problems...</header>
    <date>Tue Dec 05 07:36:00 CET 2006</date>
    <body>Hi All, Below is the sample XML and i want to sort it based on "id" attribute that is available in the "key" element. I have written the below code to do sorting. for(int i=0;i&amp;lt;speakers.size();i++) and the output i got was 192 24 47 70 93 I tried different alternatives but i was not able to sort this in ascending order. Please advice. Thanks, Raju SPAN Systems Corporation, Bangalore. "Steering Progress, Together" =================================================== This email message and any attachments is confidential and intended only for the use of an individual or entity named above and may contain information that is privileged, confidential or exempt from disclosure under applicable law. If you are not the intended recipient, you are notified that any dissemination, distribution or copying of this email is strictly prohibited.If you have received this email in error, please notify us immediately by return email or itsupport@... and destroy the original message. Opinions, conclusions, and other information in this message that do not relate to the official business of SPAN, shall be understood to be neither given nor endorsed by SPAN.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Sorting Problems...</header>
    <date>Tue Dec 05 17:58:00 CET 2006</date>
    <body>Depends on what you want.  You just want a list of sorted nodes, or do you want them to be in sorted order in the document? Here's some psudocode that uses insertion sort to build a list of sorted elements: If you want to sort them in place in the document, you could use bubble sort or something. --Evan Krishnam Raju wrote: http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with selectSingleNode() when xml tree contains
	xmlns attribute</header>
    <date>Wed Jan 17 23:08:00 CET 2007</date>
    <body>Hi, The following piece of code works fine primaryUserId = for the following xml tree But when the above xml tree is modified by adding an xmlns attribute to the root "Document" element, the code no longer works and it throws a NullPointerException xmlns=" http://www.nget.com/coreapps/RunDVPRequest Why is it no longer working?  The XPath expression should still work? ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ____________________________________________________________________________________ 8:00? 8:25? 8:40? Find a flick in no time with the Yahoo! Search movie showtime shortcut. http://tools.search.yahoo.com/shortcuts/#news</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with selectSingleNode() when xml tree contains
	xmlns attribute</header>
    <date>Wed Jan 17 23:09:00 CET 2007</date>
    <body>Hi, The following piece of code works fine primaryUserId = for the following xml tree But when the above xml tree is modified by adding an xmlns attribute to the root "Document" element, the code no longer works and it throws a NullPointerException xmlns=" http://www.nget.com/coreapps/RunDVPRequest Why is it no longer working?  The XPath expression should still work? ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ____________________________________________________________________________________ Be a PS3 game guru. Get your game face on with the latest PS3 news and previews at Yahoo! Games. http://videogames.yahoo.com/platform?platform=120121</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Thu Jan 18 09:47:00 CET 2007</date>
    <body>Please see for more information: http://www.mail-archive.com/dom4j-user%40lists.sourceforge.net/msg02450.html Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Thu Jan 18 09:55:00 CET 2007</date>
    <body>This is caused by you using a default namespace. Please have a look at the following threads for the answer: http://www.mail-archive.com/dom4j-user%40lists.sourceforge.net/msg02510.html http://www.mail-archive.com/dom4j-user%40lists.sourceforge.net/msg02346.html Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Thu Jan 18 09:58:00 CET 2007</date>
    <body>Hi, that is because your XPath statement operates on the default namespace (xmlns="") and when you set a different default namespace in your document the query will yield "null" as a result of the selectSingleNode method and your getText() will not work on null. Note that I only tried the following to define namespace prefixes, never to change the default namespace... but it probably would look something like this: // usually I put the prefix here as the first parameter map.put("", " http://www.nget.com/coreapps/RunDVPRequest Cheers Richard Am 18.01.2007 um 00:07 schrieb S. Sharif: http://www.nget.com/coreapps/RunDVPRequest http://gaia.ecs.csus.edu/~sharifs http://tools.search.yahoo.com/shortcuts/#news http://www.techsay.com/default.php? https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Thu Jan 18 10:05:00 CET 2007</date>
    <body>This doesn't work, instead you will have to define a prefix for the namespace, it does not matter that the prefix in you code does not match the one in the XML document (actually the code wouldn't be very portable if this had to be case)! map.put("we", " http://www.nget.com/coreapps/RunDVPRequest XPath xpath = new Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Thu Jan 18 12:13:00 CET 2007</date>
    <body>Hi, that is because your XPath statement operates on the default namespace (xmlns="") and when you set a different default namespace in your document the query will yield "null" as a result of the selectSingleNode method and your getText() will not work on null. Note that I only tried the following to define namespace prefixes, never to change the default namespace... but it probably would look something like this: // usually I put the prefix here as the first parameter map.put("", " http://www.nget.com/coreapps/RunDVPRequest Cheers Richard Am 18.01.2007 um 00:07 schrieb S. Sharif: Hi, The following piece of code works fine primaryUserId = inputDocument.selectSingleNode("Document/LOGIN_LIST for the following xml tree But when the above xml tree is modified by adding an xmlns attribute to the root "Document" element, the code no longer works and it throws a NullPointerException xmlns=" http://www.nget.com/coreapps/RunDVPRequest Why is it no longer working?  The XPath expression should still work? ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ________________________________________________________________________ ____________ 8:00? 8:25? 8:40? Find a flick in no time with the Yahoo! Search movie showtime shortcut. http://tools.search.yahoo.com/shortcuts/#news ------------------------------------------------------------------------ - Take Surveys. Earn Cash. Influence the Future of IT Join SourceForge.net's Techsay panel and you'll get the chance to share your opinions on IT &amp;amp; business topics through brief surveys - and earn cash http://www.techsay.com/default.php? page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Thu Jan 18 13:38:00 CET 2007</date>
    <body>Hi Edwin, will this work? When the default namespace is set on a document, wouldn't it also apply to all attributes? Wouldn't it be necessary to use "@we:filter" as well? Regards, Richard</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Thu Jan 18 13:50:00 CET 2007</date>
    <body>Attributes always need to be specifically declared in a namespace. "If there is a default namespace declaration in scope, the expanded name corresponding to an unprefixed element name has the URI of the default namespace as its namespace name. If there is no default namespace declaration in scope, the namespace name has no value. The namespace name for an unprefixed attribute name always has no value. In all cases, the local name is local part (which is of course the same as the unprefixed name itself)." http://www.w3.org/TR/REC-xml-names/#defaulting Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml
	tree	contains xmlns attribute</header>
    <date>Thu Jan 18 16:45:00 CET 2007</date>
    <body>I complete disagree and believe that there a big misinterpretations here leading to poor implementation and massive confusion. The misinterpretation that I've seen stated in many places and by Richard Eckart earlier in this thread is: XPath statement operates on the default namespace (xmlns="") From the XML 1.0 spec, I find this statement to be completely wrong. There is no such thing as "The default namespace" in a global sense. Default namespace as a term, is clearly a matter of inheritance, and I don't see how anyone could argue otherwise after reading the bit about default namespace from the XML 1.0 spec.( http://www.w3.org/TR/REC-xml-names/#defaulting )  The simplest support of my interpretation is the statement in the spec: "The attribute value in a default namespace declaration /MAY/ be empty. This has the same effect, within the scope of the declaration, of there being no default namespace." I believe the implementation error is that elements that are using a default namespace are being assigned a namespace rather than being setup to inherit them.  From the spec, the example for setting the empty namespace as the default namespace is: http://www.w3.org/1999/xhtml So, logically &amp;lt;details xmlns="" is applying the default namespace for its children.  Therefore, its children should be dependent on it supplying this default namespace.  If it were to no longer supply this default namespace, then the children would logically default to the xhtml namespace.  Also, if you were to take this XML document and change the document then of course the children are now in the new default namespace.  I am of the opinion that if you were to programatically change the namespace on this nodes, that it's completely logical that you'd have the same end result and that the descendant nodes would inherit the new namespace. I also believe that the Jaxen has made the same misinterpretation which led to the implementation assuming the empty namespace when no namespace is specified.  As much as I wish the XPath docs stated what the default namespace for XPath processing should be, I haven't found anything.  I still believe, however, that there is more merit and logic in using the context node's namespace rather than the empty namespace, and that there is no specification backing for using the empty namespace as the default namespace. In regard to me disagreeing with Edwin's statement that attributes must be specifically declared in a namespace.  I'd quote the XML spec in saying, "Default namespace declarations do not apply directly to attribute names; the interpretation of unprefixed attributes is determined by the element on which they appear."  My interpretation of this is that default namespaces don't apply DIRECTLY to, but they can apply indirectly to attributes.  The attribute has the same namespace as the element unless specified otherwise, and there's no reason that the element couldn't be using the default namespace in scope.  In regard to the quote, I believe that "The namespace name for an unprefixed attribute name always has no value."  does not imply that the attribute has no namespace, but that it has no "namespace name" which I believe must have different meaning. --Evan Edwin Dankert wrote: http://www.w3.org/TR/REC-xml-names/#defaulting</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Thu Jan 18 17:32:00 CET 2007</date>
    <body>&amp;gt; So, logically &amp;lt;details xmlns="" is applying the default namespace for I agree that programmatically this could be a valid implementation of the default namespace problem and might be a solution that could be implemented for dom4j. I disagree with this, the idea is that your code should not have to change when your data changes. The above 2 trees are equivalent and you should be able to use the same xpath expression to interrogate both these xml trees. Also, the namespace-prefix has only been created to facilitate the mapping of the namespace name in a XML document, this would otherwise be extremely difficult using simple textual content. Note: I actually believe that there should be no need to expose the prefix programmatically, the only time that a user should want to know about or define a prefix for a namespace would be when serialising the NodeSet to a XML Document. (I think exposing these methods only causes confusion and encourages abuse) I understand your position, however this is simply not the interpretation that has been used by the common XML standards like: XPath, DOM, SAX and implementations like dom4j, XOM or JDOM. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml
	tree	contains xmlns attribute</header>
    <date>Thu Jan 18 20:16:00 CET 2007</date>
    <body>&amp;gt;&amp;gt; I also believe that the Jaxen has made the same misinterpretation which I think you misunderstand what I'm saying.  I'm saying that if the context node from either of your examples is the node named 'root'(or 'test:root'), for an XPath expression 'child', that the default namespace for the XPath expression would be "urn:blah.com:blah" instead of "" and that it would return the child, since in both cases, the namespace for the child node should be "urn:blah.com:blah".  Right now with Jaxen, your XPath MUST be 'blah:child' assuming you have "blah" mapped to "urn:blah.com:blah".  This seems especially unnecessary when the XPath is searching through only one namespace. The example of what I'd be breaking is that 'child' would not have any results against the following case(Right now the child node WOULD be returned by Jaxen because non-specified namespaces are ALWAYS assumed to be "", which is just weird).  Note that right now this situation could occur by changing the namespace of the root element programatically from "" to "urn:blah.com:blah". --Evan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Thu Jan 18 21:38:00 CET 2007</date>
    <body>Hi, I tried what you suggested but it still does not seem to work for me. I get a NullPointerException on the line of code that calls getXmlElementUsingXPath() String xpath = String primaryUserId = getXmlElementUsingXPath(inputDocument, xpath Here is the method that I defined using the code that you provided private static Element getXmlElementUsingXPath(Document document, String xpathExpression) try map.put("", " http://www.nget.com/coreapps/RunDVPRequest xpath.setNamespaceContext(new return (Element) catch (JaxenException e) And here is the xml file that I am feeding it: xmlns=" http://www.nget.com/coreapps/RunDVPRequest However, when I run the same peace of code without the xmlns namespace declaration It works fine and I don't get any errors. Any ideas on how I can get the code to work without errors? Thanks. wrote: http://www.nget.com/coreapps/RunDVPRequest ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ____________________________________________________________________________________ Bored stiff? Loosen up... Download and play hundreds of games for free on Yahoo! Games. http://games.yahoo.com/games/front</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Thu Jan 18 21:46:00 CET 2007</date>
    <body>One more thing, the NullPointerException is not caused by a JaxenException being thrown from inside the getXmlElementUsingXPath() method that I defind. Because the catch block is not called when I run the code. It is still being caused by the selectSingleNode() method returning a null value, when applying the xpath on the xml document. Any help is very much appreciated. Thanks. ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ____________________________________________________________________________________ Never miss an email again! Yahoo! Toolbar alerts you the instant new Mail arrives. http://tools.search.yahoo.com/toolbar/features/mail/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Fri Jan 19 10:20:00 CET 2007</date>
    <body>&amp;gt; I think you misunderstand what I'm saying.  I'm saying that if the Sorry about the misunderstanding. I am not too sure about this solution, it doesn't seem to be very transparent. It might work in 99% of the cases but it just doesn't seem right to implement a specific case for a default namespaces on a root-node. The 'child' element in this case is not in the default namespace, actually it is in no namespace, this is what xmlns="" does, I am not sure what you find to be weird about this? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
 contains xmlns attribute</header>
    <date>Fri Jan 19 15:34:00 CET 2007</date>
    <body>Edwin Dankert wrote: I'm not suggesting a special case for the root node, just that unspecified XPath expressions default to something other than "".  Such as the _context node_'s namespace(not necessarily the root node). A co-worker pointed out something that made me rethink using the context node's namespace as the default.  The instance in which you have: If the svg:blah tag is the context node, it may be more intuitive to use the default namespace defined in the scope of the context node for the XPath evaluation.   But, this specific doesn't really concern me as it would rarely be an issue, and just something to remember.  I could see merit both ways. A better example of what I find weird would be that if you have an entire document that is in the xhtml namespace and then one node that is in the "" namespace, then any, 'normal' xpath expressions.(ones without namespace specification.  eg: //input[@name='blah']  would ONLY consider the one that has no namespace and would skip over all the standard xhtml document tags.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Fri Jan 19 17:36:00 CET 2007</date>
    <body>&amp;gt; A better example of what I find weird would be that if you have an I think I understand your concerns. At the moment the Jaxen implementation provides default namespace prefix mappings, based on the namespaces and their prefixes defined on the context element. (Note: I don't think anybody should rely on this mechanism, since this would make the code less portable) I now think that your reasoning is that if they can do this for the prefixed namespaces why not also do the same thing for the default namespace? (I think I agree with this) Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
 contains xmlns attribute</header>
    <date>Fri Jan 19 18:21:00 CET 2007</date>
    <body>Edwin Dankert wrote: I do think this affects portability, but are you suggesting that we use xpath such as: // http://www.w3.org/1999/xhtml:html/http://www.w3.org/1999/xhtml:body/http://www.w3.org/1999/xhtml:a ? I'm not even sure this is the right syntax, because you would probably have to escape the colon and /'s within the URLs. If I'm using an xhtml document and only concerning myself with xhtml tags, then why should I care about namespaces, and have an abomination such as this within my code? Again I think you're equating "the default namespace" to "".  I would agree that'd it'd be better to be able to setup the namespace map so that if you leave off the namespace, it'd use your mapped one.  However, the context is used to decide what the default will be for the expression, so would it not be better to default to the context's namespace or the default namespace within the scope of the context? When I say "the default namespace within the scope of the context"  what I'm getting at is: http://www.w3.org/1999/xhtml If &amp;lt;b&amp;gt; is our context, then the default namespace in &amp;lt;b&amp;gt;'s scope is defined by &amp;lt;a&amp;gt; and is " http://www.w3.org/1999/xhtml ".  So, namespace as the default namespace in &amp;lt;b&amp;gt;'s scope.  Jaxen would not return &amp;lt;d&amp;gt; because both &amp;lt;c&amp;gt; and &amp;lt;d&amp;gt; are in the " http://www.w3.org/1999/xhtml " namespace and the xpath expression would default to "", which is a poor choice.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Fri Jan 19 19:11:00 CET 2007</date>
    <body>Sorry, please ignore my previous e-mail.  You already provided the correct solution.  I tried it and it works. One more last question.  Is it always necessary to specify the namespace in order for the XPath to work? Is there a way for me to ignore the namespace and just have the XPath work without looking at the namespace? For example, what if I want the following XPath "Document/LOGIN_LIST[@filter='Primary']/LOGIN/USERID" to work on both the following XML documents: An xml document not specifying any namespace as well as those xml documents who happen to specify a default namespace for the entire document, such as xmlns=" http://www.nget.com/coreapps/RunDVPRequest Can't I use a single XPath "Document/LOGIN_LIST[@filter='Primary']/LOGIN/USERID" to work for both situations? Thanks. --- Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote: http://www.nget.com/coreapps/RunDVPRequest http://www.edankert.com/ ------------------------------------------------------------------------- http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ____________________________________________________________________________________ Food fight? Enjoy some healthy debate in the Yahoo! Answers Food &amp;amp; Drink Q&amp;amp;A. http://answers.yahoo.com/dir/?link=list&amp;amp;sid=396545367</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml
	tree	contains xmlns attribute</header>
    <date>Fri Jan 19 20:45:00 CET 2007</date>
    <body>Have you not read our ongoing debate?  It's very related.  :-) Basically, the answer is 'no', but I think it should be 'yes'.  If you're bold enough to remove the namespaces, take a look at code here: http://www.mail-archive.com/dom4j-user%40lists.sourceforge.net/msg02511.html --Evan S. Sharif wrote: http://www.nget.com/coreapps/RunDVPRequest http://www.nget.com/coreapps/RunDVPRequest http://www.edankert.com/ http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user http://gaia.ecs.csus.edu/~sharifs http://answers.yahoo.com/dir/?link=list&amp;amp;sid=396545367 http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Fri Jan 19 22:45:00 CET 2007</date>
    <body>Thanks for the code.  But that might not be too efficient for large xml documents, since there would be a lot of looping for large xml documents. I came up with an alternative that seems to work for my situation: // Get the namespace uri for inputDocument xml document if any String namespaceURI = // Set the namespace uri // Note: what prefix we choose to use for the namespace does not matter // In this case we just arbitrarily picked "w" as the prefix for the namespace NamespaceContext namespaceContext = new String primaryXPath = String primaryUserId = getXmlElementUsingXPath(inputDocument, primaryXPath, namespaceContext) And here is the implementation for the getXmlElementUsingXPath() method: private static Element getXmlElementUsingXPath(Document document, String xpathExpression, NamespaceContext namespaceContext) try return (Element) catch (JaxenException e) --- Evan Kirkconnell &amp;lt;ekirkco@...&amp;gt; wrote: http://www.mail-archive.com/dom4j-user%40lists.sourceforge.net/msg02511.html ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ____________________________________________________________________________________ Never Miss an Email Stay connected with Yahoo! Mail on your mobile.  Get started! http://mobile.yahoo.com/services?promote=mail</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml
	tree	contains xmlns attribute</header>
    <date>Fri Jan 19 22:52:00 CET 2007</date>
    <body>Yeah, I did something similar for a while.  The XPath is still ugly IMO.  You may be surprised at how fast dom4j can strip them.  I did some tests to see if it was viable, and I think it was only like 10 milliseconds for a decent size document.  It was a long time ago though... --Evan S. Sharif wrote: http://www.mail-archive.com/dom4j-user%40lists.sourceforge.net/msg02511.html http://gaia.ecs.csus.edu/~sharifs http://mobile.yahoo.com/services?promote=mail http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Sat Jan 20 03:09:00 CET 2007</date>
    <body>Yes, I agree.  I am converting a non-Java application to Java in which XPath was used quite extensively in the code.  In the old non-Java language the XPath worked just fine without using namespace prefixes.  It would be nice if I could use those XPath expressions as is, without going through the trouble of prefixing every single node in the XPath expression. In regards to the code that you showed me for removing the namespace from an xml document, I was just wondering if there was an easier way for doing it.  Is there a command in dom4j by which you can remove the namespace from the root element, and by doing so there would no longer be any namespace in the xml document. I mean for example, if we have the following xml http://www.web.com/apps/RunRequest Could I do something like this document.getRootElement().removeNamespace(...) and then the resulting xml document would become Is there such a thing in dom4j?  I am asking since I am still fairly new to dom4j and maybe the dom4j experts could let me know. Thanks. --- Evan Kirkconnell &amp;lt;ekirkco@...&amp;gt; wrote: ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ____________________________________________________________________________________ Have a burning question? Go to http://www.Answers.yahoo.com and get answers from real people who know.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Sat Jan 20 12:35:00 CET 2007</date>
    <body>&amp;gt; I came up with an alternative that seems to work for That is a very creative solution for this problem. (I didn't even realise that you could map the prefix to an empty namespace uri) Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Sat Jan 20 12:35:00 CET 2007</date>
    <body>&amp;gt; Is there such a thing in dom4j?  I am asking since I I agree that something like this might be very handy functionality but there is currently no such option in dom4j. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Sun Jan 21 09:43:00 CET 2007</date>
    <body>&amp;gt; I do think this affects portability, but are you suggesting that we use http://www.w3.org/1999/xhtml:html/http://www.w3.org/1999/xhtml:body/http://www.w3.org/1999/xhtml:a Such a syntax does not exist. I don't think you can equate 'verboseness' with bad coding practices. No, what I'm saying that the following code is portable because you are not depending on the prefix that has been defined for the namespace. map.put("xhtml", " http://www.w3.org/1999/xhtml This will return the 'c' element for the following code fragments: http://www.w3.org/1999/xhtml http://www.w3.org/1999/xhtml http://www.w3.org/1999/xhtml http://www.w3.org/1999/xhtml"&amp;gt;&amp;lt;htm:d I use the term 'default namespace' for the following: http://www.w3.org/1999/xhtml This sets the default namespace to " http://www.w3.org/1999/xhtml " for this element and its children. To un-declare a 'default namespace' for the current element and its children you can use the following construction: I don't think you should depend on the namespaces in your context because your code would now depend on the information your trying to parse. (although Jaxen for dom4j partly does already and I can see how this would confuse people) http://www.w3.org/1999/xhtml ".  So, http://www.w3.org/1999/xhtml " namespace and the xpath expression would However the "c/d" XPath expression does not query a set of elements in the " http://www.w3.org/1999/xhtml " namespace, if you want this XPath expression to work the way you suggest, you will have to change the XPath specification first. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml
	tree	contains xmlns attribute</header>
    <date>Mon Jan 22 18:23:00 CET 2007</date>
    <body>I found something interesting.  Doesn't look like w3c agrees with me about nodes inheriting namespace changes. http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407/namespaces-algorithms.html#conflicting --Evan Evan Kirkconnell wrote: http://www.w3.org/TR/REC-xml-names/#defaulting )  The simplest support http://www.w3.org/1999/xhtml http://www.w3.org/TR/REC-xml-names/#defaulting</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml
	tree	contains xmlns attribute</header>
    <date>Mon Jan 22 21:18:00 CET 2007</date>
    <body>You may want to look into using Apache's xerces/xalan implementation of DOM/XPath.  I had no problems running normal XPath expressions such as "/html/body/div[@name='content']" against an XHTML document.  The code for running XPath is much less convenient though...  I also had serialization format issues with apache's implementation.  Looks like maybe they've a new version now. --Evan S. Sharif wrote: http://www.web.com/apps/RunRequest http://gaia.ecs.csus.edu/~sharifs http://www.Answers.yahoo.com and get answers from real people who know. http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Tue Jan 23 09:58:00 CET 2007</date>
    <body>&amp;gt; You may want to look into using Apache's xerces/xalan implementation of Apache's XPath implementation also follows the same rules. [1] Regards, Edwin [1] http://www.w3.org/TR/xpath#node-tests -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with selectSingleNode() when xml tree
	contains xmlns attribute</header>
    <date>Tue Jan 23 10:04:00 CET 2007</date>
    <body>&amp;gt; I found something interesting.  Doesn't look like w3c agrees with me http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407/namespaces-algorithms.html#conflicting This describes a limitation of DOM, this does not have to be a limitation to dom4j or other implementations. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Question about namespace</header>
    <date>Mon Jan 22 08:18:00 CET 2007</date>
    <body>Hello, First of all I'm a newbie in using XML and dom4j. I must create an xml file with this kind of name space: ..... I've been able to add only the xmlns:xsi attribute using a Namespace object. Is it possible to add the xsi:noNamespaceSchemaLocation by using the Dom4J api? Thank you.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Question about namespace</header>
    <date>Mon Jan 22 09:51:00 CET 2007</date>
    <body>The following code should work: Namespace ns = DocumentHelper.createNamespace("xsi", " http://www.w3.org/2001/XMLSchema-instance root.addAttribute( DocumentHelper.createQName("noNamespaceSchemaLocation", ns), Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] How do I return a org.dom4j.Document object as a
	nicely formatted xml string?</header>
    <date>Tue Jan 16 23:07:00 CET 2007</date>
    <body>Hi, I am trying to output the Document object using a log4j output debug statement as follows: // Create xml response document // log4j debug output statement But the xml output is not nicely formatted.  Is there anyway I can return a nicely formatted xml string from a dom4j Document object? I have already looked at the example provided in the FAQ page for "How can I pretty print my XML document?" http://www.dom4j.org/faq.html#pretty-print But that only shows how to write the Document,  nicely formatted, to a writter.  What I need is to return the Document, nicely formatted, as a String. Thanks. ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ____________________________________________________________________________________ Need Mail bonding? Go to the Yahoo! Mail Q&amp;amp;A for great tips from Yahoo! Answers users. http://answers.yahoo.com/dir/?link=list&amp;amp;sid=396546091</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How do I return a org.dom4j.Document object as a
	nicely formatted xml string?</header>
    <date>Wed Jan 17 08:20:00 CET 2007</date>
    <body>Hi here you go: static public String dumpToString(org.dom4j.Document doc) if (encoding == null) Am 17.01.2007 um 00:07 schrieb S. Sharif: http://www.dom4j.org/faq.html#pretty-print http://gaia.ecs.csus.edu/~sharifs http://answers.yahoo.com/dir/?link=list&amp;amp;sid=396546091 http://www.techsay.com/default.php? https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How do I return a org.dom4j.Document object as a	
	nicely formatted xml string?</header>
    <date>Wed Jan 17 05:13:00 CET 2007</date>
    <body>Sharif, You can user the java.io.StringWriter on the PrettyPrint Regards, Chris Lai 29597369 GET 6303 -----Original Message----- From: S. Sharif [mailto:al_zawiah@...] Sent: Wednesday, January 17, 2007 7:07 AM To: dom4j-user@... Subject: [dom4j-user] How do I return a org.dom4j.Document object as a nicely formatted xml string? Hi, I am trying to output the Document object using a log4j output debug statement as follows: // Create xml response document // log4j debug output statement But the xml output is not nicely formatted.  Is there anyway I can return a nicely formatted xml string from a dom4j Document object? I have already looked at the example provided in the FAQ page for "How can I pretty print my XML document?" http://www.dom4j.org/faq.html#pretty-print But that only shows how to write the Document,  nicely formatted, to a writter.  What I need is to return the Document, nicely formatted, as a String. Thanks. ********************************************************** * Saladin Sharif * e-mail:  al_zawiah@... * Visit homepage @ http://gaia.ecs.csus.edu/~sharifs ********************************************************** ____________________________________________________________________________ ________ Need Mail bonding? Go to the Yahoo! Mail Q&amp;amp;A for great tips from Yahoo! Answers users. http://answers.yahoo.com/dir/?link=list&amp;amp;sid=396546091 ------------------------------------------------------------------------- Take Surveys. Earn Cash. Influence the Future of IT Join SourceForge.net's Techsay panel and you'll get the chance to share your opinions on IT &amp;amp; business topics through brief surveys - and earn cash http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem on parsing backspace character</header>
    <date>Wed Jan 10 09:26:00 CET 2007</date>
    <body>Richard, Whe you do the following, The result is which may be correct, but the dom4j parser reject such xml it generated. So it may be a bug either on or if 2) is true, I need to know the work around to encode backspace in order for dom4j to parse with exception. Regards, Chris Lai 29597369 GET 6303 -----Original Message----- From: Richard Eckart [mailto:wyldfire@...] Sent: Wednesday, January 10, 2007 4:29 PM To: Chris Lai /EEL/IT Cc: dom4j-user@... Subject: Re: [dom4j-user] problem on parsing backspace character Hi Chris, It's due to the XML specifications. The backspace character is not a valid XML character. If you want to have it in your documents, you need to escape it. It seems there is a bug that causes it to fail to escape the backspace char when a XML document is serialized to String. What I suppose should happen is, that the resultung XML contains a &amp;amp;#8; entity. See here: http://www.w3.org/TR/REC-xml/#charsets (Section 2.2 Characters - Character range) Character Range Char ::= #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF] /* any Unicode character, excluding the surrogate blocks, FFFE, and FFFF. */ Cheers, Richard Am 10.01.2007 um 08:08 schrieb Chris Lai /EEL/IT: http://www.techsay.com/default.php? https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem on parsing backspace character</header>
    <date>Wed Jan 10 09:34:00 CET 2007</date>
    <body>Hi Chris, as far as I know, dom4j uses the default XML parser of your system to parse XML files - it doesn't come with its own parser. I've run into problems several times when I have had multiple XML parser jars on the classpath because it is a roulette which parser gets used. In your case you seem to be using Xerces, so I'd say the problem is not in dom4j, but in Xerces. The XML produced by dom4j seems perfectly correct to me. Regards, Richard Am 10.01.2007 um 10:26 schrieb Chris Lai /EEL/IT: http://www.w3.org/TR/REC-xml/#charsets http://www.techsay.com/default.php? https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem on parsing backspace character</header>
    <date>Wed Jan 10 09:53:00 CET 2007</date>
    <body>The #x8 (backspace) character is illegal in XML 1.0, all characters from #x1 to #x1F are illegal in XML 1.0 (even escaped) except for #x9 (tab), #xA (line feed) #xD (carriage return). Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem on parsing backspace character</header>
    <date>Thu Jan 11 01:04:00 CET 2007</date>
    <body>Edwin, Thanks you, anyone know if there are any workaround to encode backspace #x8 Or any version of xml parser can parse the backspace #x8? Regards, Chris Lai 29597369 GET 6303 -----Original Message----- From: Edwin Dankert [mailto:edankert@...] Sent: Wednesday, January 10, 2007 5:54 PM To: Chris Lai /EEL/IT Cc: dom4j-user@... Subject: Re: [dom4j-user] problem on parsing backspace character The #x8 (backspace) character is illegal in XML 1.0, all characters from #x1 to #x1F are illegal in XML 1.0 (even escaped) except for #x9 (tab), #xA (line feed) #xD (carriage return). Regards, Edwin -- http://www.edankert.com/ ------------------------------------------------------------------------- Take Surveys. Earn Cash. Influence the Future of IT Join SourceForge.net's Techsay panel and you'll get the chance to share your opinions on IT &amp;amp; business topics through brief surveys - and earn cash http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem on parsing backspace character</header>
    <date>Thu Jan 11 08:42:00 CET 2007</date>
    <body>&amp;gt; Thanks you, anyone know if there are any workaround to encode backspace #x8 XML 1.1 allows an 'escaped' version of the backspace character, so you could try and change the version number: Note: this will only work for XML 1.1 parsers. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] problem on parsing backspace character</header>
    <date>Wed Jan 10 07:15:00 CET 2007</date>
    <body>hi, I am having a problem on parsing xml with backspace (0x0008) char. (The tab char (0x0009) is fine) It turns out that dom4j cannot parse a xml with backspace char even the xml is generated by the dom4j itself. To demo the problem, here is the code section: Element author1 = root.addElement( "author" ) .addText( "James Strachan" + (new Character((char) try catch (DocumentException e) e.printStackTrace();		//&amp;lt;----- excepiton occurs The following are the output: org.dom4j.DocumentException: Error on line 2 of document  : Character reference "&amp;amp;#8" is an invalid XML character. Nested exception: Character reference "&amp;amp;#8" is an invalid XML character. at org.dom4j.io.SAXReader.read(SAXReader.java:482) at org.dom4j.DocumentHelper.parseText(DocumentHelper.java:278) at Foo.main(Foo.java:24) Nested exception: org.xml.sax.SAXParseException: Character reference "&amp;amp;#8" is an invalid XML character. at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) at org.dom4j.io.SAXReader.read(SAXReader.java:465) at org.dom4j.DocumentHelper.parseText(DocumentHelper.java:278) at Foo.main(Foo.java:24) Nested exception: org.xml.sax.SAXParseException: Character reference "&amp;amp;#8" is an invalid XML character. at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) at org.dom4j.io.SAXReader.read(SAXReader.java:465) at org.dom4j.DocumentHelper.parseText(DocumentHelper.java:278) at Foo.main(Foo.java:24) Anyone know how to solve it? I use the dom4j-1.6.1.jar Regards, Chris Lai 29597369 GET 6303</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] problem on parsing backspace character</header>
    <date>Wed Jan 10 08:29:00 CET 2007</date>
    <body>Hi Chris, It's due to the XML specifications. The backspace character is not a valid XML character. If you want to have it in your documents, you need to escape it. It seems there is a bug that causes it to fail to escape the backspace char when a XML document is serialized to String. What I suppose should happen is, that the resultung XML contains a &amp;amp;#8; entity. See here: http://www.w3.org/TR/REC-xml/#charsets (Section 2.2 Characters - Character range) Character Range Char ::= #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF] /* any Unicode character, excluding the surrogate blocks, FFFE, and FFFF. */ Cheers, Richard Am 10.01.2007 um 08:08 schrieb Chris Lai /EEL/IT: http://www.techsay.com/default.php? https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Dom4j Runtime Error.</header>
    <date>Wed Jan 10 06:33:00 CET 2007</date>
    <body>Hi, I'm new to dom4j.  I use Eclipse 3.2 and dom4j-1.5.2. The program compiles fine, but when i run it I get an error message that says "Fatal Exception Occured. Program will Exit". Any help on resolving this issue would be great. Regards Karthic The program is as follows. Element author1 = root.addElement( "author" ) .addAttribute( "name" , "James" ) .addAttribute( "location" , "UK" ) Element author2 = root.addElement( "author" ) .addAttribute( "name" , "Bob" ) .addAttribute( "location" , "US" ) //lets write to a file XMLWriter writer = *new* XMLWriter(*new* FileWriter( "output.xml // Pretty print the document to System.out // Compact format to System.out The error is as follows. java.lang.NoSuchMethodError: com.trend.iwss.jscan.appscan.runtime.PolicyProps: method &amp;lt;init&amp;gt;()V not found at com.trend.iwss.jscan.appscan.runtime.Session.&amp;lt;init&amp;gt;( *Session.java :58* ) at com.trend.iwss.jscan.appscan.runtime.Session.&amp;lt;clinit&amp;gt;( * Session.java:33* ) at org.dom4j.DocumentFactory.&amp;lt;clinit&amp;gt;(DocumentFactory.java) at org.dom4j.DocumentHelper.createDocument(* DocumentHelper.java:34* ) at mypackage.XMLCreator.createDocument(* XMLCreator.java:17* ) at mypackage.XMLCreator.main(* XMLCreator.java:60* ) Exception in thread "main"</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Dom4j Runtime Error.</header>
    <date>Wed Jan 10 08:23:00 CET 2007</date>
    <body>Hi Kathric, From looking at your stack trace I'd suspect this is not a dom4j problem. Looks like you'd be using some kind of Java Virus scanner or some other third-party product that causes the problem, as you can see from the package name here: Cheers, Richard Am 10.01.2007 um 07:33 schrieb e x o d u s: http://www.techsay.com/default.php? https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] list.addAll() throws unsupportedOperationException
	under Java 5</header>
    <date>Tue Jan 02 13:33:00 CET 2007</date>
    <body>&amp;gt; Any ideas on what is happening and how to rectify it. Since dom4j doesn't change the list returned from the Jaxen XPath engine, this seems to be more a Jaxen issue ... however since the Jaxen documentation does not specifically state that the list is 'mutable', I think it would be good programming practices to assume the returned list as being read-only. I tried this and I'm not sure what is happening in this addAll() method but I could not repeat the problem you highlighted. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j &amp;amp; JAX</header>
    <date>Tue Jan 02 12:36:00 CET 2007</date>
    <body>&amp;gt; I am wondering if dom4j is useable for the type of This totally depends on what you want to do with the information. [1] If you want to validate the information against a set of schemas and check some simple (or maybe even quite complex) information 'on the fly', you could try and use SAX. (this would be lightning fast) [2] If you want to validate the information and don't mind the information being presented as a simple Tree and you want to interrogate the information using XPath, the best solution would be to use dom4j or DOM. [3] If you want to validate the information and want the information to be presented in specific objects because of complex interactions between your application and the objects, JAXB is the only solution. (I would recommend JAXB 2.0) To parse the XML into objects, I expect dom4j to be slightly faster than JAXB but you need to take into account the performance of processing these objects. Hope this helped. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] 2 generall dom4j questions</header>
    <date>Tue Jan 02 12:12:00 CET 2007</date>
    <body>Sorry for replying this late but in case your still interested? Yes, this is possible, using the Node.getPath() and Node.getUniquePath() methods. Yes, you can. There is no equivalent of the getElementById() method, also the XPath id() method does not work but you can perform simple searches (using element() and elements() methods) to find specific elements. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen Requirements</header>
    <date>Tue Jan 02 11:41:00 CET 2007</date>
    <body>&amp;gt; foo monkey wrote: Yes, that is correct, you will have to create a new XPath object for every different XPath expression you want to evaluate. (Note: you can cash these XPath objects and use them to select different nodes) Evan Kirkconnell wrote: That is true, however I personally don't think that the DocumentFactory is the correct place for this functionality and would like to see this functionality deprecated in future versions, also if you look at the selectNodes() implementation, the method still uses the same DocumentFactory.createXPath() method in the background for every string, without returning a handle. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] newlines in XML attributes</header>
    <date>Tue Feb 27 22:29:00 CET 2007</date>
    <body>I know that the XML spec states to strip and normalize newlines and whitespace from XML attributes when it is being parsed: http://www.w3.org/TR/REC-xml/#AVNormalize But I have my reasons to want to preserve the text as-is.  Is there a quick and dirty way to get dom4j 1.6 to leave the newline and other whitespace alone as I parse a string? Thanks, Dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] newlines in XML attributes</header>
    <date>Wed Feb 28 10:04:00 CET 2007</date>
    <body>&amp;gt; But I have my reasons to want to preserve the text as-is.  Is there a No, there isn't ... dom4j does not parse the XML, in the background it uses a XML Parser (SAX) to do this and any conforming XML parser will normalize the attribute whitespace. The only way around this would be to use a non-conforming XML Parser. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Parsing of large files with dom4j</header>
    <date>Fri Feb 23 07:48:00 CET 2007</date>
    <body>Hi there, i'm trying to parse a large xml file with dom4j and SAXReader. My code works fine with small files but with the large ones (320 MB) I get a "OutOfMemory" exception (Exception in thread "main" java.lang.OutOfMemoryError it says). Is there any tip you can give me? I've tried to execute the code giving more memory to java (with the "-mx512MB option) but although it lasted for longer it finally failed. "Any help or advice would be great. Thanks in advance. Cheers, Bittor. PS: This is the snippet of my code where it failes: InputStream input = Test.class.getClassLoader().getResourceAsStream(batchName);   // BatchName is the xml file I want to read Document document = reader.read(bufferedStream);	// WITHOUT "-mx512M" it fails HERE pictureList = document.selectNodes( "//one/two/three" );	// WITH "-mx512M" it fails HERE</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Parsing of large files with dom4j</header>
    <date>Fri Feb 23 14:44:00 CET 2007</date>
    <body>That's quite a large file to load into memory.  I would imagine that a 320 megabyte file is a bit larger when loaded into memory as a DOM structure.  You're probably still exceeding 512.  So, get more ram, segment your file, or use XSLT would me my suggestions. If you wanna try to estimate how much memory you'll need, you can use this code and load some smaller files to get an idea: --Evan Bittor Ruiz de Azúa wrote: http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Parsing of large files with dom4j</header>
    <date>Sat Feb 24 09:53:00 CET 2007</date>
    <body>That is a large file. The normal rule of thumb is that an xml file read into a Document Object Model increases to about 6 times the size on disk. This would mean that you would have to increase your mx setting to be around 1.5 Gigabyte. This is probably not what you want. The only suggestion I can give you is to either use an element handler: http://www.dom4j.org/apidocs/org/dom4j/ElementHandler.html Note: make sure to detach processed nodes. Or use a SAX implementation instead. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Prolog or XML declaration within XML doc</header>
    <date>Fri Feb 23 18:21:00 CET 2007</date>
    <body>I am sure this is a very easy question,  but I just can not find the answer. I am producing a couple of XML documents using hibernate and DOM4J. Within  DOM4J I do not see how get the XML declaration  (&amp;lt;?xml version="1.0"?&amp;gt;)  to appear at the top of the file. I tried using an OutputFormat and setting setSuppressDeclaration(false), but that did not work. Does anybody have any suggestions? thanks for your help. kbd</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Prolog or XML declaration within XML doc</header>
    <date>Sat Feb 24 09:05:00 CET 2007</date>
    <body>The XML declaration is by default added to the output by the XMLWriter, the only way to stop this is by using the setSuppressDeclaration method, Your output should have the XML Declaration included, is there anything else formatting the output? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Using rules in dom4j</header>
    <date>Thu Feb 15 13:52:00 CET 2007</date>
    <body>Hi, Is it possible to define a stylesheet with one pattern and multiple actions? I want to process my xml document in stages, applying one rule at a time. This because I do changes in the first steps, that later steps may be dependent of. Thanks in advance, Rohnny</body>
  </mail>
  <mail>
    <header>[dom4j-user] Huge file, ElementHandler, and performance woes</header>
    <date>Sat Feb 10 00:42:00 CET 2007</date>
    <body>Folks, I'm baffled. I've been an avid user of dom4j for a while, and have used the below-mentioned stategy successfully ever since to process/transform huge XML files without consuming much memory. However, this new code I have appears to be getting gradually slower. I'm not sure if I'm missing anything. Here are the timings per 10000 elements processed. Note that I want to process documents that have over 5 million of these elements: 10000: 3 20000: 9 30000: 15 40000: 21 50000: 27 60000: 33 70000: 39 80000: 45 90000: 56 100000: 87 110000: 158 // Create a reader and add an Element handler to efficiently iterate // through the large document reader.addHandler("/n-extract-response/guid-info", // do nothing // Get the guid of the document // Get the document size, and possibly metadata size docSize = Integer.parseInt(guidInfoElement metaSize = Integer.parseInt(guidInfoElement // do nothing // print as line writer.println(colID + delimiter + guid + delimiter // for debugging purposes, track how long it takes per // 10000 guid-info elements System.out.println(count + ": " // make sure to detach to save memory // Set the start time, and begin reading You can argue that the string-concatenation and/or Integer parsing is taking up time, but it doesnt explain the gradual increase in the timings. I've tried compiling and running in both Java 1.4, 1.5 with various compilation settings, but to no avail. Help! Thanks -Wali _________________________________________________________________ MSN Hotmail is evolving  check out the new Windows Live Mail http://ideas.live.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Huge file, ElementHandler, and performance woes</header>
    <date>Mon Feb 12 14:50:00 CET 2007</date>
    <body>It'd be good to make sure the slowness isn't due to memory issues and garbage collection. Here's some code that I've used in some speed tests.(got it off the Java forum or google groups I think) I'd recommend stopping your timer after each 10000, running the gc, showing the used memory, Thread.sleep() for a bit, then starting the timer, and moving on to the next series. Might also want to play around with how much memory is allocated to the VM, and see if it shifts your numbers. Seems like it was 6 milliseconds for a while, then started to jump up. Wasn't a smooth curve, which makes me suspicious. Also, have you tried tweaking it at all? I'd recommend trying some stuff like taking the int declarations out of the loop, doing writer.println for each string separately instead of appending them, maybe removing the .detach()(I don't really know much about what that means in SAX though). // It helps to call Runtime.gc() // using several method calls: Wali Ansary wrote: http://ideas.live.com http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Huge file, ElementHandler, and performance woes</header>
    <date>Mon Feb 12 15:36:00 CET 2007</date>
    <body>I've actually tweaked it to the extent that I left the onEnd() method totally empty, except for the detach() method. As far as I understand, the detach() method is preventing the 'detached' element from being a part of the resulting Document object. That's why this code consumes hardly any memory (I didn't have to change the default HotSpot settings to process a 676 MB file). I will rerun the code with your suggestions and follow up. Thanks -Wali ----Original Message Follows---- To: dom4j-user@... Subject: Re: [dom4j-user] Huge file, ElementHandler, and performance woes Date: Mon, 12 Feb 2007 08:50:13 -0600 It'd be good to make sure the slowness isn't due to memory issues and garbage collection. Here's some code that I've used in some speed tests.(got it off the Java forum or google groups I think) I'd recommend stopping your timer after each 10000, running the gc, showing the used memory, Thread.sleep() for a bit, then starting the timer, and moving on to the next series. Might also want to play around with how much memory is allocated to the VM, and see if it shifts your numbers. Seems like it was 6 milliseconds for a while, then started to jump up. Wasn't a smooth curve, which makes me suspicious. Also, have you tried tweaking it at all? I'd recommend trying some stuff like taking the int declarations out of the loop, doing writer.println for each string separately instead of appending them, maybe removing the .detach()(I don't really know much about what that means in SAX though). // It helps to call Runtime.gc() // using several method calls: Wali Ansary wrote: &amp;gt; Folks, &amp;gt; I'm baffled. &amp;gt; I've been an avid user of dom4j for a while, and have used the &amp;gt; below-mentioned stategy successfully ever since to process/transform &amp;gt; huge XML files without consuming much memory. However, this new code I &amp;gt; have appears to be getting gradually slower. I'm not sure if I'm &amp;gt; missing anything. &amp;gt; Here are the timings per 10000 elements processed. Note that I want to &amp;gt; process documents that have over 5 million of these elements: &amp;gt; 10000: 3 &amp;gt; 20000: 9 &amp;gt; 30000: 15 &amp;gt; 40000: 21 &amp;gt; 50000: 27 &amp;gt; 60000: 33 &amp;gt; 70000: 39 &amp;gt; 80000: 45 &amp;gt; 90000: 56 &amp;gt; 100000: 87 &amp;gt; 110000: 158 &amp;gt; // Create a reader and add an Element handler to efficiently iterate &amp;gt; // through the large document &amp;gt; reader.addHandler("/n-extract-response/guid-info", &amp;gt; // do nothing &amp;gt; // Get the guid of the document &amp;gt; // Get the document size, and possibly metadata size &amp;gt; docSize = Integer.parseInt(guidInfoElement &amp;gt; metaSize = Integer.parseInt(guidInfoElement &amp;gt; // do nothing &amp;gt; // print as line &amp;gt; writer.println(colID + delimiter + guid + delimiter &amp;gt; // for debugging purposes, track how long it takes per &amp;gt; // 10000 guid-info elements &amp;gt; System.out.println(count + ": " &amp;gt; // make sure to detach to save memory &amp;gt; // Set the start time, and begin reading &amp;gt; You can argue that the string-concatenation and/or Integer parsing is &amp;gt; taking up time, but it doesnt explain the gradual increase in the &amp;gt; timings. &amp;gt; I've tried compiling and running in both Java 1.4, 1.5 with various &amp;gt; compilation settings, but to no avail. &amp;gt; Help! &amp;gt; Thanks &amp;gt; -Wali &amp;gt; _________________________________________________________________ &amp;gt; MSN Hotmail is evolving  check out the new Windows Live Mail http://ideas.live.com &amp;gt; ------------------------------------------------------------------------ &amp;gt; ------------------------------------------------------------------------- &amp;gt; Using Tomcat but need to do more? Need to support web services, security? &amp;gt; Get stuff done quickly with pre-integrated technology to make your job easier. &amp;gt; Download IBM WebSphere Application Server v.1.0.1 based on Apache Geronimo http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 &amp;gt; ------------------------------------------------------------------------ &amp;gt; _______________________________________________ &amp;gt; dom4j-user mailing list &amp;gt; dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------------------------- Using Tomcat but need to do more? Need to support web services, security? Get stuff done quickly with pre-integrated technology to make your job easier. Download IBM WebSphere Application Server v.1.0.1 based on Apache Geronimo http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________________ MSN Hotmail is evolving  check out the new Windows Live Mail http://ideas.live.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Huge file, ElementHandler, and performance woes</header>
    <date>Mon Feb 12 21:23:00 CET 2007</date>
    <body>Oh... Can your code work with just SAX? If you don't need the Document object, I'd think it'd be much faster to just use SAX directly. Wali Ansary wrote: http://ideas.live.com http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 https://lists.sourceforge.net/lists/listinfo/dom4j-user http://ideas.live.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Huge file, ElementHandler, and performance woes</header>
    <date>Mon Feb 12 21:27:00 CET 2007</date>
    <body>Thanks Evan. Conceptually, it can be done with SAX. I'm actually doing a rewrite with StAX. This was just a model I got pretty comfortable with. I actually did a little tweaking and realized it's something within the detach() method that's causing this gradual performance hit. The memory was growing, but not much as it would without the detach() invocation. I'm guessing references to certain objects don't get cleaned up even after detaching a Node from a Document. And btw, it was significant hit. Those numbers weren't milliseconds, but seconds!! Thanks -Wali ----Original Message Follows---- To: dom4j-user@... Subject: Re: [dom4j-user] Huge file, ElementHandler, and performance woes Date: Mon, 12 Feb 2007 15:23:19 -0600 Oh... Can your code work with just SAX? If you don't need the Document object, I'd think it'd be much faster to just use SAX directly. Wali Ansary wrote: &amp;gt; I've actually tweaked it to the extent that I left the onEnd() method &amp;gt; totally empty, except for the detach() method. As far as I understand, &amp;gt; the detach() method is preventing the 'detached' element from being a &amp;gt; part of the resulting Document object. That's why this code consumes &amp;gt; hardly any memory (I didn't have to change the default HotSpot &amp;gt; settings to process a 676 MB file). &amp;gt; I will rerun the code with your suggestions and follow up. &amp;gt; Thanks &amp;gt; -Wali &amp;gt; ----Original Message Follows---- &amp;gt; To: dom4j-user@... &amp;gt; Subject: Re: [dom4j-user] Huge file, ElementHandler, and performance woes &amp;gt; Date: Mon, 12 Feb 2007 08:50:13 -0600 &amp;gt; It'd be good to make sure the slowness isn't due to memory issues and &amp;gt; garbage collection. Here's some code that I've used in some speed &amp;gt; tests.(got it off the Java forum or google groups I think) I'd recommend &amp;gt; stopping your timer after each 10000, running the gc, showing the used &amp;gt; memory, Thread.sleep() for a bit, then starting the timer, and moving on &amp;gt; to the next series. Might also want to play around with how much memory &amp;gt; is allocated to the VM, and see if it shifts your numbers. Seems like it &amp;gt; was 6 milliseconds for a while, then started to jump up. Wasn't a smooth &amp;gt; curve, which makes me suspicious. &amp;gt; Also, have you tried tweaking it at all? I'd recommend trying some stuff &amp;gt; like taking the int declarations out of the loop, doing writer.println &amp;gt; for each string separately instead of appending them, maybe removing the &amp;gt; .detach()(I don't really know much about what that means in SAX though). &amp;gt; // It helps to call Runtime.gc() &amp;gt; // using several method calls: &amp;gt; Wali Ansary wrote: &amp;gt; &amp;gt; Folks, &amp;gt; &amp;gt; I'm baffled. &amp;gt; &amp;gt; I've been an avid user of dom4j for a while, and have used the &amp;gt; &amp;gt; below-mentioned stategy successfully ever since to process/transform &amp;gt; &amp;gt; huge XML files without consuming much memory. However, this new code I &amp;gt; &amp;gt; have appears to be getting gradually slower. I'm not sure if I'm &amp;gt; &amp;gt; missing anything. &amp;gt; &amp;gt; Here are the timings per 10000 elements processed. Note that I want to &amp;gt; &amp;gt; process documents that have over 5 million of these elements: &amp;gt; &amp;gt; 10000: 3 &amp;gt; &amp;gt; 20000: 9 &amp;gt; &amp;gt; 30000: 15 &amp;gt; &amp;gt; 40000: 21 &amp;gt; &amp;gt; 50000: 27 &amp;gt; &amp;gt; 60000: 33 &amp;gt; &amp;gt; 70000: 39 &amp;gt; &amp;gt; 80000: 45 &amp;gt; &amp;gt; 90000: 56 &amp;gt; &amp;gt; 100000: 87 &amp;gt; &amp;gt; 110000: 158 &amp;gt; &amp;gt; // Create a reader and add an Element handler to efficiently iterate &amp;gt; &amp;gt; // through the large document &amp;gt; &amp;gt; reader.addHandler("/n-extract-response/guid-info", &amp;gt; &amp;gt; // do nothing &amp;gt; &amp;gt; // Get the guid of the document &amp;gt; &amp;gt; // Get the document size, and possibly metadata size &amp;gt; &amp;gt; docSize = Integer.parseInt(guidInfoElement &amp;gt; &amp;gt; metaSize = Integer.parseInt(guidInfoElement &amp;gt; &amp;gt; // do nothing &amp;gt; &amp;gt; // print as line &amp;gt; &amp;gt; writer.println(colID + delimiter + guid + delimiter &amp;gt; &amp;gt; // for debugging purposes, track how long it takes per &amp;gt; &amp;gt; // 10000 guid-info elements &amp;gt; &amp;gt; System.out.println(count + ": " &amp;gt; &amp;gt; // make sure to detach to save memory &amp;gt; &amp;gt; // Set the start time, and begin reading &amp;gt; &amp;gt; You can argue that the string-concatenation and/or Integer parsing is &amp;gt; &amp;gt; taking up time, but it doesnt explain the gradual increase in the &amp;gt; &amp;gt; timings. &amp;gt; &amp;gt; I've tried compiling and running in both Java 1.4, 1.5 with various &amp;gt; &amp;gt; compilation settings, but to no avail. &amp;gt; &amp;gt; Help! &amp;gt; &amp;gt; Thanks &amp;gt; &amp;gt; -Wali &amp;gt; &amp;gt; _________________________________________________________________ &amp;gt; &amp;gt; MSN Hotmail is evolving  check out the new Windows Live Mail http://ideas.live.com &amp;gt; ------------------------------------------------------------------------ &amp;gt; ------------------------------------------------------------------------- &amp;gt; &amp;gt; Using Tomcat but need to do more? Need to support web services, &amp;gt; security? &amp;gt; &amp;gt; Get stuff done quickly with pre-integrated technology to make your &amp;gt; job easier. &amp;gt; &amp;gt; Download IBM WebSphere Application Server v.1.0.1 based on Apache &amp;gt; Geronimo http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 &amp;gt; ------------------------------------------------------------------------ &amp;gt; &amp;gt; _______________________________________________ &amp;gt; &amp;gt; dom4j-user mailing list &amp;gt; &amp;gt; dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt; ------------------------------------------------------------------------- &amp;gt; Using Tomcat but need to do more? Need to support web services, security? &amp;gt; Get stuff done quickly with pre-integrated technology to make your job &amp;gt; easier. &amp;gt; Download IBM WebSphere Application Server v.1.0.1 based on Apache &amp;gt; Geronimo http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 &amp;gt; _______________________________________________ &amp;gt; dom4j-user mailing list &amp;gt; dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user &amp;gt; _________________________________________________________________ &amp;gt; MSN Hotmail is evolving  check out the new Windows Live Mail http://ideas.live.com ------------------------------------------------------------------------- Using Tomcat but need to do more? Need to support web services, security? Get stuff done quickly with pre-integrated technology to make your job easier. Download IBM WebSphere Application Server v.1.0.1 based on Apache Geronimo http://sel.as-us.falkag.net/sel?cmd=lnk&amp;amp;kid=120709&amp;amp;bid=263057&amp;amp;dat=121642 _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________________ Get Hotmail, News, Sport and Entertainment from MSN on your mobile. http://www.msn.txt4content.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Parsing string containing special chars like &amp;amp;</header>
    <date>Fri Mar 23 02:34:00 CET 2007</date>
    <body>Hello Group, I am developing a blogging application where I need to read a XML string from URL. Sometimes XML string contains some special characters like &amp;amp;, I need to parse it. I am using XPPReader class to parse this XML string. I am getting parsing error. Anybody has any idea, how can I parse such String with special characters. feedDoc = xppReader.read(url); //XPPReader - R</body>
  </mail>
  <mail>
    <header>[dom4j-user] convert String to Element</header>
    <date>Mon Mar 12 21:43:00 CET 2007</date>
    <body>I am trying to create clone of element then convert the element to string. Do some string manipulation and then convert the string back to element. =20 =20 //***This will insert new elements inside the clone***=20 Element newElement =3D (Element) currElement.clone();=20 =20 //***We need to replace few values in the new element so convert to string***=20 String strElem =3D newElement.asXML();=20 =20 // Do something with string (internal logic)=20 =20 How do I convert string to element and insert that in my xml document?????????????????????????=20 =20 //this would put the element in the doc=20 =20 Thanks, Devang 972-550-2746 =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] convert String to Element</header>
    <date>Tue Mar 13 12:51:00 CET 2007</date>
    <body>(Element)DocumentHelper.parseText(xml).getRootElement().detach() As a forewarning, I think this creates the element in the null namespace.  If you need it in the xhtml namespace, you may have to do a little more work. --Evan Date: Monday, March 12, 2007 4:44 pm Subject: [dom4j-user] convert String to Element To: dom4j-user@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to remove Element from Document</header>
    <date>Tue Mar 13 22:06:00 CET 2007</date>
    <body>I am trying to delete first device element from my xml document. iterateToDevicePosition() function returns me the first device element, But doc.remove() did not work for me. (Note: doc has the parsed xml file) //Now delete the first device element //Now dummy element has the element I want to remove doc.remove(dummyElem); //This does not remove it from the doc??? Thanks, Devang -----Original Message----- From: dom4j-user-bounces@... [mailto:dom4j-user-bounces@...] On Behalf Of Evan S. Kirkconnell Sent: Tuesday, March 13, 2007 7:52 AM To: dom4j-user@... Subject: Re: [dom4j-user] convert String to Element (Element)DocumentHelper.parseText(xml).getRootElement().detach() As a forewarning, I think this creates the element in the null namespace.  If you need it in the xhtml namespace, you may have to do a little more work. --Evan Date: Monday, March 12, 2007 4:44 pm Subject: [dom4j-user] convert String to Element To: dom4j-user@... ------------------------------------------------------------------------ - Take Surveys. Earn Cash. Influence the Future of IT Join SourceForge.net's Techsay panel and you'll get the chance to share your opinions on IT &amp;amp; business topics through brief surveys-and earn cash http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE V _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to remove Element from Document</header>
    <date>Wed Mar 14 03:06:00 CET 2007</date>
    <body>Have you tried to use &amp;lt;Element&amp;gt;.detach() like in the code I sent? --Evan Devang Joshi wrote: http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDE https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to clone multilple Elementsin a Document</header>
    <date>Mon Mar 19 21:00:00 CET 2007</date>
    <body>Below is  my xml file. The root is JposEntries and it has 4 elements (JposEntry) I want to make a clone of 4 elements inside my root element. How do I do that? I know how to make a clone of an element but how to go @ this one? =20 =20 =20 =20 =20 =20 =20 Thanks, Devang -----Original Message----- From: dom4j-user-bounces@... [mailto:dom4j-user-bounces@...] On Behalf Of Devang Joshi Sent: Tuesday, March 13, 2007 5:07 PM To: dom4j-user@... Subject: [dom4j-user] How to remove Element from Document =20 I am trying to delete first device element from my xml document. iterateToDevicePosition() function returns me the first device element, But doc.remove() did not work for me. (Note: doc has the parsed xml file) =20 //Now delete the first device element //Now dummy element has the element I want to remove doc.remove(dummyElem); //This does not remove it from the doc??? =20 Thanks, Devang =20 -----Original Message----- From: dom4j-user-bounces@... [mailto:dom4j-user-bounces@...] On Behalf Of Evan S. Kirkconnell Sent: Tuesday, March 13, 2007 7:52 AM To: dom4j-user@... Subject: Re: [dom4j-user] convert String to Element =20 (Element)DocumentHelper.parseText(xml).getRootElement().detach() =20 As a forewarning, I think this creates the element in the null namespace.  If you need it in the xhtml namespace, you may have to do a little more work. --Evan =20 Date: Monday, March 12, 2007 4:44 pm Subject: [dom4j-user] convert String to Element To: dom4j-user@... =20 =20 ------------------------------------------------------------------------ - Take Surveys. Earn Cash. Influence the Future of IT Join SourceForge.net's Techsay panel and you'll get the chance to share your opinions on IT &amp;amp; business topics through brief surveys-and earn cash http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE V _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user =20 ------------------------------------------------------------------------ - Take Surveys. Earn Cash. Influence the Future of IT Join SourceForge.net's Techsay panel and you'll get the chance to share your opinions on IT &amp;amp; business topics through brief surveys-and earn cash http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE V _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to clone multilple Elementsin a Document</header>
    <date>Mon Mar 19 21:21:00 CET 2007</date>
    <body>Devang, If the &amp;lt;JposEntries&amp;gt; tag is the element "jPosEntries", then you can do this: someOtherElement.content().addAll( ( (Element)jPosEntries.clone() And all the children of the "jPosEntries" element would be cloned and made children of the "someOtherElement" element. You could also do it iteratively: for(int i=0; i&amp;lt;jPostEntries.content().size(); i++) someOtherElement.add( --Evan Devang Joshi wrote: http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDE https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to clone multilple Elementsin a Document</header>
    <date>Tue Mar 20 18:33:00 CET 2007</date>
    <body>I want to do following in a FOR loop i.e.=20 1. Get the FOUR elements under &amp;lt;JposEntries&amp;gt; from xml file below. 2. Copy them to some dom4j element(??? Which one to use???) 3. convert that element to string and do some string manipulation 4. Covert that string back to dom4j element 6. Repeat step 1. (But now the doc will have 8 elements under Thanks, Devang -----Original Message----- From: dom4j-user-bounces@... [mailto:dom4j-user-bounces@...] On Behalf Of Evan Kirkconnell Sent: Monday, March 19, 2007 4:20 PM To: dom4j-user@... Subject: Re: [dom4j-user] How to clone multilple Elementsin a Document Devang, If the &amp;lt;JposEntries&amp;gt; tag is the element "jPosEntries", then you can do this: someOtherElement.content().addAll( ( (Element)jPosEntries.clone()=20 And all the children of the "jPosEntries" element would be cloned and=20 made children of the "someOtherElement" element. You could also do it iteratively: for(int i=3D0; i&amp;lt;jPostEntries.content().size(); i++) = someOtherElement.add( --Evan Devang Joshi wrote: element, a ------------------------------------------------------------------------ share http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------------------------ - http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE V https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------------------------ ------------------------------------------------------------------------ - share your http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE V ------------------------------------------------------------------------ https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------------------------ - Take Surveys. Earn Cash. Influence the Future of IT Join SourceForge.net's Techsay panel and you'll get the chance to share your opinions on IT &amp;amp; business topics through brief surveys-and earn cash http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE V _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Illegal character at end of document, &amp;amp;#x3c;</header>
    <date>Wed Mar 21 14:30:00 CET 2007</date>
    <body>The string below when I try to convert strElem (String) using Element newElement =3D (Element) =09 It throws exception. Any idea what is wrong with the string? Or any workaround? factoryClass=3D"com.ingenico.jpos.services.IngenicoServiceInstanceFactory= " http://www.ingenico-us.com"/ Ingenico 6550" name=3D"Ingenico JavaPOS for Ingenico 6550" url=3D" http://www.ingenico-us.com"/ type=3D"String" value=3D"tt_CDE.icg"/&amp;gt;=20 factoryClass=3D"com.ingenico.jpos.services.IngenicoServiceInstanceFactory= " http://www.ingenico-us.com"/ Ingenico 6550 ISO Magnetic Strip Readers" name=3D"Ingenico JavaPOS for Ingenico 6550" url=3D" http://www.ingenico-us.com"/ factoryClass=3D"com.ingenico.jpos.services.IngenicoServiceInstanceFactory= " http://www.ingenico-us.com"/ Ingenico 6550 Touch Screen" name=3D"Ingenico JavaPOS for Ingenico 6550" url=3D" http://www.ingenico-us.com"/ =09 value=3D"Request value=3D"Request value=3D"Select value=3D"Enter value=3D"Please is value=3D"Max Enter value=3D"Request value=3D"Insert factoryClass=3D"com.ingenico.jpos.services.IngenicoServiceInstanceFactory= " serviceClass=3D"com.ingenico.jpos.services.i6k.SignatureCaptureService"/&amp;gt;= http://www.ingenico-us.com"/ Service for Ingenico 6550 Touch Screen" name=3D"Ingenico JavaPOS for Ingenico 6550" url=3D" http://www.ingenico-us.com"/ properties and bus specific properties i.e. RS232 )--&amp;gt;       =20 org.dom4j.DocumentException: Error on line 48 of document  : Illegal character at end of document, &amp;amp;#x3c;. Nested exception: Illegal character at end of document, &amp;amp;#x3c;. at org.dom4j.io.SAXReader.read(SAXReader.java:482) at org.dom4j.DocumentHelper.parseText(DocumentHelper.java:278) at XMLUtil.createIjposElements(XMLUtil.java:265) at PCDeploymentUtility.generateIjposFile(PCDeploymentUtility.java:255) at PCDeploymentUtility.createXMLFiles(PCDeploymentUtility.java:217) at PCDeploymentUtility.main(PCDeploymentUtility.java:287) Nested exception:=20 org.xml.sax.SAXParseException: Illegal character at end of document, &amp;amp;#x3c;. at org.apache.crimson.parser.Parser2.fatal(Unknown Source) at org.apache.crimson.parser.Parser2.fatal(Unknown Source) at org.apache.crimson.parser.Parser2.parseInternal(Unknown Source) at org.apache.crimson.parser.Parser2.parse(Unknown Source) at org.apache.crimson.parser.XMLReaderImpl.parse(Unknown Source) at org.dom4j.io.SAXReader.read(SAXReader.java:465) at org.dom4j.DocumentHelper.parseText(DocumentHelper.java:278) at XMLUtil.createIjposElements(XMLUtil.java:265) at PCDeploymentUtility.generateIjposFile(PCDeploymentUtility.java:255) at PCDeploymentUtility.createXMLFiles(PCDeploymentUtility.java:217) Thanks, Devang -----Original Message----- From: dom4j-user-bounces@... [mailto:dom4j-user-bounces@...] On Behalf Of Devang Joshi Sent: Tuesday, March 20, 2007 1:33 PM To: Evan Kirkconnell; dom4j-user@... Subject: Re: [dom4j-user] How to clone multilple Elementsin a Document I want to do following in a FOR loop i.e.=20 1. Get the FOUR elements under &amp;lt;JposEntries&amp;gt; from xml file below. 2. Copy them to some dom4j element(??? Which one to use???) 3. convert that element to string and do some string manipulation 4. Covert that string back to dom4j element 6. Repeat step 1. (But now the doc will have 8 elements under Thanks, Devang -----Original Message----- From: dom4j-user-bounces@... [mailto:dom4j-user-bounces@...] On Behalf Of Evan Kirkconnell Sent: Monday, March 19, 2007 4:20 PM To: dom4j-user@... Subject: Re: [dom4j-user] How to clone multilple Elementsin a Document Devang, If the &amp;lt;JposEntries&amp;gt; tag is the element "jPosEntries", then you can do this: someOtherElement.content().addAll( ( (Element)jPosEntries.clone()=20 And all the children of the "jPosEntries" element would be cloned and=20 made children of the "someOtherElement" element. You could also do it iteratively: for(int i=3D0; i&amp;lt;jPostEntries.content().size(); i++) = someOtherElement.add( --Evan Devang Joshi wrote: element, a ------------------------------------------------------------------------ share http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------------------------ - http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE V https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------------------------ ------------------------------------------------------------------------ - share your http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE V ------------------------------------------------------------------------ https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------------------------ - Take Surveys. Earn Cash. Influence the Future of IT Join SourceForge.net's Techsay panel and you'll get the chance to share your opinions on IT &amp;amp; business topics through brief surveys-and earn cash http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE V _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user ------------------------------------------------------------------------ - Take Surveys. Earn Cash. Influence the Future of IT Join SourceForge.net's Techsay panel and you'll get the chance to share your opinions on IT &amp;amp; business topics through brief surveys-and earn cash http://www.techsay.com/default.php?page=3Djoin.php&amp;amp;p=3Dsourceforge&amp;amp;CID=3D= DEVDE V _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Illegal character at end of document, &amp;amp;#x3c;</header>
    <date>Wed Mar 21 14:44:00 CET 2007</date>
    <body>I don't think you have moved your elements correctly, the problem seems to be that the resulting xml has multiple root elements: Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with XSLT rule api and default namespace</header>
    <date>Sun Mar 11 11:17:00 CET 2007</date>
    <body>Hello, I'm facing a problem when using dom4j's XSLT rule api when the source document contains elements in the default namespace. I've read the posting 'Problem with selectSingleNode() when xml tree contains xmlns attribute' and know about the solution to set an appropriate namespace context to the XPath instance. Considering the sample XML listed below the following xpath expression works well and returns the &amp;lt;package&amp;gt; element. //sample xpath with namespace context map.put("cdl", " http://www.w3.org/2005/10/cdl However, I don't see any possibility to provide such namespace context information when using the rule api. It's no surprise that the below listed sample rule only invokes it's action if the element &amp;lt;package&amp;gt; does not contain the xmlns="..." NS declaration. The problem is, that DocumentHelper.createPattern only accepts a string containing an xpath-expression. I could not find any way to provide an XPath instance (with appropriate namespace context). Does anyone have an idea how to get the rule api working if default namespace comes into play? In general, the rule api is very powerful - it would be a pitty if this circumstance restricts its use. Brgds, Christian //sample rule //sample XML http://www.w3.org/2005/10/cdl</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPP3 Entities</header>
    <date>Mon Apr 23 13:35:00 CEST 2007</date>
    <body>Hi, I've been unable to get entities(Even &amp;amp;amp;) to be shown when using the XPP3(from xmlpull.org) parser to work.  This is most likely due to the fact that I'm either not processing the doc or I'm getting an exception that "processing DOCDECL is not supported".  Anyone have a solution for this? --Evan</body>
  </mail>
  <mail>
    <header>[dom4j-user] non-english chars with XPPReader</header>
    <date>Wed Apr 11 19:07:00 CEST 2007</date>
    <body>Hello Group, I am reading a non-english document from a remote URL using following syntax And displaying the content of Document after doing some manipulation using asXML() method. However I am loosing all characters and getting bunch of ascii characters. I am not sure, how can I retain the original characters.Any input would be appreciated? regards, Ranjan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] non-english chars with XPPReader</header>
    <date>Wed Apr 11 19:50:00 CEST 2007</date>
    <body>Yes I am trying to open it in ISO-8859-1 encoding. I think I need to keep the same encoding as URL. Let me try that. Thanks, -R On 4/11/07, Nichiketa s &amp;lt;desijamm@...&amp;gt; wrote: http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.freecreditreport.com/pm/default.aspx?sc=660600&amp;amp;bcd=EMAILFOOTERAVERAGE</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] non-english chars with XPPReader</header>
    <date>Fri Apr 13 20:56:00 CEST 2007</date>
    <body>I'm glad you posted that code.&amp;amp;nbsp; I put the XPP3 parser in my stuff and it parses in 1/10th the time as the old setup.(1/2 half a second instead of 5 seconds!)&amp;amp;nbsp; Also, I'm able to parse a document and ignore Ranjan Baisak wrote: cite="mid6df23b960704111250o2f881edep256162b1110fc4e9@..." class="gmail_sendername"&amp;gt;Nichiketa s&amp;lt;/b&amp;gt; &amp;amp;lt;&amp;lt;a style="border-left: 1px solid rgb(204, 204, 204); margin: 0px 0px 0px 0.8ex; padding-left: 1ex;"&amp;gt;While check the Java docs for the syntax... &amp;amp;gt;To: &amp;lt;a href="mailto:dom4j-user@... &amp;amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; I am reading a non-english document from a remote &amp;amp;gt;And displaying the content of Document after doing some &amp;amp;gt;However I am loosing all characters and getting bunch of ascii &amp;amp;gt;am not sure, how can I retain the original characters.Any input &amp;amp;gt;Take Surveys. Earn Cash. Influence the Future of IT &amp;amp;gt;Join SourceForge.net's Techsay panel and you'll get the chance to &amp;amp;gt;opinions on IT &amp;amp;amp; business topics through brief surveys-and earn &amp;amp;gt;&amp;lt;a href=" http://www.techsay.com/default.php?page=join.php&amp;amp;amp;p=sourceforge&amp;amp;amp;CID=DEVDEV http://www.techsay.com/default.php?page=join.php&amp;amp;amp;p=sourceforge&amp;amp;amp;CID=DEVDEV&amp;lt;/a&amp;gt;&amp;lt;br &amp;amp;gt;&amp;lt;a href=" https://lists.sourceforge.net/lists/listinfo/dom4j-user"&amp;gt;https://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/a&amp;gt;&amp;lt;br _________________________________________________________________ The average US Credit Score is 675. The cost to see yours: $0 by href=" http://www.freecreditreport.com/pm/default.aspx?sc=660600&amp;amp;amp;bcd=EMAILFOOTERAVERAGE"&amp;gt;http://www.freecreditreport.com/pm/default.aspx?sc=660600&amp;amp;amp;bcd=EMAILFOOTERAVERAGE ------------------------------------------------------------------------- Take Surveys. Earn Cash. Influence the Future of IT Join SourceForge.net's Techsay panel and you'll get the chance to share your opinions on IT &amp;amp;amp; business topics through brief surveys-and earn cash http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV"&amp;gt;http://www.techsay.com/default.php?page=join.php&amp;amp;amp;p=sourceforge&amp;amp;amp;CID=DEVDEV&amp;lt;/a&amp;gt;&amp;lt;/pre _______________________________________________ dom4j-user mailing list https://lists.sourceforge.net/lists/listinfo/dom4j-user"&amp;gt;https://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/a</body>
  </mail>
  <mail>
    <header>[dom4j-user] Creating a namespace without a prefix (as in
	sitemap.xml)</header>
    <date>Fri Apr 13 15:25:00 CEST 2007</date>
    <body>HI All,  I've been using dom4j for a while but never really dived into namespaces.  I'm trying to create a sitemap.xml as described here :: http://www.sitemaps.org/protocol.html They ask for a namespace on the document and the sample structure looks like this: http://www.sitemaps.org/schemas/sitemap/0.9 I am unable to create that structure exactly.  If I do this: root.addNamespace("sitemap", " http://www.sitemaps.org/schemas/sitemap/0.9 I end up with a structure like : http://www.sitemaps.org/schemas/sitemap/0.9 With the "sitemap" appended to "xmlns".  But if I leave that prefix empty (javadocs warns against this. I know) like this: root.addNamespace("", " http://www.sitemaps.org/schemas/sitemap/0.9 I end up with a structure like : http://www.sitemaps.org/schemas/sitemap/0.9 With a weird empty "xmlns" attribute for the direct child elements of if anyone has a solution I'd appreciate it. Thanks, Galen</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with Namespace?</header>
    <date>Sat Apr 07 17:00:00 CEST 2007</date>
    <body>Hi, i´m checking if doc is null, because of the try-block, if the file is not read i don´t need the code in the the if-clause. but you´re right, this is not the problem. sorry for my english, it is not good enough. greetings Meltsner, Kenneth schrieb: http://swt.informatik.uni-mannheim.de/2007/BomberManLevel " http://www.w3.org/2001/XMLSchema-instance " http://swt.informatik.uni-mannheim.de/2007/BomberManLevel http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with Namespace?</header>
    <date>Sun Apr 08 18:20:00 CEST 2007</date>
    <body>Thank you, now this is my code, how i can add the Namespace to the Document, i ithink this is my last Problem: Namespace ns = new Namespace("test"," http://swt.informatik.uni-mannheim.de/2007/BomberManLevel Node node = Nichiketa s schrieb: http://swt.informatik.uni-mannheim.de/2007/BomberManLevel " to the http://swt.informatik.uni-mannheim.de/2007/BomberManLevel " http://www.w3.org/2001/XMLSchema-instance " http://swt.informatik.uni-mannheim.de/2007/BomberManLevel http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user http://www.techsay.com/default.php?page=join.php&amp;amp;p=sourceforge&amp;amp;CID=DEVDEV https://lists.sourceforge.net/lists/listinfo/dom4j-user http://clk.atdmt.com/MRT/go/mcrssaub0050001411mrt/direct/01/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with Namespace?</header>
    <date>Mon Apr 09 08:27:00 CEST 2007</date>
    <body>You don't want to add a namespace to your document (your document already has these namespaces), instead you want to tell the XPath processor to map a namespace to a specific prefix so you can use it in your XPath expression. Please see the following messages for more information: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with Namespace?</header>
    <date>Sat Apr 07 10:22:00 CEST 2007</date>
    <body>Hello, i´m have to parse an XML-Data which describes a level for a game, i think i have problems with the namespace. My code: The line 'String text = element.getText();' throws a NullPointerException, i think because the Node is null. A part of the XML-File: http://swt.informatik.uni-mannheim.de/2007/BomberManLevel " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation=" http://swt.informatik.uni-mannheim.de/2007/BomberManLevel Does anyone see the mistake i make? Greetz Felix</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problems getting data</header>
    <date>Wed Apr 04 13:13:00 CEST 2007</date>
    <body>I have this XML xmlns=" http://nasd.com/SharedServices/FSF/Demo/AdobeLiveCycleForms7Demo " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance"&amp;gt;&amp;lt;FSFDATA xmlns=" http://nasd.com/SharedServices/FSF/FSFDATA.xsd"&amp;gt;&amp;lt;FSF_CONTROLDATA&amp;gt;H4sIAF4YxIwA/xNmYGAwMjAw1zUw1jUyCjE0szK1tDIx5QIKe+YFFOWnF6UWF4N4GqV5JZklOakpmowgLaxAwsTSxMQAzAMAvwQImkYAAAA=&amp;lt;/FSF_CONTROLDATA&amp;gt;&amp;lt;FSF_PERMISSIONS /&amp;gt;&amp;lt;FSF_PAGE&amp;gt;7&amp;lt;/FSF_PAGE&amp;gt;&amp;lt;FSF_CONTENTMODE&amp;gt;Edit&amp;lt;/FSF_CONTENTMODE&amp;gt;&amp;lt;FSF_FORM_VERSION_NUMBER&amp;gt;2&amp;lt;/FSF_FORM_VERSION_NUMBER&amp;gt;&amp;lt;METADATA&amp;gt;&amp;lt;METADATA_InstanceId&amp;gt;6c52851c-e376-444d-93d4-ce2550911a2f&amp;lt;/METADATA_InstanceId&amp;gt;&amp;lt;METADATA_InstanceType&amp;gt;1&amp;lt;/METADATA_InstanceType&amp;gt;&amp;lt;METADATA_VersionedFormId&amp;gt;FSFDEMO_LCF7.491&amp;lt;/METADATA_VersionedFormId&amp;gt;&amp;lt;METADATA_StatusId&amp;gt;5&amp;lt;/METADATA_StatusId&amp;gt;&amp;lt;METADATA_UpdateDate&amp;gt;2007-03-22 17:00:30&amp;lt;/METADATA_UpdateDate&amp;gt;&amp;lt;METADATA_InstanceName&amp;gt;(untitled)&amp;lt;/METADATA_InstanceName&amp;gt;&amp;lt;METADATA_AppStatus&amp;gt;0&amp;lt;/METADATA_AppStatus&amp;gt;&amp;lt;METADATA_SubmittedBy&amp;gt;fsftestmanager&amp;lt;/METADATA_SubmittedBy&amp;gt;&amp;lt;METADATA_SubmittedDate&amp;gt;2007-03-22 17:00:30&amp;lt;/METADATA_SubmittedDate&amp;gt;&amp;lt;METADATA_AppInstanceId&amp;gt;49440&amp;lt;/METADATA_AppInstanceId&amp;gt;&amp;lt;METADATA_FormInstanceVersion&amp;gt;2&amp;lt;/METADATA_FormInstanceVersion&amp;gt;&amp;lt;METADATApayItemDescription&amp;gt;Membership Fee&amp;lt;/METADATApayItemDescription&amp;gt;&amp;lt;METADATAnotifyEmailAddress&amp;gt;ejaz.nasir@... Form Filed for Year 6090&amp;lt;/METADATAfilingYearDescription&amp;gt;&amp;lt;METADATA_CreatedBy&amp;gt;fsftestmanager&amp;lt;/METADATA_CreatedBy&amp;gt;&amp;lt;METADATA_CreatedDate&amp;gt;2007-03-22 16:56:07&amp;lt;/METADATA_CreatedDate&amp;gt;&amp;lt;METADATA_OpenedBy&amp;gt;fsftestmanager&amp;lt;/METADATA_OpenedBy&amp;gt;&amp;lt;METADATA_OpenedDate&amp;gt;2007-03-22 16:56:12&amp;lt;/METADATA_OpenedDate&amp;gt;&amp;lt;METADATA_ResourceId&amp;gt;49441&amp;lt;/METADATA_ResourceId&amp;gt;&amp;lt;/METADATA&amp;gt;&amp;lt;FSF_TRIGGER /&amp;gt;&amp;lt;/FSFDATA&amp;gt;&amp;lt;demoFeatureSelections&amp;gt;&amp;lt;ClientSideValidationSubForm enabled="1" /&amp;gt;&amp;lt;ServerSideValidationSubForm enabled="0" /&amp;gt;&amp;lt;FileAttachmentsSubForm enabled="1" /&amp;gt;&amp;lt;CRDLookupSubForm enabled="1" /&amp;gt;&amp;lt;OpaySubForm enabled="1" /&amp;gt;&amp;lt;EmailNotificationSubForm enabled="1" /&amp;gt;&amp;lt;FieldLevelAuthorizationSubForm enabled="1" /&amp;gt;&amp;lt;/demoFeatureSelections&amp;gt;&amp;lt;ClientSideValidationSubForm&amp;gt;&amp;lt;CheckBox enabled="1" /&amp;gt;&amp;lt;/ClientSideValidationSubForm&amp;gt;&amp;lt;ServerSideValidationSubForm&amp;gt;&amp;lt;validationField /&amp;gt;&amp;lt;/ServerSideValidationSubForm&amp;gt;&amp;lt;FileAttachmentsSubForm&amp;gt;&amp;lt;VisitedFlag&amp;gt;1&amp;lt;/VisitedFlag&amp;gt;&amp;lt;largFilesCheckbox&amp;gt;0&amp;lt;/largFilesCheckbox&amp;gt;&amp;lt;commentsText&amp;gt;0&amp;lt;/commentsText&amp;gt;&amp;lt;restrictedCheckbox /&amp;gt;&amp;lt;/FileAttachmentsSubForm&amp;gt;&amp;lt;CRDLookupSubForm CO.&amp;lt;/firmName&amp;gt;&amp;lt;address&amp;gt;&amp;lt;street&amp;gt;30 HUDSON STREET&amp;lt;/street&amp;gt;&amp;lt;street2&amp;gt;27TH FLOOR&amp;lt;/street2&amp;gt;&amp;lt;city&amp;gt;JERSEY CITY&amp;lt;/city&amp;gt;&amp;lt;zipcode&amp;gt;7302&amp;lt;/zipcode&amp;gt;&amp;lt;zipcodePlus4&amp;gt;4699&amp;lt;/zipcodePlus4&amp;gt;&amp;lt;country&amp;gt;United States of America&amp;lt;/country&amp;gt;&amp;lt;state&amp;gt;New Jersey&amp;lt;/state&amp;gt;&amp;lt;/address&amp;gt;&amp;lt;businessName /&amp;gt;&amp;lt;phoneNumber&amp;gt;212-902-1000&amp;lt;/phoneNumber&amp;gt;&amp;lt;phoneExt /&amp;gt;&amp;lt;faxNumber /&amp;gt;&amp;lt;emailAddress /&amp;gt;&amp;lt;shortState&amp;gt;NJ&amp;lt;/shortState&amp;gt;&amp;lt;shortCountry&amp;gt;USA&amp;lt;/shortCountry&amp;gt;&amp;lt;nameBD&amp;gt;361&amp;lt;/nameBD&amp;gt;&amp;lt;nameCRD /&amp;gt;&amp;lt;/searchResult&amp;gt;&amp;lt;/CRDLookupSubForm&amp;gt;&amp;lt;OpaySubForm&amp;gt;&amp;lt;payItem&amp;gt;&amp;lt;id&amp;gt;001&amp;lt;/id&amp;gt;&amp;lt;price&amp;gt;999.00&amp;lt;/price&amp;gt;&amp;lt;quantity /&amp;gt;&amp;lt;description&amp;gt;Membership Fee&amp;lt;/description&amp;gt;&amp;lt;/payItem&amp;gt;&amp;lt;/OpaySubForm&amp;gt;&amp;lt;EmailNotificationSubForm&amp;gt;&amp;lt;emailAddress&amp;gt;ejaz.nasir@... handler /&amp;gt;&amp;lt;/PreCreationSub&amp;gt;&amp;lt;fussreport_ xmlns=" http://nasd.com/SharedServices/FUSS/FUSSDATA.xsd"&amp;gt;&amp;lt;jobs&amp;gt;&amp;lt;job actualFiles="6" applicationName="FSFDEMO" created="3/22/2007 4:56:11 PM" jobID="6c52851c-e376-444d-93d4-ce2550911a2f-1" maxFileCount="10" name="main" status="Ready" updated="3/22/2007 4:58:08 PM"&amp;gt;&amp;lt;files&amp;gt;&amp;lt;file created="3/22/2007 4:50:32 PM" description="svsgsg" extranetDownloadUrl="/FileUploadSite/FUSSGetFile.aspx?AppName=FSFDEMO&amp;amp;amp;AppJobID=6c52851c-e376-444d-93d4-ce2550911a2f-1&amp;amp;amp;FileID=0" fileId="0" fileName="I am smiling.rtf" intranetDownloadUrl="/Fiat/FiatDownload.aspx?FormName=FSFDEMO_LCF7&amp;amp;amp;AppName=FSFDEMO&amp;amp;amp;jobID=6c52851c-e376-444d-93d4-ce2550911a2f-1&amp;amp;amp;FileID=0" size="19456" status="Completed" updated="3/22/2007 4:51:06 PM" /&amp;gt;&amp;lt;file created="3/22/2007 4:51:21 PM" description="sgg" extranetDownloadUrl="/FileUploadSite/FUSSGetFile.aspx?AppName=FSFDEMO&amp;amp;amp;AppJobID=6c52851c-e376-444d-93d4-ce2550911a2f-1&amp;amp;amp;FileID=1" fileId="1" fileName="I am smiling.rtf" intranetDownloadUrl="/Fiat/FiatDownload.aspx?FormName=FSFDEMO_LCF7&amp;amp;amp;AppName=FSFDEMO&amp;amp;amp;jobID=6c52851c-e376-444d-93d4-ce2550911a2f-1&amp;amp;amp;FileID=1" size="19456" status="Completed" updated="3/22/2007 4:52:07 PM" /&amp;gt;&amp;lt;file created="3/22/2007 4:57:32 PM" description="" extranetDownloadUrl="/FileUploadSite/FUSSGetFile.aspx?AppName=FSFDEMO&amp;amp;amp;AppJobID=6c52851c-e376-444d-93d4-ce2550911a2f-1&amp;amp;amp;FileID=2" fileId="2" fileName="access.pdf" intranetDownloadUrl="/Fiat/FiatDownload.aspx?FormName=FSFDEMO_LCF7&amp;amp;amp;AppName=FSFDEMO&amp;amp;amp;jobID=6c52851c-e376-444d-93d4-ce2550911a2f-1&amp;amp;amp;FileID=2" size="181661" status="Completed" updated="3/22/2007 4:58:07 PM" /&amp;gt;&amp;lt;file created="3/22/2007 4:57:32 PM" description="" extranetDownloadUrl="/FileUploadSite/FUSSGetFile.aspx?AppName=FSFDEMO&amp;amp;amp;AppJobID=6c52851c-e376-444d-93d4-ce2550911a2f-1&amp;amp;amp;FileID=3" fileId="3" fileName="firmletter1.txt" intranetDownloadUrl="/Fiat/FiatDownload.aspx?FormName=FSFDEMO_LCF7&amp;amp;amp;AppName=FSFDEMO&amp;amp;amp;jobID=6c52851c-e376-444d-93d4-ce2550911a2f-1&amp;amp;amp;FileID=3" size="29" status="Completed" updated="3/22/2007 4:58:07 PM" /&amp;gt;&amp;lt;file created="3/22/2007 4:57:32 PM" description="" extranetDownloadUrl="/FileUploadSite/FUSSGetFile.aspx?AppName=FSFDEMO&amp;amp;amp;AppJobID=6c52851c-e376-444d-93d4-ce2550911a2f-1&amp;amp;amp;FileID=4" fileId="4" fileName="firmletter.doc" intranetDownloadUrl="/Fiat/FiatDownload.aspx?FormName=FSFDEMO_LCF7&amp;amp;amp;AppName=FSFDEMO&amp;amp;amp;jobID=6c52851c-e376-444d-93d4-ce2550911a2f-1&amp;amp;amp;FileID=4" size="19456" status="Completed" updated="3/22/2007 4:58:08 PM" /&amp;gt;&amp;lt;file created="3/22/2007 4:57:33 PM" description="" extranetDownloadUrl="/FileUploadSite/FUSSGetFile.aspx?AppName=FSFDEMO&amp;amp;amp;AppJobID=6c52851c-e376-444d-93d4-ce2550911a2f-1&amp;amp;amp;FileID=5" fileId="5" fileName="access.pdf" intranetDownloadUrl="/Fiat/FiatDownload.aspx?FormName=FSFDEMO_LCF7&amp;amp;amp;AppName=FSFDEMO&amp;amp;amp;jobID=6c52851c-e376-444d-93d4-ce2550911a2f-1&amp;amp;amp;FileID=5" size="181661" status="Completed" updated="3/22/2007 4:58:08 PM" /&amp;gt;&amp;lt;/files&amp;gt;&amp;lt;/job&amp;gt;&amp;lt;job actualFiles="1" applicationName="FSFDEMO" created="3/22/2007 4:56:11 PM" jobID="6c52851c-e376-444d-93d4-ce2550911a2f-2" maxFileCount="5" name="secondary" status="Ready" updated="3/22/2007 4:56:11 PM"&amp;gt;&amp;lt;files&amp;gt;&amp;lt;file created="3/22/2007 4:51:59 PM" description="sgsg" extranetDownloadUrl="/FileUploadSite/FUSSGetFile.aspx?AppName=FSFDEMO&amp;amp;amp;AppJobID=6c52851c-e376-444d-93d4-ce2550911a2f-2&amp;amp;amp;FileID=0" fileId="0" fileName="firmletter2.txt" intranetDownloadUrl="/Fiat/FiatDownload.aspx?FormName=FSFDEMO_LCF7&amp;amp;amp;AppName=FSFDEMO&amp;amp;amp;jobID=6c52851c-e376-444d-93d4-ce2550911a2f-2&amp;amp;amp;FileID=0" size="29" status="Completed" updated="3/22/2007 4:52:07 PM" /&amp;gt;&amp;lt;/files&amp;gt;&amp;lt;/job&amp;gt;&amp;lt;job actualFiles="0" applicationName="" created="" jobID="" maxFileCount="0" name="" status="WrongStatus" updated=""&amp;gt;&amp;lt;files /&amp;gt;&amp;lt;/job&amp;gt;&amp;lt;/jobs&amp;gt;&amp;lt;/fussreport_&amp;gt;&amp;lt;FailOnSubmission&amp;gt;false&amp;lt;/FailOnSubmission&amp;gt;&amp;lt;TestFailedHandler&amp;gt;false&amp;lt;/TestFailedHandler&amp;gt;&amp;lt;JavaScriptInjection&amp;gt;false&amp;lt;/JavaScriptInjection&amp;gt;&amp;lt;timeStampField and when I use the following code to get to a node. I don't get anything namespaces.put("", " http://nasd.com/SharedServices/FUSS/FUSSDATA.xsd I don't see anything in the Results List and the Node also is coming as Null. does anybody know what's happening ? - Harjit _________________________________________________________________ Download Messenger. Join the im Initiative. Help make a difference today. http://im.live.com/messenger/im/home/?source=TAGHM_APR07</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problems getting data</header>
    <date>Wed Apr 04 14:00:00 CEST 2007</date>
    <body>You will have to specify a prefix for your mapping: http://nasd.com/SharedServices/FUSS/FUSSDATA.xsd namespaces.put("test", " http://nasd.com/SharedServices/FUSS/FUSSDATA.xsd And in the xpath expression you should use this prefix: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problems getting data</header>
    <date>Wed Apr 04 16:10:00 CEST 2007</date>
    <body>That worked. Thanks a bunch - H http://nasd.com/SharedServices/FUSS/FUSSDATA.xsd http://nasd.com/SharedServices/FUSS/FUSSDATA.xsd http://www.edankert.com/ _________________________________________________________________ Get a FREE Web site, company branded e-mail and more from Microsoft Office Live! http://clk.atdmt.com/MRT/go/mcrssaub0050001411mrt/direct/01/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Parsing string containing special chars like &amp;amp;</header>
    <date>Wed Apr 04 15:24:00 CEST 2007</date>
    <body>Would it be possible for you to supply an example? However it sounds like the '&amp;amp;' character has not been correctly escaped, it should be escaped like this '&amp;amp;amp;'. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] parsetext with xmlns</header>
    <date>Tue Apr 03 20:26:00 CEST 2007</date>
    <body>Hi, I'm trying to parse a string (that is an xml document). It looks like this: xmlns=" http://frodo/hobbit"&amp;gt;&amp;lt;Item1&amp;gt;cheese&amp;lt;/Item1&amp;gt;&amp;lt;Item2&amp;gt;ham&amp;lt;/Item2&amp;gt;&amp;lt;/Private&amp;gt;&amp;lt;/blah by doing this: and then trying to retrieve values by: and this fails, it looks like due to the xmlns attribute in the input xml. How do I deal with this type of xml input? Thanks, Dennis</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] parsetext with xmlns</header>
    <date>Wed Apr 04 14:31:00 CEST 2007</date>
    <body>Please see the following previous messages: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] xi:include inside a war</header>
    <date>Tue May 29 11:40:00 CEST 2007</date>
    <body>Hi, Using Dom4J 1.6.1 and Java 1.6. I can't seem to be able to read an xi:include inside a war: Here's a snippet: final InputStream inputStream = getClass().getResourceAsStream(_filePath); &amp;lt;--- _filepath = /master.xml inside the xml: It's reading the xml, but when it tries to do the xi:include, I get this error: org.dom4j.DocumentException: Error on line 39 of document  : An 'include' failed, and no 'fallback' element was found. Nested exception: An 'include' failed, and no 'fallback' element was found. at org.dom4j.io.SAXReader.read(SAXReader.java:482) at org.dom4j.io.SAXReader.read(SAXReader.java:343) at me.somewhere.load(GameModel.java:423) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) at java.util.concurrent.FutureTask.run(FutureTask.java:138) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:207) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907) at java.lang.Thread.run(Thread.java:619) Nested exception: org.xml.sax.SAXParseException: An 'include' failed, and no 'fallback' element was found. at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source) at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source) at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source) at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source) at org.apache.xerces.xinclude.XIncludeHandler.reportError(Unknown Source) at org.apache.xerces.xinclude.XIncludeHandler.reportFatalError(Unknown Source) at org.apache.xerces.xinclude.XIncludeHandler.reportFatalError(Unknown Source) at org.apache.xerces.xinclude.XIncludeHandler.emptyElement(Unknown Source) at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source) at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source) The WAR is structured like: / WEB-INF/classes/master.xml &amp;lt;------ the root xml with the xi:include WEB-INF/classes/xml/a.xml &amp;lt;------ the file I'm trying to include I've tried for the xi:include: none seems to work Anyone can help here please? It's stopping me deploying something. Thanks in advance! -=david=-</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] future development of dom4j</header>
    <date>Thu May 24 15:24:00 CEST 2007</date>
    <body>Hi Edwin , Thanks for your answer. I've used dom4j for 2 years now and just wanted to= know if there is a change for a new version. Lothar er dom4j will be ! l =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F SMS schreiben mit WEB.DE FreeMail - einfach, schnell und kostenguenstig. Jetzt gleich testen! http://f.web.de/=3Fmc=3D021192</body>
  </mail>
  <mail>
    <header>[dom4j-user] remplacement of entity reference ?</header>
    <date>Tue May 22 14:22:00 CEST 2007</date>
    <body>Hello,=20 I use dom4j-1.6.1 to parse an XML file with use of entity references. It = seems that the entity reference is not replaced by its value : The file : "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "hibernate-mapping-3.0.dtd"=20 [ &amp;amp;lt;property name=3D&amp;amp;quot;wordingOfMessage_1&amp;amp;quot; = column=3D&amp;amp;quot;LIBMSG_1&amp;amp;quot; type=3D&amp;amp;quot;string&amp;amp;quot;  = =20 I got the following error message : org.xml.sax.SAXParseException: Element "class" does not allow text. at org.apache.crimson.parser.Parser2.error(Parser2.java:3354) at = org.apache.crimson.parser.ValidatingParser$ChildrenValidator.text(Validat= ingParser.java:355) at = org.apache.crimson.parser.InputEntity.parsedContent(InputEntity.java:597)= at org.apache.crimson.parser.Parser2.content(Parser2.java:2010) at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1691) at org.apache.crimson.parser.Parser2.content(Parser2.java:1963) at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1691) at org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:667) at org.apache.crimson.parser.Parser2.parse(Parser2.java:337) at = org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:448) at org.dom4j.io.SAXReader.read(SAXReader.java:465) at org.dom4j.io.SAXReader.read(SAXReader.java:321) Here is the code of the treatement :=20 Is anyone have any idea ? =09 ___________________________________ J=E9r=E9mie Balcaen</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] remplacement of entity reference ?</header>
    <date>Thu May 24 13:47:00 CEST 2007</date>
    <body>It is not dom4j which substitutes the entity references, it is the underlying xml parser. However I noticed that you are using %errorMessage;, this notation is for a parameter-entity-reference and is only recognised in a DTD, you instead. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Creating a namespace without a prefix (as in
	sitemap.xml)</header>
    <date>Thu May 24 13:30:00 CEST 2007</date>
    <body>Sorry for replying this late. http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9 The problem is that you will have to specify the namespace specifically on every element you create, otherwise dom4j assumes that the element is in no namespace. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] future development of dom4j</header>
    <date>Tue May 15 08:38:00 CEST 2007</date>
    <body>Hello, I don't know if someone asked it always, but I would like to know wether dom4j will be developed furthermore or not. The last changelog entry was in May 2005 ! Thanks for any info. Lothar _________________________________________________________________________ In 5 Schritten zur eigenen Homepage. Jetzt Domain sichern und gestalten! Nur 3,99 EUR/Monat! http://www.maildomain.web.de/?mc=021114</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] future development of dom4j</header>
    <date>Thu May 24 13:19:00 CEST 2007</date>
    <body>&amp;gt; I don't know if someone asked it always, but I would like to know wether dom4j will be Yes, I believe there will be new future versions, efforts are already underway to migrate dom4j to Java 5.0 implementing generics and the DOM Level 3 API. However I don't think this should influence the decision to adopt dom4j for your projects, the current 1.6.1 version is very mature and stable and all existing issues have been well documented. There is also a lot of literature available and these mailing-lists which should help you with any questions you have. Kind regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] java.lang.NoClassDefFoundError: org/dom4j/Branch</header>
    <date>Sun May 20 00:08:00 CEST 2007</date>
    <body>There appears to be a class loader problem in Tomcat 5.5.x when using jaxen 1.1.1 and dom4j version 1.6.1. I use the same jaxen 1.1.1 and dom4j version 1.6.1 jar file in a standalone application and it works fine. I verified that the class, Branch, does exist in the jar file. However, using the same jaxen and dom4j jar files in either WEB-INF/lib or common/lib of Tomcat 5.5.23 generates the following error when loading a servlet that uses the jaxen/dom4j libraries: java.lang.NoClassDefFoundError: org/dom4j/Branch at org.jaxen.dom4j.DocumentNavigator.getChildAxisIterator(DocumentNavigator.java:211) at org.jaxen.expr.iter.IterableChildAxis.iterator(IterableChildAxis.java:82) at org.jaxen.expr.DefaultStep.axisIterator(DefaultStep.java:139) at org.jaxen.expr.DefaultLocationPath.evaluate(DefaultLocationPath.java:188) at org.jaxen.expr.DefaultXPathExpr.asList(DefaultXPathExpr.java:107) at org.jaxen.BaseXPath.selectNodesForContext(BaseXPath.java:716) at org.jaxen.BaseXPath.selectNodes(BaseXPath.java:239) at org.dom4j.xpath.DefaultXPath.selectNodes(DefaultXPath.java:132) at org.dom4j.tree.AbstractNode.selectNodes(AbstractNode.java:166) at javarex.beans.servlet.BaseForm.getForm_field_properties_as_array(BaseForm.java:945) ... I also verified that the problem of not being able to load the class exists with earlier versions of dom4j and with earlier versions of Tomcat. Are there other libraries in Tomcat that have a different version of jaxen that conflicts with the one I supply with the servlet? This issue has me at a stand still.</body>
  </mail>
  <mail>
    <header>[dom4j-user] sorting a dom4j DOM or possibly just using selectNodes
	with a sortXpath</header>
    <date>Fri May 04 07:35:00 CEST 2007</date>
    <body>I'm trying to select the nodes from a dom4j DOM with an sortXpath (as listed here http://www.dom4j.org/dom4j-1.4/apidocs/org/dom4j/XPath.html#selectNodes(java.lang.Object,%20org.dom4j.XPath"&amp;gt;http://www.dom4j.org/dom4j-1.4/apidocs/org/dom4j/XPath.html#selectNodes(java.lang.Object,%20org.dom4j.XPath&amp;lt;/a &amp;gt;) )&amp;amp;nbsp; but with no luck. Could anyone give an example on how to write an Wouldn't it be nice if Node and/or Element had a .sort() method taking http://www.travelstart.se"&amp;gt;&amp;lt;img moz-do-not-send="true" src=" http://www.travelstart.se/common/travelstart/travelstart.gif " http://www.travelstart.se"&amp;gt;www.travelstart.se&amp;lt;/a&amp;gt;&amp;lt;br http://www.travelstart.dk"&amp;gt;www.travelstart.dk&amp;lt;/a&amp;gt;&amp;lt;br http://www.travelstart.no"&amp;gt;www.travelstart.no&amp;lt;/a&amp;gt;&amp;lt;br http://www.travelstart.co.za"&amp;gt;www.travelstart.co.za&amp;lt;/a&amp;gt;&amp;lt;br</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] sorting a dom4j DOM or possibly just using
	selectNodes with a sortXpath</header>
    <date>Fri May 04 09:57:00 CEST 2007</date>
    <body>You could try something like this. Note: the context of the sorting XPath is the XPath's result. // the document is not well-formed. The XML used was the following: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] curious about Node-based model and attributes</header>
    <date>Thu Jun 28 22:41:00 CEST 2007</date>
    <body>I am wondering if I am missing something. It seems like attributes are kept separate from other Element children.  Attributes are Nodes.  Why are they kept separate and not returned as part of Element.nodeIterator()? Linus</body>
  </mail>
  <mail>
    <header>[dom4j-user] Validating against a schema</header>
    <date>Fri Jun 22 13:04:00 CEST 2007</date>
    <body>Hi there, I have a schema which is sitting on my disk. How can I validate a XML using dom4j using the schema ? Thanks - Harjit _________________________________________________________________ Hotmail to go? Get your Hotmail, news, sports and much more! http://mobile.msn.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Validating against a schema</header>
    <date>Fri Jun 22 16:36:00 CEST 2007</date>
    <body>Please see below, there is more information available in this thread. Regards, Edwin - http://www.edankert.com/ ---------- Forwarded message ---------- Date: 20-Sep-2005 09:30 Subject: Re: [dom4j-user] In memory validation To: Michael Goodwin Cc: dom4j-user@... Normally you use the underlying parser to perform the validation. You could use for instance something like this to validate against a XML Schema: parser.setProperty( " http://java.sun.com/xml/jaxp/properties/schemaLanguage ", " http://www.w3.org/2001/XMLSchema parser.setProperty( " http://java.sun.com/xml/jaxp/properties/schemaSource ",</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Validating against a schema</header>
    <date>Fri Jun 22 17:48:00 CEST 2007</date>
    <body>Thanks a bunch... if I have my xsd file inside a jar how can I specify that ? thanks - Harjit http://www.edankert.com/ http://java.sun.com/xml/jaxp/properties/schemaLanguage ", http://www.w3.org/2001/XMLSchema http://java.sun.com/xml/jaxp/properties/schemaSource ", _________________________________________________________________ Picture this  share your photos and you could win big! http://www.GETREALPhotoContest.com?ocid=TXT_TAGHM&amp;amp;loc=us</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Validating against a schema</header>
    <date>Mon Jun 25 08:41:00 CEST 2007</date>
    <body>Use Class.getResource(String): http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Class.html#getResource(java.lang.String ) Try the following: SchemaFactory schemaFactory = SchemaFactory.newInstance(" http://www.w3.org/2001/XMLSchema Schema schema = schemaFactory.newSchema( Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Validating against a schema</header>
    <date>Mon Jun 25 13:11:00 CEST 2007</date>
    <body>Unfortunately I'm still using 1.4... the Schema Factory is in 5.0. Thanks - Harjit http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Class.html#getResource(java.lang.String ) http://www.w3.org/2001/XMLSchema http://www.edankert.com/ _________________________________________________________________ Get a preview of Live Earth, the hottest event this summer - only on MSN http://liveearth.msn.com?source=msntaglineliveearthhm</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Validating against a schema</header>
    <date>Mon Jun 25 14:26:00 CEST 2007</date>
    <body>Try setting an InputSource as the schemaSource, please see below. parser.setProperty(" http://java.sun.com/xml/jaxp/properties/schemaLanguage ", " http://www.w3.org/2001/XMLSchema parser.setProperty(" http://java.sun.com/xml/jaxp/properties/schemaSource ", Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Code optimization  for parsing XML</header>
    <date>Fri Jun 22 13:07:00 CEST 2007</date>
    <body>Hi there, Here is the piece of code which I'm using to parse the given XML . Is there a better way than this ? groupConfig .setPermission(lookupPermission(permission _________________________________________________________________ Hotmail to go? Get your Hotmail, news, sports and much more! http://mobile.msn.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Code optimization for parsing XML</header>
    <date>Sat Jun 23 01:12:00 CEST 2007</date>
    <body>hi H s, Not sure what you really want to do here. By parsing do you mean you would like to extract all the attributes or do something else. I would recommend using XPath if you would like to quickly extract all the nodes. The quick start guide on dom4j is a excellent source of quick examples to help you get started. Cheers anand raman On 6/22/07, H s &amp;lt;desijamm@...&amp;gt; wrote: http://mobile.msn.com http://sourceforge.net/powerbar/db2/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Code optimization for parsing XML</header>
    <date>Sat Jun 23 15:03:00 CEST 2007</date>
    <body>what im asking here is that is this the optimzed code to get all the nodes.... - H http://mobile.msn.com http://sourceforge.net/powerbar/db2/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://sourceforge.net/powerbar/db2/ https://lists.sourceforge.net/lists/listinfo/dom4j-user _________________________________________________________________ Get a preview of Live Earth, the hottest event this summer - only on MSN http://liveearth.msn.com?source=msntaglineliveearthhm</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Code optimization for parsing XML</header>
    <date>Sat Jun 23 16:07:00 CEST 2007</date>
    <body>I'd personally use SAX to parse this directly into the target data structure. You could also have a look at CookXML (http:// cookxml.yuanheng.org/) which provides a litte framework exactly for parsing XML data into Java. Another alternative might be JAXB. Cheers, Richard Am 23.06.2007 um 17:03 schrieb H s: http://mobile.msn.com http://sourceforge.net/powerbar/db2/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://sourceforge.net/powerbar/db2/ https://lists.sourceforge.net/lists/listinfo/dom4j-user http://liveearth.msn.com?source=msntaglineliveearthhm http://sourceforge.net/powerbar/db2/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Unable to parse quotes in an XML File</header>
    <date>Thu Jun 21 13:56:00 CEST 2007</date>
    <body>Hi, I would like to parse a XML document where attribute CDATA contains both quotes and double quotes. My XML is like that  : My Xpath request is : My Xpath request give this result : org.dom4j.InvalidXPathException: Invalid XPath expression: //personne[Nom='Hello "World" what's up ?']/ville/Nom Expected: ] at org.dom4j.xpath.DefaultXPath.parse(DefaultXPath.java:315) at org.dom4j.xpath.DefaultXPath.&amp;lt;init&amp;gt;(DefaultXPath.java:51) at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:196) at org.dom4j.DocumentHelper.createXPath(DocumentHelper.java:106) at salomeTMF_plug.pluginxlsxml.Export.FromXmlToExcel.ReadXMLFile(FromXmlToExcel.java:385) at salomeTMF_plug.pluginxlsxml.Export.FromXmlToExcel.&amp;lt;init&amp;gt;(FromXmlToExcel.java:105) at salomeTMF_plug.pluginxlsxml.Export.ExportDialog.exporter(ExportDialog.java:317) at salomeTMF_plug.pluginxlsxml.Export.ExportDialog$2$1.run(ExportDialog.java:169) I've tried to replace the quote by "'" (double, single, double) but it doesn't work. Its the same by &amp;amp;quot; in the xpath but it still doesn't work.(ps : I cant modify the XML file even if he is not well formed) Have you got any idea ? thanks James</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Unable to parse quotes in an XML File</header>
    <date>Thu Jun 21 16:10:00 CEST 2007</date>
    <body>There is no way to escape quotes in XPath 1.0 but you could use concat to concatenate the string you want instead? //personne[Nom=concat('Hello "World" what', "'s up ?")]/ville/Nom Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] reusing objects and reducing memory garbage</header>
    <date>Wed Jun 20 22:16:00 CEST 2007</date>
    <body>Hi, I have a web site where the most visited page "type" is generated from a xml file and a xslt transformation. I'm looking for the best performances. The code I use is the following : Transformer transformer = getXSLTTransform("/ // return the transformed document Now i'm caching the Transformer object. I'd like to know if I can and if it makes sense in terms of performance and reducing memory garbage cache other objects such as the SAXReader. I'm also interested into understand if this code is the best to minimize memory garbage production. Thank you -- Ing. Andrea Vettori Consulente per l'Information Technology</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] reusing objects and reducing memory garbage</header>
    <date>Thu Jun 21 08:55:00 CEST 2007</date>
    <body>Because you are not manipulating the dom4j document programatically, I wouldn't use dom4j for this task. You are performing the following tasks: - create an input dom4j document from an input-stream, - transform the document, (might make another DOM) - into a resulting dom4j document, - write the resulting dom4j document. Without doing any performance tests, this does not seem to be particularly efficient. Instead the following would maybe be better: - transform the input-stream, (makes a DOM internally) - write the result while transforming. The following code is not tested: Transformer transformer = TransformerFactory.newInstance().newTransformer(new transformer.transform( new SAXSource(parser.getXMLReader(), new InputSource(url)), This only creates (at most) one document in memory and writes the results directly to the writer. For even less memory use, please check out Saxon tinytree mechanism: http://saxon.sourceforge.net/ Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] reusing objects and reducing memory garbage</header>
    <date>Thu Jun 21 13:51:00 CEST 2007</date>
    <body>This code works : SAXParserFactory factory = Transformer transformer = getXSLTTransform("/ transformer.transform( new SAXSource(parser.getXMLReader(), new InputSource(url.openStream())), So do you think that using dom4j to only transform a document it's not efficent ? The transform source isn't using some dom-like internal rapresentation of the XML ? Thank you Il giorno 21/giu/07, alle ore 10:55, Edwin Dankert ha scritto: http://saxon.sourceforge.net/ http://www.edankert.com/ -- Ing. Andrea Vettori Consulente per l'Information Technology</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] reusing objects and reducing memory garbage</header>
    <date>Thu Jun 21 14:33:00 CEST 2007</date>
    <body>&amp;gt; So do you think that using dom4j to only transform a document it's Creating an input document and result document in memory is not really necessary and potentially expensive, so I think the code I gave you is more efficient but I am not a 100% sure and I don't know how much more efficient it is, I haven't done any performance tests. Dom4j is great in manipulating XML documents programmatically but I would not use it for the task that you are working on. I don't know, it probably does but this depends on the XSLT processor you are using. I would welcome it if you could give us some indications of the differences in performance between the 2 solutions? Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] newbie question: unable to get xpath values</header>
    <date>Tue Jun 19 18:28:00 CEST 2007</date>
    <body>hi all, I need to parse a html file and retrieve a few values from a table contained in the body. To begin with I am using the following code snippet to retrieve value for the "title" attribute. Document doc = new SAXReader().read(new File( The final xpath value I am interested in is all the Nodes /html/body/table/tbody/tr/td/table[2]/tbody/tr/td/table[2]//tr However path.evaluate(doc) is returning a zero length array. I am confused and not sure why this could be happening especially since I know that these nodes exist in the document. I am attaching the html file for reference. Any help or pointers would be great. Thanks anand raman</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] newbie question: unable to get xpath values</header>
    <date>Tue Jun 19 19:21:00 CEST 2007</date>
    <body>The problem is your default namespace, you will have to map this namespace to a prefix and use the prefix in your xpath expressions map.put("html", " http://www.w3.org/1999/xhtml There are no "tbody" elements in the document. Please try the following instead: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] newbie question: unable to get xpath values</header>
    <date>Tue Jun 19 23:52:00 CEST 2007</date>
    <body>Thanks Edwin. This really helps. I will take care of the default namespaces from here on. The tbody ommission is even more funny. I am using firebug to extract XPaths from the document. It turns out firebug is adding the Tbody element to the xpath. Thanks for spotting it out for me. Thanks anand On 6/20/07, Edwin Dankert &amp;lt;edankert@...&amp;gt; wrote: http://www.w3.org/1999/xhtml http://www.edankert.com/ -- Change is the only Constant http://jroller.com/page/araman http://del.icio.us/diduknow/wishlist</body>
  </mail>
  <mail>
    <header>[dom4j-user] I have trouble in parsing a xml file with '&amp;amp;'</header>
    <date>Wed Jun 13 02:53:00 CEST 2007</date>
    <body>Hi, I want to create menu using xml file, and I want to specify mnemonic for File-&amp;gt;Open, so I fill the text attribute with "O&amp;amp;pen". It doesn't work, Nested exception: org.xml.sax.SAXParseException: The reference to entity "pen" must end with the ';' delimiter. at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:236) at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:215) at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:386) at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:316) at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1438) at com.sun.org.apache.xerces.internal.impl.XMLScanner.scanAttributeValue(XMLScanner.java:856) at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanAttribute(XMLNSDocumentScannerImpl.java:578) at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:222) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1693) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:368) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:834) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:148) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1242) at org.dom4j.io.SAXReader.read(SAXReader.java:465) at org.dom4j.io.SAXReader.read(SAXReader.java:321) at XMLMenu.&amp;lt;init&amp;gt;(XMLMenu.java:31) at XMLMenu.main(XMLMenu.java:130)</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] I have trouble in parsing a xml file with '&amp;amp;'</header>
    <date>Wed Jun 13 07:24:00 CEST 2007</date>
    <body>The "&amp;amp;" character has a special meaning in XML and always has to be escaped to "&amp;amp;amp;". http://www.w3.org/TR/REC-xml/#dt-chardata Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Namespace for element</header>
    <date>Tue Jun 12 18:50:00 CEST 2007</date>
    <body>Hi, is it possible to create an XML element that looks like this: So I create an DefaultElement and add the namespace: Of course, this yields an element that looks like this: Can anybody give me a hint how to solve that? Thanks! Send instant messages to your online friends http://uk.messenger.yahoo.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Namespace for element</header>
    <date>Tue Jun 12 19:10:00 CEST 2007</date>
    <body>You have multiple options: I would prefer the following option: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] reading the value of an attribute</header>
    <date>Tue Jun 12 08:32:00 CEST 2007</date>
    <body>i'm having a problem with reading the attribute value of a node. i tried different things but seems like nothing works like it should. The XMl is  build like this I'm getting  the node by using an XPathExpression. The problem  here is that I cant figure out how to get my hands on the "key"  attribute. Can anyone help me? Best Regards, Lindian</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] reading the value of an attribute</header>
    <date>Tue Jun 12 09:32:00 CEST 2007</date>
    <body>You could try the following: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Creating a namespace without a prefix (as in</header>
    <date>Fri Jun 01 07:28:00 CEST 2007</date>
    <body>&amp;gt; It would be a nice "feature" if dom4j had the smarts to not print the attribute if a How do you mean "not used" ? In the above the child element is 'in' the default "test" namespace. In the above the child element is in 'no' namespace at all by un-declaring the default namespace. I think what you wanted was the first case, where the child element is in the default namespace. To specify this in dom4j however you would have to specify the namespace for the "child" element, if you don't specify a namespace for the "child" element then it is assumed that the element is not 'in' a namespace (rightly/wrongly) and, when the model is serialized, it will un-declare the default namespace if necessary. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to add a namespace creating a new document</header>
    <date>Fri Jul 27 13:31:00 CEST 2007</date>
    <body>Hi all, I've just started to use dom4j and I'm creating a new document. Element service =3D root.addElement("service").addText(eventType + document.asXML(): How I could add my namespace declaration ? I'm looking at Namespace ns =3D DocumentHelper.createNamespace("event-bus", " http://www.bsource.ch/EventBus and how adding ns to my document. Thanks in advance Patrizio IMPORTANT: This e-mail transmission is intended for the named addressee(s)only. Its contents are private, confidential and protected from disclosure and should not be read, copied or disclosed by any other person. If you are not the intended recipient, we kindly ask you to notify the sender immediately by telephone (+41 (0)58 806 50 00), to redirect the message to the account "info@..." and to delete this e-mail. E-mail transmissions may be intercepted, altered or read by unauthorized persons and may contain viruses. Therefore, it is recommended that you use regular mail or courier services for any information intended to be confidential. However, by sending us messages through e-mail, you authorize and instruct us to correspond by e-mail in the relevant matter. Thank you.</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath and document creation</header>
    <date>Tue Jul 17 19:08:00 CEST 2007</date>
    <body>SGkgYWxsLA0KDQpJJ20gZ2VuZXJhdGluZyBhIGRvY3VtZW50IHVzaW5nIERvY3VtZW50SGVscGVy LmNyZWF0ZUVsZW1lbnQoKSBjYWxscy4gV2hlbiBJIHRyeSB0byBxdWVyeSB0aGUgZG9jdW1lbnQg Z2VuZXJhdGVkIHVzaW5nIFhQYXRoLCBJIGdldCBubyBtYXRjaGVzLiBCdXQgaWYgSSBkbyB0aGlz Og0KDQpTdHJpbmcgZG9jU3RyaW5nID0gZG9jLmFzWE1MKCk7DQpTQVhSZWFkZXIgcmVhZGVyID0g bmV3IFNBWFJlYWRlcigpOw0KZG9jID0gcmVhZGVyLnJlYWQobmV3IFN0cmluZ1JlYWRlcihkb2NT dHJpbmcpKTsNCg0KVGhlIHNhbWUgWFBhdGggcXVlcmllcyBkbyBtYXRjaC4gSSdtIGEgbmV3IERv bTRKIHVzZXIgYW5kIG1pZ2h0IGJlIG1ha2luZyBzb21lIG1pc3Rha2Ugc29tZXdoZXJlLg0KDQpD YW4gYW55Ym9keSBwb2ludCBtZSB3aGF0IEkgbWlnaHQgYmUgZG9pbmcgd3Jvbmc/IA0KDQpUaGFu a3MsDQpNdXphZmZlcg0KDQoNCg==</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath and document creation</header>
    <date>Tue Jul 17 19:28:00 CEST 2007</date>
    <body>QW5vdGhlciBub3RlLCBJJ20gYmVnaW5uaW5nIHRvIHRoaW5rIHRoaXMgbWlnaHQgYmUgcmVsYXRl ZCB0byBuYW1lc3BhY2VzLiBXaGVuIEkgZ2VuZXJhdGUgdGhlIGRvY3VtZW50LCBJIHVzZQ0KICBO YW1lc3BhY2UgbnMgPSBEb2N1bWVudEhlbHBlci5jcmVhdGVOYW1lc3BhY2UoInByZWZpeCIsIG5z dXJpKTsNCiAgcm9vdC5hZGQobnMpOw0KDQpPYnZpb3VzbHksIHdoZW4gaXQgaXMgcmVhZCBpbiB1 c2luZyB0aGUgU0FYUmVhZGVyLCBpdCBpbmZlcnMgdGhlIG5hbWVzcGFjZXMgZnJvbSB0aGUgZG9j dW1lbnQuIEknbSBub3Qgc3VyZSwgaG93IHRvIHNwZWNpZnkgYSBuYW1lc3BhY2UgZm9yIGEgZG9j dW1lbnQgZ2VuZXJhdGVkIHVzaW5nIERvbTRqLg0KDQpUaGFua3MsDQpNdXphZmZlcg0KDQo+IC0t LS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+IEZyb206IGRvbTRqLXVzZXItYm91bmNlc0BsaXN0 cy5zb3VyY2Vmb3JnZS5uZXQgW21haWx0bzpkb200ai11c2VyLQ0KPiBib3VuY2VzQGxpc3RzLnNv dXJjZWZvcmdlLm5ldF0gT24gQmVoYWxmIE9mIE96YWtjYSwgTXV6YWZmZXINCj4gU2VudDogVHVl c2RheSwgSnVseSAxNywgMjAwNyAzOjEwIFBNDQo+IFRvOiBkb200ai11c2VyQGxpc3RzLnNvdXJj ZWZvcmdlLm5ldA0KPiBTdWJqZWN0OiBbZG9tNGotdXNlcl0gWFBhdGggYW5kIGRvY3VtZW50IGNy ZWF0aW9uDQo+IA0KPiBIaSBhbGwsDQo+IA0KPiBJJ20gZ2VuZXJhdGluZyBhIGRvY3VtZW50IHVz aW5nIERvY3VtZW50SGVscGVyLmNyZWF0ZUVsZW1lbnQoKSBjYWxscy4gV2hlbiBJDQo+IHRyeSB0 byBxdWVyeSB0aGUgZG9jdW1lbnQgZ2VuZXJhdGVkIHVzaW5nIFhQYXRoLCBJIGdldCBubyBtYXRj aGVzLiBCdXQgaWYgSQ0KPiBkbyB0aGlzOg0KPiANCj4gU3RyaW5nIGRvY1N0cmluZyA9IGRvYy5h c1hNTCgpOw0KPiBTQVhSZWFkZXIgcmVhZGVyID0gbmV3IFNBWFJlYWRlcigpOw0KPiBkb2MgPSBy ZWFkZXIucmVhZChuZXcgU3RyaW5nUmVhZGVyKGRvY1N0cmluZykpOw0KPiANCj4gVGhlIHNhbWUg WFBhdGggcXVlcmllcyBkbyBtYXRjaC4gSSdtIGEgbmV3IERvbTRKIHVzZXIgYW5kIG1pZ2h0IGJl IG1ha2luZw0KPiBzb21lIG1pc3Rha2Ugc29tZXdoZXJlLg0KPiANCj4gQ2FuIGFueWJvZHkgcG9p bnQgbWUgd2hhdCBJIG1pZ2h0IGJlIGRvaW5nIHdyb25nPw0KPiANCj4gVGhhbmtzLA0KPiBNdXph ZmZlcg0KPiANCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gVGhpcyBTRi5uZXQgZW1haWwgaXMg c3BvbnNvcmVkIGJ5IERCMiBFeHByZXNzDQo+IERvd25sb2FkIERCMiBFeHByZXNzIEMgLSB0aGUg RlJFRSB2ZXJzaW9uIG9mIERCMiBleHByZXNzIGFuZCB0YWtlDQo+IGNvbnRyb2wgb2YgeW91ciBY TUwuIE5vIGxpbWl0cy4gSnVzdCBkYXRhLiBDbGljayB0byBnZXQgaXQgbm93Lg0KPiBodHRwOi8v c291cmNlZm9yZ2UubmV0L3Bvd2VyYmFyL2RiMi8NCj4gX19fX19fX19fX19fX19fX19fX19fX19f X19fX19fX19fX19fX19fX19fX19fX18NCj4gZG9tNGotdXNlciBtYWlsaW5nIGxpc3QNCj4gZG9t NGotdXNlckBsaXN0cy5zb3VyY2Vmb3JnZS5uZXQNCj4gaHR0cHM6Ly9saXN0cy5zb3VyY2Vmb3Jn ZS5uZXQvbGlzdHMvbGlzdGluZm8vZG9tNGotdXNlcg0K</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath and document creation</header>
    <date>Tue Jul 17 19:58:00 CEST 2007</date>
    <body>SSB0aGluaywgdGhlIHByb2JsZW0gaXMgc29sdmVkLiBJIHVzZWQgUU5hbWVzIGluc3RlYWQgb2Yg InByZWZpeDpuYW1lIiB3aGVuIGNyZWF0aW5nIG5vZGVzIGluIHRoZSBuZXcgZG9jdW1lbnQuIEkg dG9sZCB5b3UgSSdtIG5ldyB0byB0aGlzIDopDQoNClRoYW5rcyBhbnl3YXlzLA0KTXV6YWZmZXIN Cg0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBkb200ai11c2VyLWJvdW5j ZXNAbGlzdHMuc291cmNlZm9yZ2UubmV0IFttYWlsdG86ZG9tNGotdXNlci0NCj4gYm91bmNlc0Bs aXN0cy5zb3VyY2Vmb3JnZS5uZXRdIE9uIEJlaGFsZiBPZiBPemFrY2EsIE11emFmZmVyDQo+IFNl bnQ6IFR1ZXNkYXksIEp1bHkgMTcsIDIwMDcgMzoyOSBQTQ0KPiBUbzogZG9tNGotdXNlckBsaXN0 cy5zb3VyY2Vmb3JnZS5uZXQNCj4gU3ViamVjdDogUmU6IFtkb200ai11c2VyXSBYUGF0aCBhbmQg ZG9jdW1lbnQgY3JlYXRpb24NCj4gDQo+IEFub3RoZXIgbm90ZSwgSSdtIGJlZ2lubmluZyB0byB0 aGluayB0aGlzIG1pZ2h0IGJlIHJlbGF0ZWQgdG8gbmFtZXNwYWNlcy4NCj4gV2hlbiBJIGdlbmVy YXRlIHRoZSBkb2N1bWVudCwgSSB1c2UNCj4gICBOYW1lc3BhY2UgbnMgPSBEb2N1bWVudEhlbHBl ci5jcmVhdGVOYW1lc3BhY2UoInByZWZpeCIsIG5zdXJpKTsNCj4gICByb290LmFkZChucyk7DQo+ IA0KPiBPYnZpb3VzbHksIHdoZW4gaXQgaXMgcmVhZCBpbiB1c2luZyB0aGUgU0FYUmVhZGVyLCBp dCBpbmZlcnMgdGhlIG5hbWVzcGFjZXMNCj4gZnJvbSB0aGUgZG9jdW1lbnQuIEknbSBub3Qgc3Vy ZSwgaG93IHRvIHNwZWNpZnkgYSBuYW1lc3BhY2UgZm9yIGEgZG9jdW1lbnQNCj4gZ2VuZXJhdGVk IHVzaW5nIERvbTRqLg0KPiANCj4gVGhhbmtzLA0KPiBNdXphZmZlcg0KPiANCj4gPiAtLS0tLU9y aWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiA+IEZyb206IGRvbTRqLXVzZXItYm91bmNlc0BsaXN0cy5z b3VyY2Vmb3JnZS5uZXQgW21haWx0bzpkb200ai11c2VyLQ0KPiA+IGJvdW5jZXNAbGlzdHMuc291 cmNlZm9yZ2UubmV0XSBPbiBCZWhhbGYgT2YgT3pha2NhLCBNdXphZmZlcg0KPiA+IFNlbnQ6IFR1 ZXNkYXksIEp1bHkgMTcsIDIwMDcgMzoxMCBQTQ0KPiA+IFRvOiBkb200ai11c2VyQGxpc3RzLnNv dXJjZWZvcmdlLm5ldA0KPiA+IFN1YmplY3Q6IFtkb200ai11c2VyXSBYUGF0aCBhbmQgZG9jdW1l bnQgY3JlYXRpb24NCj4gPg0KPiA+IEhpIGFsbCwNCj4gPg0KPiA+IEknbSBnZW5lcmF0aW5nIGEg ZG9jdW1lbnQgdXNpbmcgRG9jdW1lbnRIZWxwZXIuY3JlYXRlRWxlbWVudCgpIGNhbGxzLiBXaGVu DQo+IEkNCj4gPiB0cnkgdG8gcXVlcnkgdGhlIGRvY3VtZW50IGdlbmVyYXRlZCB1c2luZyBYUGF0 aCwgSSBnZXQgbm8gbWF0Y2hlcy4gQnV0IGlmDQo+IEkNCj4gPiBkbyB0aGlzOg0KPiA+DQo+ID4g U3RyaW5nIGRvY1N0cmluZyA9IGRvYy5hc1hNTCgpOw0KPiA+IFNBWFJlYWRlciByZWFkZXIgPSBu ZXcgU0FYUmVhZGVyKCk7DQo+ID4gZG9jID0gcmVhZGVyLnJlYWQobmV3IFN0cmluZ1JlYWRlcihk b2NTdHJpbmcpKTsNCj4gPg0KPiA+IFRoZSBzYW1lIFhQYXRoIHF1ZXJpZXMgZG8gbWF0Y2guIEkn bSBhIG5ldyBEb200SiB1c2VyIGFuZCBtaWdodCBiZSBtYWtpbmcNCj4gPiBzb21lIG1pc3Rha2Ug c29tZXdoZXJlLg0KPiA+DQo+ID4gQ2FuIGFueWJvZHkgcG9pbnQgbWUgd2hhdCBJIG1pZ2h0IGJl IGRvaW5nIHdyb25nPw0KPiA+DQo+ID4gVGhhbmtzLA0KPiA+IE11emFmZmVyDQo+ID4NCj4gPg0K</body>
  </mail>
  <mail>
    <header>[dom4j-user] Parsing XHTML with dom4j and groovy</header>
    <date>Wed Jul 11 05:27:00 CEST 2007</date>
    <body>I'm doing a project that uses dom4j, and I wrote a quick tutorial on some of the things I found out. It's at http://evc-cit.info/dom4j/dom4j_groovy.html Let me know what you think.</body>
  </mail>
  <mail>
    <header>[dom4j-user] I want to subscribe Vol 15, Issue 1</header>
    <date>Tue Aug 28 04:37:00 CEST 2007</date>
    <body>Yes i want to subscribe......=0A =0AThanks and Regards=0AThej  Kishore.K = =0A=0AArise,Awake,Stop not till the goal is Reached-Swami Vivekanada.=0A=0A= =0A----- Original Message ----=0AFrom: "dom4j-user-request@...= e.net" &amp;lt;dom4j-user-request@...: dom4j-user@...= urceforge.net=0ASent: Tuesday, August 28, 2007 3:11:41 AM=0ASubject: dom4j-= user Digest, Vol 15, Issue 1=0A=0ASend dom4j-user mailing list submissions = to=0A    dom4j-user@... subscribe or unsubscribe = via the World Wide Web, visit=0A https://lists.sourceforge.net/lists/lis= tinfo/dom4j-user=0Aor, via email, send a message with subject or body 'help= ' to=0A    dom4j-user-request@... can reach the = person managing the list at=0A    dom4j-user-owner@...= =0AWhen replying, please edit your Subject line so it is more specific=0Ath= an "Re: Contents of dom4j-user digest..."=0A=0A=0AToday's Topics:=0A=0A   1= . XPath problem (Ozakca, Muzaffer)=0A   2. Re: XPath problem (Ozakca, Muzaf= fer)=0A   3. Namespaces become blank when inserting or updating    elements= =0A      (Jon Brisbin)=0A   4. Re: Namespaces become blank when inserting o= r updating=0A      elements (Evan Kirkconnell)=0A   5. Re: Namespaces becom= e blank when inserting or updating=0A      elements (Jon Brisbin)=0A   6. R= e: Namespaces become blank when inserting or updating=0A      elements (Eva= n Kirkconnell)=0A=0A=0A----------------------------------------------------= ------------------=0A=0AMessage: 1=0ADate: Thu, 9 Aug 2007 16:24:18 -0400= =0AFrom: "Ozakca, Muzaffer" &amp;lt;mozakca@...: [dom4j-user] X= Path problem=0ATo: &amp;lt;dom4j-user@...    &amp;lt;= 161201C29335A949BD8FD46320106F2C025F73CE@...= nt-Type: text/plain; charset=3D"utf-8"=0A=0AHi all,=0A=0A =0A=0AI'm probabl= y doing something very stupid. I have a very simple document and I=0A=0A'm = trying to apply an XPath to find the value of a node. Here's the XML:=0A=0A= =0A=0A&amp;lt;?xml version=3D"1.0" encoding=3D"UTF-8"?&amp;gt;=0A=0A&amp;lt;sparql xmlns=3D"htt= p://www.w3.org/2001/sw/DataAccess/rf1/result";&amp;gt;=0A=0A iable name=3D"k0"/&amp;gt;=0A=0A  &amp;lt;/head&amp;gt;=0A=0A  &amp;lt;results&amp;gt;=0A=0A    &amp;lt;result&amp;gt;=0A=0A= http://www.w3.org/2001/XMLSchema#double"&amp;gt;4.0&amp;lt;/k0&amp;gt;=0A= =0A    &amp;lt;/result&amp;gt;=0A=0A  &amp;lt;/results&amp;gt;=0A=0A&amp;lt;/sparql&amp;gt;=0A=0A =0A=0AI can print t= his XML as it is read. And here?s the code, I?m using for XPath:=0A=0A =0A= =0AString sizeStr =3D sizeDoc.valueOf(?//k0?);=0A=0A =0A=0AI get empty stri= ng as a result of this. Can anybody tell me what?s wrong? I added the whole= lib directory in the dom4j distribution to the class path.=0A=0A =0A=0ATha= nks,=0A=0AMuzaffer=0A=0A-------------- next part --------------=0AAn HTML a= ttachment was scrubbed...=0A=0A------------------------------=0A=0AMessage:= 2=0ADate: Fri, 10 Aug 2007 09:49:08 -0400=0AFrom: "Ozakca, Muzaffer" &amp;lt;moza= kca@...: Re: [dom4j-user] XPath problem=0ATo: &amp;lt;dom4j-use= r@...    &amp;lt;161201C29335A949BD8FD46320106= F2C025F74C1@...: text/plain;    chars= et=3D"utf-8"=0A=0AI wish I was clever and did some research first. I found = the answer in the list archives:=0A=0AI should have done:=0A=0Acode ---=0AM= ap map =3D new HashMap();=0Amap.put("result", " http://www.w3.org/2001/sw/Da= taAccess/rf1/result";);=0A        =0AXPath xpath =3D DocumentHelper.createX= Path("//result:k0");=0Axpath.setNamespaceContext(new SimpleNamespaceContext= (map));=0A        =0ANode sizeNode =3D xpath.selectSingleNode(sizeDoc);=0A-= -- code=0A=0AAs suggested by Edwin. Thanks anyways,=0Am=0A=0A=0A-----------= -------------------=0A=0AMessage: 3=0ADate: Mon, 27 Aug 2007 10:20:09 -0500= =0AFrom: Jon Brisbin &amp;lt;jon.brisbin@...: [dom4j-u= ser] Namespaces become blank when inserting or=0A    updating    elements= =0ATo: dom4j-user@...: &amp;lt;46D2EBA9.4020607@...= international.com&amp;gt;=0AContent-Type: text/plain; charset=3DISO-8859-1; format= =3Dflowed=0A=0ASearched in the archives and didn't find what I was looking = for (but not =0Areally sure what I'm looking for, so don't throw things at = me if this =0Ahas been asked before).=0A=0AI have an XML template that I re= ad into a DOM4J (using 1.6) document =0Awhen I begin processing. The defaul= t namespace is set in the document =0Aand I set it again, just for good mea= sure:=0A=0A        SAXParser p =3D SAXParserFactory.newInstance().newSAXPar= ser();=0A=0A        DocumentFactory df =3D DocumentFactory.getInstance();= =0A        df.setXPathNamespaceURIs( namespaces );=0A=0A        SAXContentH= andler ch =3D new SAXContentHandler();=0A        p.parse( ClassLoader.getSy= stemResourceAsStream( TEMPLATE_FILE ), ch );=0A=0A        Document doc =3D = ch.getDocument();=0A        doc.getRootElement().addNamespace( "", EFILE_NS= );=0A=0A=0AWhen I process the raw data, I do XPath lookups on nodes in the= template =0Aand set them like so:=0A=0A            XPath xp =3D root.creat= eXPath( xpath );=0A            xp.setNamespaceURIs( namespaces );=0A       = Element e =3D (Element) xp.selectSingleNode( root );=0A            if = t =0Aelement (but not all of them) have namespaces set to '' (blank). This = =0Acauses the other party's XML processing to blow up with the error that = =0Athe element with the blank namespace isn't in the E-file namespace, like= =0Ait's supposed to be.=0A=0AIf the namespace is set in the template, then= I would expect it work =0Acorrectly when I've read that document in and se= t the namespaces =0Aaccordingly. That's not happening and some elements in = the DOM are being =0A"taken out" of the default namespace.=0A=0ACan someone= shed some light on why this is happening?=0A=0A-- =0A=0A=0AThanks!=0A=0AJo= n Brisbin=0APortal Webmaster=0ANPC International, Inc.= 0Ahttp://www.npcinte= rnational.com=0A=0A=0A=0A=0A=0A------------------------------=0A=0AMessage:= 4=0ADate: Mon, 27 Aug 2007 15:36:18 -0500=0AFrom: Evan Kirkconnell &amp;lt;ekirkc= o@...: Re: [dom4j-user] Namespaces become blank when insert= ing or=0A    updating elements=0ATo: dom4j-user@...= sage-ID: &amp;lt;46D335C2.4020804@...: text/plain; charset=3D= ISO-8859-1; format=3Dflowed=0A=0AAre you creating the problem elements with= code or are they in your =0Aloaded document?=0A=0AJon Brisbin wrote:=0A&amp;gt; S= earched in the archives and didn't find what I was looking for (but not =0A= DOM4J (using 1.6) document =0A&amp;gt; when I begin processing. The default names= pace is set in the document =0A&amp;gt; and I set it again, just for good measure:= =0A&amp;gt;=0A&amp;gt;         SAXParser p =3D SAXParserFactory.newInstance().newSAXParse= r();=0A&amp;gt;=0A&amp;gt;         DocumentFactory df =3D DocumentFactory.getInstance();= =0A&amp;gt;         df.setXPathNamespaceURIs( namespaces );=0A&amp;gt;=0A&amp;gt;         SAXCon= tentHandler ch =3D new SAXContentHandler();=0A&amp;gt;         p.parse( ClassLoade= r.getSystemResourceAsStream( TEMPLATE_FILE ), ch );=0A&amp;gt;=0A&amp;gt;         Documen= t doc =3D ch.getDocument();=0A&amp;gt;         doc.getRootElement().addNamespace( = "", EFILE_NS );=0A&amp;gt;=0A&amp;gt;=0A&amp;gt; When I process the raw data, I do XPath lookups= on nodes in the template =0A&amp;gt; and set them like so:=0A&amp;gt;=0A&amp;gt;             XP= ath xp =3D root.createXPath( xpath );=0A&amp;gt;             xp.setNamespaceURIs( = namespaces );=0A&amp;gt;             Element e =3D (Element) xp.selectSingleNode( = ated, some of the elements below the root =0A&amp;gt; element (but not all of them= ) have namespaces set to '' (blank). This =0A&amp;gt; causes the other party's XML= processing to blow up with the error that =0A&amp;gt; the element with the blank = namespace isn't in the E-file namespace, like =0A&amp;gt; it's supposed to be.=0A&amp;gt;= =0A&amp;gt; If the namespace is set in the template, then I would expect it work = =0A&amp;gt; correctly when I've read that document in and set the namespaces =0A&amp;gt; = accordingly. That's not happening and some elements in the DOM are being = =0A&amp;gt; "taken out" of the default namespace.=0A&amp;gt;=0A&amp;gt; Can someone shed some li= ght on why this is happening?=0A&amp;gt;=0A&amp;gt;   =0A=0A=0A=0A=0A=0A-----------------= -------------=0A=0AMessage: 5=0ADate: Mon, 27 Aug 2007 16:02:22 -0500=0AFro= m: Jon Brisbin &amp;lt;jon.brisbin@...: Re: [dom4j-use= r] Namespaces become blank when inserting or=0A    updating elements=0ATo: = dom4j-user@...: &amp;lt;46D33BDE.2040406@...= tional.com&amp;gt;=0AContent-Type: text/plain; charset=3DISO-8859-1; format=3Dflow= ed=0A=0AEvan Kirkconnell wrote:=0A&amp;gt; Are you creating the problem elements w= ith code or are they in your =0A&amp;gt; loaded document?=0A&amp;gt;   =0AThe problem ele= ments are the direct descendants of the element I add the =0Anamespace to.= =0A=0AI created a test case to see what's going on. It seems to be related = to =0Athe SAXContentHandler creating the DOM4J Document for me.=0A=0AWhen I= create the DOM4J document by reading in an XML file using the =0ASAXConten= tHandler, the default namespace gets stripped off. Here's the =0Afile I rea= d in:=0A=0A&amp;lt;?xml version=3D"1.0" encoding=3D"UTF-8"?&amp;gt;=0A&amp;lt;root xmlns=3D"urn:= bogus-namespace"&amp;gt;=0A    &amp;lt;first-level&amp;gt;=0A        &amp;lt;second-level&amp;gt;=0A          = ALUE&amp;lt;/data&amp;gt;=0A            &amp;lt;data&amp;gt;VALUE&amp;lt;/data&amp;gt;=0A        &amp;lt;/second-level&amp;gt;=0A  = =0A    &amp;lt;/first-level&amp;gt;=0A&amp;lt;/root&amp;gt;=0A=0AI read the XML file into a DOM4J Docum= ent:=0A=0AString NS =3D "urn:bogus-namespace";=0AMap&amp;lt;String, String&amp;gt; namesp= aces =3D new HashMap&amp;lt;String, String&amp;gt;();=0Anamespaces.put( "", NS );=0A=0ADo= cumentFactory df =3D DocumentFactory.getInstance();=0Adf.setXPathNamespaceU= RIs( namespaces );=0A=0ASAXContentHandler ch =3D new SAXContentHandler();= =0Ap.parse( ClassLoader.getSystemResourceAsStream( "dom4j-test.xml" ), ch )= ;=0A=0ADocument d =3D ch.getDocument();=0ASystem.out.println( d.asXML() );= =0A=0AWhen I printed out the document, the default namespace gets stripped = off:=0A=0A&amp;lt;?xml version=3D"1.0" encoding=3D"UTF-8"?&amp;gt;=0A&amp;lt;root&amp;gt;=0A    &amp;lt;first-= level&amp;gt;=0A        &amp;lt;second-level&amp;gt;=0A            &amp;lt;data&amp;gt;VALUE&amp;lt;/data&amp;gt;=0A        = =0A=0A=0ASo I added the namespace back in on the root element and tried it = again:=0A=0Ad.getRootElement().addNamespace( "", NS );=0A=0A=0AWhich manife= sted the problem:=0A=0A&amp;lt;?xml version=3D"1.0" encoding=3D"UTF-8"?&amp;gt;=0A&amp;lt;root x= mlns=3D"urn:bogus-namespace"&amp;gt;=0A    &amp;lt;first-level xmlns=3D""&amp;gt;=0A        &amp;lt;sec= ond-level&amp;gt;=0A            &amp;lt;data&amp;gt;VALUE&amp;lt;/data&amp;gt;=0A            &amp;lt;data&amp;gt;VALUE&amp;lt;/data= E&amp;lt;/third-level&amp;gt;=0A            &amp;lt;third-level&amp;gt;=0A                &amp;lt;data&amp;gt;VALUE&amp;lt;/= data&amp;gt;=0A                &amp;lt;data&amp;gt;VALUE&amp;lt;/data&amp;gt;=0A            &amp;lt;/third-level&amp;gt;=0A = he document in using the internal Java 1.5 Xerces parser, =0Athen used the = DOM4J DOMReader to create a Document out of the XML file, =0Aeverything wor= ks as expected and the default namespace is preserved like =0AI expect.=0A= =0AI've since changed my application to use a DOMReader and have abandoned = =0Athe SAXContentHandler as a method for creating DOM4J Documents from =0Af= iles. Using a W3C DOM first seems a little unnecessary, but if that's =0Awh= at I've got to do...=0A=0A-- =0A=0A=0AThanks!=0A=0AJon Brisbin=0APortal Web= master=0ANPC International, Inc.= 0Ahttp://www.npcinternational.com=0A=0A=0A= =0A=0A=0A------------------------------=0A=0AMessage: 6=0ADate: Mon, 27 Aug= 2007 16:41:31 -0500=0AFrom: Evan Kirkconnell &amp;lt;ekirkco@...:= Re: [dom4j-user] Namespaces become blank when inserting or=0A    updating = elements=0ATo: dom4j-user@...: &amp;lt;46D3450B.200= 0609@...: text/plain; charset=3D"us-ascii"=0A=0AAn HTM= L attachment was scrubbed...=0A=0A------------------------------=0A=0A-----= --------------------------------------------------------------------=0AThis= SF.net email is sponsored by: Splunk Inc.=0AStill grepping through log fil= es to find problems?  Stop.=0ANow Search log events and configuration files= using AJAX and a browser.=0ADownload your FREE copy of Splunk now &amp;gt;&amp;gt;  http= ://get.splunk.com/=0A=0A------------------------------=0A=0A_______________= ________________________________=0Adom4j-user mailing list=0Adom4j-user@...= ts.sourceforge.net= 0Ahttps://lists.sourceforge.net/lists/listinfo/dom4j-use= r=0A=0A=0AEnd of dom4j-user Digest, Vol 15, Issue 1=0A*********************= ********************=0A=0A=0A=0A=0A=0A=0A=0A       =0A_____________________= _______________________________________________________________=0APinpoint = customers who are looking for what you sell. = 0Ahttp://searchmarketing.yaho= o.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Namespaces become blank when inserting or updating
	elements</header>
    <date>Mon Aug 27 15:18:00 CEST 2007</date>
    <body>Searched in the archives and didn't find what I was looking for (but not really sure what I'm looking for, so don't throw things at me if this has been asked before). I have an XML template that I read into a DOM4J (using 1.6) document when I begin processing. The default namespace is set in the document and I set it again, just for good measure: When I process the raw data, I do XPath lookups on nodes in the template and set them like so: But when the file is generated, some of the elements below the root element (but not all of them) have namespaces set to '' (blank). This causes the other party's XML processing to blow up with the error that the element with the blank namespace isn't in the E-file namespace, like it's supposed to be. If the namespace is set in the template, then I would expect it work correctly when I've read that document in and set the namespaces accordingly. That's not happening and some elements in the DOM are being "taken out" of the default namespace. Can someone shed some light on why this is happening? -- Thanks! Jon Brisbin Portal Webmaster NPC International, Inc. http://www.npcinternational.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Namespaces become blank when inserting or updating
 elements</header>
    <date>Mon Aug 27 20:36:00 CEST 2007</date>
    <body>Are you creating the problem elements with code or are they in your loaded document? Jon Brisbin wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Namespaces become blank when inserting or updating
 elements</header>
    <date>Mon Aug 27 21:00:00 CEST 2007</date>
    <body>Evan Kirkconnell wrote: The problem elements are the direct descendants of the element I add the namespace to. I created a test case to see what's going on. It seems to be related to the SAXContentHandler creating the DOM4J Document for me. When I create the DOM4J document by reading in an XML file using the SAXContentHandler, the default namespace gets stripped off. Here's the file I read in: I read the XML file into a DOM4J Document: When I printed out the document, the default namespace gets stripped off: So I added the namespace back in on the root element and tried it again: Which manifested the problem: When I read the document in using the internal Java 1.5 Xerces parser, then used the DOM4J DOMReader to create a Document out of the XML file, everything works as expected and the default namespace is preserved like I expect. I've since changed my application to use a DOMReader and have abandoned the SAXContentHandler as a method for creating DOM4J Documents from files. Using a W3C DOM first seems a little unnecessary, but if that's what I've got to do... -- Thanks! Jon Brisbin Portal Webmaster NPC International, Inc. http://www.npcinternational.com</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Namespaces become blank when inserting or updating
 elements</header>
    <date>Mon Aug 27 21:41:00 CEST 2007</date>
    <body>I produced this test from the example: &amp;lt;a class="moz-txt-link-freetext" href=" http://www.dom4j.org/guide.html"&amp;gt;http://www.dom4j.org/guide.html&amp;lt;/a&amp;gt;&amp;amp;nbsp Maybe something with how you're loading the document is causing your Also, when you have a DOM4J document in memory, it doesn't have the concept of inheriting namespaces.&amp;amp;nbsp; Every node has a namespace, so if you change the namespace of one node, none of its descendants are Jon Brisbin wrote: loaded document? namespace to. I created a test case to see what's going on. It seems to be related to the SAXContentHandler creating the DOM4J Document for me. When I create the DOM4J document by reading in an XML file using the SAXContentHandler, the default namespace gets stripped off. Here's the file I read in: I read the XML file into a DOM4J Document: When I printed out the document, the default namespace gets stripped off: So I added the namespace back in on the root element and tried it again: Which manifested the problem: When I read the document in using the internal Java 1.5 Xerces parser, then used the DOM4J DOMReader to create a Document out of the XML file, everything works as expected and the default namespace is preserved like I expect. I've since changed my application to use a DOMReader and have abandoned the SAXContentHandler as a method for creating DOM4J Documents from files. Using a W3C DOM first seems a little unnecessary, but if that's what I've got to do...</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath problem</header>
    <date>Thu Aug 09 20:24:00 CEST 2007</date>
    <body>SGkgYWxsLA0KDQogDQoNCkknbSBwcm9iYWJseSBkb2luZyBzb21ldGhpbmcgdmVyeSBzdHVwaWQu IEkgaGF2ZSBhIHZlcnkgc2ltcGxlIGRvY3VtZW50IGFuZCBJDQoNCidtIHRyeWluZyB0byBhcHBs eSBhbiBYUGF0aCB0byBmaW5kIHRoZSB2YWx1ZSBvZiBhIG5vZGUuIEhlcmUncyB0aGUgWE1MOg0K DQogDQoNCjw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04Ij8+DQoNCjxzcGFycWwg eG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvc3cvRGF0YUFjY2Vzcy9yZjEvcmVzdWx0Ij4N Cg0KICA8aGVhZD4NCg0KICAgIDx2YXJpYWJsZSBuYW1lPSJrMCIvPg0KDQogIDwvaGVhZD4NCg0K ICA8cmVzdWx0cz4NCg0KICAgIDxyZXN1bHQ+DQoNCiAgICAgIDxrMCBkYXRhdHlwZT0iaHR0cDov L3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjZG91YmxlIj40LjA8L2swPg0KDQogICAgPC9yZXN1 bHQ+DQoNCiAgPC9yZXN1bHRzPg0KDQo8L3NwYXJxbD4NCg0KIA0KDQpJIGNhbiBwcmludCB0aGlz IFhNTCBhcyBpdCBpcyByZWFkLiBBbmQgaGVyZeKAmXMgdGhlIGNvZGUsIEnigJltIHVzaW5nIGZv ciBYUGF0aDoNCg0KIA0KDQpTdHJpbmcgc2l6ZVN0ciA9IHNpemVEb2MudmFsdWVPZijigJwvL2sw 4oCdKTsNCg0KIA0KDQpJIGdldCBlbXB0eSBzdHJpbmcgYXMgYSByZXN1bHQgb2YgdGhpcy4gQ2Fu IGFueWJvZHkgdGVsbCBtZSB3aGF04oCZcyB3cm9uZz8gSSBhZGRlZCB0aGUgd2hvbGUgbGliIGRp cmVjdG9yeSBpbiB0aGUgZG9tNGogZGlzdHJpYnV0aW9uIHRvIHRoZSBjbGFzcyBwYXRoLg0KDQog DQoNClRoYW5rcywNCg0KTXV6YWZmZXINCg0K</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath problem</header>
    <date>Fri Aug 10 13:49:00 CEST 2007</date>
    <body>SSB3aXNoIEkgd2FzIGNsZXZlciBhbmQgZGlkIHNvbWUgcmVzZWFyY2ggZmlyc3QuIEkgZm91bmQg dGhlIGFuc3dlciBpbiB0aGUgbGlzdCBhcmNoaXZlczoNCg0KSSBzaG91bGQgaGF2ZSBkb25lOg0K DQpjb2RlIC0tLQ0KTWFwIG1hcCA9IG5ldyBIYXNoTWFwKCk7DQptYXAucHV0KCJyZXN1bHQiLCAi aHR0cDovL3d3dy53My5vcmcvMjAwMS9zdy9EYXRhQWNjZXNzL3JmMS9yZXN1bHQiKTsNCgkJDQpY UGF0aCB4cGF0aCA9IERvY3VtZW50SGVscGVyLmNyZWF0ZVhQYXRoKCIvL3Jlc3VsdDprMCIpOw0K eHBhdGguc2V0TmFtZXNwYWNlQ29udGV4dChuZXcgU2ltcGxlTmFtZXNwYWNlQ29udGV4dChtYXAp KTsNCgkJDQpOb2RlIHNpemVOb2RlID0geHBhdGguc2VsZWN0U2luZ2xlTm9kZShzaXplRG9jKTsN Ci0tLSBjb2RlDQoNCkFzIHN1Z2dlc3RlZCBieSBFZHdpbi4gVGhhbmtzIGFueXdheXMsDQptDQoN Cg==</body>
  </mail>
  <mail>
    <header>[dom4j-user] XML:LANG problem</header>
    <date>Fri Sep 28 12:52:00 CEST 2007</date>
    <body>Hi, I'm new in dom and i'm trying to add the attribute xml:lang to a single node. The problem is that i can add the attribute without any problem But when i try to get the xml:lang for this node i get null: Any Idea? Thank you --------------------------------- Sé un Mejor Amante del Cine ¿Quieres saber cómo? ¡Deja que otras personas te ayuden!.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XML:LANG problem</header>
    <date>Fri Sep 28 16:58:00 CEST 2007</date>
    <body>This method does not add an attribute. Use the following instead: And to get the value for the attribute use the following: Kind regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Selecting by id</header>
    <date>Fri Sep 14 19:56:00 CEST 2007</date>
    <body>Hi all, I'm pulling this out of the depths of the dom4j user list...  Edwin Dankert replied to this commenting that the id() function was not implemented.  I'm curious as to why the dom4j function elementByID does not work.  It seems like this should be independent of Jaxen.  I've been using the xpath traversal, but I have some slowness that I'm looking for a possible solution to. Thanks, --Evan Evan Kirkconnell wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Selecting by id</header>
    <date>Tue Sep 18 08:09:00 CEST 2007</date>
    <body>&amp;gt; I'm curious as to why the dom4j function elementByID does Actually, you are totally right ... I just had a look at the implementation and it should indeed work ... the elementByID method does not try to find elements with attributes which have been specified as having the ID type but attributes with a name of "ID". (make sure to use capitals) Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Selecting by id</header>
    <date>Tue Sep 18 22:58:00 CEST 2007</date>
    <body>Well, I gave that a shot and it was much faster.&amp;amp;nbsp; I looked at the code, because I don't want to capitalize my xhtml, and it's just walking the Makes you wonder why jaxen's so much slower...&amp;amp;nbsp; So, I'll probably just write my own walking function that looks for the lower case id.&amp;amp;nbsp; Here's Edwin Dankert wrote: cite="mid:43cdd0190709180109g4fc9c89r92d939a1a1286f4f@..." not work.  It seems like this should be independent of Jaxen. Actually, you are totally right ... I just had a look at the implementation and it should indeed work ... the elementByID method does not try to find elements with attributes which have been specified as having the ID type but attributes with a name of "ID". (make sure to use capitals) Regards, Edwin</body>
  </mail>
  <mail>
    <header>[dom4j-user] How do I get standalone='yes' in the header</header>
    <date>Tue Sep 04 23:19:00 CEST 2007</date>
    <body>=20 How can I get an xml file to start with &amp;lt;?xml version=3D"1.0" =20 Thanks - dave =20 =20 =20 David Thielen http://www.windwardreports.com 303-499-2544 x1185 =20 Cubicle Wars - http://www.windwardreports.com/film.htm =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How do I get standalone='yes' in the header</header>
    <date>Tue Sep 18 07:38:00 CEST 2007</date>
    <body>dom4j's XMLWriter doesn't support this currently, you could override the writeDeclaration method though: Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Parsing XML from string with praefix throws exception</header>
    <date>Fri Sep 07 09:12:00 CEST 2007</date>
    <body>Hi, =20 I do have a problem. The following code throws a null pointer exception = creating the document and it semms that it has to do with the praefix. String content =3D "&amp;lt;test:page&amp;gt;&amp;lt;child = If I do not use the preafic everything went well, but I need to parse = XML from a string which contains also preafixes. =20 Could someone please help me with this. What am I doing wrong or how = could I do it a better way? =20 Thanks =20 Regards =20 Matt =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Parsing XML from string with praefix throws
	exception</header>
    <date>Tue Sep 18 07:21:00 CEST 2007</date>
    <body>Because dom4j uses a namespace aware parser, you will need to map the prefix to a namespace-uri. http://www.test.com/ Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Second declaration line</header>
    <date>Tue Sep 18 02:56:00 CEST 2007</date>
    <body>Hi, New to dom4j.  I am interfacing with QuickBooks and I need a second declaration line: Any suggestions? Thanks! Dave ____________________________________________________________________________________ Shape Yahoo! in your own image.  Join our Network Research Panel today! http://surveylink.yahoo.com/gmrs/yahoo_panel_invite.asp?a=7</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Second declaration line</header>
    <date>Tue Sep 18 07:11:00 CEST 2007</date>
    <body>The second line is called a processing-instruction and you can use the following to add this to your document: Kind regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] problem with xpath expression</header>
    <date>Sun Oct 28 20:44:00 CET 2007</date>
    <body>Hi all together, I have a question concerning XPath evaluation with Dom4J. Here the relevant Java code snippet of my program: private Document createConfirmationXML(String generatePDF, String validatePrev, String createdFlag, String statusMessage) if (xmlConfirmationDoc == null) // first creation of confirmation Doc xmlConfirmationDoc = confirmation = xmlConfirmationDoc.addElement("confirmation").addAttribute("generate_pdf", generatePDF) .addAttribute("week", week).addAttribute("validate_prev", validatePrev) confirmation.add(new org.dom4j.Namespace("xsi", " http://www.w3.org/2001/XMLSchema-instance confPrev = confirmation.addElement("prevision").addAttribute("id", else // in case confirmation doc already exists // it has to be checked if a &amp;lt;prevision&amp;gt; element for the given prevId already exists uris.put("xsi", " http://www.w3.org/2001/XMLSchema-instance XPath xpath = xmlConfirmationDoc.createXPath("/confirmation/prevision[@id='" + prevId if (results.size() == 0) // &amp;lt;prevision&amp;gt; element does not already exist for the given prevId confPrev = confirmation.addElement("prevision").addAttribute("id", else // &amp;lt;prevision&amp;gt; element already exists for the given prevId iterator.hasNext();) And this is an example for a confirmation.xml that has to be generated and parsed: validated_prev="true" xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " For me my Java code looks correct. However, if I run the program, I always get an error stating that the XPath expression in the following line is invalid: XPath xpath = xmlConfirmationDoc.createXPath("/confirmation/prevision[@id='" + prevId The weird thing is that if I test the same XPath expression with XML-Spy I get the requested &amp;lt;prevision&amp;gt; node. I am currently using DOM4J 1.6.1. with Java 4 (can't use Java 6 at work). I would be very happy, if someone can help me fix that issue. Best regards, Oliver Schneider</body>
  </mail>
  <mail>
    <header>[dom4j-user] [ANN]VTD-XML 2.2</header>
    <date>Mon Oct 29 08:19:00 CET 2007</date>
    <body>I am proud to announce the the release of version 2.2 of VTD-XML, the=20 next generation XML parsers/indexer/slicer/editor. This release=20 significantly expands VTD-XML's ability to slice, split, edit and=20 incrementally update the XML documents. To this end, we introduce the=20 concept of namespace-compensated element fragment. This release also=20 adds VTD+XML index writing capability to the VTD Navigator class.=20 Other enhancements in this release include index size pre-computation,=20 support for HTTP get, and some bug fixes. To download the latest release, please go to=20 http://sourceforge.net/project/showfiles.php?group_id=3D110612 .</body>
  </mail>
  <mail>
    <header>[dom4j-user] processing xml stream</header>
    <date>Sat Oct 27 19:48:00 CEST 2007</date>
    <body>I have an instance of java.io.InputStream containing some XML document. I need to extract the value of the first &amp;lt;version-number&amp;gt; XML element from this input stream and satisfy the following requirements: =20 1. Read only the necessary part of the stream. In other words, if following elements do not need to be read. 2. The stream should not be affected. In other words, I should be able to read this stream again from the beginning. Note that this stream does not support mark() and reset() methods. =20 How can I do this efficiently using dom4j?=20 Is there any other Java API that is more appropriate to use to solve this problem? =20 Thanks. =20 Alec</body>
  </mail>
  <mail>
    <header>[dom4j-user] thread safe traversal of read-only document</header>
    <date>Tue Oct 23 16:59:00 CEST 2007</date>
    <body>Is it safe to let multiple threads traverse a read-only document?</body>
  </mail>
  <mail>
    <header>[dom4j-user] Selecting nodes by reference</header>
    <date>Wed Oct 17 11:11:00 CEST 2007</date>
    <body>Hi, I have a slight problem adding nodes to a document with DOM4J: I need to select the parent node with a, XPath statement, and add nodes to it. But it seems that nodes I select are copies of the nodes, rather than references to them. In other words, if I use this line...: Node parentNode = document.selectSingleNode(xxxx) ...then I add to 'parentNode' like this... parentNode.add(some_new_node) ...then the original 'document' (from which I selected 'parentNode') doesn't have the new node in it! Is there any easy way to achieve this? Or am I going it about it the wrong way altogether? Thanks in advance! John B.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Selecting nodes by reference - SOLVED</header>
    <date>Wed Oct 17 14:28:00 CEST 2007</date>
    <body>My mistake, it does work by reference. Sorry! John Byrne wrote: http://get.splunk.com/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Connection Timmed Out</header>
    <date>Tue Oct 02 21:35:00 CEST 2007</date>
    <body>Sometimes I get this connection timed out exception and it doesn't make any sense to me because it's connecting to a local file URI.  Maybe I'll take a look at the SAXReader code, but I was wondering if anyone knew anything about it.  It is actually a full path, I just put "..." to not show the document structure on the server.  It is possible that there's some DNS or DHCP problem at the moment, but still, this shouldn't be affected. file:///export/home1/.../index.html --&amp;gt;' at edu.uark.ekirkco.dom.DOMBase.handleDocumentException(DOMBase.java:285) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:261) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:221) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:208) at MainBase.go(MainBase.java:26) at edu.uark.ekirkco.dom.DOMServlet.go(DOMServlet.java:206) at edu.uark.ekirkco.dom.DOMServlet.doRequest(DOMServlet.java:269) at edu.uark.ekirkco.dom.DOMServlet.doGet(DOMServlet.java:457) at javax.servlet.http.HttpServlet.service(HttpServlet.java:787) at javax.servlet.http.HttpServlet.service(HttpServlet.java:908) at org.apache.catalina.core.StandardWrapperValve.invokeServletService(StandardWrapperValve.java:771) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:322) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:509) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:212) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:509) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:209) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:509) at com.iplanet.ias.web.connector.nsapi.NSAPIProcessor.process(NSAPIProcessor.java:161) at com.iplanet.ias.web.WebContainer.service(WebContainer.java:580) Caused by: org.dom4j.DocumentException: Connection timed out Nested exception: Connection timed out at org.dom4j.io.SAXReader.read(SAXReader.java:484) at org.dom4j.io.SAXReader.read(SAXReader.java:365) at edu.uark.ekirkco.dom.DOMUtils.getDocumentFromString(DOMUtils.java:185) at edu.uark.ekirkco.dom.DOMUtils.getDocumentFromString(DOMUtils.java:219) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:252) ... 17 more</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Connection Timmed Out</header>
    <date>Tue Oct 02 21:40:00 CEST 2007</date>
    <body>This stack trace probably illustrates the cause better, though I don't know why it's not in that original stack trace.  Not sure what the deal with the stack traces are... java.net.ConnectException: Connection timed out at java.net.PlainSocketImpl.socketConnect(Native Method) at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333) at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195) at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182) at java.net.Socket.connect(Socket.java:507) at java.net.Socket.connect(Socket.java:457) at sun.net.NetworkClient.doConnect(NetworkClient.java:157) at sun.net.www.http.HttpClient.openServer(HttpClient.java:365) at sun.net.www.http.HttpClient.openServer(HttpClient.java:477) at sun.net.www.http.HttpClient.&amp;lt;init&amp;gt;(HttpClient.java:214) at sun.net.www.http.HttpClient.New(HttpClient.java:287) at sun.net.www.http.HttpClient.New(HttpClient.java:299) at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:792) at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:744) at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:669) at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:913) at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:973) at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startEntity(XMLEntityManager.java:905) at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java:872) at com.sun.org.apache.xerces.internal.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.java:282) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDispatcher.dispatch(XMLDocumentScannerImpl.java:1021) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:368) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:834) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:148) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1242) at org.dom4j.io.SAXReader.read(SAXReader.java:465) at org.dom4j.io.SAXReader.read(SAXReader.java:365) at edu.uark.ekirkco.dom.DOMUtils.getDocumentFromString(DOMUtils.java:185) at edu.uark.ekirkco.dom.DOMUtils.getDocumentFromString(DOMUtils.java:219) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:252) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:221) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:208) at MainBase.go(MainBase.java:26) at edu.uark.ekirkco.dom.DOMServlet.go(DOMServlet.java:206) at edu.uark.ekirkco.dom.DOMServlet.doRequest(DOMServlet.java:269) at edu.uark.ekirkco.dom.DOMServlet.doGet(DOMServlet.java:457) at javax.servlet.http.HttpServlet.service(HttpServlet.java:787) at javax.servlet.http.HttpServlet.service(HttpServlet.java:908) at org.apache.catalina.core.StandardWrapperValve.invokeServletService(StandardWrapperValve.java:771) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:322) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:509) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:212) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:509) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:209) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:509) at com.iplanet.ias.web.connector.nsapi.NSAPIProcessor.process(NSAPIProcessor.java:161) at com.iplanet.ias.web.WebContainer.service(WebContainer.java:580) Evan Kirkconnell wrote: file:///export/home1/.../index.html --&amp;gt;' http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Connection Timmed Out</header>
    <date>Tue Oct 02 21:42:00 CEST 2007</date>
    <body>OK, maybe I know the problem.&amp;amp;nbsp; It's looking for the DTD and can't find Evan Kirkconnell wrote: know why it's not in that original stack trace.  Not sure what the deal with the stack traces are... java.net.ConnectException: Connection timed out at java.net.PlainSocketImpl.socketConnect(Native Method) at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333) at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195) at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182) at java.net.Socket.connect(Socket.java:507) at java.net.Socket.connect(Socket.java:457) at sun.net.NetworkClient.doConnect(NetworkClient.java:157) at sun.net.www.http.HttpClient.openServer(HttpClient.java:365) at sun.net.www.http.HttpClient.openServer(HttpClient.java:477) at sun.net.www.http.HttpClient.&amp;amp;lt;init&amp;amp;gt;(HttpClient.java:214) at sun.net.www.http.HttpClient.New(HttpClient.java:287) at sun.net.www.http.HttpClient.New(HttpClient.java:299) at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:792) at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:744) at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:669) at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:913) at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:973) at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startEntity(XMLEntityManager.java:905) at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java:872) at com.sun.org.apache.xerces.internal.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.java:282) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDispatcher.dispatch(XMLDocumentScannerImpl.java:1021) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:368) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:834) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:148) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1242) at org.dom4j.io.SAXReader.read(SAXReader.java:465) at org.dom4j.io.SAXReader.read(SAXReader.java:365) at edu.uark.ekirkco.dom.DOMUtils.getDocumentFromString(DOMUtils.java:185) at edu.uark.ekirkco.dom.DOMUtils.getDocumentFromString(DOMUtils.java:219) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:252) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:221) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:208) at MainBase.go(MainBase.java:26) at edu.uark.ekirkco.dom.DOMServlet.go(DOMServlet.java:206) at edu.uark.ekirkco.dom.DOMServlet.doRequest(DOMServlet.java:269) at edu.uark.ekirkco.dom.DOMServlet.doGet(DOMServlet.java:457) at javax.servlet.http.HttpServlet.service(HttpServlet.java:787) at javax.servlet.http.HttpServlet.service(HttpServlet.java:908) at org.apache.catalina.core.StandardWrapperValve.invokeServletService(StandardWrapperValve.java:771) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:322) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:509) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:212) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:509) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:209) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:509) at com.iplanet.ias.web.connector.nsapi.NSAPIProcessor.process(NSAPIProcessor.java:161) at com.iplanet.ias.web.WebContainer.service(WebContainer.java:580) Evan Kirkconnell wrote: any sense to me because it's connecting to a local file URI.  Maybe I'll take a look at the SAXReader code, but I was wondering if anyone knew anything about it.  It is actually a full path, I just put "..." to not show the document structure on the server.  It is possible that there's some DNS or DHCP problem at the moment, but still, this shouldn't be affected. &amp;amp;lt;!--Document uri: &amp;lt;a class="moz-txt-link-freetext" href=" file:///export/home1/.../index.html"&amp;gt;file:///export/home1/.../index.html&amp;lt;/a&amp;gt;--&amp;amp;gt ;' at edu.uark.ekirkco.dom.DOMBase.handleDocumentException(DOMBase.java:285) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:261) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:221) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:208) at MainBase.go(MainBase.java:26) at edu.uark.ekirkco.dom.DOMServlet.go(DOMServlet.java:206) at edu.uark.ekirkco.dom.DOMServlet.doRequest(DOMServlet.java:269) at edu.uark.ekirkco.dom.DOMServlet.doGet(DOMServlet.java:457) at javax.servlet.http.HttpServlet.service(HttpServlet.java:787) at javax.servlet.http.HttpServlet.service(HttpServlet.java:908) at org.apache.catalina.core.StandardWrapperValve.invokeServletService(StandardWrapperValve.java:771) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:322) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:509) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:212) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:509) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:209) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:509) at com.iplanet.ias.web.connector.nsapi.NSAPIProcessor.process(NSAPIProcessor.java:161) at com.iplanet.ias.web.WebContainer.service(WebContainer.java:580) Caused by: org.dom4j.DocumentException: Connection timed out Nested exception: Connection timed out at org.dom4j.io.SAXReader.read(SAXReader.java:484) at org.dom4j.io.SAXReader.read(SAXReader.java:365) at edu.uark.ekirkco.dom.DOMUtils.getDocumentFromString(DOMUtils.java:185) at edu.uark.ekirkco.dom.DOMUtils.getDocumentFromString(DOMUtils.java:219) at edu.uark.ekirkco.dom.DOMBase.setDoc(DOMBase.java:252) ... 17 more ------------------------------------------------------------------------- This SF.net email is sponsored by: Microsoft Defy all challenges. Microsoft(R) Visual Studio 2005. http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/"&amp;gt;http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/&amp;lt;/a _______________________________________________ dom4j-user mailing list https://lists.sourceforge.net/lists/listinfo/dom4j-user"&amp;gt;https://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/a ------------------------------------------------------------------------- This SF.net email is sponsored by: Microsoft Defy all challenges. Microsoft(R) Visual Studio 2005. http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/"&amp;gt;http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/&amp;lt;/a _______________________________________________ dom4j-user mailing list https://lists.sourceforge.net/lists/listinfo/dom4j-user"&amp;gt;https://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/a</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with XPath evaluation of values containing
	Hyphens using dom4j</header>
    <date>Thu Nov 15 11:30:00 CET 2007</date>
    <body>Hi, I am having problems evaluating an XPath expression that returns a date String containing hyphens using dom4j. For example: Using the XPath: /clients/client[@id="pc1"]/date_of_birth/text() Always evaluates to: 1957-10-03 However using this XPath: /clients/client[@id="pc2"]/date_of_birth/text() I sometimes get  either: 1956- or 1956-10- as the result. In both instances the result is always truncated immediately after a hyphen. To make matters worse the XPath is always evaluated correctly when I execute my Websphere application on a windows operating system. However, the problem seems to manifest itself when the WebSphere application is executed on a unix based AIX server. Has anyone seen anything like this before. Thanks, Derek http://www.aegon.co.uk AEGON UK plc: 90 Long Acre, London WC2E 9TF, registered in England (No. 3679296). Scottish Equitable plc: Registered office at Edinburgh Park, Edinburgh EH12 9SE, registered in Scotland (No. 144517), authorised and regulated by the Financial Services Authority. Guardian Assurance plc, Guardian Linked Life Assurance Ltd and Guardian Pensions Management Ltd: Registered office at Ballam Road, Lytham St. Annes, Lancashire FY8 4JZ, registered in England (No. 38291, 1397655 and 985480), authorised and regulated by the Financial Services Authority. Members of the AEGON Group. DISCLAIMER This message is for the addressee only. If you've received it by mistake, please send it back to the sender and delete it, and any copies of it, straightaway. We may monitor emails on our network for security purposes and to check they meet legal, regulatory and professional standards. If you get in touch with us by email, we may keep a record of your name and email address. We don't accept service of court proceedings by email, unless we've specifically agreed to this beforehand in writing. We take reasonable precautions to guard against malicious software and viruses and we recommend you do the same.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with XPath evaluation of values containing
	Hyphens using dom4j</header>
    <date>Thu Nov 15 13:07:00 CET 2007</date>
    <body>Try and enable the "SAXReader.setMergeAdjacentText()" option. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with XPath evaluation of values containing
	Hyphens using dom4j</header>
    <date>Thu Nov 15 14:20:00 CET 2007</date>
    <body>Dom4j uses a ContentHandler in the background to create the elements, attributes, text nodes etc. The ContentHandler.characters(...) method is used to create text nodes. The description of this method states: "The Parser will call this method to report each chunk of character data. SAX parsers may return all contiguous character data in a single chunk, or they may split it into several chunks; however, all of the characters in any single event must come from the same external entity so that the Locator provides useful information." So, when the mergeAdjacentText property is set to false, all the chunks are treated as separate text-nodes. Your XPath will only return the first text-node. The chunks can be different depending on the implementation of the SAX Parser or the format of the file, or other file IO related differences. When you set the mergeAdjacentText property to true, all these chunks are added together into one text-node and your XPath should return the full value. Regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with XPath evaluation of values containing
 Hyphens using dom4j</header>
    <date>Thu Nov 15 14:34:00 CET 2007</date>
    <body>Edwin, Thanks again for the suggestion and taking the time to give me a helpful explanation. It's much appreciated. Regards, Derek "Edwin Dankert" om&amp;gt;                                                        To "derek.lander@..." cc dom4j-user@... Subject Re: [dom4j-user] Problem with XPath evaluation of values containing Hyphens using dom4j Dom4j uses a ContentHandler in the background to create the elements, attributes, text nodes etc. The ContentHandler.characters(...) method is used to create text nodes. The description of this method states: "The Parser will call this method to report each chunk of character data. SAX parsers may return all contiguous character data in a single chunk, or they may split it into several chunks; however, all of the characters in any single event must come from the same external entity so that the Locator provides useful information." So, when the mergeAdjacentText property is set to false, all the chunks are treated as separate text-nodes. Your XPath will only return the first text-node. The chunks can be different depending on the implementation of the SAX Parser or the format of the file, or other file IO related differences. When you set the mergeAdjacentText property to true, all these chunks are added together into one text-node and your XPath should return the full value. Regards, Edwin -- http://www.edankert.com/ http://www.aegon.co.uk AEGON UK plc: 90 Long Acre, London WC2E 9TF, registered in England (No. 3679296). Scottish Equitable plc: Registered office at Edinburgh Park, Edinburgh EH12 9SE, registered in Scotland (No. 144517), authorised and regulated by the Financial Services Authority. Guardian Assurance plc, Guardian Linked Life Assurance Ltd and Guardian Pensions Management Ltd: Registered office at Ballam Road, Lytham St. Annes, Lancashire FY8 4JZ, registered in England (No. 38291, 1397655 and 985480), authorised and regulated by the Financial Services Authority. Members of the AEGON Group. DISCLAIMER This message is for the addressee only. If you've received it by mistake, please send it back to the sender and delete it, and any copies of it, straightaway. We may monitor emails on our network for security purposes and to check they meet legal, regulatory and professional standards. If you get in touch with us by email, we may keep a record of your name and email address. We don't accept service of court proceedings by email, unless we've specifically agreed to this beforehand in writing. We take reasonable precautions to guard against malicious software and viruses and we recommend you do the same.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Retrieve element names in an XML document</header>
    <date>Mon Nov 12 20:49:00 CET 2007</date>
    <body>Hi, I want to retrieve the uniqe paths to elements having text in the 'body' in an XML document. But not exactly.=) Let me give you an example: ...etc..more products I have code for picking up path to each element containing text (paths stored in a Set to keep them unique), but I can't pickup elements sharing the same name (like additonalinfo above). In this case I want the id, name, additionalinfo(1), additionalinfo(2) paths in my Set. If another product has 3 additionalinfo elements, I want: id, name, and 3 additionalinfo element paths in my Set. Is this possible with dom4j ? I've tested with getUniquePath() on the Elements with methods TreeWalk and parseElement, but not found the exact solution as yet. Any help much appreciated!</body>
  </mail>
  <mail>
    <header>[dom4j-user] NodeComparator and empty elements</header>
    <date>Thu Nov 08 11:21:00 CET 2007</date>
    <body>Hi. I have to compare to elements contains inside empty elements. I. e.: But NodeComparator.compare returns Here my reader: Is a dom4j bug or am I wrong? Thanks. -- V. Marco Carnazzo ________________________________________________ Cooperativa Anastasis a r.l. Ufficio Web P.zza dei Martiri, 1/2 40100 - Bologna, Italy tel. 051/2962185 http://www.anastasis.it</body>
  </mail>
  <mail>
    <header>[dom4j-user] NodeComparator and empty elements</header>
    <date>Thu Nov 08 11:23:00 CET 2007</date>
    <body>Hi. I have to compare two elements contains inside empty elements. I. e.: But NodeComparator.compare returns 1. Here my reader: Is a dom4j bug or am I wrong? Thanks. -- V. Marco Carnazzo ________________________________________________ Cooperativa Anastasis a r.l. Ufficio Web P.zza dei Martiri, 1/2 40100 - Bologna tel. 051/2962185 http://www.anastasis.it</body>
  </mail>
  <mail>
    <header>[dom4j-user] SaxReader with encoding specified - invalid characters
	skipped?</header>
    <date>Wed Nov 07 19:12:00 CET 2007</date>
    <body>Hi, I?m using a SAXReader (with xerxes-parser on the project class- path). I set encoding with the setEncoding-method and I set an=20 XMLErrorHandler with the setErrorHandler method. I use the read(InputStream) method to read in an inputstream=20 in a dom4j Document. My question is: How does the SAXReader respond if it finds a=20 character which is not ?valid? for the specified character set=20 (specified by setEncoding-method)? Does it just skip the character? Or does it throw the=20 DocumentException ? Any help much appreciated! H=E5kan Jacobsson - System Developer</body>
  </mail>
  <mail>
    <header>[dom4j-user] Imposible to add a processing instruction before
	setting the root node in Dom4j 1.6.1</header>
    <date>Mon Dec 24 15:23:00 CET 2007</date>
    <body>I think I found an issue concerning Processing Instructions in dom4j 1.6.1. When I create a document with this code : ProcessingInstruction pi = When I use xmlDoc.asXML(), the processing instruction is present at the end of the String and it' OK. When I create a document with this code : ProcessingInstruction pi = When I use xmlDoc.asXML(), the processing instruction has disapeared. With the debugger, I see that xmlDoc.setRootElement(root); replace the first element in content that was the PI. In XML standard, a PI can be placed before the root element. I think it's an issue.</body>
  </mail>
  <mail>
    <header>[dom4j-user] setStripWhitespaceText problem</header>
    <date>Tue Dec 18 14:58:00 CET 2007</date>
    <body>Hi List, I have a problem with the SAXReader.setStripWhitespaceText() method. I have the following method: and I have an XML file which has something like TEXT But when I call I get "\n\tTEXT\n" Any idea what am I doing wrong? Thanks in advance, Uri -- Uri Shohet Project Manager AMS Advanced Maintenance Systems Ltd. Science Based Industry Campus POB 23838, Jerusalem 91237,  Israel Tel.        : +972-2-541-7449	Cell        : +972-54-4259-850 Fax.        : +972-2-581-4448	US Toll-Free:  1-866-389-2001 X:449 Registered Linux User #166615 ( http://counter.li.org )</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem: "Document doc = new SAXReader().read(url)"
	strips out portions of text from elements</header>
    <date>Thu Dec 06 21:47:00 CET 2007</date>
    <body>The XML document that I am processing contains elements like this: http://3d-ve.unisys.com/sites/Innovations/Lists/Innovations/DispFo However, when I load the document like so ... List&amp;lt;Element&amp;gt; nodeList =3D fromDocument.selectNodes("//item/link", It seems to strip out the part of the text after the "?ID=3D1" part of = the text at the end like so=20 http://3d-ve.unisys.com/sites/Innovations/Lists/Innovations/DispFo How can I prevent it from doing so? Thanks in advance, Alex</body>
  </mail>
  <mail>
    <header>[dom4j-user] modifying xml file</header>
    <date>Mon Jan 28 06:00:00 CET 2008</date>
    <body>Hi All, I am using a dom parser to write a xml file .I get first line in the xml file as Below the version i want a few lines added as..... http://www.w3.org/2001/XMLSchema-instance " xmlns=3D" http://www.vignette.com/xmlschemas/importexport " xsi:schemaLocation=3D" http://www.vignette.com/xmlschemas/importexport http://www.vignette.com/xmlschemas/importexport%207201= I am using following code snippet to do this //to generate output to console use this serializer XMLSerializer serializer =3D *new* XMLSerializer( *new* FileOutputStream(*new* File( Please help=85..</body>
  </mail>
  <mail>
    <header>[dom4j-user] modifying the xml file</header>
    <date>Mon Jan 28 05:54:00 CET 2008</date>
    <body>Hi All, I am using a dom parser to write a xml file .I get first line in the xml file as below this line i want to add following lines... http://www.w3.org/2001/XMLSchema-instance " xmlns=3D" http://www.vignette.com/xmlschemas/importexport " xsi:schemaLocation=3D" http://www.vignette.com/xmlschemas/importexport http://www.vignette.com/xmlschemas/importexport%207201= I am using following code snippet to do this //to generate output to console use this serializer XMLSerializer serializer =3D *new* XMLSerializer( *new* FileOutputStream(*new* File( Please help=85..</body>
  </mail>
  <mail>
    <header>[dom4j-user] Help: A problem using DOM4J in Eclipse RCP</header>
    <date>Sat Jan 26 22:15:00 CET 2008</date>
    <body>Hi,All, =20 I used DOM4J for general java project by import it to the building path, it= works. However, after using DOM4J for my Eclipse RCP, there is problem for my firs= t step.=20 I used (add external *.jar) method  to add the dom4j.jar into the build pat= h, which made building/parse ok. However, It couldnot  run it. The error is= : classnotfoundexception for SAXReader saxReader=3Dnew SAXReader(). =20 Somebody told me set the dom4j as a dependency plugin, it should work. but = I don't how to do it. I tried to copy the  dom4j.jar  under the eclipse/plugin directory, however= , eclipse cannot recoginze it as a plugin, even I tried using eclipse -clea= n command to  restart eclipse. So I cann't add dom4j into the dependency pl= ugin. =20 Somebody said need to import the dom4j when the project runing by modifying= MANIFEST.MF item: Require-Bundle: But I don't know how to do it either. =20 Could you guys help me for that? =20 =20 Thanks =20 shanhu =20 =20 =20 =20 =20 _________________________________________________________________ Get Hotmail on your mobile, text MSN to 63463! http://mobile.uk.msn.com/pc/mail.aspx=</body>
  </mail>
  <mail>
    <header>[dom4j-user] Help: A problem using DOM4J in Eclipse RCP</header>
    <date>Sat Jan 26 22:15:00 CET 2008</date>
    <body>Hi,All, =20 I used DOM4J for general java project by import it to the building path, it= works. However, after using DOM4J for my Eclipse RCP, there is problem for my firs= t step.=20 I used (add external *.jar) method  to add the dom4j.jar into the build pat= h, which made building/parse ok. However, It couldnot  run it. The error is= : classnotfoundexception for SAXReader saxReader=3Dnew SAXReader(). =20 Somebody told me set the dom4j as a dependency plugin, it should work. but = I don't how to do it. I tried to copy the  dom4j.jar  under the eclipse/plugin directory, however= , eclipse cannot recoginze it as a plugin, even I tried using eclipse -clea= n command to  restart eclipse. So I cann't add dom4j into the dependency pl= ugin. =20 Somebody said need to import the dom4j when the project runing by modifying= MANIFEST.MF item: Require-Bundle: But I don't know how to do it either. =20 Could you guys help me for that? =20 =20 Thanks =20 shanhu =20 =20 =20 =20 =20 _________________________________________________________________ Who's friends with who and co-starred in what? http://www.searchgamesbox.com/celebrityseparation.shtml=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Merging several XML-files</header>
    <date>Wed Jan 16 09:43:00 CET 2008</date>
    <body>Muzaffer, Yes, thats true. I could try this. Is there no way to do this kind of merging using the dom4j=20 API? /H=E5kan write regular expressions (or use similar text operations) to=20 extract the &amp;lt;product&amp;gt; sections and put them back to back and=20 slap a &amp;lt;rootelement&amp;gt; &amp;lt;/rootelement&amp;gt; to the beginning and the=20 end. If you keep the result in the memory, it's still going to=20 be a large String, so you might want to write the XML to a file=20 as you process your input. it seems pretty easy to implement. dom4j-user- files? the ------------------------------------------------------------------------- http://ad.doubleclick.net/clk;164216239;13503038;w?http : //sf.net/marketplace https://lists.sourceforge.net/lists/listinfo/dom4j-user http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Merging several XML-files</header>
    <date>Wed Jan 16 14:49:00 CET 2008</date>
    <body>The dom4j API more or less makes the assumption that you're loading the document into memory.(at least for the DOM part)  Something simple like you're doing is probably better addressed with XSLT.  Might want to I'm not sure, but dom4j with a pull parser MIGHT work for this.  My understanding is that a pull parser only loads what it needs from the document into memory, but I'm not sure if you clone an entire document if it loads that whole thing.  It would probably be easier and much Håkan Jacobsson wrote: cite="mid:23221135.52341200476598610.JavaMail.defaultUser@..." Yes, thats true. I could try this. Is there no way to do this kind of merging using the dom4j API? /Håkan Datum: 15-01-2008 16:29 Till: &amp;lt;a class="moz-txt-link-rfc2396E" href="mailto:dom4j-user@.... If your XML is that simple and nicely structured, you can extract the &amp;amp;lt;product&amp;amp;gt; sections and put them back to back and slap a &amp;amp;lt;rootelement&amp;amp;gt; &amp;amp;lt;/rootelement&amp;amp;gt; to the beginning and the end. If you keep the result in the memory, it's still going to be a large String, so you might want to write the XML to a file as you process your input. From: &amp;lt;a class="moz-txt-link-abbreviated" href="mailto:dom4j-user-bounces@...&amp;gt; [mailto: Sent: Tuesday, January 15, 2008 7:39 AM Subject: [dom4j-user] Merging several XML-files Hi, What would be the best approach to merging several XML Example: xml document 1: xml document 2: result.xml: That is, I just want to append all elements below the root element from file2, 3 etc. into file1 (just before the &amp;amp;lt;/rootelement&amp;amp;gt; tag). When all data from file2,3 etc.is appended I would append /Best regards, Håkan Jacobsson - System developer in Sweden It's the best place to buy or sell services for just about anything Open Source. http://ad.doubleclick.net/clk;164216239;13503038;w?http:"&amp;gt;http://ad.doubleclick.net/clk;164216239;13503038;w?http:&amp;lt;/a dom4j-user mailing list https://lists.sourceforge.net/lists/listinfo/dom4j-user"&amp;gt;https://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/a This SF.net email is sponsored by: Microsoft Defy all challenges. Microsoft(R) Visual Studio 2008. http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/"&amp;gt;http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/&amp;lt;/a _______________________________________________ dom4j-user mailing list https://lists.sourceforge.net/lists/listinfo/dom4j-user"&amp;gt;https://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/a ------------------------------------------------------------------------- This SF.net email is sponsored by: Microsoft Defy all challenges. Microsoft(R) Visual Studio 2008. http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/"&amp;gt;http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/&amp;lt;/a _______________________________________________ dom4j-user mailing list https://lists.sourceforge.net/lists/listinfo/dom4j-user"&amp;gt;https://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/a</body>
  </mail>
  <mail>
    <header>[dom4j-user] Merging several XML-files</header>
    <date>Tue Jan 15 12:39:00 CET 2008</date>
    <body>Hi, What would be the best approach to merging several XML files? The files are big, so I can't keep them in memory. Example: xml document 1: xml document 2: result.xml: That is, I just want to append all elements below the root=20 element from file2, 3 etc. into file1 (just before the=20 When all data from file2,3 etc.is appended I would append the=20 /Best regards, H=E5kan Jacobsson - System developer in Sweden</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Merging several XML-files</header>
    <date>Tue Jan 15 15:29:00 CET 2008</date>
    <body>SWYgeW91ciBYTUwgaXMgdGhhdCBzaW1wbGUgYW5kIG5pY2VseSBzdHJ1Y3R1cmVkLCB5b3UgY2Fu IHdyaXRlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgKG9yIHVzZSBzaW1pbGFyIHRleHQgb3BlcmF0aW9u cykgdG8gZXh0cmFjdCB0aGUgPHByb2R1Y3Q+IHNlY3Rpb25zIGFuZCBwdXQgdGhlbSBiYWNrIHRv IGJhY2sgYW5kIHNsYXAgYSA8cm9vdGVsZW1lbnQ+IDwvcm9vdGVsZW1lbnQ+IHRvIHRoZSBiZWdp bm5pbmcgYW5kIHRoZSBlbmQuIElmIHlvdSBrZWVwIHRoZSByZXN1bHQgaW4gdGhlIG1lbW9yeSwg aXQncyBzdGlsbCBnb2luZyB0byBiZSBhIGxhcmdlIFN0cmluZywgc28geW91IG1pZ2h0IHdhbnQg dG8gd3JpdGUgdGhlIFhNTCB0byBhIGZpbGUgYXMgeW91IHByb2Nlc3MgeW91ciBpbnB1dC4NCg0K SSBkb24ndCBrbm93IHRoYXQncyB0aGUgYmVzdCBhcHByb2FjaCBidXQgd2l0aCBhIHNpbXBsZSBY TUwsIGl0IHNlZW1zIHByZXR0eSBlYXN5IHRvIGltcGxlbWVudC4NCg0KTXV6YWZmZXINCg0KPiAt LS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBkb200ai11c2VyLWJvdW5jZXNAbGlz dHMuc291cmNlZm9yZ2UubmV0IFttYWlsdG86ZG9tNGotdXNlci0NCj4gYm91bmNlc0BsaXN0cy5z b3VyY2Vmb3JnZS5uZXRdIE9uIEJlaGFsZiBPZiBIw6VrYW4gSmFjb2Jzc29uDQo+IFNlbnQ6IFR1 ZXNkYXksIEphbnVhcnkgMTUsIDIwMDggNzozOSBBTQ0KPiBUbzogZG9tNGotdXNlckBsaXN0cy5z b3VyY2Vmb3JnZS5uZXQNCj4gU3ViamVjdDogW2RvbTRqLXVzZXJdIE1lcmdpbmcgc2V2ZXJhbCBY TUwtZmlsZXMNCj4NCj4gSGksDQo+DQo+IFdoYXQgd291bGQgYmUgdGhlIGJlc3QgYXBwcm9hY2gg dG8gbWVyZ2luZyBzZXZlcmFsIFhNTCBmaWxlcz8NCj4gVGhlIGZpbGVzIGFyZSBiaWcsIHNvIEkg Y2FuJ3Qga2VlcCB0aGVtIGluIG1lbW9yeS4NCj4gRXhhbXBsZToNCj4NCj4geG1sIGRvY3VtZW50 IDE6DQo+DQo+IDxyb290ZWxlbWVudD4NCj4gICAgPHByb2R1Y3Q+DQo+ICAgICAgICA8ZGF0YT5z b21lZGF0YTwvZGF0YT4NCj4gICAgPC9wcm9kdWN0Pg0KPiA8L3Jvb3RlbGVtZW50Pg0KPg0KPg0K Pg0KPiB4bWwgZG9jdW1lbnQgMjoNCj4NCj4gPHJvb3RlbGVtZW50Pg0KPiAgICA8cHJvZHVjdD4N Cj4gICAgICAgIDxkYXRhPnNvbWVvdGhlcmRhdGE8L2RhdGE+DQo+ICAgIDwvcHJvZHVjdD4NCj4g PC9yb290ZWxlbWVudD4NCj4NCj4NCj4NCj4gcmVzdWx0LnhtbDoNCj4NCj4gPHJvb3RlbGVtZW50 Pg0KPiAgIDxwcm9kdWN0Pg0KPiAgICAgICAgPGRhdGE+c29tZWRhdGE8L2RhdGE+DQo+ICAgIDwv cHJvZHVjdD4NCj4gIDxwcm9kdWN0Pg0KPiAgICAgICAgPGRhdGE+c29tZW90aGVyZGF0YTwvZGF0 YT4NCj4gICAgPC9wcm9kdWN0Pg0KPiA8L3Jvb3RlbGVtZW50Pg0KPg0KPg0KPiBUaGF0IGlzLCBJ IGp1c3Qgd2FudCB0byBhcHBlbmQgYWxsIGVsZW1lbnRzIGJlbG93IHRoZSByb290DQo+IGVsZW1l bnQgZnJvbSBmaWxlMiwgMyBldGMuIGludG8gZmlsZTEgKGp1c3QgYmVmb3JlIHRoZQ0KPiA8L3Jv b3RlbGVtZW50PiB0YWcpLg0KPiBXaGVuIGFsbCBkYXRhIGZyb20gZmlsZTIsMyBldGMuaXMgYXBw ZW5kZWQgSSB3b3VsZCBhcHBlbmQgdGhlDQo+IDwvcm9vdGVsZW1lbnQ+IHRhZy4NCj4NCj4gL0Jl c3QgcmVnYXJkcywgSMOla2FuIEphY29ic3NvbiAtIFN5c3RlbSBkZXZlbG9wZXIgaW4gU3dlZGVu DQo+DQo+DQo+DQo+DQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gQ2hlY2sgb3V0IHRoZSBuZXcgU291 cmNlRm9yZ2UubmV0IE1hcmtldHBsYWNlLg0KPiBJdCdzIHRoZSBiZXN0IHBsYWNlIHRvIGJ1eSBv ciBzZWxsIHNlcnZpY2VzIGZvcg0KPiBqdXN0IGFib3V0IGFueXRoaW5nIE9wZW4gU291cmNlLg0K PiBodHRwOi8vYWQuZG91YmxlY2xpY2submV0L2NsazsxNjQyMTYyMzk7MTM1MDMwMzg7dz9odHRw Oi8vc2YubmV0L21hcmtldHBsYWNlDQo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f X19fX19fX19fX19fX19fDQo+IGRvbTRqLXVzZXIgbWFpbGluZyBsaXN0DQo+IGRvbTRqLXVzZXJA bGlzdHMuc291cmNlZm9yZ2UubmV0DQo+IGh0dHBzOi8vbGlzdHMuc291cmNlZm9yZ2UubmV0L2xp c3RzL2xpc3RpbmZvL2RvbTRqLXVzZXINCg==</body>
  </mail>
  <mail>
    <header>[dom4j-user] w3c dtd</header>
    <date>Tue Jan 08 22:44:00 CET 2008</date>
    <body>For some reason our server is having errors connecting to w3c.org, and this is causing my dom4j apps to break.  I'd like to turn off validation and not parse an external DTD, but I also need to have the &amp;amp;nbsp; entity in my xhtml.  My coworker was saying that he had to use numeric entities, like &amp;amp;#160; for &amp;amp;nbsp; to be able to use DOM without a DTD.(he's not using dom4j though)  I was trying to use xerces and have the following code: //saxReader.setFeature(" http://xml.org/sax/features/namespaces ", //saxReader.setFeature(" http://apache.org/xml/features/nonvalidating/load-dtd-grammar ", saxReader.setFeature(" http://apache.org/xml/features/nonvalidating/load-external-dtd ", //saxReader.setFeature(" http://apache.org/xml/features/dom/include-ignorable-whitespace ", I don't know if it's xerces or dom4j, but somehow it ends up with a ? instead of a non-breaking space when I serialize the document with this code: Any suggestions are much appreciated. --Evan</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] w3c dtd</header>
    <date>Wed Jan 09 15:55:00 CET 2008</date>
    <body>Oops, w3.org, not w3c. Evan Kirkconnell wrote: http://xml.org/sax/features/namespaces ", http://apache.org/xml/features/nonvalidating/load-dtd-grammar ", http://apache.org/xml/features/nonvalidating/load-external-dtd ", http://apache.org/xml/features/dom/include-ignorable-whitespace ", http://ad.doubleclick.net/clk;164216239;13503038;w?http://sf.net/marketplace https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] w3c dtd</header>
    <date>Fri Jan 11 11:18:00 CET 2008</date>
    <body>&amp;gt; For some reason our server is having errors connecting to w3c.org, and You could provide your own entity resolver: http://java.sun.com/j2se/1.5.0/docs/api/org/xml/sax/EntityResolver.html You can use the entity resolver to point to a local copy of the DTD, or a subset of this DTD to resolve the entity references. Either use character references or declare the entities using an internal DTD subset. The problem is with the underlying XML parser (dom4j does not know anything about entity references). When an entity reference can not be resolved, the parser might replace it with a '?' character. http://www.w3.org/TR/REC-xml/#wf-entdeclared Kind regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] w3c dtd</header>
    <date>Fri Jan 11 14:34:00 CET 2008</date>
    <body>I may give that a whirl at some point.  Right now I've just hosted the dtd stuff locally.  Not sure if this is frowned upon, but it seems like it makes more sense than going out to w3 for every single request we Edwin Dankert wrote: cite="mid:43cdd0190801110318x2942f288p675e318360462f34@..." this is causing my dom4j apps to break.  I'd like to turn off validation and not parse an external DTD You could provide your own entity resolver: http://java.sun.com/j2se/1.5.0/docs/api/org/xml/sax/EntityResolver.html"&amp;gt;http://java.sun.com/j2se/1.5.0/docs/api/org/xml/sax/EntityResolver.html&amp;lt;/a You can use the entity resolver to point to a local copy of the DTD, or a subset of this DTD to resolve the entity references. saying that he had to use numeric entities, like &amp;amp;amp;#160; for &amp;amp;amp;nbsp; to be able to use DOM without a DTD.(he's not using dom4j though) Either use character references or declare the entities using an internal DTD subset. instead of a non-breaking space when I serialize the document The problem is with the underlying XML parser (dom4j does not know anything about entity references). When an entity reference can not be resolved, the parser might replace it with a '?' character. http://www.w3.org/TR/REC-xml/#wf-entdeclared"&amp;gt;http://www.w3.org/TR/REC-xml/#wf-entdeclared&amp;lt;/a Kind regards, Edwin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] w3c dtd</header>
    <date>Fri Jan 11 14:43:00 CET 2008</date>
    <body>&amp;gt; Right now I've just hosted the dtd stuff locally. Change the systemId to point to a local version is probably the simplest solution. Kind regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAX for html/css</header>
    <date>Thu Jan 03 13:26:00 CET 2008</date>
    <body>I realize this is slightly off-topic. Does anyone know of a parser for = html (including css) similiar to SAX for XML? Free or commercial is fine = but it does need to include source and have no run-time royalties. If anyone knows of a good one, please let me know. thanks - dave=20 =20</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] SAX for html/css</header>
    <date>Fri Jan 11 11:23:00 CET 2008</date>
    <body>You could try Jonathan Cowan's TagSoup: http://home.ccil.org/~cowan/XML/tagsoup/ Kind regards, Edwin Dankert -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Writing data in order</header>
    <date>Wed Jan 09 22:56:00 CET 2008</date>
    <body>Hi there, I'm traversing some folders on my disk and I'm creating a xml document out = of it and when I write the document to the disk, the order of elements is n= ot in the order of the traversal. Is there any way to write the xml in the = order the elements are added to the document ? Here is my code This code is called once This code is called for every folder and or a file Item.addElement("item").addElement("path").addText( In the end I call this method Thanks - Harjit _________________________________________________________________ Put your friends on the big screen with Windows Vista=AE + Windows Live=99. http://www.microsoft.com/windows/shop/specialoffers.mspx?ocid=3DTXT_TAGLM_C= PC_MediaCtr_bigscreen_012008=</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Writing data in order</header>
    <date>Fri Jan 11 10:47:00 CET 2008</date>
    <body>Element order in XML is very important and dom4j *does* write out the elements in the order you have specified them. I assume that there is a problem with the way you add the elements, please check your code. Kind regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] setStripWhitespaceText problem</header>
    <date>Fri Jan 11 10:45:00 CET 2008</date>
    <body>SAXReader.setStripWhitespaceText only strips full Text nodes which consist solely of white-space and no other characters. The following white-space Text Node will be 'stripped': The method does not remove any leading or trailing white-space from text nodes. Kind regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] adv: Design reports in Word or Excel</header>
    <date>Thu Jan 03 13:39:00 CET 2008</date>
    <body>We just added support for designing in Excel - details below: =20 Windward Reports, the leader in enterprise report generation, has = released the world's first enterprise reporting software that enables = use of Excel as a design tool. The Windward Reports Server Engine is = perfect for users creating both java reports and .net reports alike, and = now allows users to design reports in both Microsoft Word and Microsoft = Excel as well. Windward, a leader in with its design-in-Word reporting software because = of its ease of use, now adds the advantages of Excel to its portfolio of = simple-to-use, superior reporting products. Windward's new AutoTag 6.0 = reporting software uniquely uses Excel to intelligently figure out sums = and number formatting, and allows users to build a table which supports = calculations. AutoTag 6.0 still outputs to Word, or any other output = format, to produce reporting documents.=20 Why is this Excel release so important? Simply put: Freedom. By creating = an easy-to-use design tool which allows users to design their reports in = Excel (in addition to word), Windward is freeing up thousands of IT = man-hours normally allocated to report design, and including Excel = business users in their 'power-to the people' philosophy. Now, = non-technical business users who prefer Excel, can design their own = reports and stay within their comfort zone while doing so. Windward = Reports AutoTag for Excel doesn't just look like Excel, it IS Excel. How Does It Work? Begin with a worksheet. Using the AutoTag pull-down = menu, select a data source such as an SQL database or XML file. (AutoTag = works in conjunction with the Windward Reports Standard Server Engine, = which gives your PC the ability to communicate with your organization's = data sources, such as its SQL databases and XML files.) You use standard = Excel commands to format and edit the report, and you assign tags to the = data fields using the AutoTag pull-down menu. When finished, you save = your template and, if you wish, verify that tags are correct with = AutoTag's "validate" function. What makes this unique? With AutoTag for Excel, your number formatting = always carries through - it doesn't matter if you output to RTF, PDF, or = any other type. And, by using Excel templates you have a way to easily, = and automatically generate reports that perform calculations on a = collection of values! For instance, you might use Excel to sum all of = the line-item amounts that are generated by an AutoTag. While AutoTag = was always easy to use, this additional capability offers functions not = available in a word-designed template, allowing the software to be used = by more people, in more ways. When you generate the report Windward Reports merges this template with = the data you have selected. The finished report, with all of your = formatting, positioning and design, is available in minutes instead of = hours or even days. Download a demo or check out a sample report at = http://www.windwardreports.com . For more information on how you can use = Excel or Word to design your reports, call 303-499-2544.=20</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j correctly reads escaped characters,
	but writes them unescaped</header>
    <date>Thu Feb 28 16:03:00 CET 2008</date>
    <body>v 1.6.1; WinXP Input looks like: Output looks like: And similarly for "-" and other escape-worthy characters. The docs say that UTF-8 encoding is the default, and indeed whne I set that encoding explicitly, no change (i.e., same error). Is there a way to get dom4j to do this correctly? thanks, Paul</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] dom4j correctly reads escaped characters,
	but writes them unescaped</header>
    <date>Thu Feb 28 16:16:00 CET 2008</date>
    <body>It is not dom4j that changes the character-references, into characters, it is the underlying XML parser. The dom4j code actually never sees any of these character references. There is no way (that isn't a hack) to change this. However you can get dom4j to substitute characters into character-references when you write the XML by using the following method: XMLWriter.setMaximumAllowedCharacter() You should not really have to use this functionality, unless you use an encoding which does not support the specific character. Kind regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] VTD-XML 2.3</header>
    <date>Mon Feb 25 00:34:00 CET 2008</date>
    <body>VTD-XML 2.3 is now released. To download the latest version please visit http://sourceforge.net/project/showfiles.php?group_id=110612&amp;amp;package_id=120172 . Below is a list of new features and enhancements in this version. a.. VTDException is now introduced as the root class for all other VTD-XML's exception classes (per suggestion of Max Rahder). b.. Transcoding capability is now added for inter-document cut and paste. You can cut a chuck of bytes in a UTF-8 encoded document and paste it into a UTF-16 encoded document and the output document is still well-formed. c.. ISO-8859-10, ISO-8859-11, ISO-8859-12, ISO-8859-13, ISO-8859-14 and ISO-8859-15 support has now been added d.. Zero length Text node is now possible. e.. Ability to dump in-memory copy of text is added. f.. Various code cleanup, enhancement and bug fixes. Below are some new articles related to VTD-XML a.. Index XML documents with VTD-XML http://xml.sys-con.com/read/453082.htm b.. Manipulate XML content the Ximple Way http://www.devx.com/xml/Article/36379 c.. VTD-XML: A new vision of XML http://www.developer.com/xml/article.php/3714051 d.. VTD-XML: XML Processing for the future http://www.codeproject.com/KB/cs/vtd-xml_examples.aspx If you (or someone you know) like the concept of VTD-XML, think that it can help solve enterprises' XML processing related issues (particularly those related to SOA), and would like to directly influence and contribute to the development of the future of Internet, please email me crackeur@...). We are looking for open source software developers and project management people to take VTD-XML to the next level.</body>
  </mail>
  <mail>
    <header>[dom4j-user] VTD-XML 2.3 released</header>
    <date>Sat Feb 23 19:03:00 CET 2008</date>
    <body>VTD-XML 2.3 is now released. To download the latest version please visit http://sourceforge.net/project/showfiles.php?group_id=110612&amp;amp;package_id=120172 . Below is a list of new features and enhancements in this version. a.. VTDException is now introduced as the root class for all other VTD-XML's exception classes (per suggestion of Max Rahder). b.. Transcoding capability is now added for inter-document cut and paste. You can cut a chuck of bytes in a UTF-8 encoded document and paste it into a UTF-16 encoded document and the output document is still well-formed. c.. ISO-8859-10, ISO-8859-11, ISO-8859-12, ISO-8859-13, ISO-8859-14 and ISO-8859-15 support has now been added d.. Zero length Text node is now possible. e.. Ability to dump in-memory copy of text is added. f.. Various code cleanup, enhancement and bug fixes. Below are some new articles related to VTD-XML a.. Index XML documents with VTD-XML http://xml.sys-con.com/read/453082.htm b.. Manipulate XML content the Ximple Way http://www.devx.com/xml/Article/36379 c.. VTD-XML: A new vision of XML http://www.developer.com/xml/article.php/3714051 d.. VTD-XML: XML Processing for the future http://www.codeproject.com/KB/cs/vtd-xml_examples.aspx If you (or someone you know) like the concept of VTD-XML, think that it can help solve enterprises' XML processing related issues (particularly those related to SOA), and would like to directly influence and contribute to the development of the future of Internet, please email me crackeur@...). We are looking for open source software developers and project management people to take VTD-XML to the next level.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Do I need to worry about DOM Level 3 XPath?</header>
    <date>Fri Feb 22 20:13:00 CET 2008</date>
    <body>Hi Everyone, I'm new to XPath, and I am using dom4j which in turn uses Jaxen. I aable to use the API provided by dom4j to execute my XPath location pathexpressions and work with the result. But I've read that I should usethe "Dom Level 3 XPath" API in order to have an standard code. But Ican't really find any source that explains what is the importance of"Dom Level 3 XPath", who implements it, and how to use it except in thebook "Processing XML with Java"( http://www.cafeconleche.org/books/xmljava/chapters/ch16s06.html);howeverthat book is an old book. Now my questions are: 1. Do dom4j or Jaxen implement "Dom Level 3 XPath". 2. Do I need to worry about using it? What do experts do in practice. 3. If it is important to use "Dom Level 3 XPath," then is there asource that explains how to do this, specially in the context of dom4jand Jaxen. Thanks for your time and response, Mehrdad ____________________________________________________________________________________ Never miss a thing.  Make Yahoo your home page. http://www.yahoo.com/r/hs</body>
  </mail>
  <mail>
    <header>[dom4j-user] DTD Caching</header>
    <date>Mon Feb 11 16:08:00 CET 2008</date>
    <body>Does DOM4J have a setting or something for caching DTD's?  w3.org has started rejecting excessive dtd requests: http://www.w3.org/blog/systeam/2008/02/08/w3c_s_excessive_dtd_traffic</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to retrace object from XML.</header>
    <date>Tue Feb 05 07:45:00 CET 2008</date>
    <body>Hi all. I have a question, I am using dom4j to write/read XML.  I need to retrace some objects from XML. I tried to find solution in dom4j manual,  but seems have to hard code class name and propery name, and write those java code for every object. like this ----------- ----------- so I think there should have some easy and common way to retrace object from XML. but didn't find it now. anybody can give some information to me about how to make it? thanks. Joey.</body>
  </mail>
  <mail>
    <header>[dom4j-user] How to retrace object from XML.</header>
    <date>Tue Feb 05 08:39:00 CET 2008</date>
    <body>Hi all. I have a question, I am using dom4j to write/read XML.  I need to retrace some objects from XML. I tried to find solution in dom4j manual,  but seems have to hard code class name and property name, and write those java code for every object. like this ----------- ----------- so I think there should have some easy and common way to retrace object from XML. but didn't find it now. anybody can give some information to me about how to make it? thanks. Joey.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to retrace object from XML.</header>
    <date>Tue Feb 05 14:42:00 CET 2008</date>
    <body>If I'm understanding you correctly, what you need might be something like Castor or XmlBeans. Both can create Java objects from XML and vice versa based on a schema. -- Muzaffer http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] How to retrace object from XML.</header>
    <date>Tue Feb 05 15:48:00 CET 2008</date>
    <body>JOX and XStreams are some other options.&amp;amp;nbsp; If you don't need XML, then Java Object Serialization should be Ozakca, Muzaffer wrote: cite="mid:2C65F3F498AD2145B6A9C4B501D2F9A6129D761999@..." -- Muzaffer From: &amp;lt;a class="moz-txt-link-abbreviated" href="mailto:dom4j-user-bounces@...&amp;gt; [&amp;lt;a class="moz-txt-link-freetext" href="mailto:dom4j-user"&amp;gt;mailto:dom4j-user&amp;lt;/a&amp;gt;- Sent: Tuesday, February 05, 2008 2:46 AM Subject: [dom4j-user] How to retrace object from XML. Hi all. I have a question, I am using dom4j to write/read XML.  I need to retrace some objects from XML. I tried to find solution in dom4j manual,  but seems have to hard code class name and propery name, and write those java code for every object. like this ----------- ----------- so I think there should have some easy and common way to retrace object from XML. but didn't find it now. anybody can give some information to me about how to make it? thanks. Joey. ------------------------------------------------------------------------- This SF.net email is sponsored by: Microsoft Defy all challenges. Microsoft(R) Visual Studio 2008. http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/"&amp;gt;http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/&amp;lt;/a _______________________________________________ dom4j-user mailing list https://lists.sourceforge.net/lists/listinfo/dom4j-user"&amp;gt;https://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/a This SF.net email is sponsored by: Microsoft Defy all challenges. Microsoft(R) Visual Studio 2008. http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/"&amp;gt;http://clk.atdmt.com/MRT/go/vse0120000070mrt/direct/01/&amp;lt;/a _______________________________________________ dom4j-user mailing list https://lists.sourceforge.net/lists/listinfo/dom4j-user"&amp;gt;https://lists.sourceforge.net/lists/listinfo/dom4j-user&amp;lt;/a</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath functions</header>
    <date>Fri Mar 14 01:42:00 CET 2008</date>
    <body>Hi, Is it possible to use XPath functions in the XPath expression used in various functions of element or node? Meaning can I do something like this: element.attributeValue("name/substring-before(name,number)") OR element.attribute("name/substring-before(name,number)") Where name is the actual value of the attribute I'm trying to access. All my attempts returned null so far. Thanks Stelios</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath functions</header>
    <date>Fri Mar 14 11:41:00 CET 2008</date>
    <body>These methods take an attribute name, not an xpath expression. To be able to do something like that, you could have a look at using XPath expressions and implementing a VariableContext to resolve your variables. Kind regards, Edwin -- http://www.edankert.com/</body>
  </mail>
  <mail>
    <header>[dom4j-user] XMLWriter v 1.6.1 StringIndexOutOfBoundsException</header>
    <date>Fri Mar 14 00:20:00 CET 2008</date>
    <body>Hello, I found a minor StringIndexOutOfBoundsException bug in XMLWriter, release 1.6.1: Exception in thread "main" java.lang.StringIndexOutOfBoundsException: String index out of range: -1 at java.lang.String.charAt(String.java:558) at org.dom4j.io.XMLWriter.writeElementContent(XMLWriter.java:1074) at org.dom4j.io.XMLWriter.writeElement(XMLWriter.java:954) at org.dom4j.io.XMLWriter.writeNode(XMLWriter.java:1301) at org.dom4j.io.XMLWriter.writeElementContent(XMLWriter.java:1086) at org.dom4j.io.XMLWriter.writeElement(XMLWriter.java:954) at org.dom4j.io.XMLWriter.writeNode(XMLWriter.java:1301) at org.dom4j.io.XMLWriter.writeElementContent(XMLWriter.java:1086) at org.dom4j.io.XMLWriter.writeElement(XMLWriter.java:954) at org.dom4j.io.XMLWriter.writeNode(XMLWriter.java:1301) at org.dom4j.io.XMLWriter.writeElementContent(XMLWriter.java:1086) at org.dom4j.io.XMLWriter.writeElement(XMLWriter.java:954) at org.dom4j.io.XMLWriter.writeNode(XMLWriter.java:1301) at org.dom4j.io.XMLWriter.writeElementContent(XMLWriter.java:1086) at org.dom4j.io.XMLWriter.writeElement(XMLWriter.java:954) at org.dom4j.io.XMLWriter.writeNode(XMLWriter.java:1301) at org.dom4j.io.XMLWriter.writeElementContent(XMLWriter.java:1086) at org.dom4j.io.XMLWriter.writeElement(XMLWriter.java:954) at org.dom4j.io.XMLWriter.writeNode(XMLWriter.java:1301) at org.dom4j.io.XMLWriter.writeElementContent(XMLWriter.java:1086) at org.dom4j.io.XMLWriter.writeElement(XMLWriter.java:954) at org.dom4j.io.XMLWriter.writeNode(XMLWriter.java:1301) at org.dom4j.io.XMLWriter.writeElementContent(XMLWriter.java:1086) at org.dom4j.io.XMLWriter.writeElement(XMLWriter.java:954) at org.dom4j.io.XMLWriter.writeNode(XMLWriter.java:1301) at org.dom4j.io.XMLWriter.write(XMLWriter.java:344) ... Patch attached. Cheers, Ovidiu</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XMLWriter v 1.6.1 StringIndexOutOfBoundsException</header>
    <date>Fri Mar 14 00:24:00 CET 2008</date>
    <body>*** java/org/dom4j/io/XMLWriter.java	Thu Mar 13 17:20:59 2008 --- ../../dom4j-1.6.1.src/src/java/org/dom4j/io/XMLWriter.java	Mon May 16 14:28:44 2005 *************** public class XMLWriter extends XMLFilter *** 1071,1081 **** !                                 if (txtLength &amp;gt; 0) --- 1071,1077 ----</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to use xpath expresssions to create nodes</header>
    <date>Thu Apr 17 19:26:00 CEST 2008</date>
    <body>Is there a way to create and update xml by passing xpath expressions to dom4j. For example If I pass something like user/address/mailing. the output should be Thanks</body>
  </mail>
  <mail>
    <header>[dom4j-user] newbie character data question</header>
    <date>Fri May 23 15:00:00 CEST 2008</date>
    <body>We have input like this: ... ... I can quickly get to the div and the "p" using jdom and xpath, but then what I need to do is somehow iterate through the content so that it is split out like this: This is text have embedded formatting codes If i try getText() on the p node, I get "This is text  have embedded formatting codes". Any ideas? -- -- Michael LEXI-COMP CONFIDENTIALITY NOTICE The information in this electronic mail is intended for the named recipients only.  Any use of this information by anyone other than the intended receiver is prohibited.  If the reader of this message is not the intended recipient, you are hereby notified that any dissemination, distribution, copying, or other use of this message or its attachments is strictly prohibited.  If you have received this message in error, please notify the sender immediately by replying to this electronic e-mail or by calling 330-650-6506.  Please delete it from your computer.  Thank you.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem using xPath expression</header>
    <date>Fri May 09 05:48:00 CEST 2008</date>
    <body>Hi Jeff, selectNodes(String) is one of the methods inherited from interface org.dom4j.Node (see http://www.dom4j.org/apidocs/org/dom4j/Element.html ) The error is not the use of the method because it runs which any XPath expression, in fact the same XPath expression runs right if the text searched is the first child of the node in the XML tree. The problem is that selectNodes doesn't found the text if it is in any position different from the first. Adriana _____ De: Jeffrey F. Elrod [mailto:jfelrod1960@...] Enviado el: jueves, 08 de mayo de 2008 18:50 Para: Adriana Verdejo Asunto: Re: [dom4j-user] Problem using xPath expression Looks like you should have got a syntax error.  Looking at the Javadoc, I didn't see a selectNodes(String) method for type Element. Jeff ----- Original Message ---- To: dom4j-user@... Sent: Thursday, May 8, 2008 7:45:12 AM Subject: [dom4j-user] Problem using xPath expression Dear all, I am very confused because I use this XPath expression: "info[(contains(identification-info/keyword,"Cities"))]" in order to retrieve the below node and it runs ok, but if I use the XPath expression: "info[(contains(identification-info/keyword,"North"))]" doesn't run. My xml is: ... .... ... I mean when I am looking for a "info" whose "keyword" is not its first child I don't retrieve the node. Why???? I am using dom4j-1.6.1 and my code is: String xPath = "info[(contains(identification-info/keyword,"Europe"))]" where myXML is the Document wich contains the XML. When I run that, listNodes is empty. Is necessary any parameter in order to selectNodes search in every child and not only in the first? Thanks in advance and regards, Adriana</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem using xPath expression</header>
    <date>Thu May 08 11:45:00 CEST 2008</date>
    <body>Dear all, I am very confused because I use this XPath expression: "info[(contains(identification-info/keyword,"Cities"))]" in order to retrieve the below node and it runs ok, but if I use the XPath expression: "info[(contains(identification-info/keyword,"North"))]" doesn't run. My xml is: ... .... ... I mean when I am looking for a "info" whose "keyword" is not its first child I don't retrieve the node. Why???? I am using dom4j-1.6.1 and my code is: String xPath = "info[(contains(identification-info/keyword,"Europe"))]" where myXML is the Document wich contains the XML. When I run that, listNodes is empty. Is necessary any parameter in order to selectNodes search in every child and not only in the first? Thanks in advance and regards, Adriana</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j replaces &amp;lt; with inside of string setText &amp;gt;&amp;amp;lt;</header>
    <date>Tue Jun 10 15:25:00 CEST 2008</date>
    <body>Hey, I want to have angle rackets inside my one of my elements.  However, when I use setText("&amp;lt;![CDATA[...]]&amp;gt;"); It replaces the &amp;lt; &amp;gt; with &amp;amp;lt; and &amp;amp;gt; respectively.  How can I disable this feature? Thanks Michael</body>
  </mail>
  <mail>
    <header>[dom4j-user] validating XML using DocumentHelper (or a better way)?</header>
    <date>Mon Jun 09 17:06:00 CEST 2008</date>
    <body>This will work to validate a string-value as a valid XML document: Is there a better way within dom4j to do that -- i.e., some way that does not throw an Exception (which is a pretty expensive act)? thanks, Paul</body>
  </mail>
  <mail>
    <header>[dom4j-user] java.lang.NoClassDefFoundError:
	org.jaxen.NamespaceContext</header>
    <date>Mon Jul 28 17:38:00 CEST 2008</date>
    <body>I am trying to use the dom4j XPath API (as at http://www.dom4j.org/guide.html ), and the first thing that happens is "java.lang.NoClassDefFoundError: org.jaxen.NamespaceContext" -- apparently I need some more jars. I've found "jaxen" itself ( http://www.jaxen.org/index.html ), but what else will I need? thanks, Paul</body>
  </mail>
  <mail>
    <header>[dom4j-user] detecting self-closed tags</header>
    <date>Sat Aug 23 01:31:00 CEST 2008</date>
    <body>Hi I'm using dom4j to parse an XML template and then render it back out as XML after some transformation work. It is important that I be able to preserve tags that are *not* self-closed even if they have no nested content. For example: Is there any way to detect if a tag is self-closed from the dom4j Element interface? Thanks, Dhanji.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] detecting self-closed tags</header>
    <date>Mon Aug 25 15:17:00 CEST 2008</date>
    <body>Dhanji, I’m not sure if have gotten private replies to your questions but to me, this e-mail list looks dead. Many questions* go unanswered (unless of course they are answered off list – but that’s not the common practice I observed on many lists. many). I really like Dom4j and I use it for almost everything XML related but it might get really frustrating if you are doing something that is not documented well. There’s not much help you can get in that case… Anyways, I wanted to voice that here… * Most of the questions that get a reply are answered by Edwin Dankert, I noticed. Muzaffer From: dom4j-user-bounces@... [mailto:dom4j-user-bounces@...] On Behalf Of Dhanji R. Prasanna Sent: Friday, August 22, 2008 9:31 PM To: dom4j-user Subject: [dom4j-user] detecting self-closed tags Hi I'm using dom4j to parse an XML template and then render it back out as XML after some transformation work. It is important that I be able to preserve tags that are *not* self-closed even if they have no nested content. For example: Is there any way to detect if a tag is self-closed from the dom4j Element interface? Thanks, Dhanji.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] detecting self-closed tags</header>
    <date>Mon Aug 25 15:41:00 CEST 2008</date>
    <body>Hi, there is no way how to detect if a tag was self-closed in source form. There is no difference between &amp;lt;tag&amp;gt;&amp;lt;/tag&amp;gt; and &amp;lt;tag/&amp;gt; in XML. You probably need this for XHTML which (for compatibility with HTML) distinguish between these two forms. If it is this case you can use org.dom4j.io.HTMLWriter class, which knows which tags should be written in short form and which in long form. Sincerely, Filip Jirsák 2008/8/23 Dhanji R. Prasanna &amp;lt;dhanji@...&amp;gt;: http://moblin-contest.org/redirect.php?banner_id=100&amp;amp;url=/ https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Filip Jirsák filip@...</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] detecting self-closed tags</header>
    <date>Wed Aug 27 13:20:00 CEST 2008</date>
    <body>I stand corrected :) Muzaffer From: dom4j-user-bounces@... [mailto:dom4j-user-bounces@...] On Behalf Of Ozakca, Muzaffer Sent: Monday, August 25, 2008 11:05 AM To: Dhanji R. Prasanna; dom4j-user Subject: Re: [dom4j-user] detecting self-closed tags Dhanji, I’m not sure if have gotten private replies to your questions but to me, this e-mail list looks dead. Many questions* go unanswered (unless of course they are answered off list – but that’s not the common practice I observed on many lists. many). I really like Dom4j and I use it for almost everything XML related but it might get really frustrating if you are doing something that is not documented well. There’s not much help you can get in that case… Anyways, I wanted to voice that here… * Most of the questions that get a reply are answered by Edwin Dankert, I noticed. Muzaffer From: dom4j-user-bounces@... [mailto:dom4j-user-bounces@...] On Behalf Of Dhanji R. Prasanna Sent: Friday, August 22, 2008 9:31 PM To: dom4j-user Subject: [dom4j-user] detecting self-closed tags Hi I'm using dom4j to parse an XML template and then render it back out as XML after some transformation work. It is important that I be able to preserve tags that are *not* self-closed even if they have no nested content. For example: Is there any way to detect if a tag is self-closed from the dom4j Element interface? Thanks, Dhanji.</body>
  </mail>
  <mail>
    <header>[dom4j-user] Arief Widodo has invited you to join Friendster</header>
    <date>Wed Aug 27 12:54:00 CEST 2008</date>
    <body>You're invited to join Arief Widodo's network of friends. By joining Friendster, you can reconnect with old friends, meet new friends, start a blog, build a custom profile, keep track of birthdays, and so much more! You can even stay in touch if you move away, switch email addresses, or lose your mobile phone. Click below to join Arief's network. http://www.friendster.com/join.php?inviteref=12058005&amp;amp;amp;invite=zM6J5rBzjFp3kYzDHrfyZuUvZUT9-Wy-pGAT4eI3Krw*&amp;amp;amp;lang= ***************************************************************** If you do not wish to receive notification emails from Friendster, please click below: http://www.friendster.com/blockemails.php?invite=ZG9tNGotdXNlckBsaXN0cy5zb3VyY2Vmb3JnZS5uZXQ *</body>
  </mail>
  <mail>
    <header>[dom4j-user] parsing line numbers</header>
    <date>Sat Aug 23 01:08:00 CEST 2008</date>
    <body>Hi, First, dom4j is great. Second, I am using SAX parsing and would like to obtain document line number information associated with dom4j Elements (or Nodes). Is this possible? What's the best way to go about it? I tried searching the list but didnt turn up much. Any help is appreciated. Thanks! Dhanji.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] parsing line numbers</header>
    <date>Mon Aug 25 15:58:00 CEST 2008</date>
    <body>Hi Dhanji, you can override org.dom4j.DocumentFactory and you can insert yout own Locator2 (with setDocumentLocator() method) into org.dom4j.io.SAXContentHandler, so you can obtain location information from your Locator. Than you can read the location information from supplied Locator in DocumentFactory and write down this info at newly created node – into some Map, or you can override DefaultElement, DefaultAttribute and so on and write location information to your overriden instances of these classes. There is no way how to obtain the location information from DOM4J without overriding classes, because DOM representation of XML has no relationship with XML in file with lines and columns, so it doesn't make sense to store this information somewhere in DOM4J standard classes. Somethink like this: In DocumentFactoryWithLocator you will have methods like this: And so on… Sincerely, Filip Jirsák 2008/8/23 Dhanji R. Prasanna &amp;lt;dhanji@...&amp;gt;: http://moblin-contest.org/redirect.php?banner_id=100&amp;amp;url=/ https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Filip Jirsák filip@...</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] parsing line numbers</header>
    <date>Mon Aug 25 21:22:00 CEST 2008</date>
    <body>Hi Filip, Thanks for the replie(s). I ended up using an XMLFilter and doing roughly what you said above. Dhanji. On Tue, Aug 26, 2008 at 1:58 AM, Filip Jirsák &amp;lt;filip@...&amp;gt; wrote: http://moblin-contest.org/redirect.php?banner_id=100&amp;amp;url=/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] russian young little virgin naked russian preteen
	russian lolita pics</header>
    <date>Sun Aug 24 22:09:00 CEST 2008</date>
    <body>russian young little virgin naked russian preteen russian lolita pics ILLEGAL INCEST SEX DADDY FUCK very YOUNG DAUGHTER http://www.xd03.com/teenincest/ ILLEGAL LOLITA RAPE SEX http://www.xd03.com/rapesex/ VERY YOUNG LITTLE VIRGIN LOLITA NAKED http://teens.8teenz.info/ TEEN LOLITA ILLEGAL ANAL SEX http://www.xd03.com/asstraffic/ TEEN LOLITA MOVIE DOWNLOAD http://www.xd03.net/balancer/in.cgi YOUNG LOLITA TEEN PORN http://young-teen-porn.xd03.net/ VERY YOUNG TEEN LOLITA ASS FUCKING http://movies.asstrafficmovie.com/ ILLEGAL TEEN LOLITA PORN PICS, MOVIES AND VIDEOS http://little-lolitas.xd03.net FREE LOLITA ANAL FUCK http://www.fuck-channel.de/ ILLEGAL LOLITA TEEN SEX - LOLITA INCEST RAPE http://www.gefickt.biz BLONDE LOLITA GETS HER VIRGIN PUSSY BANGED http://young-teen-porn.xd03.net/verry-young-/teentwins.html TEEN LOLITA ILLEGAL ANAL SEX http://www.thevandal.com/ ILLEGAL TEEN LOLITA PORN PICS, MOVIES AND VIDEOS http://little-lolitas.xd03.net STARS NUDE FREE CELEBRITY PORN CELEBRITIES NUDE http://www.xd03.com/starsnude/ VERY YOUNG LITTLE VIRGIN NAKED http://www.8teens.info TEEN LOLITA SPERM MOVIE AND PICS http://www.xd03.com/sperm/ LOLITA SEXPICS AND ILLEGAL LOLITA MOVIES http://www.xd03.com/sexpics/ ILLEGAL TEEN LOLITA MOVIE DOWNLOAD http://www.xd03.com/starvideos/ 14,15,16 old illegal very young japanese virgin have sex african very young japanese little virgin naked asian illegal very young japanese virgin sex asian illegal very young japanese virgin sex links bbs japanese preteen child underage bbs japanese preteen illegal very young japanese virgin pedo lolis illegal very young japanese virgin sex bbs japanese preteen illegal very young japanese virgin illegal very young japanese virgin sex illegal very young japanese virgin bbs japanese preteen illegal very young japanese virgin sex bbs japanese preteen illegal very young japanese virgin sex bbs japanese preteen porn bbs japanese preteen illegal very young japanese virgin sex clips bbs japanese preteen illegal very young japanese virgin sex videos bbs japanese preteen pedofilia illegal very young japanese virgin sex bbs japanese preteen sex illegal very young japanese virgin bbs japanese preteen underage bbs japanese preteen illegal very young japanese virgin pedo lolis sex bbs japanese preteen very young japanese little virgin naked bbs japanese preteen young japanese girls underage bbs japanese preteen illegal very young japanese virgin pedo lolis sex boys gay sex underage bbs japanese preteen japanese lolita pedo lolis butt naked very young japanese little virgin cap d'agde naked children teenagers cartoon underage bbs japanese preteen japanese lolita pedo lolis sex child sex bbs japanese preteen illegal very young japanese virgin discourage underage bbs japanese preteen japanese lolita pedo lolis sex extreme illegal very young japanese virgin sex fat naked very young japanese little virgin foreign country under age japanese lolita sex pictures foreign country underground japanese lolita sex pictures free bbs japanese preteen underage bbs japanese preteen japanese lolita pedo lolis japanese lolita sex free child illegal very young japanese virgin sex free illegal underage bbs japanese preteen japanese lolita pedo lolis young japanese girl sex pics free illegal very young japanese virgin sex free illegal very young japanese virgin sex clips free illegal very young japanese virgin sex pics free underage bbs japanese preteen japanese lolita pedo lolis sex free underage bbs japanese preteen japanese lolita pedo lolis sex clips free underage bbs japanese preteen japanese lolita pedo lolis sex movies free underage bbs japanese preteen japanese lolita pedo lolis sex pics free underage bbs japanese preteen japanese lolita pedo lolis sex storie free underage bbs japanese preteen japanese lolita pedo lolis sex stories gay underage bbs japanese preteen japanese lolita pedo lolis sex hot illegal very young japanese virgin sex hot underage bbs japanese preteen illegal very young japanese virgin pedo lolis sex illegal bbs japanese preteen illegal very young japanese virgin sex illegal child amateur cams japanese lolita sex illegal child amateur japanese lolita sex cams illegal child amateur japanese lolita sex videos illegal child amateur japanese lolita sex webcams illegal child amateur underage bbs japanese preteen japanese lolita pedo lolis sex illegal child amateur webcams japanese lolita sex illegal illegal very young japanese virgin sex illegal underage bbs japanese preteen japanese lolita pedo lolis pedo sex pics illegal underage bbs japanese preteen japanese lolita pedo lolis sex illegal underage bbs japanese preteen japanese lolita pedo lolis sex pics illegal very young japanese virgin anal sex illegal very young japanese virgin bbs japanese preteen sex illegal very young japanese virgin bbs japanese preteen sex photos illegal very young japanese virgin cheerleader sex illegal very young japanese virgin child sex illegal very young japanese virgin girl sex illegal very young japanese virgin group sex illegal very young japanese virgin hardcore sex illegal very young japanese virgin pre teen sex illegal very young japanese virgin japanese sex illegal very young japanese virgin sex illegal very young japanese virgin sex galleries illegal very young japanese virgin sex illegal very young japanese virgin illegal very young japanese virgin sex movies illegal very young japanese virgin sex mpegs illegal very young japanese virgin sex party illegal very young japanese virgin sex pics illegal very young japanese virgin sex pics portals illegal very young japanese virgin sex pics stories illegal very young japanese virgin sex pictures illegal very young japanese virgin sex japanese illegal very young japanese virgin sex stories illegal very young japanese virgin sex top illegal very young japanese virgin sex underage bbs japanese preteen illegal very young japanese virgin pedo lolis illegal very young japanese virgin sex underage bbs japanese preteen illegal very young japanese virgin pedo lolis illegal illegal very young japanese virgin sex underage bbs japanese preteen illegal very young japanese virgin pedo lolis, bbs japanese preteen fuck illegal very young japanese virgin sex video illegal very young japanese virgin sex videos illegal very young japanese virgin sex webcam pictures illegal very young japanese virgin sex with dogs illegal very young japanese virgin sex young japanese illegal very young japanese virgin sex young japanese, young japaneseest sex illegal very young japanese virgin teen hardcore sex galleries incest rape illegal very young japanese virgin teen sex illegal very young japanese virgin teen sex pics illegal very young japanese virgin teen sex webcam pics illegal very young japanese virgin teen sex webcam pictures illegal very young japanese virgin tiny sex illegal very young japanese virgin young japaneseest girl sex innocent very young japanese little virgin naked japanese illegal very young japanese virgin sex little illegal very young japanese virgin sex little very young japanese little virgin naked little young japanese teen illegal very young japanese virgin sex naked 13 year old very young japanese little virgin naked african very young japanese little virgin naked bbs japanese preteen very young japanese little virgin naked cams illegal very young japanese virgin sex naked female very young japanese little virgin naked girl very young japanese little virgin naked in front of very young japanese little virgin naked japanese very young japanese little virgin naked lesbian very young japanese little virgin naked lesbien very young japanese little virgin naked little very young japanese little virgin naked male very young japanese little virgin naked molested very young japanese little virgin naked japanese very young japanese little virgin naked stories very young japanese little virgin memories naked tribal very young japanese little virgin naked underage bbs japanese preteen illegal very young japanese virgin pedo lolis very young japanese little virgin naked very young japanese little virgin naked very young japanese little virgin fucking naked very young japanese little virgin girl naked very young japanese little virgin girls naked very young japanese little virgin having sex naked very young japanese little virgin in the shower naked very young japanese little virgin models naked very young japanese little virgin models images naked very young japanese little virgin naturalist naked very young japanese little virgin naturist naked very young japanese little virgin peeing naked very young japanese little virgin photo gallery naked very young japanese little virgin photos naked very young japanese little virgin photos nl naked very young japanese little virgin pics naked very young japanese little virgin pictures naked very young japanese little virgin porn naked very young japanese little virgin sex naked web cams illegal very young japanese virgin sex naked webcams illegal very young japanese virgin sex naked young japanese very young japanese little virgin nude illegal very young japanese virgin sex pics nude naked very young japanese little virgin petite naked very young japanese little virgin photo naked very young japanese little virgin photos of naked very young japanese little virgin picks of naked very young japanese little virgin pictures of naked very young japanese little virgin pre illegal very young japanese virgin sex pre illegal very young japanese virgin sex pics real underage bbs japanese preteen illegal very young japanese virgin pedo lolis sex japanese family young japanese illegal very young japanese virgin sex japanese illegal very young japanese virgin hard sex japanese illegal very young japanese virgin sex japanese illegal very young japanese virgin sex pics japanese very young japanese little virgin naked sex bbs japanese preteen nude illegal very young japanese virgin sex illegal very young japanese virgin sex illegal very young japanese virgin child sex only young japanese boys naked illegal very young japanese virgin boy sex search machine underage bbs japanese preteen illegal very young japanese virgin pedo lolis sex underage bbs japanese preteen illegal very young japanese virgin pedo lolis sex underage bbs japanese preteen illegal very young japanese virgin pedo lolis videos sex with little underage bbs japanese preteen illegal very young japanese virgin pedo lolis girls sex with underage bbs japanese preteen illegal very young japanese virgin pedo lolis bbs japanese preteens sex with underage bbs japanese preteen illegal very young japanese virgin pedo lolis cousin sex with underage bbs japanese preteen illegal very young japanese virgin pedo lolis girls sexy naked very young japanese little virgin sexy petite tiny tits illegal very young japanese virgin sex pics sleeping very young japanese little virgin naked images taboo underage bbs japanese preteen illegal very young japanese virgin pedo lolis sex stories incest tiny illegal very young japanese virgin sex top illegal very young japanese virgin sex under age illegal very young japanese virgin sex underage bbs japanese preteen japanese lolita pedo lolis anal sex underage bbs japanese preteen japanese lolita pedo lolis animal sex underage bbs japanese preteen japanese lolita pedo lolis bbs japanese preteen gay boy sex underage bbs japanese preteen japanese lolita pedo lolis bbs japanese preteen sex underage bbs japanese preteen japanese lolita pedo lolis bbs japanese preteen sex videos underage bbs japanese preteen japanese lolita pedo lolis boy sex underage bbs japanese preteen japanese lolita pedo lolis boys having sex underage bbs japanese preteen japanese lolita pedo lolis boys sex underage bbs japanese preteen japanese lolita pedo lolis cartoon sex underage bbs japanese preteen japanese lolita pedo lolis child sex underage bbs japanese preteen japanese lolita pedo lolis child sex pictures best sites underage bbs japanese preteen japanese lolita pedo lolis children naked underage bbs japanese preteen japanese lolita pedo lolis free sex underage bbs japanese preteen japanese lolita pedo lolis gay sex underage bbs japanese preteen japanese lolita pedo lolis girl sex underage bbs japanese preteen japanese lolita pedo lolis girl sex gallery underage bbs japanese preteen japanese lolita pedo lolis girls fuck sex naked models underage bbs japanese preteen japanese lolita pedo lolis girls having sex underage bbs japanese preteen japanese lolita pedo lolis girls sex underage bbs japanese preteen japanese lolita pedo lolis girls sex pics underage bbs japanese preteen japanese lolita pedo lolis hardcore sex underage bbs japanese preteen japanese lolita pedo lolis illegal sex underage bbs japanese preteen japanese lolita pedo lolis kid sex underage bbs japanese preteen japanese lolita pedo lolis kids sex underage bbs japanese preteen japanese lolita pedo lolis lesbian sex underage bbs japanese preteen japanese lolita pedo lolis japanese lolita sex underage bbs japanese preteen japanese lolita pedo lolis japanese lolita sex bbs underage bbs japanese preteen japanese lolita pedo lolis japanese lolita sex pictures underage bbs japanese preteen japanese lolita pedo lolis japanese lolitas sex underage bbs japanese preteen japanese lolita pedo lolis models having sex underage bbs japanese preteen japanese lolita pedo lolis phone sex underage bbs japanese preteen japanese lolita pedo lolis pre teens japanese lolita sex underage bbs japanese preteen japanese lolita pedo lolis japanese girl in sex underage bbs japanese preteen japanese lolita pedo lolis japanese sex underage bbs japanese preteen japanese lolita pedo lolis sex underage bbs japanese preteen japanese lolita pedo lolis sex bbs underage bbs japanese preteen japanese lolita pedo lolis sex bbs japanese preteen underage bbs japanese preteen japanese lolita pedo lolis sex clips underage bbs japanese preteen japanese lolita pedo lolis sex free underage bbs japanese preteen japanese lolita pedo lolis sex galleries underage bbs japanese preteen japanese lolita pedo lolis sex gallery underage bbs japanese preteen japanese lolita pedo lolis sex girls underage bbs japanese preteen japanese lolita pedo lolis sex illegal underage bbs japanese preteen japanese lolita pedo lolis sex images underage bbs japanese preteen japanese lolita pedo lolis sex in foreign films underage bbs japanese preteen japanese lolita pedo lolis sex japanese lolita illegal underage bbs japanese preteen japanese lolita pedo lolis sex japanese lolita top underage bbs japanese preteen japanese lolita pedo lolis sex movies underage bbs japanese preteen japanese lolita pedo lolis sex nude underage bbs japanese preteen japanese lolita pedo lolis sex pedo underage bbs japanese preteen japanese lolita pedo lolis sex pic underage bbs japanese preteen japanese lolita pedo lolis sex pics underage bbs japanese preteen japanese lolita pedo lolis sex pictures underage bbs japanese preteen japanese lolita pedo lolis sex sites underage bbs japanese preteen japanese lolita pedo lolis sex stories underage bbs japanese preteen japanese lolita pedo lolis sex top sites underage bbs japanese preteen japanese lolita pedo lolis sex video underage bbs japanese preteen japanese lolita pedo lolis sex videos underage bbs japanese preteen japanese lolita pedo lolis sex vids underage bbs japanese preteen japanese lolita pedo lolis taboo sex sites underage bbs japanese preteen japanese lolita pedo lolis teen sex underage bbs japanese preteen japanese lolita pedo lolis teen sex pictures underage bbs japanese preteen japanese lolita pedo lolis teen sex young japanese child sex underage bbs japanese preteen japanese lolita pedo lolis teen sex, young japanese child sex underage bbs japanese preteen japanese lolita pedo lolis teenage sex underage bbs japanese preteen japanese lolita pedo lolis teens having sex underage bbs japanese preteen japanese lolita pedo lolis teens sex underground illegal very young japanese virgin sex very young japanese illegal very young japanese virgin sex very young japanese little virgin girls naked very young japanese little virgin kids naked nude very young japanese little virgin naked very young japanese little virgin naked gallery very young japanese little virgin naked in house very young japanese little virgin naked pics very young japanese little virgin naked pictures very young japanese little virgin nude photo pics naked very young japanese little virgin peeing naked very young japanese little virgin sleeping naked what country is underage bbs japanese preteen illegal very young japanese virgin pedo lolis sex legal young japanese illegal very young japanese virgin sex young japanese illegal very young japanese virgin sex big tits young japanese illegal very young japanese virgin sex massive tits young japanese illegal very young japanese virgin sex pics young japanese naked very young japanese little virgin young japanese tender illegal very young japanese virgin sex young japanese underage bbs japanese preteen illegal very young japanese virgin pedo lolis sex young japanese very young japanese little virgin naked young japaneseest illegal very young japanese virgin girls sex videos</body>
  </mail>
  <mail>
    <header>[dom4j-user] generate XML using XPath</header>
    <date>Fri Aug 15 18:43:00 CEST 2008</date>
    <body>I read somewhere that Dom4J can generate an XML node or fragment using XPath. I am aware that XPath is not primarily designed for such use. But, Can XPath be used to create and add nodes to XML. What I’m looking for is like being able to specify something like: “a/b/c” to generate a tree equivalent to: How to do that (without parsing the text of XPath and creating nodes programmatically, that is)? Thanks, Muzaffer</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] generate XML using XPath</header>
    <date>Fri Aug 15 19:13:00 CEST 2008</date>
    <body>Some more research revealed that there is a makeElement method in the DocumentHelper class. It looks like it only supports simple paths made up of element names. I needed something that can create attributes as well. It looks like no such thing exists. Muzaffer From: dom4j-user-bounces@... [mailto:dom4j-user-bounces@...] On Behalf Of Ozakca, Muzaffer Sent: Friday, August 15, 2008 2:43 PM To: dom4j-user@... Subject: [dom4j-user] generate XML using XPath I read somewhere that Dom4J can generate an XML node or fragment using XPath. I am aware that XPath is not primarily designed for such use. But, Can XPath be used to create and add nodes to XML. What I’m looking for is like being able to specify something like: “a/b/c” to generate a tree equivalent to: How to do that (without parsing the text of XPath and creating nodes programmatically, that is)? Thanks, Muzaffer</body>
  </mail>
  <mail>
    <header>[dom4j-user] Dom4J dependency on Jaxen</header>
    <date>Tue Aug 05 15:33:00 CEST 2008</date>
    <body>Hi, I have what I suppose is an odd request. I am a project lead for a new Eclipse Foundation project ORMF. My company wrote the code that forms the initial contribution to the project. That code makes extensive use of both Dom4J and Jaxen. The Eclipse Foundation does IP due diligence on all third party libraries used in project. Dom4J has already been approved and is being used in several Eclipse projects. Requests to use Jaxen, however, have repeated not passed due diligence.  That leaves the ORMF project with a problem; how do we replace all of our Dom4J based xpath code with an alternative that is acceptable to the foundation? Any advice or suggestions would be very much appreciated. All the best, Joel P   Please consider the environment before printing this e-mail. Thank you. Joel Rosi-Schwartz                      Joel.Rosi-Schwartz@... Etish Limited http://www.etish.org/ ORMF and Useme http://www.eclipse.org/ormf</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPaths and default namespaces</header>
    <date>Mon Sep 29 15:25:00 CEST 2008</date>
    <body>Hi! I'm using dom4j's great XPath processing to do extensive unit testing of XHTML. Changing the pages to be explicitly XHTML broke all my XPaths, and I'm wondering how to fix that. Ideally, I'd like the default namespace in my documents to be the default namespace in my XPaths. For starters, let me explain the situation. Consider this simple document: You could test for the presence of the paragraph like this: However, suppose I add the proper doctype: " http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd And then start the document like this: http://www.w3.org/1999/xhtml Suddenly, my test fails! The XPath no longer matches. This has been discussed in the archives before. The solution mentioned is to set it up so that the XPaths have an explicit namespace, and then to set a namespace map in the DocumentFactory. But for me, that would require changing hundreds of test assertions, and in a way that would make them harder to read. Is there some way I can fix this without changing my tests? I tried explicitly telling the DocumentFactory that "" should map to the XHTML namespace, and in the debugger it looks like the Document object has that right. But I still can't do a selectNodes call and have it return anything. Any help is appreciated. Thanks, William</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPaths and default namespaces</header>
    <date>Mon Sep 29 16:13:00 CEST 2008</date>
    <body>Hi William, I think it is not possible to use namespace with non-null URI with empty prefix. There is notice "In XPath 1.0, all unprefixed names are unqualified." in Jaxen FAQ (Jaxen is XPath engine used by dom4j). I skim throught the Jaxen sources -- it seems everytime Jaxen see empty Xpath namespace prefix it skips prefix-to-uri namespace mappings. I'm sorry but I think the notice mentioned above is right and you cannot use unprefixed name with non-empty namespace URI. Best regards, Filip 2008/9/29 William Pietri &amp;lt;william@...&amp;gt;: http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd http://www.w3.org/1999/xhtml</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPaths and default namespaces</header>
    <date>Mon Sep 29 17:10:00 CEST 2008</date>
    <body>I believe you can leave your assertion the way it is. Consider this piece of code: String input = "&amp;lt;catalog xmlns=' http://www.edankert.com/examples/ '&amp;gt;" + "&amp;lt;cd&amp;gt;" + "&amp;lt;artist&amp;gt;Sufjan Stevens&amp;lt;/artist&amp;gt;" + "&amp;lt;title&amp;gt;Illinois&amp;lt;/title&amp;gt;" + http://www.sufjan.com/&amp;lt;/src &amp;gt;" + "&amp;lt;/cd&amp;gt;" + "&amp;lt;cd&amp;gt;" + "&amp;lt;artist&amp;gt;Stoat&amp;lt;/artist&amp;gt;" + "&amp;lt;title&amp;gt;Future come and get me&amp;lt;/title&amp;gt;" + http://www.stoatmusic.com/&amp;lt;/src &amp;gt;" + "&amp;lt;/cd&amp;gt;" + "&amp;lt;cd&amp;gt;" + "&amp;lt;artist&amp;gt;The White Stripes&amp;lt;/artist&amp;gt;" + "&amp;lt;title&amp;gt;Get behind me satan&amp;lt;/title&amp;gt;" + http://www.whitestripes.com/&amp;lt;/src &amp;gt;" + "&amp;lt;/cd&amp;gt;" + map.put( "edx", " http://www.edankert.com/examples/ It will print out the 3 cd elements. The important thing is to provide the default namespace to the XPath engine. Isabelle William Pietri wrote: http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd http://www.w3.org/1999/xhtml http://moblin-contest.org/redirect.php?banner_id=100&amp;amp;url=/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen 1.1.1</header>
    <date>Mon Sep 08 18:46:00 CEST 2008</date>
    <body>FWIW, I downloaded JAXEN 1.1.1 from here http://jaxen.codehaus.org/ and have been happily using it to parse small XPATH-queries for a few months, no problems at all. -Paul -----Original Message-----</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen 1.1.1</header>
    <date>Mon Sep 08 19:42:00 CEST 2008</date>
    <body>So, any DOM4J developers following, is there going to be a release with the newer jaxen? http://jaxen.codehaus.org/ and have http://moblin-contest.org/redirect.php?banner_id=100&amp;amp;url=/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen 1.1.1</header>
    <date>Tue Sep 09 05:59:00 CEST 2008</date>
    <body>I prepare dom4j 2.0, which will be compatible with Java 5 - and there will be Jaxen 1.1.1. I started work on it before summer holidays and it still needs some work to be able to publish first alpha version. I personally mean not to continue in development of version 1.6.x as Java 1.4 compatible version. But it is good idea to release version 1.6.2 with no changes in dom4j source code but with stable versions of dependencies. Filip Jirsák 2008/9/8 Ozakca, Muzaffer &amp;lt;mozakca@...&amp;gt;: http://jaxen.codehaus.org/ and have</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen 1.1.1</header>
    <date>Tue Sep 09 09:36:00 CEST 2008</date>
    <body>Thank you all, I will give it a try. Isabelle</body>
  </mail>
  <mail>
    <header>[dom4j-user] Jaxen 1.1.1</header>
    <date>Mon Sep 08 16:21:00 CEST 2008</date>
    <body>Has Dom4J 1.6.1 been tested with Jaxen 1.1.1? The download still contains jaxen 1.1-beta-6. If I should continue using the 1.1-beta-6, can anyone point me at a location where I could download the jaxen sources for that version? Thanks, Isabelle</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Jaxen 1.1.1</header>
    <date>Mon Sep 08 16:31:00 CEST 2008</date>
    <body>Hello, I don't know about any complex tests of dom4j with Jaxen 1.1.1. I use myself dom4j with Jaxen 1.1 and haven't found any problem yet. I think using with Jaxen 1.1.1 is safe as well. Yours sincerely, Filip Jirsák 2008/9/8 Isabelle Muszynski &amp;lt;isabelle.muszynski@...&amp;gt;: http://moblin-contest.org/redirect.php?banner_id=100&amp;amp;url=/ https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Filip Jirsák filip@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] [dom4j 1.6.1] Encoding Problem</header>
    <date>Mon Oct 27 22:56:00 CET 2008</date>
    <body>Hi I'm Alessio, I have a problem of encoding with files XML. I need to read an XML file and split it into XML n-files so I read it with SAXReader, I create n-new files and I write into them with SAXWriter. Those files aren't XML valid because contain some characters are not into the encoding type, UTF-8. What's wrong ? Thanks a lot Alessio</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] [dom4j 1.6.1] Encoding Problem</header>
    <date>Tue Oct 28 07:02:00 CET 2008</date>
    <body>Hi Alession, when you write your data, it is a good idea not to write it directly to a stream/file, but instead use an OutputStreamWriter which does the charset conversion for you. See code below. -- Richard /** * Writes the document to the given stream. The caller is responsible for * closing the stream afterwards. * * @param fow * @param doc * @throws IOException */ static public void dumpToStream( OutputStream fow, Document doc) throws IOException Writer osw = new BufferedWriter( XMLWriter writer = new XMLWriter(osw, Am 27.10.2008 um 22:47 schrieb Alessio Camaroto: http://moblin-contest.org/redirect.php?banner_id=100&amp;amp;url=/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Adding XPath support via JAXP</header>
    <date>Sun Oct 12 13:39:00 CEST 2008</date>
    <body>Hi, First apologies for spamming both lists, but I noticed that the dev list is not used a great deal. I am representing the Eclipse Foundation (EF) in an effort to use dom4j in its full glory within EF projects. The EF is very careful about the IP pedigree of all third party libraries used in EF projects. There is no problem with dom4j itself and in fact it has been approved for reuse for sometime now. The problem is with the XPath support dependency on Jaxen. The EF has tried several times to communicate with the Jaxen team to confirm some IP related issues, but have failed to receive a reply. I have therefore decide that the way forward is to attempt to add JAXP support for the XPath functionality. Would the Dom4J team be willing to co-operate with us in accomplishing this? I do not think it is a matter of replacing Jaxen, but rather to add another means of supporting XPath. A test can then be performed at runtime to determine if Jaxen is available and if not use JAXP if it is. We would very much appreciate any assistance you folks could give us in this matter. All the best, Joel</body>
  </mail>
  <mail>
    <header>[dom4j-user] [dom4j 1.6.1] DOCTYPE html PUBLIC....2</header>
    <date>Sat Nov 08 09:06:00 CET 2008</date>
    <body>Sorry for prev format mail. I need to create a file XML like this: " http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd http://www.w3.org/1999/xhtml " xmlns:ore=" http://www.openarchives.org/ore/terms/ " xmlns:dc=" http://purl.org/dc/elements/1.1/ " xmlns:dcterms=" http://purl.org/dc/terms/ " xmlns:foaf=" http://xmlns.com/foaf/0.1/ " xmlns:xsd=" http://www.w3.org/2001/XMLSchema# " xmlns:rdf=" http://www.w3.org/1999/02/22-rdf-syntax-ns# " xmlns:rdfs=" http://www.w3.org/2000/01/rdf-schema# " version="XHTML+RDFa 1.0" I try with this code but It doesn't work: Element doctype = documentFactory.createElement("!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML+RDFa 1.0//EN\" \" http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd Element root = doc.addElement(QName.get("html",""," http://www.w3.org/1999/xhtml ")). addNamespace("xmlns:ore"," http://www.openarchives.org/ore/terms/ "). addNamespace("xmlns:dc"," http://purl.org/dc/elements/1.1/ "). addNamespace("xmlns:dcterms"," http://purl.org/dc/terms/ "). addNamespace("xmlns:xsd"," http://www.w3.org/2001/XMLSchema# "). addNamespace("xmlns:foaf"," http://xmlns.com/foaf/0.1/ "). addNamespace("xmlns:rdfs"," http://www.w3.org/2000/01/rdf-schema# "). addNamespace("xmlns:rdf"," http://www.w3.org/1999/02/22-rdf-syntax-ns# "). addNamespace("xmlns:eptype"," http://purl.org/eprint/type/ "). addNamespace("xmlns:repo","info:eu-repo/semantics/"). addNamespace("version","XHTML+RDFa 1.0"). What's wrong ? Thanks a lot Alessio P.S. I have the follow exception: org.dom4j.IllegalAddException: The node "org.dom4j.tree.DefaultElement@... [Element: &amp;lt;html uri: http://www.w3.org/1999/xhtml attributes: []/&amp;gt;]" could not be added to the branch "null" because: Cannot add another element to this Document as it already has a root element of: !DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN" " http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd "</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] [dom4j 1.6.1] DOCTYPE html PUBLIC....2</header>
    <date>Sat Nov 08 09:35:00 CET 2008</date>
    <body>Hello, following code instead: doc.addDocType("html", "-//W3C//DTD XHTML+RDFa 1.0//EN", " http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd … Or may be order of params should be different, the important think is addDocType() method or DocumentType object. Filip Jirsák 2008/11/8 Alessio Camaroto &amp;lt;alessio.camaroto@...&amp;gt;: http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd http://www.w3.org/1999/xhtml " http://www.openarchives.org/ore/terms/ " http://purl.org/dc/elements/1.1/ " http://purl.org/dc/terms/ " http://xmlns.com/foaf/0.1/ " http://www.w3.org/2001/XMLSchema# " http://www.w3.org/1999/02/22-rdf-syntax-ns# " http://www.w3.org/2000/01/rdf-schema# " http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd http://www.w3.org/1999/xhtml ")). http://www.openarchives.org/ore/terms/ "). http://purl.org/dc/elements/1.1/ "). http://purl.org/dc/terms/ "). http://www.w3.org/2001/XMLSchema# "). http://xmlns.com/foaf/0.1/ "). http://www.w3.org/2000/01/rdf-schema# "). http://www.w3.org/1999/02/22-rdf-syntax-ns# "). http://purl.org/eprint/type/ "). http://www.w3.org/1999/xhtml attributes: []/&amp;gt;]" could not be added to the http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd " http://moblin-contest.org/redirect.php?banner_id=100&amp;amp;url=/ https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Filip Jirsák filip@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] [dom4j 1.6.1] DOCTYPE html PUBLIC....</header>
    <date>Sat Nov 08 08:58:00 CET 2008</date>
    <body>Hi I'm Alessio, I have to create a file xml like this: " http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd http://www.w3.org/1999/xhtml " xmlns:ore=" http://www.openarchives.org/ore/terms/ " version="XHTML+RDFa 1.0" ... I try to this but It doesn't work: Element doctype = documentFactory.createElement("!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML+RDFa 1.0//EN\" \" http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd Element root = doc.addElement(QName.get("html",""," http://www.w3.org/1999/xhtml ")). addNamespace("xmlns:ore"," http://www.openarchives.org/ore/terms/ "). addNamespace("xmlns:dc"," http://purl.org/dc/elements/1.1/ "). addNamespace("xmlns:dcterms"," http://purl.org/dc/terms/ "). addNamespace("xmlns:xsd"," http://www.w3.org/2001/XMLSchema# "). addNamespace("xmlns:foaf"," http://xmlns.com/foaf/0.1/ "). addNamespace("xmlns:rdfs"," http://www.w3.org/2000/01/rdf-schema# "). addNamespace("xmlns:rdf"," http://www.w3.org/1999/02/22-rdf-syntax-ns# "). addNamespace("xmlns:eptype"," http://purl.org/eprint/type/ "). addNamespace("xmlns:repo","info:eu-repo/semantics/"). addNamespace("version","XHTML+RDFa 1.0"). What's wrong ? Thanks a lot Alessio P.S. (RDF/XML-ABBREV)/org.dom4j.IllegalAddException: The node "org.dom4j.tree.DefaultElement@... [Element: &amp;lt;html uri: http://www.w3.org/1999/xhtml attributes: []/&amp;gt;]" could not be added to the branch "null" because: Cannot add another element to this Document as it already has a root element of: !DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN" " http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd "</body>
  </mail>
  <mail>
    <header>[dom4j-user] Document.parseText(record) throws DocumentException</header>
    <date>Sun Nov 02 22:16:00 CET 2008</date>
    <body>I try to parse the follow xml file: http://www.openarchives.org/OAI/2.0/ " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation=" http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd identifier="oai:uni-muenster.de:2599::1-3e33ba6f-1c06-4840-ae8a-4c0511a16bc5" http://oai.demo.driver.research-infrastructures.eu/oai&amp;lt;/request http://www.openarchives.org/OAI/2.0/oai_dc/ " xmlns:dc=" http://purl.org/dc/elements/1.1/ " xsi:schemaLocation=" http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd http://miami.uni-muenster.de/resolver/urn:nbn:de:hbz:6-85609664301 durch einen Anstieg oxidativer Vorgänge aus. Die vorliegenden Ergebnisse zeigen unterschiedliche Orte der Radikalproduktion in der Signaltransduktion der AR42J-Zelle auf. Nachdem CCK an seinen Rezeptor gebunden hat, kommt es zur Gi-unabhängigen PKA-Aktivierung. PKA führt zu einer Aktivierung der PLC ß. Das entstehende InsP3 erhöht die cytoplasmatische Kalzium-Konzentration, was zur Entstehung von Radikalen führt. Es konnte weiterhin gezeigt werden, dass Bombesin ähnliche Effekte auf die Radikalentstehung hat wie CCK, was für eine trypsinunabhängige Radikalentstehung spricht. Nach Hemmung der mitochondrialen gleichzeitig mit der durch Kalzium entstehenden Radikale wird die CCK-induzierte Radikalentstehung vollends unterbunden. Immunhistochemisch konnte nachgewiesen werden, dass es nach CCK-Stimulation zur DNA-Oxidation kommt, welche durch Anwesenheit von NO Radikalen I use DocumentHelper.parseText(record) but it throws the follow exception org.dom4j.DocumentException: Error on line 2 of document  : The processing instruction target matching "[xX][mM][lL]" is not allowed. Nested exception: The processing instruction target matching "[xX][mM][lL]" is not allowed. What's wrong ? Thanks a lot Alessio</body>
  </mail>
  <mail>
    <header>[dom4j-user] [ANN] VTD-XML extended edition released</header>
    <date>Sun Nov 02 23:55:00 CET 2008</date>
    <body>The Java version of extended VTD-XmL is released and available for download. This version supports 256 GB max file sizes and memory mapped capabilities. The updated documentation is also available for download. In short, you can basically do full XPath query on documents that are bigger than memory space available on your machine. A special thanks to Duane May who provided value suggestions and inputs and helped refine the VTD specs to make this happen. To download the package and the documentation, go to https://sourceforge.net/project/downloading.php?group_id=110612&amp;amp;use_mirror=&amp;amp;filename=vtd-xml_2.4_doc.zip&amp;amp;64621261 https://sourceforge.net/project/downloading.php?group_id=110612&amp;amp;use_mirror=&amp;amp;filename=ximpleware_extended_2.4.zip&amp;amp;99532507</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Document.parseText(record) throws DocumentException</header>
    <date>Mon Nov 03 11:27:00 CET 2008</date>
    <body>Can you save the string you pass in parseText() into file and attach it to e-mail? I copied XML from text of your e-mail and it worked for me... Filip Jirsák 2008/11/3 Alessio Camaroto &amp;lt;alessio.camaroto@...&amp;gt;: http://www.openarchives.org/OAI/2.0/ " http://www.w3.org/2001/XMLSchema-instance " http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd http://oai.demo.driver.research-infrastructures.eu/oai&amp;lt;/request http://www.openarchives.org/OAI/2.0/oai_dc/ " http://purl.org/dc/elements/1.1/ " http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd http://miami.uni-muenster.de/resolver/urn:nbn:de:hbz:6-85609664301&amp;lt;/dc:identifier http://moblin-contest.org/redirect.php?banner_id=100&amp;amp;url=/ https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Filip Jirsák filip@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] Namespace trouble</header>
    <date>Sat Nov 01 10:42:00 CET 2008</date>
    <body>Hi I'm Alessio, I have a problem with XML Namespaces. I need to write an XML file with the follow namespace "xmlns= http://www.w3.org/2005/Atom " but if I use the standard API's I obtain: - xmlns:xmlns=" http://www.w3.org/2005/Atom " --&amp;gt; with prefix="xmlns" and suffix=" http://www.w3.org/2005/Atom " values or - xmlns=" http://www.w3.org/2005/Atom only suffix=" http://www.w3.org/2005/Atom " value Is there a solution to my problem ? What's wrong ? Thanks a lot Alessio</body>
  </mail>
  <mail>
    <header>[dom4j-user]  Namespace trouble</header>
    <date>Sat Nov 01 20:22:00 CET 2008</date>
    <body>Hello, can you give us example of your source code? I think this should work as you expect: Namespace ns = documentFactory.createNamespace(null, " http://www.w3.org/2005/Atom Filip Jirsák 2008/11/1 Alessio Camaroto &amp;lt;alessio.camaroto@...&amp;gt;: http://www.w3.org/2005/Atom " but if I use the http://www.w3.org/2005/Atom " --&amp;gt; with prefix="xmlns" and http://www.w3.org/2005/Atom " values http://www.w3.org/2005/Atom http://www.w3.org/2005/Atom " value http://moblin-contest.org/redirect.php?banner_id=100&amp;amp;url=/ https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Filip Jirsák filip@... -- Filip Jirsák filip@...</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Namespace trouble</header>
    <date>Sun Nov 02 10:15:00 CET 2008</date>
    <body>I'm sorry, it seems Document.Factory.createNamespace() works slightly different from new Namespace(). So instead of null namespace prefix use empty string: Namespace ns = documentFactory.createNamespace("", " http://www.w3.org/2005/Atom Following code works for me: Namespace ns = documentFactory.createNamespace(""," http://www.w3.org/2005/Atom Output of this code is: http://www.w3.org/2005/Atom"/ Filip Jirsák 2008/11/2 Alessio Camaroto &amp;lt;alessio.camaroto@...&amp;gt;: http://www.w3.org/2005/Atom http://www.w3.org/2005/Atom " but if I use the http://www.w3.org/2005/Atom " --&amp;gt; with prefix="xmlns" and http://www.w3.org/2005/Atom " values http://www.w3.org/2005/Atom " and xmlns="" for each node child http://www.w3.org/2005/Atom " value http://moblin-contest.org/redirect.php?banner_id=100&amp;amp;url=/ https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Filip Jirsák filip@...</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Namespace trouble</header>
    <date>Sun Nov 02 14:04:00 CET 2008</date>
    <body>Try this: Element el = documentFactory.createElement(QName.get("OAI-PMH", "", " http://www.openarchives.org/OAI/2.0/ el.addAttribute( QName.get("schemaLocation", "xsi", " http://www.w3.org/2001/XMLSchema-instance "), " http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd Or you can use Namespace object instead of three-param QName.get() method, or you can use "qualified name" and namespace-to-prefix map of document factory. Filip Jirsák 2008/11/2 Alessio Camaroto &amp;lt;alessio.camaroto@...&amp;gt;: http://www.openarchives.org/OAI/2.0/ " http://www.w3.org/2001/XMLSchema-instance " http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd http://www.openarchives.org/OAI/2.0/ " http://www.w3.org/2001/XMLSchema-instance " http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd http://www.w3.org/2005/Atom http://www.w3.org/2005/Atom http://www.w3.org/2005/Atom"/ http://www.w3.org/2005/Atom http://www.w3.org/2005/Atom " but if I use the http://www.w3.org/2005/Atom " --&amp;gt; with prefix="xmlns" http://www.w3.org/2005/Atom " values http://www.w3.org/2005/Atom " and xmlns="" for each node http://www.w3.org/2005/Atom " value http://moblin-contest.org/redirect.php?banner_id=100&amp;amp;url=/ https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Filip Jirsák filip@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] Adding sorting &amp;amp; grouping to xpath</header>
    <date>Thu Dec 18 16:50:00 CET 2008</date>
    <body>We get a lot of requests to add sorting and grouping to xpath. And the universal answer to XSLT is that it is way too difficult to use. Does anyone know of any other alternatives? Thanks - dave David Thielen 303-499-2544 x1185 720-352-0676 (cell) http://www.youtube.com/watch?v=8RBPvX9FadU</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to use dom4j to get line number information of an
	element ?</header>
    <date>Tue Jan 20 12:22:00 CET 2009</date>
    <body>I read the mail as follows but i still don't know how to do it. could someone give me a demo or  an example. Thank you very much. Filip Jirsák -------------------------------------------------------------------------</body>
  </mail>
  <mail>
    <header>[dom4j-user] performance issue</header>
    <date>Thu Feb 26 20:40:00 CET 2009</date>
    <body>Hello! I want to have some idea about a performance issue that i am having on my application. Basically, what the application do, is a sort of webserver, used to parse POST xml request. For that reason i have a NIO http ws, based on grizzly library, and for xml handling i use dom4j the parsing is done via The design is more or less the follow ---SELECTOR THREAD (NIO)--- ---READ THREAD1--- --READ THREAD2--- (this 2 reader thread will increase the performance under heavy load) then, there is an executor thread pool, that have a MIN and MAX worker thread. When a selector is readed, and is ready to be executed, it will be passed to a "worker" thread, and the worker thread will do the rest. Basically all the parsing logic is on worker threads, the rest is just NIO stuff and HTTP protocol stuff, to worker thread, there is a REQUEST and RESPONSE object, ready for use. While profiling the code, to make sure that everything is ok, i noticed that 90% of the time is spent by which is actually pretty high :S Also, seems that there is some locking around the code, because two different WORKER thread have a lock Can you please give to me some advice to increase the performance of parsing? Maybe i can create something in the workerthread to avoid locking? When i get the Element req, processing it is blazing fast, using some "setattribute, getattribute" or even some iteration. The string size, is normally very very small, never more than 1k, often less than 100 char best regards!</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] performance issue</header>
    <date>Thu Feb 26 20:59:00 CET 2009</date>
    <body>Hello, first of all, I think DocumentHelper.parseText(post) isn't good way how to parse XML – it internally wraps text with StringReader and parse text from Reader. So if you have input in form of InputStream or Reader, it is better to parse XML from this. Secondly, DOM4J 1.x doesn't work the best in multithreaded environment. For example, there is single QName cache synchronized over all threads – so only one thread can use it at a time. Thirdly, dom4j 1.x uses ArrayList for nodes storage, which is not efficient in DOM building time – ArrayList must grow repeatedly. Both synchronization and ArrayList storage should be altered in 2.0 branch. Regards Filip Jirsák 2009/2/26 rama &amp;lt;rama.rama@...&amp;gt;: http://p.sf.net/sfu/XcvMzF8H https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Filip Jirsák filip@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] carriage return line feed in cdata</header>
    <date>Wed Feb 25 04:33:00 CET 2009</date>
    <body>Hi, It appears that dom4j strips out /r/n in cdata when it reads or writes xml.  Is this correct?  Can anything be done about it? Thanks, Tom Burns</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] carriage return line feed in cdata</header>
    <date>Thu Feb 26 14:08:00 CET 2009</date>
    <body>Did you check the options you can specify when you read and/or write the document? I'm not sure if that is possible but it seems there could be some setting somewhere that will let you do that. Muzaffer http://p.sf.net/sfu/XcvMzF8H https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Empty xmlns attribute on each added element!?</header>
    <date>Wed Feb 25 08:20:00 CET 2009</date>
    <body>Hi! I have to use xml files for a little Java project. These files are generated over the Java application itself, but I have to use an external xml schema. The root element must look like: I did this over the .addAttribute Method, and it seems to work, but now I get an empty xmlns attribute (xmlns="") on each element I add to the xml document. This generates an error, while validating the xml file against the external xml schema. I tried also .addElement("elementname", "") but this doesn't work. A parameter Namespace.NO_NAMESPACE is not allowed. I googled fort he problem, and I saw, that I am not alone with this problem, but I dind't find a solution (e.g. http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1256551&amp;amp;group_i d=16035&amp;amp;atid=116035). Greetings, Christian.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Empty xmlns attribute on each added element!?</header>
    <date>Wed Feb 25 11:06:00 CET 2009</date>
    <body>Hello, "xmlns:" is not regular attribute, it is namespace definition. Instead of "addAttribute" method use QNames and "addNamespace()" methods. root.addAttribute(QName.get("schemaLocation", "xsi", XSI_NAMESPACE), root.addElement("child", ROOT_NAMESPACE) Sincerely, Filip Jirsák 2009/2/25 Christian-Josef Schrattenthaler &amp;lt;hotline@...&amp;gt;: http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1256551&amp;amp;group_id=16035&amp;amp;atid=116035 ). http://p.sf.net/sfu/XcvMzF8H https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Filip Jirsák filip@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] [ANN]VTD-XML 2.5</header>
    <date>Wed Feb 25 23:36:00 CET 2009</date>
    <body>VTD-XML 2.5 is now released. Please go to https://sourceforge.net/project/showfiles.php?group_id=110612&amp;amp;package_id=120172&amp;amp;release_id=661376 to download the latest version. Changes from Version 2.4 (2/2009) * Added separate VTD indexing generating and loading (see http://vtd-xml.sf.net/persistence.html for further info) * Integrated extended VTD supporting 256 GB doc (In Java only). * Added duplicateNav() for replicate multiple VTDNav instances sharing XML, VTD and LC buffer (availabe in Java and C#). * Various bug fixes and enhancements.</body>
  </mail>
  <mail>
    <header>[dom4j-user] XPath question.</header>
    <date>Wed Feb 04 19:42:00 CET 2009</date>
    <body>Hello, I have some question to how to use XPath with dom4j. The problem I face is that in my java application the User can enter a XPath expression and query a dom4j xml document object and get back the result. For simple XPath expression like: "//node1/node2", "//node1[@att=1]" it works perfectly. But when I write let's say the following XPath expression "//node1/node2/text()" it doesn't. My question is can I query a dom4j xml document object with such expression? Bye, Martin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] XPath question.</header>
    <date>Wed Feb 04 20:01:00 CET 2009</date>
    <body>Hello Martin, I think this should work. Following code Document document = DocumentHelper.parseText("&amp;lt;node1&amp;gt;&amp;lt;node2&amp;gt;Text in prints following two lines for me: Text Text in node2. Sincerely, Filip Jirsák 2009/2/4 Martin Palma &amp;lt;martin@...&amp;gt;: http://p.sf.net/sfu/adobe-com https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Filip Jirsák filip@...</body>
  </mail>
  <mail>
    <header>[dom4j-user] how to use xml version 1.1 documents</header>
    <date>Fri Mar 20 09:56:00 CET 2009</date>
    <body>Hello, is there a way to tell dom4j to allways create version 1.1 xml documents opposed to version 1.0? DocumentHelper.createDocument() and XMLWriter.write(documentString) allways create 1.0 documents. A system property to set this preference would be expected. Is there an underlying parser that can influance this? DocumentHelper.parseText seems to create 1.1 version documents just fine when you feed it a string containing a 1.1 document. The reason I would want this is because I am receiving documents containing custom entities in the form of escaped characters like &amp;amp;amp;#22;. XML Version 1.0 does not accept this but 1.1 does. I'm now using a very ugly solution by doing documentString.replace("version=\"1.0\"", "version=\"1.1\"") on the string containing the document just before using DocumentHelper.parsetext(documentString). The escaped characters are handled just fine after that. Regards, Robin</body>
  </mail>
  <mail>
    <header>[dom4j-user] (no subject)</header>
    <date>Thu Apr 23 15:57:00 CEST 2009</date>
    <body>Hello, I am in trouble with selectSingleNode ! I use the following code: if (Time_XPath.booleanValueOf(TrainingCenterDatabase)) Node node = Time_XPath.selectSingleNode(TrainingCenterDatabase);           &amp;lt;== problem else An I get: XPath expression is not a Node. It was: true of type: java.lang.Boolean at org.dom4j.xpath.DefaultXPath.selectSingleNode(DefaultXPath.java:169) at Merge_TCX_to_HRM.main(Merge_TCX_to_HRM.java:147) selectSingleNode does not return a Node but True Or False ! I do not understand... Could you help me ? Sincerely. Patrick Renard _________________________________________________________________ Vous voulez savoir ce que vous pouvez faire avec le nouveau Windows Live ? Lancez-vous ! http://www.microsoft.com/windows/windowslive/default.aspx</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] (no subject)</header>
    <date>Thu Apr 23 16:03:00 CEST 2009</date>
    <body>Hello, your XPath expression is test which returns boolean value – so result is java.lang.Boolean. Your expression tests if there is some element foo:Time which inner text is equal to enganged time. In case you want select element, which contains this time, you have to use another XPath expression: //foo:Time/[text()=your_time] Sincerely, Filip Jirsák 2009/4/23 Patrick Renard &amp;lt;patrick_renard@...&amp;gt;: http://p.sf.net/sfu/p https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] selectSingleNode does not return a Node but True Or
	False !</header>
    <date>Thu Apr 23 16:00:00 CEST 2009</date>
    <body>Hello, I am in trouble with selectSingleNode ! I use the following code: if (Time_XPath.booleanValueOf(TrainingCenterDatabase)) Node node = Time_XPath.selectSingleNode(TrainingCenterDatabase);           &amp;lt;== problem else An I get: XPath expression is not a Node. It was: true of type: java.lang.Boolean at org.dom4j.xpath.DefaultXPath.selectSingleNode(DefaultXPath.java:169) at Merge_TCX_to_HRM.main(Merge_TCX_to_HRM.java:147) selectSingleNode does not return a Node but True Or False ! I do not understand... Could you help me ? Sincerely. Patrick Renard Vous voulez savoir ce que vous pouvez faire avec le nouveau Windows Live ? Lancez-vous ! _________________________________________________________________ Découvrez toutes les possibilités de communication avec vos proches http://www.microsoft.com/windows/windowslive/default.aspx</body>
  </mail>
  <mail>
    <header>[dom4j-user] xpath problem</header>
    <date>Thu Apr 16 15:24:00 CEST 2009</date>
    <body>Hello, I'm having an issue with a very simple Xpath expression. I don't quite understand why this fails. Probably missing something obvious. This is just a simple example: Element metaEle = (Element) Now &amp;lt; file.xml &amp;gt; definitely has a meta element but this always returns null. I've tried also selectNodes to see if that makes any difference. I tried with a bunch of other tags but they all fail unless if I put in the root tag. If I'm not mistaken though "//meta" should return all meta elements in the document??? Thanks for any help with this. Matt</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath problem</header>
    <date>Thu Apr 16 15:34:00 CEST 2009</date>
    <body>Well it's an HTML document. It does have an xmlns declaration, although it's been a while since I've done any XML so I don't remember exactly what that does. But the elements themselves, like &amp;lt;meta&amp;gt; don't have any namespace prefixed to them. The xmlns declaration is: http://www.w3.org/1999/xhtml Thanks for your help ________________________________ From: Linus Kamb [mailto:linus@...] Sent: jeudi 16 avril 2009 17:29 To: Rossner, Matt PH/FR/PREST Subject: Re: [dom4j-user] xpath problem namespace? Matt.Rossner-prest@... wrote: Hello, I'm having an issue with a very simple Xpath expression. I don't quite understand why this fails. Probably missing something obvious. This is just a simple example: Element metaEle = (Element) Now &amp;lt; file.xml &amp;gt; definitely has a meta element but this always returns null. I've tried also selectNodes to see if that makes any difference. I tried with a bunch of other tags but they all fail unless if I put in the root tag. If I'm not mistaken though "//meta" should return all meta elements in the document??? Thanks for any help with this. Matt ________________________________ ------------------------------------------------------------------------ ------ Stay on top of everything new and different, both inside and around Java (TM) technology - register by April 22, and save $200 on the JavaOne (SM) conference, June 2-5, 2009, San Francisco. 300 plus technical and hands-on sessions. Register today. Use priority code J9JMT32. http://p.sf.net/sfu/p ________________________________ _______________________________________________ dom4j-user mailing list dom4j-user@... https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] xpath problem</header>
    <date>Thu Apr 16 17:17:00 CEST 2009</date>
    <body>Try this as I don’t know how to do what you’re trying to do using that simpler code: m.put(“html”, “ http://www.w3.org/1999/xhtml I think this will retrieve the first “meta” node. Muzaffer From: Matt.Rossner-prest@... [mailto:Matt.Rossner-prest@...] Sent: Thursday, April 16, 2009 11:35 AM To: dom4j-user@... Subject: Re: [dom4j-user] xpath problem Well it’s an HTML document. It does have an xmlns declaration, although it’s been a while since I’ve done any XML so I don’t remember exactly what that does. But the elements themselves, like &amp;lt;meta&amp;gt; don’t have any namespace prefixed to them. The xmlns declaration is: http://www.w3.org/1999/xhtml Thanks for your help ________________________________ From: Linus Kamb [mailto:linus@...] Sent: jeudi 16 avril 2009 17:29 To: Rossner, Matt PH/FR/PREST Subject: Re: [dom4j-user] xpath problem namespace? Matt.Rossner-prest@...&amp;gt; wrote: Hello, I’m having an issue with a very simple Xpath expression. I don’t quite understand why this fails. Probably missing something obvious. This is just a simple example: Now « file.xml » definitely has a meta element but this always returns null. I’ve tried also selectNodes to see if that makes any difference. I tried with a bunch of other tags but they all fail unless if I put in the root tag. If I’m not mistaken though “//meta” should return all meta elements in the document??? Thanks for any help with this. Matt ________________________________ ------------------------------------------------------------------------------ Stay on top of everything new and different, both inside and around Java (TM) technology - register by April 22, and save $200 on the JavaOne (SM) conference, June 2-5, 2009, San Francisco. 300 plus technical and hands-on sessions. Register today. Use priority code J9JMT32. http://p.sf.net/sfu/p ________________________________ _______________________________________________ dom4j-user mailing list https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Xpath problem</header>
    <date>Thu Apr 16 15:24:00 CEST 2009</date>
    <body>Hello, I'm having an issue with a very simple Xpath expression. I don't quite understand why this fails. Probably missing something obvious. This is just a simple example: Element metaEle = (Element) Now &amp;lt; file.xml &amp;gt; definitely has a meta element but this always returns null. I've tried also selectNodes to see if that makes any difference. I tried with a bunch of other tags but they all fail unless if I put in the root tag. If I'm not mistaken though "//meta" should return all meta elements in the document??? Thanks for any help with this. Matt</body>
  </mail>
  <mail>
    <header>[dom4j-user] Possible bug? XPP3Reader throw away ampersand
	sequences in XML file</header>
    <date>Thu Apr 02 08:28:00 CEST 2009</date>
    <body>Hi All, I am using XPP3Reader to read in xml documents since it is obviously faster than SAXReader. However it seems that it is throwing away all ampersand sequences in the xml as demonstrated below: // this prints out an empty string which is incorrect // however if we read with SAXReader, the character '&amp;lt;' can be printed out. I am testing with dom4j 1.6.1 with the shipped XPP3 library (xpp3-1.1.3.3.jar) in the download package. Is this a bug of XPP3 bug? Or have I missed some obvious points here? Thanks for your time. Robin</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Possible bug? XPP3Reader throw away ampersand
	sequences in XML file</header>
    <date>Thu Apr 02 12:38:00 CEST 2009</date>
    <body>Hello, it seems it is bug in DOM4J in org.dom4j.io.XPP3Reader. It skips all entities. Try attached patch (dom4j.jar built with patch applied is attached too). Sincerely Filip Jirsák 2009/4/2  &amp;lt;robin@...&amp;gt;: https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] [dom4j 1.6.1] OutOfMemoryException using a large XML
	document</header>
    <date>Wed May 20 14:52:00 CEST 2009</date>
    <body>Hello, I'm in trouble with a large XML document (~250,000 elements, children of root). If I call doc.selectNodes("/myelement"), I'll get an OutOfMemoryException. Is there a way to manage a so big document? Thank you. -- V. Marco Carnazzo ________________________________________________ Società Cooperativa Anastasis Ufficio Web P.zza dei Martiri, 1/2 40100 - Bologna tel. 051/2962188 http://www.anastasis.it</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] [dom4j 1.6.1] OutOfMemoryException using a large
	XML document</header>
    <date>Wed May 20 16:20:00 CEST 2009</date>
    <body>Hello, look at http://www.dom4j.org/dom4j-1.6.1/faq.html#large-doc Best regards Filip Jirsák 2009/5/20 Marco Carnazzo &amp;lt;mcarnazzo@...&amp;gt;: http://www.anastasis.it http://p.sf.net/sfu/businessobjects https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Add namespace (already included in parent element) to
	child element</header>
    <date>Mon May 18 20:30:00 CEST 2009</date>
    <body>Hello, I try to create an XML this form (with dom4j 1.6.1): I did not success to have xmlns:yyy="xxxxx" appear in the level1 element, is it something possible with DOM4J ? It seems that it's not possible to add the namespace information to the child element if it's already included in a parent element. Is there a workaround ? Thanks. AP</body>
  </mail>
  <mail>
    <header>[dom4j-user] Casting Node to Element - is it safe?</header>
    <date>Fri May 01 10:15:00 CEST 2009</date>
    <body>I was wondering. Is it safe to cast Node to Element? I am using the selectSingleNode method, which gives me a Node instance, but I need an Element instance, to be able to set CDATA data on the node/element. I have seen a lot of code when googling, that simply casts the return value of selectSingleNode to Element, but is it safe? From an example in the dom4j cookbook, I see that selectNodes() returns an (untyped) List, where each list entry then is casted to Element, like this: XPath xpathSelector = DocumentHelper.createXPath("/people/ Does the same hold for selectSingleNode() ?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Casting Node to Element - is it safe?</header>
    <date>Fri May 01 11:16:00 CEST 2009</date>
    <body>Hello, it is safe to cast Node returned from selectNodes() or selectSingleNodes() to Element if you are sure that XPath expression returns element(s). Depending on XPath it can return Element, Attribute, Text etc. So if you hope your Xpath returns Elements only, it is safe to cast. If you are not sure, you should check type before cast. Sincerely Filip Jirsák 2009/5/1 Per Olesen &amp;lt;pol@...&amp;gt;: http://p.sf.net/sfu/velocityconf https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Trying to get a W3C DOM Element from an XPath
	evaluation</header>
    <date>Fri Aug 28 11:29:00 CEST 2009</date>
    <body>Hi! I've just started using dom4j instead of Sun API in an Android app and I'm running into some problems in XPath. I looked at Sun API usage and tried to do the same in dom4j but it's not working. I would greatly appreciate any help on this. I want to do an xpath.evaluate(expression, context, returnType) in dom4j. My approach was to create an xpath object and then call its evaluate method: org.dom4j.XPath myXpath = new Object myResult = myXpath.evaluate(context); // But this approach fails to result in an instance of org.w3c.dom.Element as Sun does. dom4j selectSingleNode() fails as well. Any hints on this?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] [SPAM] - Trying to get a W3C DOM Element from an
	XPathevaluation - Email found in subject</header>
    <date>Fri Aug 28 14:46:00 CEST 2009</date>
    <body>No luck! I'm also trying to stick with org.w3c.dom Element instead of dom4j implementation. On Fri, Aug 28, 2009 at 1:52 PM, Destry Gustin &amp;lt;dgustin@...:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Trying to get a W3C DOM Element from an
	XPathevaluation</header>
    <date>Fri Aug 28 15:05:00 CEST 2009</date>
    <body>I reckon it might be a better idea, in a server side context, to actually use the dom4j implementation and then export a w3c element for interfacing with the outside world. I'll keep looking into it. Thanks for your help! On Fri, Aug 28, 2009 at 3:59 PM, Destry Gustin &amp;lt;dgustin@...:</body>
  </mail>
  <mail>
    <header>[dom4j-user] thread safety for SAXReader and XPath expression object</header>
    <date>Sat Aug 15 07:31:00 CEST 2009</date>
    <body>Hello: Would it be possible to use these two object in multiple threads with pre inited object? I noticed about 30% performance difference if I use a this would be a lot of faster than create the reader instance for every document. The same issue applies to the XPath  expression object, too. I got some errors when using them in multithree program so it appears that the reader object is not stateless.  The performance difference is quite significant. Thanks in advance.</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] thread safety for SAXReader and XPath expression
	object</header>
    <date>Sat Aug 15 07:58:00 CEST 2009</date>
    <body>Hello, it depends on underlying implementation of SAXParser (javax.xml.parsers.SAXParser), I think common implementations are not thread safe. Filip Jirsák 2009/8/15 DVD &amp;lt;dvd@...&amp;gt;: http://p.sf.net/sfu/bobj-july https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Problem with formatdate function</header>
    <date>Mon Aug 10 18:12:00 CEST 2009</date>
    <body>Hi Guys. I'm using the DOM4J API to transform the XML that I have with some XSL files. Well, my XSL file have the follow line: But when I use this line I get this error: Cannot find external method 'com.sun.org.apache.xalan.internal.lib.ExsltDatetime.formatdate' (must be public).' Someone already use dom4j to style XML with XSL files and these XSL files have EXSLT namespaces?? Can someone give me some help!?!? Best Regards Raphael Cabral</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with formatdate function</header>
    <date>Mon Aug 10 19:42:00 CEST 2009</date>
    <body>Hello, it has nothing to do with DOM4J, it is problem of your XSLT library, probably Xalan. Filip Jirsák 2009/8/10 Bokerão &amp;lt;bokerao@...&amp;gt;: http://p.sf.net/sfu/bobj-july https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Problem with formatdate function</header>
    <date>Mon Aug 10 19:46:00 CEST 2009</date>
    <body>Yeah. I already solve the problem. The one letter in "formatdate" string need to be in uppercase like "formatDate" So, as this is a common function of EXSLT I think the XSLT Processor found the function without any problem. Thanks Raphael Cabral http://p.sf.net/sfu/bobj-july https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Need tip on remove show stopper</header>
    <date>Mon Aug 03 00:03:00 CEST 2009</date>
    <body>Hi All ! I come to you today in hope that someone could find a solution to a show stopper issue that I have regarding removal of element Here is the code that is supposed to remove: //Snippet from BlogCategoryRepository /** * Removes a Category in a blog * @param t * @return * @throws com.mor.blogengine.exception.NoMatchesFoundException */ xmlFileManagerImpl = Logger.getLogger(BlogEntryRepository.class.getName()) //the following uses XPATH 2.0 psychopath processor DefaultElement de = (DefaultElement) getElementsForCriteria(SearchCriteria.SINGLE, This is the remove method I use in XmlFileManager: here is the log produced when running a remove test: getting an instance of XmlFileManager.... init of XmlFileManager.... 2009-08-02 19:21:53 com.mor.blogengine.xpath.SearchEngine getSingleElement INFO: Building XPath search Query XPATH2.0 Query is /Blog//Category[@hash=xs:double(56480685)] Is element present in XML? true in remove method of XmlFileManager.... Saving... Whatever I do.. It does'nt seem to remove the element Well that's my issue.. I hope I was clear enough to make it understable.... if not I can elaborate more :) Any ideas whats wrong ?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Need tip on remove show stopper</header>
    <date>Mon Aug 03 06:34:00 CEST 2009</date>
    <body>Hi, it seems it has nothing to do width dom4j. In dom4j you can remove element from its parent, for example: Filip Jirsák 2009/8/3 Laurent Morissette &amp;lt;laurent.morissette@...&amp;gt;: http://p.sf.net/sfu/bobj-july https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Unsubscibe</header>
    <date>Thu Sep 03 23:05:00 CEST 2009</date>
    <body />
  </mail>
  <mail>
    <header>[dom4j-user] large xml parsing</header>
    <date>Fri Oct 09 03:30:00 CEST 2009</date>
    <body>//batch insert c://largeDocument.xml</body>
  </mail>
  <mail>
    <header>[dom4j-user] onStart() method and path.getCurrent()</header>
    <date>Fri Oct 02 18:53:00 CEST 2009</date>
    <body>I understand the basics of parsing an XML document with handlers, and the use of onStart() and onEnd(). However, I write to ask what kinds of information are available when the onStart() method is triggered. Background: I'm processing potentially large XML files that have structures like ... wherein I might do well to capture each &amp;lt;bar&amp;gt; element and then detach it, to avoid keeping too much XML structure in memory.   But before processing (and detaching) all the &amp;lt;bar&amp;gt; elements, I need to get the value of the 'feature' attribute in the &amp;lt;foo&amp;gt; start tag. If I have a handler like this // here I'd like to access the value of the 'feature' attribute, // but WITHOUT retrieving the whole &amp;lt;foo&amp;gt; element // this seems to work // but I worry about calling getCurrent() // do something with this &amp;lt;bar&amp;gt; element Questions: 1.  What kinds of information are available when onStart() is invoked?  Are the start-tag attributes accessible without calling getCurrent()? 2.  In the onStart() method, when I invoke path.getCurrent().attribute("feature").getValue(), does the entire That's what I want to avoid.  When I encounter the &amp;lt;foo feature="value"&amp;gt; start tag, I'd just like to have access to the attributes. Many thanks, Ken ****************************** Kenneth R. Beesley, D.Phil. P.O. Box 540475 North Salt Lake, UT 84054  USA</body>
  </mail>
  <mail>
    <header>[dom4j-user] removing namespace</header>
    <date>Fri Nov 13 21:42:00 CET 2009</date>
    <body>Hi, I'm using dom4j to parse and map xml docs and could really use some help with 1.6.1 library. When i do an Element.remove(Namespace), the namespace does not get removed. Here's a snippet where i am trying to remove xmlns from the NbOfTxnPerSts element. It is not working for me. Any ideas? Element stat... Element pain997...</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] removing namespace</header>
    <date>Sat Nov 14 01:15:00 CET 2009</date>
    <body>found this post. It definitely works, but is this the desired approach? On Fri, Nov 13, 2009 at 4:41 PM, Yevgeniy Belman &amp;lt;ysbelman@...&amp;gt; wrote:</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] removing namespace</header>
    <date>Sat Nov 14 09:20:00 CET 2009</date>
    <body>You will have to remove and set the namespace for each node in the tree. This is a limitation/functionality of all of the XML Object Models at the moment. I agree that this is not 'intuitive' and not in line with how you specify a namespace in a XML document, where the namespace gets inherited by default. Kind regards, Edwin Dankert 2009/11/14 Yevgeniy Belman &amp;lt;ysbelman@...&amp;gt;: http://p.sf.net/sfu/bobj-july https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Determining the type of data in an XPath returned node</header>
    <date>Thu Nov 12 18:37:00 CET 2009</date>
    <body>Is there an easy way, when I am iterating through the nodes returned from an XPath query, to get typed results. I need to know if it's a Date, Number, or String. This is more than just what node it is because an XPath can be the result of a count or other operation where the resulting type has nothing to do with any node type. I optionally have a schema - but not always. ??? - thanks - dave David Thielen 303-499-2544 x1185 720-352-0676 (cell) http://www.windwardreports.com&amp;lt;http://www.windwardreports.com/ http://blogs.windwardreports.com/davidt/</body>
  </mail>
  <mail>
    <header>[dom4j-user] Fwd: Determining the type of data in an XPath returned
	node</header>
    <date>Fri Nov 13 08:14:00 CET 2009</date>
    <body>---------- Forwarded message ---------- Date: 2009/11/13 Subject: Re: [dom4j-user] Determining the type of data in an XPath returned node Hello, see http://dom4j.org/dom4j-1.6.1/cookbook.html , part "Using XML Schema Data Types in dom4j" – it is probably what you search for. Filip Jirsák http://www.windwardreports.com http://p.sf.net/sfu/bobj-july https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Domain name expired? (dom4j.org)</header>
    <date>Thu Dec 03 21:44:00 CET 2009</date>
    <body>Home page redirects to a landing page with bidding options to renew domain... _________________________________________________________________ Windows Live Hotmail is faster and more secure than ever. http://www.microsoft.com/windows/windowslive/hotmail_bl1/hotmail_bl1.aspx?ocid=PID23879::T:WLMTAGL:ON:WL:en-ww:WM_IMHM_1:092009</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Domain name expired? (dom4j.org)</header>
    <date>Fri Dec 04 01:29:00 CET 2009</date>
    <body>I think you are right. http://www.microsoft.com/windows/windowslive/hotmail_bl1/hotmail_bl1.aspx?ocid=PID23879::T:WLMTAGL:ON:WL:en-ww:WM_IMHM_1:092009 http://p.sf.net/sfu/redhat-sfdev2dev https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Xu Hanjie</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j failure with Java 1.4.2 when using reflection</header>
    <date>Sat Jan 23 22:29:00 CET 2010</date>
    <body>Hello, I have some Java code that must work for Java 1.4.2 and must use dom4j from dynamically loaded code.  Unfortunately, I get an exception from dom4j when I use it. Here's a minimal program that exhibits the error followed by the error message itself.  (This program works just fine with Java 1.6 BTW, I just can't use that version.) I'm hoping someone familiar with the dom4j code can suggest some classes to explicitly load to avoid this problem.  Or, perhaps I need to use an older version of dom4j (currently using 1.6.1)?  I know this code worked for some version of Java 1.4 and some version of dom4j in the past.  I just don't know what the magical combination was. Thanks, Bradford C. Smith ==== Main.java ==== /** * @param args */ ==== Dynamic.java ==== ==== end Dynamic.java ==== The exception stack trace I get is this: java.lang.reflect.InvocationTargetException at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at test.Main.main(Main.java:15) Caused by: java.lang.ExceptionInInitializerError at org.dom4j.QName.&amp;lt;init&amp;gt;(QName.java:69) at org.dom4j.tree.QNameCache.createQName(QNameCache.java:236) at org.dom4j.tree.QNameCache.get(QNameCache.java:94) at org.dom4j.DocumentFactory.createQName(DocumentFactory.java:203) at org.dom4j.DocumentFactory.createElement(DocumentFactory.java:148) at org.dom4j.tree.AbstractDocument.addElement(AbstractDocument.java:172) at test.Dynamic.run(Dynamic.java:9) ... 5 more Caused by: java.lang.NullPointerException at org.dom4j.tree.NamespaceCache.getURICache(NamespaceCache.java:154) at org.dom4j.tree.NamespaceCache.get(NamespaceCache.java:84) at org.dom4j.Namespace.&amp;lt;clinit&amp;gt;(Namespace.java:28) ... 12 more</body>
  </mail>
  <mail>
    <header>[dom4j-user] Best replacement for dom4j</header>
    <date>Tue Mar 02 04:39:00 CET 2010</date>
    <body>With dom4j hitting the ranks of abandonware (which is too bad), any suggestions on what the best xml library is? We must have xpath. We would like to have typed returns of xpath values if we have a schema. And we would really like to have XQuery support. thanks - dave</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Best replacement for dom4j</header>
    <date>Tue Mar 02 06:51:00 CET 2010</date>
    <body>Hello Dave, I think it is dom4j 2.0 :-) Filip Jirsák http://p.sf.net/sfu/intel-sw-dev https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Strange problem of parsing xml file that has ' xmlns'
	attribute with XPATH</header>
    <date>Fri Feb 05 07:23:00 CET 2010</date>
    <body>Hi there, I've tried to parse web.xml file with dom4j - XPATH but failed. The xml file is listed below: http://java.sun.com/xml/ns/j2ee " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " xsi:schemaLocation=" http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd And below is the java Code: And it can't get the correct result. Node 'context-param' or 'servlet' can't be parsed with xpath like this. the code will work. And I tried to parse the child nodes one by one without domj4 like this: iterator .hasNext();) .... It works. So my question is: why can't we use xpath to parse the xml file with the 'xmlns' attribute exists in root node? If we can use xpath to parse it, how to do that? Thanks in advance.</body>
  </mail>
  <mail>
    <header>[dom4j-user] getPath() with default namespace xml</header>
    <date>Fri Mar 26 14:14:00 CET 2010</date>
    <body>Hi! I use the getPath() method and generally it returns paths like this: root/element1/element2/blabla when i use a xml document with a default namespace like this: http://www.company.org all elements look like this: /*[name()='Company'] why is thre a difference?</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Any plan to remove Jaxen depency in dom4j</header>
    <date>Wed Mar 24 16:32:00 CET 2010</date>
    <body>FJ&amp;gt; ... dom4j 2.0 should have the same pluggable mechanism FJ&amp;gt; for DocumentFactory, namespace cache and XPath engine. So you FJ&amp;gt; could specify at document creation time which implementation FJ&amp;gt; should be used. Could you explain some more about how this pluggable mechanism works, Filip ? Thank you in advance! -- ing. Gian Uberto Lauri Innovazione              David Korn, AT&amp;amp;T Bell Labs C.so Stati Uniti 23/A        ioccc best One Liner, 1987 35100 Padova (Italia) +39 049 828 3411</body>
  </mail>
  <mail>
    <header>[dom4j-user] Any plan to remove Jaxen depency in dom4j 2.0.0</header>
    <date>Fri Mar 19 12:50:00 CET 2010</date>
    <body>Hi All, I would like to know if there's any plan for dom4j 2.0.0 to provide a pluggable XPath API instead to have a direct dependency on Jaxen library. I like dom4j a lot ( i think it's the most useful xml api around ) and i want to use it. Despite this now i'm trying to use my code within eclipse and jaxen has a lot of problems with eclipse IP Policy restrictions. Dom4j itself has no problem, if you avoid to use the xpath functionality but, without xpath support it lost all the power. I like jaxen ( and i've no problem in using it ) but i could not use inside an eclipse project. I think that the best thing for dom4j project would be to have a pluggable API and let to choose at runtime level which xpath engine use. So within eclipse we can for example use the jdk provided XPath API and avoid problems. Any thoughts?? Andrea</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Any plan to remove Jaxen depency in dom4j 2.0.0</header>
    <date>Fri Mar 19 14:37:00 CET 2010</date>
    <body>Hello Andrea, dom4j 2.0 should have the same pluggable mechanism for DocumentFactory, namespace cache and XPath engine. So you could specify at document creation time which implementation should be used. Jaxen will be default for XPath, but you will able to omit Jaxen in dependencies and use your own implementation. Sincerely Filip Jirsák http://p.sf.net/sfu/intel-sw-dev https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Any plan to remove Jaxen depency in dom4j 2.0.0</header>
    <date>Fri Mar 19 15:41:00 CET 2010</date>
    <body>When will dom4j 2.0 ship? From: Filip Jirsák [mailto:filip@...] Sent: Friday, March 19, 2010 8:37 AM To: Andrea Zoppello Cc: dom4j-user@... Subject: Re: [dom4j-user] Any plan to remove Jaxen depency in dom4j 2.0.0 Hello Andrea, dom4j 2.0 should have the same pluggable mechanism for DocumentFactory, namespace cache and XPath engine. So you could specify at document creation time which implementation should be used. Jaxen will be default for XPath, but you will able to omit Jaxen in dependencies and use your own implementation. Sincerely Filip Jirsák Hi All, I would like to know if there's any plan for dom4j 2.0.0 to provide a pluggable XPath API instead to have a direct dependency on Jaxen library. I like dom4j a lot ( i think it's the most useful xml api around ) and i want to use it. Despite this now i'm trying to use my code within eclipse and jaxen has a lot of problems with eclipse IP Policy restrictions. Dom4j itself has no problem, if you avoid to use the xpath functionality but, without xpath support it lost all the power. I like jaxen ( and i've no problem in using it ) but i could not use inside an eclipse project. I think that the best thing for dom4j project would be to have a pluggable API and let to choose at runtime level which xpath engine use. So within eclipse we can for example use the jdk provided XPath API and avoid problems. Any thoughts?? Andrea ------------------------------------------------------------------------------ Download Intel&amp;amp;#174; Parallel Studio Eval Try the new software tools for yourself. Speed compiling, find bugs proactively, and fine-tune applications for parallel performance. See why Intel Parallel Studio got high marks during beta. http://p.sf.net/sfu/intel-sw-dev _______________________________________________ dom4j-user mailing list https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Any plan to remove Jaxen depency in dom4j 2.0.0</header>
    <date>Tue Mar 23 15:40:00 CET 2010</date>
    <body>Hi Filip, Thank you for your answer. BTW i would like to know if it's in dom4j plan to include any *Jaxen free* implementation or if there's already some example of implementation that does not require jaxen to run. I'm just thinking about to provide an implementation on top of JDK XPATH API. Andrea Il 19/03/2010 15:36, Filip Jirsák ha scritto: http://p.sf.net/sfu/intel-sw-dev https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Add a node if it doesn't exist...</header>
    <date>Thu Apr 22 17:01:00 CEST 2010</date>
    <body>http://www.w3.org/TR/REC-html40 " xmlns:q=" http://schemas.xmlsoap.org/soap/envelope/ " xmlns:rtc=" http://microsoft.com/officenet/conferencing " xmlns:D="DAV:" xmlns:Repl=" http://schemas.microsoft.com/repl/ " xmlns:mt=" http://schemas.microsoft.com/sharepoint/soap/meetings/ " xmlns:x2=" http://schemas.microsoft.com/office/excel/2003/xml " xmlns:ppda=" http://www.passport.com/NameSpace.xsd " xmlns:ois=" http://schemas.microsoft.com/sharepoint/soap/ois/ " xmlns:dir=" http://schemas.microsoft.com/sharepoint/soap/directory/ " xmlns:ds=" http://www.w3.org/2000/09/xmldsig# " xmlns:dsp=" http://schemas.microsoft.com/sharepoint/dsp " xmlns:udc=" http://schemas.microsoft.com/data/udc " xmlns:xsd=" http://www.w3.org/2001/XMLSchema " xmlns:sub=" http://schemas.microsoft.com/sharepoint/soap/2002/1/alerts/ " xmlns:ec=" http://www.w3.org/2001/04/xmlenc# " xmlns:sp=" http://schemas.microsoft.com/sharepoint/ " xmlns:sps=" http://schemas.microsoft.com/sharepoint/soap/ " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance " xmlns:udcs=" http://schemas.microsoft.com/data/udc/soap " xmlns:udcxf=" http://schemas.microsoft.com/data/udc/xmlfile " xmlns:udcp2p=" http://schemas.microsoft.com/data/udc/parttopart " xmlns:wf=" http://schemas.microsoft.com/sharepoint/soap/workflow/ " xmlns:dsss=" http://schemas.microsoft.com/office/2006/digsig-setup " xmlns:dssi=" http://schemas.microsoft.com/office/2006/digsig " xmlns:mdssi=" http://schemas.openxmlformats.org/package/2006/digital-signature " xmlns:mver=" http://schemas.openxmlformats.org/markup-compatibility/2006 " xmlns:m=" http://schemas.microsoft.com/office/2004/12/omml " xmlns:mrels=" http://schemas.openxmlformats.org/package/2006/relationships " xmlns:spwp=" http://microsoft.com/sharepoint/webpartpages " xmlns:ex12t=" http://schemas.microsoft.com/exchange/services/2006/types " xmlns:ex12m=" http://schemas.microsoft.com/exchange/services/2006/messages " xmlns:pptsl=" http://schemas.microsoft.com/sharepoint/soap/SlideLibrary/ " xmlns:spsl=" http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService " xmlns:Z="urn:schemas-microsoft-com:" xmlns:st="&amp;amp;#1;" xmlns=" http://www.w3.org/TR/REC-html40 /* Font Definitions */ @font-face @font-face /* Style Definitions */ p.MsoNormal, li.MsoNormal, div.MsoNormal a:link, span.MsoHyperlink a:visited, span.MsoHyperlinkFollowed span.EmailStyle17 .MsoChpDefault @page Section1 div.Section1 font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;b&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:#7F0055'&amp;gt;private&amp;lt;/span&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:black'&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;b&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:#7F0055'&amp;gt;static&amp;lt;/span&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:black'&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;b&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:#7F0055'&amp;gt;void&amp;lt;/span&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;span font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; Map font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; map.put(&amp;lt;/span&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:#2A00FF'&amp;gt;&amp;amp;quot;xdp&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:black'&amp;gt;, &amp;lt;/span&amp;gt;&amp;lt;span http://ns.adobe.com/xdp/&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:black'&amp;gt;);&amp;lt;/span&amp;gt;&amp;lt;span font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; map.put(&amp;lt;/span&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:#2A00FF'&amp;gt;&amp;amp;quot;xfa&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:black'&amp;gt;, &amp;lt;/span&amp;gt;&amp;lt;span http://www.xfa.org/schema/xfa-data/1.0/&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:black'&amp;gt;);&amp;lt;/span&amp;gt;&amp;lt;span font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;b&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:#7F0055'&amp;gt;final&amp;lt;/span&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:black'&amp;gt; String color:#2A00FF'&amp;gt;&amp;amp;quot;/xdp:xdp/xfa:datasets/xfa:data/form1&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:black'&amp;gt;;&amp;lt;/span&amp;gt;&amp;lt;span font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; String fullyQualified = PARENT_NODE + &amp;lt;/span&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family: font-family:"Courier New";color:black'&amp;gt; + elementName;&amp;lt;/span&amp;gt;&amp;lt;span font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; XPath xPath = DocumentHelper.&amp;lt;i&amp;gt;createXPath&amp;lt;/i&amp;gt;(fullyQualified);&amp;lt;/span&amp;gt;&amp;lt;span font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; xPath.setNamespaceURIs(map);&amp;lt;/span&amp;gt;&amp;lt;span font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; Node font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;b&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:#7F0055'&amp;gt;if&amp;lt;/span&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:black'&amp;gt; (dataNode == &amp;lt;/span&amp;gt;&amp;lt;b&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:#7F0055'&amp;gt;null&amp;lt;/span&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;span none'&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:#3F7F5F'&amp;gt;// the parent node to which we will add the new element&amp;amp;#8230;&amp;lt;/span&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;span font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; xPath = DocumentHelper.&amp;lt;i&amp;gt;createXPath&amp;lt;/i&amp;gt;(PARENT_NODE);&amp;lt;/span&amp;gt;&amp;lt;span style='font-size: font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; xPath.setNamespaceURIs(map);&amp;lt;/span&amp;gt;&amp;lt;span font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; Node font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:#3F7F5F'&amp;gt;// &amp;lt;/span&amp;gt;&amp;lt;b&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:#7F9FBF'&amp;gt;TODO&amp;lt;/span&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;span style='font-size:10.0pt;font-family:"Courier New";color:#3F7F5F'&amp;gt;: Add new font-family:"Courier New";color:black'&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; dataNode.setText(text);&amp;lt;/span&amp;gt;&amp;lt;span</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Add a node if it doesn't exist...</header>
    <date>Fri Apr 23 08:48:00 CEST 2010</date>
    <body>Hello David, in case you know parent node is element, you can change type of variable: But with dom4j you should better do this: private static void updateNode(Document document, String elementName, String Namespace xdp = Namespace.get("xdp", " http://ns.adobe.com/xdp/ Namespace xdp = Namespace.get("xfa", " http://www.xfa.org/schema/xfa-data/1.0/ Element parent = document.getRootElement().element(QName.get("xdp", xdp)).element(QName.get("datasets", xfa)).element(QName.get("data", Sincerely, Filip Jirsák http://ns.adobe.com/xdp/ http://www.xfa.org/schema/xfa-data/1.0/ https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] closing the stream</header>
    <date>Thu Apr 15 21:38:00 CEST 2010</date>
    <body>Hello, I attached small web application to winstone application server with JDK 1.6. It is very easy: But I found that it fails with too many open files exception. I searched javadoc and there is no close method in SAXReader. I looked at source code and it internally opens input stream, but it never closes it. It calls XMLReader.parse() but its javadoc says nothing about closing passed stream. So is there a bug, that the input stream is not closed? Leos</body>
  </mail>
  <mail>
    <header>[dom4j-user] [ANN]VTD-XML 2.8</header>
    <date>Tue Apr 13 00:25:00 CEST 2010</date>
    <body>VTD-XML 2.8 has been released. Please visit https://sourceforge.net/projects/vtd-xml/files/ to download the latest version. a.. Expansion of Core VTD-XML API a.. VTDGen adds support for capturing white spaces b.. VTDNav adds support for suport for getContentFragment(), recoverNode() and cloneNav() c.. XMLModifier adds support for update and reparse feature d.. AutoPilot adds support for retrieving all attributes e.. BookMark is also enhanced. b.. Expansion of Extended VTD-XML API a.. Add content extraction ability to extended VTD-XML b.. VTDNavHuge now can call getElementFragment() and getElementFragmentNs() c.. VTDGenHuge adds support for capturing white spaces c.. XPath a.. Adds comment and processing instruction support for nodes, and performance enhancement b.. Adds namespace axis support … c..  Adds round-half-to-even() d.. A number of bug fixes and code enhancement</body>
  </mail>
  <mail>
    <header>[dom4j-user] Large XML Parsing in a non-forward way</header>
    <date>Fri Jul 16 11:54:00 CEST 2010</date>
    <body>Hi I need to parse a large XML file and need to insert its contents to a database. Suppose the xml has the following structure. Lots of &amp;lt;A&amp;gt; entities Lots of &amp;lt;B&amp;gt; entities Lots of &amp;lt;B&amp;gt; entities Since I need to import this to a DB and there are referencial dependencies between the entities (let's say I have to insert A,B,C in this order) and I can't guarantee that the nodes appear in the correct order, what would be the "best" approach? I'm currently using the suggestion for large files ( http://dom4j.sourceforge.net/dom4j-1.6.1/faq.html#large-doc ) on the assumption that the nodes appear in the correct order. I was thinking if I could order the nodes with a transformation, but I'm not sure if I can do it, or if it is efficient. Thanks in advance João Tiago Ferreira</body>
  </mail>
  <mail>
    <header>[dom4j-user] Proposal for a more modular dom4j</header>
    <date>Fri Aug 13 13:17:00 CEST 2010</date>
    <body>Hi all, I'm looking at the code of dom4j 2.0.0 aplha because i'm interested in having a codebase compiling with JDK 1.6 and i've still noticed that the codebase has packaged related to - swing - xml pull parsing - relax bg schema integration Now maybe it's only my thougths but i'm thinking to know the community opinion on the chance opportunity to have a dom4j-core packages and separate packages to do the integrations. One of the main problem i continue to have with dom4j is in the compile time circular dependency with Jaxen and i'm thinking in a refactoring to remove that but would to know the community opinion about that. What i'm definitely thinking for dom4j in future is something like - a core packahge ) dom4j-core focused on DOM parsing and navigation capabilities - dom4j-jaxen package ( Realize the integration with Jaxen in pluggable way ) - dom4j-swing -dom4j-realxng -dom4j-xmlpull Such packaging structure could sound more modular, flexible and would solve circular dependencies... I would like to hear about community opinion about.... Thx Andrea</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Proposal for a more modular dom4j</header>
    <date>Tue Aug 17 06:49:00 CEST 2010</date>
    <body>Hello Andrea, separation of swing code had been planned for version 2.0 as well as introduction pluggable mechanisms for switching XPath implementation, QName cache implementation and so on. You are right this should be done more thoroughly. Your suggestion of modules is good, I think we could do it that way. Filip Jirsák 2010/8/13 Andrea Zoppello &amp;lt;zoppello@...&amp;gt;: http://p.sf.net/sfu/RIM-dev2dev https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Test for an specific XPath</header>
    <date>Wed Aug 18 10:00:00 CEST 2010</date>
    <body>Hello, is there any possibility to test if there is a specific XPath Node in an XML Document. For Example: I've got an Document A which contains the specific XPath (Root//namespace:Element//namespace:@id) And I've got an Document B which contains this specific XPath not. I tried an [JAVA] if ( doc.selectSingleNode("//Root//namespace:Element//namespace:@id") != null ) [/JAVA] but didn't really expect to get it work. I got the following exception: "XPath expression uses unbound namespace prefix" So it is and namespace problem again. I tried the same JAVA code for very simple XML without any Namespace an it works. The XML: [XML] TEST [XML] And the JAVA-Code: [JAVA] else [/JAVA] With the XML I got "Dokument1" with another testXML I got "NO". Even with namespace XML I got "NO" then. The problem is: I can't leave out the namespace. A possible (but untestet solution until now) could be to temporarilly insert the namespace (with JAVA) in the XML which I want to test and afterwards to delete it. Because there are only about 20 possible namespaces it would be OK. But I'm not sure if it would work and I don't think it would be the best variant to do so. So maybe you got any solution how I could test an XML for an specified XPath. Thanks and best regards, AndrÃ© -- GRATIS fÃŒr alle GMX-Mitglieder: Die maxdome Movie-FLAT! Jetzt freischalten unter http://portal.gmx.net/de/go/maxdome01</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Proposal for a more modular dom4j</header>
    <date>Tue Aug 24 09:08:00 CEST 2010</date>
    <body>Hi Filip, I'm very happy to hear that from you and dom4j team. dom4j is  ( and would be ) my choice for xml parsing and navigation within my projects. I've try other apis, but never find something similar with a so easy and at the same time flexible api. Saying that, there are other considerantions that i should do for future developments and as i've explained in previous messages the point to be solved quickly are the mandatory depency with Jaxen ( runtime and compile-time ), and the modularity problems allowing to have a minimum core and other fetures as modules. With regards to Jaxen, in like it as dom4j and it's a great ( in my opinion the best xpath engine around) but unfortunately there're some use-case where i cannot use it ( I'm making an eclipse project and Jaxen is not approved by IP Team for use ) and this is * a great problem * for dom4j too, because there's the dependency between the two projects. My question now is about the roadmap for these features, Do you've a timeline for that features?? Is there any expected date for final version of dom4j-2.0.0. Andrea Il 17/08/2010 08:49, Filip Jirsák ha scritto: http://p.sf.net/sfu/RIM-dev2dev https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Any plan for Dom4J 2.0</header>
    <date>Fri Aug 13 13:03:00 CEST 2010</date>
    <body>Hi All, I would like to know if is there a plan for the final release of DOM4J 2.0.0? Andrea</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Any plan for Dom4J 2.0</header>
    <date>Tue Aug 17 06:43:00 CEST 2010</date>
    <body>Hello Andrea, there are some changes that should still be done together with incompatible changes in dom4j 2.0. One of them is integration of some pluggable factories (DocumentFactory, XPathFactory, QName cache) so that they could be used in the same manner. The other is modularization - my plan was separation of the dom4j swing code into separate module, but you are right in your another e-mail there are other parts that should be modularized. I'd like to finish these during autumn, so the final version could be released before the end of the year. Filip Jirsák 2010/8/13 Andrea Zoppello &amp;lt;zoppello@...&amp;gt;: http://p.sf.net/sfu/RIM-dev2dev https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] sibiling node/XSL Transformation</header>
    <date>Mon Aug 09 15:14:00 CEST 2010</date>
    <body>Hello, @Filip:, thanks a lot, it works now. But now I've got the next problem. I try to merge two GML-Files with an XSL Stylesheet in JAVA. It worked quite well until I insert the new Elements. Now I've got the problem that I got an non-valid XML because of this line: It should look like that: This only happens with the new insert elements. I suppose this might be a namespace problem, so I tried to remove the namespace out of the XSL Stylesheet or insert it in the new Element by "add Namespace". But it doesn't work. I'm a little bit surprised about the fact, that the same transformation worked on a manually task with Altova XML Spy which I tried. But in JAVA it failed. Does anyone know about this problem and know how to solve it? Maybe it would work just to ignore the namespaces - but I don't know if and how this is possible with DOM4J Thanks and Best regards, André -------- Original-Nachricht -------- http://portal.gmx.net/de/go/dsl http://p.sf.net/sfu/dev2dev-palm https://lists.sourceforge.net/lists/listinfo/dom4j-user http://p.sf.net/sfu/dev2dev-palm https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Neu: GMX De-Mail - Einfach wie E-Mail, sicher wie ein Brief! Jetzt De-Mail-Adresse reservieren: http://portal.gmx.net/de/go/demail</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] sibiling node/XSL Transformation</header>
    <date>Tue Aug 10 07:05:00 CEST 2010</date>
    <body>Hello, I think there is problem with element names. You probably insert element with name "NET:link" in namespace with prefix "NET". You should instead use only "link" name. The same with attribute "link:href" instead of "href". Be careful of different methods for creating elements or QNames - some of them use only local part of element name and namespace with prefix is passed on as the second parameter, another use full name of element (ns-prefix:local-name) and only namespace URI is passed on as the second parameter. Could you post part of the code where you create new elements? Best regards, Filip Jirsák 2010/8/9  &amp;lt;Frutz@...&amp;gt;: http://portal.gmx.net/de/go/dsl http://p.sf.net/sfu/dev2dev-palm https://lists.sourceforge.net/lists/listinfo/dom4j-user http://p.sf.net/sfu/dev2dev-palm https://lists.sourceforge.net/lists/listinfo/dom4j-user http://portal.gmx.net/de/go/demail</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] sibiling node/XSL Transformation</header>
    <date>Tue Aug 10 10:01:00 CEST 2010</date>
    <body>Hello Filip, thanks for the suggestion, I tried it but it didn't work, now it leaves out the namespace completely but the element and attribute isn't copied twice as well, which is good. Something between my two "solutions" would be great. Anyway, here are some parts of code: Maybe it could be important to show how I get to the right position in the XML data: [JAVA] [/JAVA] Then I tried to insert the new element with an attribute like that: This is the first code I tried with the result as described yesterday. (&amp;lt;NET:NET:link xmlns:NET="" xmlns:xlink="" xlink:xlink:href="..."/&amp;gt;) [JAVA] Element newElement = DocumentHelper.createElement("NET:link"). [/JAVA] This is your suggestion. I left out the namespaces but then they are also missing in the final XML (&amp;lt;link xmlns="" href="..."/&amp;gt;) [JAVA] [/JAVA] I also added the namespace to the element and attribute  with [JAVA].addNamespace(the Namespace)[/JAVA]. But it didn't work as well. And here is the code snippet to transform the data: [JAVA] ", "2"); //für Pritty-Print [/JAVA] I think it's just the "ordinary" way to do it, so I hope there is no mistake in it. If you need some more code, just give me a hint. Thanks and best regards, André -------- Original-Nachricht -------- http://portal.gmx.net/de/go/dsl http://p.sf.net/sfu/dev2dev-palm https://lists.sourceforge.net/lists/listinfo/dom4j-user http://p.sf.net/sfu/dev2dev-palm https://lists.sourceforge.net/lists/listinfo/dom4j-user http://portal.gmx.net/de/go/demail http://p.sf.net/sfu/RIM-dev2dev https://lists.sourceforge.net/lists/listinfo/dom4j-user -- Neu: GMX De-Mail - Einfach wie E-Mail, sicher wie ein Brief! Jetzt De-Mail-Adresse reservieren: http://portal.gmx.net/de/go/demail</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] sibiling node/XSL Transformation</header>
    <date>Wed Aug 11 16:34:00 CEST 2010</date>
    <body>Hello, DocumentHelper.createElement(String) uses String parameter as local name. I don't know why it acts so strange with colon, it may be bug in dom4j. But you probably want something like this: Element newElement = DocumentHelper.createElement(QName.get("NET:link", " http://NET-namespace-URI ")). addAttribute(QName.get("xlink:href", " http://xlink-namespace-URI "), Or you can use other variants of QName.get(...) methods. Best regards Filip Jirsák 2010/8/10  &amp;lt;Frutz@...&amp;gt;: ", "2"); //für Pritty-Print http://portal.gmx.net/de/go/dsl http://p.sf.net/sfu/dev2dev-palm https://lists.sourceforge.net/lists/listinfo/dom4j-user http://p.sf.net/sfu/dev2dev-palm https://lists.sourceforge.net/lists/listinfo/dom4j-user http://portal.gmx.net/de/go/demail http://p.sf.net/sfu/RIM-dev2dev https://lists.sourceforge.net/lists/listinfo/dom4j-user http://portal.gmx.net/de/go/demail</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] sibiling node/XSL Transformation</header>
    <date>Wed Aug 11 17:45:00 CEST 2010</date>
    <body>Hello Filip, thanks a lot, it works now. Best regards, André -------- Original-Nachricht -------- http://NET-namespace-URI ")). http://xlink-namespace-URI "), ", "2"); //für Pritty-Print http://portal.gmx.net/de/go/dsl http://p.sf.net/sfu/dev2dev-palm https://lists.sourceforge.net/lists/listinfo/dom4j-user http://p.sf.net/sfu/dev2dev-palm https://lists.sourceforge.net/lists/listinfo/dom4j-user http://portal.gmx.net/de/go/demail http://p.sf.net/sfu/RIM-dev2dev https://lists.sourceforge.net/lists/listinfo/dom4j-user http://portal.gmx.net/de/go/demail http://p.sf.net/sfu/RIM-dev2dev https://lists.sourceforge.net/lists/listinfo/dom4j-user -- GMX DSL SOMMER-SPECIAL: Surf &amp;amp; Phone Flat 16.000 für nur 19,99 ¿/mtl.!* http://portal.gmx.net/de/go/dsl</body>
  </mail>
  <mail>
    <header>[dom4j-user] [ANN]VTD-XML 2.9</header>
    <date>Fri Aug 13 07:54:00 CEST 2010</date>
    <body>VTD-XML 2.9, the next generation XML Processing API for SOA and Cloud computing, has been released. Please visit https://sourceforge.net/projects/vtd-xml/files/ to download the latest version. a.. Strict Conformance a.. VTD-XML now fully conforms to XML namespace 1.0 spec b.. Performance Improvement a.. Significantly improved parsing performance for small XML files c.. Expand Core VTD-XML API a.. Adds getPrefixString(), and toNormalizedString2() d.. Cutting/Splitting a.. Adds getSiblingElementFragment() e.. A number of bug fixes and code enhancement including: a.. Fixes a bug for reading very large XML documents on some platforms b.. Fixes a bug in parsing processing instruction c.. Fixes a bug in outputAndReparse()</body>
  </mail>
  <mail>
    <header>[dom4j-user] DOM4J as OSGi Bundle</header>
    <date>Wed Aug 04 13:13:00 CEST 2010</date>
    <body>Hi All, Is there any plan to have dom4j packages as OSGi bundle too??? Right now, the only way i found out to make it is to put the dom4j-1.6.1.jar in the "bundle classpath" of a "wrapper bundle" and make this "wrapper bundle" to do the correct export.... I've also try the way to take the source... and to create a bundle from it but there's a compile time circular dependency with Jaxen, that make it hard to build. Andrea</body>
  </mail>
  <mail>
    <header>[dom4j-user] sibiling node</header>
    <date>Wed Aug 04 10:29:00 CEST 2010</date>
    <body>Hello, is there any possibility to insert an sibiling node in DOM4J? I've got an XML like that: [...] So I need a possibility to insert an Element on this exact position but I can't find a solution. I can attach an Element at the beginning and the end of the &amp;lt;feature&amp;gt;-Container and also as child-Element to an spezific Element in the XML. But I can't find a way to insert it between two sibilings. Does anyone know a solution and might even give some code which could be helpful? Thanks and best regards, André -- GMX DSL: Internet-, Telefon- und Handy-Flat ab 19,99 EUR/mtl. Bis zu 150 EUR Startguthaben inklusive! http://portal.gmx.net/de/go/dsl</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] sibiling node</header>
    <date>Wed Aug 04 11:39:00 CEST 2010</date>
    <body>Hello, I think you can do this. Try this: Best regards Filip Jirsák 2010/8/4  &amp;lt;Frutz@...&amp;gt;: http://portal.gmx.net/de/go/dsl http://p.sf.net/sfu/dev2dev-palm https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] pass XPath parameters?</header>
    <date>Sat Nov 20 21:52:00 CET 2010</date>
    <body>Is there a way to put markers like $var in the XPath and then call something like setParameter() to set them where jaxen then escapes/quotes them as needed? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Sorting a selectNodes in descending order</header>
    <date>Sat Nov 20 21:51:00 CET 2010</date>
    <body>Is there a way to do this? thanks - dave</body>
  </mail>
  <mail>
    <header>[dom4j-user] Using validator.validate(DOMSource) fails in java 1.6
 - xsi:noNamespaceSchemaLocation is not allowed to appear in root element?
 works in 1.5</header>
    <date>Tue Feb 22 14:52:00 CET 2011</date>
    <body>I'm finding the following problem quite intractable (OK, that's an understatement) - any insights will be appreciated. I've been validating in memory XML created from dom4j 'new DOMDocument()' - but this will not work with Java 6. The following call to validate(source) of a dom4j (1.6.1) DOMSource works with Java 1.5.x but fails with Java 1.6.x: SchemaFactory schemaFactory = getSchemaURLString() is also used to add the xsi:noNamespaceSchemaLocation attribute to the root node, i.e.: xsi:noNamespaceSchemaLocation=" http://localhost:8080/integration/xsd/fqlResponseSchema-2.0.xsd " The exception follows: Exception:  org.xml.sax.SAXParseException: cvc-complex-type.3.2.2: Attribute 'xsi:noNamespaceSchemaLocation' is not allowed to appear in element 'specialfields'.; complex-type.3.2.2: Attribute 'xsi:noNamespaceSchemaLocation' is not allowed to appear in element 'specialfields'. at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195) at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:131) at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:384) at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:318) at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:417) at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3182) at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processAttributes(XMLSchemaValidator.java:2659) at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2066) at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:705) at com.sun.org.apache.xerces.internal.jaxp.validation.DOMValidatorHelper.beginNode(DOMValidatorHelper.java:273) at com.sun.org.apache.xerces.internal.jaxp.validation.DOMValidatorHelper.validate(DOMValidatorHelper.java:240) at com.sun.org.apache.xerces.internal.jaxp.validation.DOMValidatorHelper.validate(DOMValidatorHelper.java:186) at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(ValidatorImpl.java:104) at javax.xml.validation.Validator.validate(Validator.java:127) Here's the start of the XML - generated after disabling the call to validator.validate(source): http://localhost:8080/integration/xsd/fqlResponseSchema-2.0.xsd " xmlns:xsi=" http://www.w3.org/2001/XMLSchema-instance ............. And of the XSD: http://www.w3.org/2001/XMLSchema " ................ So my root element is being rejected because it contains a xsi:noNamespaceSchemaLocation attribute.  And the schema itself does not specify that as a valid attribute of my root element? At this point it seems to me that I need to give up on dom4j for this task and switch to one of the other solutions, for example as outlined here: But I'd like to know what I've done wrong at any rate! Thanks in advance. Andy Newton</body>
  </mail>
  <mail>
    <header>[dom4j-user] [ANN]VTD-XML 2.10</header>
    <date>Sun Feb 27 01:36:00 CET 2011</date>
    <body>VTD-XML 2.10 is now released. It can be downloaded at https://sourceforge.net/projects/vtd-xml/files/vtd-xml/ximpleware_2.10/ . This release includes a number of new features and enhancement. * The core API of VTD-XML has been expanded. Users can now perform cut/paste/insert on an empty element. * This release also adds the support of deeper location cache support for parsing and indexing. This feature is useful for application performance tuning for processing various XML documents. * The java version also added support for processing zip and gzip files. Direct processing of httpURL based XML is enhanced. * Extended Java version now support Iso-8859-10~16 encoding. * A full featured C++ port is released. * C version of VTD-XML now make use of thread local storage to achieve thread safety for multi-threaded application. * There are also a number of bugs fixed. Special thanks to Jozef Aerts, John Sillers, Chris Tornau and a number of other users for input and suggestions</body>
  </mail>
  <mail>
    <header>Re: [dom4j-user] Using validator.validate(DOMSource) fails in java
 1.6 - xsi:noNamespaceSchemaLocation is not allowed to appear in root
 element? works in 1.5</header>
    <date>Mon Feb 28 21:07:00 CET 2011</date>
    <body>Hello, do you think this is a problem of dom4j? Try to save XML document from dom4j to file and parse it and validate with SAX parser, without dom4j - if the problem remains, it is a problem with parser, validator or yours XSD. Regards Filip Jirsák http://localhost:8080/integration/xsd/fqlResponseSchema-2.0.xsd " http://localhost:8080/integration/xsd/fqlResponseSchema-2.0.xsd " http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2001/XMLSchema " http://p.sf.net/sfu/splunk-dev2dev https://lists.sourceforge.net/lists/listinfo/dom4j-user</body>
  </mail>
  <mail>
    <header>[dom4j-user] Un message de Laurent t'attend...</header>
    <date>Fri Mar 25 03:42:00 CET 2011</date>
    <body>Un message de Laurent t'attend... L'expéditeur et le contenu seront visibles seulement par toi et tu peux le supprimer à tout moment. Tu peux aussi y répondre directement au travers du messenger. Pour découvrir qui est à l'origine du message, suis simplement ce lien: http://us1.badoo.com/01165679724/in/iFHqPj6pPno/?lang_id=6 D'autres personnes sont aussi présentes: Michael raad (Montreal, Canada) MiSs Coconut (Montreal, Canada) Sayef (Montreal, Canada) http://us1.badoo.com/01165679724/in/iFHqPj6pPno/?lang_id=6 Les liens ne fonctionnent pas dans ce message? Copie les dans la barre d'adresse de ton navigateur. Tu as reçu cet email suite à une requête de Laurent sur notre système. S'il s'agit d'une erreur, ignore simplement cet email. La requête sera alors effacée du système. Merci, L'équipe Badoo Courrier automatique de Badoo suite à l'envoi d'un message à ton attention sur Badoo. Les réponses ne sont ni stockées, ni traitées. Si tu ne veux plus recevoir de message de Badoo, fais-le nous savoir: http://us1.badoo.com/impersonation.phtml?lang_id=6&amp;amp;mail_code=21&amp;amp;email=dom4j-user%40lists.sourceforge.net&amp;amp;secret=&amp;amp;invite_id=609344&amp;amp;user_id=1165679724</body>
  </mail>
  <mail>
    <header>[dom4j-user] SAXReader read() freezes</header>
    <date>Fri Mar 04 20:07:00 CET 2011</date>
    <body>I tried to use the following code: xmlReader.setFeature( " http://apache.org/xml/features/validation/schema xmlReader .setProperty( " http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation ", The last line "xmlReader.read(f)" just don't return when I try to read non xml-formatted files. This files are supposed to be invalid, but it should return any type of error instead of just freezing. Any help will be appreciated. Kind Regards,</body>
  </mail>
  <mail>
    <header>[dom4j-user] Node.selectNodes()</header>
    <date>Wed May 04 13:08:00 CEST 2011</date>
    <body>Hello everyone, dom4j is a great tool. Especially after version 2.0. I was wondering why Node.selectNodes() returns List&amp;lt;? extends Node&amp;gt; instead It makes the code look ugly. -- (:</body>
  </mail>
  <mail>
    <header>[dom4j-user] Fwd: XMLWriter writes illegal characters</header>
    <date>Wed Oct 12 20:08:00 CEST 2011</date>
    <body>hello, i noticed that method protected String escapeElementEntities(String text) in XMLWriter incorrectly allows escaping nonprinting characters with ascii code thrown. the piece of code is: default: this obviously allows writing ascii chars less than 32. is this behavior intended? there a a few other people that have reported this issue(just a few, indeed) thanks, dan</body>
  </mail>
  <mail>
    <header>[dom4j-user] dom4j use for commercial use</header>
    <date>Mon Dec 26 02:47:00 CET 2011</date>
    <body>Hello, Our company develops information systems for our customers and some systems use open source softwares. And we embed dom4j in our systems. This use applies commercial use. When we use dom4j under the dom4j license, can we use dom4j for commercial use? If there are some problems, please reply me. Thanks, Masashi</body>
  </mail>
</mails>

